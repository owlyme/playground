(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[901],{26096:function(F,k,t){"use strict";var Z=t(30887),m=t(99210),n=t(62029),s=t(22385),h=t(31097),M=t(12924),i=t.n(M),y=t(71967),e=t.n(y),r=t(1164),a=o=>o.type==="more"?o.disabled?i().createElement(m.Z.Item,(0,n.Z)({},o,{key:o.key,disabled:!0}),o.tooltip?i().createElement(h.Z,{title:o.tooltip},i().createElement("p",{className:"cl-dropdown-menuitem"},o.title)):i().createElement("p",{className:"cl-dropdown-menuitem"},o.title)):o.link?i().createElement(m.Z.Item,(0,n.Z)({},o,{key:o.key}),i().createElement(r.Z,{to:o.link},i().createElement("p",{className:"cl-dropdown-menuitem"},o.title))):i().createElement(m.Z.Item,(0,n.Z)({},o,{key:o.key}),i().createElement("p",{className:"cl-dropdown-menuitem",onClick:o.click},o.title)):o.disabled?o.tooltip?i().createElement(i().Fragment,{key:o.key},i().createElement(h.Z,{title:o.tooltip},i().createElement("span",{className:"".concat(e().pointer," ").concat(e().disabled)},o.title))):i().createElement(i().Fragment,{key:o.key},i().createElement("span",{className:"".concat(e().pointer," ").concat(e().disabled)},o.title)):o.link?i().createElement(i().Fragment,{key:o.key},i().createElement(r.Z,{to:o.link},i().createElement("span",{className:"cl-pointer ".concat(e().pointer)},o.title))):i().createElement(i().Fragment,{key:o.key},i().createElement("span",{className:"cl-pointer ".concat(e().pointer),onClick:o.click},o.title));k.Z=a},87722:function(F,k,t){"use strict";var Z=t(62029),m=t(81211),n=t(14965),s=t(11448),h=t(12924),M=t.n(h),i=t(91768),y=t(78138),e=t.n(y),r=t(6793),a=t(37055),o=s.Z.RangePicker;class u extends M().Component{constructor(){super(...arguments);this.state={value:[]},this.handleChange=(c,g)=>{var T=this.props,A=T.onCustomChange,p=T.timestamp;if(!c||!c.length){this.setState({value:[]},()=>{A({startTime:null,endTime:null,value:c,dateStrings:g})});return}var v=this.props,C=v.startTimeFormatter,D=C===void 0?a.XE.INITIAL_DATE_FMT.PARAMS:C,B=v.endTimeFormatter,L=B===void 0?a.XE.INITIAL_DATE_FMT.PARAMS:B,S=p?c[0].valueOf():c[0].format(D),W=p?c[1].valueOf():c[1].format(L),N=(0,r.jZ)(g[0])>(0,r.jZ)(g[1]);N&&g.reverse(),this.setState({value:N?[c[1],c[0]]:c},()=>{A({startTime:S,endTime:W,value:c,dateStrings:g})})},this.clearTime=()=>{this.setState({value:[]})}}componentDidMount(){var c=this.props.defaultValue;if(c&&c[0]&&c[1]){var g=c.map(T=>e()(T));this.setState({value:g})}}UNSAFE_componentWillReceiveProps(c){if(c.defaultValue&&this.props.defaultValue&&(c.defaultValue[0]!==this.props.defaultValue[0]||c.defaultValue[1]!==this.props.defaultValue[1]))if(c.defaultValue[0]&&c.defaultValue[1]){var g=c.defaultValue.map(T=>e()(T));this.setState({value:g})}else this.setState({value:[]})}render(){var c=this.props,g=c.t,T=c.showTime,A=T===void 0?!0:T,p=c.disabledDate,v=c.noRange,C=c.ranges,D=c.customerShowTime,B=D===void 0?!1:D,L=(0,m.Z)(c,["t","showTime","disabledDate","noRange","ranges","customerShowTime"]),S=this.state.value,W=C&&JSON.stringify(C)!="{}"?C:{["".concat(g("component.lastWeek"))]:[e()().subtract("day",7),e()()],["".concat(g("component.lastMonth"))]:[e()().subtract("day",30),e()()],["".concat(g("component.lastThreeMonth"))]:[e()().subtract("month",3),e()()]};return M().createElement(o,(0,Z.Z)({value:S,showTime:A?B?A:{format:a.XE.INITIAL_TIME_FMT.VIEW,defaultValue:[e()("00:00:00","HH:mm:ss"),e()("23:59:59","HH:mm:ss")]}:!1,format:a.XE.INITIAL_DATE_FMT.PARAMS,ranges:v?{}:W,disabledDate:p||r.tI,onChange:this.handleChange},L))}}u.defaultProps={showTime:!0,disabledDate:null,noRange:!1,ranges:{},rest:{},timestamp:!1},k.Z=(0,i.Z)("translation",{withRef:!0})(u)},4408:function(F,k,t){"use strict";var Z=t(12924),m=t.n(Z),n=t(28216),s=t(17780),h=t(38642),M=y=>({userInfo:y.user}),i=y=>{var e=y.title;return(0,s.xX)()&&setTimeout(()=>{document.title=e},0),(0,Z.useEffect)(()=>{if(e&&document.title!==e&&setTimeout(()=>{document.title=e},0),(0,h.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[e]),m().createElement(m().Fragment,null)};i.defautProps={title:""},k.Z=(0,n.$j)(M)(i)},1164:function(F,k,t){"use strict";var Z=t(12924),m=t.n(Z),n=t(76651),s=t(38642),h=t(91302),M=i=>{var y=navigator.userAgent.toLocaleLowerCase(),e=localStorage.getItem("enterpriseId"),r=(0,s.lz)(e,i.projectType),a=localStorage.getItem("dingPersonnel"),o=h.bl.includes(a),u=i.target;function I(c){if(u==="self"&&(c.preventDefault(),n.m8.push(i.to)),o){if(i.projectType==="student"){window.location.href="".concat(r,"/").concat(i.to);return}n.m8.push(i.to);return}if(dd.version){c.preventDefault();var g="";i.to.includes("?")?g="".concat(r).concat(i.to,"&ddtab=true"):g="".concat(r).concat(i.to,"?ddtab=true"),dd.biz.util.openLink({url:g})}else y.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(i.to))}return m().createElement("a",{rel:"noreferrer",href:"".concat(i.projectType==="student"?"".concat(r).concat(i.to):"#".concat(i.to)),className:"".concat(i.wrapCls," cl-pointer"),target:y.indexOf("lark")!==-1||o?"_self":i.target||"_blank",onClick:I},i.children)};M.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},M.targetTo=i=>{var y=i.path,e=i.from,r=i.isExternalLink,a=r===void 0?!1:r,o=i.isAsync,u=o===void 0?!1:o,I=i.openName,c=I===void 0?"_blank":I,g=i.projectType,T=g===void 0?"manage":g,A=i.ddTab,p=A===void 0?!0:A,v,C=localStorage.getItem("dingPersonnel"),D=h.bl.includes(C),B=navigator.userAgent.toLocaleLowerCase(),L=localStorage.getItem("enterpriseId"),S=(0,s.lz)(L,T),W=localStorage.getItem("appType"),N=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var K="";if(v=a?"":S,D&&!a){if(T==="student"){window.location.href="".concat(S).concat(y);return}n.m8.push(y);return}y.includes("?")?K="".concat(v).concat(y,"&ddtab=").concat(p):K="".concat(v).concat(y,"?ddtab=").concat(p),dd.biz.util.openLink({url:K})}else if(B.indexOf("lark")!==-1)v=a?"":S,window.location.href="".concat(v).concat(y);else if(W==="wx_app"&&N&&a&&e==="imgText")v=a?"":T==="student"?"".concat(S):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(v).concat(y)});else if(v=a?"":T==="student"?"".concat(S):"#",u){var b=window.open("","_blank");setTimeout(()=>{b.location="".concat(v).concat(y)},100)}else window.open("".concat(v).concat(y),c)},k.Z=M},36202:function(F,k,t){"use strict";t.d(k,{f:function(){return A}});var Z=t(62029),m=t(57361),n=t(33565),s=t(9754),h=t.n(s),M=t(12924),i=t.n(M),y=t(28175),e=t(41647),r=t(93485);function a(p){var v={};if(p.length===0)return v;var C=(0,r.Z)(p),D;try{for(C.s();!(D=C.n()).done;){var B=D.value,L=B,S=L.field,W=L.fixed,N=L.order,K=L.show;K?K==="true"||K===!0?v[S]={fixed:W,order:N,show:!0}:v[S]={fixed:W,order:N,show:!1}:v[S]={fixed:W,order:N,show:!0}}}catch(b){C.e(b)}finally{C.f()}return v}function o(p){var v=[],C=Object.entries(p);if(C.length===0)return v;for(var D=0,B=C;D<B.length;D++){var L=B[D],S=(0,n.Z)(L,2),W=S[0],N=S[1],K=N.fixed,b=N.order,H=N.show;v.push({field:W,show:H,fixed:K,order:b})}return v}var u=t(38642),I=(p,v)=>{var C=(0,M.useState)(p),D=(0,n.Z)(C,2),B=D[0],L=D[1];return(0,M.useEffect)(()=>{var S=setTimeout(()=>{L(p)},v);return()=>{clearTimeout(S)}},[p,v]),B},c=I;function g(p,v){var C=useRef(v);useEffect(()=>{C.current=v},[v]),useEffect(()=>{var D=B=>{var L,S;console.warn(p.current,"node.current",B.target),!((L=(S=p.current)===null||S===void 0?void 0:S.contains(B.target))!==null&&L!==void 0?L:!1)&&C.current&&C.current()};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[p])}var T=!1;function A(p){var v=(0,M.useState)({}),C=(0,n.Z)(v,2),D=C[0],B=C[1],L=p.prefixCls,S=p.rowKey,W=p.columnEmptyText,N=p.pagination,K=p.headerTitle,b=p.toolBarRender,H=p.size,V=p.loading,q=V===void 0?!1:V,Q=p.tableUUID;Q||console.error("tableUUID is required!!!"),(0,M.useEffect)(()=>{function l(R){return x.apply(this,arguments)}function x(){return x=(0,m.Z)(h().mark(function R(P){var f,d,E,_,O,U,j,z;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,u.Kb)((0,e.U)(P));case 2:if(f=$.sent,d=(0,n.Z)(f,2),E=d[0],_=d[1],!E){$.next=8;break}return $.abrupt("return");case 8:O=_.data,U=O.data,j=U.fields,z=a(j)||{},z&&(T=!1,B(z));case 13:case"end":return $.stop()}},R)})),x.apply(this,arguments)}return Q&&l(Q),()=>{T=!1}},[Q]);var w=c(D,1e3);(0,M.useEffect)(()=>{!T||(0,e.I)(Q,o(D))},[w]);function G(l){T=!0,B(l)}return i().createElement("div",{className:"SampleProTable_container ".concat(p.className)},i().createElement(y.ZP,(0,Z.Z)({size:H||"middle",rowKey:S||"id",columnEmptyText:W||!1,pagination:N||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:q,headerTitle:K||"",toolBarRender:b||null,columnsStateMap:D,onColumnsStateChange:G},p,{className:"".concat(L,"-table")})))}},41647:function(F,k,t){"use strict";t.d(k,{I:function(){return n},U:function(){return s}});var Z=t(37055),m=t(10237);function n(h){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=Z.ZP.tableHeader.save(),y={fields:M,key:h};return m.WY.post({url:i,data:y})}function s(h){var M=Z.ZP.tableHeader.get(h);return m.WY.get({url:M})}},16598:function(F,k,t){"use strict";var Z=t(59250),m=t(13013),n=t(30887),s=t(99210),h=t(62029),M=t(12924),i=t.n(M),y=t(57254),e=t(91768),r=t(26096),a=(u,I)=>{var c=u.map(g=>i().createElement(r.Z,(0,h.Z)({},g,{type:I,key:g.key||g.type})));return I==="more"?i().createElement(s.Z,null,c):c},o=u=>{var I=u.buttons,c=u.t,g=u.visibleNum,T=I.filter(C=>C.visible),A=g||1,p=[],v=[];if(T.length<=A)v=[...T];else if(T.length>A)v=[...T.slice(0,A)],p=[...T.slice(A)];else return"/";return i().createElement("div",{className:"cl-table__cell-action"},a(v),v.some(C=>C.visible)&&p.some(C=>C.visible)?i().createElement(i().Fragment,null,i().createElement("span",{className:"cl-pointer-divide"}),i().createElement(m.Z,{overlay:a(p,"more")},i().createElement("span",{className:"cl-pointer"},c("common.more")," ",i().createElement(y.Z,null)))):null)};o.defaultProps={visibleNum:1},k.Z=(0,e.Z)()(o)},98417:function(F,k,t){"use strict";var Z=t(62029),m=t(57663),n=t(71577),s=t(34792),h=t(48086),M=t(34669),i=t(82833),y=t(22385),e=t(31097),r=t(12924),a=t.n(r),o=t(91768),u=t(90631),I=t(28216),c=t(27361),g=t.n(c),T=t(78138),A=t.n(T),p=t(27326),v=t.n(p),C=t(61120),D=t.n(C),B=t(18329),L=t(38642),S=t(31457),W=t(6793),N=t(37055),K=t(5430),b=t(10237),H=t(84874),V=w=>{var G=w.user;return{enterpriseId:G.enterpriseId}},q={size:"medium",destroyOnClose:!0,bodyStyle:{overflowY:"auto",padding:0},maskClosable:!1};class Q extends a().Component{constructor(G){super(G);this.getTaskInfo=()=>{var l=this.props,x=l.userId,R=l.taskId,P=l.studyType,f=P===void 0?"":P,d=this.state.whiteList,E=d.zaraFlag?N.ZP.TaskStudyRecord.getCustomTaskInfo(R):N.ZP.TaskStudyRecord.getTaskInfo(R),_=d.zaraFlag?N.ZP.StudyProjectList.studyCustomRecord(R):N.ZP.StudyProjectList.studyRecord(R),O=f==="project"?_:E,U={user_id:x};b.WY.get({url:O,params:U}).then(j=>{this.setState({taskInfo:f==="project"?this.compileData(j.data):j.data.data})})},this.compileData=l=>{var x=this.props.from,R=x===void 0?"":x;return l.map(P=>{var f=P.resources.map(d=>R==="self_study"&&d.type===14?{}:{type:this.getResourceType(d),iconType:this.getResourceIcon(d),title:String(d.type)!=="14"&&String(d.courseType)!=="14"?d.resource_name:d.evaluate.name,courseType:d.courseType,studyProgress:d.study_progress,biz_type:d.biz_type||"",updateTime:d.update_time,resource_quiz_vo:{},live_lesson:d.type===16?d.live_lesson:{},offLineCourseSingVo:d.type===7||d.type===13?d.offLineCourseSingVo:{},courseInfo:d.type===1&&d.biz_type!=="micro_course"?d.resources.map(E=>({type:this.getResourceType(E),iconType:this.getResourceIcon(d),title:E.resource_name,studyProgress:E.study_progress,resource_quiz_vo:E.resource_quiz_vo||{}})):[]});return{stageName:P.stage_name,courseInfo:f.filter(d=>Object.keys(d).length>0)}})},this.getResourceIcon=l=>{var x=l.type;switch(x){case 1:return"icon-kecheng2";case 2:case 3:return"icon-sucai";case 6:return"icon-kaoshi2";case 7:return"icon-xianxiake1";case 9:return"icon-tiaoyan";case 10:return"icon-shicaozuoye";case 11:return"icon-gangweiceping1";case 12:return"icon-fudao";case 13:return"icon-kaoqin";case 14:return"icon-tuiguang";case 15:return"icon-kaoshi2";case 16:return"icon-zhiboke";case 17:return"icon-lianxi1";default:return"icon-kecheng2"}},this.getResourceType=l=>{var x=l.type,R=l.content_type,P=l.biz_type;switch(x){case 1:return P==="micro_course"?"wei":"crs";case 2:return R;case 3:return R;case 6:return"ex";case 7:return"xx";case 9:return"questionnaire";case 13:return"attendance";case 15:return"ex";case 16:return"liveClass";case 17:return"practice";default:return R}},this.handleCancel=()=>{var l=this.props.onCancel;l&&this.props.onCancel()},this.renderTutorStatus=l=>{var x=this.props.t;return l.tutorialsStatus==="no_tutor"?x("tutorial.noSelectTutor"):l.tutorialsStatus==="to_be_submitted"?x("tutorial.waitSubmitTutor"):l.tutorialsStatus==="to_be_evaluated"?x("tutorial.waitEvaluate"):l.tutorialsStatus==="evaluated"?"".concat(x("tutorial.haveEvaluation")," ").concat(l.score).concat(x("common.examScoreUnit")):""},this.renderTitle=l=>l.type==="tutor"?l.courseName:l.type==="xx"?g()(l.offLineCourseSingVo,"title",""):l.title,this.renderResourceItem=(l,x)=>{var R=this.props.t;return l.type==="practice"?null:a().createElement("div",{className:"stage-item-resource",key:x},a().createElement("span",{className:"stage-item-resource-icon"},a().createElement(H.Z,{iconClass:l.iconType,size:"16px"})),a().createElement("span",{className:"stage-item-resource-title"},a().createElement("span",{className:"stage-item-resource-title-name"},a().createElement(e.Z,{title:this.renderTitle(l)},this.renderTitle(l))),l.studyProgress>0?a().createElement("span",{className:"stage-item-resource-time"},"(",(0,W.p6)(l.updateTime,"yyyy.MM.dd hh:mm"),R("component.update"),")"):null),a().createElement("span",{className:"stage-item-resource-progress"},l.type==="tutor"?this.renderTutorStatus(l):a().createElement(i.Z,{percent:+l.studyProgress,size:"small",status:l.studyProgress>=100?"success":"normal",strokeColor:l.studyProgress>=100?"#58D28B":""})),l.courseInfo&&l.courseInfo.length>0?a().createElement("div",{className:"stage-item-resource-course course-resource"},l.courseInfo.map((P,f)=>a().createElement("div",{className:"course-resource-item",key:f},a().createElement("span",{className:"course-resource-item-icon"}),a().createElement("span",{className:"course-resource-item-title"},P.title),a().createElement("span",{className:"course-resource-item-progress"},a().createElement(i.Z,{percent:+P.studyProgress,size:"small",status:P.studyProgress>=100?"success":"normal",strokeColor:P.studyProgress>=100?"#58D28B":""})),P.resource_quiz_vo.question_count>0?a().createElement("div",{className:"course-resource-item-test"},R("component.InClassTest"),a().createElement("span",null,P.resource_quiz_vo.answer_record_count>0?R("component.tookPart"):R("component.NotAttending"))):null))):null,l.courseType===7?a().createElement("div",{className:"stage-item-resource-offline"},a().createElement("div",{className:"offline-info-item"},R("component.offlineAddress"),"\uFF1A",g()(l.offLineCourseSingVo,"address","")||R("component.noLabel")),g()(l.offLineCourseSingVo,"signRecordDetailList",[]).map((P,f)=>a().createElement("div",{className:"offline-record-info-item-row",key:f},a().createElement("div",null,a().createElement("span",null,R("lineClass.attendanceName"),"\uFF1A"),a().createElement("span",null,P.signName)),P.signInConfigExist?a().createElement("div",null,a().createElement("span",null,R("personal.checkInTime"),"\uFF1A"),a().createElement("span",null,"".concat(P.signInTime?A()(P.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(P.signInStatusDesc||""))):null,P.signOutConfigExist?a().createElement("div",null,a().createElement("span",null,R("lineClass.signBack"),"\uFF1A"),a().createElement("span",null,"".concat(P.signOutTime?A()(P.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(P.signOutStatusDesc||""))):a().createElement("div",null)))):null,l.courseType===13?a().createElement("div",{className:"stage-item-resource-offline"},g()(l.offLineCourseSingVo,"signRecordDetailList",[]).map((P,f)=>a().createElement("div",{className:"offline-record-info-item-row",key:f},a().createElement("div",null,a().createElement("span",null,R("lineClass.attendanceName"),"\uFF1A"),a().createElement("span",null,P.signName)),P.signInConfigExist?a().createElement("div",null,a().createElement("span",null,R("personal.checkInTime"),"\uFF1A"),a().createElement("span",null,"".concat(P.signInTime?A()(P.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(P.signInStatusDesc||""))):null,P.signOutConfigExist?a().createElement("div",null,a().createElement("span",null,R("lineClass.signBack"),"\uFF1A"),a().createElement("span",null,"".concat(P.signOutTime?A()(P.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(P.signOutStatusDesc||""))):a().createElement("div",null)))):null,l.courseType===16?a().createElement("div",{className:"stage-item-resource-offline"},a().createElement("div",{className:"liveClass-record-info-item-row",key:x},a().createElement("div",null,a().createElement("span",null,R("component.lecturer"),"\uFF1A"),a().createElement("span",null,l.live_lesson.teacher_name)),l.live_lesson.live_start_time?a().createElement("div",null,a().createElement("span",null,R("live.liveTime"),"\uFF1A"),a().createElement("span",null,l.live_lesson.live_start_time&&l.live_lesson.live_end_time===0?A()(l.live_lesson.live_start_time*1).format("YYYY-MM-DD HH:mm"):""),a().createElement("span",null,l.live_lesson.live_start_time&&l.live_lesson.live_end_time!==0?(0,L.yM)(l.live_lesson.live_start_time,l.live_lesson.live_end_time):"")):"--")):null)},this.changeProgressSvg=l=>{l.length>0&&l.forEach(x=>{var R=x.getElementsByTagName("svg")[0];R&&(R.parentNode.display="none",R.parentNode.innerHTML='<span class="item-right-complete">100%</span>')})},this.changeStyle=(l,x,R)=>{l&&l.length!==0&&l.forEach(P=>{P.style[x]=R})},this.exportFile=()=>{var l=this.props,x=l.taskId,R=l.userId,P=l.studyType,f=N.ZP.StudyProjectList.getExportRecord(x),d=K.lk.getExportRecord(x),E=P==="project"?d:f;this.setState({download:!0});var _={user_id:R};b.WY.get({url:E,params:_}).then(O=>{this.setState({download:!1}),O.data.code===200&&((0,S.Pp)(this.props),h.default.success(this.props.t("study.compoundSucceed")))}).catch(()=>{this.setState({download:!1})})},this.getFirstElementChild=l=>{if(l.firstElementChild!==void 0)return l.firstElementChild;for(var x=l.firstChild;x&&x.nodeType!==1;)x=x.nextSibling;return x},this.getLastElementChild=l=>{if(l.lastElementChild!==void 0)return l.lastElementChild;for(var x=l.lastChild;x&&x.nodeType!==1;)x=x.previousSibling;return x},this.exportPdf=l=>{var x=this.props,R=x.mainTaskInfo,P=x.studyType;this.setState({downloadPdf:!0}),h.default.warn(this.props.t("common.pdfDowning"));var f=(0,W.p6)(new Date,"yyyy-MM-dd hh:mm:ss"),d=document.getElementsByClassName("ant-modal-content")[0];d.style.overflowX="hidden";var E=document.createElement("div");E.className="taskstudy-record extra-record",E.scrollTop=0;var _=document.getElementsByClassName("taskstudy-record")[0],O;_?(O=_.cloneNode(!0),O.className="extra-no-style"):(O=document.createElement("div"),O.className="extra-no-style");var U=O.getElementsByClassName("taskstudy-record-item");this.changeStyle(U,"borderTop",0);var j=O.getElementsByClassName("stage-item-title");this.changeStyle(j,"fontSize","13px");var z=O.getElementsByClassName("stage-item-resource-icon"),X=O.getElementsByClassName("course-resource-item-icon");this.changeStyle(z,"marginRight","0"),this.changeStyle(X,"marginRight","0");var $=O.getElementsByClassName("stage-item-resource-title"),ee=O.getElementsByClassName("course-resource-item-title");this.changeStyle($,"fontSize","13px"),this.changeStyle(ee,"fontSize","13px");var te=O.getElementsByClassName("stage-item-resource");this.changeStyle(te,"padding","20px 0"),this.changeStyle(te,"borderBottom","0.5px solid #8C8C8C");var Y=O.getElementsByClassName("stage-item-resource-offline");this.changeStyle(Y,"paddingTop","10px");var re=this.getLastElementChild(this.getLastElementChild(O));re.style.paddingBottom="90px";var se=this.getFirstElementChild(O),oe=document.createElement("h1");oe.innerHTML=window.localStorage.getItem("enterpriseName"),O.insertBefore(oe,se);var ie=document.createElement("table");ie.className="stage-item-table",ie.innerHTML=`<tbody>
      <tr>
        <td>\u59D3\u540D</td>
        <td colspan="3">`.concat(l.userName||"",`</td>
      </tr>
      <tr>
        <td>\u6240\u5C5E\u90E8\u95E8</td>
        <td> `).concat(l.departName.replace(/,/g," | ")||"",`</td>
        <td>\u6240\u5C5E\u5C97\u4F4D</td>
        <td>`).concat(l.postNameList?l.postNameList.join(" | "):"",`</td>
      </tr>
    </tbody>`),O.insertBefore(ie,se);var le=document.createElement("div");le.className="stage-item-bottom",le.innerHTML=`<div class="item-bottom-left">
        \u64CD\u4F5C\u4EBA\uFF1A`.concat(window.localStorage.getItem("name"),`
    </div>
    <div class="item-bottom-right">
      <span>
          \u5BFC\u51FA\u9879\u76EE\uFF1A\u5B66\u4E60\u8BB0\u5F55
      </span>
      <span>
          \u5BFC\u51FA\u65F6\u95F4\uFF1A`).concat(f,`
      </span>
    </div>`),O.appendChild(le);var ue=O.getElementsByClassName("stage-item-resource-progress"),me=O.getElementsByClassName("course-resource-item-progress"),ve=O.getElementsByClassName("ant-progress-inner"),_e=O.getElementsByClassName("ant-progress-text");this.changeStyle(ue,"width","230px"),this.changeStyle(me,"width","230px"),this.changeStyle(ve,"background","#ebebeb"),this.changeStyle(_e,"color","#000000"),this.changeProgressSvg(ue),this.changeProgressSvg(me);var he=O.querySelectorAll("svg");he.length>0&&he.forEach(J=>{J.style.display="none"}),E.appendChild(O),d.appendChild(E),D()(O,{allowTaint:!0,scale:3}).then(J=>{for(var ce=new(v())("p","mm","a4"),Ee=J.getContext("2d"),pe=190,ge=277,de=Math.floor(ge*J.width/pe),ae=0;ae<J.height;){var ne=document.createElement("canvas");ne.width=J.width,ne.height=Math.min(de,J.height-ae),ne.getContext("2d").putImageData(Ee.getImageData(0,ae,J.width,Math.min(de,J.height-ae)),0,0),ce.addImage(ne.toDataURL("image/jpeg",1),"JPEG",10,10,pe,Math.min(ge,pe*ne.height/ne.width)),ae+=de,ae<J.height&&ce.addPage()}ce.save("".concat(l.userName||"\u59D3\u540D","_").concat(P==="project"?R.title:R.trainName||"\u540D\u79F0","_\u5B66\u4E60\u8BB0\u5F55.pdf")),d.removeChild(E),this.setState({downloadPdf:!1})})},this.compileRecord=l=>({userName:l.user_name,departName:l.department_name,postNameList:[]}),this.generateButton=()=>{var l=this.props,x=l.t,R=l.record,P=l.studyType,f=this.state.whiteList,d=f.generatePdf,E=P==="project"?this.compileRecord(R):R;return d?a().createElement(r.Fragment,null,a().createElement(n.Z,{type:"primary",loading:this.state.downloadPdf,icon:a().createElement(u.Z,null),onClick:()=>this.exportPdf(E)},x("common.generatePdf")),P!=="project"&&a().createElement(n.Z,{type:"primary",loading:this.state.download,icon:a().createElement(u.Z,null),onClick:()=>this.exportFile()},x("exam.exportQuestion"),"EXCEL")):a().createElement(n.Z,{type:"primary",loading:this.state.download,icon:a().createElement(u.Z,null),onClick:()=>this.exportFile()},x("exam.exportQuestion"),"EXCEL")},this.footerButton=()=>a().createElement(n.Z,{onClick:()=>this.handleCancel()},this.props.t("common.unactivated")),this.state={taskInfo:[],download:!1,whiteList:{generatePdf:(0,L.UI)("GENERATE_PDF"),zaraFlag:(0,L.UI)("ZARA_H5")}}}componentDidUpdate(G){G.visible!==this.props.visible&&this.props.visible&&this.getTaskInfo()}render(){var G=this.state.taskInfo,l=this.props,x=l.t,R=l.generatePdf;return a().createElement(B.ZP,(0,Z.Z)({},q,{footer:R?this.generateButton():this.footerButton(),visible:this.props.visible,title:x("common.studyRecord"),onCancel:this.handleCancel}),a().createElement("div",{className:"taskstudy-record"},G.map((P,f)=>!P.courseInfo||P.courseInfo.length===0?null:a().createElement("div",{key:f,className:"taskstudy-record-item stage-item"},a().createElement("div",{className:"stage-item-title"},P.stageName),P.courseInfo.map((d,E)=>this.renderResourceItem(d,E))))))}}Q.defaultProps={visible:!1,userId:"",taskId:"",studyType:"",onCancel:()=>{}},k.Z=(0,I.$j)(V)((0,o.Z)()(Q))},80430:function(F,k,t){"use strict";var Z=t(12924),m=t.n(Z),n=t(60667),s=h=>{var M=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},u=o.department_ids.split("/"),I=o.department_names.split("/"),c=u.map((g,T)=>m().createElement(n.Z,{key:g,dataType:"departmentName",value:g,name:I[T],type:o.source_type}));return m().createElement(m().Fragment,null,c.map((g,T)=>m().createElement("span",{key:g},g,T===I.length-1?"":"/")))},i=a=>m().createElement(n.Z,{dataType:"departmentName",value:a.department_id,name:a.department_name,type:a.source_type}),y=()=>{var a=h.list,o=a===void 0?[]:a,u=h.isBlock;if(!o.length)return null;var I=o.map(c=>M(c));return I.length&&I.length>1?m().createElement(m().Fragment,null,I.map((c,g)=>u?m().createElement("div",{key:c},c):m().createElement("span",{key:c},c,g===I.length-1?"":"\uFF0C"))):m().createElement(m().Fragment,null,I[0]||"")},e=()=>{var a=h.list,o=h.nameList,u=h.sourceType,I=h.isBlock,c=a.map((g,T)=>i({department_id:g,department_name:o[T],source_type:u}));return m().createElement(m().Fragment,null,c.map((g,T)=>I?m().createElement("div",{key:g},g):m().createElement("span",{key:g},g,T===c.length-1?"":"\uFF0C")))},r=()=>h.displayAll?y():e();return r()};s.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},k.Z=s},60667:function(F,k,t){"use strict";t.d(k,{Z:function(){return y}});var Z=t(33565),m=t(12924),n=t.n(m),s=t(28216);function h(e){var r=e.type,a=e.openid,o=e.from,u=(0,m.useRef)(null);return(0,m.useLayoutEffect)(()=>{o==="vue"?window.parent.WWOpenData.bind(u.current):WWOpenData.bind(u.current)}),n().createElement("ww-open-data",{ref:u,type:r,openid:a})}var M=e=>{var r=e.wxWorkApiFlag,a=e.appType,o=e.from,u=(0,m.useState)(!1),I=(0,Z.Z)(u,2),c=I[0],g=I[1];(0,m.useEffect)(()=>{var p=localStorage.getItem("qyWechatBook");(a!=="wx_app"||r||p==="false"||o==="vue"||o==="taro")&&g(!0)},[r,a,o]);var T=(0,m.useCallback)(()=>{var p=e.type,v=e.value,C=e.name,D=C===void 0?"":C;switch(console.warn(e,"props"),p){case"wx_sync":{var B=e.dataType;return v?n().createElement(h,{from:o,type:B,openid:v}):D}default:return D}},[e]),A=()=>{var p=e.name,v=e.dataType,C=localStorage.getItem("qyWechatBook");if(v===""||C==="false")return p;if(o==="vue"||o==="taro")return T();switch(e.appType){case"wx_app":return T();default:return p}};return c?A():e.name};M.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var i=e=>({appType:e.user.appType,wxWorkApiFlag:e.user.wxWorkApiFlag}),y=(0,s.$j)(i)(M)},48479:function(F,k,t){"use strict";var Z=t(62029),m=t(57361),n=t(47673),s=t(4107),h=t(9754),M=t.n(h),i=t(12924),y=t.n(i),e=t(91768),r=t(94184),a=t.n(r),o=t(28216),u=t(84874),I=t(67222),c=t(2396),g=s.Z.Search;class T extends y().Component{constructor(p){var v;super(p);v=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>y().createElement(u.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var C=(0,m.Z)(M().mark(function D(B){var L,S,W,N,K,b,H,V,q;return M().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(L=v.props,S=L.appType,W=L.exChange,N=L.appId,K=localStorage.getItem("qyWechatBook"),b="",H=S==="wx_app"&&K==="true"&&W&&N==="9005",!(B&&H)){w.next=17;break}return w.prev=5,w.next=8,(0,I.F_)(B);case 8:V=w.sent,q=V.data,q.success?b=q.data:b="",w.next=17;break;case 13:w.prev=13,w.t0=w.catch(5),console.error(w.t0),b="";case 17:v.props.onSearch(B,b);case 18:case"end":return w.stop()}},D,null,[[5,13]])}));return function(D){return C.apply(this,arguments)}}(),this.handleChange=C=>{var D=C.target.value,B=C.type,L=D;this.props.LimitLength&&(0,c.$s)(D)>this.props.LimitLength&&(L=D.substring(0,(0,c.rw)(D,this.props.LimitLength))),this.setState({searchValue:L});var S=!1;this.props.onSearch&&(B==="click"&&(S=!0),this.props.immediate&&B==="change"&&(S=!0)),S&&this.handleSearch(D)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(p){p.onRef&&p.onRef(this)}render(){var p=this.state.searchValue,v=this.props,C=v.prefixCls,D=v.placeholder,B=v.width,L=v.maxLength,S=L===void 0?400:L,W=v.height,N=v.immediate,K=v.value,b=a()(["".concat(C)]),H={width:B,height:W},V={};return K&&(V.value=K),y().createElement(g,(0,Z.Z)({className:b,style:H,value:p,placeholder:D,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:S,allowClear:!0,defaultValue:K,immediate:N.toString()},V))}}T.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},k.Z=(0,o.$j)(A=>({appType:A.user.appType,appId:A.user.appId}))((0,e.Z)()(T))},59857:function(F,k,t){"use strict";var Z=t(22385),m=t(31097),n=t(12924),s=t.n(n);class h extends s().Component{render(){var i=this.props,y=i.name,e=i.full_name,r=i.maxWidth;return s().createElement(m.Z,{title:e},s().createElement("span",{className:"component-resource-category",style:{maxWidth:r||"160px"}},y))}}k.Z=h},26618:function(F,k,t){"use strict";var Z=t(57663),m=t(71577),n=t(12924),s=t.n(n),h=t(91768),M=t(84391),i=t(28216),y=r=>({qyShield:r.user.qyShield});class e extends s().Component{constructor(){super(...arguments);this.handleExport=()=>{this.props.onExport()},this.renderActionBtn=()=>{var a=this.props,o=a.t,u=a.renderActionBtn;return u&&typeof u=="function"?s().createElement("div",{className:"export"},u()):s().createElement("div",{className:"export"},s().createElement(m.Z,{type:"primary",onClick:this.handleExport},s().createElement(M.Z,null)," ",o("common.exportData")))}}render(){return s().createElement("section",{className:"summary__queryrow__left"},this.renderActionBtn())}}k.Z=(0,i.$j)(y)((0,h.Z)()(e))},11877:function(F,k,t){"use strict";var Z=t(12924),m=t.n(Z),n=t(91768),s=t(48479);class h extends m().Component{constructor(){super(...arguments);this.handleSearch=(i,y)=>{this.props.handleSearch(i,y)},this.renderSearch=()=>{var i=this.props,y=i.showSearch,e=i.t;if(!!y)return m().createElement("div",{className:"search"},m().createElement(s.Z,{onSearch:this.handleSearch,width:"272px",placeholder:e("searchInputPlaceholder.userName")}))}}render(){return m().createElement("section",{className:"summary__queryrow__right"},this.renderSearch())}}k.Z=(0,n.Z)()(h)},37228:function(F,k,t){"use strict";var Z=t(43358),m=t(34041),n=t(12924),s=t.n(n),h=t(91768),M=t(87722),i=m.Z.Option;class y extends s().Component{constructor(){super(...arguments);this.onChangeType=r=>{this.props.onChangeType(r)},this.handleTimeRange=r=>{var a=r.dateStrings;if(!a.filter(u=>u).length){this.props.onChangeDataRange({startTime:"",endTime:""});return}var o={startTime:a[0],endTime:a[1]};this.props.onChangeDataRange(o)},this.renderRangeDate=()=>{var r=this.props,a=r.showRangePicker,o=r.defaultValue;if(!!a)return s().createElement("div",{className:"rangePicker cl-search-normal-width"},s().createElement(M.Z,{defaultValue:o,className:"cl-search-normal-width",format:"YYYY-MM-DD",onCustomChange:this.handleTimeRange,showTime:!1}))},this.renderSelect=()=>{var r=this.props,a=r.typeOptions,o=r.showSelect,u=r.defaultValue,I=localStorage.getItem("isAdmin");return!o||I==="false"||I===!1?null:s().createElement("div",{className:"select"},s().createElement(m.Z,{defaultValue:u||a[0].id,className:"cl-search-normal-width",onChange:this.onChangeType},a.map(c=>s().createElement(i,{value:c.id,key:c.id},c.name))))}}render(){var r=this.props,a=r.showRangePicker,o=r.showSelect;return s().createElement(s().Fragment,null,a||o?s().createElement("div",{className:"summary__queryrow_select"},this.renderRangeDate(),this.renderSelect()):"")}}y.defaultProps={showSelect:!0},k.Z=(0,h.Z)()(y)},65520:function(F,k,t){"use strict";var Z=t(22385),m=t(31097),n=t(12924),s=t.n(n),h=t(91768),M=t(60667),i=t(80430),y=e=>{var r=e.userInfo,a=e.type,o=s().createElement(s().Fragment,null,r.user_info?s().createElement(i.Z,{displayAll:!0,list:r.user_info.department_info}):r.department_names||r.departmentName);return s().createElement("div",{className:"summary-page__title"},s().createElement("div",{className:"info"},s().createElement("img",{src:r.avatar||"".concat("https://oss.coolcollege.cn","/1790874675023319040.png")}),s().createElement("div",{className:"info-content"},s().createElement("div",{className:"identityInfo"},s().createElement("span",{className:"name"},r.user_info?s().createElement(M.Z,{dataType:"userName",value:r.user_info.userId,name:r.user_info.name,type:r.user_info.sourceType}):r.name),r.identityId&&s().createElement("span",{className:"identityId"},s().createElement("span",{className:"identityInfo_label"},"\u8EAB\u4EFD\u8BC1 : "),r.identityId),r.phoneNumber&&s().createElement("span",{className:"phoneNumber"},s().createElement("span",{className:"identityInfo_label"},"\u624B\u673A : "),r.phoneNumber)),s().createElement("div",{className:"deptAndPost"},s().createElement(m.Z,{title:o},s().createElement("span",{className:"postName-more"},o)),r.post_names||r.postName?s().createElement(m.Z,{title:r.post_names||r.postName},s().createElement("span",{className:"postName"},r.post_names||r.postName)):null))),a==="task"?s().createElement("ul",null,s().createElement("li",null,s().createElement("span",null,r.completionRate,"%"),s().createElement("b",null,e.t("common.completionRate"))),s().createElement("li",null,s().createElement("span",null,r.overdueRate,"%"),s().createElement("b",null,e.t("common.overdueRate"))),s().createElement("li",null,s().createElement("span",null,r.studyScore),s().createElement("b",null,e.t("common.credit"))),s().createElement("li",null,s().createElement("span",null,r.certificateCount),s().createElement("b",null,e.t("common.certificate")))):a==="course"?s().createElement("ul",null,s().createElement("li",null,s().createElement("span",null,r.finished_count),s().createElement("b",null,e.t("common.completed"))),s().createElement("li",null,s().createElement("span",null,r.studying_count),s().createElement("b",null,e.t("common.ongoing"))),s().createElement("li",null,s().createElement("span",null,r.score),s().createElement("b",null,e.t("common.credit")))):s().createElement("ul",null,s().createElement("li",null,s().createElement("span",null,r.studying_count),s().createElement("b",null,e.t("common.ongoing"))),s().createElement("li",null,s().createElement("span",null,r.approving_count),s().createElement("b",null,e.t("common.pending"))),s().createElement("li",null,s().createElement("span",null,r.finished_count),s().createElement("b",null,e.t("common.completed"))),s().createElement("li",null,s().createElement("span",null,r.certificate_count),s().createElement("b",null,e.t("common.certificate")))))};k.Z=(0,h.Z)()(y)},23460:function(F,k,t){"use strict";t.r(k),t.d(k,{default:function(){return R}});var Z=t(62029),m=t(57361),n=t(71194),s=t(57016),h=t(88986),M=t(9754),i=t.n(M),y=t(12924),e=t.n(y),r=t(28216),a=t(91768),o=t(57068),u=t(76651),I=t(50361),c=t.n(I),g=t(65520),T=t(37228),A=t(26618),p=t(11877),v=t(14781),C=t(53431),D=t(37055),B=t(38642),L=t(36202),S=t(59857),W=t(1164),N=t(16598);class K extends e().Component{constructor(){super(...arguments);this.state={tableHeight:window.screen.height-490,columns:[]},this.createColumns=f=>{var d=[{title:this.props.t("employeeSummary.projectName"),dataIndex:"planName",key:"planName",fixed:"left",width:227,onCell:()=>({style:{minWidth:227}})},{title:this.props.t("learning.learningProjectAddCategoryed"),key:"classify_name",width:164,render:(E,_)=>e().createElement(S.Z,{name:_.classify_name,full_name:_.classifyPathName})},{title:this.props.t("common.beginTime"),dataIndex:"userTrainBeginTime",key:"userTrainBeginTime",width:164,render:E=>E||"--"},{title:this.props.t("common.endTime"),dataIndex:"userTrainEndTime",key:"userTrainEndTime",width:164,render:E=>E||"--"}].concat((f?[{title:this.props.t("personal.checkInTime"),dataIndex:"userTrainBeginTime",key:"userTrainBeginTime",width:164,render:E=>E||"--"}]:[]).concat([{title:this.props.t("employeeSummary.projectDeadline"),dataIndex:"taskTerm",key:"taskTerm",width:this.props.lng==="en_us"?160:110},{title:this.props.t("employeeSummary.projectType"),dataIndex:"taskType",key:"taskType",width:this.props.lng==="en_us"?160:100},{title:this.props.t("employeeSummary.ProgressOrGrade"),dataIndex:"progressOrScore",key:"progressOrScore",width:this.props.lng==="en_us"?140:100},{title:this.props.t("common.status"),dataIndex:"statusName",key:"statusName",width:88},{title:this.props.t("common.certificate"),dataIndex:"certificateName",key:"certificateName",width:120,onCell:()=>({style:{minWidth:120}})},{title:this.props.t("common.credit"),dataIndex:"studyScoreStr",key:"studyScoreStr",width:70},{title:this.props.t("common.studyDuration"),dataIndex:"studyDurationStr",key:"studyDurationStr",width:110,render:E=>E||"--"},{title:this.props.t("learning.learningOfflineTrainDuration"),dataIndex:"offlineTrainDurationStr",key:"offlineTrainDurationStr",width:110,render:E=>E||"--"},{title:this.props.t("common.periodCount"),dataIndex:"classHour",key:"classHour",width:80,render:E=>E||"--"},{title:this.props.t("common.examDuration"),dataIndex:"examDurationStr",key:"examDurationStr",width:90,render:E=>E||"--"},{title:this.props.t("common.operate"),width:this.props.lng==="en_us"?300:215,key:"operate",fixed:"right",render:(E,_)=>{var O=[{visible:!0,disabled:!(_.studyCount>0),title:this.props.t("common.studyRecord"),click:()=>this.showStudyRecord(_)},{visible:!0,disabled:_.taskTypeStr==="exam"?_.statusNameStr==="untested"||_.statusNameStr==="absence":!(_.examCount>0&&_.examJoinCount>0&&_.examGetScoreCount>0),title:this.props.t("common.examRecord"),click:()=>this.linkToExam(_)},{visible:!0,disabled:!_.hasOperation,title:this.props.t("common.operationRecord"),click:()=>this.linkToOperationRecords(_)}];return e().createElement(N.Z,{buttons:O,visibleNum:3})}}]));this.setState({columns:d})},this.handleTableHeight=()=>{var f=document.documentElement.clientHeight,d="".concat(f-410,"px");this.setState({tableHeight:d})},this.showStudyRecord=f=>{f.studyCount<=0||this.props.showStudyRecord(f.userId,f.planId)},this.linkToExam=f=>{f.examCount>0&&f.examJoinCount>0&&this.props.linkToExamRecord(f)},this.linkToOperationRecords=f=>{var d=encodeURIComponent(window.location.hash.substring(1));W.Z.targetTo({path:"/training/operation/info?taskId=".concat(f.planId,"&userId=").concat(f.userId,"&taskType=study&renderList=true&page=monitor&goBackUrl=").concat(d)})},this.handleTableChange=(f,d)=>{this.props.onTableChange({current:f,pageSize:d})}}componentDidMount(){this.handleTableHeight(),window.addEventListener("resize",this.handleTableHeight),this.createColumns((0,B.UI)("ARCHIVES_SIGN_IN_TIME"))}componentWillUnmount(){window.removeEventListener("resize",this.handleTableHeight)}render(){var f=this.props,d=f.list,E=d===void 0?[]:d,_=f.loading,O=f.paginationParams,U=O===void 0?{}:O,j=f.headerTitle,z=f.toolBarRender,X=(0,h.Z)((0,h.Z)({},D.XE.INITIAL_PAGINATION),U),$=this.state,ee=$.tableHeight,te=$.columns;return e().createElement(e().Fragment,null,e().createElement("div",{className:"task-info-content-list"},e().createElement(L.f,{scroll:{x:"max-content",y:ee},columns:te,rowKey:"planId",dataSource:E,pagination:!1,loading:_,headerTitle:j,toolBarRender:z,tableUUID:"ae3167b3-8bbe-424f-8768-d56e5e74e955"})),e().createElement("div",{className:"task-info-pagination-wrapper"},e().createElement(C.Z,(0,Z.Z)({},X,{onChange:this.handleTableChange,className:"task-info-pagination"}))))}}var b=(0,a.Z)()(K),H=t(10237),V=t(98417),q=t(4408),Q=t(97593),w=t(67479),G=t(31916),l=P=>({userLng:P.user});class x extends e().Component{constructor(){var f;super(...arguments);f=this,this.state={params:{beginTime:"",endTime:"",departmentId:"",dimission_status:"",keyword:"",pageNumber:1,pageSize:20,userId:"",trainType:0},tableLoading:!0,tableList:[],tableTotal:0,typeOptions:[{id:"0",name:this.props.t("common.all")},{id:"1",name:this.props.t("common.newEmployeeTask")},{id:"2",name:this.props.t("common.studyTask")},{id:"3",name:this.props.t("common.electiveTask")},{id:"4",name:this.props.t("common.examTask")},{id:"5",name:this.props.t("learning.learningProjectAddTitle")}],userInfo:{},taskStudyRecordConfig:{visible:!1,userId:""},showStudyRecordPlanId:""},this.initTableList=()=>{this.setState({tableLoading:!0}),H.WY.get({url:D.ZP.Summary.getTaskArchivesUserDetailList(),params:this.state.params}).then(d=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:d.data.data.detailList.list,tableTotal:d.data.data.detailList.total,userInfo:(0,h.Z)((0,h.Z)({identityId:"",phoneNumber:""},d.data.data.userInfo),{},{user_info:d.data.data.userInfo.userInfo})})},300)})},this.handleChangePagination=d=>{var E=d.current,_=d.pageSize;this.setState(O=>({params:(0,h.Z)((0,h.Z)({},O.params),{},{pageNumber:E,pageSize:_})}),()=>{this.initTableList()})},this.resetPagination=()=>new Promise(d=>{this.setState(E=>({params:(0,h.Z)((0,h.Z)({},E.params),{},{pageNumber:1,pageSize:20})}),()=>{d()})}),this.handleChangeDataRange=d=>{this.setState(E=>({params:(0,h.Z)((0,h.Z)({},E.params),{},{beginTime:d.startTime,endTime:d.endTime,pageNumber:1})}),()=>{this.initTableList()})},this.handleType=d=>{this.setState(E=>({params:(0,h.Z)((0,h.Z)({},E.params),{},{trainType:d,pageNumber:1})}),()=>{this.initTableList()})},this.handleExport=()=>{var d=this,E=this.props.t,_="",O=this.state.params,U=(0,h.Z)({},O);s.Z.confirm({title:E("common.tip"),content:E("personal.exportFileTip"),onOk(){Object.keys(U).forEach(z=>{_+="".concat(z,"=").concat(U[z],"&")});var j="?".concat(_);(0,Q.N)({page:"taskReportInfo",props:d.props,query:j})}})},this.showStudyRecord=(d,E)=>{var _=this.state.taskStudyRecordConfig;_.visible=!0,_.userId=d,this.setState({taskStudyRecordConfig:_,showStudyRecordPlanId:E})},this.handleHiddenTaskStudyRecord=()=>{var d=this.state.taskStudyRecordConfig;d.visible=!1,this.setState({taskStudyRecordConfig:d})},this.linkToExamRecord=function(){var d=(0,m.Z)(i().mark(function E(_){var O,U,j,z,X,$,ee;return i().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return O=o.parse(f.props.location.search),U=O.dimission_status,Y.next=3,(0,G.uH)();case 3:j=Y.sent,j==="new"?_.taskTypeStr==="exam"?(z=w.W.parse({exam_id:_.planId,task_id:_.taskId,submit_id:_.submitId,user_id:_.userId,scene:"manage"}),u.m8.push(z)):_.taskTypeStr==="study"?(X=w.W.parse({user_id:_.userId,projectId:_.planId,from:"study_task",scene:"manage"}),u.m8.push(X)):_.taskTypeStr==="new_employee_training"?($=w.W.parse({user_id:_.userId,projectId:_.planId,from:"employee_task",scene:"manage"}),u.m8.push($)):(ee=w.W.parse({user_id:_.userId,projectId:_.studyProjectId,from:"trainingProject",scene:"manage"}),u.m8.push(ee)):_.taskTypeStr==="exam"?u.m8.push({pathname:"/training/examination/result",search:o.stringify({userId:_.userId,id:_.planId,pageFrom:"examMonitor",dimission_status:U})}):u.m8.push({pathname:"/training/examination/result",search:o.stringify({userId:_.userId,planId:_.planId,pageFrom:_.taskTypeStr==="study_project_task"?"projectMonitor":"examMonitor",dimission_status:U})});case 5:case"end":return Y.stop()}},E)}));return function(E){return d.apply(this,arguments)}}(),this.renderLeftRow=()=>e().createElement(A.Z,{onExport:this.handleExport}),this.renderRightRow=()=>e().createElement(p.Z,{showSearch:!1})}componentDidMount(){var f=o.parse(this.props.location.search),d=f.userId,E=f.dimission_status,_=f.dingType,O=0;_&&_==="true"?O=2:_&&_==="false"&&(O=1),this.setState(U=>({params:(0,h.Z)((0,h.Z)({},U.params),{},{userId:d,dimission_status:E,trainType:O})}),()=>{this.initTableList();var U=c()(this.state.typeOptions);this.setState({typeOptions:E==="quit"?U.slice(0,5):U})})}render(){var f=this.state,d=f.taskStudyRecordConfig,E=f.tableTotal,_=f.tableList,O=f.tableLoading,U=f.params,j=f.typeOptions,z=f.userInfo,X=this.props,$=X.userLng,ee=X.t,te=o.parse(this.props.location.search),Y=te.dingType,re=j[0].id;Y&&Y==="true"?re=j[2].id:Y&&Y==="false"&&(re=j[1].id);var se={total:E,current:U.pageNumber,pageSize:U.pageSize};return e().createElement("div",{className:"taskInfo sticky-table"},e().createElement(q.Z,{title:ee("documentTitle.taskReportDetails")}),e().createElement(g.Z,{userInfo:z,type:"task"}),e().createElement("div",{className:"taskInfo__content"},e().createElement("div",{style:{background:"#fff"}},e().createElement(T.Z,{onChangeType:this.handleType,onChangeDataRange:this.handleChangeDataRange,typeOptions:j,showRangePicker:!0,defaultValue:re}),e().createElement("div",{className:"taskInfo__content__table",ref:oe=>this.tableRef=oe},e().createElement(b,{lng:$.lng,loading:O,paginationParams:se,list:_,onTableChange:this.handleChangePagination,initScoreRank:this.initTableList,showStudyRecord:this.showStudyRecord,linkToExamRecord:this.linkToExamRecord,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow}),e().createElement(V.Z,(0,Z.Z)({},d,{onCancel:this.handleHiddenTaskStudyRecord,taskId:this.state.showStudyRecordPlanId}))))))}}var R=(0,r.$j)(l)((0,a.Z)()(x))},67479:function(F,k,t){"use strict";t.d(k,{D:function(){return y},W:function(){return r}});var Z=t(57361),m=t(9754),n=t.n(m),s=t(57068),h=t(31916),M=t(38642),i=t(5430);function y(a){return e.apply(this,arguments)}function e(){return e=(0,Z.Z)(n().mark(function a(o){var u,I,c,g,T;return n().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,h.uH)();case 3:if(u=p.sent,u!=="old"){p.next=6;break}return p.abrupt("return",!1);case 6:return p.next=8,(0,h.fP)(o);case 8:if(I=p.sent,c=I.data,g=c.code,T=c.data,g!=="200000"){p.next=14;break}return p.abrupt("return",T.exam_type==="new");case 14:p.next=20;break;case 16:return p.prev=16,p.t0=p.catch(0),console.error("\u65B0\u65E7\u8003\u8BD5\u5224\u65AD",p.t0),p.abrupt("return",!1);case 20:case"end":return p.stop()}},a,null,[[0,16]])})),e.apply(this,arguments)}var r={examing:function(){var a=(0,Z.Z)(n().mark(function u(I){var c,g,T;return n().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return c="",g=I.pageFrom==="ding_myExamTask"?(0,M.lz)(i.ZP.enterpriseId,"student"):"",p.next=4,y(I.exam_id);case 4:return T=p.sent,T?c="".concat(g,"/training/examination/new-exam/examing?").concat(s.stringify(I)):c="".concat(g,"/training/examination/exam/personal?").concat(s.stringify(I)),p.abrupt("return",c);case 7:case"end":return p.stop()}},u)}));function o(u){return a.apply(this,arguments)}return o}(),parse:a=>"/training/examination/new-exam/parse?".concat(s.stringify(a)),examData:a=>"/training/examination/exam-data?exam_id=".concat(a.exam_id,"&task_id=").concat(a.task_id),marking:a=>"/training/examination/new-exam/marking?".concat(s.stringify(a))}},97593:function(F,k,t){"use strict";t.d(k,{N:function(){return y}});var Z=t(34792),m=t(48086),n=t(37055),s={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:e=>{var r=e.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(r,"/report/list_report")},pkReportDetailsDetails:e=>{var r=e.competitionId,a=e.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(a,"/pk/").concat(r,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(n.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(n.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(n.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/youjia_list_export"),authInfo:e=>{var r=e.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(r,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:e=>{var r=e.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/user/").concat(r,"/integral_export")},teacherImportPoints:e=>{var r=e.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecture/").concat(r,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(n.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(n.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(e,"/sign-analysis-export"),signAnalysisDetailExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(e.id,"/sign-detail-export"),studyProjectMonitorExport:e=>{var r=e.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_projects/").concat(r,"/user_monitors_export")},studyProjectPaymentList:e=>{var r=e.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_project/").concat(r,"/study_project_transaction_export")},study_project_transaction_export:e=>{var r=e.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_project/").concat(r,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(n.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:e=>{var r=e.projectId,a=e.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(n.ZP.enterpriseId,"/study_project/").concat(r,"/course/").concat(a,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificates_export"),certificatePeople:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificates/").concat(e.certificateId,"/users/export?type=").concat(e.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/plan_study_export"),learningMonitor:e=>{var r=e.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/plans/").concat(r,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/investigates/").concat(e.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:e=>{var r=e.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/operations/").concat(r,"/user_monitors_export")},huaLaiShiWorkUserData:e=>{var r=e.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/operations/").concat(r,"/user_monitors_export")},learningFaceMonitor:e=>{var r=e.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/user-recognition/course/").concat(r,"/export")},learningDetailMonitor:e=>{var r=e.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/user-recognition/v2/course/").concat(r,"/export")},classLearningMonitor:e=>{var r=e.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/study-record/plan/").concat(r,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/investigates/").concat(e.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(e.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(e.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(e.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(n.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:e=>{var r=e.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/practices/").concat(r,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(n.ZP.userId,"/list/export"),exportPkMonitor:e=>{var r=e.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/").concat(r,"/user/list/export")},exportPostMap:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/post_maps/").concat(e.mapId,"/users_export"),exportPowerMonitor:e=>{var r=e.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/qualifications/").concat(r,"/monitors_export")},exportQuestionnaire:e=>{var r=e.taskId,a=e.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/studies/").concat(r,"/investigates/").concat(a,"/statistics_export")},exportGoodsExchangeDetail:e=>{var r=e.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/").concat(r,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:e=>{var r=e.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecturer/").concat(r,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(n.ZP.enterpriseId,"/export/plan/").concat(r,"/model")},offlineCrouseCheckIn:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(e,"/sign-analysis-export"),monitorUserExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(e,"/monitors-export"),evaluateAnalyzeExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(n.ZP.enterpriseId,"/course/").concat(e,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(n.ZP.enterpriseId,"/plan/").concat(e.planId,"/tutorials/").concat(e.tutorialsId,"/evaluation_export"),offlineCourseListExport:e=>{var r=e.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/").concat(r,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(n.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(n.ZP.enterpriseId,"/users/").concat(n.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(n.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/").concat(e,"/courses-export"),studyProjectCourseExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/study_projects/").concat(e,"/courses-export"),studyProjectPracticeExport:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/study_projects/").concat(e,"/practice-export"),trainingTandardsDetail:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(n.ZP.enterpriseId,"/objective/").concat(e,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/annual-plans/").concat(r,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/exam_details/export"),medalDetailsExportData:e=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/medal/group/").concat(e,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/export-user-task")},exportNewExamAnswerList:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/export_student_detail")},exportNewExamAnswerListPDF:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(n.ZP.enterpriseId,"/exams/").concat(r,"/download")},exportQuestionAnswerDetails:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/export_question_answer")},exportAnswerDataList:e=>{var r=e.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/export-question-analysis")},exportSubmitList:e=>{var r=e.planId,a=e.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/user-id/").concat(a,"/export_user_submit")},exportFaceRecognitionRecord:e=>{var r=e.userId,a=e.examId,o=e.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/users/").concat(r,"/exams/").concat(a,"/submit-id/").concat(o,"/export_face-info")},exportQuestionDetails:e=>{var r=e.planId,a=e.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(r,"/export-question-user-result/").concat(a)},exportPointsDetail:e=>{var r=e.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/user/").concat(r,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:e=>{var r=e.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/").concat(r,"/export_orders")},exportLotteryOverview:e=>{var r=e.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/lottery/").concat(r,"/prizeOverview/export")},exportLotteryDetailList:e=>{var r=e.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/lottery/").concat(r,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(n.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(n.ZP.enterpriseId,"/users/").concat(n.ZP.userId,"/group/export_address_book")},h=s,M=t(10237),i=t(31457),y=e=>{var r=e.page,a=e.props,o=e.query,u=o===void 0?"":o,I=e.rest,c=e.sendType,g=c===void 0?"get":c,T=e.success,A=e.fail,p=A===void 0?"":A,v=h[r](I)+(g==="get"?u:""),C=M.WY[g];C.call(M.WY,g==="get"?{url:v}:{url:v,data:u}).then(D=>{if(v.includes("/v3/")&&D.success==="true"||D.data.code===0||D.data.code===200||D.data.code===2e5||D.data.code==="200000"||D.data.resultCode==="200"||D.data.result_code==="200")(0,i.Pp)(a),m.default.success(a.t("study.compoundSucceed")),T&&T({code:200});else{if(p){p(D);return}m.default.error(a.t("community.isError"))}})}},2396:function(F,k,t){"use strict";t.d(k,{fA:function(){return n},kh:function(){return s},kR:function(){return h},rw:function(){return i},$s:function(){return y},q_:function(){return e},QK:function(){return r}});var Z=t(6793),m={limitWords(a,o){return{rules:[{max:a,message:"\u6700\u591A\u8F93\u5165".concat(a,"\u4E2A\u5B57")},{required:!0,message:o||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(a){return{rules:[{max:a,message:"\u6700\u591A\u8F93\u5165".concat(a,"\u4E2A\u6807\u7B7E")}]}},required(a){return{rules:[{required:!0,message:a||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(a,o){return{rules:[{required:!0,message:a||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:o}]}}},n={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s]|[ ]$/gi},s=a=>isNaN(a)||!a||!(a>=0&&a<1e3)||!n.score.test(a),h=a=>isNaN(a)||!a||!(a>-1e3&&a<1e3),M=a=>isNaN(a)||!a||!(a>=0&&a<1e3)||!n.examScore.test(a),i=(a,o)=>{for(var u=0,I=0;I<a.length;I++){var c=a.charAt(I);if(c.match(/[^\x00-\xff]/ig)!=null?u+=1:u+=.5,u>o)return I}return 0},y=a=>{for(var o=0,u=0;u<a.length;u++){var I=a.charAt(u);I.match(/[^\x00-\xff]/ig)!=null?o+=1:o+=.5}return o},e=(a,o)=>{var u=a.target.value,I=a.target.dataset.originLength;if(a.target.dataset.originLength||(I=o,a.target.dataset.originLength=I),!!I){var c=y(u);c*1<o*1?a.target.setAttribute("maxLength",o*2):a.target.setAttribute("maxLength",o)}},r=(a,o)=>{var u="";return(!a||!(0,Z.fy)(a))&&(u=o),u}}}]);
