(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[5694],{4408:function(de,Y,e){"use strict";var _=e(12924),c=e.n(_),K=e(28216),p=e(17780),L=e(38642),M=y=>({userInfo:y.user}),Z=y=>{var P=y.title;return(0,p.xX)()&&setTimeout(()=>{document.title=P},0),(0,_.useEffect)(()=>{if(P&&document.title!==P&&setTimeout(()=>{document.title=P},0),(0,L.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[P]),c().createElement(c().Fragment,null)};Z.defautProps={title:""},Y.Z=(0,K.$j)(M)(Z)},1164:function(de,Y,e){"use strict";var _=e(12924),c=e.n(_),K=e(76651),p=e(38642),L=e(91302),M=Z=>{var y=navigator.userAgent.toLocaleLowerCase(),P=localStorage.getItem("enterpriseId"),n=(0,p.lz)(P,Z.projectType),g=localStorage.getItem("dingPersonnel"),u=L.bl.includes(g),T=Z.target;function B(A){if(T==="self"&&(A.preventDefault(),K.m8.push(Z.to)),u){if(Z.projectType==="student"){window.location.href="".concat(n,"/").concat(Z.to);return}K.m8.push(Z.to);return}if(dd.version){A.preventDefault();var E="";Z.to.includes("?")?E="".concat(n).concat(Z.to,"&ddtab=true"):E="".concat(n).concat(Z.to,"?ddtab=true"),dd.biz.util.openLink({url:E})}else y.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(Z.to))}return c().createElement("a",{rel:"noreferrer",href:"".concat(Z.projectType==="student"?"".concat(n).concat(Z.to):"#".concat(Z.to)),className:"".concat(Z.wrapCls," cl-pointer"),target:y.indexOf("lark")!==-1||u?"_self":Z.target||"_blank",onClick:B},Z.children)};M.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},M.targetTo=Z=>{var y=Z.path,P=Z.from,n=Z.isExternalLink,g=n===void 0?!1:n,u=Z.isAsync,T=u===void 0?!1:u,B=Z.openName,A=B===void 0?"_blank":B,E=Z.projectType,D=E===void 0?"manage":E,v=Z.ddTab,I=v===void 0?!0:v,C,i=localStorage.getItem("dingPersonnel"),m=L.bl.includes(i),O=navigator.userAgent.toLocaleLowerCase(),U=localStorage.getItem("enterpriseId"),k=(0,p.lz)(U,D),w=localStorage.getItem("appType"),W=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var S="";if(C=g?"":k,m&&!g){if(D==="student"){window.location.href="".concat(k).concat(y);return}K.m8.push(y);return}y.includes("?")?S="".concat(C).concat(y,"&ddtab=").concat(I):S="".concat(C).concat(y,"?ddtab=").concat(I),dd.biz.util.openLink({url:S})}else if(O.indexOf("lark")!==-1)C=g?"":k,window.location.href="".concat(C).concat(y);else if(w==="wx_app"&&W&&g&&P==="imgText")C=g?"":D==="student"?"".concat(k):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(y)});else if(C=g?"":D==="student"?"".concat(k):"#",T){var j=window.open("","_blank");setTimeout(()=>{j.location="".concat(C).concat(y)},100)}else window.open("".concat(C).concat(y),A)},Y.Z=M},36202:function(de,Y,e){"use strict";e.d(Y,{f:function(){return v}});var _=e(62029),c=e(57361),K=e(33565),p=e(9754),L=e.n(p),M=e(12924),Z=e.n(M),y=e(28175),P=e(41647),n=e(93485);function g(I){var C={};if(I.length===0)return C;var i=(0,n.Z)(I),m;try{for(i.s();!(m=i.n()).done;){var O=m.value,U=O,k=U.field,w=U.fixed,W=U.order,S=U.show;S?S==="true"||S===!0?C[k]={fixed:w,order:W,show:!0}:C[k]={fixed:w,order:W,show:!1}:C[k]={fixed:w,order:W,show:!0}}}catch(j){i.e(j)}finally{i.f()}return C}function u(I){var C=[],i=Object.entries(I);if(i.length===0)return C;for(var m=0,O=i;m<O.length;m++){var U=O[m],k=(0,K.Z)(U,2),w=k[0],W=k[1],S=W.fixed,j=W.order,z=W.show;C.push({field:w,show:z,fixed:S,order:j})}return C}var T=e(38642),B=(I,C)=>{var i=(0,M.useState)(I),m=(0,K.Z)(i,2),O=m[0],U=m[1];return(0,M.useEffect)(()=>{var k=setTimeout(()=>{U(I)},C);return()=>{clearTimeout(k)}},[I,C]),O},A=B;function E(I,C){var i=useRef(C);useEffect(()=>{i.current=C},[C]),useEffect(()=>{var m=O=>{var U,k;console.warn(I.current,"node.current",O.target),!((U=(k=I.current)===null||k===void 0?void 0:k.contains(O.target))!==null&&U!==void 0?U:!1)&&i.current&&i.current()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[I])}var D=!1;function v(I){var C=(0,M.useState)({}),i=(0,K.Z)(C,2),m=i[0],O=i[1],U=I.prefixCls,k=I.rowKey,w=I.columnEmptyText,W=I.pagination,S=I.headerTitle,j=I.toolBarRender,z=I.size,H=I.loading,Q=H===void 0?!1:H,q=I.tableUUID;q||console.error("tableUUID is required!!!"),(0,M.useEffect)(()=>{function oe(G){return $.apply(this,arguments)}function $(){return $=(0,c.Z)(L().mark(function G(se){var le,me,ve,re,Se,Ce,be,Le;return L().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,T.Kb)((0,P.U)(se));case 2:if(le=fe.sent,me=(0,K.Z)(le,2),ve=me[0],re=me[1],!ve){fe.next=8;break}return fe.abrupt("return");case 8:Se=re.data,Ce=Se.data,be=Ce.fields,Le=g(be)||{},Le&&(D=!1,O(Le));case 13:case"end":return fe.stop()}},G)})),$.apply(this,arguments)}return q&&oe(q),()=>{D=!1}},[q]);var ee=A(m,1e3);(0,M.useEffect)(()=>{!D||(0,P.I)(q,u(m))},[ee]);function ne(oe){D=!0,O(oe)}return Z().createElement("div",{className:"SampleProTable_container ".concat(I.className)},Z().createElement(y.ZP,(0,_.Z)({size:z||"middle",rowKey:k||"id",columnEmptyText:w||!1,pagination:W||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:Q,headerTitle:S||"",toolBarRender:j||null,columnsStateMap:m,onColumnsStateChange:ne},I,{className:"".concat(U,"-table")})))}},41647:function(de,Y,e){"use strict";e.d(Y,{I:function(){return K},U:function(){return p}});var _=e(37055),c=e(10237);function K(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=_.ZP.tableHeader.save(),y={fields:M,key:L};return c.WY.post({url:Z,data:y})}function p(L){var M=_.ZP.tableHeader.get(L);return c.WY.get({url:M})}},99891:function(de,Y,e){"use strict";var _=e(12924),c=e.n(_),K=e(28216),p=e(91768),L=e(37055),M=e(10237),Z=e(60667);class y extends c().PureComponent{constructor(g){super(g);this.getWaterMarkText=u=>{var T=this.props.userInfo,B=T.jobNumber,A=localStorage.getItem("waterMarkPostName"),E=[],D=u.find(I=>I.type==="content_setting"),v=u.find(I=>I.type==="content_custom");return D.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),v.param.checked==="true"&&v.param.comment[0]!==""&&this.setState({commentText:v.param.comment[0]}),D.param.comment.indexOf("position")!==-1&&A&&A!==""&&E.push("".concat(A)),D.param.comment.indexOf("jobnumber")!==-1&&B&&B!==""&&E.push("".concat(B)),E.join("-")},this.getWaterMarkApplication=u=>{var T=this.props.scenes,B=u.find(A=>A.type==="application_scenario");B.param.comment.indexOf(T)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=u=>{var T=u.find(B=>B.type==="dispersive");this.setState({isDispersive:T.param.checked==="true"})},this.getDynamicSet=()=>{var u=L.ZP.advancedSetting.dynamicWaterMarkNew(),T={access_token:window.localStorage.getItem("token")};M.WY.get({url:u,params:T}).then(B=>{var A=JSON.parse(B.data.actions);this.setState({waterMarkText:this.getWaterMarkText(A),actions:A}),this.getWaterMarkApplication(A),this.getWaterIsDispersive(A)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var g=localStorage.getItem("waterMarkPostName");g===""||g===null?this.getPostName():this.getDynamicSet()}getPostName(){var g=L.ZP.advancedSetting.getPostName();M.WY.get({url:g}).then(u=>{localStorage.setItem("waterMarkPostName",u.data.post_names[0]||""),this.getDynamicSet()})}render(){var g=this.state,u=g.showWaterMark,T=g.waterMarkCount,B=g.isUserName,A=g.isDispersive,E=g.waterMarkText,D=g.actions,v=g.commentText,I=this.props.userInfo,C=I.name,i=I.unionid,m=I.sourceType;return c().createElement("div",{className:"common-watermark"},u&&new Array(T).fill(0).map((O,U)=>c().createElement("div",{key:U,className:"common-watermark-item ".concat(A?"isDispersive":"")},c().createElement("span",{className:"common-watermark-item-content"},v!==""&&c().createElement("span",{className:"item-part"},v),B&&c().createElement("span",null,v!==""&&c().createElement("span",null,"-"),c().createElement(Z.Z,{dataType:"userName",value:i,name:C,type:m})),c().createElement("span",{className:"item-part"},(B||v!=="")&&E!==""&&c().createElement("span",null,"-"),E)))))}}var P=n=>({userInfo:n.user});Y.Z=(0,K.$j)(P)((0,p.Z)()(y))},55285:function(de,Y,e){"use strict";e.d(Y,{Z:function(){return W}});var _=e(20228),c=e(11382),K=e(62029),p=e(88986),L=e(22385),M=e(31097),Z=e(57361),y=e(33565),P=e(9754),n=e.n(P),g=e(12924),u=e.n(g),T=e(91768),B=e(28216),A=e(93485),E=e(38642);function D(S){var j={};if(S)for(var z=0,H=Object.entries(S);z<H.length;z++){var Q=H[z],q=(0,y.Z)(Q,2),ee=q[0],ne=q[1];j["user_info_".concat((0,E.FI)(ee))]=ne}return j}function v(S){if(!Array.isArray(S))return[];var j=S.map(z=>{var H=z.user_info,Q=z.userInfo,q={},ee=H||Q;if(ee){var ne=ee.extendList,oe=ee.extend_list,$=ne||oe||[];if($.length>0){var G=(0,A.Z)($),se;try{for(G.s();!(se=G.n()).done;){var le=se.value,me=le.columnKey,ve=le.column_key,re=le.extendValue,Se=le.extend_value;q["user_info_".concat((0,E.FI)(me||ve))]=re||Se}}catch(Ce){G.e(Ce)}finally{G.f()}}}return(0,p.Z)((0,p.Z)((0,p.Z)({},z),q),D(ee))});return j}function I(S,j){for(var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",H=S.slice(0).reverse(),Q=0;Q<H.length;Q+=1)for(var q=Q+1;q<H.length;q+=1)H[Q][j]===H[q][j]&&(H.splice(q,1),q-=1);return z==="right"?H.reverse():H}var C=e(17215),i=e(36202),m=e(6793),O=e(9925),U=e(6934),k=S=>({userInfo:S.user}),w=(0,g.forwardRef)((S,j)=>{var z=S.tableUUID,H=S.withLoginPhoneNumber,Q=S.withCustomField,q=S.withLoginEmail,ee=S.withJoinTime,ne=S.onlyShowCurrentDept,oe=(0,g.useState)([]),$=(0,y.Z)(oe,2),G=$[0],se=$[1],le=(0,g.useState)([]),me=(0,y.Z)(le,2),ve=me[0],re=me[1],Se=(0,g.useState)(!1),Ce=(0,y.Z)(Se,2),be=Ce[0],Le=Ce[1];z||console.error("tableUUID is required!!!"),(0,g.useImperativeHandle)(j,()=>({getColumns:()=>G})),(0,g.useEffect)(()=>{function fe(){return pe.apply(this,arguments)}function pe(){return pe=(0,Z.Z)(n().mark(function xe(){var Re,We,Ze,Pe,Me;return n().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Le(!0),Te.next=3,(0,E.Kb)((0,C.h)());case 3:if(Re=Te.sent,We=(0,y.Z)(Re,2),Ze=We[0],Pe=We[1],!Ze){Te.next=10;break}return Le(!1),Te.abrupt("return");case 10:Me=Pe.data,Q||(Me=Me.filter(Ne=>Object.keys(Ne)[0].indexOf("column")===-1)),q||(Me=Me.filter(Ne=>Object.keys(Ne)[0].indexOf("loginEmail")===-1)),ee||(Me=Me.filter(Ne=>Object.keys(Ne)[0].indexOf("joinTime")===-1)),Le(!1),re(Me);case 16:case"end":return Te.stop()}},xe)})),pe.apply(this,arguments)}fe()},[]),(0,g.useEffect)(()=>{var fe=ve.map((Re,We)=>{var Ze=(0,y.Z)(Array.from(Object.entries(Re))[0],2),Pe=Ze[0],Me=Ze[1];return S.nameColumn&&We===0?S.nameColumn:Pe==="name"?{title:Me,dataIndex:"user_info_".concat(Pe),key:"user_info_".concat(Pe),width:150,fixed:"left",render:(Ie,Te)=>u().createElement(M.Z,{title:u().createElement(O.Z,{userId:Te.user_info.id,userName:Ie})},u().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Te.user_info&&u().createElement(O.Z,{userId:Te.user_info.id,userName:Ie}),!Te.user_info&&Ie))}:Pe==="deptName"||Pe==="dept_name"?{title:Me,dataIndex:"user_info_".concat(Pe),key:"user_info_".concat(Pe),width:150,fixed:"left",render:(Ie,Te)=>{var Ne=Te.user_info,ke=Ne.department_infos,Ke=Ne.department_info;return Ie?u().createElement(M.Z,{title:u().createElement(U.P,{allDepartmentsList:ke||[]})},u().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},u().createElement(U.P,{allDepartmentsList:(ne?Ke:ke)||[]}))):"--"}}:Pe==="joinTime"?{title:Me,dataIndex:"user_info_".concat(Pe),key:"user_info_".concat(Pe),width:150,render:Ie=>u().createElement(M.Z,{title:Ie?(0,m.p6)(Ie,"yyyy-MM-dd hh:mm:ss"):"--"},u().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ie?(0,m.p6)(Ie,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:Me,dataIndex:"user_info_".concat(Pe),key:"user_info_".concat(Pe),width:150,render:Ie=>u().createElement(M.Z,{title:Ie},u().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ie||"--"))}}),pe=S.columns.map(Re=>Re.dataIndex==="creator_user_name"?(0,p.Z)((0,p.Z)({},Re),{},{render:(We,Ze)=>u().createElement(M.Z,{title:u().createElement(O.Z,{userId:Ze.creator_sync_user_id,userName:We})},u().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},u().createElement(O.Z,{userId:Ze.creator_sync_user_id,userName:We})))}):Re),xe=S.headExtra.concat(fe).concat(H?[{title:S.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:Re=>Re||"--"}]:[]).concat(pe);se(xe)},[S.headExtra,S.columns,S.nameColumn,ve,S.userInfo.appType]);var Ue=(0,g.useMemo)(()=>v(S.dataSource),[S.dataSource]);return u().createElement(c.Z,{spinning:be},u().createElement(i.f,(0,K.Z)({scroll:{y:S.y||"100%",x:S.x||"max-content"}},S,{columns:G,dataSource:Ue})))});w.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var W=(0,B.$j)(k,null,null,{forwardRef:!0})((0,T.Z)("translation",{withRef:!0})(w))},17215:function(de,Y,e){"use strict";e.d(Y,{h:function(){return K}});var _=e(37055),c=e(10237);function K(){var p=_.ZP.getUserInfoColumnConfig();return c.WY.get({url:p})}},60667:function(de,Y,e){"use strict";e.d(Y,{Z:function(){return y}});var _=e(33565),c=e(12924),K=e.n(c),p=e(28216);function L(P){var n=P.type,g=P.openid,u=P.from,T=(0,c.useRef)(null);return(0,c.useLayoutEffect)(()=>{u==="vue"?window.parent.WWOpenData.bind(T.current):WWOpenData.bind(T.current)}),K().createElement("ww-open-data",{ref:T,type:n,openid:g})}var M=P=>{var n=P.wxWorkApiFlag,g=P.appType,u=P.from,T=(0,c.useState)(!1),B=(0,_.Z)(T,2),A=B[0],E=B[1];(0,c.useEffect)(()=>{var I=localStorage.getItem("qyWechatBook");(g!=="wx_app"||n||I==="false"||u==="vue"||u==="taro")&&E(!0)},[n,g,u]);var D=(0,c.useCallback)(()=>{var I=P.type,C=P.value,i=P.name,m=i===void 0?"":i;switch(console.warn(P,"props"),I){case"wx_sync":{var O=P.dataType;return C?K().createElement(L,{from:u,type:O,openid:C}):m}default:return m}},[P]),v=()=>{var I=P.name,C=P.dataType,i=localStorage.getItem("qyWechatBook");if(C===""||i==="false")return I;if(u==="vue"||u==="taro")return D();switch(P.appType){case"wx_app":return D();default:return I}};return A?v():P.name};M.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var Z=P=>({appType:P.user.appType,wxWorkApiFlag:P.user.wxWorkApiFlag}),y=(0,p.$j)(Z)(M)},6934:function(de,Y,e){"use strict";e.d(Y,{P:function(){return D}});var _=e(12924),c=e.n(_),K=e(18446),p=e.n(K),L=e(57361),M=e(33565),Z=e(9754),y=e.n(Z),P=e(28216);function n(v){var I=v.openid,C=(0,_.useRef)(null);return(0,_.useLayoutEffect)(()=>{var i=window.parent.WWOpenData;i&&i.bind(C.current)}),c().createElement("ww-open-data",{ref:C,type:"departmentName",openid:I})}var g=e(14441),u=v=>{var I=v.separator,C=v.departmentIds,i=v.departmentNames,m=v.appType,O=(0,_.useState)([]),U=(0,M.Z)(O,2),k=U[0],w=U[1];(0,_.useEffect)(()=>{m==="wx_app"&&W()},[C]);function W(){return S.apply(this,arguments)}function S(){return S=(0,L.Z)(y().mark(function H(){var Q,q,ee;return y().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,(0,g.t)(C);case 2:Q=oe.sent,q=Q.code,ee=Q.data,q==="200000"&&ee&&w(ee);case 5:case"end":return oe.stop()}},H)})),S.apply(this,arguments)}function j(){return k.length?c().createElement(c().Fragment,null,k.map((H,Q)=>H.hasName?c().createElement(c().Fragment,null,H.name,Q===i.length-1?"":I):c().createElement(c().Fragment,null,c().createElement(n,{openid:H.thirdId}),Q===i.length-1?"":I," "))):null}function z(){var H="";return i.forEach((Q,q)=>{H+=Q+(q===i.length-1?"":I)}),c().createElement(c().Fragment,null,H)}switch(m){case"wx_app":return j();default:return z()}};u.defaultProps={departmentIds:[],departmentNames:[],separator:","};var T=v=>({appType:v.user.appType}),B=c().memo((0,P.$j)(T)(u)),A=v=>{var I=v.allDepartmentsList,C=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},O=m.department_ids.split("/"),U=m.department_names.split("/");return c().createElement(B,{departmentNames:U,departmentIds:O,separator:"/"})};return I.length?c().createElement(c().Fragment,null,I.map((i,m)=>c().createElement("span",{key:i.department_ids},C(i),m===I.length-1?"":"\uFF0C"))):null};A.defaultProps={allDepartmentsList:[]};function E(v,I){return p()(v,I)}var D=c().memo(A,E)},49964:function(de,Y,e){"use strict";var _=e(62029),c=e(33565),K=e(14965),p=e(11448),L=e(12924),M=e.n(L),Z=e(91768),y=e(78138),P=e.n(y),n=e(71022),g=p.Z.RangePicker,u=T=>{var B=(0,L.useState)([null,null]),A=(0,c.Z)(B,2),E=A[0],D=A[1],v=(0,L.useState)([null,null]),I=(0,c.Z)(v,2),C=I[0],i=I[1],m=(0,L.useState)([null,null]),O=(0,c.Z)(m,2),U=O[0],k=O[1],w=(0,L.useState)([null,null]),W=(0,c.Z)(w,2),S=W[0],j=W[1],z=(0,L.useState)([null,null]),H=(0,c.Z)(z,2),Q=H[0],q=H[1];(0,L.useEffect)(()=>{var Le=(0,n.Q)(7),Ue=Le.timestamp,fe=(0,n.Q)(30),pe=fe.timestamp;D([P()(Ue[0]),P()(Ue[1])]),i([P()(pe[0]),P()(pe[1])]),k([P()().subtract(3,"months").startOf("day"),P()().subtract("day",1).endOf("day")]),j([P()().startOf("month").startOf("day"),P()().subtract("day",1).endOf("day")]),q([P()().startOf("year").startOf("day"),P()().subtract("day",1).endOf("day")])},[]);var ee=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[null,null],fe=[];if(!Ue)fe=[];else{var pe=Ue[0].startOf("day").valueOf(),xe=Ue[1].endOf("day").valueOf();fe=[pe,xe]}window.sensors&&window.sensors.track("date_filter_click"),T.onChange(fe)},ne=T.value,oe=T.allowClear,$=T.quickSelect,G=T.t,se=T.disabledDate,le=$.week,me=$.month,ve=$.quarter,re=$.currentMonth,Se=$.currentYear,Ce={};le&&(Ce[["".concat(G("component.recentWeek"))]]=E),me&&(Ce[["".concat(G("component.recentMonth"))]]=C),ve&&(Ce[["".concat(G("component.lastThreeMonth"))]]=U),re&&(Ce[["".concat(G("component.currentMonth"))]]=S),Se&&(Ce[["".concat(G("component.currentYear"))]]=Q);var be=[ne[0]?P()(Number(ne[0])):null,ne[1]?P()(Number(ne[1])):null];return M().createElement(g,(0,_.Z)({},T,{value:be,format:"YYYY-MM-DD",onChange:ee,allowClear:oe,disabledDate:se,ranges:Ce}))};u.defaultProps={allowClear:!1,quickSelect:{week:!1,month:!1,quarter:!1,currentMonth:!1,currentYear:!1},onchange:()=>{},value:[],disabledDate:T=>T&&T>P()().subtract("day",1).endOf("day").valueOf()},Y.Z=(0,Z.Z)()(u)},16313:function(de,Y,e){"use strict";var _=e(22385),c=e(31097),K=e(62029),p=e(33565),L=e(12924),M=e.n(L),Z=e(91768),y=e(68628),P=e(28216),n=e(87117),g=e.n(n),u=e(37055),T=e(10237),B=E=>{var D=(0,L.useState)({}),v=(0,p.Z)(D,2),I=v[0],C=v[1];(0,L.useEffect)(()=>{i()},[]);var i=()=>{var m={courseReport:101,examReport:102,trainReport:103,platformReport:104};!E.type||!m[E.type]||T.WY.get({url:u.ZP.GuidePage.userGuideCheck(),params:{userId:E.userInfo.id,type:m[E.type]}}).then(O=>{var U=O.data.data,k=U.guide_view,w=U.is_new_enterprise,W=k&&!w;C(W?{visible:!0}:{})})};return E.title?M().createElement("div",{className:g()["dashboard-tooltip"]},M().createElement(c.Z,(0,K.Z)({overlayClassName:g()["dashboard-view-tooltip"]},E,I),M().createElement(y.Z,null))):null};B.defaultProps={title:"",type:""};var A=E=>({userInfo:E.user});Y.Z=(0,P.$j)(A)((0,Z.Z)()(B))},17149:function(de,Y,e){"use strict";var _=e(22385),c=e(31097),K=e(12924),p=e.n(K),L=e(78138),M=e.n(L),Z=e(91768),y=e(68628),P=e(40627),n=e.n(P),g=u=>{var T=u.t,B=u.updateTime,A=B===void 0?M()().format("YYYY-MM-DD 06:00"):B;return p().createElement(c.Z,{placement:"left",title:p().createElement("div",null,T("dashboard.dataUpdateLogic"),A),overlayStyle:{maxWidth:"360px",fontSize:"12px"}},p().createElement("div",{className:n()["header-extra"]},p().createElement(y.Z,null),p().createElement("div",{className:n()["header-extra-time"]},"".concat(T("dashboard.updateTime")," : ").concat(A))))};Y.Z=(0,Z.Z)()(g)},3583:function(de,Y,e){"use strict";var _=e(49111),c=e(19650),K=e(57663),p=e(71577),L=e(47673),M=e(4107),Z=e(43358),y=e(34041),P=e(22385),n=e(31097),g=e(57361),u=e(88986),T=e(33565),B=e(9754),A=e.n(B),E=e(12924),D=e.n(E),v=e(91768),I=e(58491),C=e(57254),i=e(28216),m=e(7145),O=e.n(m),U=e(17149),k=e(50175),w=e.n(k),W=e(49964),S=e(16313),j=e(11449),z=e(64262),H=e(37055),Q=e(55285),q=e(36202),ee=e(4408),ne=(0,E.forwardRef)(($,G)=>{var se=$.showUserInfo,le=se===void 0?!1:se,me=$.getDataApi,ve=me===void 0?()=>{}:me,re=$.onParamsChange,Se=re===void 0?()=>{}:re,Ce=$.onTableChange,be=Ce===void 0?()=>{}:Ce,Le=$.defaultParams,Ue=Le===void 0?{}:Le,fe=$.params,pe=fe===void 0?{}:fe,xe=$.formList,Re=xe===void 0?[]:xe,We=$.columns,Ze=We===void 0?[]:We,Pe=$.rowSelection,Me=$.toolBarRender,Ie=$.headerTitle,Te=$.tableUUID,Ne=$.title,ke=$.pageContainerParams,Ke=ke===void 0?{}:ke,et=$.showExtraUpdateTime,tt=et===void 0?!1:et,ht=$.extraActionComponent,He=$.sticky,Qe=He===void 0?!1:He,Ge=$.sorter,Ye=Ge===void 0?{sort:{},sequence:{ascend:"ASC",descend:"DESC"}}:Ge,Je=$.subTitle,$e=Je===void 0?{tooltip:"",type:""}:Je,Fe=$.t,at=$.onlyShowCurrentDept,rt=le?Q.Z:q.f,nt=(0,E.useRef)(null),st=(0,E.useState)([]),Xe=(0,T.Z)(st,2),ot=Xe[0],qe=Xe[1],it=(0,E.useState)(!1),ze=(0,T.Z)(it,2),lt=ze[0],te=ze[1],s=(0,E.useState)((0,u.Z)((0,u.Z)({},H.XE.INITIAL_PAGINATION),{},{total:0,current:pe.page_num,pageSize:pe.page_size})),r=(0,T.Z)(s,2),a=r[0],t=r[1],o=(0,E.useState)(!1),l=(0,T.Z)(o,2),d=l[0],f=l[1],h=(0,E.useState)(!1),x=(0,T.Z)(h,2),b=x[0],V=x[1];(0,E.useEffect)(()=>{N(pe)},[]),(0,E.useImperativeHandle)(G,()=>({load:F=>{N(F)}}));var R=()=>{qe(F=>O()(F,{$set:[]})),t(F=>O()(F,{total:{$set:0}}))},N=function(){var F=(0,g.Z)(A().mark(function ie(ye){var De,he,Oe,ge,_e;return A().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return te(!0),Ee.prev=1,R(),De=(0,u.Z)((0,u.Z)({},ye),{},{data_sequence:Ye.sequence[ye.data_sequence]||"",data_sort:Ye.sort[ye.data_sort]||""}),Ee.next=6,ve(De);case 6:if(he=Ee.sent,Oe=he.data,ge=he.code,["200000",2e5].includes(ge)){Ee.next=11;break}return R(),Ee.abrupt("return");case 11:_e=Oe.total||0,Se({queryParams:ye}),t(je=>O()(je,{total:{$set:Number(_e)}})),qe(je=>O()(je,{$set:Oe.list||[]})),Ee.next=20;break;case 17:Ee.prev=17,Ee.t0=Ee.catch(1),R();case 20:return Ee.prev=20,te(!1),Ee.finish(20);case 23:case"end":return Ee.stop()}},ie,null,[[1,17,20,23]])}));return function(ye){return F.apply(this,arguments)}}(),X=()=>{Se({queryParams:Ue}),V(!b),N(Ue)},ae=(F,ie,ye)=>{var De=F.current,he=F.pageSize,Oe=ye.field,ge=ye.order;be({page_num:De,page_size:he,data_sequence:ge,data_sort:ge?Oe:""})};(0,E.useEffect)(()=>{t(F=>O()(F,{current:{$set:pe.page_num},pageSize:{$set:pe.page_size}}))},[pe.page_num,pe.page_size]);var ue=(F,ie)=>{ie[0]&&ie[1]&&Se({key:F,value:ie})},ce=(F,ie)=>{Se({key:F,value:ie})},J=()=>Re.map(F=>{if(F.type==="OrgTree")return D().createElement(z.Z,{width:240,parentId:"",key:F.key,checkable:!1,asyncLoad:!0,treeSelect:!0,placeholder:F.placeholder,defaultValue:pe[F.key],refresh:b,handleTreeSelectChange:ie=>ce(F.key,ie)});if(F.type==="DateRange")return D().createElement(n.Z,{title:F.tooltip,placement:"top",key:F.key},D().createElement("div",null,D().createElement(W.Z,{value:pe[F.key]||F.defaultValue||[],onChange:ie=>ue(F.key,ie),quickSelect:{week:!0,month:!0,quarter:!0,currentMonth:!0,currentYear:!0}})));if(F.type==="select")return D().createElement(y.Z,{key:F.key,style:{width:240},options:F.options,placeholder:F.placeholder,value:pe[F.key]||null,allowClear:!0,onChange:ie=>Se({key:F.key,value:ie})});if(F.type==="input")return D().createElement(M.Z,{key:F.key,style:{width:240},placeholder:F.placeholder,value:pe[F.key],allowClear:!0,onChange:ie=>Se({key:F.key,value:ie.target.value.trim()})})}),we=()=>{var F=J(),ie=[];F.length>3?F.forEach((De,he)=>{he%3==0&&he<F.length&&ie.push(F.slice(he,he+3))}):ie=[F];var ye=De=>{if(F.length<=3)return null;var he=()=>De===ie.length-1&&d?D().createElement(p.Z,{type:"link",onClick:()=>f(!d)},Fe("common.collapse"),D().createElement(I.Z,null)):null,Oe=()=>d?null:D().createElement(p.Z,{type:"link",onClick:()=>f(!d)},Fe("common.expand")," ",D().createElement(C.Z,null));return D().createElement(D().Fragment,null,he(),Oe())};return d?ie.map((De,he)=>D().createElement(c.Z,{size:12,key:he,style:{marginTop:he>0?24:0}},De.map(Oe=>Oe),ye(he))):D().createElement(c.Z,{size:12},ie[0].map(De=>De),ye())},Ae=()=>Ke.content?Ke.content:D().createElement("div",{className:w()["query-form"]},D().createElement("div",{className:w()["query-form-left"]}," ",we()),D().createElement("div",{className:w()["query-form-right"]},D().createElement(c.Z,{size:15},D().createElement("span",{className:"cl-pointer",onClick:X},Fe("common.reset")),D().createElement(p.Z,{type:"default",onClick:()=>N((0,u.Z)((0,u.Z)({},pe),{},{page_num:1}))},Fe("dashboard.query")),ht)));return D().createElement(j.Z,{pageContainerParams:(0,u.Z)({header:{title:Ne,className:w()["layout-page-header"],subTitle:$e.tooltip?D().createElement(S.Z,{title:D().createElement("div",null,$e.tooltip),placement:"right",type:$e.type}):null},extra:tt&&D().createElement(U.Z,null),content:Ae()},Ke)},D().createElement(ee.Z,{title:Ne}),D().createElement("div",{className:w()["query-table"]},D().createElement(rt,{ref:nt,rowSelection:Pe,dataSource:ot,columns:Ze,sticky:Qe,rowKey:F=>F.id,scroll:{x:"max-content",y:"100%"},pagination:a,loading:lt,toolBarRender:Me,headerTitle:Ie,tableUUID:Te,withLoginPhoneNumber:!1,withCustomField:!1,withLoginEmail:!1,withJoinTime:!1,onlyShowCurrentDept:at,onChange:ae})))}),oe=$=>{var G=$.user,se=$.sideBar,le=$.advancedSetting;return{userId:G.id||window.localStorage.getItem("uid"),isAdmin:G.isAdmin,modules:G.modules,collapsed:se.collapsed,themeColor:le.themeColor}};Y.Z=(0,i.$j)(oe,null,null,{forwardRef:!0})((0,v.Z)("translation",{withRef:!0})(ne))},71022:function(de,Y,e){"use strict";e.d(Y,{Q:function(){return K}});var _=e(78138),c=e.n(_);function K(p){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",M=c()().subtract("day",p).startOf("day").valueOf(),Z=c()().subtract("day",1).endOf("day").valueOf(),y=c()(M).format(L),P=c()(Z).format(L);return{timestamp:[M,Z],titmeStr:[y,P]}}},9925:function(de,Y,e){"use strict";var _=e(57361),c=e(33565),K=e(9754),p=e.n(K),L=e(12924),M=e.n(L),Z=e(28216),y=e(14441),P=g=>{var u=g.userId,T=g.userName,B=g.appType,A=(0,L.useRef)(null),E=(0,L.useState)(""),D=(0,c.Z)(E,2),v=D[0],I=D[1],C=(0,L.useState)(""),i=(0,c.Z)(C,2),m=i[0],O=i[1],U=(0,L.useState)(!0),k=(0,c.Z)(U,2),w=k[0],W=k[1];(0,L.useEffect)(()=>{B==="wx_app"&&(u?S():(console.warn("userId is required"),O(T)))},[u]);function S(){return j.apply(this,arguments)}function j(){return j=(0,_.Z)(p().mark(function H(){var Q,q,ee,ne,oe,$,G,se,le,me;return p().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.prev=0,re.next=3,(0,y.v)(u);case 3:Q=re.sent,q=Q.code,ee=Q.data,q==="200000"&&ee&&(ne=ee.hasName,oe=ne===void 0?!0:ne,$=ee.sourceType,G=ee.name,se=G===void 0?"":G,le=ee.thirdId,W(oe),oe?O(se):$==="wx_sync"&&(I(le),me=window.parent.WWOpenData,me&&me.bind(A.current))),re.next=12;break;case 8:re.prev=8,re.t0=re.catch(0),console.error(re.t0,"error"),O(T);case 12:case"end":return re.stop()}},H,null,[[0,8]])})),j.apply(this,arguments)}function z(){return w?m:M().createElement("ww-open-data",{ref:A,type:"userName",openid:v})}switch(B){case"wx_app":return z();default:return T}};P.defaultProps={userName:""};var n=g=>({appType:g.user.appType});Y.Z=M().memo((0,Z.$j)(n)(P))},64262:function(de,Y,e){"use strict";var _=e(88986),c=e(20228),K=e(11382),p=e(22385),L=e(31097),M=e(32157),Z=e(75869),y=e(62999),P=e(85733),n=e(12924),g=e.n(n),u=e(91768),T=e(60667),B=e(38642),A=e(10237),E=e(37055),D=P.Z.TreeNode;class v extends g().Component{constructor(C){super(C);this.getDeptTree=i=>{var m=this.props,O=m.filterAuth,U=m.handleLoadedCbk,k=this.state.whiteList,w=E.ZP.OrgTree.getDeptTree(),W={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:i,filter_auth:O,query_selected_user_id:this.props.querySelectedUserId,sync_organization:k.organizationFlag?"lenovo_sync":this.props.organizationType||""};A.WY.get({url:w,params:W}).then(S=>{var j=this.sumCheckedKeys(S.data.children||[],S.data.selected==="true"?[S.data.id]:[]);U&&U({department_name:S.data.department_name,id:S.data.id,source_type:S.data.source_type}),this.setState({treeData:[{department_name:S.data.department_name,id:S.data.id,source_type:S.data.source_type,children:S.data.children,user_count:S.data.user_count,enable_edit:S.enable_edit,enable_delete:S.enable_delete}],checkedKeys:j}),this.props.handleCheck&&this.props.handleCheck(j)})},this.sumCheckedKeys=(i,m)=>(i instanceof Array&&i.forEach(O=>{O.selected==="true"?m.push(O.id):O.children&&this.sumCheckedKeys(O.children,m)}),m),this.loadChildren=i=>new Promise(m=>{if(i.props.children){m();return}var O=this.props.filterAuth,U=this.state.whiteList,k=E.ZP.OrgTree.getDeptTree(),w={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:i.props.dataRef.id,filter_auth:O,query_selected_user_id:this.props.querySelectedUserId,sync_organization:U.organizationFlag?"lenovo_sync":this.props.organizationType||""};A.WY.get({url:k,params:w}).then(W=>{if(W.data.children){var S=W.data.children.map(z=>({department_name:z.department_name,id:z.id,user_count:z.user_count,selected:z.selected,has_children:z.has_children,enable_edit:z.enable_edit,enable_delete:z.enable_delete,source_type:z.source_type}));i.props.dataRef.children=S;var j=this.sumCheckedKeys(S,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:j}),this.props.handleCheck&&this.props.handleCheck(j)}else i.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});m()})}),this.handleCheck=i=>{this.setState({checkedKeys:i}),this.props.handleCheck&&this.props.handleCheck(i)},this.treeSelectChange=(i,m)=>{this.setState({treeSelectValue:i});var O=this.props,U=O.handleTreeSelectChange,k=O.onTreeSelectChange;U?U(i||"",m):k&&k(i||"",m)},this.renderTreeNodes=i=>i.map(m=>m.children?g().createElement(Z.Z.TreeNode,{title:this.renderTitle(m),key:m.id,value:m.id,isLeaf:m.has_children!=="true",switcherIcon:m.children.length===0?g().createElement("span",null):null,dataRef:m,selected:m.selected==="true"},this.renderTreeNodes(m.children)):g().createElement(Z.Z.TreeNode,{title:this.renderTitle(m),dataRef:m,value:m.id,key:m.id,isLeaf:m.has_children!=="true",switcherIcon:this.props.asyncLoad?null:g().createElement("span",null),selected:m.selected==="true"})),this.renderSelectTreeNodes=i=>{var m=this.props.disabledFirstNode,O=this.state.treeData.length?this.state.treeData[0].id:"";return i.map(U=>U.children?g().createElement(D,{title:this.renderTitle(U),key:U.id,value:U.id,isLeaf:!1,switcherIcon:U.children.length===0?g().createElement("span",null):null,dataRef:U,disabled:m?U.id===O:!1,selected:U.selected==="true",departmentName:U.department_name},this.renderSelectTreeNodes(U.children)):g().createElement(D,{title:this.renderTitle(U),dataRef:U,value:U.id,key:U.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:g().createElement("span",null),selected:U.selected==="true",departmentName:U.department_name}))},this.dealText=i=>{var m=this.props.showUserCount;return g().createElement(n.Fragment,null,g().createElement(T.Z,{type:i.source_type,value:i.id,node:i,name:i.department_name,dataType:"departmentName"}),m&&g().createElement("span",null,"(",i.user_count,")"))},this.renderTitle=i=>{var m=this.props,O=m.showTitleToolTip,U=m.DeptTreeNodeTitle,k=m.titleOperateProps,w=k===void 0?{}:k,W=this.dealText(i);return U?g().createElement(U,{title:W,titleOperateProps:w,deptId:i.id||"1",deptName:i.department_name,enableEdit:i.enable_edit==="true",enableDelete:i.enable_delete==="true"}):O?g().createElement(L.Z,{title:W},g().createElement("span",null,W)):W},this.renderTree=()=>{var i={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(i.loadData=this.loadChildren),this.state.treeData.length>0?g().createElement(Z.Z,i,this.renderTreeNodes(this.state.treeData)):g().createElement("div",{style:{textAlign:"center"}},g().createElement(K.Z,null))},this.renderTreeSelect=()=>{var i=this.props,m=i.t,O=i.width,U=O===void 0?180:O,k=i.placeholder,w=i.open,W=(0,_.Z)((0,_.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:U},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:U},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:k||m("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:w});return this.props.asyncLoad&&(W.loadData=this.loadChildren),this.state.treeData.length>=0?g().createElement(P.Z,W,this.renderSelectTreeNodes(this.state.treeData)):g().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,B.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(C){C.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return g().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}v.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},Y.Z=(0,u.Z)("",{withRef:!0})(v)},76466:function(de,Y,e){"use strict";e.d(Y,{Z:function(){return lt}});var _=e(20228),c=e(11382),K=e(57663),p=e(71577),L=e(62029),M=e(57361),Z=e(9754),y=e.n(Z),P=e(12924),n=e.n(P),g=e(91512),u=e(68654),T=e(91768),B=e(4412),A=e.n(B);class E extends n().Component{render(){var s=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:A(),alt:"picture"}),n().createElement("h2",null,s("localStorage.tip")),n().createElement("p",null,s("localStorage.banPreview"))))}}var D=(0,T.Z)()(E),v=e(88986),I=e(34792),C=e(48086),i=e(28216),m=e(21594),O=e(41225),U=e(10237),k=(te,s)=>(0,v.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),w=k;class W extends P.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var r=this.props,a=r.onVideoReady,t=a===void 0?()=>{}:a,o=r.playerConfig,l=r.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,v.Z)((0,v.Z)({},o),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:d=>{d.on("sourceloaded",f=>{var h=f.paramData,x=h.desc,b=h.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(x,b,o.id)}),d.on("ready",()=>{t()}),this.playerInstance=d,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,r=s.onPlay,a=r===void 0?()=>{}:r,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,d=l===void 0?()=>{}:l,f=s.onPause,h=f===void 0?()=>{}:f,x=s.onError,b=x===void 0?()=>{}:x,V=this.playerInstance;V.on("play",()=>{a()}),V.on("pause",()=>{h()}),V.on("timeupdate",R=>{o(R)}),V.on("ended",()=>{d()}),V.on("error",(0,M.Z)(y().mark(function R(){return y().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:b();case 1:case"end":return X.stop()}},R)})))}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id}))}}W.playerInstance=null,W.defaultProps={playerConfig:w(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var S=W,j=(te,s)=>(0,v.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),z=j;class H extends P.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var r=this.props,a=r.playerConfig,t=r.onVideoReady,o=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",d=>{var f=d.paramData,h=f.desc,x=f.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(h,x,a.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var s=this.props,r=s.onPlay,a=r===void 0?()=>{}:r,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,d=l===void 0?()=>{}:l,f=s.onPause,h=f===void 0?()=>{}:f,x=s.onError,b=x===void 0?()=>{}:x;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{h()}),this.player.on("timeupdate",V=>{o(V)}),this.player.on("ended",()=>{d()}),this.player.on("error",(0,M.Z)(y().mark(function V(){return y().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:b();case 1:case"end":return N.stop()}},V)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}H.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:z()};var Q=H;class q{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,r){var a=r._options&&r._options.language,t=r._el.id;this.isEn=a&&a==="en-us";var o=(0,m.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,m.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),d=document.querySelector("#".concat(t," .prism-controlbar"));d.appendChild(o),s.appendChild(l)}setCurrentQuality(s,r,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=s,t.dataset.def=r,this.definition=r;var o=document.querySelector("#".concat(a," .quality-list")),l=o.querySelector(".current");l&&(l.className="");var d=o.querySelector('li[data-def="'.concat(r,'"]'));d&&(d.className="current")}created(s){this._urls=s._urls;var r=s._el.id,a=document.querySelector("#".concat(r," .current-quality")),t=document.querySelector("#".concat(r," .quality-list")),o=document.querySelector("#".concat(r," .quality-modal")),l=this._urls.map(h=>'<li data-def="'.concat(h.definition,'">').concat(h.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var d=t.querySelector('li[data-def="'.concat(this.definition,'"]'));d.className="current"}this.hasCreated=!0;var f=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{f=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(f)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=h=>{var x=h.target,b=x.dataset.def,V=x.innerText;if(b&&x.className!=="current"){var R=this._urls.find(N=>N.definition===b);s.loadByUrl(R.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(R.desc,R.definition,r),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=R.desc}this.getQuality(b,V)}}ready(s){var r=s._el.id,a=document.querySelector("#".concat(r," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(r," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class ee{createEl(s,r){var a=r._el.id,t=(0,m.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(a," .prism-controlbar"));o.appendChild(t)}ready(s){var r=s._el.id,a=document.querySelector("#".concat(r," .current-rate")),t=document.querySelector("#".concat(r," .rate-list")),o=null,l=document.querySelector("#".concat(r," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{o=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(o)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=d=>{var f=d.target,h=f.dataset.rate;if(h){if(s.setSpeed(h),f.className!=="current"){var x=t.querySelector(".current");x&&(x.className=""),f.className="current"}t.style.display="none",a.innerText="".concat(h,"x")}}}}var ne=e(69164),oe=e(37055);function $(te){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=oe.ZP.local.getLocalUrl(te);return U.WY.get({url:r,params:s})}var G=e(91648),se=e(18329),le=e(38642),me=e(9849),ve=e(99891);class re extends P.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Se=re,Ce=te=>({userInfo:te.user});class be extends P.Component{constructor(s){var r;super(s);r=this,this.onVideoReady=a=>{var t=this.props,o=t.resourceInfo,l=t.mode,d=t.autoPlay,f=t.t,h=o.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&d&&this.play.play()):h==="ALIBABA_PRIVATE"||h==="LOCAL"?this.updateSource("resetPlayer"):(U.WY.logger({keyword:"video",moduleName:"video-play",msg:f("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,o=a.mode,l=a.t,d=a.studyInfo,f=a.needCurrentTime,h=a.onCurrentTime,x=h===void 0?()=>{}:h,b=d.studyType,V=d.studyId,R=d.resourceId,N=this.state,X=N.showPreventHang,ae=N.dragSwitch,ue=N.showRandomAlert,ce=N.randomAlertDialogVisible,J=this.playingVideo,we=J.oneTime,Ae=J.popupWindowCount,F=J.maxPlayTime,ie=J.progress,ye=J.auditionLength,De=J.auditionType,he=J.duration,Oe=J.recentStart,ge=this.play.getCurrentTime(),_e=(X==="OPEN"||ue==="OPEN")&&Ae>0;if(f&&x(ge),ye>0&&De===2&&ge>ye&&(this.play.seek(ye),C.default.warning(l("component.haveALookOverTip")),this.play.pause()),o==="learn"&&_e){var Ve=he-we*Ae;if(Ae>0&&ge>Ve)if(this.play.pause(),ue==="OPEN"){if(!ce){var Ee=(0,G.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Ee},()=>{(0,O.qp)({popupId:Ee,planId:V,resourceId:R,type:"popup_start"})}),this.play.exitFull()}}else X==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||ie===100)&&(ge>0&&(this.playingVideo.recentStart=ge),!((b==="enterprise"||b==="studyProject")&&ae==="OPEN")))return!1;ge>F?ge-Oe>2?(this.playingVideo.recentStart=F,this.play.seek(F),C.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ge,this.playingVideo.maxPlayTime=ge):ge>0&&ge>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ge)},this.onPlay=()=>{var a=this.props,t=a.mode,o=a.onPlay,l=o===void 0?()=>{}:o;l();var d=this;t==="learn"&&!d.timer&&(d.timer=setTimeout(function f(){d.saveProgress(),clearTimeout(d.timer),d.timer=setTimeout(f,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,o=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,o=t.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,o=a.showRandomAlert,l=this.props,d=l.t,f=l.playingVideo,h=l.studyInfo,x=l.autoPlay,b=f.recentStart,V=f.duration,R=f.progress,N=h.studyType,X=(t==="OPEN"||o==="OPEN")&&(N==="studyTask"||N==="enterprise"||N==="studyProject")&&R<100;X?(o==="OPEN"?this.setState({promptMessage:d("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:d("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):x&&(this.play.play(),Math.ceil(b)<parseInt(V)&&this.play.seek(b))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,o=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,o>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,o>=2*l?this.playingVideo.popupWindowCount=0:o>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,o>=3*l?this.playingVideo.popupWindowCount=0:o>=2*l?this.playingVideo.popupWindowCount=1:o>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,o=a.mode;if(o==="learn"){this.playingVideo=(0,v.Z)({},t);var l=t.duration,d=t.progress;this.playingVideo.hasFinished=parseInt(d)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(d)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,M.Z)(y().mark(function a(){var t,o,l,d,f,h,x,b,V,R,N,X,ae,ue,ce,J,we,Ae,F,ie,ye,De,he,Oe;return y().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(t=r.state,o=t.speedSwitch,l=t.dragSwitch,d=t.whiteList,f=r.props,h=f.resourceInfo,x=f.showQuality,b=h.contentType,V=h.storageType,R=h.source,N=h.playId,X=h.playerId,ae=h.showFullScreen,ue=ae===void 0?!0:ae,ce=z(X),ce.components=[],J=typeof R=="object"&&R.hasOwnProperty("FD")&&R.FD.indexOf("m3u8")===-1,x&&J&&b!=="mp3"&&(V&&V==="PUBLIC_CLOUD"||!V)&&ce.components.push({name:"VideoQuality",type:q,args:[()=>{r.play.pause(),r.playingVideo.readyCount=0}]}),o==="OPEN"&&ce.components.push({name:"VideoRate",type:ee}),ue&&(we=ce.skinLayout.find(Ve=>Ve.name==="controlBar"),we&&we.children.splice(we.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ce.components.push({name:"VideoWaterMark",type:Se}),Ae=R.FD,F=R.OD,Ae.indexOf("http://")>-1&&(Ae=Ae.replace("http://","https://")),F.indexOf("http://")>-1&&(F=F.replace("http://","https://")),ie=d.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",R.OD=F&&F.indexOf(ie)>-1&&F.indexOf(".mp4")>-1?F:Ae,R.FD=Ae,ye=typeof R!="string"?JSON.stringify(R):R,ce.source=ye,l==="OPEN"&&(ce.disableSeek=!0),V!=="ALIBABA_PRIVATE"){_e.next=32;break}return _e.next=22,(0,O.BR)(N);case 22:if(De=_e.sent,!De){_e.next=28;break}ce.source=De,ce.vodRetry=1,_e.next=30;break;case 28:return r.setState({showPrivateVodError:!0}),_e.abrupt("return");case 30:_e.next=38;break;case 32:if(V!=="LOCAL"){_e.next=38;break}return _e.next=35,$(N);case 35:he=_e.sent,Oe=he.data,Oe.code===0&&(ce.source="".concat(R.FD,"?auth_key=").concat(Oe.data.auth_key),ce.vodRetry=1);case 38:r.setState({playerConfig:ce});case 39:case"end":return _e.stop()}},a)})),this.updateSource=function(){var a=(0,M.Z)(y().mark(function t(o){var l,d,f,h,x,b,V,R;return y().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(l=r.state.playerConfig,d=r.props.resourceInfo,f=d.storageType,h=d.source,x=d.playId,r.playingVideo.readyCount=0,f!=="ALIBABA_PRIVATE"){X.next=16;break}return X.next=7,(0,O.BR)(x);case 7:if(b=X.sent,!b){X.next=12;break}Object.assign(l,{source:b,vodRetry:1}),X.next=14;break;case 12:return r.setState({showPrivateVodError:!0}),X.abrupt("return");case 14:X.next=22;break;case 16:if(f!=="LOCAL"){X.next=22;break}return X.next=19,$(x);case 19:V=X.sent,R=V.data,R.code===0&&Object.assign(l,{source:"".concat(h.FD,"?auth_key=").concat(R.data.auth_key),vodRetry:1});case 22:r.setState({playerConfig:l},()=>{r.play.setupPlayer(o)});case 23:case"end":return X.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,o=a.userInfo,l=o.isLogin,d=o.enterpriseId,f=o.id,h=this.playingVideo,x=h.recentStart,b=h.duration,V=h.hasFinished,R=Math.ceil(+x);R>Number(b)&&(R=Number(b));var N=Math.ceil(R/+b*100);if((N>100||V)&&(N=100),l){var X=this.playingVideo,ae=X.auditionType,ue=X.auditionLength;if(ue>0&&ae===2){var ce=Math.ceil(ue/b*100);ce<=N&&(N=ce,R=ue)}(0,O.sH)({studyInfo:t,progress:N,recent_start:R,enterpriseId:d,userId:f}).then(J=>{J&&J.data&&(0,ne.Z)(J.data.integral_info||"")})}},this.getInfoFromSettings=(0,M.Z)(y().mark(function a(){var t,o,l,d,f,h,x,b,V;return y().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return t=r.props.studyInfo,o=t.studyType,l=t.projectId,N.next=4,(0,O.Gw)();case 4:if(d=N.sent,f=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],h=(0,m.RG)(d,f),o!=="studyProject"){N.next=14;break}return N.next=10,(0,me.NU)({id:l});case 10:x=N.sent,b=x.status,V=x.data,b===200&&(h.showPreventHang=V.prevent_cut_screen?"OPEN":"CLOSED",h.speedSwitch=V.speed_play?"OPEN":"CLOSED",h.dragSwitch=V.prevent_drag?"OPEN":"CLOSED");case 14:r.setState(h,()=>{r.dealVideoConfig()});case 15:case"end":return N.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,o=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,M.Z)(y().mark(function a(){var t,o,l,d;return y().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=r.props.studyInfo,o=t.studyId,l=t.resourceId,d=r.state.randomAlertUUID,(0,O.qp)({popupId:d,planId:o,resourceId:l,type:"popup_end"}).then(()=>{r.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),r.playingVideo.popupWindowCount-=1,r.play.play();case 6:case"end":return h.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return n().createElement(p.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return n().createElement(p.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:z(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,le.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var r=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;r!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,r=s.playerConfig,a=s.showPrivateVodError,t=s.dialogVisible,o=s.dialogModal,l=s.promptMessage,d=s.randomAlertDialogVisible,f=s.randomAlertModal,h=s.randomAlertTip,x=s.encryptedSwitch,b=this.props,V=b.resourceInfo,R=b.t,N=x==="OPEN"?S:Q;return n().createElement(P.Fragment,null,n().createElement(N,(0,L.Z)({ref:this.getPlayInstance},V,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:r,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(se.ZP,(0,L.Z)({visible:t},o,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},l)),n().createElement(se.ZP,(0,L.Z)({visible:d},f,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},h)),a&&n().createElement("div",{className:"video-business-vod-error"},R("privateCloud.docReadError")),n().createElement(ve.Z,{scenes:"video"}))}}var Le=(0,i.$j)(Ce,null,null,{forwardRef:!0})((0,T.Z)("translation",{withRef:!0})(be)),Ue=e(94184),fe=e.n(Ue),pe=e(84874),xe=te=>({userInfo:te.user}),Re={getPravateDocUrl:oe.ZP.localStorage.getPravateDocUrl};function We(te){return JSON.stringify(te,(s,r)=>(typeof r=="function"&&(r=r.toString()),r))}function Ze(te){var s=parseInt(parseInt(te,10)/60,10),r=parseInt(parseInt(te,10)%60,10);return s<10&&(s="0".concat(s)),r<10&&(r="0".concat(r)),"".concat(s,":").concat(r)}class Pe extends P.Component{constructor(s){var r;super(s);r=this,this.messageFun=a=>{var t=this.props,o=t.docType,l=t.progress,d=t.studyTimeLimit,f=t.studyTime,h=this.state,x=h.jumpPageTag,b=h.totalTime,V=h.timeRemaining,R=this.state.previewDocData,N={};try{N=JSON.parse(a.data)}catch(X){return}switch(N.action){case"preview.ready":this.initDocData();break;case"preview.meta":R.totalPage=N.data.pc||1,R.currentPage=1,this.setState({previewDocData:R},()=>{this.reportStatusInterval()}),d>0?(this.saveProgress(l,f||"1",N.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||R.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,f||"1",N.data.pc||1),d>0&&l<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?b=d:b=d*N.data.pc,V=parseInt(b*(1-l/100),10),this.setState({timeRemaining:V,totalTime:b},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(x){x=!1,this.setState({jumpPageTag:x});return}R.currentPage=N.data.pageIndex+1,this.setState({previewDocData:R}),d||this.saveProgress(Math.ceil(R.currentPage/R.totalPage*100),R.currentPage,R.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(N.data.result);break;default:break}},this.initDocData=(0,M.Z)(y().mark(function a(){var t,o,l,d,f,h,x,b,V,R,N,X,ae,ue;return y().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(r.setState({isShowPrivateError:!1}),t=r.props,o=t.docType,l=t.userInfo,d=t.documentWatermarkSettings,f=t.storageType,h=t.privateDocId,x=l.name,b=l.jobNumber,V=l.position,R="",N={},f!=="ALIBABA_PRIVATE"){J.next=18;break}return J.prev=6,X=Re.getPravateDocUrl(h),J.next=10,U.WY.get({url:X});case 10:ae=J.sent,ue=ae.data,ue.code===0?N=ue.data||{}:r.setState({isShowPrivateError:!0}),J.next=18;break;case 15:J.prev=15,J.t0=J.catch(6),r.setState({isShowPrivateError:!0});case 18:if(d.indexOf("name")>-1&&(R="".concat(R+x," ")),d.indexOf("position")>-1&&(R="".concat(R+V," ")),d.indexOf("jobnumber")>-1&&(R+=b),R.length>0?window.sendMessage("preview.init",(0,v.Z)({wmType:1,wmValue:R,wmColor:"rgba(192, 192, 192, 0.4)"},N)):window.sendMessage("preview.init",(0,v.Z)({},N)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?r.setState({pageOperateContainerVisible:!0}):r.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){J.next=29;break}J.t1=window,J.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},J.t1.sendMessage.call(J.t1,"setConfig",J.t2),J.next=32;break;case 29:J.t3=window,J.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},J.t3.sendMessage.call(J.t3,"setConfig",J.t4);case 32:case"end":return J.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var o=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,o=a.studyTime,l=0;t===0&&(l=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,o=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var d=(o-a)/o*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(d),a,l.totalPage)},2e4)},this.saveProgress=(a,t,o)=>{var l=this.props.onSaveProgress;l&&l(a,t,o)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,r)=>{var a=this.docReader.contentWindow;a.postMessage(We({action:s,data:r}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,r=s.t,a=s.storageType,t=s.privateDocId,o=this.props.aliUrl,l=this.state,d=l.previewDocData,f=l.pageOperateContainerVisible,h=l.timeRemaining,x=l.showCountDown,b=l.showCountDownContainer,V=l.showPageOperateContainer,R=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:f?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),b?n().createElement("div",{className:"ali-doc-container__countdown"},x?n().createElement("div",null,n().createElement(pe.Z,{iconClass:"iconf-tipe",size:"16px"}),r("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Ze(h)," "),r("component.canDone")):n().createElement("div",null,n().createElement(pe.Z,{iconClass:"iconf-tipe",size:"16px"}),r("component.docHasFinish"))):null,f?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:fe()(["ali-doc__operate__content",V?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},d.currentPage," / ",d.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,r("component.choosePage"),n().createElement(pe.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},r("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:d.totalPage})).map((N,X)=>n().createElement("li",{key:N,onClick:()=>this.handleJumpPage(X+1)},X+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},r("common.collapse"))))),n().createElement("div",{className:fe()("ali-doc__operate__unfold",V?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},r("common.expand"))):null,R&&n().createElement("div",{className:"ali-doc__error"},r("privateCloud.docReadError"))),n().createElement(ve.Z,{scenes:"document"}))}}Pe.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Me=(0,i.$j)(xe)((0,T.Z)()(Pe)),Ie=te=>({userInfo:te.user}),Te="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ne="".concat("https://doc.coolcollege.cn");class ke extends n().Component{constructor(s){var r;super(s);r=this,this.onSaveProgress=(a,t,o)=>{var l=this.props,d=l.mode,f=l.studyInfo,h=l.userInfo,x=h.enterpriseId,b=h.id;d==="learn"&&(0,O.sH)({studyInfo:f,progress:a,page_count:o,recent_start:t,enterpriseId:x,userId:b}).then(V=>{V&&V.data&&(0,ne.Z)(V.data.integral_info||"")})},this.messageFun=function(){var a=(0,M.Z)(y().mark(function t(o){var l,d,f,h,x,b;return y().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(o.data!=="local-resource"){R.next=9;break}if(l=r.props.resourceInfo,d=l.storageType,f=l.playId,!(d&&d==="LOCAL")){R.next=9;break}return R.next=6,$(f);case 6:h=R.sent,x=h.data,x.code===0&&(b=document.getElementById("local-resource-box"),b.contentWindow.postMessage({msg:"local-auth-key",authKey:x.data.auth_key},"*"));case 9:case"end":return R.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,M.Z)(y().mark(function a(){var t,o,l;return y().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,O.Gw)();case 2:t=f.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,m.RG)(t,o),r.setState(l,()=>{r.initDocPage(r.props)});case 6:case"end":return f.stop()}},a)})),this.initDocPage=(0,M.Z)(y().mark(function a(){var t,o,l,d,f,h,x,b,V,R,N,X,ae,ue,ce,J,we,Ae,F,ie,ye,De,he,Oe,ge,_e,Ve,Ee,je,ut,dt,ct,pt,vt,mt=arguments;return y().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(t=mt.length>0&&mt[0]!==void 0?mt[0]:{},o=t.resourceInfo,l=t.mode,d=t.studyInfo,f=t.userInfo,h=r.state.documentPlayerMode,x=o.docType,b=o.docTitle,V=o.url,R=o.studyTimeLimit,N=o.studyTime,X=o.aliUrl,ae=o.progress,ue=o.storageType,ce=o.playId,J=d.studyType,we=d.courseId,Ae=d.studyId,F=d.resourceId,ie=f.enterpriseId,ye=f.id,De=f.isLogin,he=f.token,Oe=h==="compat"&&X.indexOf("preview.imm.aliyun")>-1||ue==="ALIBABA_PRIVATE",!Oe){Be.next=11;break}r.setState({showAliReader:!0}),Be.next=31;break;case 11:if(ge=(0,O.sH)({enterpriseId:ie,userId:ye,token:he,studyInfo:d},!0),_e=J==="studyTask"?2:1,Ve=oe.ZP.SaveProgress.reportStatusInterval(d),Ee={isSaveProgress:De&&l==="learn"&&ge,isSaveRecord:!1,access_token:he,userId:ye,hostUrl:Te,courseId:we,resourceId:F,courseType:1,planId:Ae,studyTimeLimit:R,studyTime:N,saveProgressUrl:ge,type:"eapp",progress:ae,saveRecordProgressUrl:Ve,actionType:_e},!(ue&&ue==="LOCAL")){Be.next=26;break}return Be.next=18,$(ce);case 18:if(je=Be.sent,ut=je.data,ut.code!==0){Be.next=25;break}Ee.auth_key=ut.data.auth_key,Ee.url=V,Be.next=26;break;case 25:return Be.abrupt("return");case 26:dt=JSON.stringify(Ee),ct="".concat(b,".").concat(x).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),pt="".concat(Ne,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(dt),"&furl=").concat(V,"?attname=").concat(ct),ue&&ue==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),pt="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(dt),"&furl=").concat(V,"?attname=").concat(ct)),r.setState({encodeUrl:pt});case 31:case"end":return Be.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,o=this.props,l=o.resourceInfo,d=o.mode,f=o.studyInfo,h=o.userInfo,x=l.type,b=f.courseId,V=f.studyId,R=f.resourceId,N=h.enterpriseId,X=h.id,ae=h.isLogin,ue="",ce="",J=0,we=!1;switch(x){case"enterprise":J=1,we=!0;break;case"study":ue=V,J=2,we=!0;break;case"project":ce=V,J=1,we=!0;break;default:break}if(!(!we||!ae)){var Ae={plan_id:ue,enterprise_id:N,user_id:X,course_id:b,project_course_id:ce,resource_id:R,current_page:t,action_type:J,send_time:Date.parse(new Date)};d==="learn"&&(0,O.Xc)(f,Ae)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,r=this.state,a=r.encodeUrl,t=r.documentWatermarkSettings,o=r.showAliReader,l=s.docType,d=s.type,f=s.studyTimeLimit,h=s.studyTime,x=s.aliUrl,b=s.progress,V=s.storageType,R=s.playId;return o?n().createElement(Me,{privateDocId:R,storageType:V,aliUrl:x,docType:l,progress:b,studyTime:h,studyTimeLimit:f,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:d}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),n().createElement(ve.Z,{scenes:"document"}))}}var Ke=(0,i.$j)(Ie)(ke),et=e(38979),tt=e(90706),ht=e(12968),He=e(44208),Qe=e(60667),Ge=te=>({userInfo:te.user});class Ye extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var r=this.props,a=r.studyInfo,t=r.mode,o=r.userInfo,l=o.enterpriseId,d=o.id;t==="learn"&&(0,m.Gp)({studyInfo:a,enterpriseId:l,userId:d})},this.getInfoFromSettings=(0,M.Z)(y().mark(function r(){var a,t,o;return y().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,O.Gw)();case 2:a=d.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,m.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return d.stop()}},r)})),this.renderWatermark=()=>{var r=this.props.userInfo,a=this.state.imageWatermark,t=r.name,o=r.unionid,l=r.sourceType,d=r.jobNumber,f=r.position,h=[];a.indexOf("name")>-1&&h.push(n().createElement(Qe.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&h.push(n().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&h.push(n().createElement("span",null,d)),a.length>0&&this.setState({watermark:h.map((x,b)=>n().createElement("span",{key:b},x))})},this.handleError=r=>{var a=this.props.onError;a&&a(r)},this.getImageUrl=(0,M.Z)(y().mark(function r(){var a,t,o,l,d,f,h,x,b,V;return y().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(a=s.props,t=a.resourceInfo,o=a.t,l=t.playId,d=t.url,f=t.storageType,h=d,!f){N.next=21;break}if(f!=="ALIBABA_PRIVATE"){N.next=15;break}return N.next=7,(0,O.J7)(l);case 7:if(x=N.sent,!x){N.next=12;break}h=x,N.next=13;break;case 12:return N.abrupt("return",C.default.info(o("privateCloud.docReadError")));case 13:N.next=21;break;case 15:if(f!=="LOCAL"){N.next=21;break}return N.next=18,$(l);case 18:b=N.sent,V=b.data,V.code===0&&(h="".concat(d,"?auth_key=").concat(V.data.auth_key));case 21:s.setState({imageUrl:[h]},()=>{var X=s.state.imageUrl,ae="image-business",ue=document.querySelectorAll(".".concat(ae,"-image img"));ue.forEach((ce,J)=>{ce.onerror=()=>{s.handleError(X[J])}})});case 22:case"end":return N.stop()}},r)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",r=this.props.resourceInfo,a=r.preview,t=a===void 0?!1:a,o=this.state,l=o.watermark,d=o.imageUrl;return n().createElement("div",{className:s},n().createElement(ve.Z,{scenes:"image"}),n().createElement(tt.Z,{className:"".concat(s,"-carousel")},d.map((f,h)=>n().createElement("div",{className:"".concat(s,"-image"),key:h.toString()},n().createElement(He.Z,{src:f,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Ye.defaultProps={prefixCls:"watch-image-page"};var Je=(0,i.$j)(Ge)((0,T.Z)()(Ye)),$e=te=>({userInfo:te.user});class Fe extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,M.Z)(y().mark(function r(){var a,t,o;return y().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,O.Gw)();case 2:a=d.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,m.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return d.stop()}},r)})),this.renderWatermark=()=>{var r=this.props.userInfo,a=this.state.htmlWatermark,t=r.name,o=r.unionid,l=r.sourceType,d=r.jobNumber,f=r.position,h=[];a.indexOf("name")>-1&&h.push(n().createElement(Qe.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&h.push(n().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&h.push(n().createElement("span",null,d)),a.length>0&&this.setState({watermark:h.map((x,b)=>n().createElement("span",{key:b},x))})},this.saveProgress=()=>{var r=this.props,a=r.studyInfo,t=r.mode,o=r.userInfo,l=o.enterpriseId,d=o.id;t==="learn"&&(0,m.Gp)({studyInfo:a,enterpriseId:l,userId:d})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",r=this.props.resourceInfo,a=r.url,t=this.state.watermark;return n().createElement("div",{className:s},n().createElement("div",{className:"".concat(s,"__html-watermark")},t),n().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:a}))}}var at=(0,i.$j)($e)((0,T.Z)()(Fe)),rt=e(57068),nt=e(1164),st=te=>({userInfo:te.user});class Xe extends n().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var r=s.split("//"),a=r[1].split("/");return[r[0],a[0]].join("//")},this.getScormUrl=()=>{var s=this.props,r=s.studyInfo,a=s.mode,t=s.userInfo,o=s.resourceInfo,l=s.from,d=t.enterpriseId,f=t.id,h=o.url,x=this.getHost(h);if(a==="learn"){var b=(0,v.Z)({userId:f,enterpriseId:d,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(h),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},r);return"".concat(x).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(rt.stringify(b))}return"".concat(x,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(h))},this.handleOpenScormLink=s=>{nt.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,r="scorm-business",a=this.getScormUrl(),t=(0,le.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:r},t?n().createElement("div",{className:"".concat(r,"_scorm")},n().createElement("img",{className:"".concat(r,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,s("resourcePlay.scormTip")),n().createElement(p.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},s("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(r,"_iframe"),src:a}))}}var ot=(0,i.$j)(st)((0,T.Z)()(Xe));class qe extends n().Component{render(){var s=this.props,r=s.visible,a=s.title,t=s.onCancel,o=s.t,l=n().createElement("span",null,a);return n().createElement(se.ZP,{visible:r,title:l,onCancel:t,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:A(),alt:"picture"}),n().createElement("h2",null,o("localStorage.tip")),n().createElement("p",null,o("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(p.Z,{type:"primary",className:"know",onClick:t},o("localStorage.onKnow"))))}}var it=(0,T.Z)()(qe);class ze extends P.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=r=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(r)},this.onGetVideoBusiness=r=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=r,t(r)},this.onFullScreen=()=>{var r=this.state.fullScreen;this.setState({fullScreen:!r})},this.handleJudgeNetwork=(0,M.Z)(y().mark(function r(){var a,t,o,l,d,f,h,x,b,V,R,N=arguments;return y().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a=N.length>0&&N[0]!==void 0?N[0]:null,t=s.props,o=t.resourceInfo,l=t.watchType,d=o.storageType,f=o.playId,h=o.originUrl,x=l==="image"||l==="video"||l==="doc",b=null,a?b=a:h?b=h:b=o.url,!(x&&b&&f&&d&&d==="LOCAL")){ae.next=22;break}return ae.prev=7,ae.next=10,(0,O.NY)(f);case 10:return V=ae.sent,ae.next=13,(0,O.Hy)(b,V);case 13:R=ae.sent,R?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),ae.next=20;break;case 17:ae.prev=17,ae.t0=ae.catch(7),s.setState({showBan:"yes"});case 20:ae.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return ae.stop()}},r,null,[[7,17]])})),this.renderOuter=()=>{var r=this.props,a=r.prefixCls,t=r.watchType,o=r.onCurrentTime,l=o===void 0?()=>{}:o;return n().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&n().createElement(Le,(0,L.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&n().createElement(Ke,this.props),t==="image"&&n().createElement(Je,(0,L.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&n().createElement(at,this.props),t==="scorm"&&n().createElement(ot,this.props))},this.renderFooter=()=>{var r=this.props,a=r.resourceInfo.storageType,t=r.t,o=this.state.showBan,l=o!==""&&o==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?n().createElement(p.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,r=s.showBan,a=s.fullScreen,t=this.props,o=t.mode,l=t.previewWay,d=t.previewInfo,f=t.prefixCls,h=t.t,x=t.showEnlarge,b=t.footer,V=b===void 0?null:b,R=d.visible,N=d.destroyOnClose,X=d.title,ae=r!==""&&r==="yes",ue=r!==""&&r==="no";return n().createElement(P.Fragment,null,o==="preview"&&l==="popups"&&n().createElement(se.ZP,{destroyOnClose:N,visible:R,title:X,onCancel:this.onCancelModel,footer:V||this.renderFooter(),wrapClassName:"".concat(f,"-resource ").concat(a?"".concat(f,"-full"):"")},x&&n().createElement("div",{className:"".concat(f,"-resource-out-icon"),onClick:this.onFullScreen},a?n().createElement(g.Z,{className:"".concat(f,"-resource-icon")}):n().createElement(u.Z,{className:"".concat(f,"-resource-icon")})),n().createElement("div",{className:"".concat(f,"-inner")},!R&&n().createElement(c.Z,{size:"large"}),R&&ue&&this.renderOuter(),ae&&n().createElement(D,null))),(o==="learn"||l==="page")&&ue&&this.renderOuter(),(o==="learn"||l==="page")&&n().createElement(it,{visible:ae,title:X||h("questionn.warmHint"),onCancel:this.onCancel}))}}ze.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var lt=(0,T.Z)("translation",{withRef:!0})(ze)},41225:function(de,Y,e){"use strict";e.d(Y,{Hy:function(){return M},NY:function(){return Z},Gw:function(){return y},sH:function(){return g},BR:function(){return P},qp:function(){return u},Xc:function(){return T},J7:function(){return n}});var _=e(57361),c=e(9754),K=e.n(c),p=e(10237),L=e(37055),M=function(){var B=(0,_.Z)(K().mark(function A(){var E,D,v,I,C,i,m,O=arguments;return K().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return E=O.length>0&&O[0]!==void 0?O[0]:"",D=O.length>1&&O[1]!==void 0?O[1]:"",v="",E.startsWith("http")?(I=E.split("//")[1].trim(),C=I.split("/")[0],v="https://".concat(C,"/cms/ticket")):(i=E.split("/")[0],v="https://".concat(i,"/cms/ticket")),k.prev=4,k.next=7,p.ZQ.get({url:v,params:{ticket:D}});case 7:if(m=k.sent,!(m.status===200||m.status===403)){k.next=10;break}return k.abrupt("return",Promise.resolve(!0));case 10:return k.abrupt("return",Promise.resolve(!1));case 13:return k.prev=13,k.t0=k.catch(4),k.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return k.stop()}},A,null,[[4,13]])}));return function(){return B.apply(this,arguments)}}(),Z=function(){var B=(0,_.Z)(K().mark(function A(E){var D,v;return K().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,p.ZQ.get({url:L.ZP.local.getTicket(E)});case 2:if(D=C.sent,v=D.data,v.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(v.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},A)}));return function(E){return B.apply(this,arguments)}}(),y=function(){var B=(0,_.Z)(K().mark(function A(){var E;return K().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,p.WY.get({url:L.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return E=v.sent,v.abrupt("return",E.data.list);case 4:case"end":return v.stop()}},A)}));return function(){return B.apply(this,arguments)}}(),P=function(){var B=(0,_.Z)(K().mark(function A(E){var D,v,I;return K().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.WY.get({url:L.ZP.localStorage.getPravateVideoUrl(E)});case 2:if(D=i.sent,D.data.code!==0){i.next=6;break}return v=D.data.data.videoPlayInfo,I=v===void 0?"":v,i.abrupt("return",I);case 6:return i.abrupt("return","");case 7:case"end":return i.stop()}},A)}));return function(E){return B.apply(this,arguments)}}(),n=function(){var B=(0,_.Z)(K().mark(function A(E){var D,v,I;return K().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return D=L.ZP.localStorage.getPravateDocUrl(E),i.prev=1,i.next=4,p.WY.get({url:D});case 4:if(v=i.sent,I=v.data,!(I.code===0&&I.data)){i.next=8;break}return i.abrupt("return",I.data.docResourceDownloadUrl||"");case 8:return i.abrupt("return","");case 11:return i.prev=11,i.t0=i.catch(1),i.abrupt("return","");case 14:case"end":return i.stop()}},A,null,[[1,11]])}));return function(E){return B.apply(this,arguments)}}(),g=function(A){var E=A.studyInfo,D=A.progress,v=A.recent_start,I=A.page_count,C=A.enterpriseId,i=A.userId,m=A.token,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U,k=E.studyType;if(k==="studyTask"&&(U=L.ZP.SaveProgress.studySaveProgress(E)),(k==="course"||k==="enterprise")&&(U=L.ZP.SaveProgress.enterpriseCourseSaveProgress(E)),k==="studyProject"&&(U=L.ZP.SaveProgress.projectSaveProgress(E)),k==="platform"&&(U="".concat(L.ZP.SaveProgress.platformCourseSaveProgress(E))),(O||k==="platform")&&(U+="?enterprise_id=".concat(C,"&user_id=").concat(i)),O)return U+="&access_token=".concat(m||localStorage.getItem("token")),U;var w={progress:D,recent_start:v,tempTime:Date.parse(new Date)};return I&&(w.page_count=I),E.evaluationId&&(w.evaluation_id=E.evaluationId),p.WY.post({url:U,data:w})},u=B=>{var A=B.popupId,E=B.planId,D=B.resourceId,v=B.type;return p.WY.post({url:L.ZP.TaskStudyRecord.setRandomPopupRecord(E),data:{course_id:D,terminal_type:"PC",popup_id:A,type:v}})},T=(B,A)=>{var E=L.ZP.SaveProgress.reportStatusInterval(B);return p.WY.post({url:E,data:A})}},21594:function(de,Y,e){"use strict";e.d(Y,{pu:function(){return L},RG:function(){return M},Gp:function(){return Z},O8:function(){return y}});var _=e(88986),c=e(69164),K=e(38642),p=e(41225),L=P=>{var n="";switch(P){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},M=(P,n)=>{var g={};return n.forEach(u=>{var T=P.find(v=>v.type===u.type);if(T)if(u.type==="document_duration_limit"){var B=T.action_list,A=B.find(v=>v.type==="random_popup_verification");!(0,K.UI)("RANDOM_POPUP_VERIFY")||!A?g[u.name]="CLOSE":g[u.name]=A.param.checked==="true"?"OPEN":"CLOSE"}else if(u.type==="document_player"){var E=JSON.parse(T.actions);E.forEach(v=>{v.param.checked==="true"&&(g[u.name]=v.type)})}else if(u.type==="dynamic_watermark"){var D=T.action_list;D.forEach(v=>{v.type===u.resourceType&&v.param.checked==="true"&&(g[u.name]=v.param.comment)})}else g[u.name]=T.switch_status}),g},Z=P=>{(0,p.sH)((0,_.Z)({progress:100,recent_start:1},P)).then(n=>{n&&n.data&&(0,c.Z)(n.data.integral_info||"")})},y=P=>{var n=document.createElement("div");return n.innerHTML=P,n.childNodes[0]}},11449:function(de,Y,e){"use strict";e.d(Y,{Z:function(){return S}});var _=e(88986),c=e(33565),K=e(12924),p=e.n(K),L=e(3115),M=e(49111),Z=e(19650),y=e(62029),P=e(57663),n=e(71577),g=e(91768),u=e(28216),T=e(37055),B=e(10237);function A(j){var z=T.ZP.getHelpContentByMenuKey(),H={key:j};return B.WY.get({url:z,params:H})}var E=e(74228),D=e.n(E),v=e(1164),I=e(76466),C=e(38642);class i extends p().Component{constructor(z){var H;super(z);H=this,this.getHelpContentByMenuKey=()=>{var Q=this.props.defaultMenuKey;A(Q).then(q=>{var ee=q.data,ne=ee.help_url,oe=ee.video_url;this.setState({videoUrl:oe,helpUrl:ne})})},this.handleOpenHelpUrl=Q=>{if((0,C.ve)()){window.open(Q,"_blank");return}v.Z.targetTo({path:Q,isExternalLink:!0})},this.handleOpenVideo=function(Q){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.props.t("helpCenter.video");H.setState(ee=>({resourcePlayInfo:(0,_.Z)((0,_.Z)({},ee.resourcePlayInfo),{},{resourceInfo:{originUrl:Q,source:{FD:Q,OD:Q},contentType:"mp4"}}),previewInfo:(0,_.Z)((0,_.Z)({},ee.previewInfo),{},{title:q,visible:!0,onCancel:H.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Q=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,_.Z)((0,_.Z)({},Q),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:z.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var z=this.state,H=z.helpUrl,Q=z.resourcePlayInfo,q=z.previewInfo,ee=z.videoUrl,ne=this.props.t;return p().createElement("div",{className:D().helpCenter},ee&&p().createElement(n.Z,{type:"link",className:D()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ee)},ne("helpCenter.video")),H&&p().createElement(n.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(H)},ne("helpCenter.tutorial")),p().createElement(I.Z,(0,y.Z)({},Q,{previewInfo:q})))}}var m=j=>({defaultMenuKey:j.currentRoute.menuKey});i.defaultProps={defaultMenuKey:""};var O=(0,u.$j)(m)((0,g.Z)()(i));function U(j){var z=j.extra,H=localStorage.getItem("dingPersonnel"),Q=sessionStorage.getItem("dingPersonnel");return p().createElement(Z.Z,null,z,H!=="dingPersonnel"&&Q!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&p().createElement(O,null))}var k=U,w=e(4408);function W(j){var z=(0,K.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),H=(0,c.Z)(z,1),Q=H[0],q=j.pageContainerParams,ee=q===void 0?{}:q,ne=j.noPadding,oe=ne===void 0?!1:ne,$=j.isPersonal,G=$===void 0?!1:$,se=j.pageTitle,le=j.className,me=le===void 0?"":le,ve={extra:Q.helpCenter?p().createElement(k,{extra:ee.extra}):ee.extra},re=(0,_.Z)((0,_.Z)({},ee),ve);return p().createElement("div",{className:"page-container-content ".concat(oe?"page-container-noPadding":""," ").concat(G?"page-container-content_personal_background":""," ").concat(me)},se&&p().createElement(w.Z,{title:se}),G?p().createElement(L.Z,null,j.children):p().createElement(L.Z,re,j.children))}var S=W},6935:function(de,Y,e){"use strict";var _=e(36017),c=e(35247),K=e(12924),p=e.n(K),L=e(76651),M=Z=>{var y=Z.title,P=Z.t,n=()=>{L.m8.replace("/dashboard/employeeFiles/staffFilesReport")},g=()=>{L.m8.go(-1)};return p().createElement(c.Z,null,p().createElement(c.Z.Item,null,p().createElement("span",{onClick:n,className:"breadcrumb-light"},P("documentTitle.studentProfile"))),p().createElement(c.Z.Item,null,p().createElement("span",{onClick:g,className:"breadcrumb-light"},P("report.fileDetail"))),p().createElement(c.Z.Item,null,p().createElement("span",{className:"breadcrumb-deep"},y)))};Y.Z=M},99491:function(de,Y,e){"use strict";e.d(Y,{tl:function(){return L},qS:function(){return M},ZO:function(){return Z},Qd:function(){return y}});var _=e(3407),c=e(6793),K=(0,c.me)(),p=_.Z[K],L={TOTAL_DURATION:p.dashboard.totalTime,TASK_LEARN_DURATION:p.dashboard.taskTime,SELF_LEARN_DURATION:p.dashboard.selfStudyDuration,SMALL:p.report.small,ONLINE:p.report.online,LIVE:p.report.live,SELF:p.report.selfStudy,TASK:p.report.task,QUALIFIED:p.report.yes,UNQUALIFIED:p.report.no},M={first_learn_time:"FIRST_LEARN_TIME",lately_learn_time:"LATELY_LEARN_TIME",learn_duration:"LEARN_DURATION",first_exam_time:"FIRST_EXAM_TIME",lately_exam_time:"LATELY_EXAM_TIME",exam_score:"EXAM_SCORE",exam_times:"EXAM_COUNT",participants_train_sum:"TRAIN",total_duration:"TOTAL_DURATION",participants_exam_sum:"EXAM",learn_course_sum:"COURSE",learn_score:"LEARN_SCORE"},Z={ascend:"ASC",descend:"DESC"},y={COMPLETED:{name:p.report.completed,color:"#52C41A"},INCOMPLETE:{name:p.report.incomplete,color:"#A6A6A6"},QUALIFIED:{name:p.report.pass,color:"#52C41A"},UNQUALIFIED:{name:p.report.fail,color:"#FF4D3B"},ON_GOING:{name:p.report.inProgress,color:"#69A4E7"},OVERDUE:{name:p.report.overdue,color:"#A6A6A6"},DIMISSION:{name:p.dashboard.quitJob,color:"#A6A6A6"},INCUMBENCY:{name:p.dashboard.onJob,color:"#52C41A"},PENDING:{name:p.exam.toBeGraded,color:"#A6A6A6"}}},75028:function(de,Y,e){"use strict";e.r(Y);var _=e(88986),c=e(54029),K=e(62529),p=e(22385),L=e(31097),M=e(33565),Z=e(12924),y=e.n(Z),P=e(91768),n=e(78138),g=e.n(n),u=e(57068),T=e(76651),B=e(8449),A=e(6935),E=e(99491),D=e(4408),v=e(3583),I=C=>{var i=C.t,m=u.parse(T.m8.location.search),O=m.id,U=m.start_date,k=m.end_date,w={start_date:U,end_date:k,page_size:20,page_num:1,complete_status:"",name:"",data_sort:"LATELY_EXAM_TIME",data_sequence:"DESC",query_user_id:O},W=(0,Z.useState)(w),S=(0,M.Z)(W,2),j=S[0],z=S[1],H=(0,Z.useRef)(),Q=j.data_sort,q=j.data_sequence,ee=[{title:i("report.examName"),dataIndex:"exam_name",key:"exam_name",width:140,render:G=>y().createElement(L.Z,{title:G},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},G))},{title:i("report.completeStatus"),dataIndex:"complete_status",key:"complete_status",width:120,render:G=>{var se=E.Qd[G];return y().createElement(K.Z,{color:se.color,text:se.name})}},{title:i("report.firstExamTime"),dataIndex:"first_exam_time",key:"first_exam_time",width:150,sorter:!0,sortOrder:Q==="first_exam_time"&&q,render:G=>G?g()(Number(G)).format("YYYY-MM-DD HH:mm:ss"):"--"},{title:i("report.latelyExamTime"),dataIndex:"lately_exam_time",key:"lately_exam_time",width:150,sorter:!0,sortOrder:Q==="lately_exam_time"&&q,render:G=>G?g()(Number(G)).format("YYYY-MM-DD HH:mm:ss"):"--"},{title:i("report.examScore"),dataIndex:"exam_score",key:"exam_score",width:120,sorter:!0,sortOrder:Q==="exam_score"&&q},{title:i("report.examTimes"),dataIndex:"exam_times",key:"exam_times",width:120,sorter:!0,sortOrder:Q==="exam_times"&&q}],ne=G=>{var se=G.key,le=G.value,me=G.queryParams,ve=me===void 0?null:me;if(ve){z(ve);return}var re=(0,_.Z)((0,_.Z)({},j),{},{[se]:le});se==="dateString"&&(re.start_date=le[0],re.end_date=le[1]),z(re)},oe=[{type:"DateRange",key:"dateString",tooltip:"",defaultValue:[w.start_date,w.end_date]},{type:"select",key:"complete_status",placeholder:i("report.pleaseSelectCompleteStatus"),options:[{label:i("report.pass"),value:"QUALIFIED"},{label:i("report.fail"),value:"UNQUALIFIED"},{label:i("exam.toBeGraded"),value:"PENDING"}]},{type:"input",key:"name",placeholder:i("report.pleaseInputExamName")}],$=G=>{var se=G.page_num,le=G.page_size,me=G.data_sequence,ve=G.data_sort,re=(0,_.Z)((0,_.Z)({},j),{},{page_num:se,page_size:le,data_sequence:me,data_sort:ve});H.current&&(H.current.load(re),z(re))};return y().createElement(y().Fragment,null,y().createElement(D.Z,{title:i("report.joinExamDetail")}),y().createElement(v.Z,{ref:H,getDataApi:B.xS,tableUUID:"a505679c-d0ca-4a87-87f9-2f38cb1b8ecb",formList:oe,columns:ee,onParamsChange:ne,defaultParams:w,params:j,onTableChange:$,sticky:!0,showExtraUpdateTime:!0,sorter:{sort:E.qS,sequence:E.ZO},pageContainerParams:{header:{title:y().createElement(A.Z,{t:i,title:i("report.joinExamDetail")})}}}))};Y.default=(0,P.Z)()(I)},8449:function(de,Y,e){"use strict";e.d(Y,{xw:function(){return K},In:function(){return p},xS:function(){return L},h0:function(){return M},JG:function(){return Z},Td:function(){return y},b5:function(){return P},hE:function(){return n},o1:function(){return g}});var _=e(5430),c=e(10237);function K(u){var T=u.start_date,B=u.end_date,A=u.name,E=u.department_id,D=u.data_sort,v=u.data_sequence,I=u.page_size,C=u.page_num,i=u.job_status,m=_.VM.archives.getStudentArchivesList();return c.WY.get({url:m,params:{start_date:T,end_date:B,name:A,department_id:E,data_sort:D,data_sequence:v,page_size:I,page_num:C,job_status:i}})}function p(u){var T=u.start_date,B=u.end_date,A=u.name,E=u.learn_type,D=u.complete_status,v=u.course_type,I=u.data_sort,C=u.data_sequence,i=u.page_size,m=u.page_num,O=u.query_user_id,U=_.VM.archives.getCourseList();return c.WY.get({url:U,params:{start_date:T,end_date:B,name:A,learn_type:E,complete_status:D,course_type:v,data_sort:I,data_sequence:C,page_size:i,page_num:m,query_user_id:O}})}function L(u){var T=u.start_date,B=u.end_date,A=u.name,E=u.complete_status,D=u.data_sort,v=u.data_sequence,I=u.page_size,C=u.page_num,i=u.query_user_id,m=_.VM.archives.getExamList();return c.WY.get({url:m,params:{start_date:T,end_date:B,name:A,complete_status:E,data_sort:D,data_sequence:v,page_size:I,page_num:C,query_user_id:i}})}function M(u){var T=u.start_date,B=u.end_date,A=u.name,E=u.complete_status,D=u.data_sort,v=u.data_sequence,I=u.page_size,C=u.page_num,i=u.query_user_id,m=_.VM.archives.getTrainingList();return c.WY.get({url:m,params:{start_date:T,end_date:B,name:A,complete_status:E,data_sort:D,data_sequence:v,page_size:I,page_num:C,query_user_id:i}})}function Z(u){var T=_.VM.archives.getLearnDurationTrend();return c.WY.get({url:T,params:u})}function y(u){var T=_.VM.archives.getUserSystem();return c.WY.get({url:T,params:u})}function P(u){var T=_.VM.archives.getQuotaDetail();return c.WY.get({url:T,params:u})}function n(u){var T=_.VM.archives.getSummaryVersionNo();return c.WY.get({url:T,params:u})}function g(u){var T=_.VM.archives.setSummaryVersionNo();return c.WY.put({url:T,data:{version_no:u.versionNo}})}},9849:function(de,Y,e){"use strict";e.d(Y,{Ej:function(){return L},kL:function(){return M},T:function(){return Z},NU:function(){return y},FL:function(){return P},fn:function(){return n},bm:function(){return g},jY:function(){return u},Vs:function(){return T},li:function(){return B},Nl:function(){return A},YF:function(){return E},Q6:function(){return D},zW:function(){return v},Zv:function(){return I},Qg:function(){return C},qc:function(){return i},Ve:function(){return O},rS:function(){return U},Rh:function(){return k}});var _=e(10237),c=e(37055),K=e(38642),p={zaraFlag:(0,K.UI)("ZARA_H5")};function L(w,W){var S=c.ZP.StudyProjectList.startStudy(w);return _.WY.post({url:S,data:W})}function M(w){var W=c.ZP.Common.enroll(w);return _.WY.post({url:W})}function Z(w,W){var S=w.courseId,j=c.ZP.StudyProjectList.studyProject(S);return _.WY.get({url:j,params:W})}function y(w){var W=w.id,S=p.zaraFlag?c.m1.getAssessmentProjectInfo(W):c.m1.getProjectInfo(W);return _.WY.get({url:S})}function P(w){var W=w.courseId,S=c.ZP.EnterpriseCourse.addScanCount(W);return _.WY.post({url:S})}function n(){var w=c.ZP.StudyProjectList.getAccountInfo();return _.WY.get({url:w})}function g(w){var W=c.ZP.StudyProjectList.projectCertiUrl(w);return _.WY.get({url:W})}function u(w){var W=w.courseId,S=c.ZP.Courses.like(W);return _.WY.post({url:S})}function T(w){var W=c.ZP.EnterpriseCourse.addCommentAndScore();return _.qg.post({url:W,data:w})}function B(w){var W=c.ZP.EnterpriseCourse.getCourseComments();return _.WY.get({url:W,params:w})}function A(w){var W=c.ZP.EnterpriseCourse.addCommentAndScore();return _.qg.post({url:W,data:w})}function E(w){var W=c.ZP.EnterpriseCourse.deleteComment();return _.qg.post({url:W,data:w})}function D(w,W){var S=c.ZP.StudyProjectList.projectStudyRecord(w);return _.WY.get({url:S,params:W})}function v(w){var W=c.ZP.DingSpaceId.getSpaceId();return _.WY.get({url:W,params:w})}function I(w,W){var S=c.ZP.PlatformCourse.learningUrl(w);return _.WY.get({url:S,params:W})}function C(w){var W=c.ZP.MyExamTask.examIntro({examId:w});return _.WY.get({url:W})}function i(w){var W=c.ZP.MyExamTask.examCheckStatus({examId:w});return _.WY.get({url:W})}function m(w,W){var S=CONFIG.Common.getOperateLog(w);return formDataRequest.get({url:S,params:W})}function O(w,W){var S=p.zaraFlag?c.ZP.StudyProjectList.changeCustomStatus(w):c.ZP.StudyProjectList.changeStatus(w);return _.WY.post({url:S,data:W})}function U(w){var W=c.ZP.StudyProjectList.getProjectReward(w);return _.WY.get({url:W})}function k(w){var W=c.ZP.subsidyGz.subsidyCourseSetting(w);return _.WY.get({url:W})}},14441:function(de,Y,e){"use strict";e.d(Y,{v:function(){return K},t:function(){return p}});var _=e(10237),c=e(5430);function K(L){var M=c.Fc.getUserName();return _.WY.get({url:M,params:{user_id:L}})}function p(L){var M=c.Fc.getDepartmentNames();return _.WY.post({url:M,data:{ids:L}})}},91648:function(de,Y,e){"use strict";e.d(Y,{Z:function(){return _}});function _(c,K){var p,L,M,Z,p;if(L="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),p=[],M=void 0,K=K||L.length,c)for(M=0;M<c;)p[M]=L[0|Math.random()*K],M++;else for(Z=void 0,p[8]=p[13]=p[18]=p[23]="-",p[14]="4",M=0;M<36;)p[M]||(Z=0|Math.random()*16,p[M]=L[M===19?Z&3|8:Z]),M++;return p.join("")}},69164:function(de,Y,e){"use strict";var _=e(34792),c=e(48086);function K(p){p&&p.length>0&&c.default.success(p)}Y.Z=K},4412:function(de){de.exports="data:image/png;base64,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"}}]);
