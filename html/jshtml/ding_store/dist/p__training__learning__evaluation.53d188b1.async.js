(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[497],{4408:function(O,u,t){"use strict";var m=t(12924),_=t.n(m),E=t(28216),o=t(17780),d=t(38642),r=i=>({userInfo:i.user}),c=i=>{var s=i.title;return(0,o.xX)()&&setTimeout(()=>{document.title=s},0),(0,m.useEffect)(()=>{if(s&&document.title!==s&&setTimeout(()=>{document.title=s},0),(0,d.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var l=document.querySelector(".zoom-report");l&&(l.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[s]),_().createElement(_().Fragment,null)};c.defautProps={title:""},u.Z=(0,E.$j)(r)(c)},63948:function(O,u,t){"use strict";t.r(u);var m=t(57663),_=t(71577),E=t(12924),o=t.n(E),d=t(91768),r=t(57068),c=t(28216),i=t(38642),s=t(4408),l=t(10237),P=t(37055),f=g=>({userInfo:g.user});class T extends E.Component{constructor(){super(...arguments);this.state={link:""},this.getEvaluationUrl=a=>{var e=P.ZP.PostTalentEvaluation.getEvaluationUrl(a);l.WY.post({url:e}).then(n=>{this.setState({link:n.data.auto_login_url})})},this.getEvaluationReport=a=>{var e=P.ZP.PostTalentEvaluation.getEvaluationReport(a);l.WY.get({url:e}).then(n=>{this.setState({link:n.data.result_url})})},this.goBack=a=>{a.data==="goBack"&&this.returnBack()},this.returnBack=()=>{var a=this.props.location,e=r.parse(a.search),n=e.id,v=e.taskId,D=v===void 0?"":v,M=e.testId,y=M===void 0?"":M;D?(0,i.eJ)({url:"/training/trainingProject/traineeView?".concat(r.stringify({id:n,taskId:D}))}):y?(0,i.eJ)({url:"/talentedDevelopment/evaluationMenu/myTestTask/trainingTaskDetail?".concat(r.stringify({id:n,fromPage:"myTestTask"}))}):(0,i.eJ)({url:"/training/learning/task/myObligatoryTaskView?".concat(r.stringify({id:n,fromPage:"myObligatoryTask"}))})}}componentDidMount(){var a=this.props.location,e=r.parse(a.search),n=e.evaluationId,v=e.type;v==="open"?this.getEvaluationUrl(n):this.getEvaluationReport(n),window.addEventListener("message",this.goBack,!1)}render(){var a=this.state.link,e=this.props.t;return o().createElement("div",{className:"evaluation-container"},o().createElement(s.Z,{title:e("documentTitle.jobEvaluationReport")}),o().createElement("div",{className:"evaluation-container__content"},o().createElement("iframe",{title:"test",allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:a,id:"evaluation"})),o().createElement("div",{className:"evaluation-container__footer"},o().createElement("div",{className:"evaluation-container__footer__button"},o().createElement(_.Z,{onClick:this.returnBack,size:"large"},e("common.return")))))}}u.default=(0,c.$j)(f)((0,d.Z)()(T))}}]);
