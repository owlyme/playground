(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[1060],{4408:function(R,D,s){"use strict";var Z=s(12924),o=s.n(Z),L=s(28216),O=s(17780),_=s(38642),E=h=>({userInfo:h.user}),e=h=>{var r=h.title;return(0,O.xX)()&&setTimeout(()=>{document.title=r},0),(0,Z.useEffect)(()=>{if(r&&document.title!==r&&setTimeout(()=>{document.title=r},0),(0,_.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var f=document.querySelector(".zoom-report");f&&(f.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[r]),o().createElement(o().Fragment,null)};e.defautProps={title:""},D.Z=(0,L.$j)(E)(e)},1164:function(R,D,s){"use strict";var Z=s(12924),o=s.n(Z),L=s(76651),O=s(38642),_=s(91302),E=e=>{var h=navigator.userAgent.toLocaleLowerCase(),r=localStorage.getItem("enterpriseId"),f=(0,O.lz)(r,e.projectType),d=localStorage.getItem("dingPersonnel"),m=_.bl.includes(d),i=e.target;function C(P){if(i==="self"&&(P.preventDefault(),L.m8.push(e.to)),m){if(e.projectType==="student"){window.location.href="".concat(f,"/").concat(e.to);return}L.m8.push(e.to);return}if(dd.version){P.preventDefault();var T="";e.to.includes("?")?T="".concat(f).concat(e.to,"&ddtab=true"):T="".concat(f).concat(e.to,"?ddtab=true"),dd.biz.util.openLink({url:T})}else h.indexOf("lark")!==-1&&(window.location.href="".concat(f).concat(e.to))}return o().createElement("a",{rel:"noreferrer",href:"".concat(e.projectType==="student"?"".concat(f).concat(e.to):"#".concat(e.to)),className:"".concat(e.wrapCls," cl-pointer"),target:h.indexOf("lark")!==-1||m?"_self":e.target||"_blank",onClick:C},e.children)};E.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},E.targetTo=e=>{var h=e.path,r=e.from,f=e.isExternalLink,d=f===void 0?!1:f,m=e.isAsync,i=m===void 0?!1:m,C=e.openName,P=C===void 0?"_blank":C,T=e.projectType,x=T===void 0?"manage":T,M=e.ddTab,S=M===void 0?!0:M,v,I=localStorage.getItem("dingPersonnel"),N=_.bl.includes(I),F=navigator.userAgent.toLocaleLowerCase(),V=localStorage.getItem("enterpriseId"),A=(0,O.lz)(V,x),Y=localStorage.getItem("appType"),K=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var k="";if(v=d?"":A,N&&!d){if(x==="student"){window.location.href="".concat(A).concat(h);return}L.m8.push(h);return}h.includes("?")?k="".concat(v).concat(h,"&ddtab=").concat(S):k="".concat(v).concat(h,"?ddtab=").concat(S),dd.biz.util.openLink({url:k})}else if(F.indexOf("lark")!==-1)v=d?"":A,window.location.href="".concat(v).concat(h);else if(Y==="wx_app"&&K&&d&&r==="imgText")v=d?"":x==="student"?"".concat(A):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(v).concat(h)});else if(v=d?"":x==="student"?"".concat(A):"#",i){var b=window.open("","_blank");setTimeout(()=>{b.location="".concat(v).concat(h)},100)}else window.open("".concat(v).concat(h),P)},D.Z=E},60667:function(R,D,s){"use strict";s.d(D,{Z:function(){return h}});var Z=s(33565),o=s(12924),L=s.n(o),O=s(28216);function _(r){var f=r.type,d=r.openid,m=r.from,i=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{m==="vue"?window.parent.WWOpenData.bind(i.current):WWOpenData.bind(i.current)}),L().createElement("ww-open-data",{ref:i,type:f,openid:d})}var E=r=>{var f=r.wxWorkApiFlag,d=r.appType,m=r.from,i=(0,o.useState)(!1),C=(0,Z.Z)(i,2),P=C[0],T=C[1];(0,o.useEffect)(()=>{var S=localStorage.getItem("qyWechatBook");(d!=="wx_app"||f||S==="false"||m==="vue"||m==="taro")&&T(!0)},[f,d,m]);var x=(0,o.useCallback)(()=>{var S=r.type,v=r.value,I=r.name,N=I===void 0?"":I;switch(console.warn(r,"props"),S){case"wx_sync":{var F=r.dataType;return v?L().createElement(_,{from:m,type:F,openid:v}):N}default:return N}},[r]),M=()=>{var S=r.name,v=r.dataType,I=localStorage.getItem("qyWechatBook");if(v===""||I==="false")return S;if(m==="vue"||m==="taro")return x();switch(r.appType){case"wx_app":return x();default:return S}};return P?M():r.name};E.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var e=r=>({appType:r.user.appType,wxWorkApiFlag:r.user.wxWorkApiFlag}),h=(0,O.$j)(e)(E)},22162:function(R,D,s){"use strict";var Z=s(12924),o=s.n(Z),L=s(28216),O=s(91768),_=s(84874),E=s(6793),e=s(60667),h=f=>{var d=f.advancedSetting;return{themeColor:d.themeColor}};class r extends o().Component{constructor(d){super(d);this.state={}}render(){var d=this.props,m=d.prefixCls,i=d.courseInfo,C=d.t,P=d.themeColor,T=(0,E.T4)(i.preferentialPrice),x=T.integer,M=T.decimal,S=i.officialPrice-i.preferentialPrice>0&&i.flag===1,v=(0,E.T4)(i.officialPrice-i.preferentialPrice),I=v.integer,N=v.decimal;return o().createElement("div",{className:m},o().createElement("div",{className:"".concat(m,"__cover")},o().createElement("img",{src:i.cover,alt:""}),i.teacherName&&i.flag!==1?o().createElement("div",{className:"".concat(m,"__teacher")},C("course.lecturer"),"\uFF1A",i.teacher_type==="inside"?o().createElement(e.Z,{dataType:"userName",value:i.teacher_sync_user_id,name:i.teacherName,type:i.teacher_source_type}):i.teacherName):null,i.flag===1?o().createElement("div",{className:"".concat(m,"__package")},C("course.coursePackage")):null),o().createElement("div",{className:"".concat(m,"__info")},o().createElement("div",{className:"".concat(m,"__info__name")},i.title),o().createElement("div",{className:"".concat(m,"__info__bottom")},o().createElement("div",{className:"".concat(m,"__info__price")},i.free?o().createElement("div",{className:"".concat(m,"__info__price__free"),style:{color:P}},C("course.free")):o().createElement("div",{className:"".concat(m,"__info__price__pay"),style:{color:P}},"\uFFE5",o().createElement("span",{className:"".concat(m,"__info__price__integer")},x),".",M),S?o().createElement("div",{className:"".concat(m,"__info__price__pay__save")},C("course.saveMoney"),I,Number(N)>0?".".concat(N):"",C("payment.moneyUnit")):null),i.flag!==1?o().createElement("div",{className:"".concat(m,"__info__count")},o().createElement("div",{className:"".concat(m,"__info__scan-count")},o().createElement(_.Z,{iconClass:"icon-guankancishu",size:"16px"}),i.scanCount)):o().createElement("div",{className:"".concat(m,"__info__count")},o().createElement("div",{className:"".concat(m,"__info__course-count")},o().createElement(_.Z,{iconClass:"icon-jingpinkecheng",size:"16px"}),i.courseCount)))))}}r.defaultProps={prefixCls:"platform-course-card"},D.Z=(0,L.$j)(h)((0,O.Z)()(r))},23785:function(R,D,s){"use strict";s.r(D),s.d(D,{default:function(){return de}});var Z=s(14781),o=s(53431),L=s(20228),O=s(11382),_=s(88986),E=s(12924),e=s.n(E),h=s(76651),r=s(91768),f=s(57068),d=s(22162),m=s(57663),i=s(71577),C=s(43358),P=s(34041),T=s(47673),x=s(4107),M=s(28216),S=s(57254),v=s(54549),I=s(10237),N=s(37055),F=s(62029),V=s(20136),A=s(55241),Y=s(22385),K=s(31097),k=s(94184),b=s.n(k),ee=s(18329),te=()=>({});class X extends E.Component{constructor(n){super(n);this.handleCancel=()=>{var a=this.props.onHideFilter;a&&a(!1,[])},this.handleConfirm=()=>{var a=this.state.selectItems,t=this.props.onHideFilter;t&&t(!0,a)},this.renderSelectContainer=()=>{var a=this.props,t=a.prefixCls,c=a.data,p=a.type,u=this.state,y=u.firstRankActiveItem,U=u.selectItems,W=localStorage.getItem("themeColor")||"#465dcd";return c.length?e().createElement("div",{className:"".concat(t,"__select-container")},e().createElement("div",{className:"".concat(t,"__select-container__subject")},c.map(g=>e().createElement("div",{className:b()("".concat(t,"__select-container__subject__item"),y.id===g.id?"active":""),style:y.id===g.id?{color:W}:{},onClick:()=>this.getChildrenList(g),key:g.id},e().createElement("span",{className:"".concat(t,"__select-container__subject__item__name")},g.name)))),p==="classify"?e().createElement("div",{className:b()("".concat(t,"__select-container__subject-children"),"clearfix")},y.children.map(g=>e().createElement("div",{className:"".concat(t,"__select-container__subject-children__industry-item"),key:g.id},e().createElement(K.Z,{placement:"top",title:g.name},e().createElement("div",{className:b()("".concat(t,"__select-container__subject-children__industry-item__name"),U.some(B=>B.id===g.id)?"active":""),style:U.some(B=>B.id===g.id)?{color:W,borderColor:W}:{},onClick:()=>this.handleSelectChildrenItem(g)},g.name))))):e().createElement("div",{className:b()("".concat(t,"__select-container__subject-children"),"clearfix")},y.children.map(g=>e().createElement("div",{className:"".concat(t,"__select-container__subject-children__item"),key:g.id},e().createElement(A.Z,{width:150,content:this.renderSubjectChildren(g),arrowPointAtCenter:!0,title:null,trigger:"click",className:"course__select__dialog",placement:"bottom",getPopupContainer:()=>document.querySelector(".".concat(t,"__select-container__subject-children__item"))},e().createElement("span",{className:"".concat(t,"__select-container__subject-children__item__name")},g.name)))))):null},this.renderSubjectChildren=a=>{var t=this.props.prefixCls,c=this.state.selectItems,p=localStorage.getItem("themeColor")||"#465dcd";return e().createElement("div",{className:"".concat(t,"__subject-children-popover")},e().createElement("div",{className:"".concat(t,"__subject-children-popover__item"),onClick:()=>this.toggleItem(a)},e().createElement("span",null,"\u5168\u90E8")),a.children.map(u=>e().createElement("div",{className:"".concat(t,"__subject-children-popover__item"),onClick:()=>this.handleSelectChildrenItem(u),key:u.id},e().createElement("span",{className:c.some(y=>y.id===u.id)?"active":"",style:c.some(y=>y.id===u.id)?{color:p,borderColor:p}:{}},u.name))))},this.toggleItem=a=>{var t=this.state.selectItems;t.some(c=>c.id===a.id)||(t.push(a),this.setState({selectItems:t}))},this.handleSelectChildrenItem=a=>{var t=this.state.selectItems;t.some(c=>c.id===a.id)||(t.push(a),this.setState({selectedChildrenItem:a,selectItems:t}))},this.getChildrenList=a=>{this.setState({firstRankActiveItem:a})},this.handleDeleteSelectItem=a=>{var t=this.state.selectItems;t.splice(a,1),this.setState({selectItems:t})},this.handleClearSelectItems=()=>{this.setState({selectItems:[]})};var l=e().createElement("div",null,e().createElement(i.Z,{key:"cancel",type:"default",onClick:this.handleCancel},n.t("common.cancel")),e().createElement(i.Z,{key:"submit",type:"primary",onClick:this.handleConfirm},n.t("common.ok")));this.state={modalConfig:{mask:!0,width:860,title:"",footer:l,bodyStyle:{padding:0},destroyOnClose:!0,visible:!1,onCancel:this.handleCancel},firstRankActiveItem:{},selectedChildrenItem:{},selectItems:[]}}UNSAFE_componentWillReceiveProps(n){var l=n.dialogTitle,a=n.data,t=n.visible,c=n.selectItems,p=this.state.modalConfig;this.setState({modalConfig:(0,_.Z)((0,_.Z)({},p),{},{title:l,visible:t}),firstRankActiveItem:a[0],selectItems:c})}render(){var n=this.state,l=n.modalConfig,a=n.selectItems,t=this.props,c=t.prefixCls,p=t.t;return e().createElement(ee.ZP,(0,F.Z)({className:c},l),e().createElement("div",{className:"".concat(c,"__body")},a.length>0?e().createElement("div",{className:"".concat(c,"__selected-panel")},a.map((u,y)=>e().createElement("div",{className:"".concat(c,"__selected-panel__item"),key:u.id},e().createElement("span",null,u.name),e().createElement(v.Z,{onClick:()=>this.handleDeleteSelectItem(y)}))),e().createElement("div",{className:"".concat(c,"__selected-panel__clear"),onClick:this.handleClearSelectItems},p("common.clear"))):null,e().createElement("div",{className:"".concat(c,"__select-container")},this.renderSelectContainer())))}}X.defaultProps={prefixCls:"platform-course-select-dialog",visible:!1,type:"",dialogTitle:"",selectItems:[],data:[]};var G=(0,M.$j)(te)((0,r.Z)()(X)),ae=$=>({userInfo:$.user}),z={getIndustryList:N.ZP.CourseMall.getIndustryList,getPostList:N.ZP.CourseMall.getPostList,getClassifyList:N.ZP.CourseMall.getClassifyList},se=x.Z.Search,w=P.Z.Option;class J extends e().Component{constructor(){super(...arguments);this.state={postData:[],classifyData:[],classifySelectItems:[],postSelectItems:[],dialogClassifyVisible:!1,dialogPostVisible:!1,selectCourseType:this.props.courseType?this.props.courseType:void 0},this.getIndustryList=()=>I.WY.get({url:z.getIndustryList()}),this.getPostList=()=>I.WY.get({url:z.getPostList()}),this.getClassifyList=()=>I.WY.get({url:z.getClassifyList()}),this.handleShowDialog=n=>{switch(n){case"classify":this.setState({dialogClassifyVisible:!0});break;case"post":this.setState({dialogPostVisible:!0});break;default:break}},this.handleSearch=n=>{var l=this.props.onSearch;l&&l({title:n})},this.searchChange=n=>{var l=n.target.value,a=n.type,t=this.props.onSearch;a==="click"&&t&&this.handleSearch(l)},this.handleChangeCourseType=n=>{this.setState({selectCourseType:n});var l=this.props.onSearch;l&&l({flag:n})},this.handleHideClassifyFilter=(n,l)=>{var a=this.state.classifySelectItems,t=this.props.onSearch;if(this.setState({dialogClassifyVisible:!1,classifySelectItems:n?l:a}),n){var c=l.map(p=>p.id).join(",");t&&t({classifyId:c})}},this.handleHidePostFilter=(n,l)=>{var a=this.state.postSelectItems,t=this.props.onSearch;if(this.setState({dialogPostVisible:!1,postSelectItems:n?l:a}),n){var c=l.map(p=>p.id).join(",");t&&t({post:c})}},this.handleDeleteSelectItem=(n,l)=>{var a=this.props.onSearch,t=this.state,c=t.classifySelectItems,p=t.postSelectItems;switch(n){case"classify":c.splice(l,1),this.setState({classifySelectItems:c},()=>{var u=c.map(y=>y.id).join(",");a&&a({classifyId:u})});break;case"post":p.splice(l,1),this.setState({postSelectItems:p},()=>{var u=p.map(y=>y.id).join(",");a&&a({post:u})});break;default:break}}}componentDidMount(){var n=this.props.classifyId,l=[];Promise.all([this.getIndustryList(),this.getPostList(),this.getClassifyList()]).then(a=>{a[2].data.forEach(t=>{n===t.id?l=[t]:t.children.length>0&&t.children.forEach(c=>{c.id===n&&(l=[c])})}),this.setState({postData:a[1].data,classifyData:a[2].data,classifySelectItems:l})})}render(){var n=this.props,l=n.prefixCls,a=n.t,t=n.title,c=this.state,p=c.postData,u=c.classifyData,y=c.dialogClassifyVisible,U=c.dialogPostVisible,W=c.classifySelectItems,g=c.postSelectItems,B=c.selectCourseType,ue=[...W,...g];return e().createElement("div",{className:l},e().createElement("div",{className:"".concat(l,"__operate")},e().createElement("div",{className:"".concat(l,"__operate__select")},e().createElement("span",{className:"".concat(l,"__operate__label")},a("course.advancedFilter"),"\uFF1A"),e().createElement(P.Z,{className:"".concat(l,"__operate__item"),style:{width:"108px"},defaultValue:B,placeholder:a("course.selectCourseType"),onChange:this.handleChangeCourseType},e().createElement(w,{value:"2"},a("common.all")),e().createElement(w,{value:"0"},a("common.courseLabel")),e().createElement(w,{value:"1"},a("course.coursePackage"))),e().createElement(i.Z,{className:"".concat(l,"__operate__item"),onClick:()=>this.handleShowDialog("classify")},a("course.professional")," ",e().createElement(S.Z,null)),e().createElement(i.Z,{className:"".concat(l,"__operate__item"),onClick:()=>this.handleShowDialog("post")},a("course.jobs")," ",e().createElement(S.Z,null))),e().createElement("div",{className:"".concat(l,"__operate__search")},e().createElement(se,{className:"".concat(l,"__operate__search__input"),defaultValue:t,placeholder:a("searchInputPlaceholder.relationCourse"),enterButton:!0,onSearch:j=>this.handleSearch(j),onChange:this.searchChange,allowClear:!0}))),ue.length>0?e().createElement("div",{className:"".concat(l,"__selected-items-container")},e().createElement("span",{className:"".concat(l,"__selected-items-container__label")},a("course.selectedCondition"),":"),W.map((j,H)=>e().createElement("div",{className:"".concat(l,"__selected-items-container__item"),key:j.id},e().createElement("span",null,j.name),e().createElement(v.Z,{onClick:()=>this.handleDeleteSelectItem("classify",H)}))),g.map((j,H)=>e().createElement("div",{className:"".concat(l,"__selected-items-container__item"),key:j.id},e().createElement("span",null,j.name),e().createElement(v.Z,{onClick:()=>this.handleDeleteSelectItem("post",H)})))):null,e().createElement(G,{key:"classify",visible:y,type:"classify",dialogTitle:"\u9009\u62E9\u9886\u57DF",selectItems:W,data:u,onHideFilter:this.handleHideClassifyFilter}),e().createElement(G,{key:"post",visible:U,type:"post",dialogTitle:"\u9009\u62E9\u5C97\u4F4D",selectItems:g,data:p,onHideFilter:this.handleHidePostFilter}))}}J.defaultProps={prefixCls:"platform-course-selector-wrapper"};var le=(0,M.$j)(ae)((0,r.Z)()(J)),ne=s(4408),Q=s(1164),ce=s(76625),re=s.n(ce),oe=s(6793),ie={getCourseList:N.ZP.CourseMall.getCourseList},me=["10","20","30","40","50","100"];class q extends e().Component{constructor(){var n;super(...arguments);n=this,this.state={isLoading:!0,searchParams:{title:"",classifyId:"",flag:"",industry:"",post:"",pageNumber:1,pageSize:20},courseListInfo:{}},this.getCourseList=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n.state.searchParams;a=(0,_.Z)((0,_.Z)({},a),l),I.WY.get({url:ie.getCourseList(),params:a}).then(t=>{n.setState({courseListInfo:t.data,isLoading:!1,searchParams:a})})},this.handlePageNumberChange=(l,a)=>{var t=this.state.searchParams;this.setState({searchParams:(0,_.Z)((0,_.Z)({},t),{},{pageNumber:l,pageSize:a})},()=>{this.getCourseList()})},this.renderCourseList=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=n.props.prefixCls;return l.length>0?l.map(t=>e().createElement("div",{className:"".concat(a,"__course-list__item"),key:t.id},t.flag===1?e().createElement(Q.Z,{to:"/course/coursePackage?coursePackageId=".concat(t.id),projectType:"student"},e().createElement(d.Z,{courseInfo:t})):e().createElement(Q.Z,{to:"/course/platformCourse?courseId=".concat(t.id),projectType:"student"},e().createElement(d.Z,{courseInfo:t})))):e().createElement("div",{className:"".concat(a,"__empty")},e().createElement("img",{src:re()}))}}componentDidMount(){var n=f.parse(h.m8.location.search),l=n.classifyId,a=n.title,t=n.flag,c=this.state.searchParams;this.setState({searchParams:(0,_.Z)((0,_.Z)({},c),{},{classifyId:l,title:a,flag:t})},()=>{this.getCourseList()})}render(){var n=this.props,l=n.prefixCls,a=n.t,t=this.state,c=t.isLoading,p=t.courseListInfo,u=t.searchParams;return c?e().createElement(O.Z,{size:"large"}):e().createElement("div",{className:l},e().createElement(ne.Z,{title:a("documentTitle.courseList")}),e().createElement("div",{className:"".concat(l,"__select-course")},e().createElement(le,{onSearch:this.getCourseList,classifyId:u.classifyId,title:u.title,courseType:u.flag})),e().createElement("div",{className:"".concat(l,"__display-course")},e().createElement("div",{className:"".concat(l,"__course-list")},this.renderCourseList(p.list)),e().createElement(o.Z,{className:"".concat(l,"__pagination"),total:p.total,showTotal:y=>(0,oe.ZT)("".concat(a("course.totalCount")),y),pageSize:u.pageSize,defaultCurrent:1,current:u.pageNumber,showSizeChanger:!0,pageSizeOptions:me,onChange:this.handlePageNumberChange})))}}q.defaultProps={prefixCls:"course-selector-container"};var de=(0,r.Z)()(q)},76625:function(R,D,s){R.exports=s.p+"static/no_search_class.ab8fd345.png"}}]);
