(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[7376],{4408:function(Z,D,t){"use strict";var g=t(12924),n=t.n(g),A=t(28216),i=t(17780),C=t(38642),_=e=>({userInfo:e.user}),m=e=>{var a=e.title;return(0,i.xX)()&&setTimeout(()=>{document.title=a},0),(0,g.useEffect)(()=>{if(a&&document.title!==a&&setTimeout(()=>{document.title=a},0),(0,C.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var u=document.querySelector(".zoom-report");u&&(u.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[a]),n().createElement(n().Fragment,null)};m.defautProps={title:""},D.Z=(0,A.$j)(_)(m)},27114:function(Z,D,t){"use strict";var g=t(62029),n=t(12924),A=t.n(n),i=t(38642),C=_=>{var m=()=>{(0,i.eJ)({url:"".concat(_.to)})};return A().createElement("a",(0,g.Z)({onClick:()=>m()},_),_.children)};D.Z=C},3179:function(Z,D,t){"use strict";var g=t(12924),n=t.n(g),A=t(91768),i=t(85589),C=t.n(i);class _ extends n().Component{constructor(e){super(e);this.renderImgAction=()=>{var a=this.state.imgUrls,u=a.length;return a.length>4&&(a=a.slice(0,4)),a.map((r,M)=>n().createElement("div",{className:"img-box",key:M},n().createElement("img",{src:r,alt:""}),M===3&&u>4&&n().createElement("div",{className:"mask"},"+".concat(u-4))))},this.state={imgUrls:[],text:""}}componentDidMount(){var e=this.props.content,a=e===void 0?"":e;if(typeof a=="object"){var u=a.content.split("<br/>");this.setState({imgUrls:a.imgs,text:u})}else{var r=C().createEditorState(a),M=r.toHTML(),I=document.createElement("div");I.innerHTML=M;for(var O=I.getElementsByTagName("img"),T=[],P=0;P<O.length;P++)T.push(O[P].src);this.setState({imgUrls:T,text:I.innerText})}}render(){var e=this.props,a=e.prefixCls,u=e.content,r=this.state.text;return u?n().createElement("div",{className:"".concat(a)},n().createElement("div",{className:"".concat(a,"-text-action")},n().createElement("div",null,Array.isArray(r)?r.map((M,I)=>n().createElement("p",{key:I},M)):r)),n().createElement("div",{className:"".concat(a,"-img-action")},this.renderImgAction())):null}}_.defaultProps={prefixCls:"display-content",content:""},D.Z=(0,A.Z)()(_)},43787:function(Z,D,t){"use strict";var g=t(20228),n=t(11382),A=t(13254),i=t(14277),C=t(57663),_=t(71577),m=t(88986),e=t(34792),a=t(48086),u=t(57361),r=t(9754),M=t.n(r),I=t(12924),O=t.n(I),T=t(91768),P=t(76651),W=t(28216),p=t(37055),K=t(10237),U=t(16645),s,f,B,d,$=(s=(0,W.$j)(N=>{var y=N.user;return{userId:y.id}}),f=Reflect.metadata("design:type",Function),B=Reflect.metadata("design:paramtypes",[void 0]),s(d=f(d=B(d=class extends O().Component{constructor(y){var o;super(y);o=this,this.initDataList=(0,u.Z)(M().mark(function v(){var l,h,E,L,c,R,x,z;return M().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o.setState({loading:!0}),l=o.state,h=l.params,E=l.url,L=o.props.t,b.next=5,K.WY.get({url:E,params:h});case 5:c=b.sent,R=c.data,R.code===0?(x=o.state.dataList,z=R.data.content||[],o.setState({dataList:x.concat(z),totalElements:R.data.totalElements,loading:!1})):a.default.error(R.msg||L("community.isError"));case 8:case"end":return b.stop()}},v)})),this.loadMore=()=>{var v=this.state.params;this.setState({params:(0,m.Z)((0,m.Z)({},v),{},{page:v.page+1})},()=>{this.initDataList()})},this.handleStarClick=()=>{},this.state={dataList:[],params:{page:0,size:15},loading:!0,totalElements:0}}componentDidMount(){var y=P.m8.location.query,o=y===void 0?{}:y,v=o.id,l=this.props,h=l.pageType,E=l.userId,L=this.state.params,c="";switch(h){case"my-question":c=p.ZP.community.getMyQuestionList(E);break;case"my-article":c=p.ZP.community.getMyArticleList(E);break;case"my-answer":c=p.ZP.community.getMyAnswerList(E);break;case"space-question":c=p.ZP.community.getQuestionList(),L.space=v;break;case"space-article":c=p.ZP.community.getArticleList(),L.spaceId=v;break;default:c=p.ZP.community.getMyQuestionList(E);break}this.setState({url:c,params:L},()=>{this.initDataList()})}render(){var y=this.props,o=y.prefixCls,v=y.t,l=y.pageType,h=this.state,E=h.dataList,L=h.loading,c=h.totalElements;return O().createElement(n.Z,{spinning:L},O().createElement("div",{className:"".concat(o)},E.length>0?O().createElement(O().Fragment,null,E.map((R,x)=>O().createElement(U.Z,{key:R.id,detail:R,isQuestion:l.indexOf("question")>-1,isAnswer:l.indexOf("answer")>-1,index:x,showUser:l.indexOf("space")>-1,showSpace:l.indexOf("my")>-1})),O().createElement("div",{className:"".concat(o,"-bottom")},c>E.length?O().createElement(_.Z,{type:"default",onClick:()=>this.loadMore()},v("course.loadMore")):O().createElement("span",null,v("community.isBottom")))):O().createElement(i.Z,null)))}})||d)||d)||d);$.defaultProps={prefixCls:"source-list",pageType:"my-question",userId:"",text:""},D.Z=(0,T.Z)()($)},74266:function(Z,D,t){"use strict";var g=t(13062),n=t(71230),A=t(89032),i=t(15746),C=t(12924),_=t.n(C),m=t(91768),e=t(28216),a=t(84874),u=t(27114),r,M,I=(r=(0,e.$j)(()=>({})),r(M=class extends C.Component{constructor(){super(...arguments);this.changeMyCenterTabs=T=>{var P=this.props.dispatch;P({type:"community/saveCreateCenterTab",payload:{activeMyTab:T}})}}render(){var T=this.props,P=T.questions,W=T.answers,p=T.articles,K=T.showHeader,U=K===void 0?!1:K,s=T.t,f=[{title:s("community.myQuestion"),count:P,key:"question"},{title:s("community.myAnswer"),count:W,key:"answer"},{title:s("community.myArticle"),count:p,key:"article"}];return _().createElement("div",{className:"create-center-box"},_().createElement(u.Z,{to:"/community/myCenter"},U&&_().createElement("div",{className:"create-center-title"},_().createElement("div",null,s("community.createCenter")),_().createElement(a.Z,{iconClass:"icon-f-arrow-right",fontSize:"18px",color:"#666"}))),_().createElement("div",{className:"create-center-body"},_().createElement(n.Z,{gutter:16},f.map(B=>_().createElement(i.Z,{key:B.key,className:"gutter-row",span:8},_().createElement(u.Z,{to:"/community/myCenter",onClick:()=>this.changeMyCenterTabs(B.key)},_().createElement("p",null,B.title),_().createElement("p",null,B.count)))))))}})||M);D.Z=(0,m.Z)()(I)},70110:function(Z,D,t){"use strict";var g=t(12924),n=t.n(g),A=t(84874),i=t(27114);class C extends g.Component{constructor(m){super(m);this.state={}}render(){var m=this.props.cardList,e=m===void 0?[]:m;return n().createElement("div",{className:"guildLink_box"},e.map(a=>n().createElement("div",{className:"guildLink-container",key:a.id},n().createElement(i.Z,{to:a.link,className:"guildLink_card"},n().createElement("div",{className:"guildLink_card-bg",style:{background:a.backgroundColor||"#fff"}},n().createElement(A.Z,{iconClass:a.iconClass,size:"20px",color:a.color})),n().createElement("div",{className:"guild-card-title"},a.title)))))}}D.Z=C},22294:function(Z,D,t){"use strict";var g=t(57663),n=t(71577),A=t(12924),i=t.n(A),C=t(38642);class _ extends A.Component{constructor(e){super(e);this.state={}}backCommunityHome(){(0,C.eJ)({url:"/community"})}render(){var e=this.props.isShowHeader;return i().createElement("div",{className:"layer-layout-box"},e&&i().createElement("div",{className:"layer-layout-box-header"},i().createElement(n.Z,{onClick:this.backCommunityHome,type:"primary"},"\u8FD4\u56DE\u9996\u9875")),i().createElement("div",{className:"layer-layout-container"},this.props.children))}}_.defaultProps={isShowHeader:!1},D.Z=_},16645:function(Z,D,t){"use strict";var g=t(71153),n=t(60331),A=t(49111),i=t(19650),C=t(94233),_=t(67869),m=t(12924),e=t.n(m),a=t(91768),u=t(3179),r=t(27114),M=t(38642),I=t(84874);class O extends m.Component{constructor(P){super(P);this.state={}}render(){var P,W,p,K,U=this.props,s=U.detail,f=U.t,B=U.isQuestion,d=B===void 0?!0:B,$=U.showUser,N=$===void 0?!1:$,y=U.showSpace,o=y===void 0?!1:y,v=U.isAnswer,l=v===void 0?!1:v,h=U.isSearch,E=h===void 0?!1:h,L;l?L=s.answer.content?JSON.parse(s.answer.content).content:s.answer.content:L=s.content?JSON.parse(s.content).content:s.content;var c=d||l?"/community/questionDetail":"/community/articleDetail",R=f(d||l?"community.publishQuesTips":"community.publishArtTips"),x=d?s.lastDate:l?(P=s.answer)===null||P===void 0?void 0:P.lastDate:s.createAt;return e().createElement("div",{className:"list-item-box"},N&&e().createElement(i.Z,{size:8,align:"center",className:"list-item-container"},e().createElement(_.C,{size:36,src:((W=s.author)===null||W===void 0?void 0:W.avatar)||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png")}),e().createElement("span",{className:"list_item_name"},s.author.name),e().createElement("div",{className:"list-item_type"},R)),e().createElement("header",{className:"list-item-box-header"},e().createElement(r.Z,{to:"".concat(c,"?id=").concat(s.id),className:"list-item-box-title"},s.isTop===1&&!E&&e().createElement(n.Z,{color:"blue"},f("community.prePosition")),s.title),o&&e().createElement("div",null,e().createElement(r.Z,{to:"/community/myCircle?id=".concat(s==null||(p=s.space)===null||p===void 0?void 0:p.id),className:"list-item-box-space"},s==null||(K=s.space)===null||K===void 0?void 0:K.name))),L&&e().createElement("div",{className:"list-item-box-content",onClick:()=>{(0,M.eJ)({url:"".concat(c,"?id=").concat(s.id)})}},e().createElement(u.Z,{content:L})),e().createElement("div",{className:"list-item-option"},e().createElement(i.Z,{size:10},!l&&e().createElement("div",{type:"default",className:"list-item-option-btn"},e().createElement(i.Z,{size:3},e().createElement(I.Z,{iconClass:d?"icon-huidashu":"icon-Comment",size:"14px"}),e().createElement("span",null,d?s.answerCount:s.commentCount))),!d&&e().createElement("div",{type:"default",className:"list-item-option-btn"},e().createElement(i.Z,{size:3},e().createElement(I.Z,{iconClass:"icon-dianzan",size:"14px"}),e().createElement("span",null,l?s.answer.stars:s.stars)))),e().createElement("div",{className:"list-item-time"},(0,M.pi)(x))))}}D.Z=(0,a.Z)()(O)},51914:function(Z,D,t){"use strict";t.r(D);var g=t(20228),n=t(11382),A=t(34792),i=t(48086),C=t(57361),_=t(18106),m=t(88108),e=t(9754),a=t.n(e),u=t(12924),r=t.n(u),M=t(91768),I=t(10237),O=t(37055),T=t(28216),P=t(4408),W=t(22294),p=t(43787),K=t(70110),U=t(74266),s,f,B,d,$=m.Z.TabPane,N=(s=(0,T.$j)(y=>{var o=y.community;return{activeMyTab:o.activeMyTab}}),f=Reflect.metadata("design:type",Function),B=Reflect.metadata("design:paramtypes",[void 0]),s(d=f(d=B(d=class extends u.Component{constructor(o){super(o);this.handleChange=v=>{var l=this.props.dispatch;l({type:"community/saveCreateCenterTab",payload:{activeMyTab:v}})},this.state={loadCount:!0,tabPanes:[{tab:this.props.t("community.myQuestion"),key:"question",component:p.Z,props:{pageType:"my-question"},type:"question"},{tab:this.props.t("community.myAnswer"),key:"answer",component:p.Z,props:{pageType:"my-answer"},type:"answer"},{tab:this.props.t("community.myArticle"),key:"article",component:p.Z,props:{pageType:"my-article"},type:"article"}],selectKey:"",cardList:[{title:this.props.t("community.addQuestion"),link:"/community/questionAndAnswer",id:1,iconClass:"icon-tigewenti",color:"#1890FF",backgroundColor:"rgba(4, 132, 252, 0.25)"},{title:this.props.t("community.addArticle"),link:"/community/publishArticle",id:3,iconClass:"icon-fabiaowenzhang",color:"#2EB8BD",backgroundColor:"rgba(52, 184, 190, 0.25)"}]}}componentDidMount(){this.getMyCenterData()}getMyCenterData(){var o=this;return(0,C.Z)(a().mark(function v(){var l,h,E;return a().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=O.ZP.community.getMyCenterData(),c.next=3,I.WY.get({url:l});case 3:h=c.sent,E=h.data,E.code===0?o.setState({answers:E.data.answers,articles:E.data.articles,questions:E.data.questions,loadCount:!1}):i.default.error(E.msg);case 6:case"end":return c.stop()}},v)}))()}render(){var o=this.state,v=o.tabPanes,l=o.cardList,h=o.answers,E=o.articles,L=o.questions,c=o.loadCount,R=this.props,x=R.activeMyTab,z=R.t;return r().createElement(W.Z,null,r().createElement(P.Z,{title:z("community.createCenter")}),r().createElement("div",{className:"center-layout-content"},r().createElement(m.Z,{defaultActiveKey:x,onChange:this.handleChange},v.map(S=>r().createElement($,{tab:S.tab,key:S.key},r().createElement(S.component,S.props))))),r().createElement("div",{className:"center-layout-slide"},r().createElement(K.Z,{cardList:l,span:12}),r().createElement(n.Z,{spinning:c},r().createElement(U.Z,{answers:h,articles:E,questions:L}))))}})||d)||d)||d);D.default=(0,M.Z)()(N)}}]);
