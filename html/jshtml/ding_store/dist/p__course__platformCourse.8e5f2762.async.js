(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[1049],{4408:function(Z,I,s){"use strict";var P=s(12924),h=s.n(P),C=s(28216),p=s(17780),y=s(38642),e=u=>({userInfo:u.user}),c=u=>{var d=u.title;return(0,p.xX)()&&setTimeout(()=>{document.title=d},0),(0,P.useEffect)(()=>{if(d&&document.title!==d&&setTimeout(()=>{document.title=d},0),(0,y.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var m=document.querySelector(".zoom-report");m&&(m.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[d]),h().createElement(h().Fragment,null)};c.defautProps={title:""},I.Z=(0,C.$j)(e)(c)},1164:function(Z,I,s){"use strict";var P=s(12924),h=s.n(P),C=s(76651),p=s(38642),y=s(91302),e=c=>{var u=navigator.userAgent.toLocaleLowerCase(),d=localStorage.getItem("enterpriseId"),m=(0,p.lz)(d,c.projectType),T=localStorage.getItem("dingPersonnel"),E=y.bl.includes(T),v=c.target;function S(N){if(v==="self"&&(N.preventDefault(),C.m8.push(c.to)),E){if(c.projectType==="student"){window.location.href="".concat(m,"/").concat(c.to);return}C.m8.push(c.to);return}if(dd.version){N.preventDefault();var g="";c.to.includes("?")?g="".concat(m).concat(c.to,"&ddtab=true"):g="".concat(m).concat(c.to,"?ddtab=true"),dd.biz.util.openLink({url:g})}else u.indexOf("lark")!==-1&&(window.location.href="".concat(m).concat(c.to))}return h().createElement("a",{rel:"noreferrer",href:"".concat(c.projectType==="student"?"".concat(m).concat(c.to):"#".concat(c.to)),className:"".concat(c.wrapCls," cl-pointer"),target:u.indexOf("lark")!==-1||E?"_self":c.target||"_blank",onClick:S},c.children)};e.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},e.targetTo=c=>{var u=c.path,d=c.from,m=c.isExternalLink,T=m===void 0?!1:m,E=c.isAsync,v=E===void 0?!1:E,S=c.openName,N=S===void 0?"_blank":S,g=c.projectType,U=g===void 0?"manage":g,q=c.ddTab,B=q===void 0?!0:q,f,F=localStorage.getItem("dingPersonnel"),M=y.bl.includes(F),X=navigator.userAgent.toLocaleLowerCase(),O=localStorage.getItem("enterpriseId"),D=(0,p.lz)(O,U),j=localStorage.getItem("appType"),w=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var J="";if(f=T?"":D,M&&!T){if(U==="student"){window.location.href="".concat(D).concat(u);return}C.m8.push(u);return}u.includes("?")?J="".concat(f).concat(u,"&ddtab=").concat(B):J="".concat(f).concat(u,"?ddtab=").concat(B),dd.biz.util.openLink({url:J})}else if(X.indexOf("lark")!==-1)f=T?"":D,window.location.href="".concat(f).concat(u);else if(j==="wx_app"&&w&&T&&d==="imgText")f=T?"":U==="student"?"".concat(D):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(f).concat(u)});else if(f=T?"":U==="student"?"".concat(D):"#",v){var Y=window.open("","_blank");setTimeout(()=>{Y.location="".concat(f).concat(u)},100)}else window.open("".concat(f).concat(u),N)},I.Z=e},61421:function(Z,I,s){"use strict";var P=s(12924),h=s.n(P),C=s(91768),p=s(18329),y=s(39979),e=s.n(y);class c extends h().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var d=localStorage,m=d.appType,T=this.props,E=T.visible,v=T.t,S=T.groupUrl,N=S===void 0?m==="e_app"?"".concat("https://oss.coolcollege.cn","/1789887436126556160.png"):m==="fs_app"?e():"":S,g=v("course.contactService");return h().createElement(p.ZP,{visible:E,width:"400",footer:null,bodyStyle:{maxHeight:"initial",minHeight:313,width:320},title:g,onCancel:this.onCancel},E&&h().createElement("div",{className:"contact_service"},h().createElement("img",{src:N,alt:""}),h().createElement("div",{className:"tip"},m==="e_app"?v("course.contactGroup"):m==="fs_app"?v("course.contactGroupFs"):"")))}}I.Z=(0,C.Z)()(c)},50539:function(Z,I,s){"use strict";var P=s(12924),h=s.n(P),C=s(91768),p=s(39979),y=s.n(p),e=localStorage,c=e.appType,u=d=>{var m=d.t;return h().createElement("div",{className:"service-qrcode-container"},h().createElement("div",{className:"service-qrcode-container__title"},c==="e_app"?m("course.serverTips"):c==="fs_app"?m("course.serverTipsFs"):""),h().createElement("img",{src:c==="e_app"?"".concat("https://oss.coolcollege.cn","/1790917539228946432.png"):c==="fs_app"?y():""}))};I.Z=(0,C.Z)()(u)},71137:function(Z,I,s){"use strict";s.r(I),s.d(I,{default:function(){return Ee}});var P=s(20228),h=s(11382),C=s(34792),p=s(48086),y=s(12924),e=s.n(y),c=s(28216),u=s(76651),d=s(57068),m=s(91768),T=s(50539),E=s(57663),v=s(71577),S=s(77883),N=s(21888),g=s(22385),U=s(31097),q=s(57361),B=s(9754),f=s.n(B),F=s(94184),M=s.n(F),X=s(61421),O=s(6793),D=s(84874),j=s(1164),w=s(85725),J=s(70517),Y=L=>({userInfo:L.user});class te extends e().Component{constructor(a){super(a);this.chooseBuyType=t=>{this.setState({isEnterpriseBuy:t,count:1},()=>{this.reckonDiscountedPrice(1)})},this.handleBuyCountChange=t=>{this.setState({count:t}),this.reckonDiscountedPrice(t)},this.handleCancelCollect=()=>{var t=this.props.onCancelCollect;t&&t()},this.handleCollect=()=>{var t=this.props.onCollect;t&&t()},this.handleAddToCart=t=>{var r=this.state,i=r.isEnterpriseBuy,n=r.count,o=r.price,_=this.props.onAddToCart;_&&_(t,i,n,o)},this.handleAddLibrary=()=>{var t=this.props.onAddLibrary;t&&t()},this.renderFreeContent=()=>{var t=this.props,r=t.prefixCls,i=t.courseInfo,n=t.userInfo,o=t.t,_=n.isAdmin,l=localStorage.getItem("themeColor")||"#465dcd";return e().createElement("div",{className:"".concat(r,"__right__free")},e().createElement("div",{className:"".concat(r,"__right__free__price")},e().createElement("div",{className:"".concat(r,"__right__free__price__now"),style:{color:l}},o("course.free")),e().createElement("div",{className:"".concat(r,"__right__free__price__old")},"\uFFE5 ",i.officialPrice)),_?e().createElement("div",{className:"".concat(r,"__right__free__buttons")},i.enterpriseBought?e().createElement("span",{className:"".concat(r,"__right__free__buttons__disabled")},o("course.coursesAdded")):e().createElement("span",{className:"".concat(r,"__right__free__buttons__add"),onClick:()=>this.handleAddLibrary()},o("course.addToCourseLibrary"))):null)},this.learning=(0,q.Z)(f().mark(function t(){var r;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,w.Zv)(u.m8.location.query.courseId,{is_preview:"true",is_person_purchase:"false"});case 2:r=n.sent,j.Z.targetTo({path:r.data.learning_url,isExternalLink:!0});case 4:case"end":return n.stop()}},t)})),this.renderPayContent=()=>{var t=this.props,r=t.prefixCls,i=t.courseInfo,n=t.userInfo,o=t.t,_=n.isAdmin,l=n.appType,x=this.state,A=x.isEnterpriseBuy,k=x.changePreferentialPrice,H=x.newPreferentialPrice,Q=(0,O.T4)(H),G=Q.integer,$=Q.decimal,W=localStorage.getItem("themeColor")||"#465dcd";return e().createElement("div",{className:"".concat(r,"__right__purchase")},e().createElement("div",{className:"".concat(r,"__right__purchase__item")},e().createElement("span",{className:"".concat(r,"__right__purchase__item__label")},o("course.purchaseMethods"),":"),e().createElement("div",{className:"".concat(r,"__right__purchase__item__content")},_?e().createElement("div",{className:"".concat(r,"__right__purchase__types")},e().createElement(U.Z,{placement:"top",title:o("course.enterpriseBuyTips")},e().createElement("span",{className:M()("".concat(r,"__right__purchase__type")),style:A==="2"?{color:W,borderColor:W}:{},onClick:()=>this.chooseBuyType("2")},o("course.enterprisePurchase"))),e().createElement(U.Z,{placement:"top",title:o("course.personalBuyTips")},e().createElement("span",{className:M()("".concat(r,"__right__purchase__type")),style:A==="3"?{color:W,borderColor:W}:{},onClick:()=>this.chooseBuyType("3")},o("course.buyPersonally")))):e().createElement("div",{className:"".concat(r,"__right__purchase__types")},e().createElement(U.Z,{placement:"top",title:o("course.personalBuyTips")},e().createElement("span",{className:M()("".concat(r,"__right__purchase__type"),A==="3"?"active":""),style:A==="3"?{color:W,borderColor:W}:{},onClick:()=>this.chooseBuyType("3")},o("course.buyPersonally")))))),e().createElement("div",{className:"".concat(r,"__right__purchase__item")},e().createElement("span",{className:"".concat(r,"__right__purchase__item__label")},o("course.purchaseQuantity"),":"),e().createElement("div",{className:"".concat(r,"__right__purchase__item__content")},A==="2"?e().createElement(N.Z,{key:A,min:1,max:1e5,defaultValue:1,parser:V=>V.replace(/[^0-9]/g,""),onChange:this.handleBuyCountChange}):e().createElement(N.Z,{key:A,min:1,max:1,parser:V=>V.replace(/[^0-9]/g,""),defaultValue:1}),k>0?e().createElement("span",{className:"".concat(r,"__right__purchase__item__total-price")},(0,O.lb)(k)):null,_?e().createElement("div",{className:"".concat(r,"__right__purchase__item__ladder")},e().createElement("span",{className:"".concat(r,"__right__purchase__item__ladder__label")},o("course.stepPrice")),e().createElement("div",{className:"".concat(r,"__right__purchase__item__ladder__content")},e().createElement("span",null,o("course.stepPriceTips"),e().createElement(D.Z,{iconClass:"icon-tips",size:"14px"})),i.rangePriceList&&i.rangePriceList.length>0?e().createElement("div",{className:"".concat(r,"__right__purchase__item__ladder__list__warp")},e().createElement("div",{className:"".concat(r,"__right__purchase__item__ladder__list")},e().createElement("div",{className:"".concat(r,"__right__purchase__item__ladder__list-item")},e().createElement("div",null,o("course.buyCount")),e().createElement("div",null,o("course.price"))),i.rangePriceList.map((V,ee)=>e().createElement("div",{key:ee,className:"".concat(r,"__right__purchase__item__ladder__list-item")},e().createElement("div",null,"".concat(V.startCount,"-").concat(V.endCount)),e().createElement("div",null,(0,O.lb)(V.price)))))):null)):null)),e().createElement("div",{className:"".concat(r,"__right__purchase__price")},e().createElement("div",{className:"".concat(r,"__right__purchase__price__now"),style:{color:W}},"\uFFE5",e().createElement("span",{className:"".concat(r,"__right__purchase__price__integer")},G),".",$),e().createElement("div",{className:"".concat(r,"__right__purchase__price__old")},(0,O.lb)(i.officialPrice))),e().createElement("div",{className:"".concat(r,"__right__purchase__buttons")},l==="e_app"||l==="fs_app"?e().createElement(v.Z,{type:"primary",className:"".concat(r,"__right__button"),onClick:this.handleQrcode},o("course.contactService")):null,(0,J.ZG)(i.source)&&e().createElement(v.Z,{type:"default",onClick:this.learning},o("course.courseTry")),i.collection?e().createElement("span",{className:"".concat(r,"__right__purchase__buttons__cancel-collect"),onClick:()=>this.handleCancelCollect()},e().createElement(D.Z,{iconClass:"icon-pingfen",size:"16px"}),o("course.unstar")):e().createElement("span",{className:"".concat(r,"__right__purchase__buttons__collect"),onClick:()=>this.handleCollect()},e().createElement(D.Z,{iconClass:"icon-pingfen",size:"16px"}),o("course.star"))))},this.handleQrcode=()=>{var t=this.state.contactServiceVisible;this.setState({contactServiceVisible:!t})},this.state={isEnterpriseBuy:a.userInfo.isAdmin?"2":"3",count:1,newPreferentialPrice:a.courseInfo.preferentialPrice,price:a.courseInfo.preferentialPrice,changePreferentialPrice:0,contactServiceVisible:!1}}static getDerivedStateFromProps(a,t){return a.courseInfo.preferentialPrice!==t.newPreferentialPrice?{newPreferentialPrice:a.courseInfo.preferentialPrice,price:a.courseInfo.preferentialPrice}:null}reckonDiscountedPrice(a){for(var t=this.props.courseInfo,r=t.rangePriceList,i=t.ratio,n=t.existsRatio,o=t.maxCountPrice,_=[],l=0;l<r.length;l++)if(_.push(r[l].endCount),a>=r[l].startCount&&a<=r[l].endCount)if(n==!0){var x=r[l].price,A=r[l].price*a*(i/10),k=r[l].price*i;this.setState({newPreferentialPrice:x,changePreferentialPrice:A,price:k})}else{var H=r[l].price,Q=r[l].price*a,G=r[l].price;this.setState({newPreferentialPrice:H,changePreferentialPrice:Q,price:G})}else{var $=Math.max(..._);if(a>$)if(n==!0){var W=o,V=o*a*(i/10),ee=o*i;this.setState({newPreferentialPrice:W,changePreferentialPrice:V,price:ee})}else{var Pe=o,ye=o*a,Te=o;this.setState({newPreferentialPrice:Pe,changePreferentialPrice:ye,price:Te})}}}render(){var a=this.props,t=a.prefixCls,r=a.courseInfo,i=a.courseCount,n=a.t,o=this.state.contactServiceVisible;return e().createElement("div",{className:t},e().createElement("div",{className:"".concat(t,"__left")},e().createElement("img",{src:r.cover,alt:""})),e().createElement("div",{className:"".concat(t,"__right")},e().createElement("div",{className:"".concat(t,"__right__title")},r.title),e().createElement("div",{className:"".concat(t,"__right__course-info")},e().createElement("div",{className:"".concat(t,"__right__course-info__item")},e().createElement("div",{className:"".concat(t,"__right__course-info__title")},r.teacherName),e().createElement("div",{className:"".concat(t,"__right__course-info__subtitle")},n("course.lecturer"))),e().createElement("div",{className:"".concat(t,"__right__course-info__item")},e().createElement("div",{className:"".concat(t,"__right__course-info__title")},r.validity?r.validity+n("course.months"):n("course.unlimited")),e().createElement("div",{className:"".concat(t,"__right__course-info__subtitle")},n("course.validity"))),e().createElement("div",{className:"".concat(t,"__right__course-info__item")},e().createElement("div",{className:"".concat(t,"__right__course-info__title")},i),e().createElement("div",{className:"".concat(t,"__right__course-info__subtitle")},n("course.coursewareNumber"))),e().createElement("div",{className:"".concat(t,"__right__course-info__item")},e().createElement("div",{className:"".concat(t,"__right__course-info__title")},r.purchaseVolume),e().createElement("div",{className:"".concat(t,"__right__course-info__subtitle")},n("course.purchasedPeople")))),e().createElement("div",{className:"".concat(t,"__right__footer")},r.officialPrice!==0?this.renderPayContent():this.renderFreeContent())),e().createElement(X.Z,{visible:o,onCancel:this.handleQrcode}))}}te.defaultProps={prefixCls:"platform-course-top"};var le=(0,c.$j)(Y)((0,m.Z)()(te)),Se=s(18106),re=s(88108),Ie=s(71153),ue=s(60331),de=s(88986),R=s(37055),z=s(38642);class ae extends e().Component{constructor(){super(...arguments);this.handlePlayCourse=a=>{var t=this.props.courseInfo,r=t.id,i=t.officialPrice,n=a.auditionType,o=a.status,_=a.id,l=a.storage_type;(0,J.ZG)(t.source)||((i===0||n===1||n===2)&&o===3?(0,z.eJ)({url:"/course/watch?".concat(d.stringify({courseId:r,resourceId:_,source:"platform",storage_type:l}))}):p.default.info(this.props.t("course.purchaseTips")))}}render(){var a=this.props,t=a.prefixCls,r=a.courseWareList,i=a.courseInfo,n=a.t,o=i.officialPrice,_=(0,de.Z)({},R.e1);return e().createElement("div",{className:t},r.map(l=>e().createElement("div",{className:M()("".concat(t,"__item"),l.auditionType!==0?"".concat(t,"__item-canplay"):""),key:l.id,onClick:()=>this.handlePlayCourse(l)},e().createElement("div",{className:"".concat(t,"__item__info")},e().createElement("div",{className:"".concat(t,"__item__icon")},e().createElement(D.Z,{iconClass:l.contentType&&l.contentType.indexOf("audio")>-1?_.mp3:_[l.type],size:"20px"})),e().createElement("div",{className:"".concat(t,"__item__title-box")},e().createElement("span",{className:"".concat(t,"__item__name")},l.name),l.type==="mp4"&&l.status!==1&&l.status!==2?e().createElement("span",{className:"".concat(t,"__item__video-duration")},(0,O.xj)(l.duration)):null),e().createElement("div",{className:"".concat(t,"__item__status")},o!==0&&l.auditionType!==0?e().createElement(ue.Z,{color:"geekblue"},n("course.audition")):null)))))}}ae.defaultProps={prefixCls:"platform-course-ware"};var me=(0,m.Z)()(ae),se=re.Z.TabPane;class oe extends e().Component{constructor(){super(...arguments);this.state={blackList:{pcAdCourseTabClickFlag:(0,z.eY)("SENSORS_PC_AD_COURSE_TAB_CLICK"),pcAdCourseView5sFlag:(0,z.eY)("SENSORS_PC_AD_COURSE_VIEW_5S")}},this.timer=null,this.judgeFromGuide=a=>{var t=d.parse(u.m8.location.search),r=t.fromPage;r==="guide"&&a&&a()},this.handleTabChange=a=>{},this.clearTimer=()=>{this.timer&&(clearTimeout(this.timer),this.timer=null)}}componentDidMount(){}componentWillUnmount(){this.clearTimer()}render(){var a=this.props,t=a.prefixCls,r=a.courseInfo,i=a.courseWareList,n=a.courseIntroduction,o=a.t;return e().createElement("div",{className:t},e().createElement(re.Z,{defaultActiveKey:"1",onChange:this.handleTabChange,size:"large"},e().createElement(se,{tab:o("course.courseDirectory"),key:"1"},e().createElement(me,{courseWareList:i,courseInfo:r})),e().createElement(se,{tab:o("course.courseDescription"),key:"2"},e().createElement("div",{className:"".concat(t,"__introduction"),dangerouslySetInnerHTML:{__html:n}}))))}}oe.defaultProps={prefixCls:"purchased-course-bottom"};var pe=(0,m.Z)()(oe),K=s(10237),he={getRelatedCourse:R.ZP.PlatformCourse.getRelatedCourse};class ne extends e().Component{constructor(){super(...arguments);this.state={relatedCourseList:[]},this.getRelatedCourse=()=>{var a=this.props.courseId;K.WY.get({url:he.getRelatedCourse(),params:{courseId:a,count:3}}).then(t=>{this.setState({relatedCourseList:t.data})})},this.handleToCourseDetail=a=>{(0,z.eJ)({url:"/course/platformCourse?".concat(d.stringify({courseId:a}))})}}componentDidMount(){this.getRelatedCourse()}render(){var a=this.state.relatedCourseList,t=this.props,r=t.prefixCls,i=t.t,n=localStorage.getItem("themeColor")||"#465dcd";return a.length?e().createElement("div",{className:r},e().createElement("div",{className:"".concat(r,"__title")},i("course.relatedCourses")),a.map(o=>e().createElement("div",{className:"".concat(r,"__item"),key:o.id,onClick:()=>this.handleToCourseDetail(o.id)},e().createElement("img",{src:o.cover,alt:""}),e().createElement("div",{className:"".concat(r,"__item__name")},o.title),o.officialPrice===0||o.officialPrice==="0"?e().createElement("div",{className:"".concat(r,"__free"),style:{color:n}},i("course.free")):e().createElement("div",{className:"".concat(r,"__price"),style:{color:n}},"\uFFE5",e().createElement("span",{className:"".concat(r,"__price__integer")},(0,O.T4)(o.officialPrice).integer),".",(0,O.T4)(o.officialPrice).decimal)))):null}}ne.defaultProps={prefixCls:"related-course"};var _e=(0,m.Z)()(ne),ve={getCurrentTeacherCourses:R.ZP.PlatformCourse.getCurrentTeacherCourses};class ce extends e().Component{constructor(){super(...arguments);this.state={currentTeacherCoursesList:[]},this.getCurrentTeacherCourses=()=>{var a=this.props,t=a.courseId,r=a.teacherId;K.WY.get({url:ve.getCurrentTeacherCourses(),params:{courseId:t,teacherId:r,count:2}}).then(i=>{this.setState({currentTeacherCoursesList:i.data})})},this.handleToCourseDetail=a=>{(0,z.eJ)({url:"/course/platformCourse?".concat(d.stringify({courseId:a}))})}}componentDidMount(){this.getCurrentTeacherCourses()}render(){var a=this.state.currentTeacherCoursesList,t=this.props,r=t.prefixCls,i=t.t,n=localStorage.getItem("themeColor")||"#465dcd";return a.length?e().createElement("div",{className:r},e().createElement("div",{className:"".concat(r,"__title")},i("course.teacherGoodCourse")),a.map(o=>e().createElement("div",{className:"".concat(r,"__item"),key:o.id,onClick:()=>this.handleToCourseDetail(o.id)},e().createElement("img",{src:o.cover}),e().createElement("div",{className:"".concat(r,"__item__name")},o.title),o.officialPrice===0||o.officialPrice==="0"?e().createElement("div",{className:"".concat(r,"__free"),style:{color:n}},i("course.free")):e().createElement("div",{className:"".concat(r,"__price"),style:{color:n}},"\uFFE5",e().createElement("span",{className:"".concat(r,"__price__integer")},(0,O.T4)(o.officialPrice).integer),".",(0,O.T4)(o.officialPrice).decimal)))):null}}ce.defaultProps={prefixCls:"teacher-course"};var fe=(0,m.Z)()(ce),ge=s(4408),Ce=L=>({isLogin:L.user.isLogin,isAdmin:L.user.isAdmin,shouldAddScanCount:L.currentRoute.shouldAddScanCount,appType:L.user.appType}),b={getPlatformCourse:R.ZP.PlatformCourse.getPlatformCourse,getPlatformCourseList:R.ZP.PlatformCourse.getPlatformCourseList,addShoppingCart:R.ZP.PlatformCourse.addShoppingCart,collectCourse:R.ZP.PlatformCourse.collectCourse,cancelCollectCourse:R.ZP.PlatformCourse.cancelCollectCourse,addEnterpriseLibrary:R.ZP.PlatformCourse.addEnterpriseLibrary,getShoppingCartCount:R.ZP.PlatformCourse.getShoppingCartCount,courseEventsCount:R.ZP.PlatformCourse.courseEventsCount};class ie extends e().Component{constructor(){super(...arguments);this.state={isLoading:!1,courseId:"",platformCourseInfo:{},platformCourseWareList:[]},this.init=a=>{this.setState({courseId:a,isLoading:!0},()=>{this.getPlatformCourse(),this.getPlatformCourseList(a)});var t=this.props.shouldAddScanCount;t&&this.collectCourseEventsCount("click")},this.getPlatformCourse=()=>{var a=d.parse(u.m8.location.search),t=a.courseId;K.WY.get({url:b.getPlatformCourse(),params:{id:t,myCourseStep:!0}}).then(r=>{this.setState({platformCourseInfo:r.data,isLoading:!1})})},this.getPlatformCourseList=a=>{K.WY.get({url:b.getPlatformCourseList(),params:{id:a,pageNumber:1,pageSize:30}}).then(t=>{this.setState({platformCourseWareList:t.data})})},this.handleAddLibrary=()=>{var a=this.state.courseId,t={ids:a};K.qg.post({url:b.addEnterpriseLibrary(),data:t}).then(r=>{r.data.code===0?(p.default.success(this.props.t("course.successAddEnterprise")),this.getPlatformCourse()):p.default.error(r.data.msg)})},this.handleCollect=()=>{var a=this.state.courseId,t={id:a};K.qg.post({url:b.collectCourse(),data:t}).then(r=>{r.data.code===0?(p.default.success(r.data.msg),this.getPlatformCourse()):p.default.error(r.data.msg)})},this.handleCancelCollect=()=>{var a=this.state.courseId,t={goodsIds:a};K.qg.post({url:b.cancelCollectCourse(),data:t}).then(r=>{r.data.code===0?(p.default.success(r.data.msg),this.getPlatformCourse()):p.default.error(r.data.msg)})},this.handleAddToCart=(a,t,r,i)=>{var n=this.state.courseId,o={goodsId:n,isEnterpriseBuy:t,count:r,price:i},_=t==="2"?"enterprise":"personal";K.qg.post({url:b.addShoppingCart(),data:o}).then(l=>{l.data.code===0?(p.default.success(l.data.msg),this.getShoppingNumber(),a==="buy"&&u.m8.push("/cart?cartType=".concat(_))):l.data.code===3?p.default.warning(l.data.msg):p.default.error(l.data.msg)})},this.collectCourseEventsCount=a=>{var t=this.props.isLogin;if(!!t){var r=d.parse(u.m8.location.search),i=r.courseId,n=r.pushId,o=b.courseEventsCount({courseId:i}),_={source_id:n||"",source_type:n?"push":"normal",event_type:a,order_id:""};K.WY.post({url:o,data:_}).then(()=>{})}}}componentWillUnmount(){this.props.dispatch({type:"currentRoute/leaveCourseDetails"})}componentDidMount(){var a=d.parse(u.m8.location.search),t=a.courseId;this.init(t)}componentWillReceiveProps(a){if(this.props.location.query.courseId!==a.location.query.courseId){var t=a.location.query.courseId;this.init(t)}}getShoppingNumber(){var a=this.props,t=a.isAdmin,r=a.dispatch,i=b.getShoppingCartCount();K.WY.get({url:i,params:{isAdmin:t?1:0}}).then(n=>{var o=n.data.data.shoppingCartCount;sessionStorage.setItem("carCount",o),r({type:"user/updateShoppingNumber",payload:{shoppingNumber:o}})})}render(){var a=this.props,t=a.prefixCls,r=a.t,i=this.state,n=i.platformCourseInfo,o=i.courseId,_=i.platformCourseWareList,l=i.isLoading;return l?e().createElement(h.Z,{size:"large"}):e().createElement("div",{className:t},e().createElement(ge.Z,{title:r("documentTitle.courseDetails")}),e().createElement("div",{className:"".concat(t,"__course-top")},e().createElement(le,{courseInfo:n,courseCount:_.length,onAddLibrary:this.handleAddLibrary,onCollect:this.handleCollect,onCancelCollect:this.handleCancelCollect,onAddToCart:this.handleAddToCart})),e().createElement("div",{className:"".concat(t,"__course-bottom")},e().createElement("div",{className:"".concat(t,"__course-bottom__left")},e().createElement(pe,{courseWareList:_,courseIntroduction:n.introduction,courseInfo:n})),e().createElement("div",{className:"".concat(t,"__course-bottom__right")},this.props.appType==="e_app"?e().createElement("div",{className:"".concat(t,"__course-bottom__qrc")},e().createElement(T.Z,null)):null,n.teacherId?e().createElement(fe,{courseId:o,teacherId:n.teacherId}):null,o?e().createElement(_e,{courseId:o}):null)))}}ie.defaultProps={prefixCls:"platform-course-container"};var Ee=(0,c.$j)(Ce)((0,m.Z)()(ie))},85725:function(Z,I,s){"use strict";s.d(I,{Zv:function(){return C},t2:function(){return p},ew:function(){return y}});var P=s(37055),h=s(10237);function C(c,u){var d=P.ZP.PlatformCourse.learningUrl(c);return h.WY.get({url:d,params:u})}function p(c){var u=c.planId,d=P.ZP.EnterpriseCourse.playCountStatistics();h.qg.post({url:d,data:{courseId:u}})}var y=c=>{var u=P.ZP.Common.addDownloadLog(),d={param:c};return h.WY.get({url:u,params:d})},e=c=>{var u=CONFIG.visitors.shouldGoToCourseDetails(),d={setting_type:c};return request.get({url:u,params:d})}},70517:function(Z,I,s){"use strict";s.d(I,{ZG:function(){return c},v8:function(){return u},Yv:function(){return d},$v:function(){return m},yW:function(){return T}});var P=s(57361),h=s(9754),C=s.n(h),p=s(91302),y=s(10237),e=s(37055),c=E=>{var v=!1;return p.ch.forEach(S=>{(E||"").indexOf(S)!==-1&&(v=!0)}),v},u=function(){var E=(0,P.Z)(C().mark(function v(){var S;return C().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return S=e.ZP.LibraryList.checkMemberUserBinding(),g.abrupt("return",y.WY.get({url:S,params:{source_type:"lai_hua"}}));case 2:case"end":return g.stop()}},v)}));return function(){return E.apply(this,arguments)}}(),d=function(){var E=(0,P.Z)(C().mark(function v(S){var N,g,U,q;return C().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return N=e.ZP.LibraryList.thirdEditorUrl(),f.next=3,y.WY.get({url:N,params:{source_type:"lai_hua",route_type:S}});case 3:g=f.sent,U=g.data,q=g.success,q==="true"&&window.open(U.url,"_blank");case 7:case"end":return f.stop()}},v)}));return function(S){return E.apply(this,arguments)}}(),m=()=>{localStorage.setItem("openedMemberModal","true")},T=E=>{var v=e.ZP.LibraryList.addTrialMemberBinding();return y.WY.get({url:v,params:{source_type:"lai_hua",route_type:E}})}},39979:function(Z){Z.exports="data:image/png;base64,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"}}]);
