(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[270],{54624:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return ue}});var se=e(47673),z=e(4107),ee=e(12924),i=e.n(ee),Q=e(91768),K=e(80991),h=e(54549),U=e(49101),R=e(62029),S=e(59250),x=e(13013),A=e(30887),o=e(99210),T=e(43185),B=e(53251),F=e(57663),b=e(71577),G=e(88986),p=e(57361),L=e(34792),D=e(48086),a=e(9754),r=e.n(a),u=e(28216),c=e(73566),v=e(49146),O=e(74262),Z=e(40938),E=e(6793),k=e(54531),$=e(10237),N=e(84874),J=e(1164),ne=e(37055),Ee=e(10780),ve=e(43967),Te=e(76466),me=5,he=w=>({uploaderList:w.uploader.list,uploadSucceedItem:w.uploader.uploadSucceedItem,uploadComponentType:w.uploader.uploadComponentType,appType:w.user.appType,dingUserId:w.user.account,corpId:w.user.corpId}),d=w=>{if(w.icon)return w.icon;var g=w.name.split(".").pop(),C=ne.e1[g];return C||"iconf-matter-picture"};class _ extends i().Component{constructor(g){var C;super(g);C=this,this.handleBeforeUpload=l=>{var P=this.props,W=P.t,te=P.value;if(l.type.indexOf("image")<0)return D.default.warning(W("component.stageAddFileFormatTip")),!1;this.props.onChange(te.concat(l))},this.handleOnChange=l=>{var P=l.file,W=this.props,te=W.value,de=W.t;P.status==="done"?this.props.onChange(te.filter(X=>X.id!==P.id).concat(P.response.data)):P.status==="error"&&(D.default.error("".concat(P.name," ").concat(de("course.courseDetailCoverFailure"))),this.props.onChange(te.filter(X=>X.id!==P.id)))},this.handleRemove=l=>{var P=this.props.value;this.props.onChange(P.filter(W=>W.id!==l.id))},this.handleUploadFile=()=>{this.setState({showFileSelector:!0})},this.handleSelectedCancel=()=>{this.setState({showFileSelector:!1})},this.handleSelectedAttachment=l=>{var P=this.props,W=P.t,te=P.value,de=te.map(ge=>ge.id),X=l.filter(ge=>!de.includes(ge.id)),fe=te.length;if(X.length>me-fe){D.default.warning((0,E.ZT)(W("component.stageAddFileTip"),5));return}this.handleSelectedCancel(),X=X.map(ge=>(ge.size=ge.data.size,ge)),this.props.onChange(te.concat(X))},this.handleChooseFiles=l=>{var P=this.props,W=P.t,te=P.value,de=P.uploaderList,X=P.uploadComponentId,fe=P.notLibrary,ge=P.hasZip,Ce=ge===void 0?"":ge,Ae=(0,ve.Y5)(de);if(l.target.files.length+Ae.length+te.length>5){D.default.warning((0,E.ZT)(W("component.stageAddFileTip"),5));return}this.props.dispatch({type:"uploader/chooseFiles",payload:{choosedFiles:l.target.files,dispatch:this.props.dispatch,uploadComponentType:X,notLibrary:fe,hasZip:Ce==="true"}}),l.target.value=null,l.target.files=null},this.handlePreview=l=>{var P=this.props.t;if(!dd.version&&l.biz_type===3){D.default.info(P("practiceOperation.dingFileTip"));return}if(l.biz_type!==3){this.handlePreviewSystemFile(l);return}var W=ne.ZP.DingSpaceId.getSpaceId(),te={corpId:this.props.corpId,userId:this.props.account,fileids:l.url,timeStamp:Date.parse(new Date)};$.WY.get({url:W,params:te}).then(de=>{de.data.code===0?this.ddSpacePreview(l):D.default.info(de.data.msg)}).catch(de=>{D.default.error(de.data)})},this.handlePreviewDingFile=(0,p.Z)(r().mark(function l(){var P,W,te,de,X,fe,ge,Ce;return r().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return P=C.props,W=P.corpId,te=P.dingUserId,de=P.value,X=P.t,Le.next=3,(0,k.Cz)({corpId:W,userId:te});case 3:fe=Le.sent,ge=Me=>{(0,v.jz)(Me,3).then(Se=>{if(Se.data.code===0){var Ze=(0,v.GY)(Se.data,C.props);Ze&&Ze.length>0&&C.props.onChange(de.concat(Ze))}}).catch(Se=>console.error(Se))},Ce=Me=>{D.default.warn("".concat(X("learning.dingSelectError"),": ").concat(JSON.parse(Me)))},(0,k.yZ)({space:{spaceId:fe,corpId:W,max:5},types:["space"],onSuccess:ge,onFail:Ce});case 7:case"end":return Le.stop()}},l)})),this.dealWatchType=l=>{var P=ne.Yq.findIndex(Ae=>l.type.toLowerCase().includes(Ae))>-1,W=l.content_type.indexOf("video")>-1,te=ne.Ss.indexOf(l.content_type)>-1,de=l.type.indexOf("image")>-1||l.type.indexOf("picture")>-1||l.content_type.indexOf("image")>-1||l.content_type.indexOf("picture")>-1,X=l.content_type.indexOf("html")>-1,fe=l.content_type.indexOf("scorm")>-1,ge=l.content_type.indexOf("h5")>-1,Ce="";return ge?Ce="article":P?Ce="doc":W||te?Ce="video":de?Ce="image":X?Ce="html":fe&&(Ce="scorm"),Ce},this.handlePreviewSystemFile=l=>{var P=this.state.previewInfo,W=this.dealWatchType(l),te=ne.Ss.indexOf(l.content_type)>-1;if(W==="scorm"){var de=l.url.split("//"),X=de[1].split("/"),fe=[de[0],X[0]].join("//"),ge="".concat(fe,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(l.url));J.Z.targetTo({path:ge,isExternalLink:!0});return}if(W==="article"){var Ce=l.content_type,Ae=l.url,Le=Ce==="h5/link";Le?J.Z.targetTo({path:Ae,isExternalLink:!0}):J.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(l.id)});return}var Me={mode:"preview",watchType:W};W==="doc"?Object.assign(Me,{resourceInfo:{type:"",docType:l.type,aliUrl:l.path,url:l.url,docTitle:l.name,playId:l.videoId||l.video_id,storageType:l.storage_type}}):W==="image"?Object.assign(Me,{resourceInfo:{url:l.url,playId:l.videoId||l.video_id,storageType:l.storage_type}}):W==="html"?Object.assign(Me,{resourceInfo:{url:l.url}}):Object.assign(Me,{resourceInfo:{source:{FD:l.url,OD:l.path},originUrl:l.url,contentType:te?"mp3":l.type,playId:l.videoId||l.video_id,storageType:l.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:Me,previewInfo:(0,G.Z)((0,G.Z)({},P),{},{title:l.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var l=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,G.Z)((0,G.Z)({},l),{},{visible:!1})})},this.ddSpacePreview=l=>{var P={spaceId:l.path,fileId:l.url,fileName:l.name,fileSize:l.size,fileType:l.type};(0,k.DR)(P)},this.renderFileListItem=(l,P,W)=>i().createElement("div",{className:"file-list-item-coach",key:l.id||l.uid},i().createElement("span",{className:"file-list-item-coach__index"},W+1),i().createElement(N.Z,{iconClass:d(l),size:"16px"}),i().createElement("div",{className:"file-list-item-coach__info"},i().createElement("span",{className:"name"},l.name),l.id&&i().createElement("span",{className:"size"},l.size/1e3,"KB"),!l.id&&i().createElement("span",{className:"size"},"\u4E0A\u4F20\u4E2D")),P?i().createElement(b.Z,{type:"link",className:"file-list-item-coach__remove-btn",onClick:()=>{this.handleRemove(l)}},i().createElement(N.Z,{iconClass:"icon-icon_close",size:"12px"})):i().createElement("div",{style:{width:12}})),this.handleCancelUpload=()=>{this.setState({uploadVisible:!1})},this.uploadSuccess=l=>{var P=this.props,W=P.t,te=P.value;if(l.length+te.length>5){D.default.warning((0,E.ZT)(W("component.stageAddFileTip"),5));return}var de=l.map(X=>{var fe=ne.Ss.indexOf(X.originalType)>-1;return{id:X.id,name:X.name,duration:X.duration,type:X.type,originalType:X.type,icon:ne.e1[fe?"mp3":X.type],status:X.status,size:X.size}});this.props.onChange(this.props.value.concat(de)),this.setState({uploadVisible:!1})},this.state={showFileSelector:!1,UploadConfig:{data:{access_token:localStorage.token},action:ne.ZP.PostAbility.operateAttachmentUpload(),beforeUpload:this.handleBeforeUpload,accept:".jpg,.jpeg,.png,.gif",showUploadList:!1,onChange:this.handleOnChange},uploadVisible:!1,resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},isDingDiskChoose:!1,previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){var g=this;return(0,p.Z)(r().mark(function C(){var l;return r().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return(0,k.TN)(),W.next=3,(0,v.uj)("operation");case 3:l=W.sent,g.setState({isDingDiskChoose:l});case 5:case"end":return W.stop()}},C)}))()}UNSAFE_componentWillReceiveProps(g){if((0,ve.Of)(g,this.props)){var C=g.uploadSucceedItem,l=C.id,P=C.name,W=C.contentType,te=C.type,de=C.duration,X=C.status,fe=C.size;if(g.uploadComponentType!==g.uploadComponentId)return;var ge=ne.Ss.indexOf(W)>-1,Ce={id:l,name:P,duration:de,type:te,originalType:te,icon:ne.e1[ge?"mp3":te],status:X,size:fe};this.props.onChange(this.props.value.concat([Ce]))}}render(){var g=this.props,C=g.t,l=g.value,P=g.removeable,W=g.preview,te=g.resourceTip,de=g.canSelectCourse,X=g.notLibrary,fe=g.hasZip,ge=fe===void 0?"":fe,Ce=this.state,Ae=Ce.UploadConfig,Le=Ce.showFileSelector,Me=Ce.uploadVisible,Se=Ce.isDingDiskChoose,Ze=Ce.resourcePlayInfo,Be=Ce.previewInfo,Ne=i().createElement(o.Z,null,i().createElement(o.Z.Item,null,i().createElement(B.Z,Ae,C("component.practiceUploadPicBtnText"))),i().createElement(o.Z.Item,null,X?i().createElement("div",{className:"practice-attachment__upload__button"},C("component.practiceUploadFileBtnText"),i().createElement("input",{className:"file-input",multiple:!0,type:"file",onChange:this.handleChooseFiles})):i().createElement("div",{className:"practice-attachment__upload__button",onClick:()=>this.setState({uploadVisible:!0})},C("component.practiceUploadFileBtnText"))));return i().createElement("div",{className:"practice-attachment"},!W&&i().createElement("div",null,i().createElement(Ee.Z,{visible:Le,defaultChecked:l,onCancel:this.handleSelectedCancel,onOk:this.handleSelectedAttachment,excludeType:"h5",showPrivate:!1}),i().createElement("div",{className:"practice-attachment-row"},i().createElement("span",null,C("component.practiceAttachment"),":"),i().createElement("div",null,i().createElement("div",null,i().createElement(x.Z,{overlay:Ne,disabled:l.length===5},i().createElement(b.Z,{disabled:l.length===5,icon:i().createElement(U.Z,null)},C("component.localUpload"))),de?i().createElement(b.Z,{className:"practice-attachment__choose-courseware",icon:i().createElement(U.Z,null),disabled:l.length===5,onClick:this.handleUploadFile},C("component.coursewareLibSelect")):null,dd&&dd.version&&Se?i().createElement(b.Z,{className:"practice-attachment__ding-upload-button",icon:i().createElement(c.Z,null),disabled:l.length===5,onClick:this.handlePreviewDingFile},C("learning.dingSelect")):null),i().createElement("div",{className:"tip"},te||C(ge==="true"?"component.practiceUploadTipZip":"component.practiceUploadTipRange"))))),i().createElement("div",{className:"file-list"},l.map((f,t)=>this.renderFileListItem(f,P,t))),X?i().createElement(Z.Z,{params:{classifyId:0,bizType:1},hasZip:ge}):i().createElement(O.Z,{visible:Me,title:this.props.t("common.storage"),onCancel:this.handleCancelUpload,onSuccess:f=>this.uploadSuccess(f),params:{classifyId:0,bizType:0},notLibrary:X,hasZip:ge}),i().createElement(Te.Z,(0,R.Z)({},Ze,{previewInfo:Be})))}}_.defaultProps={removeable:!1,attachment:[],preview:!1,resourceTip:"",canSelectCourse:!0,notLibrary:!1};var q=(0,u.$j)(he)((0,Q.Z)()(_)),ye=e(43859),pe=z.Z.TextArea;class re extends i().Component{constructor(){super(...arguments);this.handleChange=g=>{var C=g.target.value;this.props.onFieldChange(C)},this.changContent=(g,C)=>{var l=g.target.value,P=[...this.props.value];P[C].content=l,this.props.onFieldChange(P)},this.changeFile=(g,C)=>{for(var l=[...this.props.value],P=0,W=l;P<W.length;P++){var te=W[P];if(C===te.id){te.resources=g;break}}this.props.onFieldChange(l)},this.addStep=()=>{var g=this.props.value;this.props.onFieldChange(g.concat([{content:"",resources:[],id:new Date().getTime()}]))},this.delItem=g=>{var C=[...this.props.value];C.splice(g,1),this.props.onFieldChange(C)}}render(){var g=this.props,C=g.value,l=g.t,P=g.formik,W=g.canEdit,te=g.maxLength,de=g.areaPlaceHolder,X=g.resourceTip,fe=g.canSelectCourse,ge=g.notLibrary,Ce=g.hasZip,Ae=Ce===void 0?"":Ce,Le=P.errors;return i().createElement("div",{className:"radio-mentor-form"},C.map((Me,Se)=>i().createElement("div",{key:Me.id,className:"step-item"},i().createElement("div",{className:"step-title"},i().createElement("p",{className:"step-content"},(0,E.ZT)("".concat(l("practiceOperation.stepByStep")),Se+1)),C.length>1&&i().createElement(h.Z,{onClick:()=>this.delItem(Se)})),i().createElement(pe,{maxLength:te,disabled:!W,rows:4,placeholder:de||l("tutorial.textDesc"),value:Me.content,onChange:Ze=>this.changContent(Ze,Se)}),i().createElement(q,{notLibrary:ge,canSelectCourse:fe,resourceTip:X,uploadComponentId:Me.id,removeable:W,hasZip:Ae,preview:!W,onChange:Ze=>this.changeFile(Ze,Me.id),value:Me.resources}),Le&&Le.stepList&&Le.stepList[Se]&&i().createElement("p",{className:"step-content-error"},l("tutorial.textDescRequire")))),W?i().createElement("div",{className:"step-add-btn",onClick:this.addStep},i().createElement(U.Z,null),i().createElement("span",null,l("tutorial.addSteps"))):null)}}re.defaultProps={maxLength:800,areaPlaceHolder:"",resourceTip:"",canSelectCourse:!0,notLibrary:!1};var ue=(0,ye.Z)((0,K.$j)((0,Q.Z)()(re)))},42837:function(Pe,ce,e){"use strict";var se=e(12924),z=e.n(se),ee=e(91768),i=e(28216),Q=e(66708),K=e(18329);class h extends z().Component{render(){var R=this.props,S=R.visible,x=R.onCancel,A=R.title,o=R.t;return S?z().createElement(K.ZP,{visible:S,width:"400",footer:null,title:A||o("common.QRCodeScan"),bodyStyle:{minWidth:430},onCancel:x,destroyOnClose:!0},z().createElement(Q.Z,this.props)):null}}ce.Z=(0,i.$j)()((0,ee.Z)()(h))},74525:function(Pe,ce,e){"use strict";var se=e(57361),z=e(34792),ee=e(48086),i=e(9754),Q=e.n(i),K=e(12924),h=e.n(K),U=e(91768),R=e(28216),S=e(92592),x=e(5430),A=e(10237),o=e(84874),T=e(16239),B=e(38642),F=e(28963);class b extends h().Component{constructor(p){var L;super(p);L=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var D=this.props,a=D.type,r=D.isProjectShare,u=D.isCommodityExchange,c=D.userInfo;["wx","weixin"].includes(a)?a==="weixin"&&c.appId==="9005"?this.initOtherCode():this.initWXCode():r&&a==="ding"?this.getProjectShareUrl():u&&a==="ding"?this.getCommodityExchangeUrl():a==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var D=this.props,a=D.t,r=D.appType,u=D.orderId,c=this.props.option.scene,v=localStorage.getItem("uid");if(!T.Z[(0,T.c)()].showCl||r!=="e_app"){var O={deliverUserId:v,orderId:u,flag:"exchange"};S.toDataURL(JSON.stringify(O),{width:500}).then($=>{this.setState({img:$})}).catch(()=>{ee.default.error(a("integralMall.qrCodeFailed"))})}else{var Z="/pages/messageRedirect/messageRedirect?".concat(c),E=encodeURIComponent(Z),k="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(E,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(k).then($=>{S.toDataURL($.data.short_link,{width:500}).then(N=>{this.setState({img:N})}).catch(()=>{ee.default.error(a("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var D=this.props.option.scene,a=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(D)),r="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(a);this.getShortLink(r).then(u=>{this.initOtherCode(u.data.short_link)})},this.getShortLink=D=>A.WY.post({url:x.ZP.Common.getQrUrl(),data:{link:D}}),this.initWXCode=(0,se.Z)(Q().mark(function D(){var a,r,u,c;return Q().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return a=L.props.option,r=a.scene,u=a.flag,O.next=3,A.WY.post({url:x.ZP.createWxCode(),data:{flag:u,scene:"".concat(r,"&enterpriseId=").concat(x.ZP.enterpriseId),enterprise_id:x.ZP.enterpriseId}});case 3:c=O.sent,L.setState({img:c.data.wx_code,linkUrl:"data:image/png;base64,".concat(c.data.wx_code)});case 5:case"end":return O.stop()}},D)})),this.initOtherCode=function(){var D=(0,se.Z)(Q().mark(function a(r){var u,c,v,O;return Q().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(u=L.props,c=u.type,v=u.fsUrl,E.t0=r,E.t0){E.next=6;break}return E.next=5,L.handleScanCode();case 5:E.t0=E.sent;case 6:O=E.t0,c==="fs"&&v&&(O=v),L.setState({linkUrl:O}),S.toDataURL(O,{width:500}).then(k=>{L.setState({img:k})}).catch(()=>{ee.default.error(L.props.t("personal.failedGenerateCode"))});case 10:case"end":return E.stop()}},a)}));return function(a){return D.apply(this,arguments)}}(),this.handleScanCode=(0,se.Z)(Q().mark(function D(){var a,r,u,c,v,O,Z,E,k,$,N,J,ne,Ee,ve,Te,me,he;return Q().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a=L.props,r=a.type,u=a.userInfo,c=a.universalFn,v=L.state.wxH5Url,O=L.props.option,Z=O.scene,E=O.pc_url,k=E===void 0?"":E,$=O.mobile_url,N=$===void 0?"":$,J=O.pc_type,ne=J===void 0?"":J,Ee=O.mobile_type,ve=Ee===void 0?"":Ee,Te=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),me=encodeURIComponent(Z),!c){_.next=12;break}return _.next=8,L.getShortLink((0,B.jr)({pc_url:k,mobile_url:N,pc_type:ne,mobile_type:ve}));case 8:return he=_.sent,_.abrupt("return",(0,F.fZ)(he.data.short_link));case 12:_.t0=r,_.next=_.t0==="app"?15:_.t0==="ding"?16:_.t0==="fs"?17:_.t0==="weixin"?18:19;break;case 15:return _.abrupt("return","".concat(Z,"&fromApp=true"));case 16:return _.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(u.corpId,"&appId=").concat(L.appId,"&miniAppId=").concat(L.miniAppId,"&packageType=1&pVersion=1&page=").concat(Te+me));case 17:return _.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(Z,"&appType=lark"));case 18:return _.abrupt("return","".concat(v,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(u.corpId,"&").concat(Z));case 19:return _.abrupt("return","");case 20:case"end":return _.stop()}},D)})),this.saveQrcode=()=>{var D=this.state.img,a=this.props,r=a.type,u=a.t,c=a.userInfo,v=document.createElement("a");v.download=u("setting.Qrcode")+new Date().getTime(),v.href=r==="wx"||r==="weixin"&&c.appId!=="9005"?"data:image/png;base64,".concat(D):D,document.body.appendChild(v),v.click(),document.body.removeChild(v)},this.generatePoster=D=>{var a=D.linkUrl,r=D.type,u=D.activeKey,c=D.option,v=this.props.universalFn;typeof v=="function"&&v({linkUrl:a,type:r,activeKey:u,option:c})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(p){p.option.scene!==this.props.option.scene&&this.initCode()}render(){var p=this.props,L=p.type,D=p.tip,a=p.extraTip,r=p.t,u=p.canSave,c=p.refreshQrCode,v=p.label,O=p.saveText,Z=O===void 0?"":O,E=p.downloadAsBtn,k=p.userInfo,$=p.universalFn,N=p.activeKey,J=p.option,ne=this.state,Ee=ne.img,ve=ne.linkUrl,Te=localStorage.getItem("themeColor")||"#465dcd";return Ee?h().createElement("div",{className:"qr-code-content"},v?h().createElement("div",{className:"label-text"},v,":"):null,h().createElement("div",{className:"qr-code-div ".concat(v?"left":"")},L==="wx"||L==="weixin"&&k.appId!=="9005"?h().createElement("img",{src:"data:image/png;base64,".concat(Ee),alt:""}):h().createElement("img",{src:Ee,alt:""}),D?h().createElement("div",{className:"tip-text"},D):null,a?h().createElement("div",{className:"tip-text"},a):null,u?h().createElement("div",{className:"save_qrcode ".concat(E?"save-btn":""),style:{color:Te},onClick:()=>this.saveQrcode()},E?null:h().createElement(o.Z,{iconClass:"icon-f-download",size:"14px"}),Z||r("personal.saveCode")):null,$&&!c?h().createElement("div",{className:"save_qrcode",style:{color:Te},onClick:()=>this.generatePoster({linkUrl:ve,type:L,activeKey:N,option:J})},r("personal.saveCodePoster")):null,c?h().createElement("div",{className:"save_qrcode",style:{color:Te},onClick:()=>c()},h().createElement(o.Z,{iconClass:"iconf-switch",size:"14px"}),r("personal.refreshCodeTip")):null)):h().createElement("div",{className:"qr-code-placeholder"})}}ce.Z=(0,R.$j)(G=>{var p=G.user;return{userInfo:p,appType:p.appType,corpId:p.corpId}})((0,U.Z)()(b))},66708:function(Pe,ce,e){"use strict";var se=e(93485),z=e(33565),ee=e(57361),i=e(18106),Q=e(88108),K=e(9754),h=e.n(K),U=e(12924),R=e.n(U),S=e(91768),x=e(28216),A=e(89366),o=e(48194),T=e(74525),B=e(77779),F=e.n(B),b=e(6793),G=Q.Z.TabPane;class p extends R().Component{constructor(a){var r;super(a);r=this,this.initAppTypeScan=(0,ee.Z)(h().mark(function c(){var v,O,Z,E,k,$,N,J,ne,Ee,ve;return h().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Promise.all([(0,o.q)(),(0,o.$)()]);case 2:v=me.sent,O=(0,z.Z)(v,2),Z=O[0],E=O[1],k=Z.data.sync_organizes,$=E.data.list,N=!1,J=(0,se.Z)($),me.prev=10,J.s();case 12:if((ne=J.n()).done){me.next=19;break}if(Ee=ne.value,Ee.type!=="wechat_applet_setting"){me.next=17;break}return N=Ee.switch_status==="OPEN",me.abrupt("break",19);case 17:me.next=12;break;case 19:me.next=24;break;case 21:me.prev=21,me.t0=me.catch(10),J.e(me.t0);case 24:return me.prev=24,J.f(),me.finish(24);case 27:ve=r.props.universalFn?r.filterOrganizes(k):r.filterCode(k),N&&ve.push("wx"),r.setState({scanTypes:ve});case 30:case"end":return me.stop()}},c,null,[[10,21,24,27]])})),this.filterCode=c=>{var v=[...c],O=this.props.option;return v=v.map(Z=>["third_oa_app","seeyon_app"].includes(Z)?"ding":Z),O&&O.flag==="exam_task"?[...new Set([...v])].filter(Z=>Z==="fs"):[...new Set([...v,"app"])]},this.filterOrganizes=c=>{var v=[...c],O=this.props.option;v=v.map(E=>["third_oa_app","seeyon_app"].includes(E)?"ding":E);var Z=new Set([...v]);return Z.size===1&&Z.has("app")?O&&O.flag==="exam_task"?[...Z].filter(E=>E==="fs"):[...Z]:(Z.delete("app"),O&&O.flag==="exam_task"?[...Z].filter(E=>E==="fs"):[...Z])};var u=a.t;this.state={scanTypes:[],commonTitle:{ding:u("common.sanCodeCommon"),fs:u("common.sanCodeCommon"),weixin:u("common.sanCodeCommon"),app:u("common.sanCodeCommon"),wx:u("common.weChatApplets")},tabTitle:{ding:u("common.dingDingSanCode"),fs:u("common.fsScanCode"),weixin:u("common.WeComSanCode"),app:u("common.appScanCode"),wx:u("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var a=this.state,r=a.tabTitle,u=a.commonTitle,c=a.scanTypes,v=this.props,O=v.option,Z=v.tip,E=v.t,k=v.extraTip,$=v.canSave,N=v.refreshQrCode,J=v.isCommodityExchange,ne=v.type,Ee=v.center,ve=Ee===void 0?!0:Ee,Te=v.label,me=Te===void 0?"":Te,he=v.saveText,d=v.downloadAsBtn,_=d===void 0?!1:d,q=v.transfer,ye=q===void 0?!1:q,pe=v.source_type,re=v.universalFn,ue=v.activeKey;return R().createElement("div",{className:"".concat(F()["scan-code-box"]," ").concat(ne==="card"?F()["card-tabs"]:"")},c.length===1?R().createElement(T.Z,{universalFn:re,activeKey:ue,type:c[0],option:O,tip:(0,b.ZT)(E(Z),re?u[c[0]]:r[c[0]]),extraTip:k,canSave:$,fsUrl:O.fsUrl,refreshQrCode:N,isCommodityExchange:J,label:me,saveText:he,downloadAsBtn:_}):R().createElement(Q.Z,{defaultActiveKey:"1",centered:ve,type:ne},c.map((w,g)=>{var C=g+1;return R().createElement(G,{tab:re?u[w]:r[w],key:C},ye&&R().createElement("div",{className:F()["scan-code-transfer"]},R().createElement(A.Z,null),R().createElement("span",null,E("course.onlyScope",{source_type:E(pe==="study_project"?"lineClass.project":"lineClass.task")}))),R().createElement(T.Z,{universalFn:re,activeKey:ue,type:w,option:O,tip:(0,b.ZT)(E(Z),re?u[w]:r[w]),extraTip:k,canSave:$,fsUrl:O.fsUrl,refreshQrCode:N,isCommodityExchange:J,label:me,saveText:he,downloadAsBtn:_}))})))}}p.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var L=D=>({appType:D.user.appType});ce.Z=(0,x.$j)(L)((0,S.Z)()(p))},61981:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return T}});var se=e(88983),z=e(47933),ee=e(93485),i=e(57663),Q=e(71577),K=e(12924),h=e.n(K),U=e(91768),R=e(18329),S=e(10237),x=e(37055);function A(B){var F=x.ZP.tutor.listTutor();return S.WY.get({url:F,params:{filter_user_quit:"true",user_id:B,filter_user_tutor:"true",status:"on"}})}class o extends h().Component{constructor(F){super(F);this.initTutorData=b=>{A(b.userId).then(G=>{G.data.data.list&&this.setState({tutorList:G.data.data.list,selectTutorId:b.value||""})})},this.renderFooter=()=>h().createElement(Q.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit")),this.changeTutor=b=>{this.setState({selectTutorId:b.target.value})},this.onOk=()=>{var b=this.props.onOk,G=this.state,p=G.selectTutorId,L=G.tutorList,D="",a=(0,ee.Z)(L),r;try{for(a.s();!(r=a.n()).done;){var u=r.value;if(u.user_id===p){D=u.user_name;break}}}catch(c){a.e(c)}finally{a.f()}b&&b(p,D)},this.onCancel=()=>{var b=this.props.onCancel;this.setState({tutorList:[],selectTutorId:""}),b&&b()},this.renderTip=()=>{var b=this.state.tutorList,G=this.props,p=G.t,L=G.model;if(b.length===0)return p("tutorial.noTutor");if(L==="resource_evaluation")return p("tutorial.noEvaluation");if(L==="evaluation")return p("tutorial.tutorCommitAssess");if(L==="operation")return p("tutorial.noApproverEvaluation")},this.state={prefixCls:"coach-tutor-modal",tutorList:[],selectTutorId:""}}UNSAFE_componentWillReceiveProps(F){F.visible!==this.props.visible&&F.visible&&this.initTutorData(F),F.visible!==this.props.visible&&!F.visible&&this.setState({tutorList:[],selectTutorId:""})}render(){var F=this.state,b=F.prefixCls,G=F.tutorList,p=F.selectTutorId,L=this.props,D=L.t,a=L.visible,r=L.title;return h().createElement(R.ZP,{className:"".concat(b),visible:a,title:r||D("tutorial.chooseTutor"),size:"small",onCancel:this.onCancel,onOk:this.onOk},h().createElement("div",{className:"choose-tutor-content"},h().createElement("div",{className:"tutor-list"},h().createElement("div",{className:"tutor-tip"},this.renderTip()),G.length>0?h().createElement(z.ZP.Group,{onChange:this.changeTutor,value:p},G.map(u=>h().createElement(z.ZP,{value:u.user_id,key:u.user_id},h().createElement("div",{className:"radio-item"},h().createElement("img",{src:u.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""}),h().createElement("div",{className:"radio-item-text"},h().createElement("div",{className:"radio-item-name"},h().createElement("span",{title:u.user_name,className:"user-name"},u.user_name),h().createElement("img",{src:u.gender==="female"?"".concat("https://oss.coolcollege.cn","/1790706776073703424.png"):"".concat("https://oss.coolcollege.cn","/1790706775494889472.png"),alt:"",className:"user-name__sex-img"})),h().createElement("span",{title:u.department_name,className:"user-post"},u.department_name)))))):null)))}}o.defaultProps={visible:!1,onCancel:()=>{},onOk:()=>{},value:""};var T=(0,U.Z)()(o)},8473:function(Pe,ce,e){"use strict";var se=e(62029),z=e(96433),ee=e(33304),i=e(57663),Q=e(71577),K=e(12924),h=e.n(K),U=e(91768),R=e(18329);class S extends h().Component{constructor(A){super(A);this.handleChangeRate=o=>{this.setState({myScore:o})},this.handleOk=()=>{this.props.onOk(this.state.myScore)},this.handleCancel=()=>{this.props.onCancel()},this.renderFooter=()=>{var o=this.props.disabled;return o?null:h().createElement(Q.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit"))},this.state={prefixCls:"score-course-modal",giveMarkModal:{title:A.title||A.t("common.tip"),mask:!0,size:"small",onCancel:this.handleCancel},myScore:5,starsArray:[A.t("course.bad"),A.t("course.better"),A.t("course.good"),A.t("course.perfect"),A.t("course.great")]}}componentDidUpdate(A){A.visible!==this.props.visible&&this.props.visible&&this.setState({myScore:this.props.disabled?this.props.score:5})}render(){var A=this.state,o=A.prefixCls,T=A.giveMarkModal,B=A.myScore,F=A.starsArray,b=this.props,G=b.t,p=b.visible,L=b.disabled;return h().createElement(R.ZP,(0,se.Z)({className:"".concat(o)},T,{visible:p,footer:this.renderFooter()}),h().createElement("div",{className:"".concat(o,"__content")},h().createElement("div",{className:"".concat(o,"__title")},G("course.myScore")),h().createElement("div",{className:"".concat(o,"__score-container")},h().createElement("span",{className:"".concat(o,"__score")},B),h().createElement("span",{className:"".concat(o,"__point")},G("course.points"))),h().createElement(ee.Z,{className:"".concat(o,"__rate"),value:B,disabled:L,style:{color:"#FFC563"},onChange:this.handleChangeRate,allowClear:!1}),h().createElement("div",{className:"".concat(o,"__desc")},F[B-1])))}}S.defaultProps={visible:!1,score:0,disabled:!1,title:"",onCancel:()=>{},onOk:()=>{}},ce.Z=(0,U.Z)()(S)},63532:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return r}});var se=e(88983),z=e(47933),ee=e(57663),i=e(71577),Q=e(96433),K=e(33304),h=e(34792),U=e(48086),R=e(12924),S=e.n(R),x=e(91768),A=e(28216);class o extends S().Component{constructor(c){super(c);this.state={}}render(){var c=this.props.formMessages;return S().createElement("div",{id:"aliPay",dangerouslySetInnerHTML:{__html:c}})}}var T=u=>{var c=u.user;return{userInfo:c}},B=(0,A.$j)(T)((0,x.Z)()(o)),F=e(38642),b=e(10237),G=e(37055),p=e(84874),L=e(18329);class D extends S().Component{constructor(c){super(c);this.onChange=v=>{this.setState({payType:v.target.value})},this.handleCancel=()=>{this.props.handleCancel()},this.toPay=()=>{var v=this.state.payType,O=this.props,Z=O.t,E=O.payInfo,k=O.type;if(v==="all"){U.default.info(Z("payment.paymentMethod"));return}var $=v==="ali"?"ALIPAY":"WXPAY",N=E.id,J=E.price,ne=k==="project"?"STUDY_PROJECT":"STUDY_TASK";b.WY.post({url:G.ZP.StudyProjectList.createOrder(),data:{terminal_type:"pc",pay_channel:$,goods_id:N,goods_type:ne,domain:window.location.origin}}).then(Ee=>{v==="ali"?this.setState({formMessages:Ee.data.data},()=>{var ve="";document.forms.length>1&&document.forms.forEach(Te=>{Te.name==="punchout_form"&&(ve=Te)}),ve&&ve.submit()}):(0,F.eJ)({url:"/course/project/wxPay?payStr=".concat(Ee.data.data,"&price=").concat(J,"&goodsId=").concat(N)})})},this.renderProjectInfo=()=>{var v=this.props.payInfo;return S().createElement("div",{className:"bottom_tips"},S().createElement("div",{className:"left"},S().createElement("img",{src:v.cover,alt:""})),S().createElement("div",{className:"middle"},S().createElement("div",{className:"title"},v.title),S().createElement(K.Z,{className:"rate",disabled:!0,value:v.score===0?5:v.score,style:{color:"#FFC563",fontSize:"10px"}})),S().createElement("div",{className:"right"},"\uFFE5",v.price))},this.renderGoodsInfo=()=>{var v=this.props,O=v.payInfo,Z=v.t;return S().createElement("div",{className:"pay-goods-info"},S().createElement("div",{className:"pay-goods-info__title"},S().createElement("div",{className:"pay-goods-info__item"},Z("common.name")),S().createElement("div",{className:"pay-goods-info__item"},Z("learning.aiTrainPrice"))),S().createElement("div",{className:"pay-goods-info__body"},S().createElement("div",{className:"pay-goods-info__item"},O.title),S().createElement("div",{className:"pay-goods-info__item"},"\uFFE5",O.price)))},this.state={payType:"ali"}}componentWillReceiveProps(c){this.setState({payType:c.showPayType})}render(){var c=this.props,v=c.visible,O=c.t,Z=c.showPayType,E=c.type,k=this.state,$=k.payType,N=k.formMessages,J=S().createElement(i.Z,{type:"primary",onClick:this.toPay},O("payment.pay"));return S().createElement(L.ZP,{title:O("payment.purchaseCourse"),visible:v,onCancel:this.handleCancel,width:560,footer:J},S().createElement("div",{className:"wx-or-ali-pay"},S().createElement("p",null," ",O("payment.choosePayType")),S().createElement(z.ZP.Group,{onChange:this.onChange,value:$},(Z==="ali"||Z==="all")&&S().createElement(z.ZP,{value:"ali"},S().createElement(p.Z,{iconClass:"icon-zhifubaozhifu",size:"20px"}),S().createElement("span",{className:"pay-type"},O("payment.aliPay"))),(Z==="wx"||Z==="all")&&S().createElement(z.ZP,{value:"wx"},S().createElement(p.Z,{iconClass:"icon-weixinzhifu",size:"20px"}),S().createElement("span",{className:"pay-type"},O("payment.wxPay")))),S().createElement("p",{className:"scan-tips"},O("payment.ConfirmOrder")),E==="project"?this.renderProjectInfo():this.renderGoodsInfo()),S().createElement(B,{formMessages:N}))}}D.defaultProps={visible:!1,handleCancel:()=>{},type:"project"};var a=u=>{var c=u.user;return{userInfo:c}},r=(0,A.$j)(a)((0,x.Z)()(D))},85725:function(Pe,ce,e){"use strict";e.d(ce,{Zv:function(){return ee},t2:function(){return i},ew:function(){return Q}});var se=e(37055),z=e(10237);function ee(h,U){var R=se.ZP.PlatformCourse.learningUrl(h);return z.WY.get({url:R,params:U})}function i(h){var U=h.planId,R=se.ZP.EnterpriseCourse.playCountStatistics();z.qg.post({url:R,data:{courseId:U}})}var Q=h=>{var U=se.ZP.Common.addDownloadLog(),R={param:h};return z.WY.get({url:U,params:R})},K=h=>{var U=CONFIG.visitors.shouldGoToCourseDetails(),R={setting_type:h};return request.get({url:U,params:R})}},17762:function(Pe,ce,e){"use strict";var se=e(66456),z=e(55313),ee=e(62029),i=e(88986),Q=e(34792),K=e(48086),h=e(12924),U=e.n(h),R=e(91768),S=e(28216),x=e(37055),A=e(10237),o=e(18329),T=e(87312),B=e(84874),F=e(1164),b=e(76466),G=e(54531),p=e(6793);class L extends U().Component{constructor(a){super(a);this.onCancel=()=>{this.props.onCancel()},this.dealWatchType=r=>{var u=r.contentType||r.content_type,c=x.Yq.findIndex(J=>r.type.toLowerCase().includes(J))>-1,v=u.indexOf("video")>-1,O=x.Ss.indexOf(u)>-1,Z=u.indexOf("image")>-1||r.type.indexOf("image")>-1||u.indexOf("picture")>-1||r.type.indexOf("picture")>-1,E=u.indexOf("html")>-1,k=u.indexOf("scorm")>-1,$=u.indexOf("h5")>-1,N="";return $?N="article":c?N="doc":v||O?N="video":Z?N="image":E?N="html":k&&(N="scorm"),N},this.handlePreviewSystemFile=r=>{var u=this.state.previewInfo,c=r.status===1||r.status===2;if(c){K.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var v=r.contentType||r.content_type,O=this.dealWatchType(r),Z=x.Ss.indexOf(v)>-1;if(O==="article"){var E=r.contentType,k=r.url,$=E==="h5/link";$?F.Z.targetTo({path:k,isExternalLink:!0}):F.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(r.id)});return}if(O==="scorm"){var N=r.url.split("//"),J=N[1].split("/"),ne=[N[0],J[0]].join("//"),Ee="".concat(ne,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(r.url));F.Z.targetTo({path:Ee,isExternalLink:!0});return}var ve={mode:"preview",watchType:O};O==="doc"?Object.assign(ve,{resourceInfo:{type:"",docType:r.type,aliUrl:r.path,url:r.url,docTitle:r.name,playId:r.videoId||r.video_id,storageType:r.storage_type}}):O==="image"?Object.assign(ve,{resourceInfo:{url:r.url,playId:r.videoId||r.video_id,storageType:r.storage_type}}):O==="html"?Object.assign(ve,{resourceInfo:{url:r.url}}):Object.assign(ve,{resourceInfo:{source:{FD:r.url,OD:r.path},originUrl:r.url,contentType:Z?"mp3":r.type,playId:r.videoId||r.video_id,storageType:r.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:ve,previewInfo:(0,i.Z)((0,i.Z)({},u),{},{title:r.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var r=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,i.Z)((0,i.Z)({},r),{},{visible:!1})})},this.funGetList=()=>{var r=this.props,u=r.fileId,c=r.fileList;u?A.WY.get({url:x.ZP.lineClassStudy.getResource(),params:{id:u}}).then(v=>{this.setState({files:v.data})}):this.setState({files:c||[]})},this.handlePreview=r=>{var u=this.props,c=u.appType,v=u.t,O=r.biz_type||r.bizType;if(c==="wx_app"&&O===3){K.default.info(v("lineClassStudy.ddFileNoSee"));return}if(c==="app"){this.handlePreviewSystemFile(r);return}if(!((r.type==="zip"||r.type==="rar")&&r.storage_type!=="DING_PAN")){if(!dd.version&&O===3){K.default.info(v("practiceOperation.dingFileTip"));return}if(O!==3){this.handlePreviewSystemFile(r);return}var Z=x.ZP.DingSpaceId.getSpaceId(),E={corpId:this.props.corpId,userId:this.props.account,fileids:r.url,timeStamp:Date.parse(new Date)};A.WY.get({url:Z,params:E}).then(k=>{k.data.code===0?this.ddSpacePreview(r):K.default.info(k.data.msg)}).catch(k=>{K.default.error(k.data)})}},this.ddSpacePreview=r=>{var u={spaceId:r.path,fileId:r.url,fileName:r.name,fileSize:r.size,fileType:r.type};(0,G.DR)(u)},this.getIconType=r=>{var u=x.e1[r.type];return u||"iconf-matter-picture"},this.renderModalPreview=()=>{var r=this.state,u=r.resourcePlayInfo,c=r.previewInfo;return U().createElement(b.Z,(0,ee.Z)({},u,{previewInfo:c}))},this.renderCard=r=>{var u=this.props,c=u.prefixCls,v=u.t,O="".concat(c,"__file"),Z=r.type;return Z.indexOf("image")!==-1&&(Z="png"),U().createElement(U().Fragment,null,U().createElement("div",{key:r.id,className:O},U().createElement("span",{className:"".concat(O,"__item")},U().createElement("span",{style:{"vertical-align":"middle"}},U().createElement(B.Z,{iconClass:x.e1[Z],size:"16px"}))," ",U().createElement("span",{className:"".concat(O,"__name")},r.name),U().createElement("span",{className:"cl-pointer",style:{marginLeft:"15px","vertical-align":"middle"},onClick:()=>this.handlePreview(r)},v("common.preview")))))},this.renderTable=()=>{var r=this.props,u=r.t,c=r.useLocalList,v=r.fileList,O=this.state.files,Z=c?v:O,E=[{title:u("common.number"),dataIndex:"id",width:80,key:"id",render:(k,$,N)=>U().createElement("span",null,N+1)},{title:u("practiceOperation.annex"),dataIndex:"name",key:"name",ellipsis:!0,render:(k,$)=>U().createElement("div",null,U().createElement(B.Z,{iconClass:this.getIconType($),size:"16px"}),U().createElement("span",{style:{marginLeft:"8px"}},k))},{title:u("common.operate"),width:130,fixed:"right",render:(k,$)=>U().createElement("div",null,U().createElement("span",{className:"cl-pointer",onClick:()=>this.handlePreview($)},u("common.preview")))}];return U().createElement(z.Z,{style:{minHeight:"400px"},columns:E,dataSource:Z,pagination:!1})},this.renderFileList=()=>{var r=this.props,u=r.t,c=r.isComponent,v=r.isCard,O=r.fileList,Z=r.useLocalList,E=r.prefixCls,k=r.title,$=this.state.files,N=Z?O:$;if(c&&!v)return this.renderTable();if(v)return U().createElement(U().Fragment,null,N.length?U().createElement("div",{className:"file-list-item-card"},N.map(Ee=>this.renderCard(Ee))):U().createElement(T.Z,{tipText:u("lineClassStudy.noResult")}));var J=U().createElement("div",null,$.length>0?U().createElement("div",{className:"".concat(E,"_page")},U().createElement("div",{className:"".concat(E,"_page_num")},(0,p.ZT)(u("lineClassStudy.pageTotal"),$.length))):null),ne={okText:u("common.ok"),cancelText:u("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:J};return U().createElement(o.ZP,(0,ee.Z)({title:k||u("practiceOperation.annex")},ne,{visible:this.props.visible,onCancel:this.onCancel}),U().createElement("div",{className:E},this.renderTable()))},this.state={files:[],resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.funGetList()}componentDidUpdate(a){a.fileId!==this.props.fileId&&this.props.fileId&&this.funGetList()}render(){var a=this.state,r=a.resourcePlayInfo,u=a.previewInfo;return U().createElement("div",null,this.renderFileList(),U().createElement(b.Z,(0,ee.Z)({},r,{previewInfo:u})))}}L.defaultProps={prefixCls:"file-list-line-class",title:"",fileId:"",isComponent:!1,fileList:[],useLocalList:!1,isCard:""},ce.Z=(0,S.$j)(D=>({corpId:D.user.corpId,account:D.user.account}))((0,R.Z)()(L))},99359:function(Pe,ce,e){"use strict";var se=e(62029),z=e(20228),ee=e(11382),i=e(81211),Q=e(12924),K=e.n(Q),h=e(91768),U=e(76651),R=e(80991),S=e(10237),x=e(37055),A=e(50603);class o extends K().Component{constructor(){super(...arguments);this.state={infos:{},questions:[],initialParams:{},isLoading:!1},this.initData=()=>{var B=this.props,F=B.questionnaire_result_vo,b=B.questionId;if(F&&this.setState({questions:F.questions,infos:F,initialParams:this.initFormParams(F.questions),isLoading:!1}),b){var G=x.ZP.EditQuestionnaire.getQuestionnaireInfo(this.props.questionId);S.WY.get({url:G}).then(p=>{var L=p.data,D=L.questions,a=(0,i.Z)(L,["questions"]);this.setState({questions:D,infos:a,initialParams:this.initFormParams(D),isLoading:!1})})}},this.initFormParams=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F={};return B.forEach(b=>{var G=b.type==="input"&&b.multiple_rows?"textarea":b.type;F["".concat(b.type,"_").concat(b.id)]={id:b.id,solution:{hasOtherOption:!1,options:"",otherAnswer:""},options:b.options,type:G,isRequired:b.is_must==="true"}}),F},this.handleSubmit=B=>{var F=[];Object.keys(B).forEach(b=>{var G=B[b],p=G.id,L=G.solution,D={};D.options=L.options,L.hasOtherOption&&(D.other_answer=L.otherAnswer),F.push({id:p,solution:D})}),this.props.onSubmit(F)},this.handleCancel=()=>{U.m8.goBack()},this.initRef=B=>{this.props.initRef(B)}}componentDidMount(){this.initData()}render(){var B=this.props.prefixCls,F=!1,b=this.state,G=b.initialParams,p=b.isLoading,L=b.questions,D=b.infos;return p?K().createElement(ee.Z,{size:"large"}):K().createElement("div",{className:B},K().createElement("div",{className:"".concat(B,"__content")},L.length?K().createElement(R.J9,{ref:this.initRef,initialValues:G,onSubmit:this.handleSubmit,render:a=>K().createElement(A.Z,(0,se.Z)({showFooter:F},a,{questions:L,title:D.title,description:D.description,onCancel:this.handleCancel}))}):null))}}o.defaultProps={prefixCls:"participate-in-investigate-offline"},ce.Z=(0,h.Z)()(o)},39383:function(Pe,ce,e){"use strict";var se=e(62029),z=e(57361),ee=e(9754),i=e.n(ee),Q=e(12924),K=e.n(Q),h=e(91768),U=e(38394),R=e.n(U),S=e(72358),x=e(99359),A=e(87312),o=e(44970),T=e(18329),B=e(37055);class F extends K().Component{constructor(G){var p;super(G);p=this,this.onCancel=()=>{this.setState({evaluateDetail:{}});var L=this.props.onCancel;L()},this.onOk=()=>{this.state.formRef.submitForm()},this.onSubmit=L=>{this.setState({evaluateDetail:{}});var D=this.props.onSubmit;D(L)},this.getMyEvaluateInfo=(0,z.Z)(i().mark(function L(){var D,a,r,u,c,v;return i().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:D=p.props,a=D.operateColumn,r=D.type,u=D.typeQuestionnaire,c="",Z.t0=r,Z.next=Z.t0==="lecturer"?5:Z.t0==="course"?7:Z.t0==="student"?9:11;break;case 5:return c=a.id,Z.abrupt("break",13);case 7:return c=a.id,Z.abrupt("break",13);case 9:return c=B.ZP.userId,Z.abrupt("break",13);case 11:return c=a.id,Z.abrupt("break",13);case 13:return Z.next=15,(0,S.K5)(a.id,{evaluate_id:a.evaluate_id,is_evaluated:u==="check",evaluate_object_id:c});case 15:v=Z.sent,R()(v,"data.data")&&v.data.code==="200000"&&p.setState({evaluateDetail:v.data.data},()=>{});case 17:case"end":return Z.stop()}},L)})),this.getEvaluateMyInfo=(0,z.Z)(i().mark(function L(){var D,a,r,u;return i().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return D=p.props,a=D.operateColumn,r=D.type,v.next=3,(0,S.RZ)(a.id,{evaluate_id:a.evaluate_id,type:r,evaluate_user_id:B.ZP.userId});case 3:u=v.sent,R()(u,"data.data")&&u.data.code==="200000"&&p.setState({evaluateDetail:u.data.data});case 5:case"end":return v.stop()}},L)})),this.initRef=L=>{this.setState({formRef:L})},this.state={evaluateDetail:{},formRef:null}}componentDidUpdate(G){var p=this.props.type;G.visible!==this.props.visible&&this.props.visible&&(p==="student"?this.getEvaluateMyInfo():this.getMyEvaluateInfo())}render(){var G=this.props,p=G.prefixCls,L=G.t,D=G.visible,a=G.typeQuestionnaire,r=G.title,u=this.state.evaluateDetail,c=u.evaluate_vo,v=u.questionnaire_result_vo,O={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:null};return a!=="check"&&delete O.footer,K().createElement(T.ZP,(0,se.Z)({},O,{title:r||L("common.questionnaire"),visible:D,onCancel:this.onCancel,onOk:this.onOk}),K().createElement("div",{className:p},K().createElement("div",{className:"modal-content"},K().createElement("div",{className:"list-wrap all-list-wrap"},a==="check"?K().createElement(K().Fragment,null,v?K().createElement(o.Z,{isPreview:!0,questionnaireInfo:v}):K().createElement(A.Z,{tipText:L("lineClassStudy.noResult")})):K().createElement(K().Fragment,null,c?K().createElement(x.Z,{questionId:c.questionnaire_id,initRef:this.initRef,onSubmit:this.onSubmit}):null)))))}}F.defaultProps={prefixCls:"questionnaire",rate:3,typeQuestionnaire:"edit"},ce.Z=(0,h.Z)()(F)},72358:function(Pe,ce,e){"use strict";e.d(ce,{g3:function(){return ee},hR:function(){return i},ZQ:function(){return Q},HM:function(){return K},RZ:function(){return h},K5:function(){return U},az:function(){return R},_C:function(){return S},p_:function(){return x}});var se=e(37055),z=e(10237);function ee(A){return z.WY.get({url:se.ZP.lineClassStudy.getMyEvaluate(),params:A})}function i(A,o){return z.WY.post({url:se.ZP.lineClassStudy.evaluateSubmit(A),data:o})}function Q(A,o){return z.WY.post({url:se.ZP.lineClassStudy.scoreSubmit(A),data:o})}function K(A,o){return z.WY.post({url:se.ZP.lineClassStudy.approvalSubmit(A),data:o})}function h(A,o){return z.WY.get({url:se.ZP.lineClassStudy.getEvaluateMyInfo(A),params:o})}function U(A,o){return z.WY.get({url:se.ZP.lineClassStudy.getMyEvaluateInfo(A),params:o})}function R(A,o){return z.WY.get({url:se.ZP.lineClassStudy.getMyEvaluateInfoManage(A),params:o})}function S(A,o){return z.WY.get({url:se.ZP.lineClassStudy.userEvaluateLecturerList(A),params:o})}function x(A){return z.WY.get({url:se.ZP.lineClassStudy.getEvaluateCount(),params:A})}},47745:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return v}});var se=e(34792),z=e(48086),ee=e(88986),i=e(57663),Q=e(71577),K=e(71153),h=e(60331),U=e(12924),R=e.n(U),S=e(91768),x=e(76651),A=e(87722);class o extends R().Component{constructor(){super(...arguments);this.handleTimeRange=Z=>{var E=Z.startTime,k=Z.endTime,$=Z.dateStrings;if(!$.filter(J=>J).length){this.props.handleChangeDataRange({startTime:"",endTime:""});return}var N={startTime:E,endTime:k};this.props.handleChangeDataRange(N)}}render(){return R().createElement("div",{className:"exam-grades__query"},R().createElement(A.Z,{timestamp:!0,showTime:!0,format:"YYYY-MM-DD HH:mm",onCustomChange:this.handleTimeRange}))}}var T=(0,S.Z)()(o),B=e(84391),F=O=>{var Z=O.t,E=O.shouldRenderExport;return R().createElement("div",{className:"exam-grades__query"},E&&R().createElement(Q.Z,{type:"primary",onClick:O.handleExport},R().createElement(B.Z,null),Z("common.exportData")))},b=(0,S.Z)()(F),G=e(38642),p=e(10237),L=e(37055),D=e(6793),a=e(18329),r=e(95664),u=e(36202);class c extends R().Component{constructor(Z){super(Z);this.getTableColumns=()=>{var E=[{title:this.props.t("personal.submitTime"),dataIndex:"planId",key:"planId",width:160,render:(J,ne)=>R().createElement("span",{className:"exam-grades__table__cell"},(0,D.p6)(ne.commit_time,"yyyy-MM-dd hh:mm:ss"),ne.score_rule===1?R().createElement(h.Z,{color:"#CF3C3C"},this.props.t("myExamTask.highest")):null,ne.score_rule===2?R().createElement(h.Z,{color:"#FFA000"},this.props.t("myExamTask.newest")):null)},{title:this.props.t("examing.examTotalScore"),dataIndex:"total_score",key:"total_score",width:100},{title:this.props.t("myExamTask.score"),dataIndex:"score",key:"score",width:100,render:(J,ne)=>ne.status===5?"--":J},{title:this.props.t("exam.examTime"),dataIndex:"duration",key:"duration",width:100,render:J=>(0,D.xj)(J)},{title:this.props.t("exam.examResult"),dataIndex:"result",key:"result",width:120},{title:this.props.t("common.operate"),width:100,key:"operate",render:J=>this.props.type==="user"?this.userOperation(J):this.adminOperation(J)}],k={title:this.props.t("exam.marker"),width:100,dataIndex:"marker_name",key:"marker_name"},$=this.props.type,N=$===void 0?"admin":$;return N==="admin"&&E.splice(4,0,k),E},this.userOperation=E=>R().createElement(U.Fragment,null,E.view_rule===0&&R().createElement(Q.Z,{type:"link",size:"small",disabled:!0},this.props.t("common.viewDetails")),E.view_rule===1&&R().createElement(Q.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(E)},this.props.t("myExamTask.answerAnalytics")),E.view_rule===2&&R().createElement(Q.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(E)},this.props.t("exam.viewRightAndWrong"))),this.adminOperation=E=>R().createElement(U.Fragment,null,E.status===5?R().createElement("div",{className:"cl-table__cell-action"},R().createElement("span",{className:"cl-pointer cl-disabled"}," ",this.props.t("common.viewDetails"))):R().createElement("div",{className:"cl-table__cell-action",onClick:()=>this.viewDetails(E)},R().createElement("span",{className:"cl-pointer"}," ",this.props.t("common.viewDetails")))),this.viewDetails=E=>{var k=E.user_id,$=E.plan_id,N=E.makeup_count,J=this.props,ne=J.pageFrom,Ee=J.taskId,ve=J.type,Te=ve===void 0?"admin":ve,me="";Te==="admin"?me="/training/examination/result?pageFrom=examMonitor&id=".concat($,"&userId=").concat(k,"&makeupCount=").concat(N):ne==="myObligatoryTask"?me="/training/examination/result/personal?fromPage=myObligatoryTask&id=".concat($,"&userId=").concat(k,"&taskId=").concat(Ee,"&makeupCount=").concat(N):ne==="myExamTask"?me="/training/examination/result/personal?pageFrom=myExamTask&id=".concat($,"&userId=").concat(k,"&makeupCount=").concat(N):me="/training/examination/result/personal?id=".concat($,"&userId=").concat(k,"&makeupCount=").concat(N),Te==="admin"?x.m8.push(me):(0,G.eJ)({url:me})},this.initTableList=()=>{var E=this.props.planId;p.WY.get({url:L.ZP.ExaminationPlanMonitor.getExamAllGrades(E),params:(0,ee.Z)({},this.state.params)}).then(k=>{setTimeout(()=>{this.setState({showList:!0,loading:!1,tableList:k.data.list,tableTotal:Number(k.data.total),tableTotalPages:k.data.pages})},300)}).catch(()=>{this.setState({showList:!1,loading:!1}),this.props.hideEveryExamGrade()})},this.handleTableChange=E=>{var k=this.state.params;k.page_number=E,this.setState({params:k},()=>{this.initTableList()})},this.handleChangeDataRange=E=>{this.setState(k=>({params:(0,ee.Z)((0,ee.Z)({},k.params),{},{commit_time_start:E.startTime,commit_time_end:E.endTime})}),()=>{this.initTableList()})},this.handleExport=()=>{var E=this.props,k=E.t,$=E.planId,N=L.ZP.ExaminationPlanMonitor.exportExamAllGrades($),J=this.state.params,ne=J.commit_time_start,Ee=J.commit_time_end,ve=J.user_id;N+="?access_token=".concat(window.localStorage.getItem("token"),"&commit_time_start=").concat(ne,"&commit_time_end=").concat(Ee)+"&user_id=".concat(ve),window.location.href=N,z.default.success(k("study.exportSucceed"))},this.onCancel=()=>{this.props.hideEveryExamGrade()},this.renderFooter=()=>{var E=this.props.t;return R().createElement(Q.Z,{type:"primary",onClick:this.onCancel},E("common.cancel"))},this.renderLeftRow=()=>R().createElement(T,{handleChangeDataRange:this.handleChangeDataRange}),this.renderRightRow=()=>{var E=this.props.type,k=E===void 0?"admin":E;return R().createElement(b,{shouldRenderExport:k==="admin",handleExport:this.handleExport})},this.state={loading:!0,params:{commit_time_start:"",commit_time_end:"",user_id:"",page_number:1,page_size:10},tableList:[],tableTotal:0,tableTotalPages:0,showList:!1}}componentDidUpdate(Z){this.props.visible&&this.props.visible!==Z.visible&&this.props.userId&&this.setState({params:{commit_time_start:"",commit_time_end:"",user_id:this.props.userId,page_number:1,page_size:10,task_id:this.props.taskId},tableList:[],tableTotal:0,tableTotalPages:0},()=>{this.initTableList()})}render(){var Z=this.props,E=Z.visible,k=Z.t,$=Z.planTitle,N=this.state,J=N.showList,ne=N.loading,Ee=N.params,ve=N.tableList,Te=N.tableTotal,me=N.tableTotalPages;return R().createElement("div",null,E&&J?R().createElement(a.ZP,{size:"large",visible:E,title:k("exam.examDetails"),onCancel:this.onCancel,onOk:this.onCancel,footer:this.renderFooter()},R().createElement("div",{className:"exam-grades"},R().createElement("div",{className:"exam-grades__title"},$),R().createElement(u.f,{bordered:!0,columns:this.getTableColumns(),rowKey:"makeup_count",dataSource:ve,pagination:!1,loading:ne,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"a7d5cb8a-163d-4795-953e-ae47d83ee50d"}),R().createElement(r.Z,{defaultPageSize:10,totalNum:Te,totalPage:me,current:Ee.page_number,showRenderRefresh:!1,onChange:this.handleTableChange}))):null)}}var v=(0,S.Z)()(c)},59842:function(Pe,ce,e){"use strict";var se=e(71194),z=e(57016),ee=e(12924),i=e.n(ee),Q=e(91768),K=e(68628),h=e(6793);class U extends i().Component{constructor(){super(...arguments);this.handleOk=()=>{this.props.onOk()},this.handleCancel=()=>{this.props.onCancel()}}render(){var S=this.props,x=S.t,A=S.visible,o=S.examInfo;return i().createElement(z.Z,{visible:A,width:493,className:"exam-item-info-modal",maskClosable:!1,title:x("exam.examInstructions"),cancelText:x("common.cancel"),okText:x("exam.enterExam"),onOk:this.handleOk,onCancel:this.handleCancel},i().createElement("div",{className:"exam-item-info"},dd.version&&o.cut_screen_count!==-1&&i().createElement("div",{className:"warn_tip_container"},(0,h.ZT)("".concat(x("exam.cutScreenExamTip")),"Edge\u3001 Firefox\u3001 Chrome\u3001 Opera\u3001 sogou \u3001360 ")),i().createElement("div",{className:"exam-item-info__title"},o.title),o.begin_time?i().createElement("div",{className:"exam-item-info__date"},(0,h.p6)(o.begin_time,"yyyy-MM-dd hh:mm")," ~"," ",(0,h.p6)(o.end_time,"yyyy-MM-dd hh:mm")):null,i().createElement("div",{className:"exam-item-info__detail"},i().createElement("div",{className:"exam-item-info__detail__row"},i().createElement("div",{className:"exam-item-info__detail__column"},i().createElement("div",{className:"exam-item-info__detail__column__value"},i().createElement("div",{className:"exam-duration"},o.exam_duration/60),i().createElement("div",{className:"exam-duration-label"},x("common.minutes"))),i().createElement("div",{className:"exam-item-info__detail__column__text"},x("exam.examTotalTime"))),i().createElement("div",{className:"exam-item-info__detail__column"},i().createElement("div",{className:"exam-item-info__detail__column__value"},o.total_score),i().createElement("div",{className:"exam-item-info__detail__column__text"}," ",x("exam.examTotalScore"))),i().createElement("div",{className:"exam-item-info__detail__column"},i().createElement("div",{className:"exam-item-info__detail__column__value"},o.passing_score),i().createElement("div",{className:"exam-item-info__detail__column__text"},x("exam.passingScore")))),i().createElement("div",{className:"exam-item-info__detail__row"},i().createElement("div",{className:"exam-item-info__detail__column"},o.exam_count>=0?i().createElement("div",{className:"exam-item-info__detail__column__value"},o.exam_count):i().createElement("div",{className:"exam-item-info__detail__column__value"}," ",x("exam.unlimited")),i().createElement("div",{className:"exam-item-info__detail__column__text"},x("exam.examTimes"))),i().createElement("div",{className:"exam-item-info__detail__column"},o.score>=0?i().createElement("div",{className:"exam-item-info__detail__column__value"},o.score):i().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),i().createElement("div",{className:"exam-item-info__detail__column__text"},x("exam.credits"))),i().createElement("div",{className:"exam-item-info__detail__column"},o.certificate_count>0?i().createElement("div",{className:"exam-item-info__detail__column__value"},o.certificate_count):i().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),i().createElement("div",{className:"exam-item-info__detail__column__text"}," ",x("exam.certificate"))))),i().createElement("div",{className:"exam-item-info__tips"},i().createElement(K.Z,null),o.cut_screen_count>=0?(0,h.ZT)(x("exam.examScreenTips"),o.cut_screen_count):x("exam.examTips"))))}}ce.Z=(0,Q.Z)()(U)},41285:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return me}});var se=e(62029),z=e(57663),ee=e(71577),i=e(34792),Q=e(48086),K=e(12924),h=e.n(K),U=e(91768),R=e(55446),S=e(28216),x=e(88986),A=e(93485),o=e(33565),T=e(80991),B=e(2287),F=e(2323),b=e(49101),G=e(43859),p=e(61981);class L extends h().Component{constructor(){super(...arguments);this.state={coachModel:"operation",showSelectCoachTutorDialog:!1},this.selectCoachTutorPeople=(d,_)=>{this.setState({showSelectCoachTutorDialog:!1}),this.props.onFieldChange({tutor_user_id:d,tutor_user_name:_})}}render(){var d=this.props,_=d.value,q=d.t,ye=d.userId,pe=d.otherUserId,re=this.state,ue=re.showSelectCoachTutorDialog,w=re.coachModel,g=pe||ye;return h().createElement("div",null,_.tutor_user_id?h().createElement("span",{className:"select-tutor-approver-name"},_.tutor_user_name||""):null,h().createElement(ee.Z,{onClick:()=>this.setState({showSelectCoachTutorDialog:!0}),icon:h().createElement(b.Z,null)}),h().createElement(p.Z,{model:w,value:_.tutor_user_id,title:q("authentication.abilityDetailSecAddApprover"),userId:g,visible:ue,onOk:this.selectCoachTutorPeople,onCancel:()=>this.setState({showSelectCoachTutorDialog:!1})}))}}var D=he=>{var d=he.user;return{lng:d.lng,userId:d.id}},a=(0,S.$j)(D)((0,G.Z)((0,T.$j)((0,U.Z)()(L)))),r=e(6793),u=e(10237),c=e(37055),v=e(1164),O=e(76466),Z=e(54531),E=e(84874),k=e(54624),$={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}},N=he=>{var d=c.Ss.indexOf(he.content_type)>-1,_=he.type;he.content_type==="scorm"&&(_="scorm"),d&&(_="mp3");var q=c.e1[_];return q||"iconf-matter-picture"};class J extends h().Component{constructor(){super(...arguments);this.state={resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}},this.initRef=d=>{this.formRef=d},this.validate=d=>{var _={},q=(0,A.Z)(d.entries()),ye;try{for(q.s();!(ye=q.n()).done;){var pe=ye.value,re=(0,o.Z)(pe,2),ue=re[0],w=re[1];(!w.content||(0,r.fy)(w.content).length===0)&&(w.resources&&w.resources.filter(g=>g.id).length===0||!w.resources)&&(_[ue]=!0)}}catch(g){q.e(g)}finally{q.f()}return Object.keys(_).length?_:""},this.validateApprover=d=>{var _=this.props.t,q="";return d.tutor_user_id||(q=_("tutorial.selectApprover")),q},this.handlePreview=d=>{var _=this.props,q=_.appType,ye=_.t;if(q==="wx_app"&&d.biz_type===3){Q.default.info("\u8BE5\u9644\u4EF6\u7531\u9489\u76D8\u4E0A\u4F20\uFF0C\u65E0\u6CD5\u9884\u89C8\uFF0C\u8BF7\u5728\u9489\u9489\u5BA2\u6237\u7AEF\u6253\u5F00\u9884\u89C8");return}if(d.status!==3){Q.default.info(ye("resourceLibrary.transcodingPlayerTip"));return}if(!((d.type==="zip"||d.type==="rar")&&d.storage_type!=="DING_PAN")){if(q==="app"){this.handlePreviewSystemFile(d);return}if(!dd.version&&d.biz_type===3){Q.default.info(ye("practiceOperation.dingFileTip"));return}if(d.biz_type!==3){this.handlePreviewSystemFile(d);return}var pe=c.ZP.DingSpaceId.getSpaceId(),re={corpId:this.props.corpId,userId:this.props.account,fileids:d.url,timeStamp:Date.parse(new Date)};u.WY.get({url:pe,params:re}).then(ue=>{ue.data.code===0?this.ddSpacePreview(d):Q.default.info(ue.data.msg)}).catch(ue=>{Q.default.error(ue.data)})}},this.dealWatchType=d=>{var _=c.Yq.findIndex(C=>d.type.toLowerCase().includes(C))>-1,q=d.content_type.indexOf("video")>-1,ye=c.Ss.indexOf(d.content_type)>-1,pe=d.content_type.indexOf("image")>-1||d.type.indexOf("image")>-1||d.content_type.indexOf("picture")>-1||d.type.indexOf("picture")>-1,re=d.content_type.indexOf("h5")>-1,ue=d.content_type==="html",w=d.content_type==="scorm",g="";return re?g="article":_?g="doc":q||ye?g="video":pe?g="image":ue?g="html":w&&(g="scorm"),g},this.handlePreviewSystemFile=d=>{var _=this.state.previewInfo,q=this.dealWatchType(d),ye=c.Ss.indexOf(d.content_type)>-1;if(q==="article"){var pe=d.content_type,re=d.url,ue=pe==="h5/link";ue?v.Z.targetTo({path:re,isExternalLink:!0}):v.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(d.id)});return}if(q==="scorm"){var w=d.url.split("//"),g=w[1].split("/"),C=[w[0],g[0]].join("//"),l="".concat(C,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(d.url));v.Z.targetTo({path:l,isExternalLink:!0});return}var P={mode:"preview",watchType:q};q==="doc"?Object.assign(P,{resourceInfo:{type:"",docType:d.type,aliUrl:d.path,url:d.url,docTitle:d.name,playId:d.videoId||d.video_id,storageType:d.storage_type}}):q==="image"?Object.assign(P,{resourceInfo:{url:d.url,playId:d.videoId||d.video_id,storageType:d.storage_type}}):q==="html"?Object.assign(P,{resourceInfo:{url:d.url}}):Object.assign(P,{resourceInfo:{source:{FD:d.url,OD:d.path},originUrl:d.url,contentType:ye?"mp3":d.type,playId:d.videoId||d.video_id,storageType:d.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:P,previewInfo:(0,x.Z)((0,x.Z)({},_),{},{title:d.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var d=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,x.Z)((0,x.Z)({},d),{},{visible:!1})})},this.ddSpacePreview=d=>{var _={spaceId:d.path,fileId:d.url,fileName:d.name,fileSize:d.size,fileType:d.type};(0,Z.DR)(_)},this.renderItemView=d=>h().createElement("div",{className:"file-list-item-resource",key:d.id||d.uid,onClick:()=>{this.handlePreview(d)}},h().createElement(E.Z,{iconClass:N(d),size:"22px"}),h().createElement("div",{className:"info"},h().createElement("span",{className:"name"},d.name),h().createElement("div",{className:"size-and-download"},d.id&&h().createElement("span",{className:"size"},d.size/1024>1024?"".concat((d.size/1024/1024).toFixed(1),"MB"):"".concat((d.size/1024).toFixed(1),"KB")),(0,B.a)(d)&&h().createElement("span",{className:"download-text"},h().createElement(F.Z,{item:d})))))}componentDidMount(){this.props.onFormMounted(this.formRef),(0,Z.TN)()}render(){var d=this.props,_=d.initData,q=d.t,ye=d.canEdit,pe=d.otherUserId,re=this.state,ue=re.resourcePlayInfo,w=re.previewInfo;return h().createElement("div",{className:"coach-task-form"},h().createElement("div",{className:"step-title-content"},h().createElement("p",{className:"step-title"},_.title),h().createElement("div",{className:"step-content-text"},h().createElement("p",{className:"task-desc"},q("component.practiceRequire"),"\uFF1A"),h().createElement("p",{className:"more-text"},_.content)),_.resourceList.length===0?null:h().createElement("div",{className:"step-content-text"},h().createElement("p",{className:"task-desc"},q("practiceOperation.annex"),"\uFF1A"),h().createElement("div",{className:"content-resource"},_.resourceList.map(g=>this.renderItemView(g))))),h().createElement(T.J9,{ref:this.initRef,initialValues:_,onSubmit:this.props.onSubmit,render:g=>h().createElement(T.l0,null,_.approval_type==="tutor"?h().createElement(T.gN,(0,se.Z)({name:"tutor",label:q("authentication.abilityDetailApprover"),defaultValue:g.values.tutor,validate:this.validateApprover,component:a,displayType:"Custom",otherUserId:pe},$)):null,h().createElement(T.gN,(0,se.Z)({name:"stepList",label:"",required:!0,defaultValue:g.values.stepList,validate:this.validate,component:k.Z,notLibrary:!0,hasZip:"true",canSelectCourse:!1,maxLength:1200,areaPlaceHolder:q("tutorial.textDescOperationIndustry"),resourceTip:q("tutorial.resourceTip"),displayType:"Custom",canEdit:ye,customError:!0},$)))}),h().createElement(O.Z,(0,se.Z)({},ue,{previewInfo:w})))}}J.defaultProps={initData:{},onFormMounted:()=>{},canEdit:!0};var ne=(0,S.$j)(he=>({corpId:he.user.corpId,account:he.user.account}))((0,U.Z)()(J)),Ee=e(18329);class ve extends h().Component{constructor(d){super(d);this.getInitData=_=>{var q=this.props.userInfo,ye=_.otherUserId?c.ZP.operationInfo.getOperationCustomByUserAndTaskId({userId:_.otherUserId,operations:_.operationsId}):c.ZP.operationInfo.getOperationInfoByUserAndTaskId({userId:q.id,operations:_.operationsId});u.WY.get({url:ye}).then(pe=>{pe.data.code===0?this.setState({initData:{title:pe.data.data.title,content:pe.data.data.content,operation_source:pe.data.data.operation_source,resourceList:pe.data.data.resources||[],stepList:pe.data.data.steps&&pe.data.data.steps.length>0?pe.data.data.steps:[{content:"",resources:[],id:new Date().getTime()}],approval_type:pe.data.data.approval_type,tutor:{tutor_user_id:pe.data.data.tutor_user_id||"",tutor_user_name:pe.data.data.tutor_user_name||""}},showForm:!0}):Q.default.error(pe.data.msg)})},this.onCancel=()=>{this.setState({showForm:!1}),this.props.onCancel&&this.props.onCancel()},this.onOk=_=>{var q=this.props.canEdit;if(!q){this.setState({showForm:!1}),this.props.onOk&&this.props.onOk();return}this.setState({commitStatus:_},()=>{this.AddFormInstance.submitForm()})},this.onFormMounted=_=>{this.AddFormInstance=_},this.onSubmit=_=>{var q=this.props,ye=q.userInfo,pe=q.t,re=q.otherUserId,ue=this.state,w=ue.isLoading,g=ue.commitStatus,C=ue.initData;if(!w){var l={steps:_.stepList.map((W,te)=>({content:W.content?(0,r.fy)(W.content):W.content,step:te+1,resources:W.resources.filter(de=>de.id).map((de,X)=>({resourceId:de.id,sort:X+1}))}))};if(_.approval_type==="tutor"&&!_.tutor.tutor_user_id){Q.default.error(pe("tutorial.selectApprover"));return}var P=re?c.ZP.operationInfo.saveOperationCustomContent({userId:re,operations:this.props.operationsId}):c.ZP.operationInfo.saveOperationIndustryContent({userId:ye.id,operations:this.props.operationsId});this.setState({isLoading:!0}),u.WY.post({url:P,data:{approval_user:_.approval_type==="tutor"?_.tutor.tutor_user_id:"",operation:l.steps,operation_source:C.operation_source},params:{status:g==="save"?"0":"1"}}).then(W=>{this.setState({isLoading:!1}),W.data.code===0&&(Q.default.success(pe(g==="save"?"common.saveSuccess":"common.submitSuccess")),this.setState({showForm:!1}),this.props.onOk&&this.props.onOk(g!=="save"))}).catch(()=>{this.setState({isLoading:!1})})}},this.renderModalFooter=()=>{var _=this.props,q=_.t,ye=_.onlyCommit,pe=this.props.canEdit;return h().createElement("div",{className:"coach-task-modal-footer"},h().createElement(ee.Z,{onClick:this.onCancel},q("common.cancel")),pe?h().createElement(h().Fragment,null,ye?null:h().createElement(ee.Z,{type:"primary",onClick:()=>this.onOk("save")},q("common.save")),h().createElement(ee.Z,{type:"primary",onClick:()=>this.onOk("submit")},q("common.submit"))):null)},this.state={showForm:!1,initData:{resourceList:[],operation_source:"study",stepList:[{content:"",resources:[],id:new Date().getTime()}],tutor:{tutor_user_id:"",tutor_user_name:""}},isLoading:!1,commitStatus:"save"},this.formRef=null}UNSAFE_componentWillReceiveProps(d){d.visible!==this.props.visible&&d.visible&&this.getInitData(d)}render(){var d=this.props,_=d.t,q=d.visible,ye=d.canEdit,pe=d.title,re=d.otherUserId,ue={title:pe||_("common.submit")+_("component.practiceExam"),okText:_("common.ok"),cancelText:_("common.cancel"),size:"medium",destroyOnClose:!0,maskClosable:!1,footerType:"custom"};return h().createElement(Ee.ZP,(0,se.Z)({},ue,{visible:q,onCancel:this.onCancel,onOk:this.onOk,renderCustomFooter:this.renderModalFooter}),h().createElement("div",{className:"add-task-coaching operation-industry"},this.state.showForm?h().createElement(ne,{onFormMounted:this.onFormMounted,onSubmit:this.onSubmit,initData:this.state.initData,canEdit:ye,otherUserId:re}):null))}}var Te=he=>({userInfo:he.user}),me=(0,S.$j)(Te)((0,U.Z)()(ve))},2323:function(Pe,ce,e){"use strict";var se=e(22385),z=e(31097),ee=e(12924),i=e.n(ee),Q=e(91768),K=e(90631),h=e(65202),U=e(2287);function R(S){var x=(0,h.p)(),A=S.item,o=S.t;return i().createElement(z.Z,{title:o("course.courseDetailDownload")},i().createElement(K.Z,{onClick:T=>(0,U.F)(T,A,S),style:{color:x,fontSize:"16px"}}))}ce.Z=(0,Q.Z)()(R)},19151:function(Pe,ce,e){"use strict";var se=e(88986),z=e(34669),ee=e(82833),i=e(22385),Q=e(31097),K=e(87593),h=e(37636),U=e(57361),R=e(33565),S=e(9754),x=e.n(S),A=e(12924),o=e.n(A),T=e(91768),B=e(78138),F=e.n(B),b=e(57068),G=e(38642),p=e(65202),L=e(10237),D=e(56932),a=e.n(D),r=e(84874),u=e(37055),c=e(8473),v=e(17762),O=e(72358),Z=e(39383),E=e(60667);function k($){var N=$.t,J=$.refresh,ne=$.isStart,Ee=$.startStudy,ve=$.isPreview,Te=(0,p.p)(),me=(0,A.useState)({}),he=(0,R.Z)(me,2),d=he[0],_=he[1],q=(0,A.useState)(!1),ye=(0,R.Z)(q,2),pe=ye[0],re=ye[1],ue=(0,A.useState)(!1),w=(0,R.Z)(ue,2),g=w[0],C=w[1],l=(0,A.useState)({}),P=(0,R.Z)(l,2),W=P[0],te=P[1],de=(0,A.useState)(""),X=(0,R.Z)(de,2),fe=X[0],ge=X[1],Ce={missing:N("lineClass.missing"),normal:N("marketing.normal"),leaved:N("lineClass.leave"),late:N("lineClassStudy.late"),leaveEarly:N("lineClassStudy.leaveEarly"),noIn:N("lineClassStudy.noIn"),noOut:N("lineClassStudy.noOut")};function Ae(n,V){Ee&&Ee(V==="course"?Ze(n):Ne(n)),V==="course"?Ze(n):Ne(n)}function Le(n){var V;if(n.data_type===13){if(n.sign_detail.sign_info.director.length){var oe=[];n.sign_detail.sign_info.director.forEach(xe=>{oe.push(o().createElement(E.Z,{dataType:"userName",value:xe.sync_user_id,name:xe.userName,type:xe.sync_source_type}))}),V=oe.length?o().createElement("span",null,oe.map((xe,Re)=>o().createElement("span",{key:Re},xe,"".concat(Re<oe.length-1?"\u3001":"")))):o().createElement("span",null,"--")}}else if(n.data_type===7&&n.offline_course_vo){var ie=n.offline_course_vo,ae=ie.lecturer_name,_e=ie.teacher_sync_type,Y=ie.teacher_sync_source_type,Ie=ie.teacher_sync_user_id;V=o().createElement("span",null,_e==="inside"?o().createElement(E.Z,{dataType:"userName",value:Ie,name:ae,type:Y}):ae||"--")}return V}function Me(n){if(n.data_type===13){var V=n.sign_detail.sign_record;if(V){var oe=n.sign_type==="sign_in"?V.signInStatus:V.signOutStatus;return oe==="abnormal"&&(oe=n.sign_type==="sign_in"?"late":"leaveEarly"),oe==="missing"&&(oe=n.sign_type==="sign_in"?"noIn":"noOut"),o().createElement("span",{className:oe},Ce[oe])}return o().createElement("span",{className:"sign-btn no-sign-btn"},n.sign_type==="sign_in"?N("lineClassStudy.noIn"):N("lineClassStudy.noOut"))}if(n.data_type===7)return o().createElement(o().Fragment,null,n.offline_course_vo.is_student_course_evaluate&&o().createElement("span",{className:"sign-btn",onClick:()=>{Se(n.offline_course_vo)}},n.offline_course_vo.student_course_evaluated?N("lineClass.courseView"):N("lineClassStudy.evaluationOfCourse")))}function Se(n){if(!ne){Ae(n,"course");return}Ze(n)}function Ze(n){if(!!n){ge("course"),_(n);var V=n.student_course_evaluate_content.evaluate_type;V==="star"?n.student_course_evaluated?f(n,"course"):re(!0):C(!0)}}function Be(n){if(!ne){Ae(n,"lecturer");return}Ne(n)}function Ne(n){if(!!n){ge("lecturer"),_(n);var V=n.student_lecturer_evaluate_content.evaluate_type;V==="star"?n.student_lecturer_evaluated?f(n,"lecturer"):re(!0):C(!0)}}function f(n,V){return t.apply(this,arguments)}function t(){return t=(0,U.Z)(x().mark(function n(V,oe){var ie;return x().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,(0,O.K5)(V.id,{evaluate_id:oe==="course"?V.student_course_evaluate_id:V.student_lecturer_evaluate_id,is_evaluated:!0,evaluate_object_id:V.id});case 2:ie=_e.sent,ie.data.code==="200000"&&(te(ie.data.data.evaluate_vo),re(!0));case 4:case"end":return _e.stop()}},n)})),t.apply(this,arguments)}function s(n){var V=fe==="course"?d.student_course_evaluate_content:d.student_lecturer_evaluate_content,oe=V.evaluate_type;L.WY.post({url:u.ZP.lineClassStudy.evaluateSubmit(d.id),data:{evaluate_object_id:d.id,evaluate_type:oe,evaluate_id:fe==="course"?d.student_course_evaluate_id:d.student_lecturer_evaluate_id,evaluateContentVo:{evaluateVo:{star:n}}}}).then(()=>{re(!1),_({}),J()}).catch(()=>{})}function y(n){return m.apply(this,arguments)}function m(){return m=(0,U.Z)(x().mark(function n(V){var oe,ie,ae,_e;return x().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return oe=fe==="course"?d.student_course_evaluate_content:d.student_lecturer_evaluate_content,ie=oe.evaluate_type,ae=oe.questionnaire_id,Ie.next=3,(0,O.hR)(d.id,{evaluate_object_id:d.id,evaluate_type:ie,evaluate_id:fe==="course"?d.student_course_evaluate_id:d.student_lecturer_evaluate_id,evaluate_content_vo:{questions:V,evaluate_vo:{questionnaire_id:ae}}});case 3:_e=Ie.sent,_e.data.code==="200000"&&(C(!1),_({}),J());case 5:case"end":return Ie.stop()}},n)})),m.apply(this,arguments)}function I(n){return o().createElement("div",null,n.address?o().createElement("div",{className:"task-address task-item"},o().createElement("span",{className:"address-icon"},o().createElement(r.Z,{iconClass:"icon-xianxiaqiandao",size:"12px",color:"rgba(0, 0, 0, 0.35)"})),n.address):null,n.introduction?o().createElement("div",{className:"task-introduction task-item"},N("learning.taskSummary"),"\uFF1A",n.introduction):null,n.attachment&&n.attachment.length?o().createElement("div",{className:"training-attachment"},o().createElement(v.Z,{isCard:!0,isComponent:!0,useLocalList:!0,fileList:n.attachment})):null,n.is_open_offline_assessment&&o().createElement("div",{className:"task-score task-item"},N("lineClassStudy.auditScore"),"\uFF1A",n.course_monitor&&n.course_monitor.status==="scoring"||!n.course_monitor?n.lecturer_name?N("lineClass.waitScore"):N("lineClass.waitSignScore"):n.course_monitor.score))}function M(n,V){var oe=V,ie=$.from===13?n.sign_list:n.data_list,ae=n.timestamp;if($.from===13&&n.sign_list&&n.sign_list.length){var _e=n.sign_list[0];_e.sign_type==="sign_in"?ae=_e.sign_detail.sign_info.signInBeginTime*1:ae=_e.sign_detail.sign_info.signOutBeginTime*1,F()(ae).format("HH")*1<13?oe=N("lineClass.antemeridian"):oe=N("lineClass.afternoon")}return o().createElement("div",{className:"line-class-arrange"},o().createElement("div",{className:"title-date"},F()(ae).format("YYYY-MM-DD"),oe),o().createElement(h.Z,{mode:"left"},ie.map((Y,Ie)=>o().createElement(h.Z.Item,{key:Ie,label:H(Y)},j(Y)))))}function j(n){return o().createElement("div",{className:"right-content"},le(n),o().createElement("div",{className:"timeline-item"},o().createElement("div",{className:"timeline-item-top"},o().createElement("span",{className:"task-name"},o().createElement(Q.Z,{title:n.data_type===7?n.offline_course_vo.title:n.sign_detail.sign_info.name},o().createElement("span",null,n.data_type===7?n.offline_course_vo.title:n.sign_detail.sign_info.name)),n.data_type===7&&n.offline_course_vo.course_monitor&&n.offline_course_vo.course_monitor.signStatus==="leaved"&&o().createElement("span",{className:"leaved"},Ce.leaved)),ve?null:o().createElement("span",null,o().createElement("span",{className:"progress-content"},n.data_type===7&&!ve&&o().createElement(ee.Z,{size:"small",percent:n.study_progress,format:V=>o().createElement("span",{className:"circle-blue-value",style:{color:"rgba(0, 0, 0, 0.45)"}},V,"% ")})),o().createElement("span",{className:"status-operate"},Me(n)))),ve?null:o().createElement("div",{className:"task-user task-item"},o().createElement("span",null,n.data_type===7?N("component.lecturer"):N("component.signCharge")," \uFF1A",Le(n)),n.data_type===7&&n.offline_course_vo.is_student_lecturer_evaluate&&o().createElement("span",{className:"sign-btn",onClick:()=>{Be(n.offline_course_vo)}},n.offline_course_vo.student_lecturer_evaluated?N("lineClass.lecturerView"):N("lineClassStudy.evaluationOfLecturer"))),n.data_type===7&&I(n.offline_course_vo)))}function H(n){var V="",oe="";return n.data_type===7&&(V=n.offline_course_vo.begin_time,oe=n.offline_course_vo.end_time),n.data_type===13&&(n.sign_type==="sign_in"?(V=n.sign_detail.sign_info.signInBeginTime*1,oe=n.sign_detail.sign_info.signInEndTime*1):(V=n.sign_detail.sign_info.signOutBeginTime*1,oe=n.sign_detail.sign_info.signOutEndTime*1)),o().createElement(o().Fragment,null,o().createElement("div",{className:"time-arrangement"},"".concat(F()(V).format("HH:mm"),"-").concat(F()(oe).format("HH:mm"))),o().createElement("div",{className:"time-total"},(0,G.hj)(V,oe,"timeStamp")))}function le(n){var V="";if(n.data_type===13)n.sign_type==="sign_in"?V=N("personal.checkInLabel"):V=N("lineClassStudy.signOut");else if(n.data_type===7){if(n.offline_course_vo.lecturer_avatar)return o().createElement("img",{className:"avatar-name",src:n.offline_course_vo.lecturer_avatar});V=n.offline_course_vo.lecturer_name}return V?o().createElement("span",{className:"avatar-name"},V.substring(V.length-2)):o().createElement("img",{className:"avatar-name",src:a()})}return $.from===13?o().createElement(o().Fragment,null,M($.detail)):o().createElement("div",null,$.detail.map((n,V)=>o().createElement("div",{key:V},n.am_data&&M(n.am_data,N("lineClass.antemeridian")),n.pm_data&&M(n.pm_data,N("lineClass.afternoon")))),o().createElement(c.Z,{title:N("lineClass.starRate"),disabled:fe==="course"?d.student_course_evaluated:d.student_lecturer_evaluated,visible:pe,score:Number(W.star),onCancel:()=>{re(!1)},onOk:s}),o().createElement(Z.Z,{typeQuestionnaire:fe==="course"&&d.student_course_evaluated||fe==="lecturer"&&d.student_lecturer_evaluated?"check":"edit",operateColumn:(0,se.Z)((0,se.Z)({},d),{},{evaluate_id:fe==="course"?d.student_course_evaluate_id:d.student_lecturer_evaluate_id}),showList:!1,type:fe,visible:g,onCancel:()=>{C(!1)},onSubmit:y}))}ce.Z=(0,T.Z)()(k)},23529:function(Pe,ce,e){"use strict";e.d(ce,{w:function(){return Se},Z:function(){return Be}});var se=e(20228),z=e(11382),ee=e(13254),i=e(14277),Q=e(62029),K=e(34669),h=e(82833),U=e(71153),R=e(60331),S=e(22385),x=e(31097),A=e(57663),o=e(71577),T=e(34792),B=e(48086),F=e(57361),b=e(88986),G=e(81211),p=e(9754),L=e.n(p),D=e(12924),a=e.n(D),r=e(91768),u=e(76651),c=e(57068),v=e(23538),O=e(28216),Z=e(66456),E=e(55313),k=e(48736),$=e(27049),N=e(71194),J=e(57016),ne=e(93485),Ee=e(47745),ve=e(59842),Te=e(41285),me=e(19151),he=e(38642),d=e(84874),_=e(37055),q=e(42837),ye=e(1164),pe=e(61981),re=e(10237),ue=e(6793),w=e(65202),g=e(54531),C=e(70517),l=e(85725);class P extends a().Component{constructor(){super(...arguments);this.state={wei:{visible:!1,option:{flag:"",scene:""}},examInfoModalVisible:!1,examInfo:{},currentExamRecord:{},showFaceQrCode:!1,examQrCode:{examId:"",studyId:"",originType:""},getExamAllGradesProps:{visible:!1,planId:"",userId:"",planTitle:"",taskId:"",pageFrom:""},columns:[],showSelectCoachTutorDialog:!1,coachTaskId:"",coachPlanId:"",showSelectCoachTutorReview:!1,evaluateQrCodeVisible:!1,coachModel:"",operationIndustryProps:{visible:!1,operationsId:""},evaluateOption:{flag:"",scene:""}},this.getRecordUIType=f=>{var t=f.record,s="";return t.type==="mp4"?s=t.contentType.indexOf("audio")>-1?"mp3":"mp4":t.type==="imageText"?s="h5":(0,C.ZG)(t.source)?s="crs":s=t.type,s},this.judgeColumns=()=>{var f=c.parse(u.m8.location.search),t=f.userId,s=[{title:this.props.t("learning.learningElectiveAddContent"),dataIndex:"title",key:"title",className:"taskTitle",render:(y,m)=>{var I=this.props.subPrefixCls,M=m.canStartStudy==="false",j=m.courseId&&m.index&&!(0,C.ZG)(m.source),H=j?"".concat(I,"__table__columncontent"):"".concat(I,"__table__columncontent ").concat(I,"__table__columncontent-absolute"),le=M&&m.type!=="xx"?a().createElement("span",{className:"".concat(I,"__table__columncontent__lockicon")},a().createElement(d.Z,{iconClass:"icon-icon_clockx"})):null,n=this.getRecordUIType({record:m}),V=j?"".concat(m.index,"."):a().createElement(d.Z,{iconClass:_.e1[n],size:"16px"}),oe=m.type==="ex"?m.examName:y,ie=parseInt(m.status,10)!==3&&(_.iH.indexOf(m.type.toLowerCase())>-1||_.Yq.indexOf(m.type.toLowerCase())>-1),ae=M&&!j&&m.unlockingTime?a().createElement("div",{className:"lock_time"},this.props.t("assgin.unLockTimeLabel"),"\uFF1A",(0,ue.p6)(m.unlockingTime,"yyyy-MM-dd hh:mm")):null;return a().createElement(D.Fragment,null,a().createElement("span",{className:H},le,V," ",m.type==="xx"?this.props.t("common.offline"):oe," ",ie?a().createElement(R.Z,{color:"gold"},this.props.t("common.transcoding")):null,this.renderDuration({record:m})),ae)}}];this.props.isPreview||s.push({title:this.props.t("component.learningProgress"),dataIndex:"studyProgress",key:"studyProgress",width:200,render:(y,m)=>this.renderProgress({record:m})},{title:this.props.t("common.operate"),width:this.props.lng==="en_us"?210:160,dataIndex:"type",key:"type",render:(y,m,I)=>this.renderAction({str:y,record:m,index:I})}),t&&s.splice(s.length-1,1),this.setState({columns:s})},this.checkBeforeEnter=f=>{var t=f.record,s=f.type,y=s===void 0?"":s,m=this.props,I=m.status,M=m.item,j=m.t,H=m.versionType,le=m.stateInfos,n=m.taskIsBought,V=le.process,oe=le.free,ie=le.official_price_str,ae=t.canStartStudy,_e=t.studyProgress,Y=t.unlockingTime,Ie=t.replenish_exam,xe=ae==="false",Re=I==="unstarted",be=I==="overdue";return new Promise(we=>{ie&&!oe&&!n?B.default.warning(j("study.paymentTips")):V>=100?we():Re?B.default.warning(j("study.beginStudyNotStarted")):be?y==="ex"&&Ie==="true"?we():B.default.warning(j("study.beginStudyOverdue")):xe?B.default.warning(j(Y?"study.beginStudyLockTip":"study.beginStudyBreakThroughTip")):y==="quiz"?M.isOrder&&_e<100?B.default.warning(j("study.beginStudyBreakThroughTip")):we():H==="platform"&&(y==="report"||y==="liftingScheme")?this.getShouldViewReport(t.courseId).then(We=>{We.data.look==="true"?we():B.default.warning(j("questionn.viewReportTips"))}):we()})},this.getShouldViewReport=f=>{var t=_.ZP.PostTalentEvaluation.shouldViewReport(f);return re.WY.get({url:t})},this.handleGoToInvestigate=f=>{var t=f.record;this.checkBeforeEnter({record:t}).then(()=>{var s=this.props.planId;(0,he.eJ)({url:"/training/learning/task/participateInInvestigate?".concat(c.stringify({planId:s,investigateId:t.courseId}))})})},this.handleGoToEvaluation=f=>{var t=f.record,s=f.type,y=t.courseId,m=this.props,I=m.planId,M=m.stateInfos;this.checkBeforeEnter({record:t,type:s}).then(()=>{s==="open"?(0,he.eJ)({url:"/training/questionn/evaluation/response?".concat(c.stringify({evaluationId:y,type:s,id:I}))}):(0,he.eJ)({url:"/training/questionn/postTalentAssessment/myEvaluationReport?".concat(c.stringify({type:s,isBeta:!1,evaluationId:y,isOpen:M.openEvaluationResult,id:I}))})})},this.handleGoToVideo=f=>{var t=f.record;this.checkBeforeEnter({record:t}).then(()=>{var s=t.status;if(t.resourceSourceType&&t.resourceSourceType===8){this.ddSpacePreview(t);return}parseInt(s,10)!==3?B.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:t,watchType:"video",projectType:"student"})})},this.targetToWatch=f=>{var t=f.path,s=f.record,y=f.watchType,m=f.projectType,I=m===void 0?"":m,M=c.parse(this.props.location.search),j=M.id,H=M.fromPage,le=H===void 0?"myObligatoryTask":H,n=s.courseId&&s.index&&!s.courseInfo;if(n){var V=s.parentCourseId?{courseId:s.parentCourseId}:this.getParentRecord(s.courseId,s.type);(0,he.eJ)({url:"".concat(t,"?").concat(c.stringify({watchType:y,planId:j,courseId:V.courseId,resourceId:s.courseId,fromPage:le,storage_type:s.storage_type,CSCECSource:s.source,videoId:s.videoId||s.video_id})),actionType:"replace",projectType:I})}else(0,he.eJ)({url:"".concat(t,"?").concat(c.stringify({watchType:y,planId:j,courseId:s.courseId,resourceId:s.courseId,fromPage:le,storage_type:s.storage_type,CSCECSource:s.source,videoId:s.videoId||s.video_id})),actionType:"replace",projectType:I})},this.handleGoToMicroCourse=f=>{var t=f.record;this.checkBeforeEnter({record:t}).then(()=>{var s=c.parse(this.props.location.search),y=s.id,m=s.fromPage,I=m===void 0?"myObligatoryTask":m,M=t.resource_type==="video";M?(0,he.eJ)({url:"/training/learning/task/watchTask?".concat(c.stringify({watchType:"video",planId:y,courseId:t.courseId,resourceId:t._courseInfo[0].courseId,fromPage:I}))}):this.setState({wei:{visible:!0,option:{flag:"study",scene:"planId=".concat(y,"&flag=study")}}})})},this.handleGoToDoc=f=>{var t=f.record;this.checkBeforeEnter({record:t}).then(()=>{var s=t.status;if(t.resourceSourceType&&t.resourceSourceType===8){this.ddSpacePreview(t);return}parseInt(s,10)!==3?B.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:t,watchType:"doc",projectType:"student"})})},this.handleGoToCommon=f=>{var t=f.record,s=f.type;this.checkBeforeEnter({record:t}).then(()=>{var y=t.status;parseInt(y,10)!==3?B.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:t,watchType:s,projectType:"student"})})},this.showEveryExamGrade=f=>{var t=f.record,s=this.props,y=s.userId,m=s.planId;!t.show_result||this.setState(I=>({getExamAllGradesProps:(0,b.Z)((0,b.Z)({},I.getExamAllGradesProps),{},{visible:!0,planId:t.examId,userId:y,planTitle:t.examName,type:"user",taskId:m,pageFrom:"myObligatoryTask"})}))},this.hideEveryExamGrade=()=>{this.setState(f=>({getExamAllGradesProps:(0,b.Z)((0,b.Z)({},f.getExamAllGradesProps),{},{visible:!1,planId:"",userId:"",planTitle:"",type:"",taskId:"",pageFrom:""})}))},this.handleGoToExam=f=>{var t=f.record,s=f.type,y=this.props.planId;if(s==="viewResults")(0,he.eJ)({url:"/training/examination/result/personal?".concat(c.stringify({id:t.examId,taskId:y}))});else{if(t.faceRecognition==="on"){var m="";this.setState({showFaceQrCode:!0,examQrCode:{flag:"exam_messages",scene:"flag=exam_messages&examId=".concat(t.examId,"&studyId=").concat(this.props.planId,"&originType=").concat(m)}});return}var I=_.ZP.MyExamTask.examIntro({examId:t.examId});re.WY.get({url:I}).then(M=>{this.setState({examInfoModalVisible:!0,examInfo:M.data,currentExamRecord:t})})}},this.handleGoToLatoja=f=>{var t=f.record;(0,he.eJ)({url:"/course/lineClassDetail?courseId=".concat(t.offline_course_vo.id,"&showSignStatus=true")})},this.handleGoToQuiz=f=>{var t=f.record;this.checkBeforeEnter({record:t,type:"quiz"}).then(()=>{var s=c.parse(this.props.location.search),y=s.id,m=s.fromPage,I=t.resource_quiz_vo,M=I.answer_record_count,j=I.resource_id,H=I.course_id,le=M===0?"/course/quiz":"/course/quizParse";(0,he.eJ)({url:"".concat(le,"?").concat(c.stringify({courseId:H,resourceId:j,planId:y,source:m}))})})},this.handleHiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})},this.getParentRecord=(f,t)=>{var s={};if(_.iH.indexOf(t.toLowerCase())>-1||_.Yq.indexOf(t.toLowerCase())>-1||t.toLowerCase()==="h5"){var y=(0,ne.Z)(this.props.list),m;try{for(y.s();!(m=y.n()).done;){var I=m.value,M=I.courseInfo,j=-1;if(M&&M instanceof Array&&M.length&&(j=M.findIndex(H=>H.courseId===f)),j>-1){s=I;break}}}catch(H){y.e(H)}finally{y.f()}}return s},this.ddSpacePreview=f=>{if(!dd.version){J.Z.warning({title:this.props.t("upload.tip"),content:this.props.t("study.dingSpaceTip")});return}var t=_.ZP.DingSpaceId.getSpaceId(),s={corpId:this.props.corpId,userId:this.props.account,fileids:f.url,timeStamp:Date.parse(new Date)};re.WY.get({url:t,params:s}).then(m=>{if(m.data.code===0){var I={spaceId:f.path,fileId:f.url,fileName:f.name,fileSize:f.size,fileType:f.type};(0,g.DR)(I)}else B.default.info(m.data.msg)}).catch(m=>{B.default.error(m.data)});var y=this.props.onSaveProgress;y&&y(f.courseId,f.courseId)},this.renderDuration=f=>{var t=f.record,s=t.type,y=t.status,m=t.duration,I="";return m!=="0"&&(y===3&&(s==="mp4"||s==="mp3")||s==="crs"||s==="wei"||s==="ex")&&(I=(0,ue.xj)(m)),I},this.renderProgress=f=>{var t=f.record,s=this.props.t,y=t.type,m=t.status,I=t.statusName,M=t.score,j=t.studyProgress,H=t.tutorialsStatus,le=t.show_result,n="";return y==="ex"?m===5?n=I:le?n="".concat(I,"(").concat(M).concat(s("common.minute"),")"):n="".concat(I):y==="operation"?n=m===0?"".concat(s("common.notStarted")):m===1?"".concat(s("common.pending")):m===2?"".concat(s("common.reject")):"".concat(s("common.completed")):y==="tutor"?(H==="no_tutor"&&(n=s("common.notStarted")),H==="to_be_submitted"&&(n=s("tutorial.waitSubmitTutor")),H==="to_be_evaluated"&&(n=s("tutorial.waitEvaluate")),H==="evaluated"&&(n=s("tutorial.haveEvaluation"))):n=a().createElement(h.Z,{percent:j,size:"small"}),n},this.gotoDDICourse=f=>{var t=f.record,s=this.props.planId;this.checkBeforeEnter({record:t}).then(()=>{(0,l.Zv)(t.courseId,{is_preview:"false",is_person_purchase:"false",plan_id:s}).then(y=>{ye.Z.targetTo({path:y.data.learning_url,isExternalLink:!0})})})},this.renderAction=f=>{var t=f.record,s=t.type,y=t.originalType,m=t.contentType,I=t.studyProgress,M=t.showReExam,j=t.resource_quiz_vo,H=t.status,le=t.evaluation,n=t.tutorialsStatus,V=t.replenish_exam,oe=t.source,ie=(0,w.p)(),ae,_e=this.props,Y=_e.t,Ie=_e.item,xe=_e.stateInfos,Re=xe.process,be=t.canStartStudy==="false",we=this.props.status==="unstarted",We=this.props.status==="overdue",Oe="cl-primary";Re>=100?Oe="cl-primary":(We||we||be)&&(s==="ex"&&V==="true"?Oe="cl-primary":Oe="cl-primary cl-disabled");var Fe="cl-primary";if(s==="crs"&&((0,C.ZG)(oe)?ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.gotoDDICourse({record:t})},Y(I===0?"study.startLearning":"study.continueLearning")):ae=""),s==="investigate"&&(ae=I===100?"":a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToInvestigate({record:t})},Y("study.startSurvey"))),s==="tutor"&&(n==="no_tutor"&&(ae=a().createElement("span",{className:Fe,style:{color:ie},onClick:()=>this.selectTutor({record:t})},Y("tutorial.chooseTutor"))),n==="to_be_submitted"&&(ae=a().createElement("span",{style:{color:ie}},"".concat(Y("tutorial.tutor"),"\uFF1A").concat(t.name))),n==="to_be_evaluated"&&(ae=a().createElement("span",{className:Fe,style:{color:ie},onClick:()=>this.showQrCode({record:t})},Y("tutorial.startReview"))),n==="evaluated"&&(ae=a().createElement("span",{className:Fe,style:{color:ie},onClick:()=>this.showQrCode({record:t})},Y("study.lookStudyRecord")))),s==="evaluation"&&(I===100?ae=a().createElement(a().Fragment,null,xe.openEvaluationResult==="true"?a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToEvaluation({record:t,type:"report"})},Y("study.viewReport")):a().createElement("span",{className:"".concat(Oe," cl-disabled")},Y("study.viewReport")),le.status===1&&a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToEvaluation({record:t,type:"liftingScheme"})},Y("questionn.improvePlan"))):I<100&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToEvaluation({record:t,type:"open"})},Y("study.startAssessment")))),s==="operation"&&(ae=a().createElement(a().Fragment,null,a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToOperation({record:t})},"".concat(H===0?Y("study.startLearning"):H===2?Y("learning.checkReason"):"")),H!==0&&H!==2?a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToOperationView({record:t})},this.props.t("common.viewDetails")):null)),s==="mp4"&&y!=="mp3"&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToVideo({record:t})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),(s==="mp3"||s==="mp4"&&y==="mp3")&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToVideo({record:t})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),_.Yq.indexOf(s.toLowerCase())>-1&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToDoc({record:t})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),s==="wei"&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToMicroCourse({record:t})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),s==="imageText"){var ke=t.newCouseInfo,Ue=ke===void 0?[]:ke;ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToCommon({record:Ue.length>0?Ue[0]:[],type:"graphic"})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))}if(s==="h5"&&(ae=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToCommon({record:t,type:s})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),(m==="html"||s==="html")&&(ae=a().createElement("span",{className:Oe,onClick:()=>this.handleGoToCommon({record:t,type:"html"})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),(m==="picture"||_.WB.includes(s))&&(ae=a().createElement("span",{className:Oe,onClick:()=>this.handleGoToCommon({record:t,type:"picture"})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),(m==="scorm"||s==="scorm")&&(ae=a().createElement("span",{className:Oe,onClick:()=>this.handleGoToCommon({record:t,type:"scorm"})},"".concat(Y(I===0?"study.startLearning":"study.continueLearning")))),s==="ex"){var De="";if(I===0||V==="true")De=a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToExam({record:t})},this.props.t("study.startTheExam"));else{var Ke=t.show_result?a().createElement("span",{className:"cl-primary",style:{color:ie},onClick:()=>this.showEveryExamGrade({record:t})},this.props.t("personal.viewDetails")):a().createElement("span",{className:"cl-disabled",onClick:()=>this.showEveryExamGrade({record:t})},this.props.t("personal.viewDetails")),$e=M?a().createElement(a().Fragment,null,a().createElement($.Z,{type:"vertical"}),a().createElement("span",{className:Oe,style:{color:ie},onClick:()=>this.handleGoToExam({record:t,type:"attend"})},Y("myExamTask.reTest"))):null;De=a().createElement(a().Fragment,null,Ke,$e)}ae=De}var je=j&&j instanceof Object&&j.question_count>0;if(je){var Ve=Ie.isOrder,Qe=Ve?We||we||be||I<100:We||we||be,Ge=Qe?"cl-primary cl-disabled":"cl-primary",ze=a().createElement("span",{className:Ge,style:{color:ie},onClick:()=>this.handleGoToQuiz({record:t})},j.answer_record_count===0?Y("component.InClassTest"):Y("common.preview")),Ye=a().createElement(a().Fragment,null,ae,ze);ae=Ye}return ae},this.selectTutor=(f,t)=>{var s=f.record;this.setState({showSelectCoachTutorDialog:!0,coachTaskId:s.courseId,coachPlanId:s.planId,showSelectCoachTutorReview:!!t,coachModel:s.tutorialsModel})},this.handleCancelWei=()=>{this.setState({wei:{visible:!1,option:{flag:"",scene:""}}})},this.handleGoToOperation=f=>{var t=f.record;this.checkBeforeEnter({record:t}).then(()=>{if(t.status===2){this.handleGoToOperationView({record:t});return}this.setState({operationIndustryProps:{visible:!0,operationsId:t.courseId}})})},this.handleGoToOperationView=f=>{var t=f.record,s=this.props,y=s.planId,m=s.userId;this.checkBeforeEnter({record:t}).then(()=>{ye.Z.targetTo({path:"/training/operation/info/personal?&taskId=".concat(y,"&userId=").concat(m,"&operationId=").concat(t.courseId,"&taskType=study&page=analysis&isCheckReason=true"),projectType:"student"})})},this.handleCloseExamInfo=()=>{this.setState({examInfoModalVisible:!1})},this.handleEnterExam=()=>{var f=this.props,t=f.t,s=f.fromPage,y=f.planId,m=f.enterpriseId,I=this.state,M=I.currentExamRecord,j=I.examInfo,H=j===void 0?{}:j,le=H.cut_screen_count,n=le===void 0?"":le;this.checkBeforeEnter({record:M,type:"ex"}).then(()=>{var V=_.ZP.MyExamTask.examCheckStatus({examId:M.examId}),oe=window.localStorage.getItem("token"),ie={access_token:oe};re.WY.get({url:V,params:ie}).then(ae=>{if(ae.data.can_exam==="true")if(s==="isPersonal")if(dd.version&&n!==-1){var _e=(0,he.lz)(m,"student"),Y="".concat(_e,"/auth?").concat(c.stringify({accessToken:oe,pageFrom:"ding_myExamTask",id:M.examId,taskId:y,cut_screen_count:n,lng:(0,ue.me)()}));this.setState({examInfoModalVisible:!1},()=>{window.open(Y,"_blank")})}else(0,he.eJ)({url:"/training/examination/exam/personal?".concat(c.stringify({id:M.examId,taskId:y,cut_screen_count:n}))});else if(dd.version&&n!==-1){var Ie="".concat(window.location.origin,"/#/auth?").concat(c.stringify({accessToken:oe,pageFrom:"ding_myExamTask",id:M.examId,cut_screen_count:n}));this.setState({examInfoModalVisible:!1},()=>{window.open(Ie,"_blank")})}else u.m8.push({pathname:"/training/examination/exam",search:c.stringify({id:M.examId,cut_screen_count:n})});else{var xe="";switch(ae.data.status){case"exam_not_start":xe=t("myExamTask.notStartTip");break;case"exam_finished":xe=t("myExamTask.noTimeHandTip");break;case"makeup_exam_not_start":xe=t("myExamTask.markUpExamTip");break;case"makeup_exam_finished":xe=t("myExamTask.markUpExamOver");break;case"makeup_exam_attend":xe=t("myExamTask.markUpCheckResult");break;case"exam_passed":xe=t("myExamTask.passedAndResult");break;default:xe=t("myExamTask.noRepeatTip");break}B.default.warn(xe)}})})},this.renderTitle=()=>{var f=this.props,t=f.subPrefixCls,s=f.title,y="".concat(t,"__title noWrap");return a().createElement("h1",{className:y},s)},this.renderSubTitle=()=>{var f=this.props,t=f.subPrefixCls,s=f.subTitle;if(!s)return null;var y="".concat(t,"__subtitle noWrap");return a().createElement("h6",{className:y,title:s},s)},this.dealCrsCourseInfo=f=>{var t=[];return f.forEach(s=>{(s.type==="crs"||s.type==="imageText")&&s.unlockingTime&&s.courseInfo&&s.courseInfo.forEach(y=>{y.canStartStudy=s.canStartStudy,y.unlockingTime=s.unlockingTime}),s.type==="imageText"||(0,C.ZG)(s.source)?t=[...t,(0,b.Z)((0,b.Z)({},s),{},{newCouseInfo:s.courseInfo,courseInfo:null})]:t=[...t,(0,b.Z)({},s)]}),t},this.showQrCode=f=>{var t=f.record,s=this.props,y=s.appType,m=s.t;if(y==="app"){var I=m("tutorial.toAssess");t.tutorialsStatus==="evaluated"&&(I=m("tutorial.checkAssess")),B.default.success(I);return}var M="",j="";t.tutorialsStatus==="to_be_evaluated"&&(j="flag=student_evaluation_page&tutorUserId=".concat(t.userId,"&tutorialsId=").concat(t.courseId,"&planId=").concat(t.planId),M="student_evaluation_page"),t.tutorialsStatus==="evaluated"&&(j="flag=student_result_page&tutor_user_id=".concat(t.userId,"&tutorials_id=").concat(t.courseId,"&planId=").concat(t.planId),M="student_result_page"),this.setState({evaluateOption:{flag:M,scene:j},evaluateQrCodeVisible:!0})},this.handleSelectCoachTutorPeople=f=>{var t=this.props,s=t.userId,y=t.refreshData,m=this.state,I=m.coachPlanId,M=m.coachTaskId,j=m.showSelectCoachTutorReview;if(j||!f){this.setState({showSelectCoachTutorDialog:!1});return}var H=_.ZP.tutor.selectTutorByTask({userId:s,planId:I,tutorialsId:M,tutorUserId:f});re.WY.post({url:H}).then(le=>{le.data.code===0&&(this.setState({showSelectCoachTutorDialog:!1}),y&&y())})},this.renderTable=()=>{var f=this.props,t=f.subPrefixCls,s=f.list,y=f.refreshData,m=this.state.columns,I="".concat(t,"__table");return a().createElement("div",{className:I},a().createElement(E.Z,{pagination:!1,columns:m,rowKey:M=>M.id||M.courseId,expandable:{defaultExpandAllRows:!0,expandedRowClassName:M=>M.sourceType!==7&&M.sourceType!==13?"expand-list":"",rowExpandable:M=>M.sourceType===7||M.sourceType===13||M.courseInfo,expandedRowRender:M=>a().createElement("div",null,M.sourceType===7||M.sourceType===13?a().createElement(me.Z,{from:M.sourceType,detail:M.sourceType===7?M.offline_course_details:M,refresh:()=>{y()}}):M.courseInfo?a().createElement(E.Z,{pagination:!1,showHeader:!1,columns:[{width:70}].concat([...m]),rowKey:j=>j.id||j.courseId,expandable:{childrenColumnName:"courseInfo",defaultExpandAllRows:!0},dataSource:this.dealCrsCourseInfo(M.courseInfo)}):null)},dataSource:this.dealCrsCourseInfo(s)}))},this.handleEvaluateCancel=()=>{this.setState({evaluateQrCodeVisible:!1,evaluateOption:{flag:"",scene:""}})},this.handleCloseOperationIndustry=()=>{var f=this.state.operationIndustryProps;this.setState({operationIndustryProps:(0,b.Z)((0,b.Z)({},f),{},{visible:!1})})},this.handleAddOperationIndustry=()=>{this.handleCloseOperationIndustry();var f=this.props.refreshData;f&&f()}}componentDidMount(){this.judgeColumns(),(0,g.TN)()}render(){var f=this.props,t=f.subPrefixCls,s=f.t,y=f.userId,m=this.state,I=m.operationIndustryProps,M=m.evaluateQrCodeVisible,j=m.showSelectCoachTutorReview,H=m.coachModel,le=m.wei,n=m.showSelectCoachTutorDialog,V=m.examInfoModalVisible,oe=m.examInfo,ie=m.showFaceQrCode,ae=m.examQrCode,_e=m.getExamAllGradesProps,Y=m.evaluateOption;return a().createElement("section",{className:"".concat(t," specially-taskView table")},this.renderTitle(),this.renderSubTitle(),this.renderTable(),a().createElement(ve.Z,{visible:V,examInfo:oe,onOk:this.handleEnterExam,onCancel:this.handleCloseExamInfo}),a().createElement(q.Z,(0,Q.Z)({title:s("component.microCourseScan")},le,{onCancel:this.handleCancelWei,tip:"component.useCustom"})),a().createElement(q.Z,{visible:M,title:s("tutorial.evaluate"),option:Y,onCancel:this.handleEvaluateCancel,tip:"component.useCustom"}),a().createElement(q.Z,{visible:ie,title:s("exam.faceKnowQrCodeTitle"),option:ae,onCancel:this.handleHiddenFaceQrCode,tip:"exam.faceKnowWxQrCodeTipCustom"}),a().createElement(Ee.Z,(0,Q.Z)({},_e,{hideEveryExamGrade:this.hideEveryExamGrade})),a().createElement(pe.Z,{model:H,userId:y,visible:n,preview:j,onOk:this.handleSelectCoachTutorPeople,onCancel:()=>this.setState({showSelectCoachTutorDialog:!1})}),a().createElement(Te.Z,{visible:I.visible,onCancel:this.handleCloseOperationIndustry,onOk:this.handleAddOperationIndustry,operationsId:I.operationsId,canEdit:!0}))}}P.defaultProps={subPrefixCls:"cl-taskTable",id:"",title:"",subTile:"",list:[],item:{},status:"unstarted"};var W=Ne=>{var f=Ne.user;return{lng:f.lng,userId:f.id,corpId:f.corpId,account:f.account,versionType:f.versionType,appType:f.appType,enterpriseId:f.enterpriseId}},te=(0,O.$j)(W)((0,r.Z)()(P)),de=e(18329),X=e(60667),fe=e(69164),ge=e(4408),Ce=e(63532),Ae=e(41222),Le={studyTaskDetail:_.ZP.LearningTaskView.studyTaskDetail},Me=Ne=>({userInfo:Ne.user}),Se={PREVIEW:"preview",APPROVE_PREVIEW:"approvePreview"};class Ze extends a().Component{constructor(){var f;super(...arguments);f=this,this.state={isLoading:!0,qrcodeVisible:!1,infos:{},tableList:[],showBuyQrCode:!1,showPayType:"all",taskIsBought:!1},this.initData=()=>{var t=c.parse(u.m8.location.search),s=t.id,y=t.userId;re.WY.get({url:Le.studyTaskDetail(),params:{id:s,userId:y}}).then(m=>{(0,fe.Z)(m.data.integral_info||"");var I=m.data.data,M=I.stageList,j=I.creator_sync_user_id,H=I.creator_source_type,le=(0,G.Z)(I,["stageList","creator_sync_user_id","creator_source_type"]);m.data.data.official_price_str&&!m.data.data.free&&(this.accountInfoConfigured(),this.getPayResult(s)),this.setState({isLoading:!1,infos:(0,b.Z)((0,b.Z)({},le),{},{creatorSyncUserId:j,creatorSourceType:H}),tableList:M})}).catch(()=>{(0,he.eJ)({url:"/personal/profile"})})},this.getPreviewData=t=>{var s=t.planId,y={planId:s},m=_.ZP.EditStudyTask.getTaskInfo();re.WY.get({url:m,params:y}).then(I=>{var M=I.data,j=(0,G.Z)(I,["data"]),H=M.stageList,le=M.planStudyScore,n=(0,G.Z)(M,["stageList","planStudyScore"]),V=n.bizPlanVo,oe=n.supervisorUserName,ie=n.sync_source_type,ae=n.sync_user_id,_e=n.times,Y=n.studyCount,Ie=n.progress;this.setState({isLoading:!1,infos:(0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({},j),n),V),{},{creatorName:oe,creatorSyncUserId:ae,creatorSourceType:ie,progress:Ie,actualStudyProgress:0,passExamCount:_e,totalExamCount:(0,Ae.z2)(H,"studyPreview"),aleadyExamCount:0,alreadyOperationCount:0,totalOperationCount:(0,Ae.GM)(H,"studyPreview"),passOperationCount:_e,free:V.free,official_price_str:V.official_price_str==="0.00"?"":V.official_price_str,show_score:"".concat(!!(le&&le.finishScore)),award_score:le&&le.finishScore?le.finishScore:0,studyCount:Y}),tableList:H})})},this.handleShowQrCode=()=>{this.setState({qrcodeVisible:!0})},this.handleCancelQrcode=()=>{this.setState({qrcodeVisible:!1})},this.handleSaveProgress=function(t,s){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,I=f.props.type;if(I!==Se.PREVIEW){var M=c.parse(f.props.location.search),j=M.id,H=_.ZP.SaveProgress.studySaveProgress({studyId:j,courseId:t,resourceId:s});re.WY.post({url:H,data:{progress:y,recent_start:m}}).then(()=>{f.initData()})}},this.handleSetTopic=(0,F.Z)(L().mark(function t(){var s,y,m,I,M;return L().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return s=f.state.infos.title,y=f.props.t,m=_.ZP.community.setTopicData(),H.next=5,re.WY.post({url:m,data:{tags:[s],type:"question"}});case 5:I=H.sent,M=I.data,M.code===0?(0,he.eJ)({url:"/community/topicDetail?type=QUESTION&tagName=".concat(s)}):B.default.error(M.msg||y("community.isError"));case 8:case"end":return H.stop()}},t)})),this.isDisabled=function(){var t=(0,F.Z)(L().mark(function s(y){var m,I,M,j;return L().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return m=f.props.t,I=_.ZP.community.getTopicStatus(),le.next=4,re.WY.get({url:I,params:{tagName:y}});case 4:if(M=le.sent,j=M.data,j.code!==0){le.next=8;break}return le.abrupt("return",j.data);case 8:return B.default.error(m("community.isError")),le.abrupt("return",void 0);case 10:case"end":return le.stop()}},s)}));return function(s){return t.apply(this,arguments)}}(),this.handleLinkToTopic=(0,F.Z)(L().mark(function t(){var s,y,m,I,M,j,H;return L().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=f.props.type,s!==Se.PREVIEW){n.next=3;break}return n.abrupt("return");case 3:return y=f.state.infos.title,m=f.props.t,I=_.ZP.community.searchTargetTag(),n.next=8,re.WY.get({url:I,params:{tagName:y}});case 8:if(M=n.sent,j=M.data,j.code!==0){n.next=24;break}if(!j.data){n.next=21;break}return n.next=14,f.isDisabled(y);case 14:if(H=n.sent,!H){n.next=18;break}return B.default.info(m("community.tagHadDisabled")),n.abrupt("return");case 18:(0,he.eJ)({url:"/community/topicDetail?type=QUESTION&tagName=".concat(y)}),n.next=22;break;case 21:f.handleSetTopic();case 22:n.next=25;break;case 24:B.default.error(j.msg||m("community.isError"));case 25:case"end":return n.stop()}},t)})),this.getPayResult=t=>{re.WY.get({url:_.ZP.StudyProjectList.getAccountPayStatus(),params:{goods_id:t}}).then(s=>{s.data.data==="SUCCESS"&&this.setState({taskIsBought:!0})})},this.accountInfoConfigured=()=>{re.WY.get({url:_.ZP.StudyProjectList.getAccountInfo()}).then(t=>{var s=t.data.data,y="all";s.wxpay==="false"&&s.alipay==="false"&&(y="noBind"),s.wxpay==="false"&&s.alipay==="true"&&(y="ali"),s.wxpay==="true"&&s.alipay==="false"&&(y="wx"),this.setState({accountConfigured:y})})},this.handleHiddenBuyModal=()=>{this.setState({showBuyQrCode:!1}),this.initData()},this.handleShowBuyModal=()=>{var t=this.props.type;if(t!==Se.PREVIEW){var s=this.props.t,y="all",m=this.state.accountConfigured;if(m==="noBind"){B.default.info(s("payment.notAccount"));return}if(m==="ali"?y="ali":m==="wx"&&(y="wx"),dd.version){if(y="ali",m==="wx"){B.default.info(s("payment.notAliAccount"));return}}else if(localStorage.getItem("loginMode")==="WX_LOGIN"&&(y="wx",m==="ali")){B.default.info(s("payment.notWxAccount"));return}this.setState({showBuyQrCode:!0,showPayType:y})}},this.renderPurchaseButton=()=>{var t=this.state,s=t.taskIsBought,y=t.infos,m=y.endTime,I=new Date().getTime()>m,M=this.props.t;return y.official_price_str&&!y.free?s?null:I?a().createElement(x.Z,{title:M("marketing.taskDueApply")},a().createElement(o.Z,{className:"header-taskView-header__buy",type:"primary",disabled:I,onClick:this.handleShowBuyModal},M("common.register"))):a().createElement(o.Z,{className:"header-taskView-header__buy",type:"primary",disabled:I,onClick:this.handleShowBuyModal},M("common.register")):null},this.renderTitle=()=>{var t=this.state.infos,s=t.title,y=t.show_score,m=t.award_score,I=t.beginTime,M=t.endTime,j=t.creatorName,H=t.creatorSyncUserId,le=t.creatorSourceType,n=t.bizType,V=t.trainner,oe=t.aleadyExamCount,ie=t.totalExamCount,ae=t.passExamCount,_e=t.dingImgUrl,Y=t.process,Ie=t.actualStudyProgress,xe=t.qualified_status,Re=t.alreadyOperationCount,be=t.totalOperationCount,we=t.passOperationCount,We=t.finishEvaluation,Oe=t.summary,Fe=t.studyCount,ke=t.progress,Ue=(0,w.p)(),De=this.props.t;return a().createElement("div",{className:"header-elective-detail-task"},a().createElement("div",{className:"header-taskView"},a().createElement("div",{className:"header-taskView-header"},a().createElement("span",{className:"title"},s,this.renderPurchaseButton()),xe==="true"&&a().createElement(R.Z,{color:"green"},De("study.employeePass"))),a().createElement("div",{className:"header-taskView-summary"},a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{style:{minWidth:75,display:"inline-block"}},a().createElement("span",{className:"header-taskView-title"},De("exam.validityPeriod")),"\uFF1A"),(0,ue.p6)(I)," ~ ",(0,ue.p6)(M)),a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{className:"header-taskView-title"},De("common.creator")),"\uFF1A",a().createElement(X.Z,{dataType:"userName",value:H,name:j,type:le})),n===2&&a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{className:"header-taskView-title"},De("learning.learningEmployeeAddSecAssignment")),"\uFF1A",V),We==="true"&&a().createElement("span",{className:"header-taskView-text"},De("learning.completeJobEvaluation"))),a().createElement("div",{className:"task-view-sub-title",style:{marginBottom:8}},a().createElement("span",{className:"sub-title"},De("common.passingCriteria"),"\uFF1A"),a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{className:"header-taskView-title"},De("component.learningProgress")),"\uFF1A",a().createElement("span",{style:{color:Ue}},Fe===0?"--":"".concat(Ie,"%"),a().createElement("span",{className:"sub-title-value"},"/",ke,"%"))),ie>0&&a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{className:"header-taskView-title"},De("component.examProgress")),"\uFF1A",a().createElement("span",{className:"header-taskView-value",style:{color:Ue}},oe,a().createElement("span",{className:"sub-title-value"},"/",ie,De("common.examUnit"),"(",De("study.employeePass"),ae,De("common.examUnit"),")"))),be>0&&a().createElement("span",{className:"header-taskView-text"},a().createElement("span",{className:"header-taskView-title"},De("component.practiceExam"),De("common.progress")),"\uFF1A",a().createElement("span",{className:"header-taskView-value",style:{color:Ue}},Re,a().createElement("span",{className:"sub-title-value"},"/",be,De("common.examUnit"),"(",De("study.employeePass"),we,De("common.examUnit"),")")))),a().createElement("div",{className:"task-summary-wrapper noWrap"},Oe?a().createElement("span",{className:"sub-title-value"},De("learning.taskSummary"),"\uFF1A",a().createElement("span",null,Oe)):null),y==="true"||_e?a().createElement("div",{className:"header-taskView-summary",style:{marginBottom:16}},y==="true"&&a().createElement("span",{className:"header-taskView-text",style:{color:"rgba(255, 160, 0, 1)"}},"".concat(m).concat(De("common.credit"))),_e&&a().createElement("span",{className:"cl-primary btn-qr-code",onClick:this.handleShowQrCode},a().createElement(v.Z,null),a().createElement("span",{style:{fontSize:"12px",marginLeft:3}},De("study.groupCode")))):null),a().createElement("div",{className:"header-elective-task-progress",style:{flexDirection:"column",justifyContent:"center"}},a().createElement(h.Z,{percent:Y,type:"circle",width:67,strokeColor:Ue,format:Ke=>a().createElement("span",{className:"circle-blue-value",style:{color:Ue}},Ke,"% ",a().createElement("br",null)," ",a().createElement("span",{className:"circle-blue-label"},De("authentication.totalProgress")))})))},this.renderQrcodeModal=()=>{var t=this.props,s=t.prefixCls,y=t.t,m=this.state,I=m.qrcodeVisible,M=m.infos,j="".concat(s,"__qrmodal"),H={display:"block",margin:"0 auto",width:"250px",height:"250px"};return a().createElement(de.ZP,{size:"small",visible:I,footer:null,bodyStyle:{maxHeight:"initial"},title:y("study.groupCode"),onCancel:this.handleCancelQrcode},a().createElement("div",{className:j},a().createElement("img",{style:H,src:M.dingImgUrl,alt:""})))},this.renderTables=t=>{var s=this.props,y=s.prefixCls,m=s.type,I=this.state,M=I.tableList,j=I.infos,H=I.taskIsBought,le=j.beginTime,n=j.endTime,V=c.parse(u.m8.location.search),oe=V.id,ie="".concat(y,"__content__table"),ae=["unstarted","pending","overdue"],_e=new Date().getTime()<le?ae[0]:new Date().getTime()>n?ae[2]:ae[1];return M?(M.forEach(Y=>{Y.courseMappingList.forEach(Ie=>{Ie.type==="wei"&&(Ie._courseInfo=(0,b.Z)({},Ie.courseInfo),delete Ie.courseInfo),Ie.courseInfo&&Ie.courseInfo.length&&Ie.courseInfo.forEach(xe=>{xe.parentCourseId=Ie.courseId})})}),a().createElement("div",{className:ie},M.length?M.map(Y=>a().createElement(te,(0,Q.Z)({isPreview:m===Se.PREVIEW,fromPage:t,key:Y.id,id:Y.id,title:Y.stageName,subTitle:Y.content,list:m===Se.PREVIEW?this.formateList(Y.courseMappingList):Y.courseMappingList,item:Y,planId:oe,status:_e,stateInfos:j,taskIsBought:H,onSaveProgress:this.handleSaveProgress,refreshData:this.initData},this.props))):a().createElement(i.Z,{image:i.Z.PRESENTED_IMAGE_SIMPLE}))):null},this.formateList=t=>t.map(s=>s.evaluation?(0,b.Z)((0,b.Z)({},s.evaluation),{},{type:"evaluation"}):s)}componentDidMount(){var f=this.props,t=f.type,s=f.planId;t===Se.PREVIEW?this.getPreviewData({planId:s}):this.initData()}render(){var f=this.props,t=f.prefixCls,s=f.t,y=c.parse(u.m8.location.search),m=y.fromPage,I=m===void 0?"":m,M=this.state,j=M.isLoading,H=M.infos,le=M.showBuyQrCode,n=M.showPayType,V=(window.location.hash||"").includes("/training/learning/task/myElectiveTaskView")?s("documentTitle.electiveTaskLearning"):s("documentTitle.trainingTaskLearning");if(j)return a().createElement("div",{className:"".concat(t,"__loading")},a().createElement(z.Z,{size:"large"}));var oe={price:H.official_price_str,title:H.title,id:H.id};return a().createElement(a().Fragment,null,a().createElement(ge.Z,{title:V}),a().createElement("div",{className:"".concat(t," ").concat(I.indexOf("myObligatoryTask")>-1?"task-view__personal_background":"")},a().createElement("div",{className:"".concat(t,"__content ").concat(I==="myObligatoryTask"?"personal_css":"")},this.renderTitle(),H.sync_progress==="true"?a().createElement("span",{className:"".concat(t,"__sync__tip")},s("trainee.openSync")):a().createElement("div",{className:"".concat(t,"__sync__gap")}),I==="myObligatoryTask"?this.renderTables("isPersonal"):this.renderTables()),this.renderQrcodeModal(),le&&a().createElement(Ce.Z,{type:"study",payInfo:oe,visible:le,showPayType:n,handleCancel:this.handleHiddenBuyModal})))}}Ze.defaultProps={prefixCls:"task-view",type:""};var Be=(0,O.$j)(Me)((0,r.Z)()(Ze))},2287:function(Pe,ce,e){"use strict";e.d(ce,{a:function(){return U},F:function(){return R}});var se=e(34792),z=e(48086),ee=e(57361),i=e(9754),Q=e.n(i),K=e(37055),h=e(67230),U=S=>{var x=K.Yq.indexOf(S.type.toLowerCase())>-1,A=K.iH.indexOf(S.type.toLowerCase())>-1,o=K.Iq.indexOf(S.type.toLowerCase())>-1,T=S.type.indexOf("image")>-1||S.type.indexOf("picture")>-1||S.content_type.indexOf("image")>-1||S.content_type.indexOf("picture")>-1,B=S.biz_type!==3;return(x||A||T||o)&&B},R=function(){var S=(0,ee.Z)(Q().mark(function x(A,o,T){var B,F,b,G,p,L,D,a,r,u,c,v,O;return Q().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(A.stopPropagation(),B=T.t,F=o.url,b=o.type,G=o.status,p=o.storage_type,L=o.video_id,D=o.id,a="",r=o.type.indexOf("image")>-1||o.type.indexOf("picture")>-1||o.content_type.indexOf("image")>-1||o.content_type.indexOf("picture")>-1,G!==3){E.next=32;break}if(p!=="ALIBABA_PRIVATE"){E.next=19;break}if(b!=="mp4"){E.next=13;break}return E.next=10,(0,h.y5)(L);case 10:a=E.sent,E.next=16;break;case 13:return E.next=15,(0,h.J7)(L);case 15:a=E.sent;case 16:a?(a.indexOf("http://")>-1&&(a=a.replace("http://","https://")),window.location.href=a):z.default.info(B("personal.fileNoDown")),E.next=30;break;case 19:if(b!=="mp4"){E.next=29;break}return E.next=22,(0,h.km)(D);case 22:u=E.sent,c=u.success,v=u.data,c==="true"&&(a=v),a?(a.indexOf("http://")>-1&&(a=a.replace("http://","https://")),window.location.href=a):z.default.info(B("personal.fileNoDown")),E.next=30;break;case 29:r?(O=new XMLHttpRequest,O.open("GET",o.url,!0),O.responseType="blob",O.onload=k=>{k.stopPropagation();var $=window.URL.createObjectURL(O.response),N=document.createElement("a");N.href=$,N.download=o.name,N.click()},O.send()):window.location.href=F;case 30:E.next=33;break;case 32:z.default.info(B("course.transcodingTips"));case 33:case"end":return E.stop()}},x)}));return function(A,o,T){return S.apply(this,arguments)}}()},65007:function(Pe,ce,e){"use strict";e.r(ce);var se=e(12924),z=e.n(se),ee=e(23529),i=Q=>z().createElement(ee.Z,Q);ce.default=i},50603:function(Pe,ce,e){"use strict";e.d(ce,{Z:function(){return re}});var se=e(57663),z=e(71577),ee=e(12924),i=e.n(ee),Q=e(91768),K=e(80991),h=e(88983),U=e(47933),R=e(47673),S=e(4107),x=e(88986);class A extends i().Component{constructor(){super(...arguments);this.handleRadioChange=w=>{var g=this.props,C=g.formik,l=g.name,P=w.target,W=P.isOtherOption,te=W===void 0?!1:W,de=P.value;C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{hasOtherOption:te,options:de})}))},this.handleInputChange=w=>{var g=this.props,C=g.formik,l=g.name;C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{otherAnswer:w.target.value})}))}}render(){var w=this.props.defaultFieldList,g=w.options,C=w.solution;return i().createElement(U.ZP.Group,{onChange:this.handleRadioChange,value:C.options},g.map(l=>{var P=l.id,W=l.title,te=l.other;return te?i().createElement(U.ZP,{key:P,value:P,isOtherOption:!0},W,i().createElement(S.Z,{style:{marginLeft:10,width:210},value:C.otherAnswer,onChange:this.handleInputChange})):i().createElement(U.ZP,{key:P,value:P},W)}))}}var o=(0,K.$j)(A);class T extends i().Component{constructor(){super(...arguments);this.handleChange=w=>{var g=this.props,C=g.formik,l=g.name;C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{options:w.target.value})}))}}render(){var w=this.props.defaultFieldList.solution;return i().createElement(S.Z,{value:w.options,onChange:this.handleChange})}}var B=(0,K.$j)(T);class F extends i().Component{constructor(){super(...arguments);this.handleChange=w=>{var g=this.props,C=g.formik,l=g.name;C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{options:w.target.value})}))}}render(){var w=this.props.defaultFieldList.solution;return i().createElement(S.Z.TextArea,{value:w.options,onChange:this.handleChange})}}var b=(0,K.$j)(F),G=e(96433),p=e(33304),L=e(22385),D=e(31097),a=e(17264),r=e.n(a),u=S.Z.TextArea;class c extends i().Component{constructor(){super(...arguments);this.handleChange=(w,g)=>{var C=this.props,l=C.formik,P=C.name;l.setFieldValue(P,(0,x.Z)((0,x.Z)({},l.values[P]),{},{solution:(0,x.Z)((0,x.Z)({},l.values[P].solution),{},{[g]:w})}))}}render(){var w=this.props.defaultFieldList,g=w.solution,C=w.options,l=g.options?parseInt(g.options):0,P=this.props,W=P.question,te=W.instruction,de=W.instruction_must,X=W.must,fe=P.t;return i().createElement("div",null,i().createElement("div",{className:r()["score-box"]},i().createElement(D.Z,{title:C[0].title},i().createElement("div",{className:r()["score-title"]},C[0].title)),i().createElement("div",{className:r()["score-rate"]},i().createElement(p.Z,{value:l,count:C.length,onChange:ge=>{this.handleChange(ge,"options")},tooltips:C.map(ge=>ge.title)})),i().createElement(D.Z,{title:C[C.length-1].title},i().createElement("div",{className:r()["score-title"]},C[C.length-1].title))),te&&i().createElement(u,{rows:5,maxLength:300,onChange:ge=>{this.handleChange(ge.target.value,"instruction_content")},placeholder:"".concat(fe("learning.scoringExplanation")).concat(X&&de?"\uFF08".concat(fe("learning.required"),"\uFF09"):"")}))}}var v=(0,Q.Z)()((0,K.$j)(c)),O=e(63185),Z=e(9676);class E extends i().Component{constructor(){super(...arguments);this.handleCheckboxChange=w=>{var g=this.props,C=g.formik,l=g.name,P=C.values[l].options.find(te=>te.other),W=P?P.id:"";C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{hasOtherOption:w.indexOf(W)>-1,options:w.join(",")})}))},this.handleInputChange=w=>{var g=this.props,C=g.formik,l=g.name;C.setFieldValue(l,(0,x.Z)((0,x.Z)({},C.values[l]),{},{solution:(0,x.Z)((0,x.Z)({},C.values[l].solution),{},{otherAnswer:w.target.value})}))}}render(){var w=this.props.defaultFieldList,g=w.options,C=w.solution,l=[];return g.map(P=>{var W=P.id,te=P.title,de=P.other,X=de===void 0?!1:de,fe=X?i().createElement(i().Fragment,null,te,i().createElement(S.Z,{style:{marginLeft:10,width:210},value:C.otherAnswer,onChange:this.handleInputChange})):te;l.push({label:fe,value:W,other:X})}),i().createElement(Z.Z.Group,{options:l,value:C.options.split(","),onChange:this.handleCheckboxChange})}}var k=(0,K.$j)(E),$=e(43859),N=(0,$.Z)(o),J=(0,$.Z)(B),ne=(0,$.Z)(b),Ee=(0,$.Z)(v),ve=(0,$.Z)(k),Te=e(3407),me=e(6793),he=(0,me.me)(),d=Te.Z[he].learning.validation,_=ue=>{var w,g=ue.solution,C=ue.isRequired,l=ue.instruction,P=ue.instruction_must,W=ue.type,te=g.hasOtherOption,de=g.options,X=g.otherAnswer,fe=g.instruction_content;return C&&((!de.toString().length||te&&!X)&&(w=d.participateInInvestigate),W==="score"&&l&&P&&!fe&&(w=d.participateInInvestigate)),w},q=e(19256),ye=e.n(q);class pe extends i().Component{constructor(){super(...arguments);this.handlePropsSubmit=()=>{var w=this.props.handleSubmit;w()},this.renderFooter=()=>{var w=this.props,g=w.isSubmitting,C=g===void 0?!1:g,l=w.onCancel,P=w.t;return i().createElement("footer",{className:"cl-form-fixed-footer"},i().createElement("div",{className:"cl-form-fixed-footer__container"},i().createElement(z.Z,{onClick:l},P("common.cancel")),i().createElement(z.Z,{type:"primary",loading:C,onClick:this.handlePropsSubmit},P("common.submit"))))},this.renderContent=()=>{var w=this.props,g=w.questions,C=w.title,l=w.description;return i().createElement(K.l0,{className:"cl-form"},i().createElement("h1",{className:"cl-form-htitle"},C),i().createElement("h4",{className:ye().investigatesDesc},l),g.map(P=>this.renderField(P)))},this.renderField=w=>{var g=this.props,C=g.values,l=g.t,P="".concat(w.type,"_").concat(w.id),W=C[P],te=W.type,de=W.isRequired,X;switch(te){case"single":X=N;break;case"multiple":X=ve;break;case"input":X=J;break;case"textarea":X=ne;break;case"score":X=Ee;break;default:X=null;break}if(!X)return null;var fe=w.type==="single"?"\u3010".concat(l("learning.questionnaireAddToolSingle"),"\u3011"):w.type==="multiple"?"\u3010".concat(l("learning.questionnaireAddToolMul"),"\u3011"):"",ge="".concat(fe).concat(w.title);return i().createElement(K.gN,{key:P,component:X,label:ge,required:de,displayType:"Custom",name:P,defaultFieldList:W,validate:_,question:w})}}render(){var w=this.props.showFooter;return i().createElement(i().Fragment,null,w?this.renderFooter():null,this.renderContent())}}pe.defaultProps={showFooter:!0};var re=(0,Q.Z)()(pe)},44970:function(Pe,ce,e){"use strict";var se=e(49111),z=e(19650),ee=e(96433),i=e(33304),Q=e(22385),K=e(31097),h=e(88983),U=e(47933),R=e(63185),S=e(9676),x=e(47673),A=e(4107),o=e(12924),T=e.n(o),B=e(91768),F=A.Z.TextArea;class b extends T().Component{constructor(){super(...arguments);this.setQuestionValue=(p,L)=>{this.props.setQuestionValue(p,L)},this.renderQuestionItem=(p,L)=>{var D=!1,a=this.props,r=a.isPreview,u=a.t;return(p.type==="single"||p.type==="multiple")&&(D=p.options.find(c=>c.is_other==="true")),T().createElement("div",{key:L,className:"questionnaire-view-question"},T().createElement("div",{className:"questionnaire-view-question-title"},p.is_must==="true"?T().createElement("span",{className:"question-must-icon"},"*"):null,p.type==="single"?"\u3010".concat(u("learning.questionnaireAddToolSingle"),"\u3011"):p.type==="multiple"?"\u3010".concat(u("learning.questionnaireAddToolMul"),"\u3011"):null,p.title),p.type==="multiple"?T().createElement("div",{className:"questionnaire-view-question-option"},p.options.map((c,v)=>c.is_other==="true"?null:r?T().createElement(S.Z,{checked:p.answer.normal.indexOf(c.id)!==-1,disabled:r,key:v,className:"option-item"},T().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},c.title)):T().createElement(S.Z,{key:v,className:"option-item"},T().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},c.title))),D?r?T().createElement(S.Z,{disabled:r,checked:!!p.answer.other,className:"option-item"},u("learning.questionnaireAddQusOptionOther"),p.answer.other?T().createElement(A.Z,{value:p.answer.other,disabled:r,className:"other-input"}):T().createElement(A.Z,{disabled:r,className:"other-input"})):T().createElement(S.Z,{className:"option-item"},u("learning.questionnaireAddQusOptionOther"),T().createElement(A.Z,{className:"other-input"})):null):null,p.type==="single"?T().createElement("div",{className:"questionnaire-view-question-option"},p.options.map((c,v)=>c.is_other==="true"?null:r?T().createElement(U.ZP,{disabled:r,key:v,checked:p.answer.normal.indexOf(c.id)!==-1,className:"option-item"},T().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},c.title)):T().createElement(U.ZP,{key:v,checked:v===p.value,onClick:()=>this.setQuestionValue(L,v),className:"option-item"},T().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},c.title))),D?r?T().createElement(U.ZP,{disabled:r,checked:!!p.answer.other,className:"option-item"},u("learning.questionnaireAddQusOptionOther"),p.answer.other?T().createElement(A.Z,{value:p.answer.other,disabled:r,className:"other-input"}):T().createElement(A.Z,{disabled:r,className:"other-input"})):T().createElement(U.ZP,{checked:p.value===-1,onClick:()=>this.setQuestionValue(L,-1),className:"option-item"},u("learning.questionnaireAddQusOptionOther"),T().createElement(A.Z,{className:"other-input"})):null):null,p.type==="score"?T().createElement("div",{className:"questionnaire-view-question-score"},r?T().createElement(z.Z,{direction:"vertical"},T().createElement("div",{className:"questionnaire-view-question-score-box"},T().createElement(K.Z,{title:p.options[0].title},T().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[0].title)),T().createElement("div",{className:"questionnaire-view-question-score-rate"},T().createElement(i.Z,{disabled:!0,value:p.answer.normal[0],tooltips:p.options.map((c,v)=>T().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:v.toString},T().createElement("div",{className:"ellipsis"},c.title),T().createElement("div",null,u("learning.score"),"\uFF1A",c.score))),count:p.options.length})),T().createElement(K.Z,{title:p.options[p.options.length-1].title},T().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[p.options.length-1].title))),p.instruction==!0&&T().createElement(F,{disabled:!0,value:p.answer.instructionContent?p.answer.instructionContent:p.answer.instruction_content,className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(u("learning.scoringExplanation")).concat(p.must&&p.instruction_must?"\uFF08".concat(u("learning.required"),"\uFF09"):""),maxLength:300})):T().createElement(z.Z,{direction:"vertical"},T().createElement("div",{className:"questionnaire-view-question-score-box"},T().createElement(K.Z,{title:p.options[0].title},T().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[0].title)),T().createElement("div",{className:"questionnaire-view-question-score-rate"},T().createElement(i.Z,{tooltips:p.options.map((c,v)=>T().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:v.toString},T().createElement("div",null,c.title),T().createElement("div",null,u("learning.score"),"\uFF1A",c.score))),count:p.options.length})),T().createElement(K.Z,{title:p.options[p.options.length-1].title},T().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[p.options.length-1].title))),p.instruction==!0&&T().createElement(F,{className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(u("learning.scoringExplanation")).concat(p.instruction_must?"\uFF08".concat(u("learning.required"),"\uFF09"):""),maxLength:300}))):null,p.type==="input"?T().createElement("div",{className:"questionnaire-view-question-input"},p.is_multiple_rows==="1"||p.is_multiple_rows==="true"?T().createElement(F,{rows:3,value:r?p.answer.normal[0]:"",disabled:r}):T().createElement(A.Z,{value:r?p.answer.normal[0]:"",disabled:r})):null)}}render(){var p=this.props.questionnaireInfo;return T().createElement("div",null,T().createElement("div",{className:"questionnaire-view-title"},p.title),T().createElement("div",{className:"questionnaire-view-desc"},p.description),T().createElement("div",{className:"questionnaire-view-list"},p.questions.map((L,D)=>this.renderQuestionItem(L,D))))}}ce.Z=(0,B.Z)()(b)},70517:function(Pe,ce,e){"use strict";e.d(ce,{ZG:function(){return h},v8:function(){return U},Yv:function(){return R},$v:function(){return S},yW:function(){return x}});var se=e(57361),z=e(9754),ee=e.n(z),i=e(91302),Q=e(10237),K=e(37055),h=A=>{var o=!1;return i.ch.forEach(T=>{(A||"").indexOf(T)!==-1&&(o=!0)}),o},U=function(){var A=(0,se.Z)(ee().mark(function o(){var T;return ee().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return T=K.ZP.LibraryList.checkMemberUserBinding(),F.abrupt("return",Q.WY.get({url:T,params:{source_type:"lai_hua"}}));case 2:case"end":return F.stop()}},o)}));return function(){return A.apply(this,arguments)}}(),R=function(){var A=(0,se.Z)(ee().mark(function o(T){var B,F,b,G;return ee().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return B=K.ZP.LibraryList.thirdEditorUrl(),L.next=3,Q.WY.get({url:B,params:{source_type:"lai_hua",route_type:T}});case 3:F=L.sent,b=F.data,G=F.success,G==="true"&&window.open(b.url,"_blank");case 7:case"end":return L.stop()}},o)}));return function(T){return A.apply(this,arguments)}}(),S=()=>{localStorage.setItem("openedMemberModal","true")},x=A=>{var o=K.ZP.LibraryList.addTrialMemberBinding();return Q.WY.get({url:o,params:{source_type:"lai_hua",route_type:A}})}},56932:function(Pe){Pe.exports="data:image/png;base64,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"}}]);
