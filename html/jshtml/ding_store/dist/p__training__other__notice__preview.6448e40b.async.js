(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[2602],{90565:function(te,$,t){"use strict";t.d($,{Z:function(){return c}});var N=t(62029),f=t(88986),W=t(12924),A=t.n(W),T=t(85589),u=t.n(T),x=t(48033),C=t(59081),O=t(65454),r=t(13129);class c extends A().Component{constructor(){super(...arguments);this.state={editorState:u().createEditorState(this.props.editorState||null),showCourseSelector:!1},this.handleChange=h=>{this.setState({editorState:h})},this.blockRendererFn=(h,w)=>{var v=null,P=h.getEntityAt(0);if(!P)return null;var k=w.editorState.getCurrentContent(),g=k.getEntity(P),D=g.getType(),y=g.getData(),I=(0,f.Z)((0,f.Z)({},w),{},{block:h,mediaData:y,entityKey:P});return D==="DOC"&&(v={component:()=>A().createElement(x.Z,(0,N.Z)({},I,{editable:!1}))}),D==="CUSTOMER_AUDIO"&&(v={component:()=>A().createElement(C.Z,(0,N.Z)({},I,{editable:!1}))}),D==="CUSTOMER_VIDEO"&&(v={component:()=>A().createElement(O.Z,(0,N.Z)({},I,{editable:!1}))}),D==="CUSTOMER_IMAGE"&&(v={component:()=>A().createElement(r.Z,I),editable:!1}),v}}render(){var h=this.props.prefixCls,w=[];return A().createElement("div",{className:"cl-h5-article ".concat(h)},A().createElement(u(),{ref:v=>this.editorInstance=v,value:this.state.editorState,readOnly:!0,controls:w,blockRendererFn:this.blockRendererFn}))}}c.defaultProps={prefixCls:"cl-h5-article-preview"}},59081:function(te,$,t){"use strict";t.d($,{Z:function(){return V}});var N=t(62029),f=t(88986),W=t(34792),A=t(48086),T=t(12924),u=t.n(T),x=t(91768),C=t(32452),O=t(76466),r=t(84874),c=t(66126),m=t(31955),h=t(57361),w=t(9754),v=t.n(w),P=t(6793),k=t(67230);class g extends u().Component{constructor(){var R;super(...arguments);R=this,this.state={paused:!0,current:0,source:this.props.source},this.handleTogglePlay=()=>{var Z=this.props.readOnly;if(!Z){var z=this.state.paused;this.setState({paused:!z},()=>{this._audio[z?"play":"pause"]()})}},this.onTimeUpdate=()=>{var Z=this.props.duration,z=Math.ceil(this._audio.currentTime),Y=z>Z,X=Y?0:z;Y||this.setState({current:X})},this.getSourcce=(0,h.Z)(v().mark(function Z(){var z,Y,X,Q,H;return v().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(z=R.props,Y=z.videoId,X=z.storage_type,Q=z.source,X!=="ALIBABA_PRIVATE"){se.next=6;break}return se.next=4,(0,k.y5)(Y);case 4:H=se.sent,H&&(Q=H);case 6:R.setState({source:Q});case 7:case"end":return se.stop()}},Z)})),this.onEnded=()=>{this._audio.currentTime=0,this.setState({current:0,paused:!0},()=>{this._audio.pause()})},this.handleChangeCurrent=Z=>{this._audio.pause(),this.setState({paused:!0,current:Z})},this.handleAfterChange=Z=>{this.setState({paused:!1,current:Z},()=>{this._audio.currentTime=Z,this._audio.play()})},this.handleError=()=>{this.getSourcce()},this.renderAudio=()=>{var Z=this.state.source;return u().createElement("audio",{ref:z=>this._audio=z,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnded,src:Z,onError:this.handleError},u().createElement("source",{src:Z}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 audio \u5143\u7D20\u3002")},this.renderCustomUI=()=>{var Z=this.props.prefixCls,z="".concat(Z,"__content");return u().createElement("div",{className:z},this.renderPlayBtn(),this.renderDuration(),this.renderSlide())},this.renderPlayBtn=()=>{var Z=this.props.prefixCls,z=this.state.paused,Y="".concat(Z,"__content__playbtn"),X=z?"icon-bofang":"icon-zanting";return u().createElement("span",{className:Y,onClick:this.handleTogglePlay},u().createElement(r.Z,{iconClass:X,size:"18px",color:"#4D536E"}))},this.renderDuration=()=>{var Z=this.props,z=Z.prefixCls,Y=Z.duration,X="".concat(z,"__content__rest"),Q=this.state.current,H=Y-Q>=0?Y-Q:0;return u().createElement("span",{className:X},(0,P.xj)(H))},this.renderSlide=()=>{var Z=this.props,z=Z.prefixCls,Y=Z.duration,X=Z.readOnly,Q="".concat(z,"__content__slide"),H=this.state.current;return u().createElement("div",{className:Q},u().createElement(m.Z,{ref:le=>this._slider=le,min:0,max:Y,value:H,disabled:X,tipFormatter:null,onChange:this.handleChangeCurrent,onAfterChange:this.handleAfterChange}))}}componentDidMount(){this.getSourcce()}render(){var R=this.props.prefixCls;return u().createElement("div",{className:R},this.renderAudio(),this.renderCustomUI())}}g.defaultProps={prefixCls:"cl-audio",source:"",duration:0,autoPlay:!1,readOnly:!1,videoId:""};var D=g,y=t(10237),I=t(37055),B=t(73488),L={getRecordInfo:I.ZP.CoursewareSelector.getRecordInfo};class F extends u().Component{constructor(R){super(R);this.getImmediateRecord=()=>{y.WY.get({url:L.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(X=>{var Q=X.data.data;this.setState({record:Q,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.handlePreview=X=>{var Q=X.record,H=this.state.previewInfo,le=Q.status===1||Q.status===2;if(le){A.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var se=this.props.editable;!se||this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{source:{FD:Q.url,OD:Q.path},originUrl:Q.url,contentType:"mp3",playId:Q.videoId||Q.video_id,storageType:Q.storage_type},autoPlay:!0,draggable:!0},previewInfo:(0,f.Z)((0,f.Z)({},H),{},{title:Q.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var X=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,f.Z)((0,f.Z)({},X),{},{visible:!1})})},this.handleDelete=()=>{this.props.editor.setValue(C.ContentUtils.removeBlock(this.props.editorState,this.props.block))},this.renderPlayWrapper=X=>{var Q=X.record,H=this.props,le=H.prefixCls,se=H.editable,ve=Q.url,ue=Q.status,Ce=Q.storage_type,ye=Q.videoId,Ee=Q.duration;return Ee=ue===3?parseInt(Ee,10):0,u().createElement("div",{className:"".concat(le,"__audio-wrapper"),onClick:()=>this.handlePreview({record:Q})},u().createElement(D,{readOnly:se||ue!==3,source:ve,duration:Ee,storage_type:Ce,videoId:ye}))},this.renderRemoveBtn=()=>{var X=this.props,Q=X.prefixCls,H=X.editable;return H&&u().createElement("span",{className:"".concat(Q,"__action"),onClick:this.handleDelete},u().createElement(r.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))};var Z=R.meta,z=R.mediaData,Y;Z?Y=Z.record:Y=z.meta.record,this.state={isLoading:!0,record:Y,remainInfo:{name:Y.title,iconType:"mp3"},resourceError:!1,resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.getImmediateRecord()}render(){var R=this.props,Z=R.prefixCls,z=R.editable,Y=this.state,X=Y.resourcePlayInfo,Q=Y.previewInfo,H=Y.record,le=Y.isLoading,se=Y.resourceError,ve=Y.remainInfo;return le?null:se?u().createElement(B.Z,(0,N.Z)({},ve,{editable:z,onDelete:this.handleDelete})):u().createElement("div",{className:Z},u().createElement("span",{className:"".concat(Z,"__title")},u().createElement(r.Z,{iconClass:I.e1.mp3,size:"18px"}),H.name),this.renderPlayWrapper({record:H}),this.renderRemoveBtn(),z&&u().createElement(O.Z,(0,N.Z)({},X,{previewInfo:Q})))}}F.defaultProps={prefixCls:"cl-h5-article__atomics-audio",editable:!0};var V=(0,x.Z)()(F)},48033:function(te,$,t){"use strict";var N=t(62029),f=t(88986),W=t(34792),A=t(48086),T=t(12924),u=t.n(T),x=t(91768),C=t(32452),O=t(57068),r=t(73488),c=t(1164),m=t(76466),h=t(84874),w=t(65202),v=t(10237),P=t(37055),k={getRecordInfo:P.ZP.CoursewareSelector.getRecordInfo};class g extends u().Component{constructor(y){super(y);this.getImmediateRecord=()=>{v.WY.get({url:k.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(F=>{var V=F.data.data;this.setState({record:V,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.handlePreview=F=>{var V=F.record,M=this.state.previewInfo,R=V.status===1||V.status===2;if(R){A.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var Z=this.props.editable,z=Z===void 0?!0:Z;if(z)this.setState({resourcePlayInfo:{mode:"preview",watchType:"doc",resourceInfo:{type:"",docType:V.type,aliUrl:V.path,url:V.url,docTitle:V.name,playId:V.videoId||V.video_id,storageType:V.storage_type}},previewInfo:(0,f.Z)((0,f.Z)({},M),{},{title:V.name,visible:!0,onCancel:this.cancelPreview})});else{var Y={docType:V.type,aliUrl:V.path,url:V.url,docTitle:V.name,videoId:V.videoId||V.video_id,storage_type:V.storage_type};c.Z.targetTo({path:"/training/learning/task/watchDoc?".concat(O.stringify(Y)),projectType:"student"})}},this.cancelPreview=()=>{var F=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,f.Z)((0,f.Z)({},F),{},{visible:!1})})},this.handleDelete=()=>{this.props.editor.setValue(C.ContentUtils.removeBlock(this.props.editorState,this.props.block))};var I=y.meta,B=y.mediaData,L;I?L=I.record:L=B.meta.record,this.state={isLoading:!0,record:L,remainInfo:{name:L.title,iconType:L.type},resourceError:!1,resourcePlayInfo:{mode:"preview",watchType:"doc",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.getImmediateRecord()}render(){var y=this.props,I=y.prefixCls,B=y.editable,L=B===void 0?!0:B,F=y.t,V=(0,w.p)(),M=this.state,R=M.resourcePlayInfo,Z=M.previewInfo,z=M.record,Y=M.isLoading,X=M.resourceError,Q=M.remainInfo;return Y?null:X?u().createElement(r.Z,(0,N.Z)({},Q,{editable:L,onDelete:this.handleDelete})):u().createElement("div",{className:I},u().createElement("span",{className:"".concat(I,"__title")},u().createElement(h.Z,{iconClass:P.e1[z.type],size:"18px"}),z.name),u().createElement("span",{className:"".concat(I,"__action")},u().createElement("span",{onClick:()=>this.handlePreview({record:z}),style:{color:V}},F("common.clickToView")),L&&u().createElement("span",{onClick:this.handleDelete},u().createElement(h.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))),u().createElement(m.Z,(0,N.Z)({},R,{previewInfo:Z})))}}g.defaultProps={prefixCls:"cl-h5-article__atomics-doc"},$.Z=(0,x.Z)()(g)},73488:function(te,$,t){"use strict";var N=t(12924),f=t.n(N),W=t(91768),A=t(84874),T=t(37055);class u extends f().Component{render(){var C=this.props,O=C.prefixCls,r=C.name,c=C.iconType,m=C.editable,h=m===void 0?!1:m,w=C.onDelete,v=C.t;return f().createElement("div",{className:O},f().createElement("span",{className:"".concat(O,"__title")},f().createElement(A.Z,{iconClass:T.e1[c],size:"18px"}),r),f().createElement("span",{className:"".concat(O,"__action")},f().createElement("span",{className:"".concat(O,"__action__disabled")},v("common.rsNonExistent")),h&&f().createElement("span",{onClick:w},f().createElement(A.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))))}}u.defaultProps={prefixCls:"cl-h5-article__atomics-empty"},$.Z=(0,W.Z)()(u)},13129:function(te,$,t){"use strict";t.d($,{Z:function(){return O}});var N=t(62029),f=t(33565),W=t(88986),A=t(12924),T=t.n(A),u=t(32452),x=(r,c)=>[{key:"undo",title:r.controls.undo,text:React.createElement("i",{className:"bfi-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:r.controls.redo,text:React.createElement("i",{className:"bfi-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:r.controls.removeStyles,text:React.createElement("i",{className:"bfi-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:r.controls.hr,text:React.createElement("i",{className:"bfi-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:r.controls.bold,text:React.createElement("i",{className:"bfi-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:r.controls.italic,text:React.createElement("i",{className:"bfi-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:r.controls.underline,text:React.createElement("i",{className:"bfi-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:r.controls.strikeThrough,text:React.createElement("i",{className:"bfi-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:r.controls.superScript,text:React.createElement("i",{className:"bfi-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:r.controls.subScript,text:React.createElement("i",{className:"bfi-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:r.controls.headings,type:"headings"},{key:"blockquote",title:r.controls.blockQuote,text:React.createElement("i",{className:"bfi-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:r.controls.code,text:React.createElement("i",{className:"bfi-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:r.controls.unorderedList,text:React.createElement("i",{className:"bfi-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:r.controls.orderedList,text:React.createElement("i",{className:"bfi-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:r.controls.link,type:"link"},{key:"text-color",title:r.controls.color,type:"text-color"},{key:"line-height",title:r.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:r.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:r.controls.textIndent,type:"text-indent"},{key:"font-size",title:r.controls.fontSize,type:"font-size"},{key:"font-family",title:r.controls.fontFamily,type:"font-family"},{key:"text-align",title:r.controls.textAlign,type:"text-align"},{key:"media",title:r.controls.media,text:React.createElement("i",{className:"bfi-media"}),type:"media"},{key:"emoji",title:r.controls.emoji,text:React.createElement("i",{className:"bfi-emoji"}),type:"emoji"},{key:"clear",title:r.controls.clear,text:React.createElement("i",{className:"bfi-clear_all"}),type:"editor-method",command:"clearEditorContent"},{key:"fullscreen",title:c.state.isFullscreen?r.controls.exitFullscreen:r.controls.fullscreen,text:React.createElement("i",{className:c.state.isFullscreen?"bfi-fullscreen-exit":"bfi-fullscreen"}),type:"editor-method",command:"toggleFullscreen"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}],C={"float-left":{text:T().createElement("span",{"data-float":"left"},"\uE91E"),command:"setImageFloat|left"},"float-right":{text:T().createElement("span",{"data-float":"right"},"\uE914"),command:"setImageFloat|right"},"align-left":{text:T().createElement("span",{"data-align":"left"},"\uE027"),command:"setImageAlignment|left"},"align-center":{text:T().createElement("span",{"data-align":"center"},"\uE028"),command:"setImageAlignment|center"},"align-right":{text:T().createElement("span",{"data-align":"right"},"\uE029"),command:"setImageAlignment|right"},size:{text:T().createElement("span",null,"\uE3C2"),command:"toggleSizeEditor"},link:{text:T().createElement("span",null,"\uE91A"),command:"toggleLinkEditor"},remove:{text:T().createElement("span",null,"\uE9AC"),command:"removeImage"}};class O extends T().Component{constructor(){super(...arguments);this.state={toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null},this.initialLeft=void 0,this.initialTop=void 0,this.initialWidth=void 0,this.initialHeight=void 0,this.reSizeType=void 0,this.aspectRatio=void 0,this.changeSize=c=>{var m=this.reSizeType;this.initialLeft||(this.initialLeft=c.screenX,this.initialTop=c.screenY),m==="rightbottom"&&(this.initialWidth+=c.screenX-this.initialLeft,this.initialHeight=this.initialWidth/this.aspectRatio),m==="leftbottom"&&(this.initialWidth+=-c.screenX+this.initialLeft,this.initialHeight=this.initialWidth/this.aspectRatio),this.initialLeft=c.screenX,this.initialTop=c.screenY},this.moveImage=c=>{this.changeSize(c),this.setState({tempWidth:Math.abs(this.initialWidth),tempHeight:Math.abs(this.initialHeight)})},this.upImage=()=>{this.confirmImageSize(),document.removeEventListener("mousemove",this.moveImage),document.removeEventListener("mouseup",this.upImage)},this.repareChangeSize=c=>m=>{this.reSizeType=c;var h=this.imageElement.getBoundingClientRect();this.initialLeft=this.initialTop=0,this.initialWidth=h.width,this.initialHeight=h.height,this.aspectRatio=h.width/h.height,m.preventDefault(),document.addEventListener("mousemove",this.moveImage),document.addEventListener("mouseup",this.upImage)},this.preventDragEvent=c=>{c.stopPropagation(),c.preventDefault()},this.handleDragStart=()=>this.props.editor.editorProps.readOnly||this.props.editor.editorProps.disabled?!1:(window.__BRAFT_DRAGING__IMAGE__={block:this.props.block,mediaData:(0,W.Z)({type:"IMAGE"},this.props.mediaData)},this.setState({toolbarVisible:!1},()=>{this.unlockEditor()}),!0),this.handleDragEnd=()=>(window.__BRAFT_DRAGING__IMAGE__=null,!1),this.executeCommand=c=>{if(typeof c=="string"){var m=c.split("|"),h=(0,f.Z)(m,2),w=h[0],v=h[1];this[w]&&this[w](v)}else typeof c=="function"&&c(this.props.block,this.props.mediaData,this.props.editor.getValue())},this.removeImage=()=>{this.props.editor.setValue(u.ContentUtils.removeBlock(this.props.editor.getValue(),this.props.block)),this.unlockEditor()},this.toggleLinkEditor=()=>{this.setState({linkEditorVisible:!this.state.linkEditorVisible,sizeEditorVisible:!1})},this.toggleSizeEditor=()=>{this.setState({linkEditorVisible:!1,sizeEditorVisible:!this.state.sizeEditorVisible})},this.handleLinkInputKeyDown=c=>{if(c.keyCode===13)this.confirmImageLink();else return},this.setImageLink=c=>{this.setState({tempLink:c.currentTarget.value})},this.confirmImageLink=()=>{var c=this.state.tempLink,m=this.props.hooks("set-image-link",c)(c);if(m===!1)return!1;typeof m=="string"&&(c=m),c!==null&&(this.props.editor.setValue(u.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,{link:c})),window.setImmediate(this.props.editor.forceRender))},this.handleSizeInputKeyDown=c=>{if(c.keyCode===13)this.confirmImageSize();else return},this.setImageWidth=c=>{var m=c.currentTarget,h=m.value;h&&!isNaN(h)&&(h=h+"px"),this.setState({tempWidth:h})},this.setImageHeight=c=>{var m=c.currentTarget,h=m.value;h&&!isNaN(h)&&(h=h+"px"),this.setState({tempHeight:h})},this.confirmImageSize=()=>{var c=this.state,m=c.tempWidth,h=c.tempHeight,w={};m!==null&&(w.width=m),h!==null&&(w.height=h);var v=this.props.hooks("set-image-size",w)(w);if(v===!1)return!1;v&&(v.width||v.height)&&(w=v),this.props.editor.setValue(u.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,w)),window.setImmediate(this.props.editor.forceRender)},this.setImageFloat=c=>{var m=this.props.hooks("set-image-float",c)(c);if(m===!1)return!1;typeof m=="string"&&(c=m),this.props.editor.setValue(u.ContentUtils.setMediaPosition(this.props.editor.getValue(),this.props.block,{float:c})),this.unlockEditor()},this.setImageAlignment=c=>{var m=this.props.hooks("set-image-alignment",c)(c);if(m===!1)return!1;typeof m=="string"&&(c=m),this.props.editor.setValue(u.ContentUtils.setMediaPosition(this.props.editor.getValue(),this.props.block,{alignment:c})),this.unlockEditor()},this.showToolbar=c=>{if(this.props.editor.editorProps.readOnly||this.props.editor.editorProps.disabled)return!1;c.preventDefault(),this.state.toolbarVisible||this.setState({toolbarVisible:!0},()=>{this.lockEditor(),this.setState({toolbarOffset:this.calcToolbarOffset()})})},this.hideToolbar=c=>{c.preventDefault(),this.setState({toolbarVisible:!1},()=>{this.unlockEditor(),this.props.editor.requestFocus()})}}render(){var c=this.props,m=c.mediaData,h=c.language,w=c.imageControls,v=c.imageResizable,P=this.state,k=P.toolbarVisible,g=P.toolbarOffset,D=P.sizeEditorVisible,y=P.tempWidth,I=P.tempHeight,B=this.props.block.getData(),L=B.get("float"),F=B.get("alignment"),V=m.url,M=m.link,R=m.width,Z=m.height,z=m.meta,Y={},X=!1;L?F=null:F==="right"?(Y.float="right",X=!0):F==="center"?Y.textAlign="center":(Y.float="left",X=!0);var Q=w.map((H,le)=>typeof H=="string"&&C[H]?T().createElement("a",{className:H==="link"&&M?"active":"",key:le,href:"javascript:void(0);",onClick:()=>this.executeCommand(C[H].command)},C[H].text):H&&(H.render||H.text)?H.render?H.render(m,this.props.block):T().createElement("a",{key:le,href:"javascript:void(0);",onClick:()=>H.onClick&&this.executeCommand(H.onClick)},H.text):null);return T().createElement("div",{className:"bf-media"},T().createElement("div",{style:Y,draggable:!0,onClick:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:H=>this.mediaEmbederInstance=H,className:"bf-image"},k?T().createElement("div",{style:{marginLeft:g},ref:H=>this.toolbarElement=H,"data-float":L,"data-align":F,className:"bf-media-toolbar"},D?T().createElement("div",{className:"bf-image-size-editor"},T().createElement("div",{className:"editor-input-group"},T().createElement("input",{type:"text",onDragStart:this.preventDragEvent,placeholder:h.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:R}),T().createElement("input",{type:"text",onDragStart:this.preventDragEvent,placeholder:h.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:Z}),T().createElement("button",{type:"button",onClick:this.confirmImageSize},h.base.confirm))):null,Q,T().createElement("i",{style:{marginLeft:g*-1},className:"bf-media-toolbar-arrow"})):null,T().createElement("div",{style:{position:"relative",width:"".concat(R,"px"),height:"".concat(Z,"px"),display:"inline-block"}},T().createElement("img",(0,N.Z)({ref:H=>this.imageElement=H,src:V,width:R,height:Z},z)),k&&v?T().createElement("div",{className:"bf-csize-icon right-bottom",onMouseDown:this.repareChangeSize("rightbottom")}):null,k&&v?T().createElement("div",{className:"bf-csize-icon left-bottom",onMouseDown:this.repareChangeSize("leftbottom")}):null,v?T().createElement("div",{className:"bf-pre-csize ".concat(this.reSizeType),style:{width:"".concat(y,"px"),height:"".concat(I,"px")}}):null)),X&&T().createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}lockEditor(){this.props.editor.lockOrUnlockEditor(!0)}unlockEditor(){this.props.editor.lockOrUnlockEditor(!1)}calcToolbarOffset(){var c=this.props,m=c.getContainerNode,h=c.containerNode,w=m?m():h;if(!w)return 0;var v=w.querySelector(".bf-content").getBoundingClientRect(),P=this.toolbarElement.getBoundingClientRect(),k=this.imageElement.getBoundingClientRect(),g=v.right-(k.right-k.width/2+P.width/2),D=k.left+k.width/2-P.width/2-v.left;return g<10?g-10:D<10?D*-1+10:0}setImageLinkTarget(c){var m=this.props.hooks("set-image-link-target",c)(c);if(m===!1)return!1;typeof m=="string"&&(c=m),c=c==="_blank"?"":"_blank",this.props.editor.setValue(u.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,{link_target:c})),window.setImmediate(this.props.editor.forceRender)}}},65454:function(te,$,t){"use strict";t.d($,{Z:function(){return g}});var N=t(62029),f=t(12924),W=t.n(f),A=t(32452),T=t(10237),u=t(37055),x=t(73488),C=t(88986),O=t(34792),r=t(48086),c=t(91768),m=t(76466),h=t(84874);class w extends W().Component{constructor(){super(...arguments);this.state={resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}},this.handlePreview=()=>{var y=this.state.previewInfo,I=this.props,B=I.record,L=I.t,F=B.status!==3;if(F){r.default.warning(L("resourceLibrary.transcodingPlayerTip"));return}this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{source:{FD:B.url,OD:B.path},originUrl:B.url,contentType:B.type,playId:B.videoId||B.video_id,storageType:B.storage_type},autoPlay:!0,draggable:!0},previewInfo:(0,C.Z)((0,C.Z)({},y),{},{title:B.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var y=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,C.Z)((0,C.Z)({},y),{},{visible:!1})})},this.renderTitle=()=>{var y=this.props.name,I="h5-bf-video-wrap__header";return W().createElement("header",{className:I},y)},this.renderMoveBtn=()=>{var y=this.props,I=y.onRemove,B=y.editable;return B?W().createElement("button",{onClick:I,className:"button-remove",type:"button"},W().createElement(h.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"})):null},this.renderPlayBtn=()=>{var y=this.props,I=y.editable,B=y.record;return I||B.status!==3?W().createElement("button",{onClick:this.handlePreview,className:"button-play",type:"button"},W().createElement(h.Z,{iconClass:"icon-bofang",size:"25px",color:"#fff"})):null},this.renderPoster=()=>{var y=this.props,I=y.poster,B=y.editable,L=y.record;return B||L.status!==3?W().createElement("div",{className:"bf-poster",style:{backgroundImage:"url(".concat(I,")")}}):null},this.renderVideo=()=>{var y=this.props,I=y.prefixCls,B=y.editable,L=y.record,F="".concat(I,"__video");if(L.status!==3)return null;var V={mode:"preview",watchType:"video",previewWay:"page",resourceInfo:{playerId:"J_prismPlayer__".concat(L.id),source:{FD:L.url,OD:L.path},originUrl:L.url,contentType:L.type,playId:L.videoId||L.video_id,storageType:L.storage_type},autoPlay:!1,draggable:!0};return B?null:W().createElement("div",{className:F},W().createElement(m.Z,V))}}render(){var y=this.props,I=y.prefixCls,B=y.type,L=y.editable,F=this.state,V=F.resourcePlayInfo,M=F.previewInfo;return W().createElement(W().Fragment,null,this.renderTitle(),W().createElement("div",{className:"".concat(I," ").concat(B)},this.renderMoveBtn(),this.renderPlayBtn(),this.renderPoster(),this.renderVideo(),L&&W().createElement(m.Z,(0,N.Z)({},V,{previewInfo:M}))))}}w.defaultProps={prefixCls:"h5-bf-player-holder",editable:!0};var v=(0,c.Z)()(w),P={getRecordInfo:u.ZP.CoursewareSelector.getRecordInfo};class k extends W().Component{constructor(y){super(y);this.getImmediateRecord=()=>{T.WY.get({url:P.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(L=>{var F=L.data.data;this.setState({record:F,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.removeVideo=()=>{this.props.editor.setValue(A.ContentUtils.removeBlock(this.props.editorState,this.props.block))};var I=y.mediaData,B=I.meta.record;this.state={isLoading:!0,record:B,remainInfo:{name:B.title,iconType:"mp4"},resourceError:!1}}componentDidMount(){this.getImmediateRecord()}render(){var y=this.props.editable,I=y===void 0?!0:y,B=this.state,L=B.record,F=B.isLoading,V=B.resourceError,M=B.remainInfo;return F?null:V?W().createElement(x.Z,(0,N.Z)({},M,{editable:I,onDelete:this.removeVideo})):W().createElement("div",{className:"h5-bf-video-wrap"},W().createElement(v,{type:"video",name:L.title,poster:L.cover,record:L,editable:I,onRemove:this.removeVideo}))}}var g=k},4408:function(te,$,t){"use strict";var N=t(12924),f=t.n(N),W=t(28216),A=t(17780),T=t(38642),u=C=>({userInfo:C.user}),x=C=>{var O=C.title;return(0,A.xX)()&&setTimeout(()=>{document.title=O},0),(0,N.useEffect)(()=>{if(O&&document.title!==O&&setTimeout(()=>{document.title=O},0),(0,T.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[O]),f().createElement(f().Fragment,null)};x.defautProps={title:""},$.Z=(0,W.$j)(u)(x)},1164:function(te,$,t){"use strict";var N=t(12924),f=t.n(N),W=t(76651),A=t(38642),T=t(91302),u=x=>{var C=navigator.userAgent.toLocaleLowerCase(),O=localStorage.getItem("enterpriseId"),r=(0,A.lz)(O,x.projectType),c=localStorage.getItem("dingPersonnel"),m=T.bl.includes(c),h=x.target;function w(v){if(h==="self"&&(v.preventDefault(),W.m8.push(x.to)),m){if(x.projectType==="student"){window.location.href="".concat(r,"/").concat(x.to);return}W.m8.push(x.to);return}if(dd.version){v.preventDefault();var P="";x.to.includes("?")?P="".concat(r).concat(x.to,"&ddtab=true"):P="".concat(r).concat(x.to,"?ddtab=true"),dd.biz.util.openLink({url:P})}else C.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(x.to))}return f().createElement("a",{rel:"noreferrer",href:"".concat(x.projectType==="student"?"".concat(r).concat(x.to):"#".concat(x.to)),className:"".concat(x.wrapCls," cl-pointer"),target:C.indexOf("lark")!==-1||m?"_self":x.target||"_blank",onClick:w},x.children)};u.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},u.targetTo=x=>{var C=x.path,O=x.from,r=x.isExternalLink,c=r===void 0?!1:r,m=x.isAsync,h=m===void 0?!1:m,w=x.openName,v=w===void 0?"_blank":w,P=x.projectType,k=P===void 0?"manage":P,g=x.ddTab,D=g===void 0?!0:g,y,I=localStorage.getItem("dingPersonnel"),B=T.bl.includes(I),L=navigator.userAgent.toLocaleLowerCase(),F=localStorage.getItem("enterpriseId"),V=(0,A.lz)(F,k),M=localStorage.getItem("appType"),R=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var Z="";if(y=c?"":V,B&&!c){if(k==="student"){window.location.href="".concat(V).concat(C);return}W.m8.push(C);return}C.includes("?")?Z="".concat(y).concat(C,"&ddtab=").concat(D):Z="".concat(y).concat(C,"?ddtab=").concat(D),dd.biz.util.openLink({url:Z})}else if(L.indexOf("lark")!==-1)y=c?"":V,window.location.href="".concat(y).concat(C);else if(M==="wx_app"&&R&&c&&O==="imgText")y=c?"":k==="student"?"".concat(V):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(y).concat(C)});else if(y=c?"":k==="student"?"".concat(V):"#",h){var z=window.open("","_blank");setTimeout(()=>{z.location="".concat(y).concat(C)},100)}else window.open("".concat(y).concat(C),v)},$.Z=u},99891:function(te,$,t){"use strict";var N=t(12924),f=t.n(N),W=t(28216),A=t(91768),T=t(37055),u=t(10237),x=t(60667);class C extends f().PureComponent{constructor(c){super(c);this.getWaterMarkText=m=>{var h=this.props.userInfo,w=h.jobNumber,v=localStorage.getItem("waterMarkPostName"),P=[],k=m.find(D=>D.type==="content_setting"),g=m.find(D=>D.type==="content_custom");return k.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),g.param.checked==="true"&&g.param.comment[0]!==""&&this.setState({commentText:g.param.comment[0]}),k.param.comment.indexOf("position")!==-1&&v&&v!==""&&P.push("".concat(v)),k.param.comment.indexOf("jobnumber")!==-1&&w&&w!==""&&P.push("".concat(w)),P.join("-")},this.getWaterMarkApplication=m=>{var h=this.props.scenes,w=m.find(v=>v.type==="application_scenario");w.param.comment.indexOf(h)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=m=>{var h=m.find(w=>w.type==="dispersive");this.setState({isDispersive:h.param.checked==="true"})},this.getDynamicSet=()=>{var m=T.ZP.advancedSetting.dynamicWaterMarkNew(),h={access_token:window.localStorage.getItem("token")};u.WY.get({url:m,params:h}).then(w=>{var v=JSON.parse(w.data.actions);this.setState({waterMarkText:this.getWaterMarkText(v),actions:v}),this.getWaterMarkApplication(v),this.getWaterIsDispersive(v)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var c=localStorage.getItem("waterMarkPostName");c===""||c===null?this.getPostName():this.getDynamicSet()}getPostName(){var c=T.ZP.advancedSetting.getPostName();u.WY.get({url:c}).then(m=>{localStorage.setItem("waterMarkPostName",m.data.post_names[0]||""),this.getDynamicSet()})}render(){var c=this.state,m=c.showWaterMark,h=c.waterMarkCount,w=c.isUserName,v=c.isDispersive,P=c.waterMarkText,k=c.actions,g=c.commentText,D=this.props.userInfo,y=D.name,I=D.unionid,B=D.sourceType;return f().createElement("div",{className:"common-watermark"},m&&new Array(h).fill(0).map((L,F)=>f().createElement("div",{key:F,className:"common-watermark-item ".concat(v?"isDispersive":"")},f().createElement("span",{className:"common-watermark-item-content"},g!==""&&f().createElement("span",{className:"item-part"},g),w&&f().createElement("span",null,g!==""&&f().createElement("span",null,"-"),f().createElement(x.Z,{dataType:"userName",value:I,name:y,type:B})),f().createElement("span",{className:"item-part"},(w||g!=="")&&P!==""&&f().createElement("span",null,"-"),P)))))}}var O=r=>({userInfo:r.user});$.Z=(0,W.$j)(O)((0,A.Z)()(C))},60667:function(te,$,t){"use strict";t.d($,{Z:function(){return C}});var N=t(33565),f=t(12924),W=t.n(f),A=t(28216);function T(O){var r=O.type,c=O.openid,m=O.from,h=(0,f.useRef)(null);return(0,f.useLayoutEffect)(()=>{m==="vue"?window.parent.WWOpenData.bind(h.current):WWOpenData.bind(h.current)}),W().createElement("ww-open-data",{ref:h,type:r,openid:c})}var u=O=>{var r=O.wxWorkApiFlag,c=O.appType,m=O.from,h=(0,f.useState)(!1),w=(0,N.Z)(h,2),v=w[0],P=w[1];(0,f.useEffect)(()=>{var D=localStorage.getItem("qyWechatBook");(c!=="wx_app"||r||D==="false"||m==="vue"||m==="taro")&&P(!0)},[r,c,m]);var k=(0,f.useCallback)(()=>{var D=O.type,y=O.value,I=O.name,B=I===void 0?"":I;switch(console.warn(O,"props"),D){case"wx_sync":{var L=O.dataType;return y?W().createElement(T,{from:m,type:L,openid:y}):B}default:return B}},[O]),g=()=>{var D=O.name,y=O.dataType,I=localStorage.getItem("qyWechatBook");if(y===""||I==="false")return D;if(m==="vue"||m==="taro")return k();switch(O.appType){case"wx_app":return k();default:return D}};return v?g():O.name};u.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var x=O=>({appType:O.user.appType,wxWorkApiFlag:O.user.wxWorkApiFlag}),C=(0,A.$j)(x)(u)},76466:function(te,$,t){"use strict";t.d($,{Z:function(){return mt}});var N=t(20228),f=t(11382),W=t(57663),A=t(71577),T=t(62029),u=t(57361),x=t(9754),C=t.n(x),O=t(12924),r=t.n(O),c=t(91512),m=t(68654),h=t(91768),w=t(4412),v=t.n(w);class P extends r().Component{render(){var s=this.props.t;return r().createElement("div",{className:"net-preview"},r().createElement("div",{className:"net-preview-center"},r().createElement("img",{src:v(),alt:"picture"}),r().createElement("h2",null,s("localStorage.tip")),r().createElement("p",null,s("localStorage.banPreview"))))}}var k=(0,h.Z)()(P),g=t(88986),D=t(34792),y=t(48086),I=t(28216),B=t(21594),L=t(41225),F=t(10237),V=(G,s)=>(0,g.Z)({id:G||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),M=V;class R extends O.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var i=this.props,a=i.onVideoReady,e=a===void 0?()=>{}:a,n=i.playerConfig,o=i.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,g.Z)((0,g.Z)({},n),{},{contentType:o==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:n.source,autoplay:n.autoplay,width:n.width,id:n.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:l=>{l.on("sourceloaded",p=>{var d=p.paramData,_=d.desc,b=d.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(_,b,n.id)}),l.on("ready",()=>{e()}),this.playerInstance=l,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,e=s.onTimeUpDate,n=e===void 0?()=>{}:e,o=s.onEnd,l=o===void 0?()=>{}:o,p=s.onPause,d=p===void 0?()=>{}:p,_=s.onError,b=_===void 0?()=>{}:_,U=this.playerInstance;U.on("play",()=>{a()}),U.on("pause",()=>{d()}),U.on("timeupdate",E=>{n(E)}),U.on("ended",()=>{l()}),U.on("error",(0,u.Z)(C().mark(function E(){return C().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:b();case 1:case"end":return K.stop()}},E)})))}render(){var s=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:s.id}))}}R.playerInstance=null,R.defaultProps={playerConfig:M(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var Z=R,z=(G,s)=>(0,g.Z)({id:G||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),Y=z;class X extends O.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var i=this.props,a=i.playerConfig,e=i.onVideoReady,n=e===void 0?()=>{}:e;this.player=new Aliplayer(a,o=>{o.on("sourceloaded",l=>{var p=l.paramData,d=p.desc,_=p.definition;o.getComponent("VideoQuality")&&o.getComponent("VideoQuality").setCurrentQuality(d,_,a.id)})}),this.player.on("ready",()=>{n()})},this.setPlayerConfig=()=>{var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,e=s.onTimeUpDate,n=e===void 0?()=>{}:e,o=s.onEnd,l=o===void 0?()=>{}:o,p=s.onPause,d=p===void 0?()=>{}:p,_=s.onError,b=_===void 0?()=>{}:_;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{d()}),this.player.on("timeupdate",U=>{n(U)}),this.player.on("ended",()=>{l()}),this.player.on("error",(0,u.Z)(C().mark(function U(){return C().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:b();case 1:case"end":return S.stop()}},U)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}X.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:Y()};var Q=X;class H{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,i){var a=i._options&&i._options.language,e=i._el.id;this.isEn=a&&a==="en-us";var n=(0,B.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),o=(0,B.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),l=document.querySelector("#".concat(e," .prism-controlbar"));l.appendChild(n),s.appendChild(o)}setCurrentQuality(s,i,a){var e=document.querySelector("#".concat(a," .current-quality"));e.innerText=s,e.dataset.def=i,this.definition=i;var n=document.querySelector("#".concat(a," .quality-list")),o=n.querySelector(".current");o&&(o.className="");var l=n.querySelector('li[data-def="'.concat(i,'"]'));l&&(l.className="current")}created(s){this._urls=s._urls;var i=s._el.id,a=document.querySelector("#".concat(i," .current-quality")),e=document.querySelector("#".concat(i," .quality-list")),n=document.querySelector("#".concat(i," .quality-modal")),o=this._urls.map(d=>'<li data-def="'.concat(d.definition,'">').concat(d.desc,"</li>"));if(e.innerHTML=o.join(""),this.hasCreated==!1&&this.definition){var l=e.querySelector('li[data-def="'.concat(this.definition,'"]'));l.className="current"}this.hasCreated=!0;var p=null;a.onclick=()=>{e.style.display="block"},a.onmouseleave=()=>{p=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(p)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=d=>{var _=d.target,b=_.dataset.def,U=_.innerText;if(b&&_.className!=="current"){var E=this._urls.find(S=>S.definition===b);s.loadByUrl(E.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(E.desc,E.definition,i),n.style.display="block",n.querySelector("span.current-quality-tag").innerText=E.desc}this.getQuality(b,U)}}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .quality-modal"));a.style.display="none";var e=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));e&&e.classList.add("player-hidden")}}class le{createEl(s,i){var a=i._el.id,e=(0,B.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),n=document.querySelector("#".concat(a," .prism-controlbar"));n.appendChild(e)}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .current-rate")),e=document.querySelector("#".concat(i," .rate-list")),n=null,o=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));o&&o.classList.add("player-hidden"),a.onclick=()=>{e.style.display="block"},a.onmouseleave=()=>{n=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(n)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=l=>{var p=l.target,d=p.dataset.rate;if(d){if(s.setSpeed(d),p.className!=="current"){var _=e.querySelector(".current");_&&(_.className=""),p.className="current"}e.style.display="none",a.innerText="".concat(d,"x")}}}}var se=t(69164),ve=t(37055);function ue(G){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=ve.ZP.local.getLocalUrl(G);return F.WY.get({url:i,params:s})}var Ce=t(91648),ye=t(18329),Ee=t(38642),Ne=t(9849),Ie=t(99891);class We extends O.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Ze=We,Ve=G=>({userInfo:G.user});class Be extends O.Component{constructor(s){var i;super(s);i=this,this.onVideoReady=a=>{var e=this.props,n=e.resourceInfo,o=e.mode,l=e.autoPlay,p=e.t,d=n.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(o==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),o==="preview"&&l&&this.play.play()):d==="ALIBABA_PRIVATE"||d==="LOCAL"?this.updateSource("resetPlayer"):(F.WY.logger({keyword:"video",moduleName:"video-play",msg:p("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,e=a.draggable,n=a.mode,o=a.t,l=a.studyInfo,p=a.needCurrentTime,d=a.onCurrentTime,_=d===void 0?()=>{}:d,b=l.studyType,U=l.studyId,E=l.resourceId,S=this.state,K=S.showPreventHang,J=S.dragSwitch,q=S.showRandomAlert,ee=S.randomAlertDialogVisible,j=this.playingVideo,oe=j.oneTime,ie=j.popupWindowCount,ne=j.maxPlayTime,fe=j.progress,de=j.auditionLength,pe=j.auditionType,me=j.duration,he=j.recentStart,ae=this.play.getCurrentTime(),re=(K==="OPEN"||q==="OPEN")&&ie>0;if(p&&_(ae),de>0&&pe===2&&ae>de&&(this.play.seek(de),y.default.warning(o("component.haveALookOverTip")),this.play.pause()),n==="learn"&&re){var Pe=me-oe*ie;if(ie>0&&ae>Pe)if(this.play.pause(),q==="OPEN"){if(!ee){var ge=(0,Ce.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:ge},()=>{(0,L.qp)({popupId:ge,planId:U,resourceId:E,type:"popup_start"})}),this.play.exitFull()}}else K==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((e||fe===100)&&(ae>0&&(this.playingVideo.recentStart=ae),!((b==="enterprise"||b==="studyProject")&&J==="OPEN")))return!1;ae>ne?ae-he>2?(this.playingVideo.recentStart=ne,this.play.seek(ne),y.default.warning(o("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ae,this.playingVideo.maxPlayTime=ae):ae>0&&ae>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ae)},this.onPlay=()=>{var a=this.props,e=a.mode,n=a.onPlay,o=n===void 0?()=>{}:n;o();var l=this;e==="learn"&&!l.timer&&(l.timer=setTimeout(function p(){l.saveProgress(),clearTimeout(l.timer),l.timer=setTimeout(p,2e4)},2e4))},this.onPause=()=>{var a=this.props,e=a.studyInfo,n=a.mode,o=e.studyType;clearTimeout(this.timer),this.timer=null,n==="learn"&&(o==="platform"||o==="enterprise"||o==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var e=this.props.resourceInfo,n=e.storageType;(n==="ALIBABA_PRIVATE"||n==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,e=a.showPreventHang,n=a.showRandomAlert,o=this.props,l=o.t,p=o.playingVideo,d=o.studyInfo,_=o.autoPlay,b=p.recentStart,U=p.duration,E=p.progress,S=d.studyType,K=(e==="OPEN"||n==="OPEN")&&(S==="studyTask"||S==="enterprise"||S==="studyProject")&&E<100;K?(n==="OPEN"?this.setState({promptMessage:l("component.preventAlertTip"),dialogVisible:!0}):e==="OPEN"&&this.setState({promptMessage:l("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):_&&(this.play.play(),Math.ceil(b)<parseInt(U)&&this.play.seek(b))},this.playerShowPreventHang=()=>{var a=this.playingVideo,e=a.duration,n=a.recentStart,o=0;e>0&&e<180?(o=e/2,this.playingVideo.oneTime=o,n>=o?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):e>=180&&e<600?(o=e/3,this.playingVideo.oneTime=o,n>=2*o?this.playingVideo.popupWindowCount=0:n>=o?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(o=e/4,this.playingVideo.oneTime=o,n>=3*o?this.playingVideo.popupWindowCount=0:n>=2*o?this.playingVideo.popupWindowCount=1:n>=o?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,e=a.playingVideo,n=a.mode;if(n==="learn"){this.playingVideo=(0,g.Z)({},e);var o=e.duration,l=e.progress;this.playingVideo.hasFinished=parseInt(l)===100,this.playingVideo.maxPlayTime=parseInt(o)*parseInt(l)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,u.Z)(C().mark(function a(){var e,n,o,l,p,d,_,b,U,E,S,K,J,q,ee,j,oe,ie,ne,fe,de,pe,me,he;return C().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(e=i.state,n=e.speedSwitch,o=e.dragSwitch,l=e.whiteList,p=i.props,d=p.resourceInfo,_=p.showQuality,b=d.contentType,U=d.storageType,E=d.source,S=d.playId,K=d.playerId,J=d.showFullScreen,q=J===void 0?!0:J,ee=Y(K),ee.components=[],j=typeof E=="object"&&E.hasOwnProperty("FD")&&E.FD.indexOf("m3u8")===-1,_&&j&&b!=="mp3"&&(U&&U==="PUBLIC_CLOUD"||!U)&&ee.components.push({name:"VideoQuality",type:H,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),n==="OPEN"&&ee.components.push({name:"VideoRate",type:le}),q&&(oe=ee.skinLayout.find(Pe=>Pe.name==="controlBar"),oe&&oe.children.splice(oe.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ee.components.push({name:"VideoWaterMark",type:Ze}),ie=E.FD,ne=E.OD,ie.indexOf("http://")>-1&&(ie=ie.replace("http://","https://")),ne.indexOf("http://")>-1&&(ne=ne.replace("http://","https://")),fe=l.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",E.OD=ne&&ne.indexOf(fe)>-1&&ne.indexOf(".mp4")>-1?ne:ie,E.FD=ie,de=typeof E!="string"?JSON.stringify(E):E,ee.source=de,o==="OPEN"&&(ee.disableSeek=!0),U!=="ALIBABA_PRIVATE"){re.next=32;break}return re.next=22,(0,L.BR)(S);case 22:if(pe=re.sent,!pe){re.next=28;break}ee.source=pe,ee.vodRetry=1,re.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),re.abrupt("return");case 30:re.next=38;break;case 32:if(U!=="LOCAL"){re.next=38;break}return re.next=35,ue(S);case 35:me=re.sent,he=me.data,he.code===0&&(ee.source="".concat(E.FD,"?auth_key=").concat(he.data.auth_key),ee.vodRetry=1);case 38:i.setState({playerConfig:ee});case 39:case"end":return re.stop()}},a)})),this.updateSource=function(){var a=(0,u.Z)(C().mark(function e(n){var o,l,p,d,_,b,U,E;return C().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(o=i.state.playerConfig,l=i.props.resourceInfo,p=l.storageType,d=l.source,_=l.playId,i.playingVideo.readyCount=0,p!=="ALIBABA_PRIVATE"){K.next=16;break}return K.next=7,(0,L.BR)(_);case 7:if(b=K.sent,!b){K.next=12;break}Object.assign(o,{source:b,vodRetry:1}),K.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),K.abrupt("return");case 14:K.next=22;break;case 16:if(p!=="LOCAL"){K.next=22;break}return K.next=19,ue(_);case 19:U=K.sent,E=U.data,E.code===0&&Object.assign(o,{source:"".concat(d.FD,"?auth_key=").concat(E.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:o},()=>{i.play.setupPlayer(n)});case 23:case"end":return K.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,e=a.studyInfo,n=a.userInfo,o=n.isLogin,l=n.enterpriseId,p=n.id,d=this.playingVideo,_=d.recentStart,b=d.duration,U=d.hasFinished,E=Math.ceil(+_);E>Number(b)&&(E=Number(b));var S=Math.ceil(E/+b*100);if((S>100||U)&&(S=100),o){var K=this.playingVideo,J=K.auditionType,q=K.auditionLength;if(q>0&&J===2){var ee=Math.ceil(q/b*100);ee<=S&&(S=ee,E=q)}(0,L.sH)({studyInfo:e,progress:S,recent_start:E,enterpriseId:l,userId:p}).then(j=>{j&&j.data&&(0,se.Z)(j.data.integral_info||"")})}},this.getInfoFromSettings=(0,u.Z)(C().mark(function a(){var e,n,o,l,p,d,_,b,U;return C().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return e=i.props.studyInfo,n=e.studyType,o=e.projectId,S.next=4,(0,L.Gw)();case 4:if(l=S.sent,p=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],d=(0,B.RG)(l,p),n!=="studyProject"){S.next=14;break}return S.next=10,(0,Ne.NU)({id:o});case 10:_=S.sent,b=_.status,U=_.data,b===200&&(d.showPreventHang=U.prevent_cut_screen?"OPEN":"CLOSED",d.speedSwitch=U.speed_play?"OPEN":"CLOSED",d.dragSwitch=U.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(d,()=>{i.dealVideoConfig()});case 15:case"end":return S.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,e=a===void 0?"":a;this.setState({showAudioPoster:e==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,e=this.play.playerContainer;a&&e&&(e.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),e.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,e=this.playingVideo.recentStart,n=this.props.t;a==="know"?(this.play.play(),this.play.seek(e),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:n("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,u.Z)(C().mark(function a(){var e,n,o,l;return C().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=i.props.studyInfo,n=e.studyId,o=e.resourceId,l=i.state.randomAlertUUID,(0,L.qp)({popupId:l,planId:n,resourceId:o,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return d.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,e=this.props.t;return r().createElement(A.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},e(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return r().createElement(A.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:Y(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ee.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var i=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,i=s.playerConfig,a=s.showPrivateVodError,e=s.dialogVisible,n=s.dialogModal,o=s.promptMessage,l=s.randomAlertDialogVisible,p=s.randomAlertModal,d=s.randomAlertTip,_=s.encryptedSwitch,b=this.props,U=b.resourceInfo,E=b.t,S=_==="OPEN"?Z:Q;return r().createElement(O.Fragment,null,r().createElement(S,(0,T.Z)({ref:this.getPlayInstance},U,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),r().createElement(ye.ZP,(0,T.Z)({visible:e},n,{footer:this.renderFooter()}),r().createElement("div",{className:"video-business-prompt"},o)),r().createElement(ye.ZP,(0,T.Z)({visible:l},p,{footer:this.renderRandomFooter()}),r().createElement("div",{className:"video-player-container__prompt"},d)),a&&r().createElement("div",{className:"video-business-vod-error"},E("privateCloud.docReadError")),r().createElement(Ie.Z,{scenes:"video"}))}}var xe=(0,I.$j)(Ve,null,null,{forwardRef:!0})((0,h.Z)("translation",{withRef:!0})(Be)),je=t(94184),_e=t.n(je),we=t(84874),Fe=G=>({userInfo:G.user}),Ke={getPravateDocUrl:ve.ZP.localStorage.getPravateDocUrl};function ze(G){return JSON.stringify(G,(s,i)=>(typeof i=="function"&&(i=i.toString()),i))}function He(G){var s=parseInt(parseInt(G,10)/60,10),i=parseInt(parseInt(G,10)%60,10);return s<10&&(s="0".concat(s)),i<10&&(i="0".concat(i)),"".concat(s,":").concat(i)}class Ae extends O.Component{constructor(s){var i;super(s);i=this,this.messageFun=a=>{var e=this.props,n=e.docType,o=e.progress,l=e.studyTimeLimit,p=e.studyTime,d=this.state,_=d.jumpPageTag,b=d.totalTime,U=d.timeRemaining,E=this.state.previewDocData,S={};try{S=JSON.parse(a.data)}catch(K){return}switch(S.action){case"preview.ready":this.initDocData();break;case"preview.meta":E.totalPage=S.data.pc||1,E.currentPage=1,this.setState({previewDocData:E},()=>{this.reportStatusInterval()}),l>0?(this.saveProgress(o,p||"1",S.data.pc||1),this.setState({showCountDownContainer:!0})):n==="xlsx"||n==="xls"||E.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(o,p||"1",S.data.pc||1),l>0&&o<100?(this.setState({showCountDown:!0}),n==="xlsx"||n==="xls"?b=l:b=l*S.data.pc,U=parseInt(b*(1-o/100),10),this.setState({timeRemaining:U,totalTime:b},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(_){_=!1,this.setState({jumpPageTag:_});return}E.currentPage=S.data.pageIndex+1,this.setState({previewDocData:E}),l||this.saveProgress(Math.ceil(E.currentPage/E.totalPage*100),E.currentPage,E.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":y.default.error(S.data.result);break;default:break}},this.initDocData=(0,u.Z)(C().mark(function a(){var e,n,o,l,p,d,_,b,U,E,S,K,J,q;return C().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(i.setState({isShowPrivateError:!1}),e=i.props,n=e.docType,o=e.userInfo,l=e.documentWatermarkSettings,p=e.storageType,d=e.privateDocId,_=o.name,b=o.jobNumber,U=o.position,E="",S={},p!=="ALIBABA_PRIVATE"){j.next=18;break}return j.prev=6,K=Ke.getPravateDocUrl(d),j.next=10,F.WY.get({url:K});case 10:J=j.sent,q=J.data,q.code===0?S=q.data||{}:i.setState({isShowPrivateError:!0}),j.next=18;break;case 15:j.prev=15,j.t0=j.catch(6),i.setState({isShowPrivateError:!0});case 18:if(l.indexOf("name")>-1&&(E="".concat(E+_," ")),l.indexOf("position")>-1&&(E="".concat(E+U," ")),l.indexOf("jobnumber")>-1&&(E+=b),E.length>0?window.sendMessage("preview.init",(0,g.Z)({wmType:1,wmValue:E,wmColor:"rgba(192, 192, 192, 0.4)"},S)):window.sendMessage("preview.init",(0,g.Z)({},S)),n!=="xlsx"&&n!=="ppt"&&n!=="pptx"&&n!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(n==="ppt"||n==="pptx")){j.next=29;break}j.t1=window,j.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},j.t1.sendMessage.call(j.t1,"setConfig",j.t2),j.next=32;break;case 29:j.t3=window,j.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},j.t3.sendMessage.call(j.t3,"setConfig",j.t4);case 32:case"end":return j.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var e=this.state.previewDocData;e.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:e});var n=a/e.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(n),a,e.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,e=a.studyTimeLimit,n=a.studyTime,o=0;e===0&&(o=n-1>0?n-1:0),window.sendMessage("logic.toPage",{pageIndex:o})},this.docCountDown=()=>{var a=this.state.timeRemaining,e=this.state,n=e.totalTime,o=e.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,o.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var l=(n-a)/n*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(l),a,o.totalPage)},2e4)},this.saveProgress=(a,e,n)=>{var o=this.props.onSaveProgress;o&&o(a,e,n)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var e=this.state.previewDocData.currentPage;a&&a({currentPage:e})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,i)=>{var a=this.docReader.contentWindow;a.postMessage(ze({action:s,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,i=s.t,a=s.storageType,e=s.privateDocId,n=this.props.aliUrl,o=this.state,l=o.previewDocData,p=o.pageOperateContainerVisible,d=o.timeRemaining,_=o.showCountDown,b=o.showCountDownContainer,U=o.showPageOperateContainer,E=o.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(n="https://preview.imm.aliyuncs.com/index.html?docId=".concat(e)),r().createElement("div",{className:"doc-reader-container"},r().createElement("div",{className:"ali-doc-container",style:{paddingBottom:p?"56px":"0"}},r().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:n,id:"aliyunPreview",ref:this.dealPreviewRef}),b?r().createElement("div",{className:"ali-doc-container__countdown"},_?r().createElement("div",null,r().createElement(we.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),r().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",He(d)," "),i("component.canDone")):r().createElement("div",null,r().createElement(we.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,p?r().createElement("div",{className:"ali-doc__operate"},r().createElement("div",{className:_e()(["ali-doc__operate__content",U?"":"ali-doc__operate__hide-content"])},r().createElement("div",{className:"ali-doc__operate__pagination"},r().createElement("div",{className:"ali-doc__operate__pagination__pages"},l.currentPage," / ",l.totalPage),r().createElement("div",{className:"ali-doc__operate__pagination__toggle"},r().createElement("div",{className:"ali-doc__operate__pagination__choose"},r().createElement("span",null,i("component.choosePage"),r().createElement(we.Z,{iconClass:"iconf-arrow-under",size:"14px"})),r().createElement("div",{className:"ali-doc__operate__page-list-container"},r().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),r().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:l.totalPage})).map((S,K)=>r().createElement("li",{key:S,onClick:()=>this.handleJumpPage(K+1)},K+1))))),r().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),r().createElement("div",{className:_e()("ali-doc__operate__unfold",U?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,E&&r().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),r().createElement(Ie.Z,{scenes:"document"}))}}Ae.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var $e=(0,I.$j)(Fe)((0,h.Z)()(Ae)),Ye=G=>({userInfo:G.user}),Qe="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ge="".concat("https://doc.coolcollege.cn");class Je extends r().Component{constructor(s){var i;super(s);i=this,this.onSaveProgress=(a,e,n)=>{var o=this.props,l=o.mode,p=o.studyInfo,d=o.userInfo,_=d.enterpriseId,b=d.id;l==="learn"&&(0,L.sH)({studyInfo:p,progress:a,page_count:n,recent_start:e,enterpriseId:_,userId:b}).then(U=>{U&&U.data&&(0,se.Z)(U.data.integral_info||"")})},this.messageFun=function(){var a=(0,u.Z)(C().mark(function e(n){var o,l,p,d,_,b;return C().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(n.data!=="local-resource"){E.next=9;break}if(o=i.props.resourceInfo,l=o.storageType,p=o.playId,!(l&&l==="LOCAL")){E.next=9;break}return E.next=6,ue(p);case 6:d=E.sent,_=d.data,_.code===0&&(b=document.getElementById("local-resource-box"),b.contentWindow.postMessage({msg:"local-auth-key",authKey:_.data.auth_key},"*"));case 9:case"end":return E.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,u.Z)(C().mark(function a(){var e,n,o;return C().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,L.Gw)();case 2:e=p.sent,n=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],o=(0,B.RG)(e,n),i.setState(o,()=>{i.initDocPage(i.props)});case 6:case"end":return p.stop()}},a)})),this.initDocPage=(0,u.Z)(C().mark(function a(){var e,n,o,l,p,d,_,b,U,E,S,K,J,q,ee,j,oe,ie,ne,fe,de,pe,me,he,ae,re,Pe,ge,Re,De,Te,Se,Oe,Ue,be=arguments;return C().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(e=be.length>0&&be[0]!==void 0?be[0]:{},n=e.resourceInfo,o=e.mode,l=e.studyInfo,p=e.userInfo,d=i.state.documentPlayerMode,_=n.docType,b=n.docTitle,U=n.url,E=n.studyTimeLimit,S=n.studyTime,K=n.aliUrl,J=n.progress,q=n.storageType,ee=n.playId,j=l.studyType,oe=l.courseId,ie=l.studyId,ne=l.resourceId,fe=p.enterpriseId,de=p.id,pe=p.isLogin,me=p.token,he=d==="compat"&&K.indexOf("preview.imm.aliyun")>-1||q==="ALIBABA_PRIVATE",!he){ce.next=11;break}i.setState({showAliReader:!0}),ce.next=31;break;case 11:if(ae=(0,L.sH)({enterpriseId:fe,userId:de,token:me,studyInfo:l},!0),re=j==="studyTask"?2:1,Pe=ve.ZP.SaveProgress.reportStatusInterval(l),ge={isSaveProgress:pe&&o==="learn"&&ae,isSaveRecord:!1,access_token:me,userId:de,hostUrl:Qe,courseId:oe,resourceId:ne,courseType:1,planId:ie,studyTimeLimit:E,studyTime:S,saveProgressUrl:ae,type:"eapp",progress:J,saveRecordProgressUrl:Pe,actionType:re},!(q&&q==="LOCAL")){ce.next=26;break}return ce.next=18,ue(ee);case 18:if(Re=ce.sent,De=Re.data,De.code!==0){ce.next=25;break}ge.auth_key=De.data.auth_key,ge.url=U,ce.next=26;break;case 25:return ce.abrupt("return");case 26:Te=JSON.stringify(ge),Se="".concat(b,".").concat(_).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),Oe="".concat(Ge,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Te),"&furl=").concat(U,"?attname=").concat(Se),q&&q==="LOCAL"&&(Ue="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),Oe="".concat(Ue,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Te),"&furl=").concat(U,"?attname=").concat(Se)),i.setState({encodeUrl:Oe});case 31:case"end":return ce.stop()}},a)})),this.handleReportStatusInterval=a=>{var e=a.currentPage,n=this.props,o=n.resourceInfo,l=n.mode,p=n.studyInfo,d=n.userInfo,_=o.type,b=p.courseId,U=p.studyId,E=p.resourceId,S=d.enterpriseId,K=d.id,J=d.isLogin,q="",ee="",j=0,oe=!1;switch(_){case"enterprise":j=1,oe=!0;break;case"study":q=U,j=2,oe=!0;break;case"project":ee=U,j=1,oe=!0;break;default:break}if(!(!oe||!J)){var ie={plan_id:q,enterprise_id:S,user_id:K,course_id:b,project_course_id:ee,resource_id:E,current_page:e,action_type:j,send_time:Date.parse(new Date)};l==="learn"&&(0,L.Xc)(p,ie)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,i=this.state,a=i.encodeUrl,e=i.documentWatermarkSettings,n=i.showAliReader,o=s.docType,l=s.type,p=s.studyTimeLimit,d=s.studyTime,_=s.aliUrl,b=s.progress,U=s.storageType,E=s.playId;return n?r().createElement($e,{privateDocId:E,storageType:U,aliUrl:_,docType:o,progress:b,studyTime:d,studyTimeLimit:p,documentWatermarkSettings:e,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:l}):r().createElement("div",{className:"doc-reader-container"},r().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),r().createElement(Ie.Z,{scenes:"document"}))}}var Xe=(0,I.$j)(Ye)(Je),ht=t(38979),qe=t(90706),vt=t(12968),et=t(44208),ke=t(60667),tt=G=>({userInfo:G.user});class Le extends r().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,a=i.studyInfo,e=i.mode,n=i.userInfo,o=n.enterpriseId,l=n.id;e==="learn"&&(0,B.Gp)({studyInfo:a,enterpriseId:o,userId:l})},this.getInfoFromSettings=(0,u.Z)(C().mark(function i(){var a,e,n;return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,L.Gw)();case 2:a=l.sent,e=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],n=(0,B.RG)(a,e),s.setState(n,()=>{s.renderWatermark()});case 6:case"end":return l.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.imageWatermark,e=i.name,n=i.unionid,o=i.sourceType,l=i.jobNumber,p=i.position,d=[];a.indexOf("name")>-1&&d.push(r().createElement(ke.Z,{dataType:"userName",value:n,name:e,type:o})),a.indexOf("position")>-1&&d.push(r().createElement("span",null,p)),a.indexOf("jobnumber")>-1&&d.push(r().createElement("span",null,l)),a.length>0&&this.setState({watermark:d.map((_,b)=>r().createElement("span",{key:b},_))})},this.handleError=i=>{var a=this.props.onError;a&&a(i)},this.getImageUrl=(0,u.Z)(C().mark(function i(){var a,e,n,o,l,p,d,_,b,U;return C().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(a=s.props,e=a.resourceInfo,n=a.t,o=e.playId,l=e.url,p=e.storageType,d=l,!p){S.next=21;break}if(p!=="ALIBABA_PRIVATE"){S.next=15;break}return S.next=7,(0,L.J7)(o);case 7:if(_=S.sent,!_){S.next=12;break}d=_,S.next=13;break;case 12:return S.abrupt("return",y.default.info(n("privateCloud.docReadError")));case 13:S.next=21;break;case 15:if(p!=="LOCAL"){S.next=21;break}return S.next=18,ue(o);case 18:b=S.sent,U=b.data,U.code===0&&(d="".concat(l,"?auth_key=").concat(U.data.auth_key));case 21:s.setState({imageUrl:[d]},()=>{var K=s.state.imageUrl,J="image-business",q=document.querySelectorAll(".".concat(J,"-image img"));q.forEach((ee,j)=>{ee.onerror=()=>{s.handleError(K[j])}})});case 22:case"end":return S.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",i=this.props.resourceInfo,a=i.preview,e=a===void 0?!1:a,n=this.state,o=n.watermark,l=n.imageUrl;return r().createElement("div",{className:s},r().createElement(Ie.Z,{scenes:"image"}),r().createElement(qe.Z,{className:"".concat(s,"-carousel")},l.map((p,d)=>r().createElement("div",{className:"".concat(s,"-image"),key:d.toString()},r().createElement(et.Z,{src:p,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:e})))))}}Le.defaultProps={prefixCls:"watch-image-page"};var rt=(0,I.$j)(tt)((0,h.Z)()(Le)),at=G=>({userInfo:G.user});class st extends r().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,u.Z)(C().mark(function i(){var a,e,n;return C().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,L.Gw)();case 2:a=l.sent,e=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],n=(0,B.RG)(a,e),s.setState(n,()=>{s.renderWatermark()});case 6:case"end":return l.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.htmlWatermark,e=i.name,n=i.unionid,o=i.sourceType,l=i.jobNumber,p=i.position,d=[];a.indexOf("name")>-1&&d.push(r().createElement(ke.Z,{dataType:"userName",value:n,name:e,type:o})),a.indexOf("position")>-1&&d.push(r().createElement("span",null,p)),a.indexOf("jobnumber")>-1&&d.push(r().createElement("span",null,l)),a.length>0&&this.setState({watermark:d.map((_,b)=>r().createElement("span",{key:b},_))})},this.saveProgress=()=>{var i=this.props,a=i.studyInfo,e=i.mode,n=i.userInfo,o=n.enterpriseId,l=n.id;e==="learn"&&(0,B.Gp)({studyInfo:a,enterpriseId:o,userId:l})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",i=this.props.resourceInfo,a=i.url,e=this.state.watermark;return r().createElement("div",{className:s},r().createElement("div",{className:"".concat(s,"__html-watermark")},e),r().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:a}))}}var it=(0,I.$j)(at)((0,h.Z)()(st)),nt=t(57068),ot=t(1164),lt=G=>({userInfo:G.user});class ct extends r().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var i=s.split("//"),a=i[1].split("/");return[i[0],a[0]].join("//")},this.getScormUrl=()=>{var s=this.props,i=s.studyInfo,a=s.mode,e=s.userInfo,n=s.resourceInfo,o=s.from,l=e.enterpriseId,p=e.id,d=n.url,_=this.getHost(d);if(a==="learn"){var b=(0,g.Z)({userId:p,enterpriseId:l,access_token:localStorage.token,from:o,scormUrl:encodeURIComponent(d),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(_).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(nt.stringify(b))}return"".concat(_,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(d))},this.handleOpenScormLink=s=>{ot.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,i="scorm-business",a=this.getScormUrl(),e=(0,Ee.UI)("SCORM_EXTERNAL_WATCH");return r().createElement("div",{className:i},e?r().createElement("div",{className:"".concat(i,"_scorm")},r().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),r().createElement("h5",null,s("resourcePlay.scormTip")),r().createElement(A.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},s("resourceLibrary.h5LinkPlayButton"))):r().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:a}))}}var dt=(0,I.$j)(lt)((0,h.Z)()(ct));class ut extends r().Component{render(){var s=this.props,i=s.visible,a=s.title,e=s.onCancel,n=s.t,o=r().createElement("span",null,a);return r().createElement(ye.ZP,{visible:i,title:o,onCancel:e,footer:null},r().createElement("div",{className:"ban-preview"},r().createElement("div",{className:"ban-preview-center"},r().createElement("img",{src:v(),alt:"picture"}),r().createElement("h2",null,n("localStorage.tip")),r().createElement("p",null,n("localStorage.banPreview"))),r().createElement("hr",null),r().createElement(A.Z,{type:"primary",className:"know",onClick:e},n("localStorage.onKnow"))))}}var pt=(0,h.Z)()(ut);class Me extends O.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var a=this.props.previewInfo,e=a.onCancel;this.onCancel(),e(i)},this.onGetVideoBusiness=i=>{var a=this.props.onRef,e=a===void 0?()=>{}:a;this.videoBusiness=i,e(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,u.Z)(C().mark(function i(){var a,e,n,o,l,p,d,_,b,U,E,S=arguments;return C().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(a=S.length>0&&S[0]!==void 0?S[0]:null,e=s.props,n=e.resourceInfo,o=e.watchType,l=n.storageType,p=n.playId,d=n.originUrl,_=o==="image"||o==="video"||o==="doc",b=null,a?b=a:d?b=d:b=n.url,!(_&&b&&p&&l&&l==="LOCAL")){J.next=22;break}return J.prev=7,J.next=10,(0,L.NY)(p);case 10:return U=J.sent,J.next=13,(0,L.Hy)(b,U);case 13:E=J.sent,E?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),J.next=20;break;case 17:J.prev=17,J.t0=J.catch(7),s.setState({showBan:"yes"});case 20:J.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return J.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,a=i.prefixCls,e=i.watchType,n=i.onCurrentTime,o=n===void 0?()=>{}:n;return r().createElement("div",{className:"".concat(a,"-outer")},e==="video"&&r().createElement(xe,(0,T.Z)({onCurrentTime:o,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),e==="doc"&&r().createElement(Xe,this.props),e==="image"&&r().createElement(rt,(0,T.Z)({onError:this.handleJudgeNetwork},this.props)),e==="html"&&r().createElement(it,this.props),e==="scorm"&&r().createElement(dt,this.props))},this.renderFooter=()=>{var i=this.props,a=i.resourceInfo.storageType,e=i.t,n=this.state.showBan,o=n!==""&&n==="yes";return a&&a!=="PUBLIC_CLOUD"&&o?r().createElement(A.Z,{type:"primary",className:"know",onClick:this.onCancelModel},e("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,i=s.showBan,a=s.fullScreen,e=this.props,n=e.mode,o=e.previewWay,l=e.previewInfo,p=e.prefixCls,d=e.t,_=e.showEnlarge,b=e.footer,U=b===void 0?null:b,E=l.visible,S=l.destroyOnClose,K=l.title,J=i!==""&&i==="yes",q=i!==""&&i==="no";return r().createElement(O.Fragment,null,n==="preview"&&o==="popups"&&r().createElement(ye.ZP,{destroyOnClose:S,visible:E,title:K,onCancel:this.onCancelModel,footer:U||this.renderFooter(),wrapClassName:"".concat(p,"-resource ").concat(a?"".concat(p,"-full"):"")},_&&r().createElement("div",{className:"".concat(p,"-resource-out-icon"),onClick:this.onFullScreen},a?r().createElement(c.Z,{className:"".concat(p,"-resource-icon")}):r().createElement(m.Z,{className:"".concat(p,"-resource-icon")})),r().createElement("div",{className:"".concat(p,"-inner")},!E&&r().createElement(f.Z,{size:"large"}),E&&q&&this.renderOuter(),J&&r().createElement(k,null))),(n==="learn"||o==="page")&&q&&this.renderOuter(),(n==="learn"||o==="page")&&r().createElement(pt,{visible:J,title:K||d("questionn.warmHint"),onCancel:this.onCancel}))}}Me.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var mt=(0,h.Z)("translation",{withRef:!0})(Me)},41225:function(te,$,t){"use strict";t.d($,{Hy:function(){return u},NY:function(){return x},Gw:function(){return C},sH:function(){return c},BR:function(){return O},qp:function(){return m},Xc:function(){return h},J7:function(){return r}});var N=t(57361),f=t(9754),W=t.n(f),A=t(10237),T=t(37055),u=function(){var w=(0,N.Z)(W().mark(function v(){var P,k,g,D,y,I,B,L=arguments;return W().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return P=L.length>0&&L[0]!==void 0?L[0]:"",k=L.length>1&&L[1]!==void 0?L[1]:"",g="",P.startsWith("http")?(D=P.split("//")[1].trim(),y=D.split("/")[0],g="https://".concat(y,"/cms/ticket")):(I=P.split("/")[0],g="https://".concat(I,"/cms/ticket")),V.prev=4,V.next=7,A.ZQ.get({url:g,params:{ticket:k}});case 7:if(B=V.sent,!(B.status===200||B.status===403)){V.next=10;break}return V.abrupt("return",Promise.resolve(!0));case 10:return V.abrupt("return",Promise.resolve(!1));case 13:return V.prev=13,V.t0=V.catch(4),V.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return V.stop()}},v,null,[[4,13]])}));return function(){return w.apply(this,arguments)}}(),x=function(){var w=(0,N.Z)(W().mark(function v(P){var k,g;return W().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,A.ZQ.get({url:T.ZP.local.getTicket(P)});case 2:if(k=y.sent,g=k.data,g.code!==0){y.next=6;break}return y.abrupt("return",Promise.resolve(g.data.ticket));case 6:return y.abrupt("return",Promise.resolve(""));case 7:case"end":return y.stop()}},v)}));return function(P){return w.apply(this,arguments)}}(),C=function(){var w=(0,N.Z)(W().mark(function v(){var P;return W().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,A.WY.get({url:T.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return P=g.sent,g.abrupt("return",P.data.list);case 4:case"end":return g.stop()}},v)}));return function(){return w.apply(this,arguments)}}(),O=function(){var w=(0,N.Z)(W().mark(function v(P){var k,g,D;return W().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,A.WY.get({url:T.ZP.localStorage.getPravateVideoUrl(P)});case 2:if(k=I.sent,k.data.code!==0){I.next=6;break}return g=k.data.data.videoPlayInfo,D=g===void 0?"":g,I.abrupt("return",D);case 6:return I.abrupt("return","");case 7:case"end":return I.stop()}},v)}));return function(P){return w.apply(this,arguments)}}(),r=function(){var w=(0,N.Z)(W().mark(function v(P){var k,g,D;return W().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return k=T.ZP.localStorage.getPravateDocUrl(P),I.prev=1,I.next=4,A.WY.get({url:k});case 4:if(g=I.sent,D=g.data,!(D.code===0&&D.data)){I.next=8;break}return I.abrupt("return",D.data.docResourceDownloadUrl||"");case 8:return I.abrupt("return","");case 11:return I.prev=11,I.t0=I.catch(1),I.abrupt("return","");case 14:case"end":return I.stop()}},v,null,[[1,11]])}));return function(P){return w.apply(this,arguments)}}(),c=function(v){var P=v.studyInfo,k=v.progress,g=v.recent_start,D=v.page_count,y=v.enterpriseId,I=v.userId,B=v.token,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F,V=P.studyType;if(V==="studyTask"&&(F=T.ZP.SaveProgress.studySaveProgress(P)),(V==="course"||V==="enterprise")&&(F=T.ZP.SaveProgress.enterpriseCourseSaveProgress(P)),V==="studyProject"&&(F=T.ZP.SaveProgress.projectSaveProgress(P)),V==="platform"&&(F="".concat(T.ZP.SaveProgress.platformCourseSaveProgress(P))),(L||V==="platform")&&(F+="?enterprise_id=".concat(y,"&user_id=").concat(I)),L)return F+="&access_token=".concat(B||localStorage.getItem("token")),F;var M={progress:k,recent_start:g,tempTime:Date.parse(new Date)};return D&&(M.page_count=D),P.evaluationId&&(M.evaluation_id=P.evaluationId),A.WY.post({url:F,data:M})},m=w=>{var v=w.popupId,P=w.planId,k=w.resourceId,g=w.type;return A.WY.post({url:T.ZP.TaskStudyRecord.setRandomPopupRecord(P),data:{course_id:k,terminal_type:"PC",popup_id:v,type:g}})},h=(w,v)=>{var P=T.ZP.SaveProgress.reportStatusInterval(w);return A.WY.post({url:P,data:v})}},21594:function(te,$,t){"use strict";t.d($,{pu:function(){return T},RG:function(){return u},Gp:function(){return x},O8:function(){return C}});var N=t(88986),f=t(69164),W=t(38642),A=t(41225),T=O=>{var r="";switch(O){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":r="studyTask";break;case"enterprise":r="enterprise";break;case"courseProject":r="studyProject";break;case"platform":case"purchased":r="platform";break;default:break}return r},u=(O,r)=>{var c={};return r.forEach(m=>{var h=O.find(g=>g.type===m.type);if(h)if(m.type==="document_duration_limit"){var w=h.action_list,v=w.find(g=>g.type==="random_popup_verification");!(0,W.UI)("RANDOM_POPUP_VERIFY")||!v?c[m.name]="CLOSE":c[m.name]=v.param.checked==="true"?"OPEN":"CLOSE"}else if(m.type==="document_player"){var P=JSON.parse(h.actions);P.forEach(g=>{g.param.checked==="true"&&(c[m.name]=g.type)})}else if(m.type==="dynamic_watermark"){var k=h.action_list;k.forEach(g=>{g.type===m.resourceType&&g.param.checked==="true"&&(c[m.name]=g.param.comment)})}else c[m.name]=h.switch_status}),c},x=O=>{(0,A.sH)((0,N.Z)({progress:100,recent_start:1},O)).then(r=>{r&&r.data&&(0,f.Z)(r.data.integral_info||"")})},C=O=>{var r=document.createElement("div");return r.innerHTML=O,r.childNodes[0]}},87378:function(te,$,t){"use strict";t.r($);var N=t(57663),f=t(71577),W=t(20228),A=t(11382),T=t(12924),u=t.n(T),x=t(91768),C=t(57068),O=t(10237),r=t(37055),c=t(90565),m=t(4408),h={queryNotice:r.ZP.Notice.queryNotice};class w extends T.Component{constructor(){super(...arguments);this.state={isLoading:!0,content:{}},this.getDetail=P=>{O.WY.get({url:h.queryNotice(P),params:{source:"pc"}}).then(k=>{this.setState({content:k.data,isLoading:!1})})},this.cancel=()=>{this.props.history.push("/training/announcementNotice/notice")}}componentDidMount(){var P=C.parse(this.props.location.search),k=P.id;this.getDetail(k)}render(){var P=this.state,k=P.isLoading,g=P.content,D=this.props.t;return k?u().createElement(A.Z,{size:"large"}):u().createElement("div",{className:"notice-preview"},u().createElement(m.Z,{title:D("documentTitle.announcementPreview")}),u().createElement("div",{className:"notice-preview__content"},u().createElement("div",{className:"notice-preview__content__title"},g.title),u().createElement(c.Z,{editorState:g.context})),u().createElement("footer",{className:"notice-preview__footer"},u().createElement(f.Z,{onClick:this.cancel},D("common.return"))))}}$.default=(0,x.Z)()(w)},9849:function(te,$,t){"use strict";t.d($,{Ej:function(){return T},kL:function(){return u},T:function(){return x},NU:function(){return C},FL:function(){return O},fn:function(){return r},bm:function(){return c},jY:function(){return m},Vs:function(){return h},li:function(){return w},Nl:function(){return v},YF:function(){return P},Q6:function(){return k},zW:function(){return g},Zv:function(){return D},Qg:function(){return y},qc:function(){return I},Ve:function(){return L},rS:function(){return F},Rh:function(){return V}});var N=t(10237),f=t(37055),W=t(38642),A={zaraFlag:(0,W.UI)("ZARA_H5")};function T(M,R){var Z=f.ZP.StudyProjectList.startStudy(M);return N.WY.post({url:Z,data:R})}function u(M){var R=f.ZP.Common.enroll(M);return N.WY.post({url:R})}function x(M,R){var Z=M.courseId,z=f.ZP.StudyProjectList.studyProject(Z);return N.WY.get({url:z,params:R})}function C(M){var R=M.id,Z=A.zaraFlag?f.m1.getAssessmentProjectInfo(R):f.m1.getProjectInfo(R);return N.WY.get({url:Z})}function O(M){var R=M.courseId,Z=f.ZP.EnterpriseCourse.addScanCount(R);return N.WY.post({url:Z})}function r(){var M=f.ZP.StudyProjectList.getAccountInfo();return N.WY.get({url:M})}function c(M){var R=f.ZP.StudyProjectList.projectCertiUrl(M);return N.WY.get({url:R})}function m(M){var R=M.courseId,Z=f.ZP.Courses.like(R);return N.WY.post({url:Z})}function h(M){var R=f.ZP.EnterpriseCourse.addCommentAndScore();return N.qg.post({url:R,data:M})}function w(M){var R=f.ZP.EnterpriseCourse.getCourseComments();return N.WY.get({url:R,params:M})}function v(M){var R=f.ZP.EnterpriseCourse.addCommentAndScore();return N.qg.post({url:R,data:M})}function P(M){var R=f.ZP.EnterpriseCourse.deleteComment();return N.qg.post({url:R,data:M})}function k(M,R){var Z=f.ZP.StudyProjectList.projectStudyRecord(M);return N.WY.get({url:Z,params:R})}function g(M){var R=f.ZP.DingSpaceId.getSpaceId();return N.WY.get({url:R,params:M})}function D(M,R){var Z=f.ZP.PlatformCourse.learningUrl(M);return N.WY.get({url:Z,params:R})}function y(M){var R=f.ZP.MyExamTask.examIntro({examId:M});return N.WY.get({url:R})}function I(M){var R=f.ZP.MyExamTask.examCheckStatus({examId:M});return N.WY.get({url:R})}function B(M,R){var Z=CONFIG.Common.getOperateLog(M);return formDataRequest.get({url:Z,params:R})}function L(M,R){var Z=A.zaraFlag?f.ZP.StudyProjectList.changeCustomStatus(M):f.ZP.StudyProjectList.changeStatus(M);return N.WY.post({url:Z,data:R})}function F(M){var R=f.ZP.StudyProjectList.getProjectReward(M);return N.WY.get({url:R})}function V(M){var R=f.ZP.subsidyGz.subsidyCourseSetting(M);return N.WY.get({url:R})}},91648:function(te,$,t){"use strict";t.d($,{Z:function(){return N}});function N(f,W){var A,T,u,x,A;if(T="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),A=[],u=void 0,W=W||T.length,f)for(u=0;u<f;)A[u]=T[0|Math.random()*W],u++;else for(x=void 0,A[8]=A[13]=A[18]=A[23]="-",A[14]="4",u=0;u<36;)A[u]||(x=0|Math.random()*16,A[u]=T[u===19?x&3|8:x]),u++;return A.join("")}},67230:function(te,$,t){"use strict";t.d($,{J7:function(){return r},y5:function(){return c},km:function(){return m}});var N=t(57361),f=t(9754),W=t.n(f),A=t(37055),T=t(10237);function u(h){return x.apply(this,arguments)}function x(){return x=(0,N.Z)(W().mark(function h(w){var v,P,k;return W().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return v=A.ZP.localStorage.getPravateDocUrl(w),D.prev=1,D.next=4,T.WY.get({url:v});case 4:if(P=D.sent,k=P.data,!(k.code===0&&k.data)){D.next=8;break}return D.abrupt("return",k.data.docResourceDownloadUrl||"");case 8:return D.abrupt("return","");case 11:return D.prev=11,D.t0=D.catch(1),D.abrupt("return","");case 14:case"end":return D.stop()}},h,null,[[1,11]])})),x.apply(this,arguments)}function C(h){return O.apply(this,arguments)}function O(){return O=(0,N.Z)(W().mark(function h(w){var v,P,k;return W().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return v=A.ZP.localStorage.getPravateVideoUrl(w),D.prev=1,D.next=4,T.WY.get({url:v,params:{type:"source"}});case 4:if(P=D.sent,k=P.data,!(k.code===0&&k.data)){D.next=8;break}return D.abrupt("return",k.data.videoPlayInfo||"");case 8:return D.abrupt("return","");case 11:return D.prev=11,D.t0=D.catch(1),D.abrupt("return","");case 14:case"end":return D.stop()}},h,null,[[1,11]])})),O.apply(this,arguments)}var r=h=>u(h),c=h=>C(h);function m(h){var w=A.ZP.Common.downloadUrl(h);return T.WY.get({url:w})}},69164:function(te,$,t){"use strict";var N=t(34792),f=t(48086);function W(A){A&&A.length>0&&f.default.success(A)}$.Z=W},65202:function(te,$,t){"use strict";t.d($,{p:function(){return N}});function N(){return localStorage.getItem("themeColor")||"#516AE6"}},4412:function(te){te.exports="data:image/png;base64,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"}}]);
