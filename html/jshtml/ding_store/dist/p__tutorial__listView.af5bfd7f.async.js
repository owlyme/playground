(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4801],{30311:function(oe,H,e){"use strict";var E=e(22385),v=e(31097),V=e(12924),S=e.n(V),W=e(8812),_=e(28216),Z=T=>{var O=(0,_.v9)(s=>{var c=s.advancedSetting;return{themeColor:c.themeColor}}),r=O.themeColor;return S().createElement(v.Z,{placement:"top",title:T.name},S().createElement("span",{className:"cl-table__cell-arrow",onClick:T.onClick},S().createElement("span",{style:{color:r}},T.name),S().createElement("span",{className:"cl-table__cell-arrow-icon"},S().createElement(W.Z,null))))};H.Z=Z},4408:function(oe,H,e){"use strict";var E=e(12924),v=e.n(E),V=e(28216),S=e(17780),W=e(38642),_=T=>({userInfo:T.user}),Z=T=>{var O=T.title;return(0,S.xX)()&&setTimeout(()=>{document.title=O},0),(0,E.useEffect)(()=>{if(O&&document.title!==O&&setTimeout(()=>{document.title=O},0),(0,W.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[O]),v().createElement(v().Fragment,null)};Z.defautProps={title:""},H.Z=(0,V.$j)(_)(Z)},1164:function(oe,H,e){"use strict";var E=e(12924),v=e.n(E),V=e(76651),S=e(38642),W=e(91302),_=Z=>{var T=navigator.userAgent.toLocaleLowerCase(),O=localStorage.getItem("enterpriseId"),r=(0,S.lz)(O,Z.projectType),s=localStorage.getItem("dingPersonnel"),c=W.bl.includes(s),N=Z.target;function w(A){if(N==="self"&&(A.preventDefault(),V.m8.push(Z.to)),c){if(Z.projectType==="student"){window.location.href="".concat(r,"/").concat(Z.to);return}V.m8.push(Z.to);return}if(dd.version){A.preventDefault();var b="";Z.to.includes("?")?b="".concat(r).concat(Z.to,"&ddtab=true"):b="".concat(r).concat(Z.to,"?ddtab=true"),dd.biz.util.openLink({url:b})}else T.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(Z.to))}return v().createElement("a",{rel:"noreferrer",href:"".concat(Z.projectType==="student"?"".concat(r).concat(Z.to):"#".concat(Z.to)),className:"".concat(Z.wrapCls," cl-pointer"),target:T.indexOf("lark")!==-1||c?"_self":Z.target||"_blank",onClick:w},Z.children)};_.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},_.targetTo=Z=>{var T=Z.path,O=Z.from,r=Z.isExternalLink,s=r===void 0?!1:r,c=Z.isAsync,N=c===void 0?!1:c,w=Z.openName,A=w===void 0?"_blank":w,b=Z.projectType,f=b===void 0?"manage":b,I=Z.ddTab,R=I===void 0?!0:I,g,t=localStorage.getItem("dingPersonnel"),u=W.bl.includes(t),m=navigator.userAgent.toLocaleLowerCase(),p=localStorage.getItem("enterpriseId"),y=(0,S.lz)(p,f),M=localStorage.getItem("appType"),L=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var P="";if(g=s?"":y,u&&!s){if(f==="student"){window.location.href="".concat(y).concat(T);return}V.m8.push(T);return}T.includes("?")?P="".concat(g).concat(T,"&ddtab=").concat(R):P="".concat(g).concat(T,"?ddtab=").concat(R),dd.biz.util.openLink({url:P})}else if(m.indexOf("lark")!==-1)g=s?"":y,window.location.href="".concat(g).concat(T);else if(M==="wx_app"&&L&&s&&O==="imgText")g=s?"":f==="student"?"".concat(y):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(g).concat(T)});else if(g=s?"":f==="student"?"".concat(y):"#",N){var F=window.open("","_blank");setTimeout(()=>{F.location="".concat(g).concat(T)},100)}else window.open("".concat(g).concat(T),A)},H.Z=_},36202:function(oe,H,e){"use strict";e.d(H,{f:function(){return I}});var E=e(62029),v=e(57361),V=e(33565),S=e(9754),W=e.n(S),_=e(12924),Z=e.n(_),T=e(28175),O=e(41647),r=e(93485);function s(R){var g={};if(R.length===0)return g;var t=(0,r.Z)(R),u;try{for(t.s();!(u=t.n()).done;){var m=u.value,p=m,y=p.field,M=p.fixed,L=p.order,P=p.show;P?P==="true"||P===!0?g[y]={fixed:M,order:L,show:!0}:g[y]={fixed:M,order:L,show:!1}:g[y]={fixed:M,order:L,show:!0}}}catch(F){t.e(F)}finally{t.f()}return g}function c(R){var g=[],t=Object.entries(R);if(t.length===0)return g;for(var u=0,m=t;u<m.length;u++){var p=m[u],y=(0,V.Z)(p,2),M=y[0],L=y[1],P=L.fixed,F=L.order,$=L.show;g.push({field:M,show:$,fixed:P,order:F})}return g}var N=e(38642),w=(R,g)=>{var t=(0,_.useState)(R),u=(0,V.Z)(t,2),m=u[0],p=u[1];return(0,_.useEffect)(()=>{var y=setTimeout(()=>{p(R)},g);return()=>{clearTimeout(y)}},[R,g]),m},A=w;function b(R,g){var t=useRef(g);useEffect(()=>{t.current=g},[g]),useEffect(()=>{var u=m=>{var p,y;console.warn(R.current,"node.current",m.target),!((p=(y=R.current)===null||y===void 0?void 0:y.contains(m.target))!==null&&p!==void 0?p:!1)&&t.current&&t.current()};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[R])}var f=!1;function I(R){var g=(0,_.useState)({}),t=(0,V.Z)(g,2),u=t[0],m=t[1],p=R.prefixCls,y=R.rowKey,M=R.columnEmptyText,L=R.pagination,P=R.headerTitle,F=R.toolBarRender,$=R.size,z=R.loading,Y=z===void 0?!1:z,ee=R.tableUUID;ee||console.error("tableUUID is required!!!"),(0,_.useEffect)(()=>{function ue(ve){return he.apply(this,arguments)}function he(){return he=(0,v.Z)(W().mark(function ve(Ee){var de,fe,ge,me,Me,Ne,Ve,Ue;return W().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,N.Kb)((0,O.U)(Ee));case 2:if(de=Se.sent,fe=(0,V.Z)(de,2),ge=fe[0],me=fe[1],!ge){Se.next=8;break}return Se.abrupt("return");case 8:Me=me.data,Ne=Me.data,Ve=Ne.fields,Ue=s(Ve)||{},Ue&&(f=!1,m(Ue));case 13:case"end":return Se.stop()}},ve)})),he.apply(this,arguments)}return ee&&ue(ee),()=>{f=!1}},[ee]);var Q=A(u,1e3);(0,_.useEffect)(()=>{!f||(0,O.I)(ee,c(u))},[Q]);function pe(ue){f=!0,m(ue)}return Z().createElement("div",{className:"SampleProTable_container ".concat(R.className)},Z().createElement(T.ZP,(0,E.Z)({size:$||"middle",rowKey:y||"id",columnEmptyText:M||!1,pagination:L||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:Y,headerTitle:P||"",toolBarRender:F||null,columnsStateMap:u,onColumnsStateChange:pe},R,{className:"".concat(p,"-table")})))}},41647:function(oe,H,e){"use strict";e.d(H,{I:function(){return V},U:function(){return S}});var E=e(37055),v=e(10237);function V(W){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=E.ZP.tableHeader.save(),T={fields:_,key:W};return v.WY.post({url:Z,data:T})}function S(W){var _=E.ZP.tableHeader.get(W);return v.WY.get({url:_})}},99891:function(oe,H,e){"use strict";var E=e(12924),v=e.n(E),V=e(28216),S=e(91768),W=e(37055),_=e(10237),Z=e(60667);class T extends v().PureComponent{constructor(s){super(s);this.getWaterMarkText=c=>{var N=this.props.userInfo,w=N.jobNumber,A=localStorage.getItem("waterMarkPostName"),b=[],f=c.find(R=>R.type==="content_setting"),I=c.find(R=>R.type==="content_custom");return f.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),I.param.checked==="true"&&I.param.comment[0]!==""&&this.setState({commentText:I.param.comment[0]}),f.param.comment.indexOf("position")!==-1&&A&&A!==""&&b.push("".concat(A)),f.param.comment.indexOf("jobnumber")!==-1&&w&&w!==""&&b.push("".concat(w)),b.join("-")},this.getWaterMarkApplication=c=>{var N=this.props.scenes,w=c.find(A=>A.type==="application_scenario");w.param.comment.indexOf(N)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=c=>{var N=c.find(w=>w.type==="dispersive");this.setState({isDispersive:N.param.checked==="true"})},this.getDynamicSet=()=>{var c=W.ZP.advancedSetting.dynamicWaterMarkNew(),N={access_token:window.localStorage.getItem("token")};_.WY.get({url:c,params:N}).then(w=>{var A=JSON.parse(w.data.actions);this.setState({waterMarkText:this.getWaterMarkText(A),actions:A}),this.getWaterMarkApplication(A),this.getWaterIsDispersive(A)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var s=localStorage.getItem("waterMarkPostName");s===""||s===null?this.getPostName():this.getDynamicSet()}getPostName(){var s=W.ZP.advancedSetting.getPostName();_.WY.get({url:s}).then(c=>{localStorage.setItem("waterMarkPostName",c.data.post_names[0]||""),this.getDynamicSet()})}render(){var s=this.state,c=s.showWaterMark,N=s.waterMarkCount,w=s.isUserName,A=s.isDispersive,b=s.waterMarkText,f=s.actions,I=s.commentText,R=this.props.userInfo,g=R.name,t=R.unionid,u=R.sourceType;return v().createElement("div",{className:"common-watermark"},c&&new Array(N).fill(0).map((m,p)=>v().createElement("div",{key:p,className:"common-watermark-item ".concat(A?"isDispersive":"")},v().createElement("span",{className:"common-watermark-item-content"},I!==""&&v().createElement("span",{className:"item-part"},I),w&&v().createElement("span",null,I!==""&&v().createElement("span",null,"-"),v().createElement(Z.Z,{dataType:"userName",value:t,name:g,type:u})),v().createElement("span",{className:"item-part"},(w||I!=="")&&b!==""&&v().createElement("span",null,"-"),b)))))}}var O=r=>({userInfo:r.user});H.Z=(0,V.$j)(O)((0,S.Z)()(T))},55285:function(oe,H,e){"use strict";e.d(H,{Z:function(){return L}});var E=e(20228),v=e(11382),V=e(62029),S=e(88986),W=e(22385),_=e(31097),Z=e(57361),T=e(33565),O=e(9754),r=e.n(O),s=e(12924),c=e.n(s),N=e(91768),w=e(28216),A=e(93485),b=e(38642);function f(P){var F={};if(P)for(var $=0,z=Object.entries(P);$<z.length;$++){var Y=z[$],ee=(0,T.Z)(Y,2),Q=ee[0],pe=ee[1];F["user_info_".concat((0,b.FI)(Q))]=pe}return F}function I(P){if(!Array.isArray(P))return[];var F=P.map($=>{var z=$.user_info,Y=$.userInfo,ee={},Q=z||Y;if(Q){var pe=Q.extendList,ue=Q.extend_list,he=pe||ue||[];if(he.length>0){var ve=(0,A.Z)(he),Ee;try{for(ve.s();!(Ee=ve.n()).done;){var de=Ee.value,fe=de.columnKey,ge=de.column_key,me=de.extendValue,Me=de.extend_value;ee["user_info_".concat((0,b.FI)(fe||ge))]=me||Me}}catch(Ne){ve.e(Ne)}finally{ve.f()}}}return(0,S.Z)((0,S.Z)((0,S.Z)({},$),ee),f(Q))});return F}function R(P,F){for(var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",z=P.slice(0).reverse(),Y=0;Y<z.length;Y+=1)for(var ee=Y+1;ee<z.length;ee+=1)z[Y][F]===z[ee][F]&&(z.splice(ee,1),ee-=1);return $==="right"?z.reverse():z}var g=e(17215),t=e(36202),u=e(6793),m=e(9925),p=e(6934),y=P=>({userInfo:P.user}),M=(0,s.forwardRef)((P,F)=>{var $=P.tableUUID,z=P.withLoginPhoneNumber,Y=P.withCustomField,ee=P.withLoginEmail,Q=P.withJoinTime,pe=P.onlyShowCurrentDept,ue=(0,s.useState)([]),he=(0,T.Z)(ue,2),ve=he[0],Ee=he[1],de=(0,s.useState)([]),fe=(0,T.Z)(de,2),ge=fe[0],me=fe[1],Me=(0,s.useState)(!1),Ne=(0,T.Z)(Me,2),Ve=Ne[0],Ue=Ne[1];$||console.error("tableUUID is required!!!"),(0,s.useImperativeHandle)(F,()=>({getColumns:()=>ve})),(0,s.useEffect)(()=>{function Se(){return We.apply(this,arguments)}function We(){return We=(0,Z.Z)(r().mark(function $e(){var _e,Re,Ze,ye,Pe;return r().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Ue(!0),ie.next=3,(0,b.Kb)((0,g.h)());case 3:if(_e=ie.sent,Re=(0,T.Z)(_e,2),Ze=Re[0],ye=Re[1],!Ze){ie.next=10;break}return Ue(!1),ie.abrupt("return");case 10:Pe=ye.data,Y||(Pe=Pe.filter(ne=>Object.keys(ne)[0].indexOf("column")===-1)),ee||(Pe=Pe.filter(ne=>Object.keys(ne)[0].indexOf("loginEmail")===-1)),Q||(Pe=Pe.filter(ne=>Object.keys(ne)[0].indexOf("joinTime")===-1)),Ue(!1),me(Pe);case 16:case"end":return ie.stop()}},$e)})),We.apply(this,arguments)}Se()},[]),(0,s.useEffect)(()=>{var Se=ge.map((_e,Re)=>{var Ze=(0,T.Z)(Array.from(Object.entries(_e))[0],2),ye=Ze[0],Pe=Ze[1];return P.nameColumn&&Re===0?P.nameColumn:ye==="name"?{title:Pe,dataIndex:"user_info_".concat(ye),key:"user_info_".concat(ye),width:150,fixed:"left",render:(Ce,ie)=>c().createElement(_.Z,{title:c().createElement(m.Z,{userId:ie.user_info.id,userName:Ce})},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},ie.user_info&&c().createElement(m.Z,{userId:ie.user_info.id,userName:Ce}),!ie.user_info&&Ce))}:ye==="deptName"||ye==="dept_name"?{title:Pe,dataIndex:"user_info_".concat(ye),key:"user_info_".concat(ye),width:150,fixed:"left",render:(Ce,ie)=>{var ne=ie.user_info,J=ne.department_infos,j=ne.department_info;return Ce?c().createElement(_.Z,{title:c().createElement(p.P,{allDepartmentsList:J||[]})},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},c().createElement(p.P,{allDepartmentsList:(pe?j:J)||[]}))):"--"}}:ye==="joinTime"?{title:Pe,dataIndex:"user_info_".concat(ye),key:"user_info_".concat(ye),width:150,render:Ce=>c().createElement(_.Z,{title:Ce?(0,u.p6)(Ce,"yyyy-MM-dd hh:mm:ss"):"--"},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ce?(0,u.p6)(Ce,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:Pe,dataIndex:"user_info_".concat(ye),key:"user_info_".concat(ye),width:150,render:Ce=>c().createElement(_.Z,{title:Ce},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ce||"--"))}}),We=P.columns.map(_e=>_e.dataIndex==="creator_user_name"?(0,S.Z)((0,S.Z)({},_e),{},{render:(Re,Ze)=>c().createElement(_.Z,{title:c().createElement(m.Z,{userId:Ze.creator_sync_user_id,userName:Re})},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},c().createElement(m.Z,{userId:Ze.creator_sync_user_id,userName:Re})))}):_e),$e=P.headExtra.concat(Se).concat(z?[{title:P.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:_e=>_e||"--"}]:[]).concat(We);Ee($e)},[P.headExtra,P.columns,P.nameColumn,ge,P.userInfo.appType]);var Ye=(0,s.useMemo)(()=>I(P.dataSource),[P.dataSource]);return c().createElement(v.Z,{spinning:Ve},c().createElement(t.f,(0,V.Z)({scroll:{y:P.y||"100%",x:P.x||"max-content"}},P,{columns:ve,dataSource:Ye})))});M.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var L=(0,w.$j)(y,null,null,{forwardRef:!0})((0,N.Z)("translation",{withRef:!0})(M))},17215:function(oe,H,e){"use strict";e.d(H,{h:function(){return V}});var E=e(37055),v=e(10237);function V(){var S=E.ZP.getUserInfoColumnConfig();return v.WY.get({url:S})}},60667:function(oe,H,e){"use strict";e.d(H,{Z:function(){return T}});var E=e(33565),v=e(12924),V=e.n(v),S=e(28216);function W(O){var r=O.type,s=O.openid,c=O.from,N=(0,v.useRef)(null);return(0,v.useLayoutEffect)(()=>{c==="vue"?window.parent.WWOpenData.bind(N.current):WWOpenData.bind(N.current)}),V().createElement("ww-open-data",{ref:N,type:r,openid:s})}var _=O=>{var r=O.wxWorkApiFlag,s=O.appType,c=O.from,N=(0,v.useState)(!1),w=(0,E.Z)(N,2),A=w[0],b=w[1];(0,v.useEffect)(()=>{var R=localStorage.getItem("qyWechatBook");(s!=="wx_app"||r||R==="false"||c==="vue"||c==="taro")&&b(!0)},[r,s,c]);var f=(0,v.useCallback)(()=>{var R=O.type,g=O.value,t=O.name,u=t===void 0?"":t;switch(console.warn(O,"props"),R){case"wx_sync":{var m=O.dataType;return g?V().createElement(W,{from:c,type:m,openid:g}):u}default:return u}},[O]),I=()=>{var R=O.name,g=O.dataType,t=localStorage.getItem("qyWechatBook");if(g===""||t==="false")return R;if(c==="vue"||c==="taro")return f();switch(O.appType){case"wx_app":return f();default:return R}};return A?I():O.name};_.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var Z=O=>({appType:O.user.appType,wxWorkApiFlag:O.user.wxWorkApiFlag}),T=(0,S.$j)(Z)(_)},6934:function(oe,H,e){"use strict";e.d(H,{P:function(){return f}});var E=e(12924),v=e.n(E),V=e(18446),S=e.n(V),W=e(57361),_=e(33565),Z=e(9754),T=e.n(Z),O=e(28216);function r(I){var R=I.openid,g=(0,E.useRef)(null);return(0,E.useLayoutEffect)(()=>{var t=window.parent.WWOpenData;t&&t.bind(g.current)}),v().createElement("ww-open-data",{ref:g,type:"departmentName",openid:R})}var s=e(14441),c=I=>{var R=I.separator,g=I.departmentIds,t=I.departmentNames,u=I.appType,m=(0,E.useState)([]),p=(0,_.Z)(m,2),y=p[0],M=p[1];(0,E.useEffect)(()=>{u==="wx_app"&&L()},[g]);function L(){return P.apply(this,arguments)}function P(){return P=(0,W.Z)(T().mark(function z(){var Y,ee,Q;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,s.t)(g);case 2:Y=ue.sent,ee=Y.code,Q=Y.data,ee==="200000"&&Q&&M(Q);case 5:case"end":return ue.stop()}},z)})),P.apply(this,arguments)}function F(){return y.length?v().createElement(v().Fragment,null,y.map((z,Y)=>z.hasName?v().createElement(v().Fragment,null,z.name,Y===t.length-1?"":R):v().createElement(v().Fragment,null,v().createElement(r,{openid:z.thirdId}),Y===t.length-1?"":R," "))):null}function $(){var z="";return t.forEach((Y,ee)=>{z+=Y+(ee===t.length-1?"":R)}),v().createElement(v().Fragment,null,z)}switch(u){case"wx_app":return F();default:return $()}};c.defaultProps={departmentIds:[],departmentNames:[],separator:","};var N=I=>({appType:I.user.appType}),w=v().memo((0,O.$j)(N)(c)),A=I=>{var R=I.allDepartmentsList,g=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},m=u.department_ids.split("/"),p=u.department_names.split("/");return v().createElement(w,{departmentNames:p,departmentIds:m,separator:"/"})};return R.length?v().createElement(v().Fragment,null,R.map((t,u)=>v().createElement("span",{key:t.department_ids},g(t),u===R.length-1?"":"\uFF0C"))):null};A.defaultProps={allDepartmentsList:[]};function b(I,R){return S()(I,R)}var f=v().memo(A,b)},48479:function(oe,H,e){"use strict";var E=e(62029),v=e(57361),V=e(47673),S=e(4107),W=e(9754),_=e.n(W),Z=e(12924),T=e.n(Z),O=e(91768),r=e(94184),s=e.n(r),c=e(28216),N=e(84874),w=e(67222),A=e(2396),b=S.Z.Search;class f extends T().Component{constructor(R){var g;super(R);g=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>T().createElement(N.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var t=(0,v.Z)(_().mark(function u(m){var p,y,M,L,P,F,$,z,Y;return _().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(p=g.props,y=p.appType,M=p.exChange,L=p.appId,P=localStorage.getItem("qyWechatBook"),F="",$=y==="wx_app"&&P==="true"&&M&&L==="9005",!(m&&$)){Q.next=17;break}return Q.prev=5,Q.next=8,(0,w.F_)(m);case 8:z=Q.sent,Y=z.data,Y.success?F=Y.data:F="",Q.next=17;break;case 13:Q.prev=13,Q.t0=Q.catch(5),console.error(Q.t0),F="";case 17:g.props.onSearch(m,F);case 18:case"end":return Q.stop()}},u,null,[[5,13]])}));return function(u){return t.apply(this,arguments)}}(),this.handleChange=t=>{var u=t.target.value,m=t.type,p=u;this.props.LimitLength&&(0,A.$s)(u)>this.props.LimitLength&&(p=u.substring(0,(0,A.rw)(u,this.props.LimitLength))),this.setState({searchValue:p});var y=!1;this.props.onSearch&&(m==="click"&&(y=!0),this.props.immediate&&m==="change"&&(y=!0)),y&&this.handleSearch(u)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(R){R.onRef&&R.onRef(this)}render(){var R=this.state.searchValue,g=this.props,t=g.prefixCls,u=g.placeholder,m=g.width,p=g.maxLength,y=p===void 0?400:p,M=g.height,L=g.immediate,P=g.value,F=s()(["".concat(t)]),$={width:m,height:M},z={};return P&&(z.value=P),T().createElement(b,(0,E.Z)({className:F,style:$,value:R,placeholder:u,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:y,allowClear:!0,defaultValue:P,immediate:L.toString()},z))}}f.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},H.Z=(0,c.$j)(I=>({appType:I.user.appType,appId:I.user.appId}))((0,O.Z)()(f))},9925:function(oe,H,e){"use strict";var E=e(57361),v=e(33565),V=e(9754),S=e.n(V),W=e(12924),_=e.n(W),Z=e(28216),T=e(14441),O=s=>{var c=s.userId,N=s.userName,w=s.appType,A=(0,W.useRef)(null),b=(0,W.useState)(""),f=(0,v.Z)(b,2),I=f[0],R=f[1],g=(0,W.useState)(""),t=(0,v.Z)(g,2),u=t[0],m=t[1],p=(0,W.useState)(!0),y=(0,v.Z)(p,2),M=y[0],L=y[1];(0,W.useEffect)(()=>{w==="wx_app"&&(c?P():(console.warn("userId is required"),m(N)))},[c]);function P(){return F.apply(this,arguments)}function F(){return F=(0,E.Z)(S().mark(function z(){var Y,ee,Q,pe,ue,he,ve,Ee,de,fe;return S().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.prev=0,me.next=3,(0,T.v)(c);case 3:Y=me.sent,ee=Y.code,Q=Y.data,ee==="200000"&&Q&&(pe=Q.hasName,ue=pe===void 0?!0:pe,he=Q.sourceType,ve=Q.name,Ee=ve===void 0?"":ve,de=Q.thirdId,L(ue),ue?m(Ee):he==="wx_sync"&&(R(de),fe=window.parent.WWOpenData,fe&&fe.bind(A.current))),me.next=12;break;case 8:me.prev=8,me.t0=me.catch(0),console.error(me.t0,"error"),m(N);case 12:case"end":return me.stop()}},z,null,[[0,8]])})),F.apply(this,arguments)}function $(){return M?u:_().createElement("ww-open-data",{ref:A,type:"userName",openid:I})}switch(w){case"wx_app":return $();default:return N}};O.defaultProps={userName:""};var r=s=>({appType:s.user.appType});H.Z=_().memo((0,Z.$j)(r)(O))},64262:function(oe,H,e){"use strict";var E=e(88986),v=e(20228),V=e(11382),S=e(22385),W=e(31097),_=e(32157),Z=e(75869),T=e(62999),O=e(85733),r=e(12924),s=e.n(r),c=e(91768),N=e(60667),w=e(38642),A=e(10237),b=e(37055),f=O.Z.TreeNode;class I extends s().Component{constructor(g){super(g);this.getDeptTree=t=>{var u=this.props,m=u.filterAuth,p=u.handleLoadedCbk,y=this.state.whiteList,M=b.ZP.OrgTree.getDeptTree(),L={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:t,filter_auth:m,query_selected_user_id:this.props.querySelectedUserId,sync_organization:y.organizationFlag?"lenovo_sync":this.props.organizationType||""};A.WY.get({url:M,params:L}).then(P=>{var F=this.sumCheckedKeys(P.data.children||[],P.data.selected==="true"?[P.data.id]:[]);p&&p({department_name:P.data.department_name,id:P.data.id,source_type:P.data.source_type}),this.setState({treeData:[{department_name:P.data.department_name,id:P.data.id,source_type:P.data.source_type,children:P.data.children,user_count:P.data.user_count,enable_edit:P.enable_edit,enable_delete:P.enable_delete}],checkedKeys:F}),this.props.handleCheck&&this.props.handleCheck(F)})},this.sumCheckedKeys=(t,u)=>(t instanceof Array&&t.forEach(m=>{m.selected==="true"?u.push(m.id):m.children&&this.sumCheckedKeys(m.children,u)}),u),this.loadChildren=t=>new Promise(u=>{if(t.props.children){u();return}var m=this.props.filterAuth,p=this.state.whiteList,y=b.ZP.OrgTree.getDeptTree(),M={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:t.props.dataRef.id,filter_auth:m,query_selected_user_id:this.props.querySelectedUserId,sync_organization:p.organizationFlag?"lenovo_sync":this.props.organizationType||""};A.WY.get({url:y,params:M}).then(L=>{if(L.data.children){var P=L.data.children.map($=>({department_name:$.department_name,id:$.id,user_count:$.user_count,selected:$.selected,has_children:$.has_children,enable_edit:$.enable_edit,enable_delete:$.enable_delete,source_type:$.source_type}));t.props.dataRef.children=P;var F=this.sumCheckedKeys(P,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:F}),this.props.handleCheck&&this.props.handleCheck(F)}else t.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});u()})}),this.handleCheck=t=>{this.setState({checkedKeys:t}),this.props.handleCheck&&this.props.handleCheck(t)},this.treeSelectChange=(t,u)=>{this.setState({treeSelectValue:t});var m=this.props,p=m.handleTreeSelectChange,y=m.onTreeSelectChange;p?p(t||"",u):y&&y(t||"",u)},this.renderTreeNodes=t=>t.map(u=>u.children?s().createElement(Z.Z.TreeNode,{title:this.renderTitle(u),key:u.id,value:u.id,isLeaf:u.has_children!=="true",switcherIcon:u.children.length===0?s().createElement("span",null):null,dataRef:u,selected:u.selected==="true"},this.renderTreeNodes(u.children)):s().createElement(Z.Z.TreeNode,{title:this.renderTitle(u),dataRef:u,value:u.id,key:u.id,isLeaf:u.has_children!=="true",switcherIcon:this.props.asyncLoad?null:s().createElement("span",null),selected:u.selected==="true"})),this.renderSelectTreeNodes=t=>{var u=this.props.disabledFirstNode,m=this.state.treeData.length?this.state.treeData[0].id:"";return t.map(p=>p.children?s().createElement(f,{title:this.renderTitle(p),key:p.id,value:p.id,isLeaf:!1,switcherIcon:p.children.length===0?s().createElement("span",null):null,dataRef:p,disabled:u?p.id===m:!1,selected:p.selected==="true",departmentName:p.department_name},this.renderSelectTreeNodes(p.children)):s().createElement(f,{title:this.renderTitle(p),dataRef:p,value:p.id,key:p.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:s().createElement("span",null),selected:p.selected==="true",departmentName:p.department_name}))},this.dealText=t=>{var u=this.props.showUserCount;return s().createElement(r.Fragment,null,s().createElement(N.Z,{type:t.source_type,value:t.id,node:t,name:t.department_name,dataType:"departmentName"}),u&&s().createElement("span",null,"(",t.user_count,")"))},this.renderTitle=t=>{var u=this.props,m=u.showTitleToolTip,p=u.DeptTreeNodeTitle,y=u.titleOperateProps,M=y===void 0?{}:y,L=this.dealText(t);return p?s().createElement(p,{title:L,titleOperateProps:M,deptId:t.id||"1",deptName:t.department_name,enableEdit:t.enable_edit==="true",enableDelete:t.enable_delete==="true"}):m?s().createElement(W.Z,{title:L},s().createElement("span",null,L)):L},this.renderTree=()=>{var t={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(t.loadData=this.loadChildren),this.state.treeData.length>0?s().createElement(Z.Z,t,this.renderTreeNodes(this.state.treeData)):s().createElement("div",{style:{textAlign:"center"}},s().createElement(V.Z,null))},this.renderTreeSelect=()=>{var t=this.props,u=t.t,m=t.width,p=m===void 0?180:m,y=t.placeholder,M=t.open,L=(0,E.Z)((0,E.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:p},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:p},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:y||u("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:M});return this.props.asyncLoad&&(L.loadData=this.loadChildren),this.state.treeData.length>=0?s().createElement(O.Z,L,this.renderSelectTreeNodes(this.state.treeData)):s().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,w.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(g){g.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return s().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}I.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},H.Z=(0,c.Z)("",{withRef:!0})(I)},76466:function(oe,H,e){"use strict";e.d(H,{Z:function(){return vt}});var E=e(20228),v=e(11382),V=e(57663),S=e(71577),W=e(62029),_=e(57361),Z=e(9754),T=e.n(Z),O=e(12924),r=e.n(O),s=e(91512),c=e(68654),N=e(91768),w=e(4412),A=e.n(w);class b extends r().Component{render(){var i=this.props.t;return r().createElement("div",{className:"net-preview"},r().createElement("div",{className:"net-preview-center"},r().createElement("img",{src:A(),alt:"picture"}),r().createElement("h2",null,i("localStorage.tip")),r().createElement("p",null,i("localStorage.banPreview"))))}}var f=(0,N.Z)()(b),I=e(88986),R=e(34792),g=e(48086),t=e(28216),u=e(21594),m=e(41225),p=e(10237),y=(re,i)=>(0,I.Z)({id:re||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},i),M=y;class L extends O.Component{constructor(){super(...arguments);this.setupPlayer=i=>{var o=this.props,n=o.onVideoReady,a=n===void 0?()=>{}:n,l=o.playerConfig,d=o.contentType;i&&i==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,I.Z)((0,I.Z)({},l),{},{contentType:d==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:l.source,autoplay:l.autoplay,width:l.width,id:l.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:h=>{h.on("sourceloaded",D=>{var C=D.paramData,x=C.desc,k=C.definition;h.getComponent("VideoQuality")&&h.getComponent("VideoQuality").setCurrentQuality(x,k,l.id)}),h.on("ready",()=>{a()}),this.playerInstance=h,this.setPlayerConfig()}}))}}componentDidUpdate(i){i.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(i){this.player&&this.player.seek(i)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(i){this.player.setSpeed(i)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var i=this.props,o=i.onPlay,n=o===void 0?()=>{}:o,a=i.onTimeUpDate,l=a===void 0?()=>{}:a,d=i.onEnd,h=d===void 0?()=>{}:d,D=i.onPause,C=D===void 0?()=>{}:D,x=i.onError,k=x===void 0?()=>{}:x,K=this.playerInstance;K.on("play",()=>{n()}),K.on("pause",()=>{C()}),K.on("timeupdate",U=>{l(U)}),K.on("ended",()=>{h()}),K.on("error",(0,_.Z)(T().mark(function U(){return T().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:k();case 1:case"end":return X.stop()}},U)})))}render(){var i=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:i.id}))}}L.playerInstance=null,L.defaultProps={playerConfig:M(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var P=L,F=(re,i)=>(0,I.Z)({id:re||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},i),$=F;class z extends O.Component{constructor(){super(...arguments);this.setupPlayer=i=>{i&&i==="resetPlayer"&&this.player.dispose();var o=this.props,n=o.playerConfig,a=o.onVideoReady,l=a===void 0?()=>{}:a;this.player=new Aliplayer(n,d=>{d.on("sourceloaded",h=>{var D=h.paramData,C=D.desc,x=D.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(C,x,n.id)})}),this.player.on("ready",()=>{l()})},this.setPlayerConfig=()=>{var i=this.props,o=i.onPlay,n=o===void 0?()=>{}:o,a=i.onTimeUpDate,l=a===void 0?()=>{}:a,d=i.onEnd,h=d===void 0?()=>{}:d,D=i.onPause,C=D===void 0?()=>{}:D,x=i.onError,k=x===void 0?()=>{}:x;this.player.on("play",()=>{n()}),this.player.on("pause",()=>{C()}),this.player.on("timeupdate",K=>{l(K)}),this.player.on("ended",()=>{h()}),this.player.on("error",(0,_.Z)(T().mark(function K(){return T().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:k();case 1:case"end":return B.stop()}},K)})))},this.getPlayerContent=i=>{this.playerContainer=i}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(i){i.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(i){this.player.seek(i)}exitFull(){var i=this.player.fullscreenService;i&&i.isFullScreen&&i.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var i=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:i.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}z.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:$()};var Y=z;class ee{constructor(i){this.hasCreated=!1,this.definition="",this.getQuality=i}createEl(i,o){var n=o._options&&o._options.language,a=o._el.id;this.isEn=n&&n==="en-us";var l=(0,u.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),d=(0,u.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),h=document.querySelector("#".concat(a," .prism-controlbar"));h.appendChild(l),i.appendChild(d)}setCurrentQuality(i,o,n){var a=document.querySelector("#".concat(n," .current-quality"));a.innerText=i,a.dataset.def=o,this.definition=o;var l=document.querySelector("#".concat(n," .quality-list")),d=l.querySelector(".current");d&&(d.className="");var h=l.querySelector('li[data-def="'.concat(o,'"]'));h&&(h.className="current")}created(i){this._urls=i._urls;var o=i._el.id,n=document.querySelector("#".concat(o," .current-quality")),a=document.querySelector("#".concat(o," .quality-list")),l=document.querySelector("#".concat(o," .quality-modal")),d=this._urls.map(C=>'<li data-def="'.concat(C.definition,'">').concat(C.desc,"</li>"));if(a.innerHTML=d.join(""),this.hasCreated==!1&&this.definition){var h=a.querySelector('li[data-def="'.concat(this.definition,'"]'));h.className="current"}this.hasCreated=!0;var D=null;n.onclick=()=>{a.style.display="block"},n.onmouseleave=()=>{D=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(D)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=C=>{var x=C.target,k=x.dataset.def,K=x.innerText;if(k&&x.className!=="current"){var U=this._urls.find(B=>B.definition===k);i.loadByUrl(U.Url,i.getCurrentTime(),!0,!0),this.setCurrentQuality(U.desc,U.definition,o),l.style.display="block",l.querySelector("span.current-quality-tag").innerText=U.desc}this.getQuality(k,K)}}ready(i){var o=i._el.id,n=document.querySelector("#".concat(o," .quality-modal"));n.style.display="none";var a=document.querySelector("#".concat(o," .prism-setting-item.prism-setting-quality"));a&&a.classList.add("player-hidden")}}class Q{createEl(i,o){var n=o._el.id,a=(0,u.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),l=document.querySelector("#".concat(n," .prism-controlbar"));l.appendChild(a)}ready(i){var o=i._el.id,n=document.querySelector("#".concat(o," .current-rate")),a=document.querySelector("#".concat(o," .rate-list")),l=null,d=document.querySelector("#".concat(o," .prism-setting-item.prism-setting-speed"));d&&d.classList.add("player-hidden"),n.onclick=()=>{a.style.display="block"},n.onmouseleave=()=>{l=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(l)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=h=>{var D=h.target,C=D.dataset.rate;if(C){if(i.setSpeed(C),D.className!=="current"){var x=a.querySelector(".current");x&&(x.className=""),D.className="current"}a.style.display="none",n.innerText="".concat(C,"x")}}}}var pe=e(69164),ue=e(37055);function he(re){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=ue.ZP.local.getLocalUrl(re);return p.WY.get({url:o,params:i})}var ve=e(91648),Ee=e(18329),de=e(38642),fe=e(9849),ge=e(99891);class me extends O.Component{constructor(i){super();this.WaterMarkText=i,this.html=document.getElementsByClassName("common-watermark")}createEl(i){setTimeout(()=>{i.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Me=me,Ne=re=>({userInfo:re.user});class Ve extends O.Component{constructor(i){var o;super(i);o=this,this.onVideoReady=n=>{var a=this.props,l=a.resourceInfo,d=a.mode,h=a.autoPlay,D=a.t,C=l.storageType;n==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(n),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(d==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),d==="preview"&&h&&this.play.play()):C==="ALIBABA_PRIVATE"||C==="LOCAL"?this.updateSource("resetPlayer"):(p.WY.logger({keyword:"video",moduleName:"video-play",msg:D("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var n=this.props,a=n.draggable,l=n.mode,d=n.t,h=n.studyInfo,D=n.needCurrentTime,C=n.onCurrentTime,x=C===void 0?()=>{}:C,k=h.studyType,K=h.studyId,U=h.resourceId,B=this.state,X=B.showPreventHang,se=B.dragSwitch,le=B.showRandomAlert,ce=B.randomAlertDialogVisible,G=this.playingVideo,Ae=G.oneTime,Oe=G.popupWindowCount,Le=G.maxPlayTime,He=G.progress,ke=G.auditionLength,Ke=G.auditionType,Fe=G.duration,je=G.recentStart,De=this.play.getCurrentTime(),Te=(X==="OPEN"||le==="OPEN")&&Oe>0;if(D&&x(De),ke>0&&Ke===2&&De>ke&&(this.play.seek(ke),g.default.warning(d("component.haveALookOverTip")),this.play.pause()),l==="learn"&&Te){var Qe=Fe-Ae*Oe;if(Oe>0&&De>Qe)if(this.play.pause(),le==="OPEN"){if(!ce){var ze=(0,ve.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:ze},()=>{(0,m.qp)({popupId:ze,planId:K,resourceId:U,type:"popup_start"})}),this.play.exitFull()}}else X==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((a||He===100)&&(De>0&&(this.playingVideo.recentStart=De),!((k==="enterprise"||k==="studyProject")&&se==="OPEN")))return!1;De>Le?De-je>2?(this.playingVideo.recentStart=Le,this.play.seek(Le),g.default.warning(d("component.preventFastWatchTip"))):(this.playingVideo.recentStart=De,this.playingVideo.maxPlayTime=De):De>0&&De>this.playingVideo.recentStart&&(this.playingVideo.recentStart=De)},this.onPlay=()=>{var n=this.props,a=n.mode,l=n.onPlay,d=l===void 0?()=>{}:l;d();var h=this;a==="learn"&&!h.timer&&(h.timer=setTimeout(function D(){h.saveProgress(),clearTimeout(h.timer),h.timer=setTimeout(D,2e4)},2e4))},this.onPause=()=>{var n=this.props,a=n.studyInfo,l=n.mode,d=a.studyType;clearTimeout(this.timer),this.timer=null,l==="learn"&&(d==="platform"||d==="enterprise"||d==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var n=this.props.mode;n==="learn"&&this.saveProgress()},this.onError=n=>{var a=this.props.resourceInfo,l=a.storageType;(l==="ALIBABA_PRIVATE"||l==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var n=this.props.mode;this.initPlayVideo(),n==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var n=this.state,a=n.showPreventHang,l=n.showRandomAlert,d=this.props,h=d.t,D=d.playingVideo,C=d.studyInfo,x=d.autoPlay,k=D.recentStart,K=D.duration,U=D.progress,B=C.studyType,X=(a==="OPEN"||l==="OPEN")&&(B==="studyTask"||B==="enterprise"||B==="studyProject")&&U<100;X?(l==="OPEN"?this.setState({promptMessage:h("component.preventAlertTip"),dialogVisible:!0}):a==="OPEN"&&this.setState({promptMessage:h("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):x&&(this.play.play(),Math.ceil(k)<parseInt(K)&&this.play.seek(k))},this.playerShowPreventHang=()=>{var n=this.playingVideo,a=n.duration,l=n.recentStart,d=0;a>0&&a<180?(d=a/2,this.playingVideo.oneTime=d,l>=d?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):a>=180&&a<600?(d=a/3,this.playingVideo.oneTime=d,l>=2*d?this.playingVideo.popupWindowCount=0:l>=d?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(d=a/4,this.playingVideo.oneTime=d,l>=3*d?this.playingVideo.popupWindowCount=0:l>=2*d?this.playingVideo.popupWindowCount=1:l>=d?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var n=this.props,a=n.playingVideo,l=n.mode;if(l==="learn"){this.playingVideo=(0,I.Z)({},a);var d=a.duration,h=a.progress;this.playingVideo.hasFinished=parseInt(h)===100,this.playingVideo.maxPlayTime=parseInt(d)*parseInt(h)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,_.Z)(T().mark(function n(){var a,l,d,h,D,C,x,k,K,U,B,X,se,le,ce,G,Ae,Oe,Le,He,ke,Ke,Fe,je;return T().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(a=o.state,l=a.speedSwitch,d=a.dragSwitch,h=a.whiteList,D=o.props,C=D.resourceInfo,x=D.showQuality,k=C.contentType,K=C.storageType,U=C.source,B=C.playId,X=C.playerId,se=C.showFullScreen,le=se===void 0?!0:se,ce=$(X),ce.components=[],G=typeof U=="object"&&U.hasOwnProperty("FD")&&U.FD.indexOf("m3u8")===-1,x&&G&&k!=="mp3"&&(K&&K==="PUBLIC_CLOUD"||!K)&&ce.components.push({name:"VideoQuality",type:ee,args:[()=>{o.play.pause(),o.playingVideo.readyCount=0}]}),l==="OPEN"&&ce.components.push({name:"VideoRate",type:Q}),le&&(Ae=ce.skinLayout.find(Qe=>Qe.name==="controlBar"),Ae&&Ae.children.splice(Ae.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ce.components.push({name:"VideoWaterMark",type:Me}),Oe=U.FD,Le=U.OD,Oe.indexOf("http://")>-1&&(Oe=Oe.replace("http://","https://")),Le.indexOf("http://")>-1&&(Le=Le.replace("http://","https://")),He=h.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",U.OD=Le&&Le.indexOf(He)>-1&&Le.indexOf(".mp4")>-1?Le:Oe,U.FD=Oe,ke=typeof U!="string"?JSON.stringify(U):U,ce.source=ke,d==="OPEN"&&(ce.disableSeek=!0),K!=="ALIBABA_PRIVATE"){Te.next=32;break}return Te.next=22,(0,m.BR)(B);case 22:if(Ke=Te.sent,!Ke){Te.next=28;break}ce.source=Ke,ce.vodRetry=1,Te.next=30;break;case 28:return o.setState({showPrivateVodError:!0}),Te.abrupt("return");case 30:Te.next=38;break;case 32:if(K!=="LOCAL"){Te.next=38;break}return Te.next=35,he(B);case 35:Fe=Te.sent,je=Fe.data,je.code===0&&(ce.source="".concat(U.FD,"?auth_key=").concat(je.data.auth_key),ce.vodRetry=1);case 38:o.setState({playerConfig:ce});case 39:case"end":return Te.stop()}},n)})),this.updateSource=function(){var n=(0,_.Z)(T().mark(function a(l){var d,h,D,C,x,k,K,U;return T().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(d=o.state.playerConfig,h=o.props.resourceInfo,D=h.storageType,C=h.source,x=h.playId,o.playingVideo.readyCount=0,D!=="ALIBABA_PRIVATE"){X.next=16;break}return X.next=7,(0,m.BR)(x);case 7:if(k=X.sent,!k){X.next=12;break}Object.assign(d,{source:k,vodRetry:1}),X.next=14;break;case 12:return o.setState({showPrivateVodError:!0}),X.abrupt("return");case 14:X.next=22;break;case 16:if(D!=="LOCAL"){X.next=22;break}return X.next=19,he(x);case 19:K=X.sent,U=K.data,U.code===0&&Object.assign(d,{source:"".concat(C.FD,"?auth_key=").concat(U.data.auth_key),vodRetry:1});case 22:o.setState({playerConfig:d},()=>{o.play.setupPlayer(l)});case 23:case"end":return X.stop()}},a)}));return function(a){return n.apply(this,arguments)}}(),this.saveProgress=()=>{var n=this.props,a=n.studyInfo,l=n.userInfo,d=l.isLogin,h=l.enterpriseId,D=l.id,C=this.playingVideo,x=C.recentStart,k=C.duration,K=C.hasFinished,U=Math.ceil(+x);U>Number(k)&&(U=Number(k));var B=Math.ceil(U/+k*100);if((B>100||K)&&(B=100),d){var X=this.playingVideo,se=X.auditionType,le=X.auditionLength;if(le>0&&se===2){var ce=Math.ceil(le/k*100);ce<=B&&(B=ce,U=le)}(0,m.sH)({studyInfo:a,progress:B,recent_start:U,enterpriseId:h,userId:D}).then(G=>{G&&G.data&&(0,pe.Z)(G.data.integral_info||"")})}},this.getInfoFromSettings=(0,_.Z)(T().mark(function n(){var a,l,d,h,D,C,x,k,K;return T().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return a=o.props.studyInfo,l=a.studyType,d=a.projectId,B.next=4,(0,m.Gw)();case 4:if(h=B.sent,D=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],C=(0,u.RG)(h,D),l!=="studyProject"){B.next=14;break}return B.next=10,(0,fe.NU)({id:d});case 10:x=B.sent,k=x.status,K=x.data,k===200&&(C.showPreventHang=K.prevent_cut_screen?"OPEN":"CLOSED",C.speedSwitch=K.speed_play?"OPEN":"CLOSED",C.dragSwitch=K.prevent_drag?"OPEN":"CLOSED");case 14:o.setState(C,()=>{o.dealVideoConfig()});case 15:case"end":return B.stop()}},n)})),this.dealAudioPoster=()=>{var n=this.props.resourceInfo.contentType,a=n===void 0?"":n;this.setState({showAudioPoster:a==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var n=this.state.showAudioPoster,a=this.play.playerContainer;n&&a&&(a.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),a.style.backgroundSize="cover")},this.getPlayInstance=n=>{this.play=n},this.handleOk=()=>{this.setState({dialogVisible:!1});var n=this.state.btnType,a=this.playingVideo.recentStart,l=this.props.t;n==="know"?(this.play.play(),this.play.seek(a),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:l("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,_.Z)(T().mark(function n(){var a,l,d,h;return T().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:a=o.props.studyInfo,l=a.studyId,d=a.resourceId,h=o.state.randomAlertUUID,(0,m.qp)({popupId:h,planId:l,resourceId:d,type:"popup_end"}).then(()=>{o.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),o.playingVideo.popupWindowCount-=1,o.play.play();case 6:case"end":return C.stop()}},n)})),this.renderFooter=()=>{var n=this.state.btnType,a=this.props.t;return r().createElement(S.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(n)},a(n==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var n=this.props.t;return r().createElement(S.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},n("common.ok"))},this.state={playerConfig:$(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:i.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:i.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:i.t("component.randomAlertTip"),randomAlertModal:{title:i.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,de.UI)("CL_VIDEO_BAIYING_COM_CN")}},i.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(i){var o=typeof i.resourceInfo.source!="string"?JSON.stringify(i.resourceInfo.source):i.resourceInfo.source,n=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;o!==n&&n!==""&&this.initInfo()}componentWillUnmount(){var i=this.props.mode;i==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var i=this.state,o=i.playerConfig,n=i.showPrivateVodError,a=i.dialogVisible,l=i.dialogModal,d=i.promptMessage,h=i.randomAlertDialogVisible,D=i.randomAlertModal,C=i.randomAlertTip,x=i.encryptedSwitch,k=this.props,K=k.resourceInfo,U=k.t,B=x==="OPEN"?P:Y;return r().createElement(O.Fragment,null,r().createElement(B,(0,W.Z)({ref:this.getPlayInstance},K,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:o,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),r().createElement(Ee.ZP,(0,W.Z)({visible:a},l,{footer:this.renderFooter()}),r().createElement("div",{className:"video-business-prompt"},d)),r().createElement(Ee.ZP,(0,W.Z)({visible:h},D,{footer:this.renderRandomFooter()}),r().createElement("div",{className:"video-player-container__prompt"},C)),n&&r().createElement("div",{className:"video-business-vod-error"},U("privateCloud.docReadError")),r().createElement(ge.Z,{scenes:"video"}))}}var Ue=(0,t.$j)(Ne,null,null,{forwardRef:!0})((0,N.Z)("translation",{withRef:!0})(Ve)),Ye=e(94184),Se=e.n(Ye),We=e(84874),$e=re=>({userInfo:re.user}),_e={getPravateDocUrl:ue.ZP.localStorage.getPravateDocUrl};function Re(re){return JSON.stringify(re,(i,o)=>(typeof o=="function"&&(o=o.toString()),o))}function Ze(re){var i=parseInt(parseInt(re,10)/60,10),o=parseInt(parseInt(re,10)%60,10);return i<10&&(i="0".concat(i)),o<10&&(o="0".concat(o)),"".concat(i,":").concat(o)}class ye extends O.Component{constructor(i){var o;super(i);o=this,this.messageFun=n=>{var a=this.props,l=a.docType,d=a.progress,h=a.studyTimeLimit,D=a.studyTime,C=this.state,x=C.jumpPageTag,k=C.totalTime,K=C.timeRemaining,U=this.state.previewDocData,B={};try{B=JSON.parse(n.data)}catch(X){return}switch(B.action){case"preview.ready":this.initDocData();break;case"preview.meta":U.totalPage=B.data.pc||1,U.currentPage=1,this.setState({previewDocData:U},()=>{this.reportStatusInterval()}),h>0?(this.saveProgress(d,D||"1",B.data.pc||1),this.setState({showCountDownContainer:!0})):l==="xlsx"||l==="xls"||U.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(d,D||"1",B.data.pc||1),h>0&&d<100?(this.setState({showCountDown:!0}),l==="xlsx"||l==="xls"?k=h:k=h*B.data.pc,K=parseInt(k*(1-d/100),10),this.setState({timeRemaining:K,totalTime:k},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(x){x=!1,this.setState({jumpPageTag:x});return}U.currentPage=B.data.pageIndex+1,this.setState({previewDocData:U}),h||this.saveProgress(Math.ceil(U.currentPage/U.totalPage*100),U.currentPage,U.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":g.default.error(B.data.result);break;default:break}},this.initDocData=(0,_.Z)(T().mark(function n(){var a,l,d,h,D,C,x,k,K,U,B,X,se,le;return T().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(o.setState({isShowPrivateError:!1}),a=o.props,l=a.docType,d=a.userInfo,h=a.documentWatermarkSettings,D=a.storageType,C=a.privateDocId,x=d.name,k=d.jobNumber,K=d.position,U="",B={},D!=="ALIBABA_PRIVATE"){G.next=18;break}return G.prev=6,X=_e.getPravateDocUrl(C),G.next=10,p.WY.get({url:X});case 10:se=G.sent,le=se.data,le.code===0?B=le.data||{}:o.setState({isShowPrivateError:!0}),G.next=18;break;case 15:G.prev=15,G.t0=G.catch(6),o.setState({isShowPrivateError:!0});case 18:if(h.indexOf("name")>-1&&(U="".concat(U+x," ")),h.indexOf("position")>-1&&(U="".concat(U+K," ")),h.indexOf("jobnumber")>-1&&(U+=k),U.length>0?window.sendMessage("preview.init",(0,I.Z)({wmType:1,wmValue:U,wmColor:"rgba(192, 192, 192, 0.4)"},B)):window.sendMessage("preview.init",(0,I.Z)({},B)),l!=="xlsx"&&l!=="ppt"&&l!=="pptx"&&l!=="xls"?o.setState({pageOperateContainerVisible:!0}):o.setState({pageOperateContainerVisible:!1}),!(l==="ppt"||l==="pptx")){G.next=29;break}G.t1=window,G.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},G.t1.sendMessage.call(G.t1,"setConfig",G.t2),G.next=32;break;case 29:G.t3=window,G.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},G.t3.sendMessage.call(G.t3,"setConfig",G.t4);case 32:case"end":return G.stop()}},n,null,[[6,15]])})),this.handleJumpPage=n=>{var a=this.state.previewDocData;a.currentPage=n,this.setState({jumpPageTag:!0,previewDocData:a});var l=n/a.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(l),n,a.totalPage),window.sendMessage("logic.toPage",{pageIndex:n-1})},this.redirectPage=()=>{var n=this.props,a=n.studyTimeLimit,l=n.studyTime,d=0;a===0&&(d=l-1>0?l-1:0),window.sendMessage("logic.toPage",{pageIndex:d})},this.docCountDown=()=>{var n=this.state.timeRemaining,a=this.state,l=a.totalTime,d=a.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{n-=1,this.setState({timeRemaining:n}),n<1&&(this.saveProgress(100,0,d.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var h=(l-n)/l*100;n<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(h),n,d.totalPage)},2e4)},this.saveProgress=(n,a,l)=>{var d=this.props.onSaveProgress;d&&d(n,a,l)},this.reportStatusInterval=()=>{var n=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var a=this.state.previewDocData.currentPage;n&&n({currentPage:a})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=n=>{this.docReader=n},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(i,o)=>{var n=this.docReader.contentWindow;n.postMessage(Re({action:i,data:o}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var i=this.props,o=i.t,n=i.storageType,a=i.privateDocId,l=this.props.aliUrl,d=this.state,h=d.previewDocData,D=d.pageOperateContainerVisible,C=d.timeRemaining,x=d.showCountDown,k=d.showCountDownContainer,K=d.showPageOperateContainer,U=d.isShowPrivateError;return n==="ALIBABA_PRIVATE"&&(l="https://preview.imm.aliyuncs.com/index.html?docId=".concat(a)),r().createElement("div",{className:"doc-reader-container"},r().createElement("div",{className:"ali-doc-container",style:{paddingBottom:D?"56px":"0"}},r().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:l,id:"aliyunPreview",ref:this.dealPreviewRef}),k?r().createElement("div",{className:"ali-doc-container__countdown"},x?r().createElement("div",null,r().createElement(We.Z,{iconClass:"iconf-tipe",size:"16px"}),o("component.docStillStudy"),r().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Ze(C)," "),o("component.canDone")):r().createElement("div",null,r().createElement(We.Z,{iconClass:"iconf-tipe",size:"16px"}),o("component.docHasFinish"))):null,D?r().createElement("div",{className:"ali-doc__operate"},r().createElement("div",{className:Se()(["ali-doc__operate__content",K?"":"ali-doc__operate__hide-content"])},r().createElement("div",{className:"ali-doc__operate__pagination"},r().createElement("div",{className:"ali-doc__operate__pagination__pages"},h.currentPage," / ",h.totalPage),r().createElement("div",{className:"ali-doc__operate__pagination__toggle"},r().createElement("div",{className:"ali-doc__operate__pagination__choose"},r().createElement("span",null,o("component.choosePage"),r().createElement(We.Z,{iconClass:"iconf-arrow-under",size:"14px"})),r().createElement("div",{className:"ali-doc__operate__page-list-container"},r().createElement("div",{className:"ali-doc__operate__choose-page"},o("component.fastChoosePage")),r().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:h.totalPage})).map((B,X)=>r().createElement("li",{key:B,onClick:()=>this.handleJumpPage(X+1)},X+1))))),r().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},o("common.collapse"))))),r().createElement("div",{className:Se()("ali-doc__operate__unfold",K?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},o("common.expand"))):null,U&&r().createElement("div",{className:"ali-doc__error"},o("privateCloud.docReadError"))),r().createElement(ge.Z,{scenes:"document"}))}}ye.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Pe=(0,t.$j)($e)((0,N.Z)()(ye)),Ce=re=>({userInfo:re.user}),ie="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),ne="".concat("https://doc.coolcollege.cn");class J extends r().Component{constructor(i){var o;super(i);o=this,this.onSaveProgress=(n,a,l)=>{var d=this.props,h=d.mode,D=d.studyInfo,C=d.userInfo,x=C.enterpriseId,k=C.id;h==="learn"&&(0,m.sH)({studyInfo:D,progress:n,page_count:l,recent_start:a,enterpriseId:x,userId:k}).then(K=>{K&&K.data&&(0,pe.Z)(K.data.integral_info||"")})},this.messageFun=function(){var n=(0,_.Z)(T().mark(function a(l){var d,h,D,C,x,k;return T().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(l.data!=="local-resource"){U.next=9;break}if(d=o.props.resourceInfo,h=d.storageType,D=d.playId,!(h&&h==="LOCAL")){U.next=9;break}return U.next=6,he(D);case 6:C=U.sent,x=C.data,x.code===0&&(k=document.getElementById("local-resource-box"),k.contentWindow.postMessage({msg:"local-auth-key",authKey:x.data.auth_key},"*"));case 9:case"end":return U.stop()}},a)}));return function(a){return n.apply(this,arguments)}}(),this.getInfoFromSettings=(0,_.Z)(T().mark(function n(){var a,l,d;return T().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,m.Gw)();case 2:a=D.sent,l=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],d=(0,u.RG)(a,l),o.setState(d,()=>{o.initDocPage(o.props)});case 6:case"end":return D.stop()}},n)})),this.initDocPage=(0,_.Z)(T().mark(function n(){var a,l,d,h,D,C,x,k,K,U,B,X,se,le,ce,G,Ae,Oe,Le,He,ke,Ke,Fe,je,De,Te,Qe,ze,dt,nt,st,it,ot,ct,lt=arguments;return T().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(a=lt.length>0&&lt[0]!==void 0?lt[0]:{},l=a.resourceInfo,d=a.mode,h=a.studyInfo,D=a.userInfo,C=o.state.documentPlayerMode,x=l.docType,k=l.docTitle,K=l.url,U=l.studyTimeLimit,B=l.studyTime,X=l.aliUrl,se=l.progress,le=l.storageType,ce=l.playId,G=h.studyType,Ae=h.courseId,Oe=h.studyId,Le=h.resourceId,He=D.enterpriseId,ke=D.id,Ke=D.isLogin,Fe=D.token,je=C==="compat"&&X.indexOf("preview.imm.aliyun")>-1||le==="ALIBABA_PRIVATE",!je){Be.next=11;break}o.setState({showAliReader:!0}),Be.next=31;break;case 11:if(De=(0,m.sH)({enterpriseId:He,userId:ke,token:Fe,studyInfo:h},!0),Te=G==="studyTask"?2:1,Qe=ue.ZP.SaveProgress.reportStatusInterval(h),ze={isSaveProgress:Ke&&d==="learn"&&De,isSaveRecord:!1,access_token:Fe,userId:ke,hostUrl:ie,courseId:Ae,resourceId:Le,courseType:1,planId:Oe,studyTimeLimit:U,studyTime:B,saveProgressUrl:De,type:"eapp",progress:se,saveRecordProgressUrl:Qe,actionType:Te},!(le&&le==="LOCAL")){Be.next=26;break}return Be.next=18,he(ce);case 18:if(dt=Be.sent,nt=dt.data,nt.code!==0){Be.next=25;break}ze.auth_key=nt.data.auth_key,ze.url=K,Be.next=26;break;case 25:return Be.abrupt("return");case 26:st=JSON.stringify(ze),it="".concat(k,".").concat(x).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ot="".concat(ne,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(st),"&furl=").concat(K,"?attname=").concat(it),le&&le==="LOCAL"&&(ct="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ot="".concat(ct,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(st),"&furl=").concat(K,"?attname=").concat(it)),o.setState({encodeUrl:ot});case 31:case"end":return Be.stop()}},n)})),this.handleReportStatusInterval=n=>{var a=n.currentPage,l=this.props,d=l.resourceInfo,h=l.mode,D=l.studyInfo,C=l.userInfo,x=d.type,k=D.courseId,K=D.studyId,U=D.resourceId,B=C.enterpriseId,X=C.id,se=C.isLogin,le="",ce="",G=0,Ae=!1;switch(x){case"enterprise":G=1,Ae=!0;break;case"study":le=K,G=2,Ae=!0;break;case"project":ce=K,G=1,Ae=!0;break;default:break}if(!(!Ae||!se)){var Oe={plan_id:le,enterprise_id:B,user_id:X,course_id:k,project_course_id:ce,resource_id:U,current_page:a,action_type:G,send_time:Date.parse(new Date)};h==="learn"&&(0,m.Xc)(D,Oe)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(i){this.initDocPage(i)}render(){var i=this.props.resourceInfo,o=this.state,n=o.encodeUrl,a=o.documentWatermarkSettings,l=o.showAliReader,d=i.docType,h=i.type,D=i.studyTimeLimit,C=i.studyTime,x=i.aliUrl,k=i.progress,K=i.storageType,U=i.playId;return l?r().createElement(Pe,{privateDocId:U,storageType:K,aliUrl:x,docType:d,progress:k,studyTime:C,studyTimeLimit:D,documentWatermarkSettings:a,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:h}):r().createElement("div",{className:"doc-reader-container"},r().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:n,frameBorder:"0",allowFullScreen:!0}),r().createElement(ge.Z,{scenes:"document"}))}}var j=(0,t.$j)(Ce)(J),te=e(38979),q=e(90706),ae=e(12968),xe=e(44208),be=e(60667),qe=re=>({userInfo:re.user});class Ge extends r().Component{constructor(){var i;super(...arguments);i=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var o=this.props,n=o.studyInfo,a=o.mode,l=o.userInfo,d=l.enterpriseId,h=l.id;a==="learn"&&(0,u.Gp)({studyInfo:n,enterpriseId:d,userId:h})},this.getInfoFromSettings=(0,_.Z)(T().mark(function o(){var n,a,l;return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,m.Gw)();case 2:n=h.sent,a=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],l=(0,u.RG)(n,a),i.setState(l,()=>{i.renderWatermark()});case 6:case"end":return h.stop()}},o)})),this.renderWatermark=()=>{var o=this.props.userInfo,n=this.state.imageWatermark,a=o.name,l=o.unionid,d=o.sourceType,h=o.jobNumber,D=o.position,C=[];n.indexOf("name")>-1&&C.push(r().createElement(be.Z,{dataType:"userName",value:l,name:a,type:d})),n.indexOf("position")>-1&&C.push(r().createElement("span",null,D)),n.indexOf("jobnumber")>-1&&C.push(r().createElement("span",null,h)),n.length>0&&this.setState({watermark:C.map((x,k)=>r().createElement("span",{key:k},x))})},this.handleError=o=>{var n=this.props.onError;n&&n(o)},this.getImageUrl=(0,_.Z)(T().mark(function o(){var n,a,l,d,h,D,C,x,k,K;return T().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(n=i.props,a=n.resourceInfo,l=n.t,d=a.playId,h=a.url,D=a.storageType,C=h,!D){B.next=21;break}if(D!=="ALIBABA_PRIVATE"){B.next=15;break}return B.next=7,(0,m.J7)(d);case 7:if(x=B.sent,!x){B.next=12;break}C=x,B.next=13;break;case 12:return B.abrupt("return",g.default.info(l("privateCloud.docReadError")));case 13:B.next=21;break;case 15:if(D!=="LOCAL"){B.next=21;break}return B.next=18,he(d);case 18:k=B.sent,K=k.data,K.code===0&&(C="".concat(h,"?auth_key=").concat(K.data.auth_key));case 21:i.setState({imageUrl:[C]},()=>{var X=i.state.imageUrl,se="image-business",le=document.querySelectorAll(".".concat(se,"-image img"));le.forEach((ce,G)=>{ce.onerror=()=>{i.handleError(X[G])}})});case 22:case"end":return B.stop()}},o)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var i="image-business",o=this.props.resourceInfo,n=o.preview,a=n===void 0?!1:n,l=this.state,d=l.watermark,h=l.imageUrl;return r().createElement("div",{className:i},r().createElement(ge.Z,{scenes:"image"}),r().createElement(q.Z,{className:"".concat(i,"-carousel")},h.map((D,C)=>r().createElement("div",{className:"".concat(i,"-image"),key:C.toString()},r().createElement(xe.Z,{src:D,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:a})))))}}Ge.defaultProps={prefixCls:"watch-image-page"};var Je=(0,t.$j)(qe)((0,N.Z)()(Ge)),Xe=re=>({userInfo:re.user});class et extends r().Component{constructor(){var i;super(...arguments);i=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,_.Z)(T().mark(function o(){var n,a,l;return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,m.Gw)();case 2:n=h.sent,a=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],l=(0,u.RG)(n,a),i.setState(l,()=>{i.renderWatermark()});case 6:case"end":return h.stop()}},o)})),this.renderWatermark=()=>{var o=this.props.userInfo,n=this.state.htmlWatermark,a=o.name,l=o.unionid,d=o.sourceType,h=o.jobNumber,D=o.position,C=[];n.indexOf("name")>-1&&C.push(r().createElement(be.Z,{dataType:"userName",value:l,name:a,type:d})),n.indexOf("position")>-1&&C.push(r().createElement("span",null,D)),n.indexOf("jobnumber")>-1&&C.push(r().createElement("span",null,h)),n.length>0&&this.setState({watermark:C.map((x,k)=>r().createElement("span",{key:k},x))})},this.saveProgress=()=>{var o=this.props,n=o.studyInfo,a=o.mode,l=o.userInfo,d=l.enterpriseId,h=l.id;a==="learn"&&(0,u.Gp)({studyInfo:n,enterpriseId:d,userId:h})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var i="html-business",o=this.props.resourceInfo,n=o.url,a=this.state.watermark;return r().createElement("div",{className:i},r().createElement("div",{className:"".concat(i,"__html-watermark")},a),r().createElement("iframe",{title:"html",className:"".concat(i,"_iframe"),src:n}))}}var tt=(0,t.$j)(Xe)((0,N.Z)()(et)),at=e(57068),rt=e(1164),we=re=>({userInfo:re.user});class Ie extends r().PureComponent{constructor(){super(...arguments);this.getHost=i=>{var o=i.split("//"),n=o[1].split("/");return[o[0],n[0]].join("//")},this.getScormUrl=()=>{var i=this.props,o=i.studyInfo,n=i.mode,a=i.userInfo,l=i.resourceInfo,d=i.from,h=a.enterpriseId,D=a.id,C=l.url,x=this.getHost(C);if(n==="learn"){var k=(0,I.Z)({userId:D,enterpriseId:h,access_token:localStorage.token,from:d,scormUrl:encodeURIComponent(C),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},o);return"".concat(x).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(at.stringify(k))}return"".concat(x,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(C))},this.handleOpenScormLink=i=>{rt.Z.targetTo({path:i,isExternalLink:!0})}}render(){var i=this.props.t,o="scorm-business",n=this.getScormUrl(),a=(0,de.UI)("SCORM_EXTERNAL_WATCH");return r().createElement("div",{className:o},a?r().createElement("div",{className:"".concat(o,"_scorm")},r().createElement("img",{className:"".concat(o,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),r().createElement("h5",null,i("resourcePlay.scormTip")),r().createElement(S.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(n)},i("resourceLibrary.h5LinkPlayButton"))):r().createElement("iframe",{title:"scorm",className:"".concat(o,"_iframe"),src:n}))}}var pt=(0,t.$j)(we)((0,N.Z)()(Ie));class mt extends r().Component{render(){var i=this.props,o=i.visible,n=i.title,a=i.onCancel,l=i.t,d=r().createElement("span",null,n);return r().createElement(Ee.ZP,{visible:o,title:d,onCancel:a,footer:null},r().createElement("div",{className:"ban-preview"},r().createElement("div",{className:"ban-preview-center"},r().createElement("img",{src:A(),alt:"picture"}),r().createElement("h2",null,l("localStorage.tip")),r().createElement("p",null,l("localStorage.banPreview"))),r().createElement("hr",null),r().createElement(S.Z,{type:"primary",className:"know",onClick:a},l("localStorage.onKnow"))))}}var ht=(0,N.Z)()(mt);class ut extends O.Component{constructor(){var i;super(...arguments);i=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=o=>{var n=this.props.previewInfo,a=n.onCancel;this.onCancel(),a(o)},this.onGetVideoBusiness=o=>{var n=this.props.onRef,a=n===void 0?()=>{}:n;this.videoBusiness=o,a(o)},this.onFullScreen=()=>{var o=this.state.fullScreen;this.setState({fullScreen:!o})},this.handleJudgeNetwork=(0,_.Z)(T().mark(function o(){var n,a,l,d,h,D,C,x,k,K,U,B=arguments;return T().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(n=B.length>0&&B[0]!==void 0?B[0]:null,a=i.props,l=a.resourceInfo,d=a.watchType,h=l.storageType,D=l.playId,C=l.originUrl,x=d==="image"||d==="video"||d==="doc",k=null,n?k=n:C?k=C:k=l.url,!(x&&k&&D&&h&&h==="LOCAL")){se.next=22;break}return se.prev=7,se.next=10,(0,m.NY)(D);case 10:return K=se.sent,se.next=13,(0,m.Hy)(k,K);case 13:U=se.sent,U?i.setState({showBan:"no"}):i.setState({showBan:"yes"}),se.next=20;break;case 17:se.prev=17,se.t0=se.catch(7),i.setState({showBan:"yes"});case 20:se.next=23;break;case 22:i.setState({showBan:"no"});case 23:case"end":return se.stop()}},o,null,[[7,17]])})),this.renderOuter=()=>{var o=this.props,n=o.prefixCls,a=o.watchType,l=o.onCurrentTime,d=l===void 0?()=>{}:l;return r().createElement("div",{className:"".concat(n,"-outer")},a==="video"&&r().createElement(Ue,(0,W.Z)({onCurrentTime:d,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),a==="doc"&&r().createElement(j,this.props),a==="image"&&r().createElement(Je,(0,W.Z)({onError:this.handleJudgeNetwork},this.props)),a==="html"&&r().createElement(tt,this.props),a==="scorm"&&r().createElement(pt,this.props))},this.renderFooter=()=>{var o=this.props,n=o.resourceInfo.storageType,a=o.t,l=this.state.showBan,d=l!==""&&l==="yes";return n&&n!=="PUBLIC_CLOUD"&&d?r().createElement(S.Z,{type:"primary",className:"know",onClick:this.onCancelModel},a("localStorage.onKnow")):null}}componentDidMount(){var i=this.props.mode;i==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(i){i.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var i=this.state,o=i.showBan,n=i.fullScreen,a=this.props,l=a.mode,d=a.previewWay,h=a.previewInfo,D=a.prefixCls,C=a.t,x=a.showEnlarge,k=a.footer,K=k===void 0?null:k,U=h.visible,B=h.destroyOnClose,X=h.title,se=o!==""&&o==="yes",le=o!==""&&o==="no";return r().createElement(O.Fragment,null,l==="preview"&&d==="popups"&&r().createElement(Ee.ZP,{destroyOnClose:B,visible:U,title:X,onCancel:this.onCancelModel,footer:K||this.renderFooter(),wrapClassName:"".concat(D,"-resource ").concat(n?"".concat(D,"-full"):"")},x&&r().createElement("div",{className:"".concat(D,"-resource-out-icon"),onClick:this.onFullScreen},n?r().createElement(s.Z,{className:"".concat(D,"-resource-icon")}):r().createElement(c.Z,{className:"".concat(D,"-resource-icon")})),r().createElement("div",{className:"".concat(D,"-inner")},!U&&r().createElement(v.Z,{size:"large"}),U&&le&&this.renderOuter(),se&&r().createElement(f,null))),(l==="learn"||d==="page")&&le&&this.renderOuter(),(l==="learn"||d==="page")&&r().createElement(ht,{visible:se,title:X||C("questionn.warmHint"),onCancel:this.onCancel}))}}ut.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var vt=(0,N.Z)("translation",{withRef:!0})(ut)},41225:function(oe,H,e){"use strict";e.d(H,{Hy:function(){return _},NY:function(){return Z},Gw:function(){return T},sH:function(){return s},BR:function(){return O},qp:function(){return c},Xc:function(){return N},J7:function(){return r}});var E=e(57361),v=e(9754),V=e.n(v),S=e(10237),W=e(37055),_=function(){var w=(0,E.Z)(V().mark(function A(){var b,f,I,R,g,t,u,m=arguments;return V().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return b=m.length>0&&m[0]!==void 0?m[0]:"",f=m.length>1&&m[1]!==void 0?m[1]:"",I="",b.startsWith("http")?(R=b.split("//")[1].trim(),g=R.split("/")[0],I="https://".concat(g,"/cms/ticket")):(t=b.split("/")[0],I="https://".concat(t,"/cms/ticket")),y.prev=4,y.next=7,S.ZQ.get({url:I,params:{ticket:f}});case 7:if(u=y.sent,!(u.status===200||u.status===403)){y.next=10;break}return y.abrupt("return",Promise.resolve(!0));case 10:return y.abrupt("return",Promise.resolve(!1));case 13:return y.prev=13,y.t0=y.catch(4),y.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return y.stop()}},A,null,[[4,13]])}));return function(){return w.apply(this,arguments)}}(),Z=function(){var w=(0,E.Z)(V().mark(function A(b){var f,I;return V().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,S.ZQ.get({url:W.ZP.local.getTicket(b)});case 2:if(f=g.sent,I=f.data,I.code!==0){g.next=6;break}return g.abrupt("return",Promise.resolve(I.data.ticket));case 6:return g.abrupt("return",Promise.resolve(""));case 7:case"end":return g.stop()}},A)}));return function(b){return w.apply(this,arguments)}}(),T=function(){var w=(0,E.Z)(V().mark(function A(){var b;return V().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,S.WY.get({url:W.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return b=I.sent,I.abrupt("return",b.data.list);case 4:case"end":return I.stop()}},A)}));return function(){return w.apply(this,arguments)}}(),O=function(){var w=(0,E.Z)(V().mark(function A(b){var f,I,R;return V().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.WY.get({url:W.ZP.localStorage.getPravateVideoUrl(b)});case 2:if(f=t.sent,f.data.code!==0){t.next=6;break}return I=f.data.data.videoPlayInfo,R=I===void 0?"":I,t.abrupt("return",R);case 6:return t.abrupt("return","");case 7:case"end":return t.stop()}},A)}));return function(b){return w.apply(this,arguments)}}(),r=function(){var w=(0,E.Z)(V().mark(function A(b){var f,I,R;return V().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=W.ZP.localStorage.getPravateDocUrl(b),t.prev=1,t.next=4,S.WY.get({url:f});case 4:if(I=t.sent,R=I.data,!(R.code===0&&R.data)){t.next=8;break}return t.abrupt("return",R.data.docResourceDownloadUrl||"");case 8:return t.abrupt("return","");case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return","");case 14:case"end":return t.stop()}},A,null,[[1,11]])}));return function(b){return w.apply(this,arguments)}}(),s=function(A){var b=A.studyInfo,f=A.progress,I=A.recent_start,R=A.page_count,g=A.enterpriseId,t=A.userId,u=A.token,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p,y=b.studyType;if(y==="studyTask"&&(p=W.ZP.SaveProgress.studySaveProgress(b)),(y==="course"||y==="enterprise")&&(p=W.ZP.SaveProgress.enterpriseCourseSaveProgress(b)),y==="studyProject"&&(p=W.ZP.SaveProgress.projectSaveProgress(b)),y==="platform"&&(p="".concat(W.ZP.SaveProgress.platformCourseSaveProgress(b))),(m||y==="platform")&&(p+="?enterprise_id=".concat(g,"&user_id=").concat(t)),m)return p+="&access_token=".concat(u||localStorage.getItem("token")),p;var M={progress:f,recent_start:I,tempTime:Date.parse(new Date)};return R&&(M.page_count=R),b.evaluationId&&(M.evaluation_id=b.evaluationId),S.WY.post({url:p,data:M})},c=w=>{var A=w.popupId,b=w.planId,f=w.resourceId,I=w.type;return S.WY.post({url:W.ZP.TaskStudyRecord.setRandomPopupRecord(b),data:{course_id:f,terminal_type:"PC",popup_id:A,type:I}})},N=(w,A)=>{var b=W.ZP.SaveProgress.reportStatusInterval(w);return S.WY.post({url:b,data:A})}},21594:function(oe,H,e){"use strict";e.d(H,{pu:function(){return W},RG:function(){return _},Gp:function(){return Z},O8:function(){return T}});var E=e(88986),v=e(69164),V=e(38642),S=e(41225),W=O=>{var r="";switch(O){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":r="studyTask";break;case"enterprise":r="enterprise";break;case"courseProject":r="studyProject";break;case"platform":case"purchased":r="platform";break;default:break}return r},_=(O,r)=>{var s={};return r.forEach(c=>{var N=O.find(I=>I.type===c.type);if(N)if(c.type==="document_duration_limit"){var w=N.action_list,A=w.find(I=>I.type==="random_popup_verification");!(0,V.UI)("RANDOM_POPUP_VERIFY")||!A?s[c.name]="CLOSE":s[c.name]=A.param.checked==="true"?"OPEN":"CLOSE"}else if(c.type==="document_player"){var b=JSON.parse(N.actions);b.forEach(I=>{I.param.checked==="true"&&(s[c.name]=I.type)})}else if(c.type==="dynamic_watermark"){var f=N.action_list;f.forEach(I=>{I.type===c.resourceType&&I.param.checked==="true"&&(s[c.name]=I.param.comment)})}else s[c.name]=N.switch_status}),s},Z=O=>{(0,S.sH)((0,E.Z)({progress:100,recent_start:1},O)).then(r=>{r&&r.data&&(0,v.Z)(r.data.integral_info||"")})},T=O=>{var r=document.createElement("div");return r.innerHTML=O,r.childNodes[0]}},65749:function(oe,H,e){"use strict";var E=e(66456),v=e(55313),V=e(43185),S=e(53251),W=e(62029),_=e(57663),Z=e(71577),T=e(34792),O=e(48086),r=e(12924),s=e.n(r),c=e(91768),N=e(84874),w=e(37055),A=e(18329),b=e(37882),f={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1};class I extends s().Component{constructor(g){super(g);this.fileTeacherUpload=t=>{var u=this.props.t;try{t.file&&t.file.response&&(t.file.response.data.err_msg_list?this.setState({teacherCheckTemplate:t.file.response.code,importedList:[t.file.response.data],uploadErrMsg:t.file.response.data.err_msg_list}):O.default.error(u("upload.typeError")))}catch(m){O.default.error(u("upload.errorTip"))}},this.onCancel=()=>{this.props.onCancel()},this.onOk=()=>{var t=this.props,u=t.t,m=t.templateType,p=this.state,y=p.importedList,M=p.teacherCheckTemplate;if(M===""||M===1){O.default.error(u("employeeSummary.importFail"));return}var L={access_token:window.localStorage.getItem("token"),file_name:y.map(P=>P.file_name).join(","),original_file_name:y.map(P=>P.original_file_name).join(","),template_type:m};this.props.onCreate(L)},this.getTeacherTemplate=()=>{var t=this.props.importTeacherUrl,u=this.props.t;b.ZP.get({url:t}).then(m=>{m.data.code===0&&O.default.success(u("study.compoundSucceed"))})},this.renderSubTitle=()=>{var t=this.props,u=t.t,m=t.isLecturer,p=t.isTutor,y;return m?y=u("employeeSummary.teacherImportPointsTips"):p&&(y=u("employeeSummary.tutorImportPointsTips")),y},this.state={importedList:[],showLibErrorTip:!1,uploadConfig:{name:"file",action:"",showUploadList:!1,data:{access_token:window.localStorage.getItem("token"),template_type:this.props.templateType},onChange:this.fileTeacherUpload},uploadErrMsg:[],checkTemplate:"",teacherCheckTemplate:"",uploadAction:""}}componentDidMount(){var g=this.props,t=g.isLecturer,u=g.isTutor,m=this.state.uploadConfig,p="";t?p=w.ZP.points.teacherImport():u&&(p=w.ZP.points.tutorImport()),this.setState({uploadConfig:Object.assign(m,{action:p})})}componentDidUpdate(g){g.visible!==this.props.visible&&this.props.visible&&this.setState({importedList:[],showLibErrorTip:!1,uploadErrMsg:[]})}render(){var g=this.state,t=g.importedList,u=g.uploadConfig,m=g.uploadErrMsg,p=this.props,y=p.t,M=p.visible,L=p.loading,P=[{title:y("component.fileName"),dataIndex:"original_file_name",key:"newfileName"},{title:y("component.successLabel"),dataIndex:"success_count"},{title:y("component.failedLabel"),dataIndex:"failed_count"}];return s().createElement(A.ZP,(0,W.Z)({},f,{title:y("authentication.bulkImport"),visible:M,confirmLoading:L,onCancel:this.onCancel,onOk:this.onOk}),s().createElement("div",{className:"import-score"},s().createElement("div",{className:"import-score-import"},s().createElement(Z.Z,{className:"import-score-import-btn",onClick:this.getTeacherTemplate},s().createElement(N.Z,{iconClass:"icon-icon_donwloadx1"}),y("component.downloadTem")),s().createElement("span",{className:"import-score-import-tip"},this.renderSubTitle()),s().createElement(S.Z,(0,W.Z)({className:"import-score-import-btn right"},u),s().createElement(Z.Z,{type:"primary"},s().createElement(N.Z,{iconClass:"icon-import"}),t.length===0?y("component.importLabel"):y("employeeSummary.reImport")))),s().createElement("div",{className:"import-score-table"},s().createElement(v.Z,{dataSource:t,columns:P,bordered:!0,rowKey:F=>F.file_name,size:"middle",pagination:!1})),m.length>0?s().createElement("div",{className:"import-score-tip"},s().createElement("p",null,s().createElement(N.Z,{iconClass:"icon-tishi"}),y("component.errorTips"),":"),m.map((F,$)=>s().createElement("p",{key:$},F))):null))}}I.defaultProps={visible:!1,onCancel:()=>{},onOk:()=>{}},H.Z=(0,c.Z)()(I)},84009:function(oe,H,e){"use strict";var E=e(62029),v=e(12924),V=e.n(v),S=e(11092),W=e.n(S),_=e(6793),Z=()=>T=>class extends V().Component{constructor(){super(...arguments);this.state={initTableClassName:""},this.handleTableSticky=()=>{var r=(0,S.findDOMNode)(this.pageRef);this.pageRef.tableRef.offsetTop+46<=r.parentNode.scrollTop?this.pageRef.tableRef.className.indexOf("fixed-table-thead")===-1&&(this.pageRef.tableRef.className="".concat(this.pageRef.tableRef.className," fixed-table-thead"),this.resetThTdWidth()):this.pageRef.tableRef.offsetTop>r.parentNode.scrollTop&&(this.pageRef.tableRef.className=this.state.initTableClassName)},this.resetThTdWidth=()=>{var r=this.pageRef.tableRef.getElementsByTagName("thead")[0];r.style.width="".concat(this.pageRef.tableRef.offsetWidth,"px");var s=r.childNodes[0];r.childNodes[1]&&(r.childNodes[1]="".concat(this.pageRef.tableRef.offsetWidth,"px")),s.style.width="".concat(this.pageRef.tableRef.offsetWidth,"px");var c=this.pageRef.tableRef.getElementsByTagName("tbody")[0].childNodes,N=!1;if(c&&c.length){try{var w=c[0].getAttribute("class");w==="ant-table-placeholder"&&(N=!0)}catch(f){console.log(f)}if(!N){var A=c[0].childNodes;if(A&&A.length){var b=A&&A.length&&Array.prototype.slice.call(A).map(f=>f.offsetWidth);s.childNodes&&s.childNodes.length&&Array.prototype.slice.call(s.childNodes).forEach((f,I)=>{f.style.width="".concat(b[I],"px")}),b.map(f=>f)}}}}}componentDidMount(){var r=(0,S.findDOMNode)(this.pageRef);this.setState({initTableClassName:this.pageRef.tableRef.className}),r.parentNode.addEventListener("scroll",this.handleTableSticky),window.addEventListener("resize",this.resetThTdWidth)}componentDidUpdate(){(0,_.P2)(this.handleTableSticky,500)()}componentWillUnmount(){var r=(0,S.findDOMNode)(this.pageRef);r.parentNode.removeEventListener("scroll",this.handleTableSticky),window.removeEventListener("resize",this.resetThTdWidth)}render(){return V().createElement(T,(0,E.Z)({ref:r=>this.pageRef=r},this.props))}};H.Z=Z},11449:function(oe,H,e){"use strict";e.d(H,{Z:function(){return P}});var E=e(88986),v=e(33565),V=e(12924),S=e.n(V),W=e(3115),_=e(49111),Z=e(19650),T=e(62029),O=e(57663),r=e(71577),s=e(91768),c=e(28216),N=e(37055),w=e(10237);function A(F){var $=N.ZP.getHelpContentByMenuKey(),z={key:F};return w.WY.get({url:$,params:z})}var b=e(74228),f=e.n(b),I=e(1164),R=e(76466),g=e(38642);class t extends S().Component{constructor($){var z;super($);z=this,this.getHelpContentByMenuKey=()=>{var Y=this.props.defaultMenuKey;A(Y).then(ee=>{var Q=ee.data,pe=Q.help_url,ue=Q.video_url;this.setState({videoUrl:ue,helpUrl:pe})})},this.handleOpenHelpUrl=Y=>{if((0,g.ve)()){window.open(Y,"_blank");return}I.Z.targetTo({path:Y,isExternalLink:!0})},this.handleOpenVideo=function(Y){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.props.t("helpCenter.video");z.setState(Q=>({resourcePlayInfo:(0,E.Z)((0,E.Z)({},Q.resourcePlayInfo),{},{resourceInfo:{originUrl:Y,source:{FD:Y,OD:Y},contentType:"mp4"}}),previewInfo:(0,E.Z)((0,E.Z)({},Q.previewInfo),{},{title:ee,visible:!0,onCancel:z.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Y=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,E.Z)((0,E.Z)({},Y),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:$.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var $=this.state,z=$.helpUrl,Y=$.resourcePlayInfo,ee=$.previewInfo,Q=$.videoUrl,pe=this.props.t;return S().createElement("div",{className:f().helpCenter},Q&&S().createElement(r.Z,{type:"link",className:f()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(Q)},pe("helpCenter.video")),z&&S().createElement(r.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(z)},pe("helpCenter.tutorial")),S().createElement(R.Z,(0,T.Z)({},Y,{previewInfo:ee})))}}var u=F=>({defaultMenuKey:F.currentRoute.menuKey});t.defaultProps={defaultMenuKey:""};var m=(0,c.$j)(u)((0,s.Z)()(t));function p(F){var $=F.extra,z=localStorage.getItem("dingPersonnel"),Y=sessionStorage.getItem("dingPersonnel");return S().createElement(Z.Z,null,$,z!=="dingPersonnel"&&Y!=="dingPersonnel"&&(0,g.eY)("COMMONEXTRA_HELP_CENTER")&&S().createElement(m,null))}var y=p,M=e(4408);function L(F){var $=(0,V.useState)({helpCenter:(0,g.eY)("HEAD_HELP_CENTER_BUT")}),z=(0,v.Z)($,1),Y=z[0],ee=F.pageContainerParams,Q=ee===void 0?{}:ee,pe=F.noPadding,ue=pe===void 0?!1:pe,he=F.isPersonal,ve=he===void 0?!1:he,Ee=F.pageTitle,de=F.className,fe=de===void 0?"":de,ge={extra:Y.helpCenter?S().createElement(y,{extra:Q.extra}):Q.extra},me=(0,E.Z)((0,E.Z)({},Q),ge);return S().createElement("div",{className:"page-container-content ".concat(ue?"page-container-noPadding":""," ").concat(ve?"page-container-content_personal_background":""," ").concat(fe)},Ee&&S().createElement(M.Z,{title:Ee}),ve?S().createElement(W.Z,null,F.children):S().createElement(W.Z,me,F.children))}var P=L},9849:function(oe,H,e){"use strict";e.d(H,{Ej:function(){return W},kL:function(){return _},T:function(){return Z},NU:function(){return T},FL:function(){return O},fn:function(){return r},bm:function(){return s},jY:function(){return c},Vs:function(){return N},li:function(){return w},Nl:function(){return A},YF:function(){return b},Q6:function(){return f},zW:function(){return I},Zv:function(){return R},Qg:function(){return g},qc:function(){return t},Ve:function(){return m},rS:function(){return p},Rh:function(){return y}});var E=e(10237),v=e(37055),V=e(38642),S={zaraFlag:(0,V.UI)("ZARA_H5")};function W(M,L){var P=v.ZP.StudyProjectList.startStudy(M);return E.WY.post({url:P,data:L})}function _(M){var L=v.ZP.Common.enroll(M);return E.WY.post({url:L})}function Z(M,L){var P=M.courseId,F=v.ZP.StudyProjectList.studyProject(P);return E.WY.get({url:F,params:L})}function T(M){var L=M.id,P=S.zaraFlag?v.m1.getAssessmentProjectInfo(L):v.m1.getProjectInfo(L);return E.WY.get({url:P})}function O(M){var L=M.courseId,P=v.ZP.EnterpriseCourse.addScanCount(L);return E.WY.post({url:P})}function r(){var M=v.ZP.StudyProjectList.getAccountInfo();return E.WY.get({url:M})}function s(M){var L=v.ZP.StudyProjectList.projectCertiUrl(M);return E.WY.get({url:L})}function c(M){var L=M.courseId,P=v.ZP.Courses.like(L);return E.WY.post({url:P})}function N(M){var L=v.ZP.EnterpriseCourse.addCommentAndScore();return E.qg.post({url:L,data:M})}function w(M){var L=v.ZP.EnterpriseCourse.getCourseComments();return E.WY.get({url:L,params:M})}function A(M){var L=v.ZP.EnterpriseCourse.addCommentAndScore();return E.qg.post({url:L,data:M})}function b(M){var L=v.ZP.EnterpriseCourse.deleteComment();return E.qg.post({url:L,data:M})}function f(M,L){var P=v.ZP.StudyProjectList.projectStudyRecord(M);return E.WY.get({url:P,params:L})}function I(M){var L=v.ZP.DingSpaceId.getSpaceId();return E.WY.get({url:L,params:M})}function R(M,L){var P=v.ZP.PlatformCourse.learningUrl(M);return E.WY.get({url:P,params:L})}function g(M){var L=v.ZP.MyExamTask.examIntro({examId:M});return E.WY.get({url:L})}function t(M){var L=v.ZP.MyExamTask.examCheckStatus({examId:M});return E.WY.get({url:L})}function u(M,L){var P=CONFIG.Common.getOperateLog(M);return formDataRequest.get({url:P,params:L})}function m(M,L){var P=S.zaraFlag?v.ZP.StudyProjectList.changeCustomStatus(M):v.ZP.StudyProjectList.changeStatus(M);return E.WY.post({url:P,data:L})}function p(M){var L=v.ZP.StudyProjectList.getProjectReward(M);return E.WY.get({url:L})}function y(M){var L=v.ZP.subsidyGz.subsidyCourseSetting(M);return E.WY.get({url:L})}},35868:function(oe,H,e){"use strict";e.r(H),e.d(H,{default:function(){return Ce}});var E=e(62029),v=e(59250),V=e(13013),S=e(30887),W=e(99210),_=e(88983),Z=e(47933),T=e(57663),O=e(71577),r=e(34792),s=e(48086),c=e(88986),N=e(57361),w=e(9754),A=e.n(w),b=e(12924),f=e.n(b),I=e(91768),R=e(49101),g=e(28216),t=e(14781),u=e(53431),m=e(62350),p=e(75443),y=e(77576),M=e(59314),L=e(36546),P=e(44289),F=e(7145),$=e.n(F),z=e(81211),Y=-1;class ee extends f().Component{render(){var ne=this.props,J=ne.isOver,j=ne.connectDragSource,te=ne.connectDropTarget,q=ne.moveRow,ae=(0,z.Z)(ne,["isOver","connectDragSource","connectDropTarget","moveRow"]),xe=(0,c.Z)((0,c.Z)({},ae.style),{},{cursor:"move"}),be=ae.className;return J&&(ae.index>Y&&(be+=" drop-over-downward"),ae.index<Y&&(be+=" drop-over-upward")),j(te(f().createElement("tr",(0,E.Z)({},ae,{className:be,style:xe}))))}}var Q={beginDrag(ie){return Y=ie.index,{index:ie.index}}},pe={drop(ie,ne){var J=ne.getItem().index,j=ie.index;J!==j&&(ie.moveRow(J,j),ne.getItem().index=j)}},ue=(0,L.GR)("row",pe,(ie,ne)=>({connectDropTarget:ie.dropTarget(),isOver:ne.isOver()}))((0,L.Ej)("row",Q,ie=>({connectDragSource:ie.dragSource()}))(ee)),he=e(55285),ve=e(84874),Ee=e(6793),de=e(86726),fe=e(1164),ge=e(37781),me=e(30311),Me=e(37055);class Ne extends f().Component{constructor(ne){super(ne);this.components={body:{row:localStorage.getItem("dingPersonnel")!=="dingPersonnel"?ue:!1}},this.operateStatus=(J,j)=>{var te=this.state.allowActions,q=(0,de.H3)("beginOrstop",te);!q||(0,ge.iT)({tutorId:J,status:j==="on"?"off":"on"}).then(ae=>{ae.data.update==="true"&&s.default.success(this.props.t("study.updateSuccess")),this.getTutorList()})},this.edit=J=>{this.props.onEdit(J)},this.remove=J=>{this.props.onRemove(J,()=>{this.getTutorList()})},this.getTutorList=J=>{var j=this.state.pageConfig;this.setState({loading:!0});var te=J?J.params:this.props.params;te=(0,c.Z)((0,c.Z)({},te),j),(0,ge.Nf)(te).then(q=>{this.setState({data:q.data.data.list,loading:!1,dataTotal:q.data.data.total})}).catch(()=>{this.setState({loading:!1})})},this.moveRow=(J,j)=>{var te=this.state.data,q=te[J],ae=te[j];this.setState($()(this.state,{data:{$splice:[[J,1],[j,0,q]]}})),this.updateSort(q.id,ae.id)},this.updateSort=(J,j)=>{(0,ge.hB)({source_id:J,destination_id:j}).then(te=>{te.data.code===0&&s.default.success(this.props.t("study.updateSuccess"))})},this.setShowDetail=J=>{fe.Z.targetTo({path:"/tutorialManage/detail?tutorId=".concat(J.id)})},this.pageChange=J=>{var j=this.state.pageConfig;this.setState({pageConfig:Object.assign(j,{page_number:J})},()=>{this.getTutorList()})},this.pageSizeChange=(J,j)=>{var te=this.state.pageConfig;this.setState({pageConfig:Object.assign(te,{page_size:j})},()=>{this.getTutorList()})},this.state={data:[],coursesVisible:!1,lecturerId:"",latojaVisible:!1,allowActions:(0,de.V9)("tutorList",ne.modules),loading:!1,dataTotal:0,pageConfig:{page_number:1,page_size:20}}}componentDidMount(){this.props.getRef&&this.props.getRef(this),this.getTutorList()}componentWillReceiveProps(ne){this.getTutorList(ne)}render(){var ne=this.props,J=ne.t,j=ne.headerTitle,te=ne.toolBarRender,q=this.state,ae=q.allowActions,xe=q.data,be=q.loading,qe=q.dataTotal,Ge=q.pageConfig,Je=(0,de.H3)("edit",ae),Xe=(0,de.H3)("delete",ae),et=(0,de.H3)("beginOrstop",ae),tt={title:J("tutorial.tutor"),dataIndex:"user_name",key:"user_name",fixed:"left",width:100,render:(we,Ie)=>f().createElement("span",{className:"cl-pointer",onClick:()=>this.setShowDetail(Ie)},we,Ie.user_quit==="true"?f().createElement("span",{className:"leave-employee"},J("lecturerPage.resignation")):null)},at=[{title:J("common.teachingDepartment"),width:100,render:(we,Ie)=>f().createElement("span",null,Ie.department_name)},{title:J("tutorial.teachNum"),dataIndex:"apprentice_count",key:"apprentice_count",width:100,render:(we,Ie)=>f().createElement(me.Z,{name:we,onClick:()=>this.setShowDetail(Ie)})},{title:J("common.createTime"),dataIndex:"create_time",key:"create_time",width:150,render:we=>(0,Ee.p6)(we)},{title:J("common.status"),dataIndex:"status",key:"status",fixed:"right",width:100,render:(we,Ie)=>f().createElement("span",{className:"operate_switch"},f().createElement("span",{onClick:()=>this.operateStatus(Ie.id,Ie.status)},f().createElement(M.Z,{checked:Ie.status==="on",disabled:!et,checkedChildren:J("common.activated"),unCheckedChildren:J("common.deactivated")})))},{title:J("common.operate"),fixed:"right",key:"operate",dataIndex:"",width:160,render:(we,Ie)=>f().createElement("span",{className:"operate",style:{justifyContent:"flex-start"}},Je&&f().createElement("span",{style:{marginRight:8}},f().createElement("span",{onClick:()=>this.edit(Ie.id),className:"cl-pointer"},J("common.edit"))),Je&&Xe&&f().createElement("span",{className:"cl-pointer-divide",style:{marginRight:8}}),Xe&&f().createElement("span",{style:{marginRight:8}},f().createElement(p.Z,{placement:"topLeft",title:J("lecturerPage.deleteTip"),okText:J("common.ok"),cancelText:J("common.cancel"),onConfirm:()=>this.remove(Ie.id)},f().createElement("span",{className:"cl-pointer"},J("common.delete")))),localStorage.getItem("dingPersonnel")!=="dingPersonnel"&&f().createElement(f().Fragment,null,f().createElement("span",{style:{marginRight:8},className:"cl-pointer-divide"}),f().createElement("span",{className:"move"},f().createElement(ve.Z,{iconClass:"iconf-move"}))))}],rt=(0,c.Z)((0,c.Z)({},Me.XE.INITIAL_PAGINATION),{},{current:Ge.page_number,total:Number(qe),onChange:this.pageChange,onShowSizeChange:this.pageSizeChange});return f().createElement("div",null,f().createElement(he.Z,{ref:we=>{this.tableRef=we},nameColumn:tt,columns:at,dataSource:xe,components:this.components,loading:be,pagination:!1,rowKey:we=>we.id,onRow:(we,Ie)=>({index:Ie,moveRow:this.moveRow}),headerTitle:j,toolBarRender:te,tableUUID:"0908cb8b-3169-4d30-ae95-2e520ba227d5"}),f().createElement("div",{className:"tutorList-pagination"},f().createElement(u.Z,rt)))}}var Ve=(0,g.$j)(ie=>({modules:ie.user.modules,themeColor:ie.advancedSetting.themeColor}))((0,I.Z)()((0,L.Z5)(P.ZP)(Ne))),Ue=e(11449),Ye=e(4408),Se=e(64262),We=e(84009),$e=e(48479),_e=e(31457),Re=e(65749),Ze=e(10237),ye=ie=>({userInfo:ie.user});class Pe extends f().Component{constructor(ne){var J;super(ne);J=this,this.getIsOpenMultiOrg=(0,N.Z)(A().mark(function j(){return A().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.t0=J,q.next=3,(0,_e.dQ)();case 3:q.t1=q.sent,q.t2={isOpenMultiOrg:q.t1},q.t0.setState.call(q.t0,q.t2);case 6:case"end":return q.stop()}},j)})),this.handleStatus=j=>{var te=this.state.params;this.setState({params:(0,c.Z)((0,c.Z)({},te),{},{status:j.target.value})})},this.handleSearch=j=>{var te=this.state.params;this.setState({params:(0,c.Z)((0,c.Z)({},te),{},{keyword:j})})},this.handleTreeSelectChange=j=>{var te=this.state.params;this.setState({params:(0,c.Z)((0,c.Z)({},te),{},{department_id:j})})},this.remove=(j,te)=>{var q=this.props.t;(0,ge.GK)(j).then(ae=>{ae.data.code===0?(s.default.success(q("common.deleteSuccess")),te()):s.default.error(ae.data.msg)})},this.edit=j=>{fe.Z.targetTo({path:"/tutorialManage/addTutor?tutorId=".concat(j)})},this.createTutor=()=>{fe.Z.targetTo({path:"/tutorialManage/addTutor"})},this.renderLeftRow=()=>{var j=this.props.t,te=this.state.allowActions,q=(0,de.H3)("add",te);return f().createElement("div",null,q&&f().createElement(O.Z,{type:"primary",icon:f().createElement(R.Z,null),onClick:this.createTutor},j("lecturerPage.newLecturer")),this.importTutors())},this.renderRightRow=()=>{var j=this.props.t;return f().createElement("div",{className:"lecturerList__header__query"},f().createElement(Z.ZP.Group,{defaultValue:"",onChange:this.handleStatus},f().createElement(Z.ZP.Button,{value:""},j("common.all")),f().createElement(Z.ZP.Button,{value:"on"},j("common.activated")),f().createElement(Z.ZP.Button,{value:"off"},j("common.deactivated"))),f().createElement($e.Z,{onSearch:this.handleSearch,width:"300px",placeholder:j("searchInputPlaceholder.tutorial")}))},this.importTutors=()=>{var j=this.state,te=j.isOpenMultiOrg,q=j.allowActions,ae=this.props.t,xe=(0,de.H3)("import_tutor",q);if(!xe)return null;var be=f().createElement(W.Z,{onClick:this.handleMenuClick},f().createElement(W.Z.Item,{key:"userId"},"".concat(ae("setting.importUserID")).concat(ae("setting.importUserEmpty"))),te&&f().createElement(W.Z.Item,{key:"telephone"},"".concat(ae("setting.importPhone")).concat(ae("setting.importUserEmpty"))),te&&f().createElement(W.Z.Item,{key:"email"},"".concat(ae("setting.importEmail")).concat(ae("setting.importUserEmpty"))));return f().createElement(V.Z,{overlay:be},f().createElement(O.Z,{type:"primary",className:"status_btn",ghost:!0},ae("employeeSummary.importTutors")))},this.handleMenuClick=j=>{var te=j.key,q=Me.ZP.points.importTutorDownload(),ae="";switch(te){case"userId":ae="tutor_user_id";break;case"telephone":ae="tutor_mobile";break;case"email":ae="tutor_email";break;default:break}q+="?template_type=".concat(ae),this.setState({teacherProps:{importTeacherUrl:q,visible:!0,isTutor:!0,templateType:ae}})},this.handleTemplateCancel=()=>{var j=this.state.teacherProps;this.setState({teacherProps:Object.assign(j,{visible:!1})})},this.handleTemplateOk=j=>{var te=this.props.t,q=Me.ZP.points.saveImportTutor();Ze.qg.post({url:q,data:j}).then(ae=>{ae.data.code===0?(s.default.success(te("employeeSummary.succeedImportTutor")),this.handleTemplateCancel(),this.contentRef.getTutorList()):s.default.error(te("employeeSummary.importFail"))}).catch(()=>{s.default.error(te("employeeSummary.importFail"))})},this.getRef=j=>{this.contentRef=j},this.state={params:{keyword:"",status:"",department_id:""},showEditTutorModel:!1,tutorDetail:"",allowActions:(0,de.V9)("tutorList",this.props.userInfo.modules),isOpenMultiOrg:!1,teacherProps:{visible:!1}}}componentDidMount(){this.getIsOpenMultiOrg()}render(){var ne=this.props,J=ne.prefixCls,j=ne.t,te=this.state,q=te.params,ae=te.teacherProps;return f().createElement(Ue.Z,{pageContainerParams:{header:{title:j("tutorial.mentorList")}}},f().createElement(Ye.Z,{title:j("documentTitle.tutorList")}),f().createElement("div",{className:"".concat(J,"__main-content")},f().createElement(Se.Z,{className:"cl-search-normal-width",parentId:"",checkable:!1,asyncLoad:!0,treeSelect:!0,placeholder:j("component.chooseTeachDeptTip"),handleTreeSelectChange:this.handleTreeSelectChange}),f().createElement("div",{className:"lecturerList__content",ref:xe=>this.tableRef=xe},f().createElement(Ve,{getRef:this.getRef,onEdit:this.edit,params:q,onRemove:this.remove,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow})),ae.visible&&f().createElement(Re.Z,(0,E.Z)({},ae,{onCancel:this.handleTemplateCancel,onCreate:this.handleTemplateOk}))))}}Pe.defaultProps={prefixCls:"tutor"};var Ce=(0,g.$j)(ye)((0,I.Z)()((0,We.Z)()(Pe)))},37781:function(oe,H,e){"use strict";e.d(H,{Q_:function(){return V},O$:function(){return S},PQ:function(){return W},zv:function(){return _},Vu:function(){return Z},Qd:function(){return T},t3:function(){return O},Tw:function(){return r},kV:function(){return s},W5:function(){return c},MA:function(){return N},Mm:function(){return w},pF:function(){return A},ZK:function(){return b},iT:function(){return f},Nf:function(){return I},hB:function(){return R},GK:function(){return g}});var E=e(37055),v=e(10237);function V(t){var u=t.tutorialsId,m=t.tutorUserId,p=t.userId,y=E.ZP.tutor.getCoachDetail({tutorialsId:u,tutorUserId:m,userId:p});return v.WY.get({url:y,params:{status:"single"}})}function S(t){var u=t.tutorialsId,m=t.status,p=t.keyword,y=E.ZP.tutor.getUserListByCoach(u);return v.WY.get({url:y,params:{status:m,keyword:p}})}function W(t){var u=E.ZP.tutor.queryTutor(t);return v.WY.get({url:u})}function _(t){var u=t.tutorId,m=t.user_id,p=t.gender,y=t.level_id,M=t.department_id,L=t.description,P=t.avatar,F=E.ZP.tutor.editTutor(u);return v.WY.post({url:F,data:{user_id:m,gender:p,level_id:y,description:L,department_id:M,avatar:P}})}function Z(t){var u=t.user_id,m=t.gender,p=t.level_id,y=t.description,M=t.avatar,L=t.department_id,P=E.ZP.tutor.addTutor();return v.WY.post({url:P,data:{user_id:u,gender:m,level_id:p,description:y,department_id:L,avatar:M}})}function T(t){var u=t.keyword,m=u===void 0?"":u,p=E.ZP.tutor.levelList();return v.WY.get({url:p,params:{keyword:m}})}function O(t){var u=t.name,m=t.standard,p=E.ZP.tutor.addLevel();return v.WY.post({url:p,data:{name:u,standard:m}})}function r(t){var u=t.id,m=t.name,p=t.standard,y=E.ZP.tutor.editLevel(u);return v.WY.post({url:y,data:{id:u,name:m,standard:p}})}function s(t){var u=t.resourceId,m=t.type,p=E.ZP.tagsInformation.resourceQueryTags();return v.WY.get({url:p,params:{type:m,resourceId:u,isNewTag:!0}})}function c(t){var u=t.tutorId,m=t.keyword,p=t.page_size,y=t.page_number,M=E.ZP.tutor.apprenticeList(u);return v.WY.get({url:M,params:{keyword:m,page_size:p,page_number:y}})}function N(t){var u=E.ZP.tutor.deleteApprentice(t);return v.WY.post({url:u})}function w(t){var u=t.tutorId,m=t.user_ids,p=E.ZP.tutor.addApprentice(u);return v.WY.post({url:p,data:{user_ids:m}})}function A(t){var u=E.ZP.tutor.deleteLevel(t);return v.WY.post({url:u})}function b(t){var u=t.source_id,m=t.destination_id,p=E.ZP.tutor.sortLevel(u);return v.WY.post({url:p,data:{source_id:u,destination_id:m}})}function f(t){var u=t.tutorId,m=t.status,p=E.ZP.tutor.updateStatusTutor(u);return v.WY.post({url:p,data:{status:m}})}function I(t){var u=t.keyword,m=t.status,p=t.department_id,y=t.page_number,M=t.page_size,L=E.ZP.tutor.listTutor();return v.WY.get({url:L,params:{keyword:u,status:m,department_id:p,page_number:y,page_size:M}})}function R(t){var u=t.source_id,m=t.destination_id,p=E.ZP.tutor.updateSortTutor(u);return v.WY.post({url:p,data:{source_id:u,destination_id:m}})}function g(t){var u=E.ZP.tutor.deleteTutor(t);return v.WY.post({url:u})}},14441:function(oe,H,e){"use strict";e.d(H,{v:function(){return V},t:function(){return S}});var E=e(10237),v=e(5430);function V(W){var _=v.Fc.getUserName();return E.WY.get({url:_,params:{user_id:W}})}function S(W){var _=v.Fc.getDepartmentNames();return E.WY.post({url:_,data:{ids:W}})}},91648:function(oe,H,e){"use strict";e.d(H,{Z:function(){return E}});function E(v,V){var S,W,_,Z,S;if(W="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),S=[],_=void 0,V=V||W.length,v)for(_=0;_<v;)S[_]=W[0|Math.random()*V],_++;else for(Z=void 0,S[8]=S[13]=S[18]=S[23]="-",S[14]="4",_=0;_<36;)S[_]||(Z=0|Math.random()*16,S[_]=W[_===19?Z&3|8:Z]),_++;return S.join("")}},86726:function(oe,H,e){"use strict";e.d(H,{V9:function(){return v},H3:function(){return V},e:function(){return S},F:function(){return W}});var E=e(93485);function v(_){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=[];function O(r,s){var c=(0,E.Z)(s),N;try{for(c.s();!(N=c.n()).done;){var w=N.value;if(w.key===r){T=w.actions;break}w.children instanceof Array&&w.children.length&&O(_,w.children)}}catch(A){c.e(A)}finally{c.f()}}return O(_,Z),T}function V(_){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=Z.find(O=>O.key===_)||{};return T.checked||!1}function S(_){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=!1;function O(r,s){var c=(0,E.Z)(s),N;try{for(c.s();!(N=c.n()).done;){var w=N.value;if(w.key===r){T=w.checked;break}w.children instanceof Array&&w.children.length&&O(_,w.children)}}catch(A){c.e(A)}finally{c.f()}}return O(_,Z),T}function W(_){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T="";function O(r,s){var c=(0,E.Z)(s),N;try{for(c.s();!(N=c.n()).done;){var w=N.value;if(w.key===r){T=w.id;break}w.children instanceof Array&&w.children.length&&O(_,w.children)}}catch(A){c.e(A)}finally{c.f()}}return O(_,Z),T}},69164:function(oe,H,e){"use strict";var E=e(34792),v=e(48086);function V(S){S&&S.length>0&&v.default.success(S)}H.Z=V},2396:function(oe,H,e){"use strict";e.d(H,{fA:function(){return V},kh:function(){return S},kR:function(){return W},rw:function(){return Z},$s:function(){return T},q_:function(){return O},QK:function(){return r}});var E=e(6793),v={limitWords(s,c){return{rules:[{max:s,message:"\u6700\u591A\u8F93\u5165".concat(s,"\u4E2A\u5B57")},{required:!0,message:c||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(s){return{rules:[{max:s,message:"\u6700\u591A\u8F93\u5165".concat(s,"\u4E2A\u6807\u7B7E")}]}},required(s){return{rules:[{required:!0,message:s||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(s,c){return{rules:[{required:!0,message:s||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:c}]}}},V={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s]|[ ]$/gi},S=s=>isNaN(s)||!s||!(s>=0&&s<1e3)||!V.score.test(s),W=s=>isNaN(s)||!s||!(s>-1e3&&s<1e3),_=s=>isNaN(s)||!s||!(s>=0&&s<1e3)||!V.examScore.test(s),Z=(s,c)=>{for(var N=0,w=0;w<s.length;w++){var A=s.charAt(w);if(A.match(/[^\x00-\xff]/ig)!=null?N+=1:N+=.5,N>c)return w}return 0},T=s=>{for(var c=0,N=0;N<s.length;N++){var w=s.charAt(N);w.match(/[^\x00-\xff]/ig)!=null?c+=1:c+=.5}return c},O=(s,c)=>{var N=s.target.value,w=s.target.dataset.originLength;if(s.target.dataset.originLength||(w=c,s.target.dataset.originLength=w),!!w){var A=T(N);A*1<c*1?s.target.setAttribute("maxLength",c*2):s.target.setAttribute("maxLength",c)}},r=(s,c)=>{var N="";return(!s||!(0,E.fy)(s))&&(N=c),N}},4412:function(oe){oe.exports="data:image/png;base64,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"}}]);
