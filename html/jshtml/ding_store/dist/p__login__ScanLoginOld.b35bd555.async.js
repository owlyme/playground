(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[3677],{36932:function(i,s,c){"use strict";c.r(s);var l=c(12924),n=c.n(l),_=c(94184),r=c.n(_),h=c(76651),m=c(57068),E=c(23842),p=c.n(E),d=c(37055),C=c(91768);class g extends l.Component{constructor(){super(...arguments);this.state={codeType:"login"},this.generateQrCode=t=>{var e,o=document.createElement("iframe"),a="https://login.dingtalk.com/login/qrcode.htm?goto=".concat(t.goto);a+=t.style?"&style=".concat(encodeURIComponent(t.style)):"",a+=t.href?"&href=".concat(t.href):"",o.src=a,o.frameBorder="0",o.allowTransparency="true",o.scrolling="no",o.width=t.width?"".concat(t.width,"px"):"365px",o.height=t.height?"".concat(t.height,"px"):"400px",e=document.getElementById(t.id),e&&(e.innerHTML="",e.appendChild(o))},this.setting=()=>{typeof window.addEventListener!="undefined"?window.addEventListener("message",this.handleMessage,!1):typeof window.attachEvent!="undefined"&&window.attachEvent("onmessage",this.handleMessage)},this.handleMessage=t=>{var e=encodeURIComponent("https://pro.coolcollege.cn/login.html?origin=".concat(window.location.origin)),o=d.ZP.Login.scanLogin(e);if(window.location.hash.indexOf("index-auth-login")>0){var a=t.data;a&&typeof a=="string"&&(window.location.href="".concat(o,"&loginTmpCode=").concat(a))}},this.dingding=()=>{var t=encodeURIComponent("https://pro.coolcollege.cn/login.html?origin=".concat(window.location.origin)),e="".concat(d.ZP.Login.scanLogin(t));this.generateQrCode({id:"login_container",goto:encodeURIComponent(e),width:"276",height:"300"})},this.handleChooseType=t=>{this.setState({codeType:t})},this.handleRegister=()=>{window.location.href="https://h5.dingtalk.com/orgreg/isvIndex.html?qrCode=E7DB6709D3328D8D33528BCB67C3E7B1A5AA0B67F0DFE9EF64618075C886EBB12D1679218AC98519548E1706D8FF49D18FEA0D33C8EEB5EDE8EB66A9042C2DC47F4B526C2EF5EB070F8C3A58065DE31CD79E5AD38263CF2C52C084999F7CADE560451A0598F7C5E9&signature=d6e80060276c926cf9a75b1bdc6c21b3a16cc88f"},this.handleReturnHome=()=>{h.m8.push("/")}}componentDidMount(){var t=m.parse(this.props.location.search),e=t.source;this.setState({codeType:e||"login"}),this.dingding(),this.setting()}render(){var t=this.props,e=t.prefixCls,o=t.t,a=this.state.codeType;return n().createElement("div",{className:e},n().createElement("div",{className:"".concat(e,"__header")},window.location.host==="ehualu.coolcollege.cn"?n().createElement("img",{className:"".concat(e,"__logo"),src:"".concat("https://oss.coolcollege.cn","/1798693246931701760.png"),alt:""}):null,window.location.host==="ncds.gupt.edu.cn"?n().createElement("img",{className:"".concat(e,"__logo"),src:"".concat("https://oss.coolcollege.cn","/1798682932823592960.png"),alt:""}):null,window.location.host==="huizhijiaoyu.coolcollege.cn"?n().createElement("img",{className:"".concat(e,"__logo"),src:"".concat("https://oss.coolcollege.cn","/1799250352994914304.png"),alt:""}):null),n().createElement("div",{className:"".concat(e,"__body")},n().createElement("div",{className:"".concat(e,"__body__qr-code-wrapper")},n().createElement("div",{className:"".concat(e,"__body__img-box")},n().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1790243481017520128.png"),alt:""})),n().createElement("div",{className:"".concat(e,"__body__login-info")},n().createElement("div",{className:"".concat(e,"__body__login-type")},n().createElement("div",{className:r()("".concat(e,"__body__login-type__item"),a==="login"?"active":""),onClick:()=>this.handleChooseType("login")},o("registerLogin.scanCodeLogin")),n().createElement("div",{className:r()("".concat(e,"__body__login-type__item"),a==="register"?"active":""),onClick:()=>this.handleChooseType("register")},o("domainSettings.companyRegister"))),n().createElement("div",{className:"".concat(e,"__body__qr-code-container"),style:{display:a==="login"?"block":"none"}},n().createElement("div",{id:"login_container"})),n().createElement("div",{className:"".concat(e,"__body__register-container"),style:{display:a==="register"?"block":"none"}},n().createElement("img",{src:p()}),n().createElement("div",{className:"".concat(e,"__body__register-container__tips")},o("registerLogin.registerMethods"),n().createElement("span",{onClick:this.handleRegister},o("registerLogin.clickToRegister")))))),window.location.host==="pro.coolcollege.cn"&&null),window.location.host==="pro.coolcollege.cn"?n().createElement("div",{className:"".concat(e,"__footer")},o("registerLogin.allRightReserved")):null)}}g.defaultProps={prefixCls:"scan-login-container"},s.default=(0,C.Z)()(g)},23842:function(i,s,c){i.exports=c.p+"static/register_code.b7d5e0f7.png"}}]);
