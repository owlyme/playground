var V=(f,M,e)=>new Promise((T,u)=>{var C=n=>{try{_(e.next(n))}catch(L){u(L)}},m=n=>{try{_(e.throw(n))}catch(L){u(L)}},_=n=>n.done?T(n.value):Promise.resolve(n.value).then(C,m);_((e=e.apply(f,M)).next())});(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8334],{97880:function(f,M,e){"use strict";e.d(M,{Z:function(){return U}});var T=e(34792),u=e(48086),C=e(88986),m=e(12924),_=e.n(m),n=e(91768),L=e(18329),g=e(10237),E=e(37055),i=e(48479);class r extends _().Component{constructor(){super(...arguments);this.handleSearch=t=>{this.props.onSearch(t)},this.renderSearch=()=>{var t=this.props,c=t.prefixCls,d=t.t,a="".concat(c,"__search");return _().createElement("div",{className:a},_().createElement(i.Z,{onSearch:this.handleSearch,placeholder:d("searchInputPlaceholder.ability"),width:"230px"}))}}render(){var t=this.props.prefixCls;return _().createElement("header",{className:t},this.renderSearch())}}r.defaultProps={prefixCls:"cl-authentication-selector__queryrow"},r.defaultProps={prefixCls:"cl-authentication-selector__queryrow",onSearch:()=>{}};var R=(0,n.Z)()(r),D=e(66456),A=e(55313),K=e(95664);class I extends _().Component{constructor(){super(...arguments);this.columns=[{title:this.props.t("component.CertificationName"),dataIndex:"title",width:140,render:t=>_().createElement("div",{className:"cl-text-ellipsis",style:{width:185}},t)},{title:this.props.t("component.introduction"),dataIndex:"summary",render:t=>_().createElement("div",{className:"cl-text-ellipsis",style:{width:320}},t)},{title:this.props.t("common.study"),dataIndex:"studyCount",width:100,render:t=>"".concat(t>0?"".concat(t).concat(this.props.t("common.courseUnit")).concat(this.props.t("common.course")):"/")},{title:this.props.t("component.theoryExam"),dataIndex:"examCount",width:100,render:t=>"".concat(t>0?t+this.props.t("common.examUnit"):"/")},{title:this.props.t("component.practiceExam"),dataIndex:"operationCount",width:100,render:t=>"".concat(t>0?t+this.props.t("common.examUnit"):"/")}],this.handleTableChange=t=>{this.props.onTableChange(t)},this.handleSelectChange=(t,c)=>{this.props.onSelectChange({selectedRowKeys:t,selectedRows:c})}}render(){var t=this.props,c=t.prefixCls,d=t.list,a=d===void 0?[]:d,h=t.loading,l=t.paginationParams,s=l===void 0?{}:l,o=t.selectedRowKeys,p=o===void 0?[]:o,x={selectedRowKeys:p,onChange:this.handleSelectChange},N=s.total,F=s.totalPage,B=s.current;return _().createElement("section",{className:c},_().createElement(A.Z,{bordered:!0,size:"middle",columns:this.columns,rowKey:"id",rowSelection:x,dataSource:a,pagination:!1,loading:h}),_().createElement(K.Z,{totalNum:N,totalPage:F,current:B,defaultPageSize:5,showRenderRefresh:!1,onChange:this.handleTableChange}))}}I.defaultProps={prefixCls:"cl-authentication-selector__querycontent"},I.defaultProps={prefixCls:"cl-authentication-selector__querycontent",rowSelection:{selectedRowKeys:[],onChange:()=>{}}};var v=(0,n.Z)()(I),P={getList:E.ZP.SelectAuthentication.getList};class y extends _().Component{constructor(){super(...arguments);this.state={params:{keyword:"",status:1,pageNumber:1,pageSize:5},tableLoading:!0,tableList:[],tableTotal:0,tableTotalPage:0,selectedRowKeys:[],selectedList:[]},this.cachedSelectedRows=[],this.initData=t=>{this.setState({params:{keyword:"",status:1,pageNumber:1,pageSize:5},selectedRowKeys:[],selectedList:[]},t)},this.initTableList=()=>{this.setState({tableLoading:!0}),g.WY.get({url:P.getList(),params:(0,C.Z)({},this.state.params)}).then(t=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:t.data.list,tableTotal:t.data.total,tableTotalPage:t.data.pages})},300)})},this.handleChangePagination=t=>{this.setState(c=>({params:(0,C.Z)((0,C.Z)({},c.params),{},{pageNumber:t})}),()=>{this.initTableList()})},this.handleQueryRowSearch=t=>{this.resetPagination().then(()=>{this.setState(c=>({params:(0,C.Z)((0,C.Z)({},c.params),{},{keyword:t})}),()=>{this.initTableList()})})},this.resetPagination=()=>new Promise(t=>{this.setState(c=>({params:(0,C.Z)((0,C.Z)({},c.params),{},{pageNumber:1,pageSize:5})}),()=>{t()})}),this.handleOk=()=>{var t=this.props.t;if(this.state.selectedList.length>10){u.default.info(t("authentication.addAuthTip"));return}this.props.onOk(this.state.selectedList)},this.convertAuthenticationSelector=t=>t.map(c=>({componentName:"ClAuthenticationSelector",id:c.id,name:c.title,summary:c.summary,data:c,score:c.score})),this.handleSelectChange=t=>{var c=t.selectedRows;this.cachedSelectedRows=this.state.selectedList.filter(a=>{if(!this.state.tableList.find(h=>h.id===a.id))return a}),this.cachedSelectedRows=this.cachedSelectedRows.concat(this.convertAuthenticationSelector(c));var d=this.cachedSelectedRows.map(a=>a.id);this.setState({selectedRowKeys:d,selectedList:this.cachedSelectedRows})}}componentDidMount(){var t=this.props.defaultChecked;t.length&&(this.cachedSelectedRows=t.map(c=>(0,C.Z)((0,C.Z)({},c),c.data)))}componentDidUpdate(t){this.props.visible&&this.props.visible!==t.visible&&this.initData(()=>{this.initTableList();var c=this.props.defaultChecked.map(d=>d.id);this.setState({selectedRowKeys:c,selectedList:this.props.defaultChecked})})}render(){var t=this.props,c=t.prefixCls,d=t.visible,a=t.onCancel,h=t.disabledKeys,l=t.t,s=this.state,o=s.tableTotal,p=s.tableTotalPage,x=s.tableList,N=s.tableLoading,F=s.selectedRowKeys,B=s.params,$={total:o,totalPage:p,current:B.pageNumber};return _().createElement(L.ZP,{visible:d,size:"large",title:l("component.CertificationSelector"),okText:l("common.ok"),cancelText:l("common.cancel"),onCancel:a,onOk:this.handleOk},_().createElement("div",{className:c},d?_().createElement(_().Fragment,null,_().createElement(R,{onSearch:this.handleQueryRowSearch}),_().createElement(v,{loading:N,paginationParams:$,list:x,selectedRowKeys:F,disabledKeys:h,onSelectChange:this.handleSelectChange,onTableChange:this.handleChangePagination})):null))}}y.defaultProps={prefixCls:"cl-authentication-selector",visible:!1,defaultChecked:[],disabledKeys:[],onCancel:()=>{},onOk:()=>{}};var U=(0,n.Z)()(y)},70468:function(f,M,e){"use strict";e.a(f,function(T){return V(this,null,function*(){e.d(M,{e3:function(){return g},Qp:function(){return E},nB:function(){return i},OV:function(){return r}});var u=e(43859),C=e(67727),m=e(55019),_=e(28989),n=e(79451),L=T([_]);_=(L.then?yield L:L)[0];var g=(0,u.Z)(C.Z),E=(0,u.Z)(m.Z),i=(0,u.Z)(_.Z),r=(0,u.Z)(n.Z)})})},28989:function(f,M,e){"use strict";e.a(f,function(T){return V(this,null,function*(){for(var u=e(22385),C=e(31097),m=e(77883),_=e(21888),n=e(57361),L=e(9754),g=e.n(L),E=e(12924),i=e.n(E),r=e(91768),R=e(80991),D=e(36546),A=e(44289),K=e(49101),I=e(84874),v=e(97880),P=e(86458),y=function(){var d=(0,n.Z)(g().mark(function a(h){return g().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e(52148)("./postmap-item".concat(h,".png"));case 2:return s.abrupt("return",s.sent.default);case 3:case"end":return s.stop()}},a)}));return function(h){return d.apply(this,arguments)}}(),U=[],O=1;O<11;O++){var t=yield y(O);U.push(t)}class c extends i().Component{constructor(){super(...arguments);this.state={visible:!1},this.onCancel=()=>{this.setState({visible:!1})},this.handleSelectAuthentication=()=>{this.setState({visible:!0})},this.handleOk=a=>{if(a.length){var h=this.props.formik,l=[...h.values.paths];a.map(s=>{l.map(o=>{s.id===o.id&&(s.score=o.score)})}),h.setFieldValue("paths",a)}this.setState({visible:!1})},this.handleDND=(a,h)=>{var l=this.props.formik,s=[...l.values.paths],o=s[a];s.splice(a,1),s.splice(h,0,o),l.setFieldValue("paths",s)},this.handleChangeScore=a=>{var h=a.index,l=a.value,s=this.props.formik,o=[...s.values.paths];o[h].score=l,s.setFieldValue("paths",o)},this.handleDelete=a=>{var h=a.index,l=this.props.formik,s=[...l.values.paths];s.splice(h,1),l.setFieldValue("paths",s)},this.renderContent=()=>{var a=this.props,h=a.prefixCls,l=a.defaultFieldList,s="".concat(h,"__content");return i().createElement("ul",{className:s},l.map((o,p)=>this.renderDragItem(o,p)))},this.renderDragItem=(a,h)=>{var l=this.props,s=l.prefixCls,o=l.t,p="".concat(s,"__content__dragitem");return i().createElement(P.Z,{id:a.id,key:a.id,index:h,onDND:this.handleDND},i().createElement("div",{className:p,key:a.id},i().createElement("div",{className:"".concat(p,"__index")},h+1),i().createElement("div",{className:"".concat(p,"__wrapper")},i().createElement("div",{className:"".concat(p,"__wrapper__badge")},i().createElement("img",{src:U[h],alt:""})),i().createElement("div",{className:"".concat(p,"__wrapper__content")},i().createElement("p",{className:"".concat(p,"__wrapper__content__title")},a.name),i().createElement("p",{className:"".concat(p,"__wrapper__content__desc")},a.summary),i().createElement("div",{className:"".concat(p,"__wrapper__content__text")},i().createElement("a",{className:"".concat(p,"__wrapper__content__text__require")},"*"),i().createElement("span",null,o("authentication.postMapDetailSecSettingUnit")),i().createElement("div",{className:"".concat(p,"__wrapper__content__text__input")},i().createElement(_.Z,{precision:0,min:0,max:999,value:a.score,onChange:x=>this.handleChangeScore({item:a,index:h,value:x})})))),i().createElement("span",{className:"drag-icon-wrapper move"},i().createElement(I.Z,{iconClass:"icon-yidong"})),i().createElement("span",{className:"drag-icon-wrapper delete",onClick:()=>this.handleDelete({index:h,item:a})},i().createElement(I.Z,{iconClass:"icon-guanbi1"})))))},this.renderFooter=()=>{var a=this.props,h=a.prefixCls,l=a.defaultFieldList,s=a.t,o=l.length,p="".concat(h,"__footer");return o>=10?i().createElement(C.Z,{title:s("authentication.postMapDetailSecSettingAddBtnOverdueTip")},i().createElement("div",{className:"".concat(p," ").concat(h,"__footer-disabled")},i().createElement(K.Z,null),s("authentication.postMapDetailSecSettingAddBtn"))):i().createElement("div",{className:p,onClick:this.handleSelectAuthentication},i().createElement(K.Z,null),s("authentication.postMapDetailSecSettingAddBtn"))}}render(){var a=this.props,h=a.prefixCls,l=a.t,s=a.defaultFieldList,o=this.state.visible;return i().createElement("section",{className:h},i().createElement("p",{className:"cl-form__sectitle"},l("authentication.postMapDetailSecSettingTitle"),i().createElement("span",{className:"cl-form__sectitle__infotip"},l("authentication.postMapDetailSecSettingTitleTip"))),this.renderContent(),this.renderFooter(),i().createElement(v.Z,{visible:o,defaultChecked:s,onCancel:this.onCancel,onOk:this.handleOk}))}}c.defaultProps={prefixCls:"paths"},M.Z=(0,D.Z5)(A.ZP)((0,R.$j)((0,r.Z)()(c))),T()})},1)},55019:function(f,M,e){"use strict";var T=e(13062),u=e(71230),C=e(89032),m=e(15746),_=e(77883),n=e(21888),L=e(63185),g=e(9676),E=e(88986),i=e(12924),r=e.n(i),R=e(91768),D=e(80991),A=e(32407);class K extends r().Component{constructor(){super(...arguments);this.handleChangeCheck=v=>{var P=v.target.checked;this.props.formik.setFieldValue("reward",(0,E.Z)((0,E.Z)({},this.props.defaultFieldList),{},{isChecked:P}))},this.handleChangeCheckpoint=v=>{this.props.formik.setFieldValue("reward",(0,E.Z)((0,E.Z)({},this.props.defaultFieldList),{},{checkpoint:v}))},this.handleChangeScore=v=>{this.props.formik.setFieldValue("reward",(0,E.Z)((0,E.Z)({},this.props.defaultFieldList),{},{score:v}))},this.renderContent=()=>{var v=this.props,P=v.defaultFieldList,y=v.formik,U=v.t,O=P.isChecked,t=P.checkpoint,c=P.score,d=A.Z.language==="en_us"?U("authentication.postMapDetailSecRewardGrade"):"";return r().createElement(u.Z,null,r().createElement(m.Z,{span:24},r().createElement(g.Z,{checked:O,onChange:this.handleChangeCheck}),r().createElement("span",{className:"item-margin"},U("authentication.postMapDetailSecRewardCheckpoint")),r().createElement(n.Z,{precision:0,min:0,max:y.values.paths.length,value:t,disabled:!O,onChange:this.handleChangeCheckpoint}),r().createElement("span",{className:"item-margin"},U("authentication.postMapDetailSecRewardScore")),r().createElement(n.Z,{precision:0,min:0,max:999,value:c,disabled:!O,onChange:this.handleChangeScore}),r().createElement("span",{className:"item-margin"},d)))}}render(){var v=this.props,P=v.prefixCls,y=v.t;return r().createElement("section",{className:"cl-form__secbox ".concat(P)},r().createElement("header",{className:"cl-form__secbox__header"},y("authentication.postMapDetailSecRewardTitle"),r().createElement("span",{className:"cl-form__secbox__header__tipinfo"},y("authentication.postMapDetailSecRewardTitleTip"))),r().createElement("div",{className:"cl-form__secbox__content"},this.renderContent()))}}K.defaultProps={prefixCls:"rewrad"},M.Z=(0,D.$j)((0,R.Z)()(K))},79451:function(f,M,e){"use strict";var T=e(88983),u=e(47933),C=e(12924),m=e.n(C),_=e(91768),n=e(11226),L=e.n(n),g=e(64898),E=e.n(g),i=e(89795),r=e.n(i),R=e(32407),D=[{uid:"1234",url:r(),name:"",status:"done"}],A=[{template:L(),key:"STARRY_SKY_SERIES",text:R.Z.t("learning.learnUpgrade.universe")},{template:E(),key:"DESERT_OASIS",text:R.Z.t("learning.learnUpgrade.DesertOasis")}];class K extends C.Component{constructor(v){super(v);this.handleChange=P=>{var y=P.target.value;this.setState({map_template:y}),this.props.form.setFieldValue("map_template",y),y!=="STARRY_SKY_SERIES"?this.props.form.setFieldValue("cover",D):this.props.form.setFieldValue("cover",[{uid:"123",url:"".concat("https://oss.coolcollege.cn","/1789918456309747712.png"),name:"",status:"done"}])},this.state={map_template:v.defaultValue}}render(){var v=this.state.map_template;return m().createElement("div",{className:"template__container"},m().createElement(u.ZP.Group,{value:v,name:"templateSelect",onChange:this.handleChange},A.map(P=>m().createElement("div",{className:"map__template"},m().createElement("img",{src:P.template,alt:""}),m().createElement(u.ZP,{value:P.key,key:P.key},P.text)))))}}M.Z=(0,_.Z)()(K)},67727:function(f,M,e){"use strict";var T=e(77576),u=e(59314),C=e(12924),m=e.n(C),_=e(91768),n=e(80991),L=e(24144);class g extends m().Component{constructor(i){super(i);this.handleChange=r=>{var R=r.fileList;this.props.formik.setFieldValue("cover",R)},this.handleSwitch=r=>{r?this.setState({type:""}):this.setState({type:"crop"})},this.state={type:"crop"}}render(){var i=this.props,r=i.defaultFieldList,R=i.t;return m().createElement("div",null,m().createElement("div",{style:{marginBottom:"7px"}},m().createElement(u.Z,{defaultChecked:!1,onChange:this.handleSwitch}),m().createElement("span",{className:"item-margin"},R("resourceLibrary.originUpload"))),m().createElement("div",{className:"upload-image-field"},m().createElement("div",{className:"postMap_upload_container"},m().createElement(L.ZM,{uploadConfig:{accept:".jpg,.jpeg,.png",maxCount:1},fileList:r,size:{value:1,unit:"MB"},onUploadedListChange:this.handleChange,clip:this.state.type,render:D=>(0,L.iM)(D)})),m().createElement("div",{className:"upload-image-field-tip"},R("authentication.postMapDetailCoverTip"))))}}M.Z=(0,n.$j)((0,_.Z)()(g))},30013:function(f,M,e){"use strict";e.a(f,function(T){return V(this,null,function*(){var u=e(62029),C=e(57663),m=e(71577),_=e(12924),n=e.n(_),L=e(91768),g=e(80991),E=e(70468),i=e(70980),r=e(26745),R=e(57762),D=e(62615),A=e(52670),K=e(7584),I=e(70075),v=e(2396),P=T([E]);E=(P.then?yield P:P)[0];class y extends n().Component{constructor(){super(...arguments);this.handlePropsSubmit=()=>{var O=this.props.handleSubmit;O()},this.renderFooter=()=>{var O=this.props,t=O.isSubmitting,c=t===void 0?!1:t,d=O.onCancel,a=O.t,h=O.isEdit;return n().createElement("footer",{className:"cl-form-fixed-footer"},n().createElement("div",{className:"cl-form-fixed-footer__container"},n().createElement(m.Z,{type:"primary",disabled:c,loading:c,onClick:this.handlePropsSubmit},a(h?"common.save":"common.release")),n().createElement(m.Z,{onClick:d},a("common.cancel"))))}}render(){var O=this.props,t=O.values,c=O.title,d=O.t;return n().createElement(n().Fragment,null,n().createElement(g.l0,{className:"cl-form"},this.renderFooter(),n().createElement("h1",{className:"cl-form-htitle"},c),n().createElement("p",{className:"cl-form__sectitle"},d("exam.basicInformation")),n().createElement(g.gN,(0,u.Z)({component:K.Z,name:"title",label:d("authentication.postMapDetailName"),required:!0,type:"text",style:{width:"350px"},placeholder:d("authentication.postMapDetailNamePlaceholder"),defaultValue:t.title,maxLength:60,validate:a=>(0,v.QK)(a,d("authentication.postMapDetailNamePlaceholder"))},r.I)),n().createElement(g.gN,(0,u.Z)({component:I.Z,name:"summary",label:d("authentication.postMapDetailSummary"),required:!0,type:"text",defaultValue:t.summary,rows:4,maxLength:500,placeholder:d("authentication.postMapDetailSummaryPlaceholder"),validate:a=>(0,v.QK)(a,d("authentication.postMapDetailSummaryPlaceholder"))},r.I)),n().createElement(g.gN,(0,u.Z)({component:E.OV,name:"map_template",label:d("authentication.postMapTemplate"),required:!0,defaultValue:t.map_template},r.I)),n().createElement(g.gN,(0,u.Z)({label:d("authentication.postMapDetailCover"),component:E.e3,displayType:"Custom",name:"cover",defaultFieldList:t.cover},r.I)),n().createElement("p",{className:"cl-form__divide"}),n().createElement(g.gN,{component:E.nB,displayType:"Custom",name:"paths",defaultFieldList:t.paths,validate:i.R}),n().createElement("p",{className:"cl-form__divide"}),n().createElement(g.gN,{component:R.Z,label:d("authentication.learningInterests"),name:"permissions_type",displayType:"Custom",radioList:[{name:d("authentication.followMap"),value:"post_map"},{name:d("authentication.followCertification"),value:"qualification"}]}),n().createElement(g.gN,{component:D.ww,displayType:"Custom",name:"employeeRange",mode:["all","part"],orgProps:{title:d("authentication.postMapChoosePublicObject")},secTitle:d("authentication.postMapDetailSecAssignTitle"),secTitleInfoTip:d("authentication.postMapDetailSecAssignTitleTip"),defaultFieldList:t.employeeRange,validate:A.FI}),n().createElement("p",{className:"cl-form__divide"}),n().createElement("p",{className:"cl-form__sectitle"},d("authentication.postMapDetailSecReward")),n().createElement(g.gN,{component:E.Qp,displayType:"Custom",name:"reward",defaultFieldList:t.reward,validate:a=>(0,i.J)(a,t)}),n().createElement(D.I,null)))}}M.Z=(0,L.Z)()(y)})})},85128:function(f,M,e){"use strict";e.a(f,function(T){return V(this,null,function*(){e.r(M);var u=e(62029),C=e(20228),m=e(11382),_=e(63185),n=e(9676),L=e(34792),g=e(48086),E=e(88986),i=e(71194),r=e(57016),R=e(12924),D=e.n(R),A=e(91768),K=e(80991),I=e(57068),v=e(76651),P=e(30013),y=e(4408),U=e(37055),O=e(10237),t=e(6793),c=T([P]);P=(c.then?yield c:c)[0];var d={add:U.ZP.PostMapDetail.add,getMapInfo:U.ZP.PostMapDetail.getMapInfo,edit:U.ZP.PostMapDetail.edit};class a extends R.Component{constructor(){super(...arguments);this.state={initialParams:{title:"",summary:"",map_template:"STARRY_SKY_SERIES",cover:[{uid:"123",url:"".concat("https://oss.coolcollege.cn","/1789918456309747712.png"),name:"",status:"done"}],paths:[],employeeRange:{rangeType:"",rangeList:{dept:[],post:[],group:[],user:[]}},reward:{isChecked:!1,checkpoint:"",score:""},permissions_type:"post_map"},sendEditMessage:!1,isLoading:!0},this.getDetail=l=>{O.WY.get({url:d.getMapInfo({mapId:l})}).then(s=>{var o=s.data,p=o.name,x=o.introduction,N=o.map_template,F=o.cover,B=o.checkpoints,$=o.visible_range,W=o.scopes,Z=o.is_extra_score,j=o.checkpoint_count,w=o.checkpoint_score,k=o.permissions_type;this.setState({initialParams:{title:p,summary:x,map_template:N,cover:[{uid:"123",url:F,name:"",status:"done"}],paths:B.map(b=>({id:b.qualification_id,name:b.title,score:b.score,summary:b.summary})),employeeRange:{rangeType:$==="all"?1:2,rangeList:{dept:W.department_list,post:W.post_list,group:W.group_list,user:W.user_list}},reward:{isChecked:Z,checkpoint:Z?j:"",score:Z?w:""},permissions_type:k},sendEditMessage:!1,isLoading:!1})})},this.handleSubmit=(l,s)=>{var o=I.parse(v.m8.location.search),p=o.id,x=this,N=this.props.t;p?r.Z.confirm({title:N("authentication.postMapDetailEditTip"),content:this.renderEditModalContent(),onOk:()=>{x.submitWithApi(l,s)},onCancel:()=>{s.setSubmitting(!1)}}):this.submitWithApi(l,s)},this.submitWithApi=(l,s)=>{var o=I.parse(v.m8.location.search),p=o.id,x=this.state.sendEditMessage,N=l.title,F=l.summary,B=l.cover,$=l.paths,W=l.employeeRange,Z=l.reward,j=l.map_template,w=l.permissions_type,k=$.map((S,Y)=>({qualification_id:S.id,score:S.score,sort:Y+1})),b={checkpoint_unlock:"pass",checkpoints:k,map_template:j,cover:B.length?B[0].url:"".concat("https://oss.coolcollege.cn","/1789918456309747712.png"),introduction:F,is_extra_score:Z.isChecked,name:(0,t.fy)(N),send_edit_message:x,visible_range:W.rangeType===1?"all":"part",scopes:{department_list:W.rangeList.dept.map(S=>({id:S.id,name:S.name})),group_list:W.rangeList.group.map(S=>({id:S.id,name:S.name})),post_list:W.rangeList.post.map(S=>({id:S.id,name:S.name})),user_list:W.rangeList.user.map(S=>({id:S.id,name:S.name}))},permissions_type:w};Z.isChecked&&(b.checkpoint_count=Z.checkpoint,b.checkpoint_score=Z.score),O.WY.post({url:p?d.edit({mapId:p}):d.add(),data:(0,E.Z)({},b)}).then(S=>{g.default.success(p?this.props.t("common.saveSuccess"):this.props.t("common.releaseSuccess")),setTimeout(()=>{s.setSubmitting(!1),v.m8.push("/talentedDevelopment/authenticationMenu/postMap")},1e3)}).catch(()=>{setTimeout(()=>{s.setSubmitting(!1)},1e3)})},this.handleCancel=()=>{v.m8.push("/talentedDevelopment/authenticationMenu/postMap")},this.handleSetSendEditMessage=l=>{this.setState({sendEditMessage:l.target.checked})},this.renderEditModalContent=()=>{var l=this.props,s=l.prefixCls,o=l.t,p="".concat(s,"__edit-modal");return D().createElement("div",{className:"".concat(p,"__content")},D().createElement("p",{className:"".concat(p,"__content__text")},D().createElement("span",null,"1."),o("authentication.postMapDetailEditTipInfo1")),D().createElement("p",{className:"".concat(p,"__content__text")},D().createElement("span",null,"2."),o("authentication.postMapDetailEditTipInfo2")),D().createElement("p",{className:"".concat(p,"__content__text")},D().createElement("span",null,"3."),o("authentication.postMapDetailEditTipInfo3")),D().createElement("p",{className:"".concat(p,"__content__text ").concat(p,"__content__text-left")},o("authentication.postMapDetailEditSendTip")),D().createElement(n.Z,{onChange:this.handleSetSendEditMessage},o("authentication.postMapDetailEditSendMsg")))}}componentDidMount(){var l=I.parse(v.m8.location.search),s=l.id;s?this.getDetail(s):this.setState({isLoading:!1})}render(){var l=this.props,s=l.prefixCls,o=l.t,p=this.state,x=p.initialParams,N=p.isLoading;if(N)return D().createElement(m.Z,{size:"large"});var F=I.parse(v.m8.location.search),B=F.id,$="".concat(o(B?"common.edit":"common.add")," ").concat(o("authentication.postMapDetailTitle")),W=!!B;return D().createElement("div",{className:s},D().createElement(y.Z,{title:o(B?"documentTitle.editPostMap":"documentTitle.addPostMap")}),D().createElement("div",{className:"".concat(s,"__content")},D().createElement(K.J9,{ref:Z=>this._formik=Z,initialValues:x,onSubmit:this.handleSubmit,render:Z=>D().createElement(P.Z,(0,u.Z)({},Z,{title:$,isEdit:W,onCancel:this.handleCancel}))})))}}a.defaultProps={prefixCls:"postmap-detail-page"},M.default=(0,A.Z)()(a)})})},26745:function(f,M,e){"use strict";e.d(M,{I:function(){return T}});var T={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}}},70980:function(f,M,e){"use strict";e.d(M,{R:function(){return L},J:function(){return g}});var T=e(93485),u=e(6793),C=e(2396),m=e(3407),_=(0,u.me)(),n=m.Z[_].authentication.validation,L=E=>{var i;if(E.length<2)return n.postMapDetailPathNull;var r=(0,T.Z)(E),R;try{for(r.s();!(R=r.n()).done;){var D=R.value;if((0,C.kh)(D.score)){i=(0,u.ZT)("".concat(n.postMapDetailPathValidate),D.name);break}}}catch(A){r.e(A)}finally{r.f()}return i},g=(E,i)=>{var r;return E.isChecked&&(!E.checkpoint||E.checkpoint>i.paths.length?r=n.postMapDetailCheckpointValidate:(0,C.kh)(E.score)&&(r=n.postMapDetailScoreValidate)),r}},89795:function(f,M,e){f.exports=e.p+"static/desertCover.f8fe5d04.png"},64898:function(f,M,e){f.exports=e.p+"static/desert_tem.e6b9a31f.png"},11226:function(f,M,e){f.exports=e.p+"static/sky_tem.72cc15c8.png"},52148:function(f,M,e){var T={"./postmap-item1.png":[61644,1644],"./postmap-item10.png":[26892,6892],"./postmap-item2.png":[83346,2362],"./postmap-item3.png":[36109,6109],"./postmap-item4.png":[77430,7430],"./postmap-item5.png":[99684,9684],"./postmap-item6.png":[40926,926],"./postmap-item7.png":[90809,809],"./postmap-item8.png":[87620,7620],"./postmap-item9.png":[34087,4087]};function u(C){if(!e.o(T,C))return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+C+"'");throw n.code="MODULE_NOT_FOUND",n});var m=T[C],_=m[0];return e.e(m[1]).then(function(){return e.t(_,7|16)})}u.keys=function(){return Object.keys(T)},u.id=52148,f.exports=u}}]);
