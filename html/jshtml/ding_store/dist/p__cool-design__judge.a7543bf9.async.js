(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[2640],{70927:function(pl,Kt,r){"use strict";r.r(Kt),r.d(Kt,{default:function(){return gl}});var s=r(12924),e=r.n(s),Ee=r(76651),ga=r(56774),p=r(88986),E=r(33565),fl=r(24793),Tt=r(97183),El=r(50361),pa=r(7145),x=r.n(pa),ae=r(37055),ne=r(10237),hl=r(48736),fa=r(27049),Cl=r(34792),re=r(48086),Ea=r(95357),ha=r(92104),Ca=r(67724),ya=r(51496),Je=r.n(ya),Sa=Ee.m8.location.query,Za={visitor:{platformType:"enterprises",scopeId:localStorage.getItem("enterpriseId")},foundPage:{platformType:"platform",scopeId:Sa.scopeId}},st={serviceType:Za},yl=r(57338),Ae=r(83107),Fa=r(87214),Re=r.n(Fa),$t=r(29190),Na=t=>{var n=t.visible,a=t.materialKeys,o=t.onClose,u=t.currentWidth,b=Ee.m8.location.query,l={pc:{width:"100%",padding:"0",backgroundColor:"#f8f8fa"},mobile:{width:"375px",padding:"0",backgroundColor:"#f8f8fa",margin:"0 auto"}},S={pc:{zoom:1},mobile:{zoom:375/u}},F=()=>{var I=[];return a.forEach((C,h)=>{var m=$t.Z[C.id];m&&I.push(e().createElement(m,{key:C.code,models:C.models||{},params:C.params||{},cssObj:C.cssObj||{},index:h,isRender:!1}))}),I};return e().createElement(Ae.Z,{title:"\u9884\u89C8\u9875\u9762",placement:"top",onClose:o,maskClosable:!1,visible:n,height:"100vh",destroyOnClose:!0,key:"preview",bodyStyle:l[b.type]},e().createElement("div",{class:Re().previewContent,style:S[b.type||"pc"]},F()))},ba=Na,Da=[{key:"preview",render:e().createElement(Ea.Z,null),title:"\u9884\u89C8"},{key:"save",render:e().createElement(ha.Z,null),title:"\u53D1\u5E03"}],Ba=t=>{var n=t.materialKeys,a=t.pageParams,o=t.queryPageDetail,u=Ee.m8.location.query,b=(0,s.useState)(!1),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=f=>{switch(f){case"preview":if(n.length===0){re.default.info("\u9884\u89C8\u5185\u5BB9\u4E3A\u7A7A\uFF01",3);return}F(!0);break;case"save":if(n.length===0){re.default.info("\u5185\u5BB9\u4E3A\u7A7A\u4E0D\u5141\u8BB8\u53D1\u5E03\uFF01",3);return}var c=i(),w=c.result,Z=c.componentPosition,L={pc:{businessType:{foundPage:"pc-find",visitor:"visitor"},pageName:{foundPage:"pc\u53D1\u73B0\u9875",visitor:"pc\u6E38\u5BA2\u9875"}},mobile:{businessType:{foundPage:"mobile-find",visitor:"visitor"},pageName:{foundPage:"\u79FB\u52A8\u7AEF\u53D1\u73B0\u9875",visitor:"\u79FB\u52A8\u7AEF\u6E38\u5BA2\u9875"}}},k={id:a.id,businessType:a.businessType||L[u.type].businessType[u.id],pageName:a.pageName||L[u.type].businessType[u.id],componentList:w,scopeName:a.scopeName||u.scopeName,checkUnique:!0,templateId:a.templateId||111e4,pageTemplateContext:JSON.stringify({type:"singleLine",position:Z,firstTime:!1})};ne.WY.post({url:ae.ZP.CMSApi.publishPageScope({platformType:st.serviceType[u.id].platformType,scopeId:st.serviceType[u.id].scopeId}),data:k}).then(D=>{D.data.code===2e5&&(re.default.success("\u53D1\u5E03\u6210\u529F\uFF01",3),u.id&&u.id==="foundPage"?o(u):Ee.m8.go(-1))}).catch(D=>{re.default.error(D.data.message)});break}},i=()=>{var f=[],c=[];return n.forEach(w=>{var Z="".concat(w.id,"_").concat(Je()(12));f.push({componentType:w.id,pagePosition:w.code||Z,feature:JSON.stringify(w)}),c.push(w.code||Z)}),{result:f,componentPosition:c}},d=()=>{F(!1)},g=()=>{Ee.m8.go(-1)};(0,s.useEffect)(()=>{if(n.length>0){var f=document.getElementById("render-item");m(f.offsetWidth)}},[n]);var A={mobile:{foundPage:"\u79FB\u52A8\u7AEF\u5E97\u94FA\u88C5\u4FEE",visitor:"\u6E38\u5BA2\u9875\u7F16\u8F91"},pc:{foundPage:"\u7535\u8111\u7AEF\u5E97\u94FA\u88C5\u4FEE",visitor:"\u6E38\u5BA2\u9875\u7F16\u8F91"}};return e().createElement("div",{className:Re().editHeader},e().createElement("div",{className:Re().headerLeft},e().createElement("div",{className:Re().headerBack,onClick:g},e().createElement(Ca.Z,null),e().createElement("span",null,"\u8FD4\u56DE")),e().createElement(fa.Z,{type:"vertical",className:Re().divider}),e().createElement(e().Fragment,null,u.pageName?e().createElement("span",null,"\u3010".concat(u.pageName,"\u3011")," ",A[u.type][u.id]):e().createElement("span",null,A[u.type][u.id]))),e().createElement("div",{className:Re().headerRight},Da.map(f=>e().createElement("div",{key:f.key,className:Re().headerBtn,onClick:()=>N(f.key)},f.render,e().createElement("span",{className:Re().headerRightTitle},f.title)))),S&&e().createElement(ba,{visible:S,materialKeys:n,onClose:d,currentWidth:h}))},wa=Ba,Sl=r(58024),Aa=r(39144),Zl=r(47673),ue=r(4107),La=(0,s.createContext)(()=>{}),Rt=(0,s.createContext)({}),Xe=()=>(0,s.useContext)(Rt),Ia=r(72774),Pa=r.n(Ia),xa={type:"object",title:"\u77E5\u8BC6\u5546\u57CE",models:[{src:"https://zos.alipayobjects.com/rmsportal/tFEFnHEpyPhRnFCsKjdR.jpg",goodName:"\u5546\u54C1\u4E00",price:24},{src:"https://zos.alipayobjects.com/rmsportal/CXrFvvZqkMwMHZo.jpg",goodName:"\u5546\u54C1\u4E8C",price:23},{src:"https://zos.alipayobjects.com/rmsportal/WxCxyIKjMdCUUSJ.jpg",goodName:"\u5546\u54C1\u4E09",price:47},{src:"https://zos.alipayobjects.com/rmsportal/pUFfIJXizTljrgZ.jpg",goodName:"\u5546\u54C1\u56DB",price:35},{src:"https://zos.alipayobjects.com/rmsportal/ndmJrWwkQloTtKg.jpg",goodName:"\u5546\u54C1\u4E94",price:28},{src:"https://zos.alipayobjects.com/rmsportal/yNbeUIWcDNZFKTY.jpg",goodName:"\u5546\u54C1\u516D",price:35}]},ka=[{key:"line1",cols:[{name:"isTitle",label:"\u6807\u9898\u680F",type:"radio",initialValue:"1",data:[{value:"1",label:"\u663E\u793A"},{value:"2",label:"\u4E0D\u663E\u793A"}]}]},{key:"line2",cols:[{name:"isLook",label:"\u67E5\u770B\u5168\u90E8\u5165\u53E3",type:"radio",data:[],initialValue:!0}]},{key:"line3",cols:[{name:"title",label:"\u6807\u9898\u540D\u79F0",type:"input",initialValue:"\u77E5\u8BC6\u5546\u57CE",data:[]}]},{key:"line4",cols:[{name:"dataSource",label:"\u5546\u54C1\u6765\u6E90",type:"radio",initialValue:"1",data:[{value:"1",label:"\u624B\u52A8\u9009\u62E9"},{value:"2",label:"\u5546\u54C1\u9009\u62E9"}]}]},{key:"line-5",cols:[{name:"extra",type:"extra",initialValue:"",data:[]}]}],Ot={modelData:xa,rightConfig:ka},Ka=t=>{var n=t.params,a,o=Ot.rightConfig,u=Ot.modelData,b=Xe(),l=b.userProps,S=b.frProps,F=b.onFlattenChange,I=b.onItemChange,C=m=>{var N=(0,p.Z)((0,p.Z)({},n),{},{title:m.target.value}),i=(0,p.Z)((0,p.Z)({},data),{},{params:N});F(i)},h=()=>{};return e().createElement("div",{className:Pa().config},e().createElement(Aa.Z,{title:u.title,bordered:!1,style:{width:"100%"}},e().createElement(ue.Z,{value:n.title,onChange:C})))},Ta=Ka,Fl=r(43185),Fe=r(53251),Nl=r(7359),Ve=r(2829),bl=r(43358),Ie=r(34041),ze=r(43061),Ne=r(49101),Qe=r(58491),qe=r(57254),_e=r(73171),$a=r(94184),ye=r.n($a),Dl=r(66456),Ue=r(55313),Bl=r(62999),pt=r(85733),wl=r(13062),Ge=r(71230),Al=r(89032),he=r(15746),Ll=r(49111),Oe=r(19650),Il=r(57663),ce=r(71577),Pl=r(9715),de=r(86585),Mt=(t,n)=>{var a=n.type,o=n.payload;switch(a){case"sortData":return(0,p.Z)((0,p.Z)({},t),{},{sortData:o});case"setLoading":return(0,p.Z)((0,p.Z)({},t),{},{loading:o});case"setListData":return(0,p.Z)((0,p.Z)({},t),{},{pagination:o.pagination,dataSource:o.dataSource,loading:!1});case"setRowSelection":return(0,p.Z)((0,p.Z)({},t),{},{selectedRowKeys:o.selectedRowKeys,selectedRows:o.selectedRows});case"setAdvancedSearch":return(0,p.Z)((0,p.Z)({},t),{},{showAdvancedSearch:o});case"setSearchValue":return(0,p.Z)((0,p.Z)({},t),{},{searchValue:o});case"setPagination":return(0,p.Z)((0,p.Z)({},t),{},{pagination:o});default:throw new Error}},jt={pagination:{current:1,pageSize:10},dataSource:[],selectedRowKeys:[],selectedRows:[],loading:!1,searchValue:"",showAdvancedSearch:!1,sortData:{sortName:"",sortOrder:""}},Ut=r(6793),Ra=[{title:"\u8BFE\u7A0B\u540D\u79F0",dataIndex:"title"},{title:"\u5F52\u5C5E\u5206\u7C7B",dataIndex:"classifyName"},{title:"\u8BFE\u7A0B\u6765\u6E90",dataIndex:"scope",render:(t,n)=>n.scope==2?n.original?"\u539F\u521B\u8BFE":"\u975E\u539F\u521B":"\u5E73\u53F0\u8BFE"},{title:"\u5E93\u5B58",dataIndex:"remainderCount"},{title:"\u5956\u52B1\u5B66\u5206",dataIndex:"award_score"},{title:"\u64AD\u653E\u6B21\u6570",dataIndex:"play_count"}],Oa=[{value:"all",label:"\u5168\u90E8"},{value:"course",label:"\u8BFE\u7A0B"},{value:"micro_course",label:"\u5FAE\u8BFE"},{value:"study_project",label:"\u5B66\u4E60\u9879\u76EE"},{value:"imageText",label:"\u56FE\u6587\u8BFE"}],Ma=[{label:"\u5168\u90E8",value:2},{label:"\u8BFE\u7A0B",value:0},{label:"\u8BFE\u7A0B\u5957\u9910",value:1}],ja=[{title:"\u8BFE\u7A0B\u540D\u79F0",dataIndex:"title"},{title:"\u4EF7\u683C",dataIndex:"preferentialPrice",sorter:!0,render:t=>"\uFFE5".concat(((t||0)/100).toFixed(2))},{title:"\u70B9\u51FB",dataIndex:"scanCount",sorter:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",render:t=>(0,Ut.p6)(t)}],Wt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(a=>(0,p.Z)((0,p.Z)({},a),{},{teacher_name:a.teacherName,classify_name:a.classifyName||a.classify_name,teacher_avatar:a.teacher_avatar,play_count:a.playCount,comment_count:a.commentCount,like_count:a.likeCount,biz_type:a.bizType,official_price:a.officialPriceStr,preferential_price:a.preferentialPriceStr}))},Vt=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(a=>({key:a.id,title:a.name,children:a.children?t(a.children):null}))},Ua=ue.Z.Search,zt={checkedKeys:[],checkedRows:[]},Wa=ae.ZP.platformApi.getCourseList(),Va=ae.ZP.CourseMall.getClassifyList(),za=ae.ZP.CourseMall.getPostList(),Ga=new Map;function ft(t){var n=t.visible,a=n===void 0?!1:n,o=t.onOk,u=o===void 0?()=>{}:o,b=t.onCancel,l=b===void 0?()=>{}:b,S=t.checkType,F=S===void 0?"checkbox":S,I=t.checkedKeys,C=I===void 0?zt.checkedKeys:I,h=t.checkedRows,m=h===void 0?zt.checkedRows:h,N=Ee.m8.location.query,i=(0,s.useState)([]),d=(0,E.Z)(i,2),g=d[0],A=d[1],f=(0,s.useState)([]),c=(0,E.Z)(f,2),w=c[0],Z=c[1],L=(0,s.useReducer)(Mt,jt),k=(0,E.Z)(L,2),D=k[0],v=k[1],B=de.Z.useForm(),M=(0,E.Z)(B,1),j=M[0],Y=(0,s.useState)(400),_=(0,E.Z)(Y,2),ee=_[0],V=_[1],Q=(0,s.useRef)(Ga),q=()=>{ne.WY.get({url:Va}).then(y=>{var T=y.data||[];A(Vt(T))}),ne.WY.get({url:za}).then(y=>{var T=y.data||[];Z(Vt(T))})};(0,s.useEffect)(()=>{q()},[]),(0,s.useEffect)(()=>{a&&document.querySelector(".course-drawer .ant-drawer-body")&&V(document.querySelector(".course-drawer .ant-drawer-body").clientHeight-271)},[a]);var J=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{current:1,pageSize:10};v({type:"setLoading",payload:!0}),ne.WY.get({url:Wa,params:(0,p.Z)((0,p.Z)({},T),{},{scopeId:N.scopeId||localStorage.scope_id,pageNumber:K.current,pageSize:K.pageSize})}).then(G=>{var se=G.data,Be=se.list,we=Be===void 0?[]:Be,rt=se.total;v({type:"setListData",payload:{dataSource:we,pagination:(0,p.Z)((0,p.Z)({},K),{},{total:rt})}})})},X=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{current:1},K=j.getFieldsValue();J((0,p.Z)((0,p.Z)({},K),D.sortData),(0,p.Z)({pageSize:D.pagination.pageSize,current:1},T))},W=(y,T,K)=>{var G=K.field,se=K.order;v({type:"sortData",payload:{sortName:se?G:"",sortOrder:se?se.slice(0,se.length-3):""}}),v({type:"setPagination",payload:y})},O=()=>{j.resetFields()},R=(y,T)=>{var K=T.findIndex(G=>G===void 0);K!==-1&&y.forEach((G,se)=>{T[se]||(T[se]=Q.current.get(G))}),v({type:"setRowSelection",payload:{selectedRowKeys:y,selectedRows:T}})};(0,s.useEffect)(()=>{R(C,m),Q.current.clear(),m.map(y=>{Q.current.set(y.id,y)})},[C,m]),(0,s.useEffect)(()=>{X({current:D.pagination.current,pageSize:D.pagination.pageSize})},[D.sortData,D.pagination.current,D.pagination.pageSize]);var le={type:F,selectedRowKeys:D.selectedRowKeys,selectedRows:D.selectedRows,preserveSelectedRowKeys:!0,onChange:R},oe={flag:2},H=e().createElement(e().Fragment,null,"\u9009\u62E9\u8BFE\u7A0B",e().createElement("span",{style:{marginLeft:"16px",fontSize:"13px",color:"rgba(0,0,0,.45)"}})),te=e().createElement(e().Fragment,null,e().createElement("div",{style:{float:"left"}},"\u5DF2\u9009\u62E9",D.selectedRowKeys.length,"\u9879")," ",e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:l},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:()=>u(D.selectedRowKeys,D.selectedRows),type:"primary"},"\u786E\u5B9A")));return e().createElement(Ae.Z,{title:H,visible:a,className:"course-drawer",placement:"right",onClose:l,okText:"\u786E\u8BA4",width:window.innerWidth*.9,cancelText:"\u53D6\u6D88",footer:te},e().createElement(de.Z,{initialValues:oe,form:j},e().createElement(Ge.Z,{align:"middle",style:{marginBottom:"16px"},gutter:"16"},e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{style:{marginBottom:"0"},name:"title"},e().createElement(Ua,{onChange:y=>v({type:"setSearchValue",payload:y.target.value}),loading:D.loading,placeholder:"\u8BF7\u8F93\u5165\u8BFE\u7A0B\u540D\u6216\u8BB2\u5E08\u641C\u7D22",onSearch:X,style:{width:"100%"}}))),e().createElement(he.Z,{span:"8"}),e().createElement(he.Z,{span:"8"},e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:O},"\u91CD\u7F6E"),e().createElement(ce.Z,{loading:D.loading,onClick:()=>X(),type:"primary"},"\u641C\u7D22")))),e().createElement(Ge.Z,{gutter:"16"},e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{name:"flag",label:"\u8BFE\u7A0B\u7C7B\u578B"},e().createElement(Ie.Z,{options:Ma}))),e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{name:"classifyId",label:"\u9886\u57DF\u5206\u7C7B"},e().createElement(pt.Z,{allowClear:!0,treeData:g}))),e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{name:"post",label:"\u5C97\u4F4D\u5206\u7C7B"},e().createElement(pt.Z,{allowClear:!0,treeData:w}))))),e().createElement(Ue.Z,{columns:ja,pagination:D.pagination,rowSelection:le,scroll:{y:ee},rowKey:"id",loading:D.loading,onChange:W,dataSource:D.dataSource}))}var xl=r(32157),Et=r(75869),kl=r(18106),ot=r(88108),Gt=ot.Z.TabPane,Ya=ae.ZP.platformApi.getCourseList(),Ha=ae.ZP.CourseMall.getClassifyList(),Ja=ae.ZP.CourseMall.getPostList(),Yt=[];function ht(t){var n=t.visible,a=n===void 0?!1:n,o=t.onOk,u=o===void 0?()=>{}:o,b=t.onCancel,l=b===void 0?()=>{}:b,S=t.checkedList,F=S===void 0?Yt:S,I=t.postList,C=I===void 0?Yt:I,h=(0,s.useState)(!1),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=(0,s.useState)([]),g=(0,E.Z)(d,2),A=g[0],f=g[1],c=(0,s.useState)([]),w=(0,E.Z)(c,2),Z=w[0],L=w[1],k=(0,s.useState)([]),D=(0,E.Z)(k,2),v=D[0],B=D[1],M=(0,s.useState)([]),j=(0,E.Z)(M,2),Y=j[0],_=j[1],ee=(0,s.useState)("1"),V=(0,E.Z)(ee,2),Q=V[0],q=V[1],J=Ee.m8.location.query,X=H=>{_(H)},W=H=>{B(H)},O=function H(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.map(y=>({key:y.id,title:y.name,children:y.children?H(y.children):null}))},R=()=>{ne.WY.get({url:Ha}).then(H=>{var te=H.data||[];te.unshift({name:"\u5168\u90E8",id:"all"}),f(O(te))}),ne.WY.get({url:Ja}).then(H=>{var te=H.data||[];te.unshift({name:"\u5168\u90E8",id:"all"}),L(O(te))})},le=()=>{i(!0),ne.WY.get({url:Ya,params:{scopeId:J.scopeId||localStorage.scope_id,flag:2,classifyId:v[0]==="all"?"":v[0],post:Y[0]==="all"?"":Y[0],pageNumber:1,pageSize:200}}).then(H=>{var te=H.data,y=te.list,T=y===void 0?[]:y,K=te.total;i(!1),u(v,Y,T)})};(0,s.useEffect)(()=>{B(F)},[F]),(0,s.useEffect)(()=>{_(C)},[C]),(0,s.useEffect)(()=>{R()},[]);var oe=e().createElement(e().Fragment,null,e().createElement("div",{style:{float:"left"}},"\u5DF2\u9009\u62E9",v.length+Y.length,"\u9879"),e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:l},"\u53D6\u6D88"),e().createElement(ce.Z,{loading:N,onClick:le,type:"primary"},"\u786E\u5B9A")));return e().createElement(Ae.Z,{title:"\u9009\u62E9\u5206\u7C7B",visible:a,onClose:l,className:"choose-course-class-drawer",width:652,footer:oe},e().createElement(ot.Z,{activeKey:Q,onChange:H=>q(H)},e().createElement(Gt,{tab:"\u9886\u57DF\u5206\u7C7B",key:"1"},e().createElement(Et.Z,{height:document.querySelector(".choose-course-class-drawer .ant-drawer-body")?document.querySelector(".choose-course-class-drawer .ant-drawer-body").clientHeight-48:null,selectedKeys:v,onSelect:W,treeData:A})),e().createElement(Gt,{tab:"\u5C97\u4F4D\u5206\u7C7B",key:"2"},e().createElement(Et.Z,{height:document.querySelector(".choose-course-class-drawer .ant-drawer-body")?document.querySelector(".choose-course-class-drawer .ant-drawer-body").clientHeight-48:null,selectedKeys:Y,onSelect:X,treeData:Z}))))}var Xa=r(14439),Se=r.n(Xa),Qa=r(29566),Ht=r.n(Qa);function qa(t){var n=t.onClose,a=t.visible,o=t.onConfirm,u=(0,s.useState)(!0),b=(0,E.Z)(u,2),l=b[0],S=b[1],F=(0,s.useState)([]),I=(0,E.Z)(F,2),C=I[0],h=I[1],m=()=>{S(!0);var v,B=Ee.m8.location.query.type;B==="mobile"?v="mobile-find":B==="pc"&&(v="pc-find");var M={businessType:v,pageNum:1,pageSize:200,scope:1};ne.WY.get({url:ae.ZP.platformApi.getPlatformPageList(Ee.m8.location.query.scopeId),params:M}).then(j=>{h(j.data.data.list||[]),S(!1)})};(0,s.useEffect)(()=>{m()},[]);var N=[{title:"\u9875\u9762\u540D\u79F0",dataIndex:"pageName"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",render:v=>(0,Ut.p6)(v)}],i=(0,s.useState)([]),d=(0,E.Z)(i,2),g=d[0],A=d[1],f=(0,s.useState)([]),c=(0,E.Z)(f,2),w=c[0],Z=c[1],L=(v,B)=>{A(v),Z(B)},k={type:"radio",selectedRowKeys:g,onChange:L},D=()=>{o({title:w[0].pageName,id:w[0].id})};return e().createElement(Ae.Z,{title:"\u9009\u62E9\u9875\u9762",placement:"right",closable:!1,onClose:n,visible:a,width:652,footer:e().createElement("div",{className:Ht().footer},e().createElement("div",null,e().createElement(ce.Z,{onClick:n,style:{marginRight:8}},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:D,type:"primary"},"\u786E\u5B9A")))},e().createElement("div",{className:Ht().container},e().createElement(Ue.Z,{loading:l,rowKey:"id",rowSelection:k,columns:N,dataSource:C})))}var Jt=qa,Ct=r(76343),et=Ie.Z.Option,_a=Ve.Z.Panel,er={image:"\u4EC5\u56FE\u7247",page:"\u9009\u62E9\u9875\u9762",course:"\u5173\u8054\u8BFE\u7A0B",courseClass:"\u5173\u8054\u8BFE\u7A0B\u5206\u7C7B",lecturer:"\u8BB2\u5E08\u5217\u8868"};function tr(t){var n=t.models,a=n===void 0?{banner:[]}:n,o=t.params,u=t.cssObj,b=u===void 0?{}:u,l=t.onChange,S=(0,s.useState)(),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=(0,s.useState)(),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=(0,s.useState)(!1),g=(0,E.Z)(d,2),A=g[0],f=g[1],c=(0,s.useState)(""),w=(0,E.Z)(c,2),Z=w[0],L=w[1],k=(0,s.useState)(),D=(0,E.Z)(k,2),v=D[0],B=D[1],M=(0,s.useState)(),j=(0,E.Z)(M,2),Y=j[0],_=j[1],ee=(0,s.useState)(),V=(0,E.Z)(ee,2),Q=V[0],q=V[1],J=(0,s.useState)(),X=(0,E.Z)(J,2),W=X[0],O=X[1],R=(0,s.useRef)(a);(0,s.useEffect)(()=>{R.current=a},[a]);var le=($,z)=>{l("models",x()(a,{banner:{[z]:{type:{$set:$}}}}))},oe=($,z)=>{l("models",x()(a,{banner:{[z]:{content:{[$]:{$set:null}}}}}))},H=$=>{l("models",x()(a,{banner:{[$]:{url:{$set:o.defaultImage}}}}))},te=($,z)=>{if($!==0){var fe=x()(a,{banner:{$splice:[[$,1]]}});l("models",x()(fe,{banner:{$splice:[[$-1,0,z]]}}))}},y=($,z)=>{if($!==a.banner.length-1){var fe=x()(a,{banner:{$splice:[[$,1]]}});l("models",x()(fe,{banner:{$splice:[[$+1,0,z]]}}))}},T=$=>{i($),O("update")},K=$=>{$!==0&&l("models",x()(a,{banner:{$splice:[[$,1]]}}))},G=($,z)=>{var fe="".concat($.server,"/").concat($.fileNewName);z&&(fe=z),W==="update"?l("models",x()(a,{banner:{[N]:{url:{$set:fe}}}})):W==="add"&&R.current.banner.length<10&&l("models",x()(R.current,{banner:{$push:[{url:fe,id:$.fileNewName,type:"image",content:{fileName:$.fileName}}]}}))},se=$=>{var z=$.file;if(Z==="crop"){B(z),f(!0);return}var fe=new FormData;fe.append("file",z);var nt="".concat(ae.ZP.Common.upload());ne.WY.post({url:nt,data:fe}).then(xt=>{G(xt.data.data)})},Be={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,multiple:!0,beforeUpload:$=>W==="add"&&R.current.banner.length>=10?(re.default.info("\u6700\u591A\u4E0A\u4F2010\u5F20\u56FE\u7247!"),!1):$.size>800*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7800kb!"),!1):!0,customRequest:se},we=$=>{var z=$.fileName,fe=$.fileNewName,nt=$.imgUrl;G({fileName:z,fileNewName:fe},nt),f(!1)},rt=($,z,fe)=>{q(!0),_($),i(fe),C(z)},Te=()=>{q(!1),_("")},It=$=>{l("models",x()(a,{banner:{[N]:{content:{page:{$set:$}}}}})),Te()},vt=($,z)=>{l("models",x()(a,{banner:{[N]:{content:{course:{$set:z[0]}}}}})),Te()},Pt=($,z)=>{l("models",x()(a,{banner:{[N]:{content:{courseClass:{$set:{checkedKeys:$,postCheckKeys:z,title:"\u5DF2\u9009 ".concat($.length+z.length," \u4E2A")}}}}}})),Te()},gt=($,z)=>$.type?$.type==="image"?$.content?e().createElement("div",{className:Se()["input-div"]},$.content.fileName,z>0&&e().createElement(ze.Z,{onClick:()=>K(z)})):e().createElement("div",{className:Se()["input-div"]},"\u9009\u62E9\u56FE\u7247"):$.type==="lecturer"?e().createElement("div",{className:Se()["input-div"]},"\u8DF3\u8F6C\u5230\u8BB2\u5E08\u5217\u8868"):$.content[$.type]?e().createElement("div",{className:Se()["input-div"]},$.content[$.type].title,e().createElement(ze.Z,{onClick:()=>oe($.type,z)})):e().createElement("div",{style:{width:"65%"},className:Se()["input-add-button"],onClick:()=>rt($.type,$,z)},e().createElement(Ne.Z,null),er[$.type]):e().createElement("div",{className:Se()["input-div"]},"\u8BF7\u5148\u9009\u62E9Banner\u56FE\u5173\u8054\u5185\u5BB9\u7C7B\u578B");return e().createElement(e().Fragment,null,e().createElement("div",{className:Se().config},e().createElement("div",{className:Se().title},"\u6A2A\u5E45"),e().createElement(Ve.Z,{bordered:!1,defaultActiveKey:["1"]},e().createElement(_a,{header:"\u8F6E\u64AD\u56FE",key:"1"},e().createElement(Fe.Z,Be,e().createElement("div",{className:Se()["add-button"],onClick:()=>O("add")},e().createElement(Ne.Z,null),"\u6DFB\u52A0Banner")),e().createElement("div",{className:Se().description},"\u5EFA\u8BAE\u5C3A\u5BF8",b.width,"*",b.height,"px\uFF0C\u652F\u6301PNG\u3001JPEG\u3001JPG\u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7800kb\uFF0C\u652F\u6301\u591A\u9009\uFF0C\u6700\u591A10\u4E2ABanner\u56FE"),(a.banner||[]).map(($,z)=>e().createElement("div",{key:$.id},e().createElement("div",{className:Se().picture,style:{backgroundImage:"url(".concat($.url,")")}},e().createElement("div",{className:Se().rightButtons},e().createElement(Qe.Z,{onClick:()=>te(z,$),className:ye()({disabled:z===0})}),e().createElement(qe.Z,{onClick:()=>y(z,$),className:ye()({disabled:z===a.banner.length-1})}),e().createElement(_e.Z,{onClick:()=>K(z),className:ye()({disabled:z===0})})),e().createElement("div",{className:Se().bottom},e().createElement(Fe.Z,Be,e().createElement("div",{onClick:()=>T(z)},"\u66F4\u6539")),e().createElement("div",{onClick:()=>H(z)},"\u6062\u590D\u9ED8\u8BA4"))),e().createElement(ue.Z.Group,{compact:!0},e().createElement(Ie.Z,{defaultValue:$.type||"\u9009\u62E9\u7C7B\u578B",style:{width:"35%"},placeholder:"\u9009\u62E9\u7C7B\u578B",onChange:fe=>le(fe,z)},e().createElement(et,{value:"page"},"\u9009\u62E9\u9875\u9762"),e().createElement(et,{value:"courseClass"},"\u8BFE\u7A0B\u5206\u7C7B"),e().createElement(et,{value:"course"},"\u5355\u4E2A\u8BFE\u7A0B"),e().createElement(et,{value:"lecturer"},"\u8BB2\u5E08\u5217\u8868"),e().createElement(et,{value:"image"},"\u4EC5\u56FE\u7247")),gt($,z))))))),e().createElement(Jt,{visible:Q&&Y==="page",onClose:Te,selectData:I,onConfirm:It}),e().createElement(ft,{visible:Q&&Y==="course",onCancel:Te,onOk:vt,checkType:"radio"}),e().createElement(ht,{visible:Q&&Y==="courseClass",onCancel:Te,onOk:Pt,checkType:"radio"}),A&&e().createElement(Ct.Z,{visible:A,file:v,widthScale:b.width,heightScale:b.height,sizeLimit:800,sizeLimitUnit:"kb",onCancel:()=>f(!1),onOk:we}))}var Kl=r(77883),Ye=r(21888),Tl=r(77576),ut=r(59314),ar=r(57361),rr=r(9754),Xt=r.n(rr),nr=r(18471),lr=r.n(nr),sr=r(17405),Qt=t=>Array.isArray(t)?t.map(n=>({key:n.id,title:n.name,children:n.children?Qt(n.children):null})):[],or=()=>{var t=ae.ZP.Classify.getTree();return Object.prototype.toString.call(window.classifyPromise)==="[object Promise]"?window.classifyPromise:window.classifyPromise=new Promise(n=>{ne.WY.get({url:t,params:{queryType:"course_query",unclassified:!0}}).then(a=>{var o=a.data||[];o.unshift({id:"",name:"\u5168\u90E8"}),n(Qt(o))})})},qt=or,ur=r(35631),ct=r.n(ur),cr=ue.Z.Search,ir={statusType:"all",sortType:"all",order:"desc"},_t={checkedKeys:[],checkedRows:[]},dr=ae.ZP.CourseSelector.getCourseList(),mr=new Map;function ea(t){var n=t.visible,a=n===void 0?!1:n,o=t.onOk,u=o===void 0?()=>{}:o,b=t.onCancel,l=b===void 0?()=>{}:b,S=t.checkType,F=S===void 0?"checkbox":S,I=t.checkedKeys,C=I===void 0?_t.checkedKeys:I,h=t.checkedRows,m=h===void 0?_t.checkedRows:h,N=(0,s.useState)([]),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=(0,s.useReducer)(Mt,jt),f=(0,E.Z)(A,2),c=f[0],w=f[1],Z=de.Z.useForm(),L=(0,E.Z)(Z,1),k=L[0],D=(0,s.useRef)(mr);(0,s.useEffect)(()=>{ee(C,m),D.current.clear(),m.map(J=>{D.current.set(J.id,J)})},[C,m]);var v=()=>{qt().then(J=>{g(J)})};(0,s.useEffect)(()=>{v()},[]);var B=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{current:1,pageSize:10};w({type:"setLoading",payload:!0}),ne.WY.get({url:dr,params:(0,p.Z)((0,p.Z)({},X),{},{pageNumber:W.current,pageSize:W.pageSize})}).then(O=>{var R=O.data,le=R.list,oe=le===void 0?[]:le,H=R.total;w({type:"setListData",payload:{dataSource:Wt(oe),pagination:(0,p.Z)((0,p.Z)({},W),{},{total:H})}})})},M=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{current:1},W=(0,p.Z)({},ir);if(c.showAdvancedSearch){var O=k.getFieldsValue();Object.assign(W,(0,p.Z)({},O))}W.title=c.searchValue,B(W,(0,p.Z)({pageSize:c.pagination.pageSize,current:1},X))},j=(J,X,W)=>{w({type:"setPagination",payload:J}),M(J)},Y=()=>{k.resetFields()},_=()=>{w({type:"setAdvancedSearch",payload:!0})},ee=(J,X)=>{var W=X.findIndex(O=>O===void 0);W!==-1&&J.forEach((O,R)=>{X[R]||(X[R]=D.current.get(O))}),w({type:"setRowSelection",payload:{selectedRowKeys:J,selectedRows:X}})};(0,s.useEffect)(()=>{M()},[]);var V={type:F,selectedRowKeys:c.selectedRowKeys,selectedRows:c.selectedRows,preserveSelectedRowKeys:!0,onChange:ee},Q=e().createElement(e().Fragment,null,"\u9009\u62E9\u8BFE\u7A0B",e().createElement("span",{style:{marginLeft:"16px",fontSize:"13px",color:"rgba(0,0,0,.45)"}},"\u53EA\u53EF\u6DFB\u52A0\u53EF\u89C1\u8303\u56F4\u4E3A\u201C\u5168\u516C\u53F8\u201D\u7684\u8BFE\u7A0B")),q=e().createElement(e().Fragment,null,e().createElement("div",{style:{float:"left"}},"\u5DF2\u9009\u62E9",c.selectedRowKeys.length,"\u9879")," ",e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:l},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:()=>u(c.selectedRowKeys,c.selectedRows),type:"primary"},"\u786E\u5B9A")));return e().createElement(Ae.Z,{title:Q,visible:a,placement:"right",onClose:l,okText:"\u786E\u8BA4",width:window.innerWidth*.9,cancelText:"\u53D6\u6D88",footer:q},e().createElement(Ge.Z,{align:"middle",style:{marginBottom:"16px"},gutter:"16"},e().createElement(he.Z,{span:"8"},e().createElement(cr,{onChange:J=>w({type:"setSearchValue",payload:J.target.value}),loading:c.loading,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",onSearch:M,style:{width:"100%"}})),e().createElement(he.Z,{span:"8"}),e().createElement(he.Z,{span:"8"},e().createElement("div",{onClick:()=>{w({type:"setAdvancedSearch",payload:!c.showAdvancedSearch})},className:ye()(ct()["advance-setting"],{[ct()["open-advance"]]:c.showAdvancedSearch})},e().createElement(sr.Z,null),"\u9AD8\u7EA7\u641C\u7D22"))),e().createElement(de.Z,{form:k,className:ye()(ct().form,{[ct().hidden]:!c.showAdvancedSearch})},e().createElement(Ge.Z,{gutter:"16"},e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{name:"classifyId",label:"\u8D44\u6E90\u5206\u7C7B"},e().createElement(pt.Z,{treeData:d}))),e().createElement(he.Z,{span:"8"},e().createElement(de.Z.Item,{name:"classifyType",label:"\u8BFE\u7A0B\u7C7B\u578B"},e().createElement(Ie.Z,{options:Oa})))),e().createElement("div",{style:{overflow:"hidden"}},e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:Y},"\u91CD\u7F6E"),e().createElement(ce.Z,{loading:c.loading,onClick:()=>M(),type:"primary"},"\u641C\u7D22")))),e().createElement(Ue.Z,{columns:Ra,pagination:c.pagination,rowSelection:V,scroll:{y:400},rowKey:"id",loading:c.loading,onChange:j,dataSource:c.dataSource}))}var vr=r(51069),ge=r.n(vr),gr=r(74854),it=r.n(gr),pr=ue.Z.Search;function fr(t){var n=t.onClose,a=t.visible,o=t.selectedData,u=t.onConfirm,b=(0,s.useState)(!0),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(0),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)([]),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=(0,s.useState)({page_size:10,page_number:1,time_sort:"desc",keywords:""}),f=(0,E.Z)(A,2),c=f[0],w=f[1],Z=W=>{F(!0);var O=(0,p.Z)((0,p.Z)({},c),W);ne.WY.get({url:ae.ZP.Notice.getNoticePageList(),params:O}).then(R=>{g(R.data.list),m(R.data.total),F(!1)})};(0,s.useEffect)(()=>{Z()},[]);var L=W=>{var O=(0,p.Z)((0,p.Z)({},c),W);w(O),Z(O)},k=(W,O)=>{L({page_size:O,page_number:W})},D=W=>{L({keywords:W,page_number:1})},v=[{title:"title",dataIndex:"title"}],B=(0,s.useState)([]),M=(0,E.Z)(B,2),j=M[0],Y=M[1],_=(0,s.useState)([]),ee=(0,E.Z)(_,2),V=ee[0],Q=ee[1],q=(W,O)=>{Y(W),Q(O)},J={type:"radio",selectedRowKeys:j,defaultSelectedRowKeys:o?[o.content.id]:[],onChange:q},X=()=>{u({title:V[0].title,id:V[0].id})};return e().createElement(Ae.Z,{title:e().createElement("div",null,"\u9009\u62E9\u516C\u544A",e().createElement("span",{className:it().subTitle},"\u53EA\u53EF\u6DFB\u52A0\u53EF\u89C1\u8303\u56F4\u4E3A\u201C\u5168\u516C\u53F8\u201C\u7684\u516C\u544A")),placement:"right",closable:!1,onClose:n,visible:a,width:1200,footer:e().createElement("div",{className:it().footer},e().createElement("div",null,e().createElement(ce.Z,{onClick:n,style:{marginRight:8}},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:X,type:"primary"},"\u786E\u5B9A")))},e().createElement("div",{className:it().container},e().createElement(pr,{onSearch:D,className:it().search,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22"}),e().createElement(Ue.Z,{loading:S,rowKey:"id",showHeader:!1,rowSelection:J,columns:v,dataSource:d,pagination:{total:h,onChange:k}})))}var Er=fr,dt=Ie.Z.Option,ta=Ve.Z.Panel,aa="https://oss.coolcollege.cn/1794908639945953280.png",ra="https://oss.coolcollege.cn/1802253695824564224.png";function hr(t){var n=t.models,a=n===void 0?{banner:[]}:n,o=t.params,u=t.cssObj,b=u===void 0?{courseData:[]}:u,l=t.onChange,S=(0,s.useState)(),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=(0,s.useState)(),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=(0,s.useState)(!1),g=(0,E.Z)(d,2),A=g[0],f=g[1],c=(0,s.useState)(!1),w=(0,E.Z)(c,2),Z=w[0],L=w[1],k=(0,s.useState)(!1),D=(0,E.Z)(k,2),v=D[0],B=D[1],M=(0,s.useState)("crop"),j=(0,E.Z)(M,2),Y=j[0],_=j[1],ee=(0,s.useState)(),V=(0,E.Z)(ee,2),Q=V[0],q=V[1],J=(0,s.useState)(),X=(0,E.Z)(J,2),W=X[0],O=X[1],R=(0,s.useRef)(a);(0,s.useEffect)(()=>{R.current=a},[a]),(0,s.useEffect)(()=>{var P=!0;return ne.WY.get({url:ae.ZP.Classify.getTree(),params:{parentId:0}}).then(U=>{P&&l("cssObj",x()(b,{courseData:{$set:U.data}}))}),()=>P=!1},[]);var le=P=>{l("params",x()(o,{classLevel:{$set:P}}))},oe=P=>{var U=P?ra:aa;l("params",x()(o,{showClass:{$set:P},defaultImage:{$set:U}})),a.banner.forEach((ve,$e)=>{(ve.url===ra||ve.url===aa)&&l("models",x()(a,{banner:{[$e]:{url:{$set:U}}}}))})},H=(P,U)=>{l("models",x()(a,{banner:{[U]:{type:{$set:P}}}}))},te=(P,U)=>{l("models",x()(a,{banner:{[U]:{content:{linkUrl:{$set:P.target.value}}}}}))},y=P=>{l("models",x()(a,{banner:{[P]:{content:{notice:{$set:null}}}}}))},T=P=>{l("models",x()(a,{banner:{[P]:{content:{course:{$set:null}}}}}))},K=P=>{l("models",x()(a,{banner:{[P]:{url:{$set:o.defaultImage}}}}))},G=(P,U)=>{if(P!==0){var ve=x()(a,{banner:{$splice:[[P,1]]}});l("models",x()(ve,{banner:{$splice:[[P-1,0,U]]}}))}},se=(P,U)=>{if(P!==a.banner.length-1){var ve=x()(a,{banner:{$splice:[[P,1]]}});l("models",x()(ve,{banner:{$splice:[[P+1,0,U]]}}))}},Be=P=>{i(P),q("update")},we=P=>{l("models",x()(a,{banner:{$splice:[[P,1]]}}))},rt=P=>{var U=P.file;if(Y==="crop"){O(U),B(!0);return}var ve=new FormData;ve.append("file",U);var $e="".concat(ae.ZP.Common.upload());ne.WY.post({url:$e,data:ve}).then(We=>{Te(We.data.data)})},Te=function(){var P=(0,ar.Z)(Xt().mark(function U(ve,$e){var We,kt,va;return Xt().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return We="".concat(ve.server,"/").concat(ve.fileNewName),$e&&(We=$e),lt.next=5,lr()(We);case 5:va=lt.sent,kt=va[0].color,Q==="update"?l("models",x()(a,{banner:{[N]:{url:{$set:We},color:{$set:kt}}}})):Q==="add"&&R.current.banner.length<5&&l("models",x()(R.current,{banner:{$push:[{url:We,color:kt,id:ve.fileNewName,type:"image",content:{fileName:ve.fileName}}]}}));case 8:case"end":return lt.stop()}},U)}));return function(ve,$e){return P.apply(this,arguments)}}(),It=P=>{var U=P.fileName,ve=P.fileNewName,$e=P.imgUrl;Te({fileName:U,fileNewName:ve},$e),B(!1)},vt={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,multiple:!0,beforeUpload:P=>Q==="add"&&R.current.banner.length>=5?(re.default.info("\u6700\u591A\u4E0A\u4F205\u5F20\u56FE\u7247!"),!1):P.size>800*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7800kb!"),!1):!0,customRequest:rt},Pt=(P,U)=>{i(U),C(P),f(!0)},gt=()=>{f(!1)},$=P=>{l("models",x()(a,{banner:{[N]:{content:{notice:{$set:P}}}}})),gt()},z=(P,U)=>{i(U),C(P),L(!0)},fe=()=>{L(!1)},nt=(P,U)=>{l("models",x()(a,{banner:{[N]:{content:{course:{$set:{title:U[0].title,biz_type:U[0].biz_type,id:U[0].id,project_id:U[0].project_id,resource_type:U[0].resource_type}}}}}})),fe()},xt=(P,U)=>{if(!P.type)return e().createElement("div",{className:ge()["input-div"]},"\u8BF7\u5148\u9009\u62E9Banner\u56FE\u5173\u8054\u5185\u5BB9\u7C7B\u578B");if(P.type==="link")return e().createElement(ue.Z,{style:{width:"65%"},allowClear:!0,placeholder:"\u8BF7\u8F93\u5165URL\u94FE\u63A5",value:P.content?P.content.linkUrl:"",onChange:ve=>te(ve,U)});if(P.type==="course")return P.content.course?e().createElement("div",{className:ge()["input-div"]},P.content.course.title,e().createElement(ze.Z,{onClick:()=>T(U)})):e().createElement("div",{style:{width:"65%"},className:ge()["input-add-button"],onClick:()=>z(P,U)},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u8BFE\u7A0B");if(P.type==="announcement")return P.content.notice?e().createElement("div",{className:ge()["input-div"]},P.content.notice.title,e().createElement(ze.Z,{onClick:()=>y(U)})):e().createElement("div",{style:{width:"65%"},className:ge()["input-add-button"],onClick:()=>Pt(P,U)},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u516C\u544A");if(P.type==="image")return P.content?e().createElement("div",{className:ge()["input-div"]},P.content.fileName,e().createElement(ze.Z,{onClick:()=>we(U)})):e().createElement("div",{className:ge()["input-div"]},"\u9009\u62E9\u56FE\u7247")};return e().createElement(e().Fragment,null,e().createElement("div",{className:ge().config},e().createElement("div",{className:ge().title},"\u6A2A\u5E45"),e().createElement(Ve.Z,{bordered:!1,defaultActiveKey:["1","2"]},e().createElement(ta,{header:"\u8BFE\u7A0B\u5206\u7C7B",key:"1"},e().createElement("div",{className:ge().radio},e().createElement(ut.Z,{checked:o.showClass,checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:oe}),"\u5C55\u793A\u5206\u7C7B"),e().createElement("div",{className:ge()["class-content"]},e().createElement("span",{className:ge()["class-content-pre"]},"\u5C55\u793A\u5C42\u7EA7\uFF1A"),e().createElement(Ye.Z,{min:1,max:3,defaultValue:o.classLevel,onChange:le}),e().createElement("span",{className:ge()["class-content-post"]},"\u652F\u6301\u8BFE\u7A0B1\uFF5E3\u7EA7\u5C55\u793A"))),e().createElement(ta,{header:"\u8F6E\u64AD\u56FE",key:"2"},e().createElement("div",{className:ge().radio}," ",e().createElement(ut.Z,{checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:P=>_(P?"":"crop")}),"\u539F\u56FE\u4E0A\u4F20"),e().createElement(Fe.Z,vt,e().createElement("div",{className:ge()["add-button"],onClick:()=>q("add")},e().createElement(Ne.Z,null),"\u6DFB\u52A0Banner")),e().createElement("div",{className:ge().description},"\u5EFA\u8BAE\u5C3A\u5BF81920*616px\uFF0C\u652F\u6301PNG\u3001JPEG\u3001JPG\u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7800kb\uFF0C\u652F\u6301\u591A\u9009\uFF0C\u6700\u591A5\u4E2ABanner\u56FE"),(a.banner||[]).map((P,U)=>e().createElement("div",{key:P.id},e().createElement("div",{className:ge().picture,style:{backgroundImage:"url(".concat(P.url,")")}},e().createElement("div",{className:ge().rightButtons},e().createElement(Qe.Z,{onClick:()=>G(U,P),className:ye()({disabled:U===0})}),e().createElement(qe.Z,{onClick:()=>se(U,P),className:ye()({disabled:U===a.banner.length-1})}),e().createElement(_e.Z,{onClick:()=>we(U)})),e().createElement("div",{className:ge().bottom},e().createElement(Fe.Z,vt,e().createElement("div",{onClick:()=>Be(U)},"\u66F4\u6539")),e().createElement("div",{onClick:()=>K(U)},"\u6062\u590D\u9ED8\u8BA4"))),e().createElement(ue.Z.Group,{compact:!0},e().createElement(Ie.Z,{defaultValue:P.type||"\u9009\u62E9\u7C7B\u578B",style:{width:"35%"},placeholder:"\u9009\u62E9\u7C7B\u578B",onChange:ve=>H(ve,U)},e().createElement(dt,{value:"link"},"\u5916\u94FE"),e().createElement(dt,{value:"course"},"\u5173\u8054\u8BFE\u7A0B"),e().createElement(dt,{value:"announcement"},"\u5173\u8054\u516C\u544A"),e().createElement(dt,{value:"image"},"\u4EC5\u56FE\u7247")),xt(P,U))))))),e().createElement(Er,{visible:A,onClose:gt,selectData:I,onConfirm:$}),e().createElement(ea,{checkedKeys:a.lecturerKeys,checkedRows:a.lecturer,visible:Z,onCancel:fe,onOk:nt,checkType:"radio"}),v&&e().createElement(Ct.Z,{visible:v,file:W,widthScale:1920,heightScale:616,sizeLimit:800,sizeLimitUnit:"kb",onCancel:()=>B(!1),onOk:It}))}var Cr=r(91768),yr=r(21541),Ce=r.n(yr),Sr=ue.Z.Search,na=ot.Z.TabPane;function Zr(t){var n=t.onClose,a=t.visible,o=t.selectedIds,u=t.selectedData,b=t.t,l=t.onConfirm,S=(0,s.useState)([]),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=(0,s.useState)(0),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=(0,s.useState)([]),g=(0,E.Z)(d,2),A=g[0],f=g[1],c=(0,s.useState)({page_size:10,page_number:1,status:1,level:"",label:"",keyword:""}),w=(0,E.Z)(c,2),Z=w[0],L=w[1],k=(0,s.useState)(!0),D=(0,E.Z)(k,2),v=D[0],B=D[1];(0,s.useEffect)(()=>{O(o)},[o]);var M=K=>{B(!0);var G=(0,p.Z)((0,p.Z)({},Z),K);ne.WY.get({url:ae.ZP.Lecturer.getLecturerList(),params:G}).then(se=>{var Be=se.data.list.map(we=>(we.adept_field=we.adept_field?we.adept_field.split(","):[b("lecturerPage.noTag")],we));C(Be),i(se.data.total),B(!1)})},j=()=>{ne.WY.get({url:ae.ZP.Lecturer.getLevelList(),params:{}}).then(K=>{f(K.data.list)})};(0,s.useEffect)(()=>{j(),M()},[]);var Y=K=>{var G=(0,p.Z)((0,p.Z)({},Z),K);L(G),M(G)},_=(K,G)=>{Y({page_size:G,page_number:K})},ee=(K,G)=>{Y({level:K,name:G?encodeURIComponent(G):"",page_number:1})},V=K=>{Y({status:K,page_number:1})},Q=K=>{Y({keyword:K,page_number:1})},q=[{title:"name",dataIndex:"id",render:(K,G)=>e().createElement("div",{className:Ce().listItem},e().createElement("div",{className:Ce().avatar,style:{backgroundImage:"url(".concat(G.avatar||"https://oss.coolcollege.cn/1790708689137700864.png",")")}},e().createElement("div",{className:Ce().sex},G.sex===0?e().createElement("img",{src:"https://oss.coolcollege.cn/1790706775494889472.png",alt:""}):e().createElement("img",{src:"https://oss.coolcollege.cn/1790706776073703424.png",alt:""}))),e().createElement("div",{className:Ce().info},e().createElement("div",{className:Ce().name},G.lecturer_name,e().createElement("span",null,G.level_name||b("lecturerPage.noGrade"))),e().createElement("div",null,(G.adept_field||[]).slice(0,3).map(se=>e().createElement("span",{key:se,className:Ce().tag},se)))))}],J=(0,s.useState)([]),X=(0,E.Z)(J,2),W=X[0],O=X[1],R=(0,s.useState)([]),le=(0,E.Z)(R,2),oe=le[0],H=le[1],te=(K,G)=>{O(K),H(G)},y={preserveSelectedRowKeys:!0,selectedRowKeys:W,onChange:te},T=()=>{var K=[...oe];W.forEach((G,se)=>{oe[se]||(K[se]=u.find(Be=>Be.id===G))}),l(W,K)};return e().createElement(Ae.Z,{title:"\u9009\u62E9\u8BB2\u5E08",placement:"right",closable:!1,onClose:n,visible:a,width:1200},e().createElement("div",{className:Ce().container},e().createElement(ot.Z,{defaultActiveKey:"1",onChange:V},e().createElement(na,{tab:"\u5DF2\u542F\u7528",key:"1"}),e().createElement(na,{tab:"\u5DF2\u505C\u7528",key:"0"})),e().createElement(Sr,{onSearch:Q,className:Ce().search,placeholder:"\u6839\u636E\u8BB2\u5E08\u540D\u79F0\u641C\u7D22"}),e().createElement("div",{className:Ce().content},e().createElement("ul",{className:Ce().left},e().createElement("li",{className:ye()({[Ce().active]:!Z.level}),onClick:()=>ee()},"\u5168\u90E8"),A.map(K=>e().createElement("li",{className:ye()({[Ce().active]:K.id===Z.level}),key:K.id,onClick:()=>ee(K.id,K.name)},K.name))),e().createElement("div",{className:Ce().right},e().createElement(Ue.Z,{rowKey:"id",showHeader:!1,rowSelection:y,columns:q,loading:v,dataSource:I,pagination:{total:N,onChange:_,current:Z.page_number}}),e().createElement("div",{className:Ce().footer},e().createElement("span",null,"\u5DF2\u9009\u62E9",e().createElement("span",{className:Ce().primary},W.length),"\u9879"),e().createElement("div",null,e().createElement(ce.Z,{onClick:n,style:{marginRight:8}},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:T,type:"primary"},"\u786E\u5B9A")))))))}var Fr=(0,Cr.Z)()(Zr),Nr=r(63251),Pe=r.n(Nr),br=r(81211),Me=r(62029),yt=r(95742),Dr=r(80454),la=r.n(Dr),St=r(84874),$l="DragableBodyRow",Br=(0,yt.gU)(t=>e().createElement("tr",t)),wr=(0,yt.hv)(t=>e().createElement("tbody",t)),sa={delete:!0,move:!0,edit:!1},Ar=t=>{var n=t.onEdit,a=t.operation,o=a===void 0?sa:a,u=t.columns,b=u===void 0?[]:u,l=t.dataSource,S=l===void 0?[]:l,F=t.dataKeys,I=F===void 0?[]:F,C=t.onChange,h=C===void 0?()=>{}:C,m=(0,p.Z)((0,p.Z)({},sa),o),N=Z=>{var L=Z.oldIndex,k=Z.newIndex;if(L!==k){var D=la()([].concat(S),L,k).filter(B=>!!B),v=la()([].concat(I),L,k).filter(B=>!!B);h(D,v)}},i=Z=>{var L=S.findIndex(v=>v.id==Z.id),k=x()(S,{$splice:[[L,1]]}),D=x()(I,{$splice:[[L,1]]});h(k,D)},d=Z=>e().createElement(wr,(0,Me.Z)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"row-dragging",onSortEnd:N},Z)),g=Z=>{var L=Z.className,k=Z.style,D=(0,br.Z)(Z,["className","style"]),v=S.findIndex(B=>B.id===D["data-row-key"]);return e().createElement(Br,(0,Me.Z)({index:v},D))},A=(0,yt.JV)(()=>e().createElement("span",{style:{cursor:"move"}},e().createElement(St.Z,{size:"10",color:"#516AE6",iconClass:"iconf-move"}))),f=(Z,L)=>e().createElement(Oe.Z,null,m.edit&&e().createElement("span",{style:{cursor:"pointer"},onClick:()=>{n(Z,L)}},e().createElement(St.Z,{size:"10",color:"#516AE6",iconClass:"iconf-edit"})),m.delete&&e().createElement("span",{style:{cursor:"pointer"},onClick:()=>{i(Z)}},e().createElement(St.Z,{size:"10",color:"#516AE6",iconClass:"iconf-delete"})),m.move&&e().createElement(A,null)),c=[...b,{title:"\u64CD\u4F5C",dataIndex:"operate",render:(Z,L,k)=>f(L,k)}],w={body:{wrapper:d,row:localStorage.getItem("dingPersonnel")!=="dingPersonnel"?g:!1}};return e().createElement("div",{className:"sort-table"},e().createElement(Ue.Z,{columns:c,rowKey:"id",dataSource:S,components:w,pagination:{simple:!0,size:"small"}}))},tt=Ar;function Lr(t){var n=t.models,a=n===void 0?{lecturer:[],lecturerKeys:[]}:n,o=t.params,u=t.onChange,b=(0,s.useState)(!1),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=()=>{F(!0)},C=()=>{F(!1)},h=g=>{u("params",x()(o,{showCount:{$set:g}}))},m=g=>{u("params",x()(o,{title:{$set:g.target.value}}))},N=(g,A)=>{u("models",x()(a,{lecturerKeys:{$set:g},lecturer:{$set:A}})),C()},i=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u("models",x()(a,{lecturerKeys:{$set:f},lecturer:{$set:A}}))},d=[{title:"\u8BB2\u5E08\u540D\u79F0",dataIndex:"lecturer_name"},{title:"\u7B49\u7EA7",dataIndex:"level_name",render:g=>e().createElement("span",null,g||"\u6682\u65E0\u7B49\u7EA7")}];return e().createElement(e().Fragment,null,e().createElement("div",{className:Pe().config},e().createElement("div",{className:Pe().title},"\u8BB2\u5E08"),e().createElement("div",{className:Pe()["config-card"]},e().createElement("div",{className:Pe()["class-content"]},e().createElement("span",{className:Pe()["class-content-pre"]},"\u7EC4\u4EF6\u540D\u79F0:"),e().createElement(ue.Z,{defaultValue:o.title,onChange:m})),e().createElement("div",{className:Pe()["class-content"]},e().createElement("span",{className:Pe()["class-content-pre"]},"\u663E\u793A\u4E2A\u6570:"),e().createElement(Ye.Z,{min:1,max:200,defaultValue:o.showCount,onChange:h}),e().createElement("span",{className:Pe()["class-content-post"]},"\u6700\u591A\u663E\u793A200\u4E2A\uFF0C\u5DF2\u6DFB\u52A0",a.lecturer.length,"\u4E2A")),e().createElement("div",{className:Pe()["add-button"],onClick:I},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u8BB2\u5E08"),e().createElement(tt,{dataKeys:a.lecturerKeys,columns:d,dataSource:a.lecturer,onChange:i}))),e().createElement(Fr,{visible:S,onClose:C,selectedIds:a.lecturerKeys,selectedData:a.lecturer,onConfirm:N}))}var Rl=r(88983),pe=r(47933),Ir=r(50474),xe=r.n(Ir),Pr=ue.Z.Search;function xr(t){var n=t.onClose,a=t.visible,o=t.selectedIds,u=t.selectedData,b=t.onConfirm,l=(0,s.useState)([]),S=(0,E.Z)(l,2),F=S[0],I=S[1],C=(0,s.useState)(0),h=(0,E.Z)(C,2),m=h[0],N=h[1],i=(0,s.useState)([]),d=(0,E.Z)(i,2),g=d[0],A=d[1],f=(0,s.useState)([]),c=(0,E.Z)(f,2),w=c[0],Z=c[1],L=(0,s.useState)({pageSize:10,pageNumber:1,keyword:""}),k=(0,E.Z)(L,2),D=k[0],v=k[1],B=(0,s.useState)(!0),M=(0,E.Z)(B,2),j=M[0],Y=M[1];(0,s.useEffect)(()=>{A(o)},[o]);var _=O=>{Y(!0);var R=(0,p.Z)((0,p.Z)({},D),O);ne.WY.get({url:ae.ZP.platformApi.getLecturerList(),params:R}).then(le=>{I(le.data.list),N(le.data.total),Y(!1)})};(0,s.useEffect)(()=>{_()},[]);var ee=O=>{var R=(0,p.Z)((0,p.Z)({},D),O);v(R),_(R)},V=(O,R)=>{ee({pageSize:R,pageNumber:O})},Q=O=>{ee({keyword:O,pageNumber:1})},q=[{title:"\u5168\u9009",dataIndex:"id",render:(O,R)=>e().createElement("div",{className:xe().listItem},e().createElement("div",{className:xe().avatar,style:{backgroundImage:"url(".concat(R.avatar||"https://oss.coolcollege.cn/1790708689137700864.png",")")}}),e().createElement("div",{className:xe().info},e().createElement("div",{className:xe().name},R.name),e().createElement("div",null,R.simpleIntroduce)))}],J=(O,R)=>{A(O),Z(R)},X={preserveSelectedRowKeys:!0,selectedRowKeys:g,onChange:J},W=()=>{var O=[...w,...u],R=[];g.forEach(le=>{R.push(O.find(oe=>oe&&oe.id===le))}),b(g,R)};return e().createElement(Ae.Z,{title:"\u9009\u62E9\u8BB2\u5E08",placement:"right",closable:!1,onClose:n,visible:a,width:800},e().createElement("div",{className:xe().container},e().createElement(Pr,{onSearch:Q,className:xe().search,placeholder:"\u6839\u636E\u8BB2\u5E08\u540D\u79F0\u641C\u7D22"}),e().createElement("div",{className:xe().content},e().createElement(Ue.Z,{tableLayout:"fixed",rowKey:"id",showHeader:!0,rowSelection:X,columns:q,loading:j,dataSource:F,pagination:{total:m,onChange:V}})),e().createElement("div",{className:xe().footer},e().createElement("span",null,"\u5DF2\u9009\u62E9",e().createElement("span",{className:xe().primary},g.length),"\u9879"),e().createElement("div",null,e().createElement(ce.Z,{onClick:n,style:{marginRight:8}},"\u53D6\u6D88"),e().createElement(ce.Z,{onClick:W,type:"primary"},"\u786E\u5B9A")))))}var kr=xr,Kr=r(91667),be=r.n(Kr);function Tr(t){var n=t.models,a=n===void 0?{lecturer:[],lecturerKeys:[]}:n,o=t.params,u=t.onChange,b=(0,s.useState)(!1),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=()=>{F(!0)},C=()=>{F(!1)},h=A=>{u("params",x()(o,{showCount:{$set:A}}))},m=A=>{u("params",x()(o,{title:{$set:A.target.value}}))},N=A=>{u("params",x()(o,{position:{$set:A.target.value}}))},i=(A,f)=>{u("models",x()(a,{lecturerKeys:{$set:A},lecturer:{$set:f.map(c=>({name:c.name,id:c.id,avatar:c.avatar,simpleIntroduce:c.simpleIntroduce,course_count:c.course_count}))}})),C()},d=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u("models",x()(a,{lecturerKeys:{$set:c},lecturer:{$set:f}}))},g=[{title:"\u8BB2\u5E08\u540D\u79F0",dataIndex:"name"}];return e().createElement(e().Fragment,null,e().createElement("div",{className:be().config},e().createElement("div",{className:be().title},"\u8BB2\u5E08"),e().createElement("div",{className:be()["config-card"]},e().createElement("div",{className:be()["class-content"]},e().createElement("span",{className:be()["class-content-pre"]},"\u7EC4\u4EF6\u540D\u79F0:"),e().createElement(ue.Z,{defaultValue:o.title,onChange:m})),e().createElement("div",{className:be()["class-content"]},e().createElement("span",{className:be()["class-content-pre"]},"\u6807\u9898\u4F4D\u7F6E:"),e().createElement(pe.ZP.Group,{onChange:N,value:o.position},e().createElement(pe.ZP,{value:"left"},"\u5C45\u5DE6"),e().createElement(pe.ZP,{value:"center"},"\u5C45\u4E2D"))),e().createElement("div",{className:be()["add-button"],onClick:I},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u8BB2\u5E08"),e().createElement("div",{className:be()["class-content"]},e().createElement("span",{className:be()["class-content-pre"]},"\u663E\u793A\u4E2A\u6570:"),e().createElement(Ye.Z,{min:1,max:200,defaultValue:o.showCount,onChange:h}),e().createElement("span",{className:be()["class-content-post"]},"\u6700\u591A\u663E\u793A200\u4E2A\uFF0C\u5DF2\u6DFB\u52A0",a.lecturer.length,"\u4E2A")),e().createElement(tt,{dataKeys:a.lecturerKeys,columns:g,dataSource:a.lecturer,onChange:d}))),e().createElement(kr,{visible:S,onClose:C,selectedIds:a.lecturerKeys,selectedData:a.lecturer,onConfirm:i}))}var $r=r(18728),me=r.n($r),mt=Ie.Z.Option,Rr={image:"\u4EC5\u56FE\u7247",page:"\u9009\u62E9\u9875\u9762",course:"\u5173\u8054\u8BFE\u7A0B",courseClass:"\u5173\u8054\u8BFE\u7A0B\u5206\u7C7B",lecturer:"\u8BB2\u5E08\u5217\u8868"};function Or(t){var n=t.models,a=n===void 0?{nav:[]}:n,o=t.params,u=t.onChange,b=(0,s.useState)(),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)(),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=(0,s.useState)(),f=(0,E.Z)(A,2),c=f[0],w=f[1],Z=(0,s.useState)(),L=(0,E.Z)(Z,2),k=L[0],D=L[1],v=(0,s.useRef)(a);(0,s.useEffect)(()=>{v.current=a},[a]);var B=(y,T)=>{u("models",x()(a,{nav:{[T]:{type:{$set:y}}}}))},M=(y,T)=>{u("models",x()(a,{nav:{[T]:{content:{[y]:{$set:null}}}}}))},j=(y,T)=>{u("models",x()(a,{nav:{[T]:{title:{$set:y.target.value}}}}))},Y=(y,T)=>{u("models",x()(a,{nav:{[T]:{subTitle:{$set:y.target.value}}}}))},_=y=>{u("params",x()(o,{column:{$set:y.target.value}}))},ee=(y,T)=>{if(y!==0){var K=x()(a,{nav:{$splice:[[y,1]]}});u("models",x()(K,{nav:{$splice:[[y-1,0,T]]}}))}},V=(y,T)=>{if(y!==a.nav.length-1){var K=x()(a,{nav:{$splice:[[y,1]]}});u("models",x()(K,{nav:{$splice:[[y+1,0,T]]}}))}},Q=y=>{m(y),D("update")},q=y=>{u("models",x()(a,{nav:{$splice:[[y,1]]}}))},J=(y,T)=>{var K="".concat(y.server,"/").concat(y.fileNewName);T&&(K=T),k==="update"?u("models",x()(a,{nav:{[h]:{url:{$set:K}}}})):k==="add"&&v.current.nav.length<20&&u("models",x()(v.current,{nav:{$push:[{url:K,id:y.fileNewName,type:"page",title:"",subTitle:"",content:{fileName:y.fileName}}]}}))},X=y=>{var T=y.file,K=new FormData;K.append("file",T);var G="".concat(ae.ZP.Common.upload());ne.WY.post({url:G,data:K}).then(se=>{J(se.data.data)})},W={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,multiple:!0,beforeUpload:y=>k==="add"&&v.current.nav.length>=20?(re.default.info("\u6700\u591A\u4E0A\u4F2020\u5F20\u56FE\u7247!"),!1):y.size>800*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7800kb!"),!1):!0,customRequest:X},O=(y,T,K)=>{w(!0),g(y),m(K),F(T)},R=()=>{w(!1),g("")},le=y=>{u("models",x()(a,{nav:{[h]:{content:{page:{$set:y}}}}})),R()},oe=(y,T)=>{u("models",x()(a,{nav:{[h]:{content:{course:{$set:T[0]}}}}})),R()},H=(y,T)=>{u("models",x()(a,{nav:{[h]:{content:{courseClass:{$set:{checkedKeys:y,postCheckKeys:T,title:"\u5DF2\u9009 ".concat(y.length+T.length," \u4E2A")}}}}}})),R()},te=(y,T)=>y.type?y.type==="lecturer"?e().createElement("div",{className:me()["input-div"]},"\u8DF3\u8F6C\u5230\u8BB2\u5E08\u5217\u8868"):y.content&&y.content[y.type]?e().createElement("div",{className:me()["input-div"]},y.content[y.type].title,e().createElement(ze.Z,{onClick:()=>M(y.type,T)})):e().createElement("div",{style:{width:"65%"},className:me()["input-add-button"],onClick:()=>O(y.type,y,T)},e().createElement(Ne.Z,null),Rr[y.type]):e().createElement("div",{className:me()["input-div"]},"\u8BF7\u5148\u9009\u62E9\u5173\u8054\u5185\u5BB9\u7C7B\u578B");return e().createElement(e().Fragment,null,e().createElement("div",{className:me().config},e().createElement("div",{className:me().title},"\u56FE\u6587\u5BFC\u822A"),e().createElement("div",{className:me().configContent},e().createElement("div",{className:me().singleTitleRow},e().createElement("div",{className:me().singleTitle},"\u5C55\u793A\u89C4\u5219"),e().createElement(pe.ZP.Group,{value:o.column,onChange:_},e().createElement(pe.ZP,{value:2},"\u4E00\u884C\u4E8C\u4E2A"),e().createElement(pe.ZP,{value:3},"\u4E00\u884C\u4E09\u4E2A"),e().createElement(pe.ZP,{value:4},"\u4E00\u884C\u56DB\u4E2A"))),e().createElement(Fe.Z,W,e().createElement("div",{className:me()["add-button"],onClick:()=>D("add")},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u56FE\u6587\u5BFC\u822A")),e().createElement("div",{className:me().description},"\u5EFA\u8BAE\u5C3A\u5BF8200*200px\uFF0C\u652F\u6301PNG\u3001JPEG\u3001JPG\u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7800kb\uFF0C\u652F\u6301\u591A\u9009\uFF0C\u6700\u591A20\u4E2A"),(a.nav||[]).map((y,T)=>e().createElement("div",{key:y.id,className:me().configBlock},e().createElement("div",{className:me().configRow},e().createElement("span",{className:me().configRowLeft},"\u6807\u9898:"),e().createElement(ue.Z,{defaultValue:y.title,onChange:K=>j(K,T),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",maxLength:20})),e().createElement("div",{className:me().configRow},e().createElement("span",{className:me().configRowLeft},"\u526F\u6807\u9898:"),e().createElement(ue.Z,{defaultValue:y.subTitle,onChange:K=>Y(K,T),placeholder:"\u8BF7\u8F93\u5165\u526F\u6807\u9898",maxLength:60})),e().createElement("div",{className:me().configRow},e().createElement("div",{className:me().configRowLeft},"\u56FE\u7247\uFF1A"),e().createElement("div",{className:me().picture,style:{backgroundImage:"url(".concat(y.url,")")}},e().createElement("div",{className:me().bottom},e().createElement(Fe.Z,W,e().createElement("div",{onClick:()=>Q(T)},"\u66F4\u6539")))),e().createElement("div",{className:me().rightButtons},e().createElement(Qe.Z,{onClick:()=>ee(T,y),className:ye()({disabled:T===0})}),e().createElement(qe.Z,{onClick:()=>V(T,y),className:ye()({disabled:T===a.nav.length-1})}),e().createElement(_e.Z,{onClick:()=>q(T)}))),e().createElement(ue.Z.Group,{compact:!0},e().createElement(Ie.Z,{defaultValue:y.type||"\u9009\u62E9\u7C7B\u578B",style:{width:"35%"},placeholder:"\u9009\u62E9\u7C7B\u578B",onChange:K=>B(K,T)},e().createElement(mt,{value:"page"},"\u9009\u62E9\u9875\u9762"),e().createElement(mt,{value:"courseClass"},"\u8BFE\u7A0B\u5206\u7C7B"),e().createElement(mt,{value:"course"},"\u5355\u4E2A\u8BFE\u7A0B"),e().createElement(mt,{value:"lecturer"},"\u8BB2\u5E08\u5217\u8868")),te(y,T)))))),e().createElement(Jt,{visible:c&&d==="page",onClose:R,selectData:S,onConfirm:le}),e().createElement(ft,{visible:c&&d==="course",onCancel:R,onOk:oe,checkType:"radio"}),e().createElement(ht,{visible:c&&d==="courseClass",onCancel:R,onOk:H,checkType:"radio"}))}var Ol=r(71194),Mr=r(57016),jr=r(25831),Ze=r.n(jr);function Ur(t){var n=t.onClose,a=t.visible,o=t.selectedData,u=t.onConfirm,b=(0,s.useState)("1"),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)(),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=(0,s.useState)(),f=(0,E.Z)(A,2),c=f[0],w=f[1],Z=(0,s.useState)(),L=(0,E.Z)(Z,2),k=L[0],D=L[1],v=j=>{F(j.type||"1"),m(j.linkUrl),g(j.logo),w(j.id),D(j.name)};(0,s.useEffect)(()=>{v(o)},[o]);var B=()=>{if(!d||!k){re.default.error("\u540D\u79F0\u6216\u5934\u50CF\u4E0D\u80FD\u4E3A\u7A7A");return}if(S==="2"&&!h){re.default.error("URL\u8DF3\u8F6C\u94FE\u63A5\u4E0D\u80FD\u4E3A\u7A7A");return}u({logo:d,name:k,id:c,linkUrl:h,type:S})},M={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,multiple:!0,beforeUpload:j=>j.size>300*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7300kb!"),!1):!0,customRequest:j=>{var Y=j.file,_=new FormData;_.append("file",Y);var ee="".concat(ae.ZP.Common.upload());ne.WY.post({url:ee,data:_}).then(V=>{g("".concat(V.data.data.server,"/").concat(V.data.data.fileNewName)),c||w(V.data.data.fileNewName)})}};return e().createElement(Mr.Z,{title:"\u6DFB\u52A0\u53CB\u60C5\u94FE\u63A5",visible:a,onOk:B,onCancel:n},e().createElement("div",{className:Ze().row},e().createElement("label",{className:Ze().rowLeft},"\u540D\u79F0:"),e().createElement(ue.Z,{placeholder:"\u8BF7\u8F93\u5165\u5408\u4F5C\u4F19\u4F34\u540D\u79F0\uFF0C\u6700\u591A\u53EF\u8F93\u516510\u4E2A\u5B57",onChange:j=>D(j.target.value),value:k,maxLength:10})),e().createElement("div",{className:Ze().row},e().createElement("label",{className:Ze().rowLeft},"LOGO:"),e().createElement("div",null,e().createElement("div",{className:Ze().upload},d?e().createElement("div",{style:{backgroundImage:"url(".concat(d,")")},className:Ze().image},e().createElement(Fe.Z,M,e().createElement("span",{className:Ze().edit},"\u66F4\u6539"))):e().createElement(Fe.Z,M,e().createElement("div",{className:Ze().uploadButton},e().createElement(Ne.Z,null))),e().createElement("div",{className:Ze().uploadText},"\u5EFA\u8BAE\u5C3A\u5BF8100px*100px\uFF0C\u652F\u6301\uFF1APNG\u3001JPEG\u3001JPG\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7300kb")))),e().createElement("div",{className:Ze().row},e().createElement("label",{className:Ze().rowLeft}),e().createElement(pe.ZP.Group,{onChange:j=>F(j.target.value),value:S},e().createElement(pe.ZP,{value:"1"},"\u4EC5LOGO\u5C55\u793A"),e().createElement(pe.ZP,{value:"2"},"\u8DF3\u8F6C\u94FE\u63A5"))),S==="2"&&e().createElement("div",{className:Ze().row},e().createElement("label",{className:Ze().rowLeft}),e().createElement(ue.Z,{placeholder:"\u8BF7\u8F93\u5165URL\u8DF3\u8F6C\u94FE\u63A5:",onChange:j=>m(j.target.value),value:h})))}var Wr=Ur,Vr=r(15065),ke=r.n(Vr);function zr(t){var n=t.models,a=n===void 0?{linkList:[],linkListKeys:[]}:n,o=t.params,u=t.onChange,b=(0,s.useState)(!1),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(-1),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)({}),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=()=>{F(!1)},f=v=>{u("params",x()(o,{showCount:{$set:v}}))},c=v=>{u("params",x()(o,{title:{$set:v.target.value}}))},w=v=>{if(h!==-1){var B;a.linkList.forEach((M,j)=>{M.id===v.id&&(B=j)}),u("models",x()(a,{linkList:{$splice:[[B,1,v]]}}))}else u("models",x()(a,{linkList:{$push:[v]}}));A()},Z=(v,B)=>{g(v),m(B),F(!0)},L=()=>{g({}),m(-1),F(!0)},k=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u("models",x()(a,{linkList:{$set:B}}))},D=[{title:"LOGO",dataIndex:"logo",render:v=>e().createElement("img",{src:v,height:32})},{title:"\u540D\u79F0",dataIndex:"name"}];return e().createElement(e().Fragment,null,e().createElement("div",{className:ke().config},e().createElement("div",{className:ke().title},"\u53CB\u60C5\u94FE\u63A5"),e().createElement("div",{className:ke()["config-card"]},e().createElement("div",{className:ke()["class-content"]},e().createElement("span",{className:ke()["class-content-pre"]},"\u7EC4\u4EF6\u540D\u79F0:"),e().createElement(ue.Z,{defaultValue:o.title,onChange:c})),e().createElement("div",{className:ke()["class-content"]},e().createElement("span",{className:ke()["class-content-pre"]},"\u663E\u793A\u4E2A\u6570:"),e().createElement(Ye.Z,{min:1,max:50,defaultValue:o.showCount,onChange:f}),e().createElement("span",{className:ke()["class-content-post"]},"\u6700\u591A\u663E\u793A50\u4E2A\uFF0C\u5DF2\u6DFB\u52A0",a.linkList.length,"\u4E2A")),e().createElement("div",{className:ke()["add-button"],onClick:L},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u53CB\u94FE"),e().createElement(tt,{dataKeys:a.linkListKeys,columns:D,dataSource:a.linkList,onChange:k,operation:{edit:!0},onEdit:Z}))),e().createElement(Wr,{visible:S,onClose:A,selectedData:d,onConfirm:w}))}var oa=r(5990),Gr=r(48497),Zt=r.n(Gr),Ml=r(20228),Yr=r(11382),Hr=ae.ZP.CourseSelector.getCourseList(),Jr=[];function Xr(t){var n=t.visible,a=n===void 0?!1:n,o=t.onOk,u=o===void 0?()=>{}:o,b=t.onCancel,l=b===void 0?()=>{}:b,S=t.checkedList,F=S===void 0?Jr:S,I=(0,s.useState)(!1),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)(!1),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=(0,s.useState)([]),f=(0,E.Z)(A,2),c=f[0],w=f[1],Z=(0,s.useState)([]),L=(0,E.Z)(Z,2),k=L[0],D=L[1],v=e().createElement(e().Fragment,null,"\u9009\u62E9\u8BFE\u7A0B",e().createElement("span",{style:{marginLeft:"16px",fontSize:"13px",color:"rgba(0,0,0,.45)"}},"\u53EA\u53EF\u5C55\u793A\u5206\u7C7B\u4E0B\u53EF\u89C1\u8303\u56F4\u4E3A\u201C\u5168\u516C\u53F8\u201D\u7684\u8BFE\u7A0B")),B=V=>{D(V)},M=V=>{D(V)},j=function V(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.map(q=>({key:q.id,title:q.name,children:q.children?V(q.children):null}))},Y=()=>{m(!0),qt().then(V=>{m(!1),w(V)})},_=()=>{g(!0),ne.WY.get({url:Hr,params:{statusType:"all",sortType:"all",order:"desc",classifyId:k[0],pageNumber:1,pageSize:200}}).then(V=>{var Q=V.data,q=Q.list,J=q===void 0?[]:q,X=Q.total;g(!1),u(k,Wt(J))})};(0,s.useEffect)(()=>{D(F)},[F]),(0,s.useEffect)(()=>{Y()},[]);var ee=e().createElement(e().Fragment,null,e().createElement("div",{style:{float:"left"}},"\u5DF2\u9009\u62E9",k.length,"\u9879"),e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:l},"\u53D6\u6D88"),e().createElement(ce.Z,{loading:d,onClick:_,type:"primary"},"\u786E\u5B9A")));return e().createElement(Ae.Z,{title:"\u9009\u62E9\u5206\u7C7B",visible:a,onClose:l,className:"choose-course-class-drawer",width:window.innerWidth*.9,footer:ee},e().createElement(Yr.Z,{spinning:h},e().createElement(Et.Z,{height:document.querySelector(".choose-course-class-drawer .ant-drawer-body")?document.querySelector(".choose-course-class-drawer .ant-drawer-body").clientHeight-48:null,onCheck:B,onSelect:M,treeData:c})))}var Qr="course-config",Ft=(0,oa.er)(Qr),qr={labelCol:{span:6},wrapperCol:{span:18}},_r=[{title:"\u8BFE\u7A0B\u540D\u79F0",dataIndex:"title",key:"title"},{title:"\u8BFE\u7A0B\u5206\u7C7B",dataIndex:"classifyName",key:"classifyName",width:"66px"}],en={data:[],classData:[]};function tn(t){var n=t.models,a=n===void 0?en:n,o=t.params,u=o===void 0?{showNumber:8,type:"course",title:""}:o,b=t.cssObj,l=t.onChange,S=(0,s.useState)(!1),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=(0,s.useState)(!1),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=de.Z.useForm(),g=(0,E.Z)(d,1),A=g[0],f=()=>{u.type==="class"?C(!0):i(!0)},c=()=>{C(!1),i(!1)};(0,s.useEffect)(()=>{A.setFieldsValue((0,p.Z)({},u))},[u]);var w=(v,B)=>{if(v.length>200){re.default.warning("\u9009\u62E9\u8BFE\u7A0B\u91CF\u5E94\u5C0F\u4E8E200\u4E2A");return}c(),l("models",(0,p.Z)((0,p.Z)({},a),{},{courseKeys:v,courseData:B}))},Z=(v,B)=>{c(),l("models",(0,p.Z)((0,p.Z)({},a),{},{classData:v,courseKeys:B.map(M=>M.id),courseData:B}))},L=v=>{var B=(0,p.Z)((0,p.Z)({},a),{},{classData:[],courseKeys:[],courseData:[]});v==="course"&&(B.classData=[]),l("models",B)},k=(v,B)=>{l("params",B),v.hasOwnProperty("type")&&L(v.type)},D=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l("models",{courseKeys:M,courseData:B})};return e().createElement("div",{className:Zt()[Ft()]},e().createElement(de.Z,(0,Me.Z)({form:A},qr,{onValuesChange:k}),e().createElement(de.Z.Item,{name:"title",label:"\u7EC4\u4EF6\u540D\u79F0"},e().createElement(ue.Z,{placeholder:"\u8F93\u5165\u6807\u9898\u4FE1\u606F"})),e().createElement(de.Z.Item,{name:"type",label:"\u9009\u62E9\u8BFE\u7A0B"},e().createElement(pe.ZP.Group,null,e().createElement(pe.ZP,{value:"course"},"\u6309\u8BFE\u7A0B"),e().createElement(pe.ZP,{value:"class"},"\u6309\u8BFE\u7A0B\u5206\u7C7B"))),e().createElement("div",{className:Zt()[Ft("add")],onClick:f,type:"primary"},u.type==="class"?"\u6309\u8BFE\u7A0B\u5206\u7C7B\u6DFB\u52A0\u8BFE\u7A0B":"+ \u6DFB\u52A0\u8BFE\u7A0B"),e().createElement(Ge.Z,{wrap:"false",align:"middle"},e().createElement(he.Z,{flex:"150px"},e().createElement(de.Z.Item,{style:{margin:0},labelCol:{span:12},wrapperCol:{span:12},name:"showNumber",label:"\u663E\u793A\u4E2A\u6570"},e().createElement(Ye.Z,{style:{width:"75px"},max:200,min:0}))),e().createElement(he.Z,null,e().createElement("span",{className:Zt()[Ft("number-span")]},"\u6700\u591A\u663E\u793A200\u4E2A\uFF0C\u5DF2\u6DFB\u52A0",a.courseKeys.length,"\u4E2A")))),e().createElement("div",{style:{paddingBottom:"16px"}}),e().createElement(tt,{dataKeys:a.courseKeys||[],columns:_r,dataSource:a.courseData||[],onChange:D}),e().createElement(Xr,{checkedList:a.classData,onCancel:c,onOk:Z,visible:I}),e().createElement(ea,{checkedRows:a.courseData||[],checkedKeys:a.courseKeys||[],onCancel:c,onOk:w,visible:N}))}var an=[{title:"\u80CC\u666F\u6837\u5F0F",key:"nav",children:[{componentType:"select",name:"colorType",label:"\u80CC\u666F\u8272",type:"string",decs:""}]},{title:"LOGO",key:"logo",children:[{componentType:"upload",name:"logoUrl",label:"logo",type:"srting",desc:"\u5EFA\u8BAE\u5C3A\u5BF8314px*125px, \u652F\u6301PNG, JPEG, JPG\u683C\u5F0F, \u5927\u5C0F\u4E0D\u8D85\u8FC7300kb"}]},{title:"\u79FB\u52A8\u7AEF",key:"mobile",children:[{componentType:"switch",name:"isShow",label:"\u5F00\u542F\u5728\u5BFC\u822A\u680F\u4E0A\u5C55\u793A",type:"boolean",decs:""},{name:"name",label:"\u91CD\u547D\u540D",type:"string",componentType:"input",desc:"\u8BF7\u8F93\u5165\u65B0\u7684\u540D\u79F0"},{name:"qrcode",label:"\u4E8C\u7EF4\u7801",type:"string",componentType:"upload",desc:"\u5EFA\u8BAE\u5C3A\u5BF8100px*100px, \u652F\u6301\uFF1APNG, JPEG, JPG, \u5927\u5C0F\u4E0D\u8D85\u8FC7300kb"},{name:"desc",type:"string",label:"\u63CF\u8FF0",componentType:"input",desc:"\u8BF7\u8F93\u5165\u63CF\u8FF0"}]}],rn={pageConfig:an},nn=r(7670),Le=r.n(nn),ln=Ve.Z.Panel,sn=t=>{var n=t.params,a=t.onChange,o=t.models,u=t.cssObj,b=h=>({name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,maxCount:1,multiple:!0,beforeUpload:m=>m.size>300*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7300kb!"),!1):!0,customRequest:m=>{var N=m.file,i=new FormData;i.append("file",N);var d="".concat(ae.ZP.Common.upload());ne.WY.post({url:d,data:i}).then(g=>{var A="".concat(g.data.data.server,"/").concat(g.data.data.fileNewName);l(h,"params",A)})}}),l=(h,m,N)=>{var i,d,g;switch(m){case"params":i=(0,p.Z)((0,p.Z)({},n),{},{[h]:N}),a(m,i);break;case"models":d=(0,p.Z)((0,p.Z)({},o),{},{[h]:N}),a(m,d);break;case"cssObj":g=(0,p.Z)((0,p.Z)({},u),{},{[h]:N}),a(m,g);break}},S=rn.pageConfig,F=[];S.forEach(h=>{F.push(h.key)});var I=()=>{l("isShow","params",!n.isShow)},C=h=>{console.log(h),l("navKey","params",h)};return e().createElement("div",{className:Le().config},e().createElement("div",{className:Le().title},"\u5BFC\u822A\u680F"),e().createElement(Ve.Z,{bordered:!1,defaultActiveKey:F,style:{paddingTop:"0"}},S.map((h,m)=>e().createElement(ln,{header:h.title,key:h.key},h.children&&h.children.length>0&&h.children.map(N=>{if(N.componentType==="upload")return e().createElement("div",null,e().createElement(Fe.Z,(0,Me.Z)({},b(N.name),{className:Le().picture}),e().createElement("img",{src:n[N.name]}),e().createElement("div",{className:Le().bottom},"\u66F4\u6539")),e().createElement("div",{className:Le().description},N.desc));if(N.componentType==="switch")return e().createElement("div",{className:Le().radio},e().createElement(ut.Z,{checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onClick:I,checked:n.isShow}),N.label);if(N.componentType==="select")return e().createElement("div",{className:Le().select},e().createElement("span",null,"\u80CC\u666F\u8272\uFF1A"),e().createElement(Ie.Z,{label:N.label,value:n.navKey,placeholder:"\u8BF7\u9009\u62E9\u5BFC\u822A\u680F\u80CC\u666F\u8272\u4E3B\u9898",onChange:C},e().createElement(Option,{key:"bule",value:"darkBlue"},"\u6DF1\u84DD\u8272"),e().createElement(Option,{key:"white",value:"white"},"\u767D\u8272")));if(N.componentType==="input")return e().createElement("div",{className:Le().textInput},e().createElement("div",{className:Le().label},N.label,":"),e().createElement("div",{className:Le().navInput},e().createElement(ue.Z,{value:n[N.name],onChange:i=>l(N.name,"params",i.target.value)})))})))))},on=sn,un=[{label:"\u6807\u9898",name:"title",type:"string",componentType:"textArea",desc:"\u793A\u4F8B\uFF1A\u8BA9\u4E16\u754C\u638C\u63E1\u77E5\u8BC6\u66F4\u9AD8\u6548",multiple:!0},{label:"\u6587\u672C",name:"text",type:"Array",multiple:!1,children:[{label:"\u6587\u672C\u4E00",name:"firstText",type:"string",componentType:"textArea",desc:"\u793A\u4F8B\uFF1A\u5730\u5740\uFF1A\u5317\u4EAC\u5E02\u660C\u5E73\u533A\u56DE\u9F99\u89C2\u9547\u9F99\u57DF\u4E2D\u88571\u53F7\u96621\u53F7\u697C1\u5355\u5143545"},{label:"\u6587\u672C\u4E8C",name:"secondText",type:"string",componentType:"textArea",desc:"\u793A\u4F8B\uFF1A\u8054\u7CFB\u7535\u8BDD\uFF1A 4000 967 877"},{label:"\u6587\u672C\u4E09",name:"thirdText",type:"string",componentType:"string",desc:"\u793A\u4F8B\uFF1A \u4F01\u4E1A\u5B98\u7F51\uFF1Ahttp://www.coolcollege.cn/"}]}],cn={pageConfig:un},dn=r(5609),ie=r.n(dn),ua=ue.Z.TextArea,mn=t=>{var n=t.params,a=t.models,o=t.cssObj,u=t.onChange,b=cn.pageConfig,l=a.picList,S=(i,d,g)=>{var A,f,c;switch(d){case"params":A=(0,p.Z)((0,p.Z)({},n),{},{[i]:g}),u(d,A);break;case"models":f=(0,p.Z)((0,p.Z)({},a),{},{[i]:g}),u(d,f);break;case"cssObj":c=(0,p.Z)((0,p.Z)({},o),{},{[i]:g}),u(d,c);break}},F={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,maxCount:2,multiple:!0,beforeUpload:i=>l.length>=2?(re.default.info("\u6700\u591A\u4E0A\u4F202\u5F20\u56FE\u7247!"),!1):i.size>300*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7300kb!"),!1):!0,customRequest:i=>{var d=i.file,g=new FormData;g.append("file",d);var A="".concat(ae.ZP.Common.upload());ne.WY.post({url:A,data:g}).then(f=>{var c="".concat(f.data.data.server,"/").concat(f.data.data.fileNewName);l.length<3&&(l.push({id:Je()(12),url:c,content:"\u5173\u6CE8\u5B98\u65B9\u5FAE\u4FE1"}),S("picList","models",l))})}},I=i=>({name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,maxCount:2,multiple:!0,beforeUpload:d=>d.size>300*1024?(re.default.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7300kb!"),!1):!0,customRequest:d=>{var g=d.file,A=new FormData;A.append("file",g);var f="".concat(ae.ZP.Common.upload());ne.WY.post({url:f,data:A}).then(c=>{var w="".concat(c.data.data.server,"/").concat(c.data.data.fileNewName);l[i].url=w,S("picList","models",l)})}}),C=(i,d)=>{l[i].content=d,S("picList","models",l)},h=(i,d)=>{if(i!==0){var g=x()(l,{$splice:[[i,1],[i-1,0,d]]});S("picList","models",g)}},m=(i,d)=>{if(i!==l.length-1){var g=x()(l,{$splice:[[i,1],[i+1,0,d]]});S("picList","models",g)}},N=i=>{var d=l.splice(i,1);S("picList","models",l)};return e().createElement("div",{className:ie().config},e().createElement("div",{className:ie().title},"\u5E95\u90E8\u4FE1\u606F"),b.map(i=>i.multiple?e().createElement("div",{className:ie().configTitle},e().createElement("div",{className:ie().configItem},e().createElement("div",{className:ie().label},i.label," :"),e().createElement("div",{className:ie().textArea},e().createElement(ua,{rows:2,placeholder:i.desc,value:n[i.name],onChange:d=>S(i.name,"params",d.target.value)})))):e().createElement("div",{className:ie().configTitle},i.children&&i.children.length>0&&i.children.map(d=>e().createElement("div",{className:ie().configItem},e().createElement("div",{className:ie().label},d.label," :"),e().createElement("div",{className:ie().textArea},e().createElement(ua,{rows:2,placeholder:d.desc,value:n[d.name],onChange:g=>S(d.name,"params",g.target.value)})))))),e().createElement("div",{className:ie().configPic},e().createElement(Fe.Z,F,e().createElement("div",{className:ie()["add-button"]},e().createElement(Ne.Z,null),"\u6DFB\u52A0\u4E8C\u7EF4\u7801")),e().createElement("div",{className:ie().description},"\u5EFA\u8BAE\u56FE\u7247\u5C3A\u5BF8100*100px*px\uFF0C\u652F\u6301\uFF1APNG\u3001JPEG\u3001JPG\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7300kb\uFF0C\u6700\u591A\u6DFB\u52A02\u4E2A\u4E8C\u7EF4\u7801"),l&&l.length>0&&l.map((i,d)=>e().createElement("div",{className:ie().picItem,key:i.id},e().createElement("div",{className:ie().qrcodePic},e().createElement("div",{className:ie().picText},"\u4E8C\u7EF4\u7801\uFF1A"),e().createElement(Fe.Z,(0,Me.Z)({},I(d),{className:ie().picture}),e().createElement("img",{src:i.url}),e().createElement("div",{className:ie().bottom},"\u66F4\u6539")),e().createElement("div",{className:ie().rightButtons},e().createElement(Qe.Z,{onClick:()=>h(d,i),className:ye()({disabled:d===0})}),e().createElement(qe.Z,{onClick:()=>m(d,i),className:ye()({disabled:d===l.length-1})}),e().createElement(_e.Z,{onClick:()=>N(d)}))),e().createElement("div",{className:ie().picDesc},e().createElement("div",{className:ie().picText},"\u63CF\u8FF0\uFF1A"),e().createElement("div",{className:ie().picContent},e().createElement(ue.Z,{value:i.content,placeholder:"\u8BF7\u8F93\u5165\u6700\u591A10\u4E2A\u5B57",onChange:g=>C(d,g.target.value)})))))))},vn=mn,gn=r(93635),De=r.n(gn),pn=[{componentType:"switch",name:"isShow",label:"\u539F\u56FE\u4E0A\u4F20",type:"boolean",decs:""},{name:"runUrl",label:"\u5E7F\u544A\u56FE\u7247",type:"string",componentType:"upload",desc:"\u5EFA\u8BAE\u5C3A\u5BF81920*160px\uFF0C\u652F\u6301PNG\u3001JPEG\u3001JPG\u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7800kb"},{name:"jumpUrl",label:"\u8DF3\u8F6C\u94FE\u63A5",type:"string",componentType:"input",desc:"\u8BF7\u8F93\u5165URL\u8DF3\u8F6C\u94FE\u63A5"}],fn={pageConfig:pn},En=ue.Z.TextArea,hn=t=>{var n=t.params,a=t.models,o=t.cssObj,u=t.onChange,b=(0,s.useState)("crop"),l=(0,E.Z)(b,2),S=l[0],F=l[1],I=(0,s.useState)(!1),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useState)(),i=(0,E.Z)(N,2),d=i[0],g=i[1],A=fn.pageConfig,f={name:"file",accept:".jpg,.jpeg,.png",showUploadList:!1,maxCount:1,multiple:!0,beforeUpload:Z=>Z.size>800*1024?(message.info("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7800kb!"),!1):!0,customRequest:Z=>{var L=Z.file;if(S==="crop"){g(L),m(!0);return}var k=new FormData;k.append("file",L);var D="".concat(ae.ZP.Common.upload());ne.WY.post({url:D,data:k}).then(v=>{var B="".concat(v.data.data.server,"/").concat(v.data.data.fileNewName);w("runUrl","params",B)})}},c=Z=>{var L=Z.fileName,k=Z.fileNewName,D=Z.imgUrl;w("runUrl","params",D),m(!1)},w=(Z,L,k)=>{var D,v,B;switch(L){case"params":D=(0,p.Z)((0,p.Z)({},n),{},{[Z]:k}),u(L,D);break;case"models":v=(0,p.Z)((0,p.Z)({},a),{},{[Z]:k}),u(L,v);break;case"cssObj":B=(0,p.Z)((0,p.Z)({},o),{},{[Z]:k}),u(L,B);break}};return e().createElement("div",{className:De().config},e().createElement("div",{className:De().title},"\u8FD0\u8425\u5E7F\u544A"),A.map(Z=>{if(Z.componentType==="input")return e().createElement("div",{className:De().input},e().createElement("div",{className:De().runLabel},Z.label,":"),e().createElement("div",{className:De().runInput},e().createElement(En,{rows:2,placeholder:Z.desc,value:n[Z.name],onChange:L=>w(Z.name,"params",L.target.value)})));if(Z.componentType==="switch")return e().createElement("div",{className:De().radio},e().createElement(ut.Z,{checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:L=>F(L?"":"crop")}),Z.label);if(Z.componentType==="upload")return e().createElement("div",{className:De().adPic},e().createElement("div",{className:De().adLabel},Z.label,":"),e().createElement("div",{style:{display:"block",marginLeft:"5px"}},e().createElement(Fe.Z,(0,Me.Z)({},f,{className:De().picture}),e().createElement("img",{src:n[Z.name]}),e().createElement("div",{className:De().bottom},"\u66F4\u6539")),e().createElement("div",{className:De().description},Z.desc)))}),h&&e().createElement(Ct.Z,{visible:h,file:d,widthScale:1920,heightScale:160,sizeLimit:800,sizeLimitUnit:"kb",onCancel:()=>m(!1),onOk:c}))},Cn=hn,yn=r(37611),Nt=r.n(yn),Sn=r(19222),Zn=r.n(Sn),Fn={upload:ae.ZP.Common.upload()},Nn=(t,n)=>{var a=t.id,o=a===void 0?"wangEditor":a,u=t.style,b=u===void 0?{width:"100%",height:"100%",paddingTop:"20px"}:u,l=(0,s.useRef)(null),S=Ee.m8.location.query;return(0,s.useEffect)(()=>{var F=new(Zn())("#".concat(o));l.current=F;var I=document.querySelector("#".concat(o)).clientHeight,C=document.querySelector("#".concat(o)).clientWidth,h=42;return C<542?h=122:C<1022&&(h=82),F.config.height=I-h,F.config.uploadImgMaxLength=1,F.config.excludeMenus=["video"],F.config.customAlert=function(m,N){switch(N){case"success":re.default.success(m);break;case"info":re.default.info(m);break;case"warning":re.default.warning(m);break;case"error":re.default.error(m);break;default:re.default.info(m);break}},F.config.customUploadImg=(m,N)=>{var i=new FormData;i.set("file",m[0]),i.set("access_token",S.access_token||localStorage.token),(0,Ee.WY)(Fn.upload,{method:"post",data:i,requestType:"form"}).then(d=>{if(d.code===0){var g=d.data,A=g.fileNewName,f=g.server,c=g.fileName;re.default.success("".concat(c," \u4E0A\u4F20\u6210\u529F")),N("".concat(f,"/").concat(A))}else re.default.success("\u56FE\u7247\u4E0A\u4F20\u5931\u8D25")}).catch(d=>{console.log(d)})},F.create(),()=>{l.current.destroy(),l.current=null}},[o,S.access_token]),(0,s.useImperativeHandle)(n,()=>({toHTML:()=>l.current.txt.html(),setHTML:F=>{l.current.txt.html(F)}})),e().createElement("div",{className:"wang-rich-text",id:o,style:b})},bn=(0,s.forwardRef)(Nn);function Dn(t){var n=t.visible,a=n===void 0?!1:n,o=t.onOk,u=o===void 0?()=>{}:o,b=t.html,l=b===void 0?"":b,S=t.onCancel,F=S===void 0?()=>{}:S,I=(0,s.useState)(!1),C=(0,E.Z)(I,2),h=C[0],m=C[1],N=(0,s.useRef)(null),i=e().createElement(e().Fragment,null,"\u56FE\u6587\u7F16\u8F91\u5668",e().createElement("span",{style:{marginLeft:"16px",fontSize:"13px",color:"rgba(0,0,0,.45)"}}));(0,s.useEffect)(()=>{!a||N.current.setHTML(l)},[l,a]);var d=()=>{m(!0);var A=N.current.toHTML();m(!1),u(A)},g=e().createElement(e().Fragment,null,e().createElement("div",{style:{float:"left"}}),e().createElement(Oe.Z,{style:{float:"right"}},e().createElement(ce.Z,{onClick:F},"\u53D6\u6D88"),e().createElement(ce.Z,{loading:h,onClick:d,type:"primary"},"\u786E\u5B9A")));return e().createElement(Ae.Z,{title:i,visible:a,onClose:F,className:"choose-course-class-drawer",width:window.innerWidth*.9,footer:g},e().createElement(bn,{ref:N}))}function Bn(t){var n=t.models,a=n===void 0?{html:""}:n,o=t.params,u=o===void 0?{}:o,b=t.cssObj,l=t.onChange,S=(0,s.useState)(!1),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=()=>{C(!0)},m=i=>{l("models",{html:i}),C(!1)},N=()=>C(!1);return e().createElement("div",{className:Nt().config},e().createElement("div",{className:Nt().title},"\u5BCC\u6587\u672C\u7F16\u8F91\u5668"),e().createElement("div",{className:Nt().edit,onClick:h},"\u7F16\u8F91"),e().createElement(Dn,{html:a.html,onOk:m,onCancel:N,visible:I}))}var wn=r(51636),bt=r.n(wn),An="course-config",Dt=(0,oa.er)(An),Ln={labelCol:{span:6},wrapperCol:{span:18}},In=[{title:"\u8BFE\u7A0B\u540D\u79F0",dataIndex:"title",key:"title"},{title:"\u8BFE\u7A0B\u5206\u7C7B",dataIndex:"classifyName",key:"classifyName",width:"66px"}],Pn={data:[],classData:[],postData:[]};function xn(t){var n=t.models,a=n===void 0?Pn:n,o=t.params,u=o===void 0?{showNumber:8,type:"course",title:"",titlePosition:"left"}:o,b=t.cssObj,l=t.onChange,S=(0,s.useState)(!1),F=(0,E.Z)(S,2),I=F[0],C=F[1],h=(0,s.useState)(!1),m=(0,E.Z)(h,2),N=m[0],i=m[1],d=de.Z.useForm(),g=(0,E.Z)(d,1),A=g[0],f=()=>{u.type==="class"?C(!0):i(!0)},c=()=>{C(!1),i(!1)};(0,s.useEffect)(()=>{A.setFieldsValue((0,p.Z)({},u))},[u]);var w=(v,B)=>{if(v.length>200){re.default.warning("\u9009\u62E9\u8BFE\u7A0B\u91CF\u5E94\u5C0F\u4E8E200\u4E2A");return}c(),l("models",(0,p.Z)((0,p.Z)({},a),{},{courseKeys:v,courseData:B}))},Z=(v,B,M)=>{c(),l("models",(0,p.Z)((0,p.Z)({},a),{},{classData:v,postData:B,courseKeys:M.map(j=>j.id),courseData:M}))},L=v=>{var B=(0,p.Z)((0,p.Z)({},a),{},{classData:[],courseKeys:[],courseData:[],postData:[]});v==="course"&&(B.classData=[]),l("models",B)},k=(v,B)=>{l("params",B),v.hasOwnProperty("type")&&L(v.type)},D=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l("models",{courseKeys:M,courseData:B})};return e().createElement("div",{className:bt()[Dt()]},e().createElement(de.Z,(0,Me.Z)({form:A},Ln,{onValuesChange:k}),e().createElement(de.Z.Item,{name:"title",label:"\u7EC4\u4EF6\u540D\u79F0"},e().createElement(ue.Z,{maxLength:"20",placeholder:"\u8F93\u5165\u6807\u9898\u4FE1\u606F"})),u.hiddenTitlePosition?null:e().createElement(de.Z.Item,{name:"titlePosition",label:"\u6807\u9898\u4F4D\u7F6E"},e().createElement(pe.ZP.Group,null,e().createElement(pe.ZP,{value:"left"},"\u5C45\u5DE6"),e().createElement(pe.ZP,{value:"center"},"\u5C45\u4E2D"))),e().createElement(de.Z.Item,{name:"type",label:"\u9009\u62E9\u8BFE\u7A0B"},e().createElement(pe.ZP.Group,null,e().createElement(pe.ZP,{value:"course"},"\u6309\u8BFE\u7A0B"),e().createElement(pe.ZP,{value:"class"},"\u6309\u8BFE\u7A0B\u5206\u7C7B"))),e().createElement("div",{className:bt()[Dt("add")],onClick:f,type:"primary"},"+ \u6DFB\u52A0\u8BFE\u7A0B"),e().createElement(Ge.Z,{wrap:"false",align:"middle"},e().createElement(he.Z,{flex:"150px"},e().createElement(de.Z.Item,{style:{margin:0},labelCol:{span:12},wrapperCol:{span:12},name:"showNumber",label:"\u663E\u793A\u4E2A\u6570"},e().createElement(Ye.Z,{style:{width:"75px"},max:200,min:0}))),e().createElement(he.Z,null,e().createElement("span",{className:bt()[Dt("number-span")]},"\u6700\u591A\u663E\u793A200\u4E2A\uFF0C\u5DF2\u6DFB\u52A0",a.courseKeys.length,"\u4E2A")))),e().createElement("div",{style:{paddingBottom:"16px"}}),e().createElement(tt,{dataKeys:a.courseKeys||[],columns:In,dataSource:a.courseData||[],onChange:D}),e().createElement(ht,{postList:a.postData,checkedList:a.classData,onCancel:c,onOk:Z,visible:I}),e().createElement(ft,{checkedRows:a.courseData||[],checkedKeys:a.courseKeys||[],onCancel:c,onOk:w,visible:N}))}var kn={"template.knowConfig":Ta,navConfig:on,"custom-footer-config":vn,"run-config":Cn,LinksConfig:zr,BannerConfig:hr,BannerBgyConfig:tr,LecturerConfig:Lr,CourseListConfig:tn,CourseListFoundConfig:xn,LecturerBgyConfig:Tr,GraphicNavConfig:Or,RichTextConfig:Bn},ca=(0,p.Z)((0,p.Z)({},kn),$t.Z),Kn=r(4343),Bt=r.n(Kn),Tn=t=>{var n=t.materialKeys,a=Xe(),o=a.selectId,u=a.selectIndex,b=a.selectCode,l=a.setMaterialKeys,S=(I,C)=>{l(h=>{var m=h.filter(g=>g.code===b);if(m.length>0){var N=(0,p.Z)((0,p.Z)({},m[0]),{},{[I]:(0,p.Z)((0,p.Z)({},m[0][I]),C)}),i=h.findIndex(g=>g.code===b),d=x()(n,{$splice:[[i,1,N]]});return d}})},F=()=>{var I=[];if(n.length===0)return e().createElement("p",{className:Bt().rightEmpty},"\u6682\u65E0\u914D\u7F6E");var C=n[u];if(!C||!C.configKey)return e().createElement("p",{className:Bt().rightEmpty},"\u6682\u65E0\u914D\u7F6E");var h=ca[C.configKey];return h&&I.push(e().createElement(h,{key:C.code,componentId:o,index:u,models:C.models||{},params:C.params||{},cssObj:C.cssObj||{},onChange:S})),I};return e().createElement("div",{className:Bt().componentRight},F())},$n=Tn,Rn=r(44289),at=r(36546),jl=r(22385),On=r(31097),wt=r(16718),Mn=r(38547),je=r.n(Mn),jn=t=>{var n=(0,wt.Z)(),a=n.defaultProps,o=t.src,u=t.text,b=t.name,l=t.uid,S=t.config,F=t.materialKeys,I=t.configKey,C=Xe(),h=C.onFlattenChange,m=e().createElement("img",{alt:"img",draggable:"false",src:o}),N={type:"box",dragItem:{[l]:a[l]||{}},id:l,configKey:I},i=(0,at.c0)({item:N,begin(A){return N},end(A,f){var c=f.getItem(),w=c.id,Z=c.dragItem;f.didDrop()}}),d=(0,E.Z)(i,2),g=d[1];return e().createElement("div",{className:je().leftWrapper,ref:g},e().createElement(On.Z,{placement:"right",title:e().createElement("div",{className:je().tipImg},m),overlayStyle:{maxWidth:"none"}},e().createElement("div",{className:je().img},m)),e().createElement("p",{className:je().componentTitle},u))},Un=jn,Wn={pc:{template:{order:2,data:[{src:"https://oss.coolcollege.cn/1794908637475508224.png",text:"\u5BFC\u822A\u680F",textEn:"Nav(dark)",uid:"custom-nav",configKey:"navConfig"},{src:"https://oss.coolcollege.cn/1794908632924688384.png",text:"\u6A2A\u5E45",textEn:"banner",uid:"Banner",configKey:"BannerConfig"},{src:"https://oss.coolcollege.cn/1801965036370006016.png",text:"\u8BFE\u7A0B\u5217\u8868",textEn:"CourseList",uid:"CourseList",configKey:"CourseListConfig"},{src:"https://oss.coolcollege.cn/1794908632622698496.png",text:"\u8BB2\u5E08",textEn:"lecturer",uid:"Lecturer",configKey:"LecturerConfig"},{src:"https://zos.alipayobjects.com/rmsportal/tFEFnHEpyPhRnFCsKjdR.jpg",text:"\u5E7F\u544A\u8FD0\u8425",textEn:"Run AD",uid:"run-ad",configKey:"run-config"},{src:"https://oss.coolcollege.cn/1794908632664641536.png",text:"\u53CB\u60C5\u94FE\u63A5",textEn:"links",uid:"Links",configKey:"LinksConfig"},{src:"https://oss.coolcollege.cn/1794908636250771456.png",text:"\u5E95\u90E8\u4FE1\u606F",textEn:"footer",uid:"custom-footer",configKey:"custom-footer-config"}]}},mobile:{template:{}}},Vn={pc:{ShopSign:{name:"\u5E97\u62DB",order:1,data:[{src:"https://oss.coolcollege.cn/1794919256320774144.png",text:"\u5E97\u62DB",textEn:"shop sign",uid:"ShopSign"}]},Menu:{name:"\u5BFC\u822A",order:2,data:[{src:"https://oss.coolcollege.cn/1794919256324968448.png",text:"\u5BFC\u822A",textEn:"Menu",uid:"Menu"}]},BannerBgy:{name:"Banner \u6A2A\u5E45",order:3,data:[{src:"https://oss.coolcollege.cn/1794919256312385536.png",text:"Banner",textEn:"banner",uid:"BannerBgy",configKey:"BannerBgyConfig"}]},GraphicNav:{name:"Navigation \u56FE\u6587\u5BFC\u822A",order:4,data:[{src:"https://oss.coolcollege.cn/1794919256333357056.png",text:"\u4E0A\u56FE\u4E0B\u6587",textEn:"graphic navigation",uid:"GraphicNav",configKey:"GraphicNavConfig"},{src:"https://oss.coolcollege.cn/1794919256329162752.png",text:"\u5DE6\u56FE\u53F3\u6587",textEn:"graphic navigation",uid:"GraphicNav2",configKey:"GraphicNavConfig"}]},CourseListFound:{name:"Course \u8BFE\u7A0B",order:5,data:[{src:"https://oss.coolcollege.cn/1794919260720599040.png",text:"Course1-\u5E73\u5747",textEn:"CourseListFound",uid:"CourseListFound",configKey:"CourseListFoundConfig"}]},LecturerBgy:{name:"Lecturer \u8BB2\u5E08",order:6,data:[{src:"https://oss.coolcollege.cn/1794919260708016128.png",text:"\u8BB2\u5E08",textEn:"lecturer",uid:"LecturerBgy",configKey:"LecturerBgyConfig"}]},RichText:{name:"\u56FE\u6587\u7F16\u8F91\u5668",order:7,data:[{src:"https://oss.coolcollege.cn/1794919256303996928.png",text:"\u56FE\u6587\u7F16\u8F91\u5668",textEn:"RichText",uid:"RichText",configKey:"RichTextConfig"}]}},mobile:{BannerBgyMobile:{name:"Banner \u6A2A\u5E45",order:1,data:[{src:"https://oss.coolcollege.cn/1794919241569406976.png",text:"Banner",textEn:"banner",uid:"BannerBgyMobile",configKey:"BannerBgyConfig"}]},ShopSignMobile:{name:"\u5E97\u62DB",order:2,data:[{src:"https://oss.coolcollege.cn/1794919241573601280.png",text:"\u5E97\u62DB",textEn:"shop sign",uid:"ShopSignMobile"}]},GraphicNavMobile:{name:"Navigation \u56FE\u6587\u5BFC\u822A",order:3,data:[{src:"https://oss.coolcollege.cn/1794919241594572800.png",text:"\u4E0A\u56FE\u4E0B\u6587",textEn:"graphic navigation",uid:"GraphicNavMobile",configKey:"GraphicNavConfig"}]},CourseListMobile:{name:"Course \u8BFE\u7A0B",order:4,data:[{src:"https://oss.coolcollege.cn/1794919241586184192.png",text:"\u4E00\u884C\u4E00\u4E2A-\u5C0F\u56FE",textEn:"CourseListMobileMedium",uid:"CourseListMobileMedium",configKey:"CourseListFoundConfig"},{src:"https://oss.coolcollege.cn/1794919241598767104.png",text:"\u4E00\u884C\u4E24\u4E2A",textEn:"CourseListMobile",uid:"CourseListMobile",configKey:"CourseListFoundConfig"},{src:"https://oss.coolcollege.cn/1794919253196017664.png",text:"\u4E00\u884C\u4E00\u4E2A-\u5927\u56FE",textEn:"CourseListMobileLarge",uid:"CourseListMobileLarge",configKey:"CourseListFoundConfig"}]},LecturerBgyMobile:{name:"Lecturer \u8BB2\u5E08",order:5,data:[{src:"https://oss.coolcollege.cn/1794919241602961408.png",text:"\u4E00\u884C\u4E00\u4E2A",textEn:"lecturer",uid:"LecturerBgyMobile",configKey:"LecturerBgyConfig"},{src:"https://oss.coolcollege.cn/1794919241581989888.png",text:"\u4E00\u884C\u4E24\u4E2A",textEn:"lecturer",uid:"LecturerBgyMobile2",configKey:"LecturerBgyConfig"}]},RichTextMobile:{name:"\u56FE\u6587\u7F16\u8F91\u5668",order:6,data:[{src:"https://oss.coolcollege.cn/1794919241590378496.png",text:"\u56FE\u6587\u7F16\u8F91\u5668",textEn:"RichText",uid:"RichTextMobile",configKey:"RichTextConfig"}]}}},ia=Ee.m8.location.query,zn={visitor:Wn,foundPage:Vn};function Gn(){return zn[ia.id||"visitor"][ia.type||"pc"]}var Yn=t=>{var n=Gn();return e().createElement("div",{className:je().leftContent},e().createElement("div",{className:je().leftTitle},e().createElement("h3",null,"\u7EC4\u4EF6\u5E93"),e().createElement("p",{className:je().desc},"\u62D6\u62FD\u4E0B\u65B9\u6A21\u5757\u6DFB\u52A0\u5230\u53F3\u4FA7\u5E03\u5C40\u4E2D")),Object.keys(n).sort((a,o)=>n[a].order-n[o].order).map(a=>{var o=n[a];return e().createElement(e().Fragment,{key:a},n[a].name&&e().createElement("div",{className:je().title},n[a].name),o.data&&o.data.length>0&&o.data.map(u=>e().createElement(Un,(0,Me.Z)({key:u.uid},u,o,{materialData:t}))))}))},Hn=Yn,Jn=r(91670),Xn=r(24557),Ke=r.n(Xn),Qn=t=>{var n=t.children,a=t.$id,o=t.index,u=t.lastIndex,b=t.moveWrapper,l=b===void 0?()=>{}:b,S=t.deleteItem,F=t.handleItemCopy,I=t.handleItemUp,C=t.handleItemDown,h=t.materialKeys,m=(0,s.useState)(),N=(0,E.Z)(m,2),i=N[0],d=N[1],g=(0,wt.Z)(),A=g.defaultProps,f=Xe(),c=f.onFlattenChange,w=f.selectId,Z=f.selectIndex,L=f.setMaterialKeys,k=f.onSelectId,D=(0,s.useRef)(null),v=(0,at.c0)({item:{type:"box",dragItem:{[a]:(0,p.Z)({},h[o])},id:a,code:h.length>0?h[o].code:0,index:o},collect:R=>({isDragging:R.isDragging()})}),B=(0,E.Z)(v,3),M=B[0].isDragging,j=B[1],Y=B[2],_=(0,at.LW)({accept:"box",drop:(R,le)=>{var oe=le.didDrop(),H=le.getItem(),te=H.id,y=H.dragItem,T=H.configKey,K=H.code;if(!oe&&!K){var G=(0,p.Z)({id:te,configKey:T,code:"".concat(te,"_").concat(Je()(12))},y[te]);k(te,o,G.code),L(x()(h,{$splice:[[o,0,G]]}))}},hover(R,le){if(!!D.current){var oe=R.index,H=o;if(oe!==H){var te=D.current&&D.current.getBoundingClientRect(),y=(te.bottom-te.top)/2,T=le.getClientOffset(),K=T.y-te.top;if(oe<H&&K<y){d("up");return}if(oe>H&&K>y){d("down");return}l(oe,H,a),R.index!==void 0&&(R.index=H)}}},collect:R=>({isOver:R.isOver({shallow:!0}),canDrop:R.canDrop()})}),ee=(0,E.Z)(_,2),V=ee[0],Q=V.canDrop,q=V.isOver,J=ee[1],X=Q&&q,W=w===a&&Z===o,O={opacity:M?.7:1};return X&&(i==="up"?O=(0,p.Z)((0,p.Z)({},O),{},{boxShadow:"0 -3px 0 red"}):i==="down"&&(O=(0,p.Z)((0,p.Z)({},O),{},{boxShadow:"0 3px 0 red"}))),W&&(O=(0,p.Z)((0,p.Z)({},O),{},{outline:"2px solid #409eff",borderColor:"#fff"})),Y(J(D)),e().createElement("div",{ref:D,className:Ke().wrapper,style:O},j&&j(e().createElement("div",null,W&&a!=="#"&&e().createElement("div",{className:Ke().dragOutLine},e().createElement(Jn.Z,{style:{color:"#fff"}})),n,W&&a!=="#"&&e().createElement("div",{className:Ke().dragAction},e().createElement("div",{className:Ke().pointer,onClick:S},e().createElement(_e.Z,{className:Ke().dragDelete})),e().createElement("div",{className:Ke().pointer,onClick:I},e().createElement(Qe.Z,{className:Ke().dragUp})),e().createElement("div",{className:Ke().pointer,onClick:C},e().createElement(qe.Z,{className:Ke().dragDown}))))))},da=Qn,qn=r(32643),ma=r.n(qn),_n=t=>{var n=t.materialKeys,a=t.index,o=t.currentWidth,u=Ee.m8.location.query,b=()=>{var l=[];if(!n)return null;var S=ca[n.id];return S&&l.push(e().createElement(S,{key:n.code,models:n.models||{},params:n.params||{},cssObj:n.cssObj||{},index:a,isRender:!1})),l};return e().createElement("div",{className:ma().centerRender},e().createElement("div",{className:ma().container},b()))},el=_n,tl=r(37649),At=r.n(tl),al=t=>{var n=t.materialKeys,a=t.currentWidth,o=Xe(),u=o.onSelectId,b=o.onFlattenChange,l=o.setMaterialKeys,S=Ee.m8.location.query,F=(0,at.LW)({accept:"box",drop:(f,c)=>{var w=c.didDrop(),Z=c.getItem(),L=Z.id,k=Z.dragItem,D=Z.configKey,v=Z.code;if(!w&&!v){var B=(0,p.Z)({id:L,configKey:D,code:"".concat(L,"_").concat(Je()(12))},k[L]);u(L,n.length,B.code),l(x()(n,{$push:[B]}))}}}),I=(0,E.Z)(F,2),C=I[1],h=(f,c,w)=>{u(f,c,w)},m=function(c,w,Z){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"move";if(!(L==="up"&&w<0)&&!(L==="down"&&w>n.length-1)&&c!==void 0){var k=n[c],D=x()(n,{$splice:[[c,1],[w,0,k]]});b(D,"move"),u(Z,w,k.code)}},N=(f,c)=>{var w=x()(n,{$splice:[[c,1]]});b(w,"delete"),w.length>0&&c!==0&&u(w[c-1].id,c-1,w[c-1].code)},i=(f,c)=>{var w=(0,p.Z)((0,p.Z)({},n[c]),{},{code:"".concat(n[c].id,"_").concat(Je()(12))}),Z=x()(n,{$splice:[[c+1,0,w]]});b(Z,"copy"),u(f,c+1,w.code)},d=Math.ceil(a/1280*Math.pow(10,5))/Math.pow(10,5),g={pc:{width:"1280px",transform:"scale(".concat(d,")"),transformOrigin:"0 0",height:"".concat(100/d,"vh"),overflowY:"auto"},mobile:{width:"375px",height:"100vh",overflowY:"auto"}},A=n.length===0;return A?e().createElement(da,{$id:"#",index:"0",materialKeys:n},e().createElement("div",{className:At().renderWrapper,style:g[S.type]},"\u62D6\u62FD\u5DE6\u4FA7\u680F\u7684\u7EC4\u4EF6\u8FDB\u884C\u6DFB\u52A0")):e().createElement("div",{ref:C,className:At().editContent,id:"render-item",style:g[S.type]},n.map((f,c)=>e().createElement(da,{$id:f.id,key:f.code,index:c,lastIndex:n.length-1,moveWrapper:m,materialKeys:n,deleteItem:()=>N(f.id,c),handleItemCopy:()=>i(f.id,c),handleItemUp:()=>m(c,c-1,f.id,"up"),handleItemDown:()=>m(c,c+1,f.id,"down")},e().createElement("div",{className:At().container,onClick:()=>h(f.id,c,f.code)},e().createElement(el,{materialKeys:f,index:c,currentWidth:a})))))},rl=al,nl=r(29036),He=r.n(nl),ll=t=>{var n=t.materialKeys,a=(0,s.useState)(0),o=(0,E.Z)(a,2),u=o[0],b=o[1];return(0,s.useEffect)(()=>{var l=document.getElementById("render-box");b(l.offsetWidth)},[]),e().createElement("div",{className:He().dndComponent},e().createElement("div",{className:He().contentLeft},e().createElement(Hn,{materialKeys:n})),e().createElement("div",{className:He().contentCenter,id:"render-box"},e().createElement(rl,{materialKeys:n,currentWidth:u})))},sl=(0,at.Z5)(Rn.ZP)(ll),ol=t=>{var n=t.materialKeys,a=t.setMaterialKeys,o=t.onFlattenChange,u=t.onSelectId,b=t.selectId,l=t.selectIndex,S=t.selectCode,F={onFlattenChange:o,onSelectId:u,setMaterialKeys:a,userProps:{},frProps:{},selectId:b,selectIndex:l,selectCode:S};return e().createElement("div",null,e().createElement("div",{className:He().pageContent},e().createElement(La.Provider,null,e().createElement(Rt.Provider,{value:F},e().createElement("div",{className:He().content},e().createElement(sl,{materialKeys:n}),e().createElement("div",{className:He().contentRight},e().createElement($n,{materialKeys:n})))))))},ul=ol,cl=r(75368),Lt=r.n(cl),il=Tt.Z.Header,dl=()=>{var t=(0,wt.Z)(),n=Ee.m8.location.query,a=(0,s.useState)([]),o=(0,E.Z)(a,2),u=o[0],b=o[1],l=(0,s.useState)(),S=(0,E.Z)(l,2),F=S[0],I=S[1],C=(0,s.useState)(),h=(0,E.Z)(C,2),m=h[0],N=h[1],i=(0,s.useState)({}),d=(0,E.Z)(i,2),g=d[0],A=d[1],f=(0,s.useState)(),c=(0,E.Z)(f,2),w=c[0],Z=c[1];(0,s.useEffect)(()=>{L(n)},[]);var L=v=>{ne.WY.get({url:ae.ZP.CMSApi.getPageScope({platformType:st.serviceType[v.id].platformType,scopeId:st.serviceType[v.id].scopeId}),params:{id:v.pageId}}).then(B=>{if(B.data.code===2e5){var M=B.data.data,j=M.id,Y=M.componentList,_=M.pageTemplateContext,ee=_?JSON.parse(_):{};if(A(B.data.data),!_||ee.firstTime){b(t.defaultPageData);return}if(Y.length>0){var V=[];ee.position.forEach(Q=>{Y.forEach(q=>{Q===q.pagePosition&&V.push((0,p.Z)({},JSON.parse(q.feature)))})}),b(V)}}})},k=(v,B)=>{b(v)},D=(v,B,M)=>{I(v),N(B),Z(M)};return e().createElement("div",{className:Lt().pageEdit},e().createElement(Tt.Z,null,e().createElement(il,{className:Lt().pageHeader},e().createElement(wa,{materialKeys:u,pageParams:g,queryPageDetail:L})),e().createElement(ul,{className:Lt().pageContent,materialKeys:u,setMaterialKeys:b,onFlattenChange:k,onSelectId:D,selectId:F,selectCode:w,selectIndex:m})))},ml=dl,vl=()=>{var t=Ee.m8.location.query,n=t.id==="homePage"||t.id==="visitor"&&t.newVisitor;return e().createElement("div",null,n?e().createElement(ga.default,null):e().createElement(ml,null))},gl=vl}}]);
