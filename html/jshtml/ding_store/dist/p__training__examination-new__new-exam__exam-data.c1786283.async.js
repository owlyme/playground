(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[2775],{42837:function(Ie,F,e){"use strict";var D=e(12924),g=e.n(D),a=e(91768),U=e(28216),O=e(66708),C=e(18329);class d extends g().Component{render(){var t=this.props,s=t.visible,n=t.onCancel,v=t.title,f=t.t;return s?g().createElement(C.ZP,{visible:s,width:"400",footer:null,title:v||f("common.QRCodeScan"),bodyStyle:{minWidth:430},onCancel:n,destroyOnClose:!0},g().createElement(O.Z,this.props)):null}}F.Z=(0,U.$j)()((0,a.Z)()(d))},74525:function(Ie,F,e){"use strict";var D=e(57361),g=e(34792),a=e(48086),U=e(9754),O=e.n(U),C=e(12924),d=e.n(C),y=e(91768),t=e(28216),s=e(92592),n=e(5430),v=e(10237),f=e(84874),M=e(16239),w=e(38642),P=e(28963);class h extends d().Component{constructor(l){var I;super(l);I=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var r=this.props,i=r.type,p=r.isProjectShare,u=r.isCommodityExchange,o=r.userInfo;["wx","weixin"].includes(i)?i==="weixin"&&o.appId==="9005"?this.initOtherCode():this.initWXCode():p&&i==="ding"?this.getProjectShareUrl():u&&i==="ding"?this.getCommodityExchangeUrl():i==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var r=this.props,i=r.t,p=r.appType,u=r.orderId,o=this.props.option.scene,c=localStorage.getItem("uid");if(!M.Z[(0,M.c)()].showCl||p!=="e_app"){var _={deliverUserId:c,orderId:u,flag:"exchange"};s.toDataURL(JSON.stringify(_),{width:500}).then(k=>{this.setState({img:k})}).catch(()=>{a.default.error(i("integralMall.qrCodeFailed"))})}else{var m="/pages/messageRedirect/messageRedirect?".concat(o),E=encodeURIComponent(m),b="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(E,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(b).then(k=>{s.toDataURL(k.data.short_link,{width:500}).then(x=>{this.setState({img:x})}).catch(()=>{a.default.error(i("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var r=this.props.option.scene,i=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(r)),p="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(i);this.getShortLink(p).then(u=>{this.initOtherCode(u.data.short_link)})},this.getShortLink=r=>v.WY.post({url:n.ZP.Common.getQrUrl(),data:{link:r}}),this.initWXCode=(0,D.Z)(O().mark(function r(){var i,p,u,o;return O().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return i=I.props.option,p=i.scene,u=i.flag,_.next=3,v.WY.post({url:n.ZP.createWxCode(),data:{flag:u,scene:"".concat(p,"&enterpriseId=").concat(n.ZP.enterpriseId),enterprise_id:n.ZP.enterpriseId}});case 3:o=_.sent,I.setState({img:o.data.wx_code,linkUrl:"data:image/png;base64,".concat(o.data.wx_code)});case 5:case"end":return _.stop()}},r)})),this.initOtherCode=function(){var r=(0,D.Z)(O().mark(function i(p){var u,o,c,_;return O().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(u=I.props,o=u.type,c=u.fsUrl,E.t0=p,E.t0){E.next=6;break}return E.next=5,I.handleScanCode();case 5:E.t0=E.sent;case 6:_=E.t0,o==="fs"&&c&&(_=c),I.setState({linkUrl:_}),s.toDataURL(_,{width:500}).then(b=>{I.setState({img:b})}).catch(()=>{a.default.error(I.props.t("personal.failedGenerateCode"))});case 10:case"end":return E.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),this.handleScanCode=(0,D.Z)(O().mark(function r(){var i,p,u,o,c,_,m,E,b,k,x,L,N,J,V,S,K,X;return O().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(i=I.props,p=i.type,u=i.userInfo,o=i.universalFn,c=I.state.wxH5Url,_=I.props.option,m=_.scene,E=_.pc_url,b=E===void 0?"":E,k=_.mobile_url,x=k===void 0?"":k,L=_.pc_type,N=L===void 0?"":L,J=_.mobile_type,V=J===void 0?"":J,S=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),K=encodeURIComponent(m),!o){R.next=12;break}return R.next=8,I.getShortLink((0,w.jr)({pc_url:b,mobile_url:x,pc_type:N,mobile_type:V}));case 8:return X=R.sent,R.abrupt("return",(0,P.fZ)(X.data.short_link));case 12:R.t0=p,R.next=R.t0==="app"?15:R.t0==="ding"?16:R.t0==="fs"?17:R.t0==="weixin"?18:19;break;case 15:return R.abrupt("return","".concat(m,"&fromApp=true"));case 16:return R.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(u.corpId,"&appId=").concat(I.appId,"&miniAppId=").concat(I.miniAppId,"&packageType=1&pVersion=1&page=").concat(S+K));case 17:return R.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(m,"&appType=lark"));case 18:return R.abrupt("return","".concat(c,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(u.corpId,"&").concat(m));case 19:return R.abrupt("return","");case 20:case"end":return R.stop()}},r)})),this.saveQrcode=()=>{var r=this.state.img,i=this.props,p=i.type,u=i.t,o=i.userInfo,c=document.createElement("a");c.download=u("setting.Qrcode")+new Date().getTime(),c.href=p==="wx"||p==="weixin"&&o.appId!=="9005"?"data:image/png;base64,".concat(r):r,document.body.appendChild(c),c.click(),document.body.removeChild(c)},this.generatePoster=r=>{var i=r.linkUrl,p=r.type,u=r.activeKey,o=r.option,c=this.props.universalFn;typeof c=="function"&&c({linkUrl:i,type:p,activeKey:u,option:o})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(l){l.option.scene!==this.props.option.scene&&this.initCode()}render(){var l=this.props,I=l.type,r=l.tip,i=l.extraTip,p=l.t,u=l.canSave,o=l.refreshQrCode,c=l.label,_=l.saveText,m=_===void 0?"":_,E=l.downloadAsBtn,b=l.userInfo,k=l.universalFn,x=l.activeKey,L=l.option,N=this.state,J=N.img,V=N.linkUrl,S=localStorage.getItem("themeColor")||"#465dcd";return J?d().createElement("div",{className:"qr-code-content"},c?d().createElement("div",{className:"label-text"},c,":"):null,d().createElement("div",{className:"qr-code-div ".concat(c?"left":"")},I==="wx"||I==="weixin"&&b.appId!=="9005"?d().createElement("img",{src:"data:image/png;base64,".concat(J),alt:""}):d().createElement("img",{src:J,alt:""}),r?d().createElement("div",{className:"tip-text"},r):null,i?d().createElement("div",{className:"tip-text"},i):null,u?d().createElement("div",{className:"save_qrcode ".concat(E?"save-btn":""),style:{color:S},onClick:()=>this.saveQrcode()},E?null:d().createElement(f.Z,{iconClass:"icon-f-download",size:"14px"}),m||p("personal.saveCode")):null,k&&!o?d().createElement("div",{className:"save_qrcode",style:{color:S},onClick:()=>this.generatePoster({linkUrl:V,type:I,activeKey:x,option:L})},p("personal.saveCodePoster")):null,o?d().createElement("div",{className:"save_qrcode",style:{color:S},onClick:()=>o()},d().createElement(f.Z,{iconClass:"iconf-switch",size:"14px"}),p("personal.refreshCodeTip")):null)):d().createElement("div",{className:"qr-code-placeholder"})}}F.Z=(0,t.$j)(z=>{var l=z.user;return{userInfo:l,appType:l.appType,corpId:l.corpId}})((0,y.Z)()(h))},66708:function(Ie,F,e){"use strict";var D=e(93485),g=e(33565),a=e(57361),U=e(18106),O=e(88108),C=e(9754),d=e.n(C),y=e(12924),t=e.n(y),s=e(91768),n=e(28216),v=e(89366),f=e(48194),M=e(74525),w=e(77779),P=e.n(w),h=e(6793),z=O.Z.TabPane;class l extends t().Component{constructor(i){var p;super(i);p=this,this.initAppTypeScan=(0,a.Z)(d().mark(function o(){var c,_,m,E,b,k,x,L,N,J,V;return d().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Promise.all([(0,f.q)(),(0,f.$)()]);case 2:c=K.sent,_=(0,g.Z)(c,2),m=_[0],E=_[1],b=m.data.sync_organizes,k=E.data.list,x=!1,L=(0,D.Z)(k),K.prev=10,L.s();case 12:if((N=L.n()).done){K.next=19;break}if(J=N.value,J.type!=="wechat_applet_setting"){K.next=17;break}return x=J.switch_status==="OPEN",K.abrupt("break",19);case 17:K.next=12;break;case 19:K.next=24;break;case 21:K.prev=21,K.t0=K.catch(10),L.e(K.t0);case 24:return K.prev=24,L.f(),K.finish(24);case 27:V=p.props.universalFn?p.filterOrganizes(b):p.filterCode(b),x&&V.push("wx"),p.setState({scanTypes:V});case 30:case"end":return K.stop()}},o,null,[[10,21,24,27]])})),this.filterCode=o=>{var c=[...o],_=this.props.option;return c=c.map(m=>["third_oa_app","seeyon_app"].includes(m)?"ding":m),_&&_.flag==="exam_task"?[...new Set([...c])].filter(m=>m==="fs"):[...new Set([...c,"app"])]},this.filterOrganizes=o=>{var c=[...o],_=this.props.option;c=c.map(E=>["third_oa_app","seeyon_app"].includes(E)?"ding":E);var m=new Set([...c]);return m.size===1&&m.has("app")?_&&_.flag==="exam_task"?[...m].filter(E=>E==="fs"):[...m]:(m.delete("app"),_&&_.flag==="exam_task"?[...m].filter(E=>E==="fs"):[...m])};var u=i.t;this.state={scanTypes:[],commonTitle:{ding:u("common.sanCodeCommon"),fs:u("common.sanCodeCommon"),weixin:u("common.sanCodeCommon"),app:u("common.sanCodeCommon"),wx:u("common.weChatApplets")},tabTitle:{ding:u("common.dingDingSanCode"),fs:u("common.fsScanCode"),weixin:u("common.WeComSanCode"),app:u("common.appScanCode"),wx:u("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var i=this.state,p=i.tabTitle,u=i.commonTitle,o=i.scanTypes,c=this.props,_=c.option,m=c.tip,E=c.t,b=c.extraTip,k=c.canSave,x=c.refreshQrCode,L=c.isCommodityExchange,N=c.type,J=c.center,V=J===void 0?!0:J,S=c.label,K=S===void 0?"":S,X=c.saveText,ne=c.downloadAsBtn,R=ne===void 0?!1:ne,fe=c.transfer,q=fe===void 0?!1:fe,Ze=c.source_type,ve=c.universalFn,A=c.activeKey;return t().createElement("div",{className:"".concat(P()["scan-code-box"]," ").concat(N==="card"?P()["card-tabs"]:"")},o.length===1?t().createElement(M.Z,{universalFn:ve,activeKey:A,type:o[0],option:_,tip:(0,h.ZT)(E(m),ve?u[o[0]]:p[o[0]]),extraTip:b,canSave:k,fsUrl:_.fsUrl,refreshQrCode:x,isCommodityExchange:L,label:K,saveText:X,downloadAsBtn:R}):t().createElement(O.Z,{defaultActiveKey:"1",centered:V,type:N},o.map((Y,le)=>{var te=le+1;return t().createElement(z,{tab:ve?u[Y]:p[Y],key:te},q&&t().createElement("div",{className:P()["scan-code-transfer"]},t().createElement(v.Z,null),t().createElement("span",null,E("course.onlyScope",{source_type:E(Ze==="study_project"?"lineClass.project":"lineClass.task")}))),t().createElement(M.Z,{universalFn:ve,activeKey:A,type:Y,option:_,tip:(0,h.ZT)(E(m),ve?u[Y]:p[Y]),extraTip:b,canSave:k,fsUrl:_.fsUrl,refreshQrCode:x,isCommodityExchange:L,label:K,saveText:X,downloadAsBtn:R}))})))}}l.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var I=r=>({appType:r.user.appType});F.Z=(0,n.$j)(I)((0,s.Z)()(l))},48194:function(Ie,F,e){"use strict";e.d(F,{q:function(){return a},$:function(){return U}});var D=e(37055),g=e(10237);function a(){var O=D.ZP.multiTerminalLogin.getEnterpriseOrganizations();return g.WY.get({url:O})}function U(){var O=D.ZP.advancedSetting.getSetting();return g.WY.get({url:O,params:{page_size:9999,page_number:1}})}},4408:function(Ie,F,e){"use strict";var D=e(12924),g=e.n(D),a=e(28216),U=e(17780),O=e(38642),C=y=>({userInfo:y.user}),d=y=>{var t=y.title;return(0,U.xX)()&&setTimeout(()=>{document.title=t},0),(0,D.useEffect)(()=>{if(t&&document.title!==t&&setTimeout(()=>{document.title=t},0),(0,O.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var s=document.querySelector(".zoom-report");s&&(s.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[t]),g().createElement(g().Fragment,null)};d.defautProps={title:""},F.Z=(0,a.$j)(C)(d)},1164:function(Ie,F,e){"use strict";var D=e(12924),g=e.n(D),a=e(76651),U=e(38642),O=e(91302),C=d=>{var y=navigator.userAgent.toLocaleLowerCase(),t=localStorage.getItem("enterpriseId"),s=(0,U.lz)(t,d.projectType),n=localStorage.getItem("dingPersonnel"),v=O.bl.includes(n),f=d.target;function M(w){if(f==="self"&&(w.preventDefault(),a.m8.push(d.to)),v){if(d.projectType==="student"){window.location.href="".concat(s,"/").concat(d.to);return}a.m8.push(d.to);return}if(dd.version){w.preventDefault();var P="";d.to.includes("?")?P="".concat(s).concat(d.to,"&ddtab=true"):P="".concat(s).concat(d.to,"?ddtab=true"),dd.biz.util.openLink({url:P})}else y.indexOf("lark")!==-1&&(window.location.href="".concat(s).concat(d.to))}return g().createElement("a",{rel:"noreferrer",href:"".concat(d.projectType==="student"?"".concat(s).concat(d.to):"#".concat(d.to)),className:"".concat(d.wrapCls," cl-pointer"),target:y.indexOf("lark")!==-1||v?"_self":d.target||"_blank",onClick:M},d.children)};C.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},C.targetTo=d=>{var y=d.path,t=d.from,s=d.isExternalLink,n=s===void 0?!1:s,v=d.isAsync,f=v===void 0?!1:v,M=d.openName,w=M===void 0?"_blank":M,P=d.projectType,h=P===void 0?"manage":P,z=d.ddTab,l=z===void 0?!0:z,I,r=localStorage.getItem("dingPersonnel"),i=O.bl.includes(r),p=navigator.userAgent.toLocaleLowerCase(),u=localStorage.getItem("enterpriseId"),o=(0,U.lz)(u,h),c=localStorage.getItem("appType"),_=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var m="";if(I=n?"":o,i&&!n){if(h==="student"){window.location.href="".concat(o).concat(y);return}a.m8.push(y);return}y.includes("?")?m="".concat(I).concat(y,"&ddtab=").concat(l):m="".concat(I).concat(y,"?ddtab=").concat(l),dd.biz.util.openLink({url:m})}else if(p.indexOf("lark")!==-1)I=n?"":o,window.location.href="".concat(I).concat(y);else if(c==="wx_app"&&_&&n&&t==="imgText")I=n?"":h==="student"?"".concat(o):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(I).concat(y)});else if(I=n?"":h==="student"?"".concat(o):"#",f){var E=window.open("","_blank");setTimeout(()=>{E.location="".concat(I).concat(y)},100)}else window.open("".concat(I).concat(y),w)},F.Z=C},36202:function(Ie,F,e){"use strict";e.d(F,{f:function(){return z}});var D=e(62029),g=e(57361),a=e(33565),U=e(9754),O=e.n(U),C=e(12924),d=e.n(C),y=e(28175),t=e(41647),s=e(93485);function n(l){var I={};if(l.length===0)return I;var r=(0,s.Z)(l),i;try{for(r.s();!(i=r.n()).done;){var p=i.value,u=p,o=u.field,c=u.fixed,_=u.order,m=u.show;m?m==="true"||m===!0?I[o]={fixed:c,order:_,show:!0}:I[o]={fixed:c,order:_,show:!1}:I[o]={fixed:c,order:_,show:!0}}}catch(E){r.e(E)}finally{r.f()}return I}function v(l){var I=[],r=Object.entries(l);if(r.length===0)return I;for(var i=0,p=r;i<p.length;i++){var u=p[i],o=(0,a.Z)(u,2),c=o[0],_=o[1],m=_.fixed,E=_.order,b=_.show;I.push({field:c,show:b,fixed:m,order:E})}return I}var f=e(38642),M=(l,I)=>{var r=(0,C.useState)(l),i=(0,a.Z)(r,2),p=i[0],u=i[1];return(0,C.useEffect)(()=>{var o=setTimeout(()=>{u(l)},I);return()=>{clearTimeout(o)}},[l,I]),p},w=M;function P(l,I){var r=useRef(I);useEffect(()=>{r.current=I},[I]),useEffect(()=>{var i=p=>{var u,o;console.warn(l.current,"node.current",p.target),!((u=(o=l.current)===null||o===void 0?void 0:o.contains(p.target))!==null&&u!==void 0?u:!1)&&r.current&&r.current()};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[l])}var h=!1;function z(l){var I=(0,C.useState)({}),r=(0,a.Z)(I,2),i=r[0],p=r[1],u=l.prefixCls,o=l.rowKey,c=l.columnEmptyText,_=l.pagination,m=l.headerTitle,E=l.toolBarRender,b=l.size,k=l.loading,x=k===void 0?!1:k,L=l.tableUUID;L||console.error("tableUUID is required!!!"),(0,C.useEffect)(()=>{function V(K){return S.apply(this,arguments)}function S(){return S=(0,g.Z)(O().mark(function K(X){var ne,R,fe,q,Ze,ve,A,Y;return O().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,f.Kb)((0,t.U)(X));case 2:if(ne=te.sent,R=(0,a.Z)(ne,2),fe=R[0],q=R[1],!fe){te.next=8;break}return te.abrupt("return");case 8:Ze=q.data,ve=Ze.data,A=ve.fields,Y=n(A)||{},Y&&(h=!1,p(Y));case 13:case"end":return te.stop()}},K)})),S.apply(this,arguments)}return L&&V(L),()=>{h=!1}},[L]);var N=w(i,1e3);(0,C.useEffect)(()=>{!h||(0,t.I)(L,v(i))},[N]);function J(V){h=!0,p(V)}return d().createElement("div",{className:"SampleProTable_container ".concat(l.className)},d().createElement(y.ZP,(0,D.Z)({size:b||"middle",rowKey:o||"id",columnEmptyText:c||!1,pagination:_||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:x,headerTitle:m||"",toolBarRender:E||null,columnsStateMap:i,onColumnsStateChange:J},l,{className:"".concat(u,"-table")})))}},41647:function(Ie,F,e){"use strict";e.d(F,{I:function(){return a},U:function(){return U}});var D=e(37055),g=e(10237);function a(O){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=D.ZP.tableHeader.save(),y={fields:C,key:O};return g.WY.post({url:d,data:y})}function U(O){var C=D.ZP.tableHeader.get(O);return g.WY.get({url:C})}},55285:function(Ie,F,e){"use strict";e.d(F,{Z:function(){return _}});var D=e(20228),g=e(11382),a=e(62029),U=e(88986),O=e(22385),C=e(31097),d=e(57361),y=e(33565),t=e(9754),s=e.n(t),n=e(12924),v=e.n(n),f=e(91768),M=e(28216),w=e(93485),P=e(38642);function h(m){var E={};if(m)for(var b=0,k=Object.entries(m);b<k.length;b++){var x=k[b],L=(0,y.Z)(x,2),N=L[0],J=L[1];E["user_info_".concat((0,P.FI)(N))]=J}return E}function z(m){if(!Array.isArray(m))return[];var E=m.map(b=>{var k=b.user_info,x=b.userInfo,L={},N=k||x;if(N){var J=N.extendList,V=N.extend_list,S=J||V||[];if(S.length>0){var K=(0,w.Z)(S),X;try{for(K.s();!(X=K.n()).done;){var ne=X.value,R=ne.columnKey,fe=ne.column_key,q=ne.extendValue,Ze=ne.extend_value;L["user_info_".concat((0,P.FI)(R||fe))]=q||Ze}}catch(ve){K.e(ve)}finally{K.f()}}}return(0,U.Z)((0,U.Z)((0,U.Z)({},b),L),h(N))});return E}function l(m,E){for(var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",k=m.slice(0).reverse(),x=0;x<k.length;x+=1)for(var L=x+1;L<k.length;L+=1)k[x][E]===k[L][E]&&(k.splice(L,1),L-=1);return b==="right"?k.reverse():k}var I=e(17215),r=e(36202),i=e(6793),p=e(9925),u=e(6934),o=m=>({userInfo:m.user}),c=(0,n.forwardRef)((m,E)=>{var b=m.tableUUID,k=m.withLoginPhoneNumber,x=m.withCustomField,L=m.withLoginEmail,N=m.withJoinTime,J=m.onlyShowCurrentDept,V=(0,n.useState)([]),S=(0,y.Z)(V,2),K=S[0],X=S[1],ne=(0,n.useState)([]),R=(0,y.Z)(ne,2),fe=R[0],q=R[1],Ze=(0,n.useState)(!1),ve=(0,y.Z)(Ze,2),A=ve[0],Y=ve[1];b||console.error("tableUUID is required!!!"),(0,n.useImperativeHandle)(E,()=>({getColumns:()=>K})),(0,n.useEffect)(()=>{function te(){return ge.apply(this,arguments)}function ge(){return ge=(0,d.Z)(s().mark(function $(){var Z,re,ae,G,de;return s().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return Y(!0),oe.next=3,(0,P.Kb)((0,I.h)());case 3:if(Z=oe.sent,re=(0,y.Z)(Z,2),ae=re[0],G=re[1],!ae){oe.next=10;break}return Y(!1),oe.abrupt("return");case 10:de=G.data,x||(de=de.filter(_e=>Object.keys(_e)[0].indexOf("column")===-1)),L||(de=de.filter(_e=>Object.keys(_e)[0].indexOf("loginEmail")===-1)),N||(de=de.filter(_e=>Object.keys(_e)[0].indexOf("joinTime")===-1)),Y(!1),q(de);case 16:case"end":return oe.stop()}},$)})),ge.apply(this,arguments)}te()},[]),(0,n.useEffect)(()=>{var te=fe.map((Z,re)=>{var ae=(0,y.Z)(Array.from(Object.entries(Z))[0],2),G=ae[0],de=ae[1];return m.nameColumn&&re===0?m.nameColumn:G==="name"?{title:de,dataIndex:"user_info_".concat(G),key:"user_info_".concat(G),width:150,fixed:"left",render:(H,oe)=>v().createElement(C.Z,{title:v().createElement(p.Z,{userId:oe.user_info.id,userName:H})},v().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},oe.user_info&&v().createElement(p.Z,{userId:oe.user_info.id,userName:H}),!oe.user_info&&H))}:G==="deptName"||G==="dept_name"?{title:de,dataIndex:"user_info_".concat(G),key:"user_info_".concat(G),width:150,fixed:"left",render:(H,oe)=>{var _e=oe.user_info,Pe=_e.department_infos,Oe=_e.department_info;return H?v().createElement(C.Z,{title:v().createElement(u.P,{allDepartmentsList:Pe||[]})},v().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},v().createElement(u.P,{allDepartmentsList:(J?Oe:Pe)||[]}))):"--"}}:G==="joinTime"?{title:de,dataIndex:"user_info_".concat(G),key:"user_info_".concat(G),width:150,render:H=>v().createElement(C.Z,{title:H?(0,i.p6)(H,"yyyy-MM-dd hh:mm:ss"):"--"},v().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},H?(0,i.p6)(H,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:de,dataIndex:"user_info_".concat(G),key:"user_info_".concat(G),width:150,render:H=>v().createElement(C.Z,{title:H},v().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},H||"--"))}}),ge=m.columns.map(Z=>Z.dataIndex==="creator_user_name"?(0,U.Z)((0,U.Z)({},Z),{},{render:(re,ae)=>v().createElement(C.Z,{title:v().createElement(p.Z,{userId:ae.creator_sync_user_id,userName:re})},v().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},v().createElement(p.Z,{userId:ae.creator_sync_user_id,userName:re})))}):Z),$=m.headExtra.concat(te).concat(k?[{title:m.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:Z=>Z||"--"}]:[]).concat(ge);X($)},[m.headExtra,m.columns,m.nameColumn,fe,m.userInfo.appType]);var le=(0,n.useMemo)(()=>z(m.dataSource),[m.dataSource]);return v().createElement(g.Z,{spinning:A},v().createElement(r.f,(0,a.Z)({scroll:{y:m.y||"100%",x:m.x||"max-content"}},m,{columns:K,dataSource:le})))});c.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var _=(0,M.$j)(o,null,null,{forwardRef:!0})((0,f.Z)("translation",{withRef:!0})(c))},17215:function(Ie,F,e){"use strict";e.d(F,{h:function(){return a}});var D=e(37055),g=e(10237);function a(){var U=D.ZP.getUserInfoColumnConfig();return g.WY.get({url:U})}},6934:function(Ie,F,e){"use strict";e.d(F,{P:function(){return h}});var D=e(12924),g=e.n(D),a=e(18446),U=e.n(a),O=e(57361),C=e(33565),d=e(9754),y=e.n(d),t=e(28216);function s(z){var l=z.openid,I=(0,D.useRef)(null);return(0,D.useLayoutEffect)(()=>{var r=window.parent.WWOpenData;r&&r.bind(I.current)}),g().createElement("ww-open-data",{ref:I,type:"departmentName",openid:l})}var n=e(14441),v=z=>{var l=z.separator,I=z.departmentIds,r=z.departmentNames,i=z.appType,p=(0,D.useState)([]),u=(0,C.Z)(p,2),o=u[0],c=u[1];(0,D.useEffect)(()=>{i==="wx_app"&&_()},[I]);function _(){return m.apply(this,arguments)}function m(){return m=(0,O.Z)(y().mark(function k(){var x,L,N;return y().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,n.t)(I);case 2:x=V.sent,L=x.code,N=x.data,L==="200000"&&N&&c(N);case 5:case"end":return V.stop()}},k)})),m.apply(this,arguments)}function E(){return o.length?g().createElement(g().Fragment,null,o.map((k,x)=>k.hasName?g().createElement(g().Fragment,null,k.name,x===r.length-1?"":l):g().createElement(g().Fragment,null,g().createElement(s,{openid:k.thirdId}),x===r.length-1?"":l," "))):null}function b(){var k="";return r.forEach((x,L)=>{k+=x+(L===r.length-1?"":l)}),g().createElement(g().Fragment,null,k)}switch(i){case"wx_app":return E();default:return b()}};v.defaultProps={departmentIds:[],departmentNames:[],separator:","};var f=z=>({appType:z.user.appType}),M=g().memo((0,t.$j)(f)(v)),w=z=>{var l=z.allDepartmentsList,I=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},p=i.department_ids.split("/"),u=i.department_names.split("/");return g().createElement(M,{departmentNames:u,departmentIds:p,separator:"/"})};return l.length?g().createElement(g().Fragment,null,l.map((r,i)=>g().createElement("span",{key:r.department_ids},I(r),i===l.length-1?"":"\uFF0C"))):null};w.defaultProps={allDepartmentsList:[]};function P(z,l){return U()(z,l)}var h=g().memo(w,P)},99367:function(Ie,F,e){"use strict";var D=e(62029),g=e(57361),a=e(30887),U=e(99210),O=e(59250),C=e(13013),d=e(22385),y=e(31097),t=e(34792),s=e(48086),n=e(88986),v=e(33565),f=e(81211),M=e(9754),w=e.n(M),P=e(12924),h=e.n(P),z=e(91768),l=e(28216),I=e(57254),r=e(50361),i=e.n(r),p=e(7304),u=e.n(p),o=e(55285),c=e(38642),_=e(36202),m=e(37055),E=e(86726),b=(0,P.forwardRef)((x,L)=>{var N=x.t,J=x.modules,V=x.userId,S=x.isAdmin,K=x.uniKey,X=x.queryParams,ne=x.queryParam,R=x.pagerConfig,fe=x.rowSelection,q=x.pagination,Ze=x.toolBarRender,ve=x.headerTitle,A=x.footerRightRender,Y=x.uuid,le=x.collapsed,te=x.showUserInfo,ge=x.loadComplete,$=x.sortFormate,Z=x.themeColor,re=x.loadingHttp,ae=x.from,G=(0,f.Z)(x,["t","modules","userId","isAdmin","uniKey","queryParams","queryParam","pagerConfig","rowSelection","pagination","toolBarRender","headerTitle","footerRightRender","uuid","collapsed","showUserInfo","loadComplete","sortFormate","themeColor","loadingHttp","from"]),de=(0,E.V9)(K,J),H=(0,P.useRef)(),oe=(0,P.useState)([]),_e=(0,v.Z)(oe,2),Pe=_e[0],Oe=_e[1],ke=(0,P.useState)([]),ie=(0,v.Z)(ke,2),se=ie[0],W=ie[1],ee=(0,P.useState)(0),Ee=(0,v.Z)(ee,2),j=Ee[0],xe=Ee[1],Ce=(0,P.useState)(!1),pe=(0,v.Z)(Ce,2),Ae=pe[0],Me=pe[1],Be=(0,P.useState)(!0),Le=(0,v.Z)(Be,2),Re=Le[0],be=Le[1],he=(0,P.useState)({pageSize:10,current:1,total:0}),We=(0,v.Z)(he,2),ce=We[0],Ke=We[1],Ge=(0,P.useState)({pageSize:"page_size",pageIndex:"page_number"}),je=(0,v.Z)(Ge,2),Ue=je[0],ye=je[1],ot=(0,P.useState)({}),at=(0,v.Z)(ot,2),st=at[0],it=at[1],ct=(0,P.useState)({}),Xe=(0,v.Z)(ct,2),qe=Xe[0],He=Xe[1];(0,P.useEffect)(()=>{if(R&&JSON.stringify(R)!=="{}"){if((R.pageSize||R.pageIndex)&&ye({pageSize:R.pageSize||Ue.pageSize,pageIndex:R.pageIndex||Ue.pageIndex}),(R.pageSizeNum||R.pageIndexNum)&&Ke((0,n.Z)((0,n.Z)({},ce),{},{pageSize:R.pageSizeNum||ce.pageSize,current:R.pageIndexNum||ce.current})),ne&&JSON.stringify(ne)!=="{}"){var B={};Object.keys(ne).forEach(Q=>{B[Q]=ne[Q]}),He((0,n.Z)((0,n.Z)({},B),{},{[R.pageSize||Ue.pageSize]:R.pageSizeNum||ce.pageSize,[R.pageIndex||Ue.pageIndex]:R.pageIndexNum||ce.current}))}}else if(ne&&JSON.stringify(ne)!=="{}"){var T={};Object.keys(ne).forEach(Q=>{T[Q]=ne[Q]}),He((0,n.Z)((0,n.Z)({},T),{},{[Ue.pageSize]:ce.pageSize,[Ue.pageIndex]:ce.current}))}else He({[Ue.pageSize]:ce.pageSize,[Ue.pageIndex]:ce.current})},[]);var lt=(0,P.useState)({}),nt=(0,v.Z)(lt,2),ut=nt[0],me=nt[1];(0,P.useEffect)(()=>{var B;if(typeof q=="boolean")q?B=(0,n.Z)((0,n.Z)({},m.XE.INITIAL_PAGINATION),ce):B=!1;else if(typeof q=="object")B=(0,n.Z)((0,n.Z)({},q),ce);else return Error("pagination param is not correct");it(B)},[q,ce]),(0,P.useImperativeHandle)(L,()=>({load:B=>{var T=ce.pageSize;R&&JSON.stringify(R)!=="{}"&&R.pageSizeNum&&(T=R.pageSizeNum),Ke((0,n.Z)((0,n.Z)({},ce),{},{pageSize:T,current:1})),He(Q=>(0,n.Z)((0,n.Z)((0,n.Z)({},Q),B),{},{[Ue.pageIndex]:1}))},clear:()=>{W([]),Ke((0,n.Z)((0,n.Z)({},ce),{},{current:1,total:0}))},getDataList:()=>se,getColumns:()=>H.current?H.current.getColumns():ne,getTotal:()=>j})),(0,P.useEffect)(()=>{!Ae&&se.length&&x.onChangeData&&x.onChangeData()},[Ae,se]);var ue=(B,T,Q)=>{var De={};for(var Se in T)if(Object.prototype.hasOwnProperty.call(T,Se)){var et=T[Se]?T[Se].join(","):"";De[Se]=et==="all"?"":et}if($)De=(0,n.Z)((0,n.Z)({},De),$(Q));else for(var Ne in Q)Object.prototype.hasOwnProperty.call(Q,Ne)&&(De[Ne]=Q[Ne]);me(T||{}),Ke((0,n.Z)((0,n.Z)({},ce),{},{pageSize:B.pageSize,current:B.current})),He($e=>(0,n.Z)((0,n.Z)({},$e),{},{[Ue.pageSize]:B.pageSize,[Ue.pageIndex]:B.current},De))};(0,P.useEffect)(()=>{var B=[];X.columns.forEach(T=>{T.key==="operate"?B.push((0,n.Z)((0,n.Z)({dataIndex:T.key},T),{},{render:(Q,De)=>Je(T,De)})):(0,c.oL)(T.filters)==="array"&&T.filters.length>0?B.push((0,n.Z)({filteredValue:ut[T.key]||[T.filters[0].value],dataIndex:T.key},T)):B.push((0,n.Z)({dataIndex:T.key},T))}),Oe(B)},[Je,X.columns,qe]),(0,P.useEffect)(()=>{Me(!0),JSON.stringify(qe)!=="{}"&&we(qe)},[qe]);var we=B=>{X.query(B).then(T=>{Me(!1),T.data.code&&+T.data.code==2e5?(W(T.data.data.list||[]),xe(T.data.data.total*1),Ke((0,n.Z)((0,n.Z)({},ce),{},{total:T.data.data.total*1})),be(!0),typeof X.successBack=="function"&&X.successBack(T.data.data),ge&&ge(T.data)):(W([]),Ke((0,n.Z)((0,n.Z)({},ce),{},{total:0})))}).catch(T=>{T.code==="503014"&&re&&(s.default.warning(N("component.dataLoadingTip")),setTimeout(()=>{we(B)},2e3))})},Te=(B,T)=>{var Q=!1;switch(typeof B.disabled){case"function":Q=B.disabled(T);break;case"boolean":Q=B.disabled;break;default:Q=!1;break}return Q},ze=(B,T,Q)=>typeof T.tooltips=="object"?T.tooltips.normal&&!Q?h().createElement(y.Z,{placement:"top",title:T.tooltips.normal},B):T.tooltips.disable&&Q?h().createElement(y.Z,{placement:"top",title:T.tooltips.disable},B):B:B,Ve=(0,P.useCallback)((B,T)=>B.filter(Q=>{var De=Q.checkAuth||!1;return De?(0,E.H3)(Q.key,de)||T.creatorId===V||S:!0}),[de,S,V]),Je=(0,P.useCallback)((B,T)=>{var Q=i()(B.buttons),De=Q.filter(Fe=>typeof Fe.visible=="function"?Fe.visible(T):Fe),Se=B.visibleNum||1;Se>2&&(Se=2);var et=[],Ne=[];De.length>0&&(Ne=[...De.slice(0,Se)],et=[...De.slice(Se)]);var $e=[],Ye=[];if($e=Ve(Ne,T),Ye=Ve(et,T),$e.length!==Ne.length){var mt=Ne.length-$e.length;$e=[...$e,...Ye.slice(0,mt)],Ye=[...Ye.slice(mt)]}return h().createElement("div",{className:"cl-table__cell-action"},$e.length?$e.map((Fe,ft)=>{var dt=Te(Fe,T);return Fe.render?Fe.render(T):ze(h().createElement(h().Fragment,null,h().createElement("a",{key:ft,className:"cl-table_cell-list ".concat(u().cl_pointer_btn," ").concat(dt?"table_disable_cell_list ".concat(u().operate_btn_disabled):""," "),onClick:()=>Qe({item:Fe,record:T},dt)},Fe.name),Ye.length>0&&h().createElement("span",{className:u().cl_pointer_divide})),Fe,dt)}):null,Ye.length?Ye.length>1?h().createElement(C.Z,{overlay:tt(Ye,T)},h().createElement("span",{className:u().cl_pointer_btn,style:{color:Z}},N("common.more"),h().createElement(I.Z,null))):rt(Ye[0],T):null)},[tt,Qe,Ve,rt,N]),rt=(0,P.useCallback)((B,T)=>{var Q=Te(B,T);return B.render?B.render(T):ze(h().createElement("a",{key:B.key,className:"cl-table_cell-list ".concat(u().cl_pointer_btn," ").concat(Q?"table_disable_cell_list ".concat(u().operate_btn_disabled):""," "),onClick:()=>Qe({item:B,record:T},Q)},B.name),B,Q)},[Qe]),tt=(0,P.useCallback)((B,T)=>h().createElement(U.Z,null,B.map((Q,De)=>{var Se=Te(Q,T);return Q.render?Q.render(T):h().createElement(U.Z.Item,{key:De,disabled:Se,onClick:()=>Qe({item:Q,record:T},Se)},ze(h().createElement("span",null,Q.name),Q,Se))})),[Qe]),Qe=(0,P.useCallback)((B,T)=>{var Q=B.item,De=B.record;T||(X.operateHandles&&X.operateHandles({type:Q.key,record:De}),Q.handleClick&&Q.handleClick(De))},[X]),pt=le?"59px":"219px",vt=()=>fe?h().createElement("div",null,fe.selectedRowKeys&&fe.selectedRowKeys.length&&A?h().createElement("div",{className:u()["table-extra"],style:{left:pt,width:"calc(100% - ".concat(pt,")")}},h().createElement("span",{className:"table-selected-count"},N("component.selected"),fe.selectedRowKeys.length,N("component.itemUnit")),h().createElement("div",{className:"table-extra-action"},A())):null):null,gt=te?o.Z:_.f;return h().createElement("div",{className:Re?"":u()["pagination-config"]},h().createElement(gt,(0,D.Z)({ref:H,rowSelection:fe,style:{"margin-bottom":fe?"20px":"0"},dataSource:se,columns:Pe,scroll:{x:"max-content"},pagination:st,loading:Ae,toolBarRender:Ze,headerTitle:ve,request:function(){var B=(0,g.Z)(w().mark(function T(Q,De,Se){return w().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:ae==="interactiveVideo"&&Se&&X&&Array.isArray(X.columns)&&X.columns.length>1&&Se.type===null&&X.columns[1].key==="type"&&(Se.type=[X.columns[1].filters[0].value]),ue(Q,Se,De);case 2:case"end":return Ne.stop()}},T)}));return function(T,Q,De){return B.apply(this,arguments)}}(),tableUUID:Y},G)),vt())}),k=x=>{var L=x.user,N=x.sideBar,J=x.advancedSetting;return{userId:L.id||window.localStorage.getItem("uid"),isAdmin:L.isAdmin,modules:L.modules,collapsed:N.collapsed,themeColor:J.themeColor}};F.Z=(0,l.$j)(k,null,null,{forwardRef:!0})((0,z.Z)("translation",{withRef:!0})(b))},9925:function(Ie,F,e){"use strict";var D=e(57361),g=e(33565),a=e(9754),U=e.n(a),O=e(12924),C=e.n(O),d=e(28216),y=e(14441),t=n=>{var v=n.userId,f=n.userName,M=n.appType,w=(0,O.useRef)(null),P=(0,O.useState)(""),h=(0,g.Z)(P,2),z=h[0],l=h[1],I=(0,O.useState)(""),r=(0,g.Z)(I,2),i=r[0],p=r[1],u=(0,O.useState)(!0),o=(0,g.Z)(u,2),c=o[0],_=o[1];(0,O.useEffect)(()=>{M==="wx_app"&&(v?m():(console.warn("userId is required"),p(f)))},[v]);function m(){return E.apply(this,arguments)}function E(){return E=(0,D.Z)(U().mark(function k(){var x,L,N,J,V,S,K,X,ne,R;return U().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,(0,y.v)(v);case 3:x=q.sent,L=x.code,N=x.data,L==="200000"&&N&&(J=N.hasName,V=J===void 0?!0:J,S=N.sourceType,K=N.name,X=K===void 0?"":K,ne=N.thirdId,_(V),V?p(X):S==="wx_sync"&&(l(ne),R=window.parent.WWOpenData,R&&R.bind(w.current))),q.next=12;break;case 8:q.prev=8,q.t0=q.catch(0),console.error(q.t0,"error"),p(f);case 12:case"end":return q.stop()}},k,null,[[0,8]])})),E.apply(this,arguments)}function b(){return c?i:C().createElement("ww-open-data",{ref:w,type:"userName",openid:z})}switch(M){case"wx_app":return b();default:return f}};t.defaultProps={userName:""};var s=n=>({appType:n.user.appType});F.Z=C().memo((0,d.$j)(s)(t))},17381:function(Ie,F,e){"use strict";e.d(F,{Xs:function(){return U},fV:function(){return O},_w:function(){return C},G5:function(){return d},g2:function(){return y},uy:function(){return t},il:function(){return s},y2:function(){return n},$k:function(){return f},gm:function(){return w},C:function(){return P},Wl:function(){return h},ZS:function(){return z},XZ:function(){return l},LI:function(){return I},fR:function(){return i},Pt:function(){return p}});var D=e(37055),g=e(10237),a=e(5430);function U(o){var c=o.login_mobile,_=o.verification_code,m=o.password,E=o.encrypt,b=D.ZP.Login.clResetPassword();return g.WY.post({url:b,data:{login_mobile:c,verification_code:_,password:m,encrypt:E}})}function O(){var o=D.ZP.points.getPointsCategory();return g.WY.get({url:o})}function C(o){var c=o.login_mobile,_=o.verification_code,m=o.password,E=o.encrypt,b=D.ZP.Login.bindUserAccount();return g.WY.post({url:b,data:{login_mobile:c,verification_code:_,password:m,encrypt:E}})}function d(o){var c=o.action_type,_=o.login_mobile,m=D.ZP.Login.bindSendVerification();return g.WY.post({url:m,data:{action_type:c,login_mobile:_}})}function y(o){var c=o.action_type,_=o.login_mobile,m=o.enterpriseId,E=D.ZP.Login.clSendVerification();return g.WY.post({url:E,data:{action_type:c,login_mobile:_,enterprise_id:m}})}function t(o){var c=D.ZP.advancedSetting.identityQuery();return g.WY.get({url:c,params:o})}function s(o){var c=D.ZP.advancedSetting.saveIdentity();return g.WY.post({url:c,data:o})}function n(o){var c=D.ZP.advancedSetting.isShowAuth();return g.WY.get({url:c,data:o})}function v(o){return request.get({url:CONFIG.lineClass.getOfflineCourseBasicById(o)})}function f(o){return g.WY.get({url:D.ZP.lineClassStudy.coursesInfo(o)})}function M(o,c){return request.get({url:CONFIG.lineClassStudy.getAttendanceInfo(o),params:{type:c}})}function w(o){return g.WY.get({url:D.ZP.lineClassStudy.getStuAttendanceInfo(o),params:{}})}function P(o){var c=D.ZP.learn.getShowLearnStatus(o);return g.WY.get({url:c})}function h(o){var c=o.examId,_=o.taskId,m=a.OB.examData.examTaskInfo(c);return g.WY.get({url:m,params:{task_id:_}})}function z(o){var c=a.OB.examData.getExamsTaskList();return g.WY.get({url:c,params:o})}function l(o,c){var _=a.OB.examData.checkStatus(o);return g.WY.get({url:_,params:{task_id:c}})}function I(){var o=D.ZP.lineClass.whetherLecture();return g.WY.get({url:o})}function r(){var o=TRAINING_PROJECT_LIST.personal.list();return request.get({url:o})}function i(o){var c=o.startTime,_=o.endTime,m=o.excludeSelf,E=m===void 0?!1:m,b=o.pageNumber,k=o.pageSize,x=D.ZP.Personal.exportMyScore();return g.WY.get({url:x,params:{startTime:c,endTime:_,excludeSelf:E,pageNumber:b,pageSize:k}})}function p(o,c){var _=c.begin_time,m=c.end_time,E=c.page_number,b=c.page_size,k=c.integral_type,x=D.ZP.points.getUserPointsDetail(o);return g.WY.get({url:x,params:{begin_time:_,end_time:m,page_number:E,page_size:b,integral_type:k}})}function u(o){var c=o.integral_type,_=o.update_reason,m=o.begin_time,E=o.end_time,b=CONFIG.points.exportPointsDetail();return request.post({url:b,params:{integral_type:c,update_reason:_,begin_time:m,end_time:E}})}},44548:function(Ie,F,e){"use strict";var D=e(62029),g=e(57361),a=e(33565),U=e(9754),O=e.n(U),C=e(12924),d=e.n(C),y=e(91768),t=e(94184),s=e.n(t),n=e(65202),v=e(84874),f=e(18329),M=e(38642);function w(P){var h=P.t,z=P.visible,l=P.onCancel,I=P.onOK,r=P.examInfo,i={size:"medium",destroyOnClose:!0,footerType:"custom",bodyStyle:{padding:"0"},maskClosable:!1},p=(0,n.p)(),u=(0,C.useState)([]),o=(0,a.Z)(u,2),c=o[0],_=o[1];(0,C.useEffect)(()=>{z&&m()},[z]);function m(){return E.apply(this,arguments)}function E(){return E=(0,g.Z)(O().mark(function x(){var L,N;return O().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:L=[{title:h("examing.examTotalScore"),type:"total_score",icon:"icon-kaoshizongfen",val:"",units:h("common.examScoreUnit"),color:"#FF7130"},{title:h("examing.passScore"),type:"passing_score",icon:"icon-jigefenshu",val:"",units:h("common.examScoreUnit"),color:"#70B78E"},{title:h("common.examDuration"),type:"exam_duration",icon:"icon-datishichang",val:"",units:h("common.minutes"),color:"#C08564"},{title:h("examination.passGetScore"),type:"passed",icon:"icon-jigehuodexuefen",val:"",units:h("common.examScoreUnit"),color:"#6DD400"},{title:h("examination.failGetScore"),type:"failed",icon:"icon-bujigehuodexuefen",val:"",units:h("common.examScoreUnit"),color:"#FF4D4F"},{title:h("examination.absenceGetScore"),type:"absence",icon:"icon-quekaohuodexuefen",val:"",units:h("common.examScoreUnit"),color:"#FAAD14"},{title:h("exam.examItems"),type:"exam_times_vo",icon:"icon-kaoshicishu",val:"",units:h("common.times"),color:"#4268FF"},{title:h("examination.cutScreenCount"),type:"cut_screen_vo",icon:"icon-qiepingcishu",val:"",units:h("common.times"),color:"#40CBE0"},{title:h("examination.passGetCer"),type:"certificate_vo",icon:"icon-xingzhuangjiehe",val:"",units:"",color:"#9766CD"}],N=[],L.forEach(S=>{if(S.type==="cut_screen_vo"){var K=r.cut_screen_vo.cut_screen_rule;K==="unlimited"?(S.val=h("examination.unlimitedTimes"),S.units=""):K==="disable"?(S.val=h("examination.notAllow"),S.units=""):K==="custom"&&(S.val=r.cut_screen_vo.complete_cut_screen_count+"/"+r.cut_screen_vo.cut_screen_count)}else if(S.type==="exam_times_vo"){var X=r.exam_times_vo.answer_rule;X==="unlimited"?(S.val=h("examination.unlimitedTimes"),S.units=""):X==="stopWhenPassed"?(S.val=h("examination.terminationAfterPassing"),S.units=""):X==="custom"&&(S.val=r.exam_times_vo.complete_makeup_count+"/"+r.exam_times_vo.makeup_count)}else if(S.type==="certificate_vo")r.certificate_vo.show==="true"?S.val=r.certificate_vo.certificate_name:S.val="";else if(S.type==="passed"||S.type==="failed"||S.type==="absence"){var ne=r.reward_rule_vo,R=ne.absence,fe=ne.passed,q=ne.failed,Ze=ne.type;Ze==="score"?S.type==="passed"&&fe.checked==="true"?S.val=fe.score:S.type==="failed"&&q.checked==="true"?S.val=q.score:S.type==="absence"&&R.checked==="true"?S.val=R.score:S.val=null:S.val=null}else S.val=r[S.type];if(S.val!==null&&S.val!==""){if((S.type==="total_score"||S.type==="passing_score")&&S.val===0)return;N.push(S)}}),_(N);case 4:case"end":return V.stop()}},x)})),E.apply(this,arguments)}function b(){return d().createElement("div",{className:"exam-instructions-footer-btns"},d().createElement("span",{className:"close-btn",onClick:()=>l()},h("common.close")),d().createElement("span",{className:"exam-data-btn",style:{backgroundColor:p},onClick:()=>k()},h("exam.enterExam")))}function k(){I()}return d().createElement(f.ZP,(0,D.Z)({title:h("exam.examInstructions")},i,{visible:z,width:628,onCancel:l,renderCustomFooter:b}),d().createElement("div",{className:"exam-instructions-wrap"},d().createElement("div",{className:"exam-title"},r.title),d().createElement("div",{className:"exam-date-range"},r.unlimited==="true"?h("integralMall.notLimitLabel"):(0,M.t6)(r.begin_time,r.end_time)),r.description&&d().createElement("div",{className:"exam-explain"},r.description),d().createElement("div",{className:"exam-cards-list"},c.map((x,L)=>d().createElement("div",{className:s()("exam-cards",L%3==2?"no-margin-right":""),key:x.type},d().createElement("div",null,d().createElement(v.Z,{iconClass:x.icon,size:"18px",color:x.color}),d().createElement("span",{className:"title"},x.title)),d().createElement("div",{className:"infos cl-text-ellipsis"},x.val,x.units)))),d().createElement("div",{className:"exam-tips"},h("examination.autoSubmit"))))}F.Z=(0,y.Z)()(w)},410:function(Ie,F,e){"use strict";e.d(F,{Z:function(){return ge}});var D=e(62029),g=e(22385),a=e(31097),U=e(54029),O=e(62529),C=e(57663),d=e(71577),y=e(88986),t=e(33565),s=e(18106),n=e(88108),v=e(12924),f=e.n(v),M=e(91768),w=e(54549),P=e(78138),h=e.n(P),z=e(28216),l=e(57068),I=e(70018),r=e(20228),i=e(11382),p=e(76586),u=e.n(p),o=e(6793),c=window.Plots.Line,_=$=>{var Z=$.params,re=$.height,ae=$.t,G=(0,v.useRef)(),de=(0,v.useState)(null),H=(0,t.Z)(de,2),oe=H[0],_e=H[1],Pe=(0,v.useState)(!0),Oe=(0,t.Z)(Pe,2),ke=Oe[0],ie=Oe[1];(0,v.useEffect)(()=>{(0,I.yZ)((0,y.Z)((0,y.Z)({},Z),{},{page_number:1,page_size:30})).then(W=>{if(W.data.code&&W.data.code==="200000"){var ee=(W.data.data.list||[]).reverse(),Ee=ee.map(xe=>{var Ce=xe.total_score;return Ce}),j={height:220,data:ee,xField:"submit_time",yField:"score",point:{size:4,shape:"circle",color:"#516AE6"},yAxis:{tickCount:5,min:0,max:Math.max(...Ee)},xAxis:{tickCount:ee.length<=7?ee.length:7,label:{formatter:xe=>(0,o.p6)(+xe,new Date(+xe).getFullYear()===new Date().getFullYear()?"MM/dd":"yyyy/MM/dd")}},tooltip:{customContent:(xe,Ce)=>{var pe=Ce.length>0&&"<div class=".concat(u()["custom-content-container"],`>
                  <div class=`).concat(u().top,`>
                    <span class=`).concat(u().score,">").concat(Ce[0].data.score," ").concat(ae("common.examScoreUnit"),`</span>
                    `).concat(Ce[0].data.score_record_type==="latest"||Ce[0].data.score_record_type==="highest"?"<span class=".concat(u()["custom-content-flag"],">").concat(Ce[0].data.score_record_type==="latest"?ae("myExamTask.newest"):ae("myExamTask.highest"),"</span>"):"",`
                  </div>
                  <div class=`).concat(u().bottom,">").concat((0,o.p6)(+Ce[0].data.submit_time,new Date(+Ce[0].data.submit_time).getFullYear()===new Date().getFullYear()?"MM/dd hh:mm":"yyyy/MM/dd hh:mm"),`</div>
                </div>`);return pe}},smooth:!0};_e(j)}}).finally(()=>{ie(!1)})},[Z,ae]);var se=()=>{var W=G.current.chart.filteredData,ee=W.find(Ce=>{var pe=Ce.score_record_type;if(pe==="latest"||pe==="highest")return Ce});if(ee){var Ee=G.current.chart.getXY(ee),j=Ee.x,xe=Ee.y;G.current.chart.showTooltip({x:j,y:xe})}};return f().createElement(i.Z,{spinning:ke},f().createElement("div",{className:u()["record-chart-container"],style:{maxHeight:"".concat(re,"px")}},oe&&!ke&&f().createElement(c,(0,D.Z)({},oe,{height:re-32,onReady:W=>{G.current=W,se(),W.on("mouseout",()=>{se()})}}))))},m=(0,M.Z)()(_),E=e(9121),b=e.n(E),k=e(99367),x=e(38642),L=e(67479),N=e(1164),J=e(97593),V=e(57338),S=e(83107),K=e(8965),X=e.n(K),ne=e(12968),R=e(44208),fe=e(44963),q=e.n(fe);function Ze($){var Z=$.t,re=$.examId,ae=$.submitId,G=$.userId,de=(0,v.useRef)(),H=(0,z.I0)(),oe=(0,v.useState)({status:"",examId:re,userId:G,submitId:ae}),_e=(0,t.Z)(oe,1),Pe=_e[0],Oe=(0,v.useState)({total_count:0,success_count:0,fail_count:0}),ke=(0,t.Z)(Oe,2),ie=ke[0],se=ke[1];(0,v.useEffect)(()=>{(0,I.wg)({examId:re,submitId:ae,userId:G}).then(pe=>{var Ae=pe.data,Me=Ae.code,Be=Ae.data;if(Me==="200000"){var Le=Be.fail_count,Re=Le===void 0?0:Le,be=Be.success_count,he=be===void 0?0:be,We=Be.total_count,ce=We===void 0?0:We;se({total_count:ce,success_count:he,fail_count:Re})}})},[re,ae,G]);function W(pe){var Ae=(0,y.Z)({},pe);return(0,I.G2)(Ae)}var ee=()=>f().createElement(d.Z,{type:"primary",onClick:j},Z("common.exportData")),Ee=()=>{var pe=$.t,Ae=[{key:"total",name:pe("examination.faceRecognitionInExam.verifyCount"),num:ie.total_count,color:"rgb(0, 0, 0, 0.45)",backgroundColor:"#F8F9FB"},{key:"passed",name:pe("examination.faceRecognitionInExam.verifySuccess"),num:ie.success_count,color:"rgb(139, 191, 100)",backgroundColor:"rgb(139, 191, 100,0.2)"},{key:"failed",name:pe("examination.faceRecognitionInExam.verifyFailed"),num:ie.fail_count,color:"rgb(207, 60, 60)",backgroundColor:"rgb(207, 60, 60,0.2)"}];return Ae.map(Me=>{var Be=Me.name,Le=Me.num,Re=Me.color,be=Me.backgroundColor,he=Me.key;return f().createElement("span",{className:q()["type-item"],style:{backgroundColor:be,color:Re},key:he},"".concat(Be," : ").concat(Le))})};function j(){(0,J.N)({page:"exportFaceRecognitionRecord",props:{dispatch:H,t:Z},rest:{userId:G,examId:re,submitId:ae},query:"?".concat(l.stringify(Pe)),sendType:"get"})}var xe=(0,v.useMemo)(()=>({success:{text:Z("examination.faceRecognitionInExam.verifySuccess"),color:"#52C41A"},failed:{text:Z("examination.faceRecognitionInExam.verifyFailed"),color:"#F5222D"}}),[Z]),Ce=[{title:Z("examination.faceRecognitionInExam.verifyTime"),key:"check_time",render:pe=>(0,o.p6)(+pe,"yyyy-MM-dd hh:mm")},{title:Z("examination.faceRecognitionInExam.verifyImg"),key:"snapshot_url",render:pe=>f().createElement(R.Z,{className:q()["snapshot-container"],width:28,height:28,src:pe})},{title:Z("examination.faceRecognitionInExam.verifyResult"),key:"result",render:pe=>f().createElement("div",{className:q()["status-container"]},f().createElement("span",{className:q().status,style:{backgroundColor:xe[pe].color}}),xe[pe].text)}];return f().createElement("div",{className:q()["face-recognition-record-container"],style:$.style},f().createElement(k.Z,{ref:de,uuid:"22A4178B-6803-9BC5-DFDB-F6CD6A90C4C8",queryParams:{columns:Ce,query:W},queryParam:Pe,pagination:!0,options:!1,scroll:{x:"max-content",y:"calc(100vh - 300px)"},tableAlertRender:()=>!1,headerTitle:Ee(),toolBarRender:ee}))}var ve=(0,M.Z)()(Ze);function A($){var Z=$.t,re=$.drawerTitle,ae=$.onCloseDrawer,G=$.examId,de=$.submitId,H=$.userId,oe=()=>f().createElement("div",{className:X()["footer-container"]},f().createElement(d.Z,{type:"primary",onClick:ae},Z("common.close")));return f().createElement(S.Z,(0,D.Z)({title:re,placement:"right",width:716,bodyStyle:{padding:"0 24px 16px 24px"},onClose:ae,footer:oe()},$),f().createElement("div",null,$.visible&&f().createElement(ve,{examId:G,submitId:de,userId:H})))}var Y=(0,M.Z)()(A),le=n.Z.TabPane;function te($){var Z=$.t,re=$.examId,ae=$.taskId,G=$.userId,de=$.from,H=de===void 0?"user":de,oe=$.taskType,_e=oe===void 0?"all":oe,Pe=$.renderExamRecordTabBarExtraContent,Oe=$.examRecordTabTitle,ke=$.onCancel,ie=localStorage.getItem("themeColor")||"#465dcd",se=(0,v.useRef)(),W=(0,z.I0)(),ee=(0,v.useState)({task_type:_e,scene:H,examId:re,task_id:ae,userId:G}),Ee=(0,t.Z)(ee,1),j=Ee[0],xe=(0,v.useState)("examRecord"),Ce=(0,t.Z)(xe,2),pe=Ce[0],Ae=Ce[1],Me=(0,v.useState)(0),Be=(0,t.Z)(Me,2),Le=Be[0],Re=Be[1],be=(0,v.useState)({examId:re,userId:G,submitId:"",visible:!1}),he=(0,t.Z)(be,2),We=he[0],ce=he[1],Ke=(0,v.useState)(!1),Ge=(0,t.Z)(Ke,2),je=Ge[0],Ue=Ge[1];(0,v.useEffect)(()=>{(0,I.et)({examId:re}).then(me=>{var ue=me.data,we=ue.data,Te=ue.code;Te==="200000"&&Ue(we==="true")})},[re]);var ye={pending:{text:Z("myExamTask.marking"),color:"#FFB56F"},passed:{text:Z("myExamTask.qualified"),color:"#52C41A"},failed:{text:Z("myExamTask.unqualified"),color:"#F5222D"},full:{text:Z("examination.resultStatus.full"),color:"#417DC2"}};function ot(me){var ue=(0,y.Z)({},me);return(0,I.yZ)(ue)}var at=()=>f().createElement(d.Z,{type:"primary",onClick:st},Z("common.exportData"));function st(){(0,J.N)({page:"exportSubmitList",props:{dispatch:W,t:Z},rest:{planId:re,userId:G},query:"?".concat(l.stringify(j)),sendType:"get"})}function it(me){var ue=me.exam_result,we=me.show_record,Te=me.task_id,ze=me.submit_id;we==="true"&&ue!=="pending"&&N.Z.targetTo({path:L.W.parse({exam_id:re,user_id:H==="manage"?G:"",task_id:Te,submit_id:ze,scene:"manage"}),projectType:"student"})}var ct={size:"small",showSizeChanger:!1,showTotal:me=>Z("examination.allTotal",{total:me})},Xe=[{title:Z("examing.handoverTime"),width:"240px",key:"submit_time",render:(me,ue)=>f().createElement(f().Fragment,null,f().createElement("span",null,h()(me*1).format(Z("examination.dateFormate"))),(ue.score_record_type==="latest"||ue.score_record_type==="highest")&&f().createElement("span",{className:b()["latest-flag"]},ue.score_record_type==="latest"?Z("myExamTask.newest"):Z("myExamTask.highest")))},{title:Z("exam.examTime"),width:"100px",key:"answer_duration",render:me=>f().createElement("span",null,me?(0,x.xj)(me):"")},{title:Z("examination.scoreAll"),width:"100px",key:"total_score",render:(me,ue)=>f().createElement("span",null,ue.total_score,"/",ue.score)},{title:Z("examination.scoringRate"),key:"score_rate",width:"80px",render:(me,ue)=>f().createElement("span",null,ue.score_rate)},{title:Z("exam.examResult"),key:"exam_result",width:"100px",render:(me,ue)=>{var we=me;return ue.total_score===ue.score&&(we="full"),f().createElement("div",null,f().createElement(O.Z,{color:ye[we].color,text:ye[we].text}))}}];H==="manage"&&Xe.splice(4,0,{title:Z("common.marker"),width:"100px",key:"mark_name",render:me=>{var ue=me;return me==="\u7CFB\u7EDF"&&(ue=Z("personal.system")),f().createElement(a.Z,{title:ue},f().createElement("div",{className:"cl-text-ellipsis",style:{width:100}},ue||"--"))}}),Xe.push({title:Z("common.operate"),width:80,fixed:"right",key:"submit_id",render:(me,ue)=>{var we=[{style:{color:ue.show_record==="true"&&ue.exam_result!=="pending"?ie:"#ccc",cursor:ue.show_record==="true"&&ue.exam_result!=="pending"?"pointer":"not-allowed"},visible:!0,label:Z("examination.viewAnswerDetail"),onClick:Te=>{it(Te)}},{label:Z("examination.face_recognition"),style:{color:je?ie:"#c0c4cc",cursor:je?"pointer":"not-allowed"},visible:!0,onClick:(Te,ze)=>{var Ve=Te.submit_id;ze||ce(Je=>(0,y.Z)((0,y.Z)({},Je),{},{submitId:Ve,visible:!0}))},disabled:!je,disabledTip:Z("examination.recordCharts.notFaceRecognitionTip")}];return f().createElement("div",{className:b()["exam-record-operate"]},we.map(Te=>{var ze=Te.visible,Ve=Te.label,Je=Te.style,rt=Te.disabledTip,tt=Te.disabled,Qe=Te.onClick;if(ze)return f().createElement(a.Z,{title:tt?rt:""},f().createElement("span",{className:"".concat(Je.btns),style:Je,onClick:()=>{Qe(ue,tt)}},Ve))}))}});var qe=()=>{ce(me=>(0,y.Z)((0,y.Z)({},me),{},{visible:!1}))},He=me=>{var ue=me.data.total*1;Re(ue)},lt=(0,v.useMemo)(()=>f().createElement(m,{className:b()["record-chart-container"],params:j,height:450}),[j]),nt=me=>{Ae(me)},ut=()=>{if(H!=="manage"&&pe==="examRecord")return Pe&&Pe();if(H==="manage")return f().createElement("span",{onClick:ke,style:{cursor:"pointer"}},f().createElement(w.Z,null))};return f().createElement("div",null,f().createElement(n.Z,{onChange:nt,activeKey:pe,tabBarExtraContent:ut()},f().createElement(le,{tab:Oe||Z("common.examRecord"),key:"examRecord"},pe==="examRecord"&&f().createElement("div",{className:b()["exam-record-wrap"]},f().createElement(k.Z,{ref:se,uuid:"0bbb3a01-9767-491d-8948-f9befe6f81ce",queryParams:{columns:Xe,query:ot},queryParam:j,pagination:ct,options:!1,tableAlertRender:()=>!1,scroll:{x:"max-content",y:"330px"},loadComplete:He,toolBarRender:H==="manage"?at:null}))),Le>=3&&f().createElement(le,{tab:Z("examination.recordCharts.title"),key:"recordChart"},pe==="recordChart"&&lt)),f().createElement(Y,(0,D.Z)({drawerTitle:Z("exam.faceKnow")},We,{onCloseDrawer:qe})))}var ge=(0,M.Z)()(te)},82705:function(Ie,F,e){"use strict";e.r(F),e.d(F,{default:function(){return Ze}});var D=e(57663),g=e(71577),a=e(22385),U=e(31097),O=e(88986),C=e(57361),d=e(33565),y=e(9754),t=e.n(y),s=e(12924),n=e.n(s),v=e(91768),f=e(76651),M=e(57068),w=e(28216),P=e(70018),h=e(44548),z=e(14781),l=e(53431),I=e(88983),r=e(47933),i=e(94184),p=e.n(i),u=e(84874),o=["".concat("https://oss.coolcollege.cn","/1819588246108246016.png"),"".concat("https://oss.coolcollege.cn","/1819588250994610176.png"),"".concat("https://oss.coolcollege.cn","/1819588255306354688.png")];function c(ve){var A=ve.t,Y=ve.examId,le=(0,s.useState)({page_number:1,page_size:50,type:"score"}),te=(0,d.Z)(le,2),ge=te[0],$=te[1],Z=(0,s.useState)(0),re=(0,d.Z)(Z,2),ae=re[0],G=re[1],de=(0,s.useState)([]),H=(0,d.Z)(de,2),oe=H[0],_e=H[1];(0,s.useEffect)(()=>{Pe()},[ge]);function Pe(){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,C.Z)(t().mark(function W(){var ee,Ee;return t().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,(0,P.lc)((0,O.Z)({examId:Y},ge));case 2:ee=xe.sent,ee.data.code==="200000"&&(Ee=ee.data.data.all_ranking.list,ge.page_number===1&&ee.data.data.my_ranking&&Ee.unshift((0,O.Z)((0,O.Z)({},ee.data.data.my_ranking),{},{mySelf:!0})),_e(Ee),G(ee.data.data.all_ranking.total));case 4:case"end":return xe.stop()}},W)})),Oe.apply(this,arguments)}function ke(W){$((0,O.Z)((0,O.Z)({},ge),{},{page_number:1,type:W.target.value}))}function ie(W){$((0,O.Z)((0,O.Z)({},ge),{},{page_number:W}))}function se(W){var ee=W.ranking;return ee===1||ee===2||ee===3?n().createElement("img",{className:"ranking-img",src:o[ee-1]}):n().createElement("span",{className:"ranking"},ee)}return n().createElement("div",{className:"ranking-list-wrap"},n().createElement("div",{className:"ranking-list-top"},n().createElement("div",{className:"title-icon"},n().createElement("span",{className:"title"},A("examination.rankingTop")),n().createElement(U.Z,{placement:"topLeft",title:A("examination.rankingTopTips")},n().createElement("span",null,n().createElement(u.Z,{iconClass:"icon-shuoming",size:"14px",color:"rgba(0, 0, 0, 0.45)"})))),n().createElement("div",{className:"type-radio"},n().createElement(r.ZP.Group,{onChange:ke,defaultValue:ge.type},n().createElement(r.ZP.Button,{value:"score"},A("examination.byScore")),n().createElement(r.ZP.Button,{value:"scoreRate"},A("examination.byScoreRate"))))),n().createElement("div",{className:p()("ranking-list-content",ae>ge.page_size?"":"no-pagination-content")},oe.map((W,ee)=>n().createElement("div",{key:W.mySelf?W.user_id+ee:W.user_id,className:"ranking-list-item"},n().createElement("div",{className:"ranking-index"}," ",se(W)," "),n().createElement("div",{className:"base-infos"},n().createElement("div",{className:"user-name cl-text-ellipsis"},W.mySelf?A("dashboard.myRanking"):W.user_info?W.user_info.name:"--"),n().createElement("div",{className:"user-score cl-text-ellipsis"},n().createElement("span",{className:"score"},A("myExamTask.score"),"\uFF1A",W.score),n().createElement("span",{className:"score"},A("examination.scoringRate"),"\uFF1A",W.scor_rate),n().createElement("span",null,A("common.departmentLabel"),"\uFF1A",W.user_info?W.user_info.dept_name:"--")))))),ae>ge.page_size&&n().createElement("div",{className:"footer-pagination"},n().createElement("span",{className:"total-num"},A("examination.allTotal",{total:ae})),n().createElement("div",{className:"pagination-wrap"},n().createElement(l.Z,{current:ge.page_number,pageSize:ge.page_size,hideOnSinglePage:!0,size:"small",total:ae,showLessItems:!0,showSizeChanger:!1,onChange:ie}))))}var _=(0,v.Z)()(c),m=e(34792),E=e(48086),b=e(62029),k=e(38642),x=e(18329);function L(ve){var A=ve.t,Y=ve.baseInfos,le={passed:{src:"".concat("https://oss.coolcollege.cn","/1819881979760480256.png"),shadow:"0 0 5px rgba(66, 159, 75, 0.85)",text:A("examination.resultStatus.pass")},failed:{src:"".concat("https://oss.coolcollege.cn","/1819882000337735680.png"),shadow:"0 0 5px rgba(192, 39, 37, 0.85)",text:A("examination.resultStatus.fail")},full:{src:"".concat("https://oss.coolcollege.cn","/1819882016783601664.png"),shadow:"0 0 5px #417DC2",text:A("examination.resultStatus.full")},pending:{src:"".concat("https://oss.coolcollege.cn","/1819882024073302016.png"),shadow:"0 0 5px #D3863D",text:A("examination.resultStatus.marking")}},te=(0,s.useState)(""),ge=(0,d.Z)(te,2),$=ge[0],Z=ge[1],re=(0,s.useState)([{title:A("exam.examScore"),type:"score",icon:"icon-kaoshizongfen",val:"",units:A("common.examScoreUnit"),color:"#FF7130"},{title:A("examination.scoringRate"),type:"score_rate",icon:"icon-defenshuai",val:"",units:"",color:"#516AE6"},{title:A("examination.correctlyNumber"),type:"correct_count",icon:"icon-daduitimushu",val:"",units:A("exam.questionsUnit"),color:"#6DD400"},{title:A("examination.accuracy"),type:"correct_rate",icon:"icon-zhengqueshuai",val:"",units:"",color:"#40CBE0"},{title:A("examination.answerTime"),type:"exam_time",icon:"icon-datishichang",val:"",units:"",color:"#C08564"},{title:A("examination.bonusCredits"),type:"reward_rule_vo",icon:"icon-leijixuefen",val:"",units:A("common.examScoreUnit"),color:"#FFA000"},{title:A("examination.obtainCertificate"),type:"certificate_vo",icon:"icon-xingzhuangjiehe",val:"",units:"",color:"#9766CD"}]),ae=(0,d.Z)(re,2),G=ae[0],de=ae[1];(0,s.useEffect)(()=>{H()},[]);function H(){return oe.apply(this,arguments)}function oe(){return oe=(0,C.Z)(t().mark(function ie(){var se,W;return t().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:se=(0,O.Z)({},Y),W=[],G.forEach(j=>{j.type==="certificate_vo"?se.certificate_vo&&se.certificate_vo.show==="true"&&(j.val=se.certificate_vo.certificate_name,W.push(j)):j.type==="reward_rule_vo"?se.reward_rule_vo&&se.reward_rule_vo.type==="score"&&(j.val=se.reward_rule_vo.award_credit,W.push(j)):(j.val=se[j.type],se[j.type]!==null&&se[j.type]!==""&&(j.type==="exam_time"&&(j.val=(0,k.xj)(se[j.type])),W.push(j)))}),de(W);case 4:case"end":return Ee.stop()}},ie)})),oe.apply(this,arguments)}function _e(){var ie=le[Y.status]?le[Y.status].src:"",se=le[Y.status]?le[Y.status].text:"",W=le[Y.status]?le[Y.status].shadow:"";return Y.score===Y.total_score&&(ie=le.full.src,se=le.full.text,W=le.full.shadow),n().createElement("div",{className:"status-img"},Y.status!=="pending"&&n().createElement("span",{className:"scores"},Y.score||0),n().createElement("div",{className:"status-text",style:{textShadow:W}},se),n().createElement("img",{className:"img",src:ie}))}function Pe(ie){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,C.Z)(t().mark(function ie(se){var W,ee;return t().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(se.type==="certificate_vo"&&Y.certificate_vo.show==="true")){j.next=15;break}return W=f.m8.location.query.exam_id,j.next=4,(0,P.P8)(W);case 4:if(ee=j.sent,ee.data.code!=="200000"){j.next=15;break}j.t0=ee.data.data.result,j.next=j.t0==="pending"?9:j.t0==="failed"?11:j.t0==="success"?13:15;break;case 9:return E.default.info(A("examination.certificateImagePending")),j.abrupt("break",15);case 11:return E.default.error(A("examination.certificateImageFail")),j.abrupt("break",15);case 13:return Z(ee.data.data.image_url),j.abrupt("break",15);case 15:case"end":return j.stop()}},ie)})),Oe.apply(this,arguments)}var ke={title:A("common.certificate"),footer:null,size:"small",destroyOnClose:!0,maskClosable:!1,onCancel:()=>{Z("")}};return n().createElement("div",{className:"base-exam-infos"},(Y.score_record_type==="latest"||Y.score_record_type==="highest")&&n().createElement("div",{className:"type-label"},Y.score_record_type==="latest"?A("examination.newRecord"):A("examination.topRecord")),n().createElement("div",null,_e()),n().createElement("div",{className:"base-exam-infos-content"},n().createElement("div",{className:"exam-title"},Y.title),n().createElement("div",{className:"paper-infos"},n().createElement("span",null,A("myExamTask.totalScore"),"\uFF1A",Y.total_score),n().createElement("span",null,A("exam.passingGrade"),"\uFF1A",Y.passing_score),n().createElement("span",null,A("common.examDuration"),"\uFF1A",Y.exam_duration,A("common.minutes")),n().createElement("span",null,A("learning.questionAddTitle"),"\uFF1A",Y.total_count))),n().createElement("div",{className:"exam-cards-list"},G.map((ie,se)=>n().createElement("div",{className:p()("exam-cards",se%4==3?"no-margin-right":""),key:ie.type},n().createElement("div",null,n().createElement(u.Z,{iconClass:ie.icon,size:"18px",color:ie.color}),n().createElement("span",{className:"title"},ie.title)),n().createElement("div",{className:p()("infos","cl-text-ellipsis",ie.type==="certificate_vo"?"certificate-name":""),onClick:()=>Pe(ie)},ie.val,ie.units)))),n().createElement(x.ZP,(0,b.Z)({},ke,{visible:$}),n().createElement("div",{className:"exam-base-info-certi"},Y.certificate_vo&&n().createElement("img",{src:$,alt:""}))))}var N=(0,v.Z)()(L),J=e(410),V=e(42837),S=e(37055),K=e(67479),X=e(1164),ne=e(4408),R=e(17381);function fe(ve){var A=ve.t,Y=f.m8.location.query,le=Y.task_id,te=Y.exam_id,ge=(0,s.useState)({}),$=(0,d.Z)(ge,2),Z=$[0],re=$[1],ae=(0,s.useState)(!1),G=(0,d.Z)(ae,2),de=G[0],H=G[1],oe=(0,s.useState)({}),_e=(0,d.Z)(oe,2),Pe=_e[0],Oe=_e[1],ke=(0,s.useState)(!1),ie=(0,d.Z)(ke,2),se=ie[0],W=ie[1],ee=(0,s.useState)({flag:"",scene:""}),Ee=(0,d.Z)(ee,2),j=Ee[0],xe=Ee[1];(0,s.useEffect)(()=>{Pe.id&&H(!0)},[Pe]),(0,s.useEffect)(()=>{if(le&&te){var Le=function(){var Re=(0,C.Z)(t().mark(function be(){var he;return t().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,(0,P.lq)({examId:te,task_id:le});case 2:he=ce.sent,he.data.code==="200000"&&re((0,O.Z)({},he.data.data));case 4:case"end":return ce.stop()}},be)}));return function(){return Re.apply(this,arguments)}}();Le()}},[te,le]);function Ce(){return pe.apply(this,arguments)}function pe(){return pe=(0,C.Z)(t().mark(function Le(){var Re;return t().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(Z.face_recognition!=="true"){he.next=4;break}return W(!0),xe({flag:"exam",scene:"flag=exam&planId=".concat(te,"&task_id=").concat(le)}),he.abrupt("return");case 4:return he.next=6,(0,R.Wl)({examId:te,taskId:le});case 6:Re=he.sent,Re.data.code==="200000"&&Oe((0,O.Z)((0,O.Z)({},Re.data.data),{},{task_id:le}));case 8:case"end":return he.stop()}},Le)})),pe.apply(this,arguments)}function Ae(){return Me.apply(this,arguments)}function Me(){return Me=(0,C.Z)(t().mark(function Le(){var Re,be,he,We,ce,Ke,Ge,je;return t().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return Re=ve.userInfo,be=Re.enterpriseId,he=Pe.cut_screen_vo,We=he===void 0?{}:he,ce=window.localStorage.getItem("token"),ye.next=6,(0,R.XZ)(te,le);case 6:if(Ke=ye.sent,Ke.data.code!=="200000"){ye.next=21;break}if(H(!1),!(dd.version&&We.cut_screen_rule!=="unlimited")){ye.next=15;break}Ge=(0,k.lz)(be,"student"),je="".concat(Ge,"/auth?").concat(M.stringify({accessToken:ce,pageFrom:"ding_myExamTask",id:te,exam_id:te,task_id:le,cut_screen_count:We.cut_screen_count})),this.setState({examInfoModalVisible:!1},()=>{window.open(je,"_blank")}),ye.next=21;break;case 15:return ye.t0=X.Z,ye.next=18,K.W.examing({accessToken:ce,exam_id:te,task_id:le,cut_screen_count:We.cut_screen_count,id:te});case 18:ye.t1=ye.sent,ye.t2={path:ye.t1,projectType:"student"},ye.t0.targetTo.call(ye.t0,ye.t2);case 21:case"end":return ye.stop()}},Le,this)})),Me.apply(this,arguments)}function Be(){W(!1),xe({flag:"",scene:""})}return n().createElement("div",{className:"new-exam-data"},n().createElement(ne.Z,{title:A("examination.examData")}),Z.show_ranking==="true"&&n().createElement("div",{className:"new-exam-data-left"},n().createElement(_,{baseInfos:Z,examId:te})),n().createElement("div",{className:"new-exam-data-right"},Z.id&&n().createElement(N,{baseInfos:Z}),n().createElement("div",{className:"new-exam-data-right-record"},n().createElement("div",{className:"record-top"},n().createElement("div",null,n().createElement("span",{className:"labels"},A("common.examRecord")),n().createElement(U.Z,{placement:"topLeft",title:A("examination.examRecordTips")},n().createElement("span",null,n().createElement(u.Z,{iconClass:"icon-shuoming",size:"14px",color:"rgba(0, 0, 0, 0.45)"})))),Z.show_repeat_exam==="true"&&n().createElement(g.Z,{type:"primary",style:{margin:"auto 0"},onClick:Ce},A("myExamTask.reTest"))),n().createElement("div",{className:"record-detail"},n().createElement(J.Z,{baseInfos:Z,from:"user",taskId:le,examId:te,userId:S.ZP.userId})))),n().createElement(h.Z,{visible:de,examInfo:Pe,onCancel:()=>{H(!1)},onOK:Ae}),n().createElement(V.Z,{visible:se,title:A("exam.faceKnowQrCodeTitle"),onCancel:Be,tip:"exam.faceKnowWxQrCodeTipCustom",option:j}))}var q=ve=>({userInfo:ve.user}),Ze=(0,w.$j)(q)((0,v.Z)()(fe))},70018:function(Ie,F,e){"use strict";e.d(F,{TM:function(){return U},Ty:function(){return O},me:function(){return C},vU:function(){return d},NZ:function(){return y},C0:function(){return t},r7:function(){return s},lc:function(){return n},lq:function(){return v},P8:function(){return f},yZ:function(){return M},rh:function(){return w},li:function(){return P},i3:function(){return h},G2:function(){return z},wg:function(){return l},et:function(){return I}});var D=e(81211),g=e(10237),a=e(5430);function U(r,i){var p=a.OB.examing.load(r,i);return g.WY.post({url:p})}function O(r,i){var p=a.OB.examing.save(r);return g.WY.post({url:p,data:i})}function C(r,i){var p=a.OB.examing.submit(r);return g.WY.post({url:p,data:i})}function d(r,i){var p=a.OB.examing.saveCut(r);return g.WY.post({url:p,data:i})}function y(r,i){var p=r.examId,u=r.submitId,o=r.userId,c=a.OB.parse.list({examId:p,submitId:u,userId:o});return g.WY.get({url:c,params:i})}function t(r,i){var p=r.examId,u=r.userId,o=a.OB.parse.info({examId:p,userId:u},i);return g.WY.get({url:o,params:i})}function s(r){var i=r.key,p=i===void 0?"":i,u=r.msg,o=u===void 0?"":u,c=r.data,_=c===void 0?{}:c;g.WY.logger({keyword:p,moduleName:"".concat(p,"-examing"),msg:o,data:_})}function n(r){var i=r.examId,p=r.page_size,u=r.page_number,o=r.type,c=a.OB.examData.rankingList(i);return g.WY.get({url:c,params:{page_size:p,page_number:u,type:o}})}function v(r){var i=r.examId,p=r.task_id,u=r.submit_id,o=u===void 0?"":u,c=a.OB.examData.examsResult(i);return g.WY.get({url:c,params:{task_id:p,submit_id:o}})}function f(r){var i=a.OB.examData.certificateImage(r);return g.WY.get({url:i})}function M(r){var i=r.task_type,p=r.task_id,u=r.page_number,o=r.page_size,c=r.examId,_=r.userId,m=r.scene,E=a.OB.examData.getRecordInfo(c,_);return g.WY.get({url:E,params:{task_type:i,task_id:p,page_number:u,page_size:o,scene:m}})}function w(r){var i=r.status,p=r.scene,u=r.page_number,o=r.page_size,c=r.examId,_=a.OB.examMarking.getMarkUser(c);return g.WY.get({url:_,params:{status:i,scene:p,page_number:u,page_size:o}})}function P(r,i){var p=a.OB.examMarking.submitMarking(r);return g.WY.post({url:p,data:i})}function h(r,i,p){var u=a.lk.getExamFromProject(r,i);return g.WY.get({url:u,params:p})}function z(r){var i=r.examId,p=r.submitId,u=r.userId,o=(0,D.Z)(r,["examId","submitId","userId"]),c=a.OB.examData.faceRecognitionRecord({examId:i,submitId:p,userId:u});return g.WY.get({url:c,params:o})}function l(r){var i=r.examId,p=r.submitId,u=r.userId,o=a.OB.examData.faceRecognitionRecordStatistics({examId:i,submitId:p,userId:u});return g.WY.get({url:o})}function I(r){var i=r.examId,p=a.OB.examData.hasFaceSnapshot({examId:i});return g.WY.get({url:p})}},14441:function(Ie,F,e){"use strict";e.d(F,{v:function(){return a},t:function(){return U}});var D=e(10237),g=e(5430);function a(O){var C=g.Fc.getUserName();return D.WY.get({url:C,params:{user_id:O}})}function U(O){var C=g.Fc.getDepartmentNames();return D.WY.post({url:C,data:{ids:O}})}},67479:function(Ie,F,e){"use strict";e.d(F,{D:function(){return y},W:function(){return s}});var D=e(57361),g=e(9754),a=e.n(g),U=e(57068),O=e(31916),C=e(38642),d=e(5430);function y(n){return t.apply(this,arguments)}function t(){return t=(0,D.Z)(a().mark(function n(v){var f,M,w,P,h;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,O.uH)();case 3:if(f=l.sent,f!=="old"){l.next=6;break}return l.abrupt("return",!1);case 6:return l.next=8,(0,O.fP)(v);case 8:if(M=l.sent,w=M.data,P=w.code,h=w.data,P!=="200000"){l.next=14;break}return l.abrupt("return",h.exam_type==="new");case 14:l.next=20;break;case 16:return l.prev=16,l.t0=l.catch(0),console.error("\u65B0\u65E7\u8003\u8BD5\u5224\u65AD",l.t0),l.abrupt("return",!1);case 20:case"end":return l.stop()}},n,null,[[0,16]])})),t.apply(this,arguments)}var s={examing:function(){var n=(0,D.Z)(a().mark(function f(M){var w,P,h;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w="",P=M.pageFrom==="ding_myExamTask"?(0,C.lz)(d.ZP.enterpriseId,"student"):"",l.next=4,y(M.exam_id);case 4:return h=l.sent,h?w="".concat(P,"/training/examination/new-exam/examing?").concat(U.stringify(M)):w="".concat(P,"/training/examination/exam/personal?").concat(U.stringify(M)),l.abrupt("return",w);case 7:case"end":return l.stop()}},f)}));function v(f){return n.apply(this,arguments)}return v}(),parse:n=>"/training/examination/new-exam/parse?".concat(U.stringify(n)),examData:n=>"/training/examination/exam-data?exam_id=".concat(n.exam_id,"&task_id=").concat(n.task_id),marking:n=>"/training/examination/new-exam/marking?".concat(U.stringify(n))}},97593:function(Ie,F,e){"use strict";e.d(F,{N:function(){return y}});var D=e(34792),g=e(48086),a=e(37055),U={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:t=>{var s=t.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/competition/user/").concat(s,"/report/list_report")},pkReportDetailsDetails:t=>{var s=t.competitionId,n=t.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/competition/user/").concat(n,"/pk/").concat(s,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(a.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(a.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(a.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(a.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/student_archives/youjia_list_export"),authInfo:t=>{var s=t.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(s,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:t=>{var s=t.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(a.ZP.enterpriseId,"/user/").concat(s,"/integral_export")},teacherImportPoints:t=>{var s=t.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(a.ZP.enterpriseId,"/lecture/").concat(s,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(a.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(a.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(a.ZP.enterpriseId,"/offline-courses/").concat(t,"/sign-analysis-export"),signAnalysisDetailExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(a.ZP.enterpriseId,"/offline-courses/").concat(t.id,"/sign-detail-export"),studyProjectMonitorExport:t=>{var s=t.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/study_projects/").concat(s,"/user_monitors_export")},studyProjectPaymentList:t=>{var s=t.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/study_project/").concat(s,"/study_project_transaction_export")},study_project_transaction_export:t=>{var s=t.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/study_project/").concat(s,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(a.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(a.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(a.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:t=>{var s=t.projectId,n=t.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(a.ZP.enterpriseId,"/study_project/").concat(s,"/course/").concat(n,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/certificates_export"),certificatePeople:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/certificates/").concat(t.certificateId,"/users/export?type=").concat(t.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/plan_study_export"),learningMonitor:t=>{var s=t.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/plans/").concat(s,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/investigates/").concat(t.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:t=>{var s=t.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/operations/").concat(s,"/user_monitors_export")},huaLaiShiWorkUserData:t=>{var s=t.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/operations/").concat(s,"/user_monitors_export")},learningFaceMonitor:t=>{var s=t.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(a.ZP.enterpriseId,"/user-recognition/course/").concat(s,"/export")},learningDetailMonitor:t=>{var s=t.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(a.ZP.enterpriseId,"/user-recognition/v2/course/").concat(s,"/export")},classLearningMonitor:t=>{var s=t.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(a.ZP.enterpriseId,"/study-record/plan/").concat(s,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/investigates/").concat(t.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/exams/").concat(t.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/exams/").concat(t.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(a.ZP.enterpriseId,"/exams/").concat(t.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(a.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:t=>{var s=t.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/practices/").concat(s,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/competition/user/").concat(a.ZP.userId,"/list/export"),exportPkMonitor:t=>{var s=t.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/competition/").concat(s,"/user/list/export")},exportPostMap:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/post_maps/").concat(t.mapId,"/users_export"),exportPowerMonitor:t=>{var s=t.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/qualifications/").concat(s,"/monitors_export")},exportQuestionnaire:t=>{var s=t.taskId,n=t.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/studies/").concat(s,"/investigates/").concat(n,"/statistics_export")},exportGoodsExchangeDetail:t=>{var s=t.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/integral_mall/goods/").concat(s,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(a.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:t=>{var s=t.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(a.ZP.enterpriseId,"/lecturer/").concat(s,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(a.ZP.enterpriseId,"/export/plan/").concat(s,"/model")},offlineCrouseCheckIn:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(a.ZP.enterpriseId,"/offline-courses/").concat(t,"/sign-analysis-export"),monitorUserExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(a.ZP.enterpriseId,"/offline-courses/").concat(t,"/monitors-export"),evaluateAnalyzeExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(a.ZP.enterpriseId,"/course/").concat(t,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(a.ZP.enterpriseId,"/plan/").concat(t.planId,"/tutorials/").concat(t.tutorialsId,"/evaluation_export"),offlineCourseListExport:t=>{var s=t.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(a.ZP.enterpriseId,"/plans/").concat(s,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(a.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(a.ZP.enterpriseId,"/users/").concat(a.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(a.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(a.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/plans/").concat(t,"/courses-export"),studyProjectCourseExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/study_projects/").concat(t,"/courses-export"),studyProjectPracticeExport:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/study_projects/").concat(t,"/practice-export"),trainingTandardsDetail:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(a.ZP.enterpriseId,"/objective/").concat(t,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(a.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(a.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(a.ZP.enterpriseId,"/annual-plans/").concat(s,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/exam_details/export"),medalDetailsExportData:t=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(a.ZP.enterpriseId,"/medal/group/").concat(t,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(a.ZP.enterpriseId,"/").concat(a.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/export-user-task")},exportNewExamAnswerList:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/export_student_detail")},exportNewExamAnswerListPDF:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(a.ZP.enterpriseId,"/exams/").concat(s,"/download")},exportQuestionAnswerDetails:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/export_question_answer")},exportAnswerDataList:t=>{var s=t.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/export-question-analysis")},exportSubmitList:t=>{var s=t.planId,n=t.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/user-id/").concat(n,"/export_user_submit")},exportFaceRecognitionRecord:t=>{var s=t.userId,n=t.examId,v=t.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/users/").concat(s,"/exams/").concat(n,"/submit-id/").concat(v,"/export_face-info")},exportQuestionDetails:t=>{var s=t.planId,n=t.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(a.ZP.enterpriseId,"/exam-plan/").concat(s,"/export-question-user-result/").concat(n)},exportPointsDetail:t=>{var s=t.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(a.ZP.enterpriseId,"/user/").concat(s,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(a.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(a.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:t=>{var s=t.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(a.ZP.enterpriseId,"/integral_mall/goods/").concat(s,"/export_orders")},exportLotteryOverview:t=>{var s=t.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/lottery/").concat(s,"/prizeOverview/export")},exportLotteryDetailList:t=>{var s=t.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(a.ZP.enterpriseId,"/lottery/").concat(s,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(a.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(a.ZP.enterpriseId,"/users/").concat(a.ZP.userId,"/group/export_address_book")},O=U,C=e(10237),d=e(31457),y=t=>{var s=t.page,n=t.props,v=t.query,f=v===void 0?"":v,M=t.rest,w=t.sendType,P=w===void 0?"get":w,h=t.success,z=t.fail,l=z===void 0?"":z,I=O[s](M)+(P==="get"?f:""),r=C.WY[P];r.call(C.WY,P==="get"?{url:I}:{url:I,data:f}).then(i=>{if(I.includes("/v3/")&&i.success==="true"||i.data.code===0||i.data.code===200||i.data.code===2e5||i.data.code==="200000"||i.data.resultCode==="200"||i.data.result_code==="200")(0,d.Pp)(n),g.default.success(n.t("study.compoundSucceed")),h&&h({code:200});else{if(l){l(i);return}g.default.error(n.t("community.isError"))}})}},86726:function(Ie,F,e){"use strict";e.d(F,{V9:function(){return g},H3:function(){return a},e:function(){return U},F:function(){return O}});var D=e(93485);function g(C){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=[];function t(s,n){var v=(0,D.Z)(n),f;try{for(v.s();!(f=v.n()).done;){var M=f.value;if(M.key===s){y=M.actions;break}M.children instanceof Array&&M.children.length&&t(C,M.children)}}catch(w){v.e(w)}finally{v.f()}}return t(C,d),y}function a(C){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=d.find(t=>t.key===C)||{};return y.checked||!1}function U(C){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=!1;function t(s,n){var v=(0,D.Z)(n),f;try{for(v.s();!(f=v.n()).done;){var M=f.value;if(M.key===s){y=M.checked;break}M.children instanceof Array&&M.children.length&&t(C,M.children)}}catch(w){v.e(w)}finally{v.f()}}return t(C,d),y}function O(C){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y="";function t(s,n){var v=(0,D.Z)(n),f;try{for(v.s();!(f=v.n()).done;){var M=f.value;if(M.key===s){y=M.id;break}M.children instanceof Array&&M.children.length&&t(C,M.children)}}catch(w){v.e(w)}finally{v.f()}}return t(C,d),y}},65202:function(Ie,F,e){"use strict";e.d(F,{p:function(){return D}});function D(){return localStorage.getItem("themeColor")||"#516AE6"}}}]);
