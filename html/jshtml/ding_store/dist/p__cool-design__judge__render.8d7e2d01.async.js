(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[3626,8874],{4408:function(z,P,e){"use strict";var f=e(12924),p=e.n(f),v=e(28216),c=e(17780),l=e(38642),u=y=>({userInfo:y.user}),g=y=>{var m=y.title;return(0,c.xX)()&&setTimeout(()=>{document.title=m},0),(0,f.useEffect)(()=>{if(m&&document.title!==m&&setTimeout(()=>{document.title=m},0),(0,l.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var M=document.querySelector(".zoom-report");M&&(M.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[m]),p().createElement(p().Fragment,null)};g.defautProps={title:""},P.Z=(0,v.$j)(u)(g)},57190:function(z,P,e){"use strict";e.r(P);var f=e(88986),p=e(33565),v=e(12924),c=e.n(v),l=e(76651),u=e(37055),g=e(10237),y=e(29190),m=e(16718),M=C=>{var S=C.currentWidth,F=C.isZoom,H=F===void 0?!1:F,U=C.isJump,K=U===void 0?!0:U,W=C.componentsData,k=C.isComponent,V=k===void 0?!1:k,Y=(0,v.useState)([]),$=(0,p.Z)(Y,2),N=$[0],Z=$[1],R=l.m8.location.query,b=R.scopeId,L=R.pageId,J=R.businessType,q=(0,m.Z)();b&&u.ZP.init({enterpriseId:b}),(0,v.useEffect)(()=>{ee(W)},[W,L,J]);var ee=(0,v.useCallback)(D=>{if(V)Z(D);else switch(J){case"visitor":X();break;case"pc-find":G(L);break}},[G,X,J,V,L]),X=()=>{g.WY.get({url:u.ZP.CMSApi.getPageEnterprises({enterpriseId:b||localStorage.getItem("enterpriseId")}),params:{scope:2,businessType:"visitor"}}).then(D=>{if(D.data.code===2e5){var a=D.data.data,n=a.id,r=a.componentList,o=a.pageTemplateContext;if(n===0){Z(q.defaultPageData);return}if(r.length>0){var i=[],d=o?JSON.parse(o):{};d.position.forEach(E=>{r.forEach(t=>{E===t.pagePosition&&i.push((0,f.Z)({},JSON.parse(t.feature)))})}),Z(i)}}})},G=D=>{var a=localStorage.getItem("scope_id");g.WY.get({url:u.ZP.CMSApi.getPageScope({platformType:"platform",scopeId:a}),params:{id:D}}).then(n=>{if(n.data.code===2e5){var r=n.data.data,o=r.id,i=r.componentList,d=r.pageTemplateContext;if(o===0)return;if(i.length>0){var E=d?JSON.parse(d):{},t=[];E.position.forEach(A=>{i.forEach(B=>{A===B.pagePosition&&t.push((0,f.Z)({pagePosition:B.pagePosition,pageId:B.pageId},JSON.parse(B.feature)))})}),Z(t)}}})},ae=(0,v.useMemo)(()=>{var D=[];if(N.length>0)return N.forEach((a,n)=>{var r=y.Z[a.id];r&&D.push(c().createElement(r,{key:a.code,models:a.models||{},params:a.params||{},cssObj:a.cssObj||{},index:n,isRender:K,pagePosition:a.pagePosition,pageId:a.pageId}))}),D},[N,y.Z]);return c().createElement("div",{style:H?{zoom:S/1280,backgroundColor:"#fafaf8"}:{backgroundColor:"#fafaf8",overflowY:"auto"}},ae)};P.default=M},45797:function(z,P,e){"use strict";e.r(P);var f=e(12924),p=e.n(f),v=e(76651),c=e(22065),l=e(57190),u=()=>{var g=v.m8.location.query,y=g.id==="homePage"||g.businessType==="visitor"&&g.newVisitor;return p().createElement("div",null,y?p().createElement(c.Z,null):p().createElement(l.default,null))};P.default=u},22065:function(z,P,e){"use strict";e.d(P,{Z:function(){return D}});var f=e(57361),p=e(33565),v=e(9754),c=e.n(v),l=e(12924),u=e.n(l),g=e(69968),y=e.n(g),m=e(76651),M=e(91768),C=e(28216),S=e(48005),F=e(93843),H=e(88986),U=e(10237),K=e(37055),W=m.m8.location.query,k=()=>{var a="".concat("https://app123492.eapps.dingtalkcloud.com","/cmdb-api/v2/").concat(W.scopeId,"/home_page/templates/").concat(W.pageId,"/query_template_detail");return request.get({url:a,params:{type:W.id}})},V=a=>{var n=a.host,r=a.pageId;return U.WY.get({url:K.ZP.pcCustomize.getEnterpriseVisitorPage(),params:{domain_url:n,page_id:r||""}})},Y=e(84112),$=e(44354),N=e(98489),Z=function(){var a=(0,f.Z)(c().mark(function n(r){var o,i,d;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=window.location.host,t.prev=1,t.next=4,V({pageId:r,host:o});case 4:if(i=t.sent,i.data.open_visitor_page!=="true"){t.next=14;break}return t.next=8,(0,$.P)({id:r,type:"pc"});case 8:if(d=t.sent,d.data.code!==2e5){t.next=12;break}return d.data.data.pageName&&(document.title=d.data.data.pageName),t.abrupt("return",L(d.data.data));case 12:t.next=15;break;case 14:R();case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),R();case 20:return t.abrupt("return",[]);case 21:case"end":return t.stop()}},n,null,[[1,17]])}));return function(r){return a.apply(this,arguments)}}(),R=()=>{if(N.Zv.handleRouteLandingPrivate())m.m8.push("/index-auth-login-new?source=ding");else{var a=window.location.host,n=navigator.userAgent.toLocaleLowerCase(),r;a.indexOf("zhedian")>-1?r="/":a==="learning.coolcollege.cn"&&n.indexOf("lark")===-1?r="/index-auth-login?source=login":n.indexOf("lark")!==-1?r="/fs-user-auth?appType=lark":r="/index-auth-login-new?source=ding",m.m8.push(r)}},b=(a,n)=>{var r=[];return U.WY.get({url:K.ZP.CMSApi.getPageScope({platformType:Y.Z.serviceType[n].platformType,scopeId:Y.Z.serviceType[n].scopeId}),params:{id:a}}).then(o=>{o.data.code===2e5&&(n==="pc-find"?r=L(o.data.data):r=J(o.data.data))}),r},L=a=>{var n=a.id,r=a.componentList,o=a.pageTemplateContext,i=[];if(n===0)return i;if(r.length>0){var d=o?JSON.parse(o):{};d.position.forEach(E=>{r.forEach(t=>{E===t.pagePosition&&i.push((0,H.Z)({pagePosition:t.pagePosition,pageId:t.pageId},JSON.parse(t.feature)))})})}return i},J=a=>{var n=a.id,r=a.component_list,o=a.page_template_context,i=[];if(n===0)return i;if(r.length>0){var d=o?JSON.parse(o):{};d.position.forEach(E=>{r.forEach(t=>{E===t.pagePosition&&i.push((0,H.Z)({pagePosition:t.pagePosition,pageId:t.pageId},JSON.parse(t.feature)))})})}return i},q=e(4408),ee=e(6793),X=(0,g.WidthProvider)(y()),G=a=>{var n=a.user;return{qyShield:n.qyShield}},ae=a=>{var n=a.currentWidth,r=a.isJump,o=r===void 0?!0:r,i=a.componentsData,d=a.isComponent,E=d===void 0?!1:d,t=a.qyShield,A=a.t,B=(0,l.useState)([]),se=(0,p.Z)(B,2),_=se[0],te=se[1],re=m.m8.location.query,w=re.scopeId,Q=re.pageId,j=re.businessType,ve=(0,l.useState)((1920-document.body.offsetWidth)/2),ie=(0,p.Z)(ve,2),ce=ie[0],de=ie[1];w&&(localStorage.enterpriseId=w,K.ZP.init({enterpriseId:w})),(0,l.useEffect)(()=>{de((1920-document.body.offsetWidth)/2)},[document.body.offsetWidth]);var ne=document.documentElement.clientWidth,me={width:1920,transform:"translateX(".concat(ne>1280?-ce:0,"px)"),transformOrigin:"0 0",backgroundColor:"#fafaf8"},fe=E?{overflow:ne>1280?"hidden":"auto",backgroundColor:"#F8F8FA"}:{overflow:ne>1280?"hidden":"auto",backgroundColor:"#F8F8FA",minHeight:"100vh"};(0,l.useEffect)(()=>(window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)}),[oe]),(0,l.useEffect)(()=>{le(i)},[i,Q,j,le]);var oe=(0,ee.Ds)(()=>{de((1920-document.body.offsetWidth)/2)},200),le=(0,l.useCallback)(function(){var T=(0,f.Z)(c().mark(function s(O){var I,x;return c().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(E){h.next=15;break}if(x=(0,F.Z)({}),j!=="visitor"){h.next=8;break}return h.next=5,Z(Q);case 5:I=h.sent,h.next=12;break;case 8:if(!j){h.next=12;break}return h.next=11,b(Q,j,w);case 11:I=h.sent;case 12:!I||I.length===0?te(x.defaultPageData.pc):te(I),h.next=16;break;case 15:te(O);case 16:case"end":return h.stop()}},s)}));return function(s){return T.apply(this,arguments)}}(),[E,j,Q]),ge=T=>u().createElement(X,{width:n,rowHeight:1,className:"layout",cols:100,isDraggable:!1,margin:[0,0],isResizable:!1},T.filter(s=>t==="false"?S.Z[s.id]:S.Z[s.id]&&!["HomeSystem","HomeExcellentCourse"].includes(s.id)).map((s,O)=>{var I=S.Z[s.id];if(s.position.h-=4,s.position.isDraggable=!1,I)return u().createElement("div",{key:s.code,"data-grid":s.position},u().createElement(I,{t:A,key:s.code,models:s.models||{},params:s.params||{},cssObj:s.cssObj||{},index:O,isRender:o,pagePosition:s.pagePosition,pageId:s.pageId}))})),Ee=(0,l.useMemo)(()=>{var T=[];if(_.length>0){var s=_[0].hasOwnProperty("position");return s?ge(_):(_.forEach((O,I)=>{var x=S.Z[O.id],pe=t==="true"&&["HomeSystem","HomeExcellentCourse"].includes(page.id);x&&!pe&&T.push(u().createElement(x,{t:A,key:O.code,models:O.models||{},params:O.params||{},cssObj:O.cssObj||{},index:I,isRender:o,pagePosition:O.pagePosition,pageId:O.pageId}))}),T)}return T},[_,o,A]),ue=m.m8.location.query,he=ue.businessType&&ue.businessType==="visitor"?A("documentTitle.visitorHome"):null;return u().createElement("div",{style:fe},u().createElement(q.Z,{title:he}),u().createElement("div",{id:"render-content",style:me},Ee))},D=(0,C.$j)(G)((0,M.Z)()(ae))},44354:function(z,P,e){"use strict";e.d(P,{P:function(){return v}});var f=e(5430),p=e(10237);function v(c){var l=f.ZP.CMSApi.getPageDetailByIdUrl();return p.WY.get({url:l,params:c})}}}]);
