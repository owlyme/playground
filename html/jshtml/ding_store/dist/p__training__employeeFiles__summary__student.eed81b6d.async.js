(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8140],{4408:function(pe,F,e){"use strict";var O=e(12924),g=e.n(O),n=e(28216),f=e(17780),A=e(38642),I=M=>({userInfo:M.user}),x=M=>{var a=M.title;return(0,f.xX)()&&setTimeout(()=>{document.title=a},0),(0,O.useEffect)(()=>{if(a&&document.title!==a&&setTimeout(()=>{document.title=a},0),(0,A.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var t=document.querySelector(".zoom-report");t&&(t.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[a]),g().createElement(g().Fragment,null)};x.defautProps={title:""},F.Z=(0,n.$j)(I)(x)},1164:function(pe,F,e){"use strict";var O=e(12924),g=e.n(O),n=e(76651),f=e(38642),A=e(91302),I=x=>{var M=navigator.userAgent.toLocaleLowerCase(),a=localStorage.getItem("enterpriseId"),t=(0,f.lz)(a,x.projectType),c=localStorage.getItem("dingPersonnel"),s=A.bl.includes(c),v=x.target;function T(h){if(v==="self"&&(h.preventDefault(),n.m8.push(x.to)),s){if(x.projectType==="student"){window.location.href="".concat(t,"/").concat(x.to);return}n.m8.push(x.to);return}if(dd.version){h.preventDefault();var E="";x.to.includes("?")?E="".concat(t).concat(x.to,"&ddtab=true"):E="".concat(t).concat(x.to,"?ddtab=true"),dd.biz.util.openLink({url:E})}else M.indexOf("lark")!==-1&&(window.location.href="".concat(t).concat(x.to))}return g().createElement("a",{rel:"noreferrer",href:"".concat(x.projectType==="student"?"".concat(t).concat(x.to):"#".concat(x.to)),className:"".concat(x.wrapCls," cl-pointer"),target:M.indexOf("lark")!==-1||s?"_self":x.target||"_blank",onClick:T},x.children)};I.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},I.targetTo=x=>{var M=x.path,a=x.from,t=x.isExternalLink,c=t===void 0?!1:t,s=x.isAsync,v=s===void 0?!1:s,T=x.openName,h=T===void 0?"_blank":T,E=x.projectType,D=E===void 0?"manage":E,P=x.ddTab,C=P===void 0?!0:P,y,u=localStorage.getItem("dingPersonnel"),p=A.bl.includes(u),L=navigator.userAgent.toLocaleLowerCase(),U=localStorage.getItem("enterpriseId"),B=(0,f.lz)(U,D),Z=localStorage.getItem("appType"),W=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var R="";if(y=c?"":B,p&&!c){if(D==="student"){window.location.href="".concat(B).concat(M);return}n.m8.push(M);return}M.includes("?")?R="".concat(y).concat(M,"&ddtab=").concat(C):R="".concat(y).concat(M,"?ddtab=").concat(C),dd.biz.util.openLink({url:R})}else if(L.indexOf("lark")!==-1)y=c?"":B,window.location.href="".concat(y).concat(M);else if(Z==="wx_app"&&W&&c&&a==="imgText")y=c?"":D==="student"?"".concat(B):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(y).concat(M)});else if(y=c?"":D==="student"?"".concat(B):"#",v){var V=window.open("","_blank");setTimeout(()=>{V.location="".concat(y).concat(M)},100)}else window.open("".concat(y).concat(M),h)},F.Z=I},36202:function(pe,F,e){"use strict";e.d(F,{f:function(){return P}});var O=e(62029),g=e(57361),n=e(33565),f=e(9754),A=e.n(f),I=e(12924),x=e.n(I),M=e(28175),a=e(41647),t=e(93485);function c(C){var y={};if(C.length===0)return y;var u=(0,t.Z)(C),p;try{for(u.s();!(p=u.n()).done;){var L=p.value,U=L,B=U.field,Z=U.fixed,W=U.order,R=U.show;R?R==="true"||R===!0?y[B]={fixed:Z,order:W,show:!0}:y[B]={fixed:Z,order:W,show:!1}:y[B]={fixed:Z,order:W,show:!0}}}catch(V){u.e(V)}finally{u.f()}return y}function s(C){var y=[],u=Object.entries(C);if(u.length===0)return y;for(var p=0,L=u;p<L.length;p++){var U=L[p],B=(0,n.Z)(U,2),Z=B[0],W=B[1],R=W.fixed,V=W.order,G=W.show;y.push({field:Z,show:G,fixed:R,order:V})}return y}var v=e(38642),T=(C,y)=>{var u=(0,I.useState)(C),p=(0,n.Z)(u,2),L=p[0],U=p[1];return(0,I.useEffect)(()=>{var B=setTimeout(()=>{U(C)},y);return()=>{clearTimeout(B)}},[C,y]),L},h=T;function E(C,y){var u=useRef(y);useEffect(()=>{u.current=y},[y]),useEffect(()=>{var p=L=>{var U,B;console.warn(C.current,"node.current",L.target),!((U=(B=C.current)===null||B===void 0?void 0:B.contains(L.target))!==null&&U!==void 0?U:!1)&&u.current&&u.current()};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[C])}var D=!1;function P(C){var y=(0,I.useState)({}),u=(0,n.Z)(y,2),p=u[0],L=u[1],U=C.prefixCls,B=C.rowKey,Z=C.columnEmptyText,W=C.pagination,R=C.headerTitle,V=C.toolBarRender,G=C.size,H=C.loading,Q=H===void 0?!1:H,J=C.tableUUID;J||console.error("tableUUID is required!!!"),(0,I.useEffect)(()=>{function ne(ie){return z.apply(this,arguments)}function z(){return z=(0,g.Z)(A().mark(function ie(he){var me,ye,Ee,$,Le,Pe,ae,we;return A().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,v.Kb)((0,a.U)(he));case 2:if(me=le.sent,ye=(0,n.Z)(me,2),Ee=ye[0],$=ye[1],!Ee){le.next=8;break}return le.abrupt("return");case 8:Le=$.data,Pe=Le.data,ae=Pe.fields,we=c(ae)||{},we&&(D=!1,L(we));case 13:case"end":return le.stop()}},ie)})),z.apply(this,arguments)}return J&&ne(J),()=>{D=!1}},[J]);var ee=h(p,1e3);(0,I.useEffect)(()=>{!D||(0,a.I)(J,s(p))},[ee]);function oe(ne){D=!0,L(ne)}return x().createElement("div",{className:"SampleProTable_container ".concat(C.className)},x().createElement(M.ZP,(0,O.Z)({size:G||"middle",rowKey:B||"id",columnEmptyText:Z||!1,pagination:W||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:Q,headerTitle:R||"",toolBarRender:V||null,columnsStateMap:p,onColumnsStateChange:oe},C,{className:"".concat(U,"-table")})))}},41647:function(pe,F,e){"use strict";e.d(F,{I:function(){return n},U:function(){return f}});var O=e(37055),g=e(10237);function n(A){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=O.ZP.tableHeader.save(),M={fields:I,key:A};return g.WY.post({url:x,data:M})}function f(A){var I=O.ZP.tableHeader.get(A);return g.WY.get({url:I})}},99891:function(pe,F,e){"use strict";var O=e(12924),g=e.n(O),n=e(28216),f=e(91768),A=e(37055),I=e(10237),x=e(60667);class M extends g().PureComponent{constructor(c){super(c);this.getWaterMarkText=s=>{var v=this.props.userInfo,T=v.jobNumber,h=localStorage.getItem("waterMarkPostName"),E=[],D=s.find(C=>C.type==="content_setting"),P=s.find(C=>C.type==="content_custom");return D.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),P.param.checked==="true"&&P.param.comment[0]!==""&&this.setState({commentText:P.param.comment[0]}),D.param.comment.indexOf("position")!==-1&&h&&h!==""&&E.push("".concat(h)),D.param.comment.indexOf("jobnumber")!==-1&&T&&T!==""&&E.push("".concat(T)),E.join("-")},this.getWaterMarkApplication=s=>{var v=this.props.scenes,T=s.find(h=>h.type==="application_scenario");T.param.comment.indexOf(v)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=s=>{var v=s.find(T=>T.type==="dispersive");this.setState({isDispersive:v.param.checked==="true"})},this.getDynamicSet=()=>{var s=A.ZP.advancedSetting.dynamicWaterMarkNew(),v={access_token:window.localStorage.getItem("token")};I.WY.get({url:s,params:v}).then(T=>{var h=JSON.parse(T.data.actions);this.setState({waterMarkText:this.getWaterMarkText(h),actions:h}),this.getWaterMarkApplication(h),this.getWaterIsDispersive(h)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var c=localStorage.getItem("waterMarkPostName");c===""||c===null?this.getPostName():this.getDynamicSet()}getPostName(){var c=A.ZP.advancedSetting.getPostName();I.WY.get({url:c}).then(s=>{localStorage.setItem("waterMarkPostName",s.data.post_names[0]||""),this.getDynamicSet()})}render(){var c=this.state,s=c.showWaterMark,v=c.waterMarkCount,T=c.isUserName,h=c.isDispersive,E=c.waterMarkText,D=c.actions,P=c.commentText,C=this.props.userInfo,y=C.name,u=C.unionid,p=C.sourceType;return g().createElement("div",{className:"common-watermark"},s&&new Array(v).fill(0).map((L,U)=>g().createElement("div",{key:U,className:"common-watermark-item ".concat(h?"isDispersive":"")},g().createElement("span",{className:"common-watermark-item-content"},P!==""&&g().createElement("span",{className:"item-part"},P),T&&g().createElement("span",null,P!==""&&g().createElement("span",null,"-"),g().createElement(x.Z,{dataType:"userName",value:u,name:y,type:p})),g().createElement("span",{className:"item-part"},(T||P!=="")&&E!==""&&g().createElement("span",null,"-"),E)))))}}var a=t=>({userInfo:t.user});F.Z=(0,n.$j)(a)((0,f.Z)()(M))},55285:function(pe,F,e){"use strict";e.d(F,{Z:function(){return W}});var O=e(20228),g=e(11382),n=e(62029),f=e(88986),A=e(22385),I=e(31097),x=e(57361),M=e(33565),a=e(9754),t=e.n(a),c=e(12924),s=e.n(c),v=e(91768),T=e(28216),h=e(93485),E=e(38642);function D(R){var V={};if(R)for(var G=0,H=Object.entries(R);G<H.length;G++){var Q=H[G],J=(0,M.Z)(Q,2),ee=J[0],oe=J[1];V["user_info_".concat((0,E.FI)(ee))]=oe}return V}function P(R){if(!Array.isArray(R))return[];var V=R.map(G=>{var H=G.user_info,Q=G.userInfo,J={},ee=H||Q;if(ee){var oe=ee.extendList,ne=ee.extend_list,z=oe||ne||[];if(z.length>0){var ie=(0,h.Z)(z),he;try{for(ie.s();!(he=ie.n()).done;){var me=he.value,ye=me.columnKey,Ee=me.column_key,$=me.extendValue,Le=me.extend_value;J["user_info_".concat((0,E.FI)(ye||Ee))]=$||Le}}catch(Pe){ie.e(Pe)}finally{ie.f()}}}return(0,f.Z)((0,f.Z)((0,f.Z)({},G),J),D(ee))});return V}function C(R,V){for(var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",H=R.slice(0).reverse(),Q=0;Q<H.length;Q+=1)for(var J=Q+1;J<H.length;J+=1)H[Q][V]===H[J][V]&&(H.splice(J,1),J-=1);return G==="right"?H.reverse():H}var y=e(17215),u=e(36202),p=e(6793),L=e(9925),U=e(6934),B=R=>({userInfo:R.user}),Z=(0,c.forwardRef)((R,V)=>{var G=R.tableUUID,H=R.withLoginPhoneNumber,Q=R.withCustomField,J=R.withLoginEmail,ee=R.withJoinTime,oe=R.onlyShowCurrentDept,ne=(0,c.useState)([]),z=(0,M.Z)(ne,2),ie=z[0],he=z[1],me=(0,c.useState)([]),ye=(0,M.Z)(me,2),Ee=ye[0],$=ye[1],Le=(0,c.useState)(!1),Pe=(0,M.Z)(Le,2),ae=Pe[0],we=Pe[1];G||console.error("tableUUID is required!!!"),(0,c.useImperativeHandle)(V,()=>({getColumns:()=>ie})),(0,c.useEffect)(()=>{function le(){return de.apply(this,arguments)}function de(){return de=(0,x.Z)(t().mark(function Ke(){var ue,Ce,Re,Ie,ke;return t().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return we(!0),Ze.next=3,(0,E.Kb)((0,y.h)());case 3:if(ue=Ze.sent,Ce=(0,M.Z)(ue,2),Re=Ce[0],Ie=Ce[1],!Re){Ze.next=10;break}return we(!1),Ze.abrupt("return");case 10:ke=Ie.data,Q||(ke=ke.filter(Ve=>Object.keys(Ve)[0].indexOf("column")===-1)),J||(ke=ke.filter(Ve=>Object.keys(Ve)[0].indexOf("loginEmail")===-1)),ee||(ke=ke.filter(Ve=>Object.keys(Ve)[0].indexOf("joinTime")===-1)),we(!1),$(ke);case 16:case"end":return Ze.stop()}},Ke)})),de.apply(this,arguments)}le()},[]),(0,c.useEffect)(()=>{var le=Ee.map((ue,Ce)=>{var Re=(0,M.Z)(Array.from(Object.entries(ue))[0],2),Ie=Re[0],ke=Re[1];return R.nameColumn&&Ce===0?R.nameColumn:Ie==="name"?{title:ke,dataIndex:"user_info_".concat(Ie),key:"user_info_".concat(Ie),width:150,fixed:"left",render:(xe,Ze)=>s().createElement(I.Z,{title:s().createElement(L.Z,{userId:Ze.user_info.id,userName:xe})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ze.user_info&&s().createElement(L.Z,{userId:Ze.user_info.id,userName:xe}),!Ze.user_info&&xe))}:Ie==="deptName"||Ie==="dept_name"?{title:ke,dataIndex:"user_info_".concat(Ie),key:"user_info_".concat(Ie),width:150,fixed:"left",render:(xe,Ze)=>{var Ve=Ze.user_info,Ye=Ve.department_infos,ze=Ve.department_info;return xe?s().createElement(I.Z,{title:s().createElement(U.P,{allDepartmentsList:Ye||[]})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},s().createElement(U.P,{allDepartmentsList:(oe?ze:Ye)||[]}))):"--"}}:Ie==="joinTime"?{title:ke,dataIndex:"user_info_".concat(Ie),key:"user_info_".concat(Ie),width:150,render:xe=>s().createElement(I.Z,{title:xe?(0,p.p6)(xe,"yyyy-MM-dd hh:mm:ss"):"--"},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},xe?(0,p.p6)(xe,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:ke,dataIndex:"user_info_".concat(Ie),key:"user_info_".concat(Ie),width:150,render:xe=>s().createElement(I.Z,{title:xe},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},xe||"--"))}}),de=R.columns.map(ue=>ue.dataIndex==="creator_user_name"?(0,f.Z)((0,f.Z)({},ue),{},{render:(Ce,Re)=>s().createElement(I.Z,{title:s().createElement(L.Z,{userId:Re.creator_sync_user_id,userName:Ce})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},s().createElement(L.Z,{userId:Re.creator_sync_user_id,userName:Ce})))}):ue),Ke=R.headExtra.concat(le).concat(H?[{title:R.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:ue=>ue||"--"}]:[]).concat(de);he(Ke)},[R.headExtra,R.columns,R.nameColumn,Ee,R.userInfo.appType]);var re=(0,c.useMemo)(()=>P(R.dataSource),[R.dataSource]);return s().createElement(g.Z,{spinning:ae},s().createElement(u.f,(0,n.Z)({scroll:{y:R.y||"100%",x:R.x||"max-content"}},R,{columns:ie,dataSource:re})))});Z.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var W=(0,T.$j)(B,null,null,{forwardRef:!0})((0,v.Z)("translation",{withRef:!0})(Z))},17215:function(pe,F,e){"use strict";e.d(F,{h:function(){return n}});var O=e(37055),g=e(10237);function n(){var f=O.ZP.getUserInfoColumnConfig();return g.WY.get({url:f})}},60667:function(pe,F,e){"use strict";e.d(F,{Z:function(){return M}});var O=e(33565),g=e(12924),n=e.n(g),f=e(28216);function A(a){var t=a.type,c=a.openid,s=a.from,v=(0,g.useRef)(null);return(0,g.useLayoutEffect)(()=>{s==="vue"?window.parent.WWOpenData.bind(v.current):WWOpenData.bind(v.current)}),n().createElement("ww-open-data",{ref:v,type:t,openid:c})}var I=a=>{var t=a.wxWorkApiFlag,c=a.appType,s=a.from,v=(0,g.useState)(!1),T=(0,O.Z)(v,2),h=T[0],E=T[1];(0,g.useEffect)(()=>{var C=localStorage.getItem("qyWechatBook");(c!=="wx_app"||t||C==="false"||s==="vue"||s==="taro")&&E(!0)},[t,c,s]);var D=(0,g.useCallback)(()=>{var C=a.type,y=a.value,u=a.name,p=u===void 0?"":u;switch(console.warn(a,"props"),C){case"wx_sync":{var L=a.dataType;return y?n().createElement(A,{from:s,type:L,openid:y}):p}default:return p}},[a]),P=()=>{var C=a.name,y=a.dataType,u=localStorage.getItem("qyWechatBook");if(y===""||u==="false")return C;if(s==="vue"||s==="taro")return D();switch(a.appType){case"wx_app":return D();default:return C}};return h?P():a.name};I.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var x=a=>({appType:a.user.appType,wxWorkApiFlag:a.user.wxWorkApiFlag}),M=(0,f.$j)(x)(I)},6934:function(pe,F,e){"use strict";e.d(F,{P:function(){return D}});var O=e(12924),g=e.n(O),n=e(18446),f=e.n(n),A=e(57361),I=e(33565),x=e(9754),M=e.n(x),a=e(28216);function t(P){var C=P.openid,y=(0,O.useRef)(null);return(0,O.useLayoutEffect)(()=>{var u=window.parent.WWOpenData;u&&u.bind(y.current)}),g().createElement("ww-open-data",{ref:y,type:"departmentName",openid:C})}var c=e(14441),s=P=>{var C=P.separator,y=P.departmentIds,u=P.departmentNames,p=P.appType,L=(0,O.useState)([]),U=(0,I.Z)(L,2),B=U[0],Z=U[1];(0,O.useEffect)(()=>{p==="wx_app"&&W()},[y]);function W(){return R.apply(this,arguments)}function R(){return R=(0,A.Z)(M().mark(function H(){var Q,J,ee;return M().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,c.t)(y);case 2:Q=ne.sent,J=Q.code,ee=Q.data,J==="200000"&&ee&&Z(ee);case 5:case"end":return ne.stop()}},H)})),R.apply(this,arguments)}function V(){return B.length?g().createElement(g().Fragment,null,B.map((H,Q)=>H.hasName?g().createElement(g().Fragment,null,H.name,Q===u.length-1?"":C):g().createElement(g().Fragment,null,g().createElement(t,{openid:H.thirdId}),Q===u.length-1?"":C," "))):null}function G(){var H="";return u.forEach((Q,J)=>{H+=Q+(J===u.length-1?"":C)}),g().createElement(g().Fragment,null,H)}switch(p){case"wx_app":return V();default:return G()}};s.defaultProps={departmentIds:[],departmentNames:[],separator:","};var v=P=>({appType:P.user.appType}),T=g().memo((0,a.$j)(v)(s)),h=P=>{var C=P.allDepartmentsList,y=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},L=p.department_ids.split("/"),U=p.department_names.split("/");return g().createElement(T,{departmentNames:U,departmentIds:L,separator:"/"})};return C.length?g().createElement(g().Fragment,null,C.map((u,p)=>g().createElement("span",{key:u.department_ids},y(u),p===C.length-1?"":"\uFF0C"))):null};h.defaultProps={allDepartmentsList:[]};function E(P,C){return f()(P,C)}var D=g().memo(h,E)},7584:function(pe,F,e){"use strict";e.d(F,{t:function(){return T}});var O=e(47673),g=e(4107),n=e(62029),f=e(33565),A=e(81211),I=e(12924),x=e.n(I),M=e(80991),a=e(47444),t=e(60006),c=e.n(t),s=e(43859);function v(h){var E=h.isPreview,D=h.char,P=h.displayType,C=h.width,y=h.LimitLength,u=h.showCount,p=h.value,L=h.valueSlice,U=h.onChange,B=h.disabledInput,Z=(0,A.Z)(h,["isPreview","char","displayType","width","LimitLength","showCount","value","valueSlice","onChange","disabledInput"]),W=(0,I.useState)(()=>L?(0,a.B)({value:p,LimitLength:y,char:D}):h.defaultValue||""),R=(0,f.Z)(W,2),V=R[0],G=R[1],H=(0,I.useRef)({evtName:""});(0,I.useEffect)(()=>{G(L?(0,a.B)({value:p,LimitLength:y,char:D,disabledInput:B}):p)},[p,y,D,L,B]),(0,I.useEffect)(()=>{if(H.current.evtName==="input"){P==="Custom"?h.onFieldChange(V):U(V),h.onInput&&h.onInput(V),H.current.evtName="";return}L&&(P==="Custom"?h.onFieldChange(V):U(V),h.onInput&&h.onInput(V))},[V,P,L]);var Q=z=>{H.current.evtName="input";var ie=z.target,he=ie.value,me=(0,a.B)({value:he,LimitLength:y,char:D,disabledInput:B});G(me)},J=(0,I.useMemo)(()=>(0,a.S)({inputValue:V,LimitLength:y,char:D,showCount:u,disabledInput:B}),[V,y,D,u,B]),ee=J.dataCount,oe=J.usedLength,ne=(0,I.useRef)(null);return(0,I.useEffect)(()=>{ne&&ne.current&&(h.autoFocus==="true"?ne.current.focus():ne.current.blur())},[h.autoFocus]),x().createElement("div",{className:"".concat(c()["input-wrap"]," ").concat(oe&&y&&oe>y?c()["input-wrap-error"]:""),"data-count":ee,style:{width:C||void 0}},P==="Custom"?x().createElement(g.Z,(0,n.Z)({},Z,{value:V,disabled:E,onInput:Q})):x().createElement(g.Z,(0,n.Z)({},Z,{value:V,ref:ne,disabled:E,onInput:Q})))}v.defaultProps={valueSlice:!1,disabledInput:!0,onChange:()=>{},onInput:()=>{},char:!1,LimitLength:void 0,showCount:!1,displayType:"",width:void 0};var T=v;F.Z=(0,s.Z)((0,M.$j)(v))},47444:function(pe,F,e){"use strict";e.d(F,{B:function(){return g},S:function(){return n}});var O=e(2396);function g(f){var A=f.value,I=f.LimitLength,x=f.char,M=f.disabledInput,a=A&&typeof A=="string"?A:"",t=a;return M&&x&&I&&(0,O.$s)(t)>I&&(t=a.substring(0,(0,O.rw)(a,I))),t}function n(f){var A=f.inputValue,I=f.LimitLength,x=f.char,M=f.showCount,a="",t=A&&typeof A=="string"?A:"",c=x?Math.ceil((0,O.$s)(t)):t.length;return M&&I&&(a="".concat(c,"/").concat(I)),{dataCount:a,usedLength:c}}},49964:function(pe,F,e){"use strict";var O=e(62029),g=e(33565),n=e(14965),f=e(11448),A=e(12924),I=e.n(A),x=e(91768),M=e(78138),a=e.n(M),t=e(71022),c=f.Z.RangePicker,s=v=>{var T=(0,A.useState)([null,null]),h=(0,g.Z)(T,2),E=h[0],D=h[1],P=(0,A.useState)([null,null]),C=(0,g.Z)(P,2),y=C[0],u=C[1],p=(0,A.useState)([null,null]),L=(0,g.Z)(p,2),U=L[0],B=L[1],Z=(0,A.useState)([null,null]),W=(0,g.Z)(Z,2),R=W[0],V=W[1],G=(0,A.useState)([null,null]),H=(0,g.Z)(G,2),Q=H[0],J=H[1];(0,A.useEffect)(()=>{var we=(0,t.Q)(7),re=we.timestamp,le=(0,t.Q)(30),de=le.timestamp;D([a()(re[0]),a()(re[1])]),u([a()(de[0]),a()(de[1])]),B([a()().subtract(3,"months").startOf("day"),a()().subtract("day",1).endOf("day")]),V([a()().startOf("month").startOf("day"),a()().subtract("day",1).endOf("day")]),J([a()().startOf("year").startOf("day"),a()().subtract("day",1).endOf("day")])},[]);var ee=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[null,null],le=[];if(!re)le=[];else{var de=re[0].startOf("day").valueOf(),Ke=re[1].endOf("day").valueOf();le=[de,Ke]}window.sensors&&window.sensors.track("date_filter_click"),v.onChange(le)},oe=v.value,ne=v.allowClear,z=v.quickSelect,ie=v.t,he=v.disabledDate,me=z.week,ye=z.month,Ee=z.quarter,$=z.currentMonth,Le=z.currentYear,Pe={};me&&(Pe[["".concat(ie("component.recentWeek"))]]=E),ye&&(Pe[["".concat(ie("component.recentMonth"))]]=y),Ee&&(Pe[["".concat(ie("component.lastThreeMonth"))]]=U),$&&(Pe[["".concat(ie("component.currentMonth"))]]=R),Le&&(Pe[["".concat(ie("component.currentYear"))]]=Q);var ae=[oe[0]?a()(Number(oe[0])):null,oe[1]?a()(Number(oe[1])):null];return I().createElement(c,(0,O.Z)({},v,{value:ae,format:"YYYY-MM-DD",onChange:ee,allowClear:ne,disabledDate:he,ranges:Pe}))};s.defaultProps={allowClear:!1,quickSelect:{week:!1,month:!1,quarter:!1,currentMonth:!1,currentYear:!1},onchange:()=>{},value:[],disabledDate:v=>v&&v>a()().subtract("day",1).endOf("day").valueOf()},F.Z=(0,x.Z)()(s)},16313:function(pe,F,e){"use strict";var O=e(22385),g=e(31097),n=e(62029),f=e(33565),A=e(12924),I=e.n(A),x=e(91768),M=e(68628),a=e(28216),t=e(87117),c=e.n(t),s=e(37055),v=e(10237),T=E=>{var D=(0,A.useState)({}),P=(0,f.Z)(D,2),C=P[0],y=P[1];(0,A.useEffect)(()=>{u()},[]);var u=()=>{var p={courseReport:101,examReport:102,trainReport:103,platformReport:104};!E.type||!p[E.type]||v.WY.get({url:s.ZP.GuidePage.userGuideCheck(),params:{userId:E.userInfo.id,type:p[E.type]}}).then(L=>{var U=L.data.data,B=U.guide_view,Z=U.is_new_enterprise,W=B&&!Z;y(W?{visible:!0}:{})})};return E.title?I().createElement("div",{className:c()["dashboard-tooltip"]},I().createElement(g.Z,(0,n.Z)({overlayClassName:c()["dashboard-view-tooltip"]},E,C),I().createElement(M.Z,null))):null};T.defaultProps={title:"",type:""};var h=E=>({userInfo:E.user});F.Z=(0,a.$j)(h)((0,x.Z)()(T))},17149:function(pe,F,e){"use strict";var O=e(22385),g=e(31097),n=e(12924),f=e.n(n),A=e(78138),I=e.n(A),x=e(91768),M=e(68628),a=e(40627),t=e.n(a),c=s=>{var v=s.t,T=s.updateTime,h=T===void 0?I()().format("YYYY-MM-DD 06:00"):T;return f().createElement(g.Z,{placement:"left",title:f().createElement("div",null,v("dashboard.dataUpdateLogic"),h),overlayStyle:{maxWidth:"360px",fontSize:"12px"}},f().createElement("div",{className:t()["header-extra"]},f().createElement(M.Z,null),f().createElement("div",{className:t()["header-extra-time"]},"".concat(v("dashboard.updateTime")," : ").concat(h))))};F.Z=(0,x.Z)()(c)},3583:function(pe,F,e){"use strict";var O=e(49111),g=e(19650),n=e(57663),f=e(71577),A=e(47673),I=e(4107),x=e(43358),M=e(34041),a=e(22385),t=e(31097),c=e(57361),s=e(88986),v=e(33565),T=e(9754),h=e.n(T),E=e(12924),D=e.n(E),P=e(91768),C=e(58491),y=e(57254),u=e(28216),p=e(7145),L=e.n(p),U=e(17149),B=e(50175),Z=e.n(B),W=e(49964),R=e(16313),V=e(11449),G=e(64262),H=e(37055),Q=e(55285),J=e(36202),ee=e(4408),oe=(0,E.forwardRef)((z,ie)=>{var he=z.showUserInfo,me=he===void 0?!1:he,ye=z.getDataApi,Ee=ye===void 0?()=>{}:ye,$=z.onParamsChange,Le=$===void 0?()=>{}:$,Pe=z.onTableChange,ae=Pe===void 0?()=>{}:Pe,we=z.defaultParams,re=we===void 0?{}:we,le=z.params,de=le===void 0?{}:le,Ke=z.formList,ue=Ke===void 0?[]:Ke,Ce=z.columns,Re=Ce===void 0?[]:Ce,Ie=z.rowSelection,ke=z.toolBarRender,xe=z.headerTitle,Ze=z.tableUUID,Ve=z.title,Ye=z.pageContainerParams,ze=Ye===void 0?{}:Ye,st=z.showExtraUpdateTime,He=st===void 0?!1:st,Ge=z.extraActionComponent,et=z.sticky,tt=et===void 0?!1:et,at=z.sorter,Je=at===void 0?{sort:{},sequence:{ascend:"ASC",descend:"DESC"}}:at,rt=z.subTitle,Xe=rt===void 0?{tooltip:"",type:""}:rt,Qe=z.t,ot=z.onlyShowCurrentDept,it=me?Q.Z:J.f,lt=(0,E.useRef)(null),te=(0,E.useState)([]),ve=(0,v.Z)(te,2),Se=ve[0],je=ve[1],Fe=(0,E.useState)(!1),Te=(0,v.Z)(Fe,2),ct=Te[0],se=Te[1],l=(0,E.useState)((0,s.Z)((0,s.Z)({},H.XE.INITIAL_PAGINATION),{},{total:0,current:de.page_num,pageSize:de.page_size})),i=(0,v.Z)(l,2),o=i[0],r=i[1],d=(0,E.useState)(!1),m=(0,v.Z)(d,2),_=m[0],w=m[1],S=(0,E.useState)(!1),K=(0,v.Z)(S,2),b=K[0],j=K[1];(0,E.useEffect)(()=>{N(de)},[]),(0,E.useImperativeHandle)(ie,()=>({load:Y=>{N(Y)}}));var k=()=>{je(Y=>L()(Y,{$set:[]})),r(Y=>L()(Y,{total:{$set:0}}))},N=function(){var Y=(0,c.Z)(h().mark(function ge(Me){var We,De,Ne,Oe,Ue;return h().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return se(!0),Ae.prev=1,k(),We=(0,s.Z)((0,s.Z)({},Me),{},{data_sequence:Je.sequence[Me.data_sequence]||"",data_sort:Je.sort[Me.data_sort]||""}),Ae.next=6,Ee(We);case 6:if(De=Ae.sent,Ne=De.data,Oe=De.code,["200000",2e5].includes(Oe)){Ae.next=11;break}return k(),Ae.abrupt("return");case 11:Ue=Ne.total||0,Le({queryParams:Me}),r(nt=>L()(nt,{total:{$set:Number(Ue)}})),je(nt=>L()(nt,{$set:Ne.list||[]})),Ae.next=20;break;case 17:Ae.prev=17,Ae.t0=Ae.catch(1),k();case 20:return Ae.prev=20,se(!1),Ae.finish(20);case 23:case"end":return Ae.stop()}},ge,null,[[1,17,20,23]])}));return function(Me){return Y.apply(this,arguments)}}(),q=()=>{Le({queryParams:re}),j(!b),N(re)},ce=(Y,ge,Me)=>{var We=Y.current,De=Y.pageSize,Ne=Me.field,Oe=Me.order;ae({page_num:We,page_size:De,data_sequence:Oe,data_sort:Oe?Ne:""})};(0,E.useEffect)(()=>{r(Y=>L()(Y,{current:{$set:de.page_num},pageSize:{$set:de.page_size}}))},[de.page_num,de.page_size]);var fe=(Y,ge)=>{ge[0]&&ge[1]&&Le({key:Y,value:ge})},_e=(Y,ge)=>{Le({key:Y,value:ge})},X=()=>ue.map(Y=>{if(Y.type==="OrgTree")return D().createElement(G.Z,{width:240,parentId:"",key:Y.key,checkable:!1,asyncLoad:!0,treeSelect:!0,placeholder:Y.placeholder,defaultValue:de[Y.key],refresh:b,handleTreeSelectChange:ge=>_e(Y.key,ge)});if(Y.type==="DateRange")return D().createElement(t.Z,{title:Y.tooltip,placement:"top",key:Y.key},D().createElement("div",null,D().createElement(W.Z,{value:de[Y.key]||Y.defaultValue||[],onChange:ge=>fe(Y.key,ge),quickSelect:{week:!0,month:!0,quarter:!0,currentMonth:!0,currentYear:!0}})));if(Y.type==="select")return D().createElement(M.Z,{key:Y.key,style:{width:240},options:Y.options,placeholder:Y.placeholder,value:de[Y.key]||null,allowClear:!0,onChange:ge=>Le({key:Y.key,value:ge})});if(Y.type==="input")return D().createElement(I.Z,{key:Y.key,style:{width:240},placeholder:Y.placeholder,value:de[Y.key],allowClear:!0,onChange:ge=>Le({key:Y.key,value:ge.target.value.trim()})})}),be=()=>{var Y=X(),ge=[];Y.length>3?Y.forEach((We,De)=>{De%3==0&&De<Y.length&&ge.push(Y.slice(De,De+3))}):ge=[Y];var Me=We=>{if(Y.length<=3)return null;var De=()=>We===ge.length-1&&_?D().createElement(f.Z,{type:"link",onClick:()=>w(!_)},Qe("common.collapse"),D().createElement(C.Z,null)):null,Ne=()=>_?null:D().createElement(f.Z,{type:"link",onClick:()=>w(!_)},Qe("common.expand")," ",D().createElement(y.Z,null));return D().createElement(D().Fragment,null,De(),Ne())};return _?ge.map((We,De)=>D().createElement(g.Z,{size:12,key:De,style:{marginTop:De>0?24:0}},We.map(Ne=>Ne),Me(De))):D().createElement(g.Z,{size:12},ge[0].map(We=>We),Me())},Be=()=>ze.content?ze.content:D().createElement("div",{className:Z()["query-form"]},D().createElement("div",{className:Z()["query-form-left"]}," ",be()),D().createElement("div",{className:Z()["query-form-right"]},D().createElement(g.Z,{size:15},D().createElement("span",{className:"cl-pointer",onClick:q},Qe("common.reset")),D().createElement(f.Z,{type:"default",onClick:()=>N((0,s.Z)((0,s.Z)({},de),{},{page_num:1}))},Qe("dashboard.query")),Ge)));return D().createElement(V.Z,{pageContainerParams:(0,s.Z)({header:{title:Ve,className:Z()["layout-page-header"],subTitle:Xe.tooltip?D().createElement(R.Z,{title:D().createElement("div",null,Xe.tooltip),placement:"right",type:Xe.type}):null},extra:He&&D().createElement(U.Z,null),content:Be()},ze)},D().createElement(ee.Z,{title:Ve}),D().createElement("div",{className:Z()["query-table"]},D().createElement(it,{ref:lt,rowSelection:Ie,dataSource:Se,columns:Re,sticky:tt,rowKey:Y=>Y.id,scroll:{x:"max-content",y:"100%"},pagination:o,loading:ct,toolBarRender:ke,headerTitle:xe,tableUUID:Ze,withLoginPhoneNumber:!1,withCustomField:!1,withLoginEmail:!1,withJoinTime:!1,onlyShowCurrentDept:ot,onChange:ce})))}),ne=z=>{var ie=z.user,he=z.sideBar,me=z.advancedSetting;return{userId:ie.id||window.localStorage.getItem("uid"),isAdmin:ie.isAdmin,modules:ie.modules,collapsed:he.collapsed,themeColor:me.themeColor}};F.Z=(0,u.$j)(ne,null,null,{forwardRef:!0})((0,P.Z)("translation",{withRef:!0})(oe))},71022:function(pe,F,e){"use strict";e.d(F,{Q:function(){return n}});var O=e(78138),g=e.n(O);function n(f){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",I=g()().subtract("day",f).startOf("day").valueOf(),x=g()().subtract("day",1).endOf("day").valueOf(),M=g()(I).format(A),a=g()(x).format(A);return{timestamp:[I,x],titmeStr:[M,a]}}},9925:function(pe,F,e){"use strict";var O=e(57361),g=e(33565),n=e(9754),f=e.n(n),A=e(12924),I=e.n(A),x=e(28216),M=e(14441),a=c=>{var s=c.userId,v=c.userName,T=c.appType,h=(0,A.useRef)(null),E=(0,A.useState)(""),D=(0,g.Z)(E,2),P=D[0],C=D[1],y=(0,A.useState)(""),u=(0,g.Z)(y,2),p=u[0],L=u[1],U=(0,A.useState)(!0),B=(0,g.Z)(U,2),Z=B[0],W=B[1];(0,A.useEffect)(()=>{T==="wx_app"&&(s?R():(console.warn("userId is required"),L(v)))},[s]);function R(){return V.apply(this,arguments)}function V(){return V=(0,O.Z)(f().mark(function H(){var Q,J,ee,oe,ne,z,ie,he,me,ye;return f().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,(0,M.v)(s);case 3:Q=$.sent,J=Q.code,ee=Q.data,J==="200000"&&ee&&(oe=ee.hasName,ne=oe===void 0?!0:oe,z=ee.sourceType,ie=ee.name,he=ie===void 0?"":ie,me=ee.thirdId,W(ne),ne?L(he):z==="wx_sync"&&(C(me),ye=window.parent.WWOpenData,ye&&ye.bind(h.current))),$.next=12;break;case 8:$.prev=8,$.t0=$.catch(0),console.error($.t0,"error"),L(v);case 12:case"end":return $.stop()}},H,null,[[0,8]])})),V.apply(this,arguments)}function G(){return Z?p:I().createElement("ww-open-data",{ref:h,type:"userName",openid:P})}switch(T){case"wx_app":return G();default:return v}};a.defaultProps={userName:""};var t=c=>({appType:c.user.appType});F.Z=I().memo((0,x.$j)(t)(a))},64262:function(pe,F,e){"use strict";var O=e(88986),g=e(20228),n=e(11382),f=e(22385),A=e(31097),I=e(32157),x=e(75869),M=e(62999),a=e(85733),t=e(12924),c=e.n(t),s=e(91768),v=e(60667),T=e(38642),h=e(10237),E=e(37055),D=a.Z.TreeNode;class P extends c().Component{constructor(y){super(y);this.getDeptTree=u=>{var p=this.props,L=p.filterAuth,U=p.handleLoadedCbk,B=this.state.whiteList,Z=E.ZP.OrgTree.getDeptTree(),W={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:u,filter_auth:L,query_selected_user_id:this.props.querySelectedUserId,sync_organization:B.organizationFlag?"lenovo_sync":this.props.organizationType||""};h.WY.get({url:Z,params:W}).then(R=>{var V=this.sumCheckedKeys(R.data.children||[],R.data.selected==="true"?[R.data.id]:[]);U&&U({department_name:R.data.department_name,id:R.data.id,source_type:R.data.source_type}),this.setState({treeData:[{department_name:R.data.department_name,id:R.data.id,source_type:R.data.source_type,children:R.data.children,user_count:R.data.user_count,enable_edit:R.enable_edit,enable_delete:R.enable_delete}],checkedKeys:V}),this.props.handleCheck&&this.props.handleCheck(V)})},this.sumCheckedKeys=(u,p)=>(u instanceof Array&&u.forEach(L=>{L.selected==="true"?p.push(L.id):L.children&&this.sumCheckedKeys(L.children,p)}),p),this.loadChildren=u=>new Promise(p=>{if(u.props.children){p();return}var L=this.props.filterAuth,U=this.state.whiteList,B=E.ZP.OrgTree.getDeptTree(),Z={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:u.props.dataRef.id,filter_auth:L,query_selected_user_id:this.props.querySelectedUserId,sync_organization:U.organizationFlag?"lenovo_sync":this.props.organizationType||""};h.WY.get({url:B,params:Z}).then(W=>{if(W.data.children){var R=W.data.children.map(G=>({department_name:G.department_name,id:G.id,user_count:G.user_count,selected:G.selected,has_children:G.has_children,enable_edit:G.enable_edit,enable_delete:G.enable_delete,source_type:G.source_type}));u.props.dataRef.children=R;var V=this.sumCheckedKeys(R,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:V}),this.props.handleCheck&&this.props.handleCheck(V)}else u.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});p()})}),this.handleCheck=u=>{this.setState({checkedKeys:u}),this.props.handleCheck&&this.props.handleCheck(u)},this.treeSelectChange=(u,p)=>{this.setState({treeSelectValue:u});var L=this.props,U=L.handleTreeSelectChange,B=L.onTreeSelectChange;U?U(u||"",p):B&&B(u||"",p)},this.renderTreeNodes=u=>u.map(p=>p.children?c().createElement(x.Z.TreeNode,{title:this.renderTitle(p),key:p.id,value:p.id,isLeaf:p.has_children!=="true",switcherIcon:p.children.length===0?c().createElement("span",null):null,dataRef:p,selected:p.selected==="true"},this.renderTreeNodes(p.children)):c().createElement(x.Z.TreeNode,{title:this.renderTitle(p),dataRef:p,value:p.id,key:p.id,isLeaf:p.has_children!=="true",switcherIcon:this.props.asyncLoad?null:c().createElement("span",null),selected:p.selected==="true"})),this.renderSelectTreeNodes=u=>{var p=this.props.disabledFirstNode,L=this.state.treeData.length?this.state.treeData[0].id:"";return u.map(U=>U.children?c().createElement(D,{title:this.renderTitle(U),key:U.id,value:U.id,isLeaf:!1,switcherIcon:U.children.length===0?c().createElement("span",null):null,dataRef:U,disabled:p?U.id===L:!1,selected:U.selected==="true",departmentName:U.department_name},this.renderSelectTreeNodes(U.children)):c().createElement(D,{title:this.renderTitle(U),dataRef:U,value:U.id,key:U.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:c().createElement("span",null),selected:U.selected==="true",departmentName:U.department_name}))},this.dealText=u=>{var p=this.props.showUserCount;return c().createElement(t.Fragment,null,c().createElement(v.Z,{type:u.source_type,value:u.id,node:u,name:u.department_name,dataType:"departmentName"}),p&&c().createElement("span",null,"(",u.user_count,")"))},this.renderTitle=u=>{var p=this.props,L=p.showTitleToolTip,U=p.DeptTreeNodeTitle,B=p.titleOperateProps,Z=B===void 0?{}:B,W=this.dealText(u);return U?c().createElement(U,{title:W,titleOperateProps:Z,deptId:u.id||"1",deptName:u.department_name,enableEdit:u.enable_edit==="true",enableDelete:u.enable_delete==="true"}):L?c().createElement(A.Z,{title:W},c().createElement("span",null,W)):W},this.renderTree=()=>{var u={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(u.loadData=this.loadChildren),this.state.treeData.length>0?c().createElement(x.Z,u,this.renderTreeNodes(this.state.treeData)):c().createElement("div",{style:{textAlign:"center"}},c().createElement(n.Z,null))},this.renderTreeSelect=()=>{var u=this.props,p=u.t,L=u.width,U=L===void 0?180:L,B=u.placeholder,Z=u.open,W=(0,O.Z)((0,O.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:U},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:U},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:B||p("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:Z});return this.props.asyncLoad&&(W.loadData=this.loadChildren),this.state.treeData.length>=0?c().createElement(a.Z,W,this.renderSelectTreeNodes(this.state.treeData)):c().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,T.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(y){y.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return c().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}P.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},F.Z=(0,s.Z)("",{withRef:!0})(P)},76466:function(pe,F,e){"use strict";e.d(F,{Z:function(){return ct}});var O=e(20228),g=e(11382),n=e(57663),f=e(71577),A=e(62029),I=e(57361),x=e(9754),M=e.n(x),a=e(12924),t=e.n(a),c=e(91512),s=e(68654),v=e(91768),T=e(4412),h=e.n(T);class E extends t().Component{render(){var l=this.props.t;return t().createElement("div",{className:"net-preview"},t().createElement("div",{className:"net-preview-center"},t().createElement("img",{src:h(),alt:"picture"}),t().createElement("h2",null,l("localStorage.tip")),t().createElement("p",null,l("localStorage.banPreview"))))}}var D=(0,v.Z)()(E),P=e(88986),C=e(34792),y=e(48086),u=e(28216),p=e(21594),L=e(41225),U=e(10237),B=(se,l)=>(0,P.Z)({id:se||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),Z=B;class W extends a.Component{constructor(){super(...arguments);this.setupPlayer=l=>{var i=this.props,o=i.onVideoReady,r=o===void 0?()=>{}:o,d=i.playerConfig,m=i.contentType;l&&l==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,P.Z)((0,P.Z)({},d),{},{contentType:m==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:d.source,autoplay:d.autoplay,width:d.width,id:d.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:_=>{_.on("sourceloaded",w=>{var S=w.paramData,K=S.desc,b=S.definition;_.getComponent("VideoQuality")&&_.getComponent("VideoQuality").setCurrentQuality(K,b,d.id)}),_.on("ready",()=>{r()}),this.playerInstance=_,this.setPlayerConfig()}}))}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(l){this.player&&this.player.seek(l)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(l){this.player.setSpeed(l)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var l=this.props,i=l.onPlay,o=i===void 0?()=>{}:i,r=l.onTimeUpDate,d=r===void 0?()=>{}:r,m=l.onEnd,_=m===void 0?()=>{}:m,w=l.onPause,S=w===void 0?()=>{}:w,K=l.onError,b=K===void 0?()=>{}:K,j=this.playerInstance;j.on("play",()=>{o()}),j.on("pause",()=>{S()}),j.on("timeupdate",k=>{d(k)}),j.on("ended",()=>{_()}),j.on("error",(0,I.Z)(M().mark(function k(){return M().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:b();case 1:case"end":return q.stop()}},k)})))}render(){var l=this.props.playerConfig;return t().createElement("div",{className:"common-video-player-container"},t().createElement("div",{id:l.id}))}}W.playerInstance=null,W.defaultProps={playerConfig:Z(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var R=W,V=(se,l)=>(0,P.Z)({id:se||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),G=V;class H extends a.Component{constructor(){super(...arguments);this.setupPlayer=l=>{l&&l==="resetPlayer"&&this.player.dispose();var i=this.props,o=i.playerConfig,r=i.onVideoReady,d=r===void 0?()=>{}:r;this.player=new Aliplayer(o,m=>{m.on("sourceloaded",_=>{var w=_.paramData,S=w.desc,K=w.definition;m.getComponent("VideoQuality")&&m.getComponent("VideoQuality").setCurrentQuality(S,K,o.id)})}),this.player.on("ready",()=>{d()})},this.setPlayerConfig=()=>{var l=this.props,i=l.onPlay,o=i===void 0?()=>{}:i,r=l.onTimeUpDate,d=r===void 0?()=>{}:r,m=l.onEnd,_=m===void 0?()=>{}:m,w=l.onPause,S=w===void 0?()=>{}:w,K=l.onError,b=K===void 0?()=>{}:K;this.player.on("play",()=>{o()}),this.player.on("pause",()=>{S()}),this.player.on("timeupdate",j=>{d(j)}),this.player.on("ended",()=>{_()}),this.player.on("error",(0,I.Z)(M().mark(function j(){return M().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:b();case 1:case"end":return N.stop()}},j)})))},this.getPlayerContent=l=>{this.playerContainer=l}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(l){this.player.seek(l)}exitFull(){var l=this.player.fullscreenService;l&&l.isFullScreen&&l.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var l=this.props.playerConfig;return t().createElement("div",{className:"common-video-player-container"},t().createElement("div",{id:l.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}H.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:G()};var Q=H;class J{constructor(l){this.hasCreated=!1,this.definition="",this.getQuality=l}createEl(l,i){var o=i._options&&i._options.language,r=i._el.id;this.isEn=o&&o==="en-us";var d=(0,p.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),m=(0,p.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),_=document.querySelector("#".concat(r," .prism-controlbar"));_.appendChild(d),l.appendChild(m)}setCurrentQuality(l,i,o){var r=document.querySelector("#".concat(o," .current-quality"));r.innerText=l,r.dataset.def=i,this.definition=i;var d=document.querySelector("#".concat(o," .quality-list")),m=d.querySelector(".current");m&&(m.className="");var _=d.querySelector('li[data-def="'.concat(i,'"]'));_&&(_.className="current")}created(l){this._urls=l._urls;var i=l._el.id,o=document.querySelector("#".concat(i," .current-quality")),r=document.querySelector("#".concat(i," .quality-list")),d=document.querySelector("#".concat(i," .quality-modal")),m=this._urls.map(S=>'<li data-def="'.concat(S.definition,'">').concat(S.desc,"</li>"));if(r.innerHTML=m.join(""),this.hasCreated==!1&&this.definition){var _=r.querySelector('li[data-def="'.concat(this.definition,'"]'));_.className="current"}this.hasCreated=!0;var w=null;o.onclick=()=>{r.style.display="block"},o.onmouseleave=()=>{w=setTimeout(()=>{r.style.display="none"},100)},r.onmouseenter=()=>{clearTimeout(w)},r.onmouseleave=()=>{r.style.display="none"},r.onclick=S=>{var K=S.target,b=K.dataset.def,j=K.innerText;if(b&&K.className!=="current"){var k=this._urls.find(N=>N.definition===b);l.loadByUrl(k.Url,l.getCurrentTime(),!0,!0),this.setCurrentQuality(k.desc,k.definition,i),d.style.display="block",d.querySelector("span.current-quality-tag").innerText=k.desc}this.getQuality(b,j)}}ready(l){var i=l._el.id,o=document.querySelector("#".concat(i," .quality-modal"));o.style.display="none";var r=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));r&&r.classList.add("player-hidden")}}class ee{createEl(l,i){var o=i._el.id,r=(0,p.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),d=document.querySelector("#".concat(o," .prism-controlbar"));d.appendChild(r)}ready(l){var i=l._el.id,o=document.querySelector("#".concat(i," .current-rate")),r=document.querySelector("#".concat(i," .rate-list")),d=null,m=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));m&&m.classList.add("player-hidden"),o.onclick=()=>{r.style.display="block"},o.onmouseleave=()=>{d=setTimeout(()=>{r.style.display="none"},100)},r.onmouseenter=()=>{clearTimeout(d)},r.onmouseleave=()=>{r.style.display="none"},r.onclick=_=>{var w=_.target,S=w.dataset.rate;if(S){if(l.setSpeed(S),w.className!=="current"){var K=r.querySelector(".current");K&&(K.className=""),w.className="current"}r.style.display="none",o.innerText="".concat(S,"x")}}}}var oe=e(69164),ne=e(37055);function z(se){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=ne.ZP.local.getLocalUrl(se);return U.WY.get({url:i,params:l})}var ie=e(91648),he=e(18329),me=e(38642),ye=e(9849),Ee=e(99891);class $ extends a.Component{constructor(l){super();this.WaterMarkText=l,this.html=document.getElementsByClassName("common-watermark")}createEl(l){setTimeout(()=>{l.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Le=$,Pe=se=>({userInfo:se.user});class ae extends a.Component{constructor(l){var i;super(l);i=this,this.onVideoReady=o=>{var r=this.props,d=r.resourceInfo,m=r.mode,_=r.autoPlay,w=r.t,S=d.storageType;o==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(o),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(m==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),m==="preview"&&_&&this.play.play()):S==="ALIBABA_PRIVATE"||S==="LOCAL"?this.updateSource("resetPlayer"):(U.WY.logger({keyword:"video",moduleName:"video-play",msg:w("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var o=this.props,r=o.draggable,d=o.mode,m=o.t,_=o.studyInfo,w=o.needCurrentTime,S=o.onCurrentTime,K=S===void 0?()=>{}:S,b=_.studyType,j=_.studyId,k=_.resourceId,N=this.state,q=N.showPreventHang,ce=N.dragSwitch,fe=N.showRandomAlert,_e=N.randomAlertDialogVisible,X=this.playingVideo,be=X.oneTime,Be=X.popupWindowCount,Y=X.maxPlayTime,ge=X.progress,Me=X.auditionLength,We=X.auditionType,De=X.duration,Ne=X.recentStart,Oe=this.play.getCurrentTime(),Ue=(q==="OPEN"||fe==="OPEN")&&Be>0;if(w&&K(Oe),Me>0&&We===2&&Oe>Me&&(this.play.seek(Me),y.default.warning(m("component.haveALookOverTip")),this.play.pause()),d==="learn"&&Ue){var qe=De-be*Be;if(Be>0&&Oe>qe)if(this.play.pause(),fe==="OPEN"){if(!_e){var Ae=(0,ie.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Ae},()=>{(0,L.qp)({popupId:Ae,planId:j,resourceId:k,type:"popup_start"})}),this.play.exitFull()}}else q==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((r||ge===100)&&(Oe>0&&(this.playingVideo.recentStart=Oe),!((b==="enterprise"||b==="studyProject")&&ce==="OPEN")))return!1;Oe>Y?Oe-Ne>2?(this.playingVideo.recentStart=Y,this.play.seek(Y),y.default.warning(m("component.preventFastWatchTip"))):(this.playingVideo.recentStart=Oe,this.playingVideo.maxPlayTime=Oe):Oe>0&&Oe>this.playingVideo.recentStart&&(this.playingVideo.recentStart=Oe)},this.onPlay=()=>{var o=this.props,r=o.mode,d=o.onPlay,m=d===void 0?()=>{}:d;m();var _=this;r==="learn"&&!_.timer&&(_.timer=setTimeout(function w(){_.saveProgress(),clearTimeout(_.timer),_.timer=setTimeout(w,2e4)},2e4))},this.onPause=()=>{var o=this.props,r=o.studyInfo,d=o.mode,m=r.studyType;clearTimeout(this.timer),this.timer=null,d==="learn"&&(m==="platform"||m==="enterprise"||m==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var o=this.props.mode;o==="learn"&&this.saveProgress()},this.onError=o=>{var r=this.props.resourceInfo,d=r.storageType;(d==="ALIBABA_PRIVATE"||d==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var o=this.props.mode;this.initPlayVideo(),o==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var o=this.state,r=o.showPreventHang,d=o.showRandomAlert,m=this.props,_=m.t,w=m.playingVideo,S=m.studyInfo,K=m.autoPlay,b=w.recentStart,j=w.duration,k=w.progress,N=S.studyType,q=(r==="OPEN"||d==="OPEN")&&(N==="studyTask"||N==="enterprise"||N==="studyProject")&&k<100;q?(d==="OPEN"?this.setState({promptMessage:_("component.preventAlertTip"),dialogVisible:!0}):r==="OPEN"&&this.setState({promptMessage:_("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):K&&(this.play.play(),Math.ceil(b)<parseInt(j)&&this.play.seek(b))},this.playerShowPreventHang=()=>{var o=this.playingVideo,r=o.duration,d=o.recentStart,m=0;r>0&&r<180?(m=r/2,this.playingVideo.oneTime=m,d>=m?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):r>=180&&r<600?(m=r/3,this.playingVideo.oneTime=m,d>=2*m?this.playingVideo.popupWindowCount=0:d>=m?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(m=r/4,this.playingVideo.oneTime=m,d>=3*m?this.playingVideo.popupWindowCount=0:d>=2*m?this.playingVideo.popupWindowCount=1:d>=m?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var o=this.props,r=o.playingVideo,d=o.mode;if(d==="learn"){this.playingVideo=(0,P.Z)({},r);var m=r.duration,_=r.progress;this.playingVideo.hasFinished=parseInt(_)===100,this.playingVideo.maxPlayTime=parseInt(m)*parseInt(_)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,I.Z)(M().mark(function o(){var r,d,m,_,w,S,K,b,j,k,N,q,ce,fe,_e,X,be,Be,Y,ge,Me,We,De,Ne;return M().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(r=i.state,d=r.speedSwitch,m=r.dragSwitch,_=r.whiteList,w=i.props,S=w.resourceInfo,K=w.showQuality,b=S.contentType,j=S.storageType,k=S.source,N=S.playId,q=S.playerId,ce=S.showFullScreen,fe=ce===void 0?!0:ce,_e=G(q),_e.components=[],X=typeof k=="object"&&k.hasOwnProperty("FD")&&k.FD.indexOf("m3u8")===-1,K&&X&&b!=="mp3"&&(j&&j==="PUBLIC_CLOUD"||!j)&&_e.components.push({name:"VideoQuality",type:J,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),d==="OPEN"&&_e.components.push({name:"VideoRate",type:ee}),fe&&(be=_e.skinLayout.find(qe=>qe.name==="controlBar"),be&&be.children.splice(be.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),_e.components.push({name:"VideoWaterMark",type:Le}),Be=k.FD,Y=k.OD,Be.indexOf("http://")>-1&&(Be=Be.replace("http://","https://")),Y.indexOf("http://")>-1&&(Y=Y.replace("http://","https://")),ge=_.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",k.OD=Y&&Y.indexOf(ge)>-1&&Y.indexOf(".mp4")>-1?Y:Be,k.FD=Be,Me=typeof k!="string"?JSON.stringify(k):k,_e.source=Me,m==="OPEN"&&(_e.disableSeek=!0),j!=="ALIBABA_PRIVATE"){Ue.next=32;break}return Ue.next=22,(0,L.BR)(N);case 22:if(We=Ue.sent,!We){Ue.next=28;break}_e.source=We,_e.vodRetry=1,Ue.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),Ue.abrupt("return");case 30:Ue.next=38;break;case 32:if(j!=="LOCAL"){Ue.next=38;break}return Ue.next=35,z(N);case 35:De=Ue.sent,Ne=De.data,Ne.code===0&&(_e.source="".concat(k.FD,"?auth_key=").concat(Ne.data.auth_key),_e.vodRetry=1);case 38:i.setState({playerConfig:_e});case 39:case"end":return Ue.stop()}},o)})),this.updateSource=function(){var o=(0,I.Z)(M().mark(function r(d){var m,_,w,S,K,b,j,k;return M().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(m=i.state.playerConfig,_=i.props.resourceInfo,w=_.storageType,S=_.source,K=_.playId,i.playingVideo.readyCount=0,w!=="ALIBABA_PRIVATE"){q.next=16;break}return q.next=7,(0,L.BR)(K);case 7:if(b=q.sent,!b){q.next=12;break}Object.assign(m,{source:b,vodRetry:1}),q.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),q.abrupt("return");case 14:q.next=22;break;case 16:if(w!=="LOCAL"){q.next=22;break}return q.next=19,z(K);case 19:j=q.sent,k=j.data,k.code===0&&Object.assign(m,{source:"".concat(S.FD,"?auth_key=").concat(k.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:m},()=>{i.play.setupPlayer(d)});case 23:case"end":return q.stop()}},r)}));return function(r){return o.apply(this,arguments)}}(),this.saveProgress=()=>{var o=this.props,r=o.studyInfo,d=o.userInfo,m=d.isLogin,_=d.enterpriseId,w=d.id,S=this.playingVideo,K=S.recentStart,b=S.duration,j=S.hasFinished,k=Math.ceil(+K);k>Number(b)&&(k=Number(b));var N=Math.ceil(k/+b*100);if((N>100||j)&&(N=100),m){var q=this.playingVideo,ce=q.auditionType,fe=q.auditionLength;if(fe>0&&ce===2){var _e=Math.ceil(fe/b*100);_e<=N&&(N=_e,k=fe)}(0,L.sH)({studyInfo:r,progress:N,recent_start:k,enterpriseId:_,userId:w}).then(X=>{X&&X.data&&(0,oe.Z)(X.data.integral_info||"")})}},this.getInfoFromSettings=(0,I.Z)(M().mark(function o(){var r,d,m,_,w,S,K,b,j;return M().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return r=i.props.studyInfo,d=r.studyType,m=r.projectId,N.next=4,(0,L.Gw)();case 4:if(_=N.sent,w=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],S=(0,p.RG)(_,w),d!=="studyProject"){N.next=14;break}return N.next=10,(0,ye.NU)({id:m});case 10:K=N.sent,b=K.status,j=K.data,b===200&&(S.showPreventHang=j.prevent_cut_screen?"OPEN":"CLOSED",S.speedSwitch=j.speed_play?"OPEN":"CLOSED",S.dragSwitch=j.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(S,()=>{i.dealVideoConfig()});case 15:case"end":return N.stop()}},o)})),this.dealAudioPoster=()=>{var o=this.props.resourceInfo.contentType,r=o===void 0?"":o;this.setState({showAudioPoster:r==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var o=this.state.showAudioPoster,r=this.play.playerContainer;o&&r&&(r.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),r.style.backgroundSize="cover")},this.getPlayInstance=o=>{this.play=o},this.handleOk=()=>{this.setState({dialogVisible:!1});var o=this.state.btnType,r=this.playingVideo.recentStart,d=this.props.t;o==="know"?(this.play.play(),this.play.seek(r),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:d("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,I.Z)(M().mark(function o(){var r,d,m,_;return M().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:r=i.props.studyInfo,d=r.studyId,m=r.resourceId,_=i.state.randomAlertUUID,(0,L.qp)({popupId:_,planId:d,resourceId:m,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return S.stop()}},o)})),this.renderFooter=()=>{var o=this.state.btnType,r=this.props.t;return t().createElement(f.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(o)},r(o==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var o=this.props.t;return t().createElement(f.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},o("common.ok"))},this.state={playerConfig:G(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:l.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:l.t("component.randomAlertTip"),randomAlertModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,me.UI)("CL_VIDEO_BAIYING_COM_CN")}},l.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(l){var i=typeof l.resourceInfo.source!="string"?JSON.stringify(l.resourceInfo.source):l.resourceInfo.source,o=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==o&&o!==""&&this.initInfo()}componentWillUnmount(){var l=this.props.mode;l==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var l=this.state,i=l.playerConfig,o=l.showPrivateVodError,r=l.dialogVisible,d=l.dialogModal,m=l.promptMessage,_=l.randomAlertDialogVisible,w=l.randomAlertModal,S=l.randomAlertTip,K=l.encryptedSwitch,b=this.props,j=b.resourceInfo,k=b.t,N=K==="OPEN"?R:Q;return t().createElement(a.Fragment,null,t().createElement(N,(0,A.Z)({ref:this.getPlayInstance},j,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),t().createElement(he.ZP,(0,A.Z)({visible:r},d,{footer:this.renderFooter()}),t().createElement("div",{className:"video-business-prompt"},m)),t().createElement(he.ZP,(0,A.Z)({visible:_},w,{footer:this.renderRandomFooter()}),t().createElement("div",{className:"video-player-container__prompt"},S)),o&&t().createElement("div",{className:"video-business-vod-error"},k("privateCloud.docReadError")),t().createElement(Ee.Z,{scenes:"video"}))}}var we=(0,u.$j)(Pe,null,null,{forwardRef:!0})((0,v.Z)("translation",{withRef:!0})(ae)),re=e(94184),le=e.n(re),de=e(84874),Ke=se=>({userInfo:se.user}),ue={getPravateDocUrl:ne.ZP.localStorage.getPravateDocUrl};function Ce(se){return JSON.stringify(se,(l,i)=>(typeof i=="function"&&(i=i.toString()),i))}function Re(se){var l=parseInt(parseInt(se,10)/60,10),i=parseInt(parseInt(se,10)%60,10);return l<10&&(l="0".concat(l)),i<10&&(i="0".concat(i)),"".concat(l,":").concat(i)}class Ie extends a.Component{constructor(l){var i;super(l);i=this,this.messageFun=o=>{var r=this.props,d=r.docType,m=r.progress,_=r.studyTimeLimit,w=r.studyTime,S=this.state,K=S.jumpPageTag,b=S.totalTime,j=S.timeRemaining,k=this.state.previewDocData,N={};try{N=JSON.parse(o.data)}catch(q){return}switch(N.action){case"preview.ready":this.initDocData();break;case"preview.meta":k.totalPage=N.data.pc||1,k.currentPage=1,this.setState({previewDocData:k},()=>{this.reportStatusInterval()}),_>0?(this.saveProgress(m,w||"1",N.data.pc||1),this.setState({showCountDownContainer:!0})):d==="xlsx"||d==="xls"||k.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(m,w||"1",N.data.pc||1),_>0&&m<100?(this.setState({showCountDown:!0}),d==="xlsx"||d==="xls"?b=_:b=_*N.data.pc,j=parseInt(b*(1-m/100),10),this.setState({timeRemaining:j,totalTime:b},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(K){K=!1,this.setState({jumpPageTag:K});return}k.currentPage=N.data.pageIndex+1,this.setState({previewDocData:k}),_||this.saveProgress(Math.ceil(k.currentPage/k.totalPage*100),k.currentPage,k.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":y.default.error(N.data.result);break;default:break}},this.initDocData=(0,I.Z)(M().mark(function o(){var r,d,m,_,w,S,K,b,j,k,N,q,ce,fe;return M().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(i.setState({isShowPrivateError:!1}),r=i.props,d=r.docType,m=r.userInfo,_=r.documentWatermarkSettings,w=r.storageType,S=r.privateDocId,K=m.name,b=m.jobNumber,j=m.position,k="",N={},w!=="ALIBABA_PRIVATE"){X.next=18;break}return X.prev=6,q=ue.getPravateDocUrl(S),X.next=10,U.WY.get({url:q});case 10:ce=X.sent,fe=ce.data,fe.code===0?N=fe.data||{}:i.setState({isShowPrivateError:!0}),X.next=18;break;case 15:X.prev=15,X.t0=X.catch(6),i.setState({isShowPrivateError:!0});case 18:if(_.indexOf("name")>-1&&(k="".concat(k+K," ")),_.indexOf("position")>-1&&(k="".concat(k+j," ")),_.indexOf("jobnumber")>-1&&(k+=b),k.length>0?window.sendMessage("preview.init",(0,P.Z)({wmType:1,wmValue:k,wmColor:"rgba(192, 192, 192, 0.4)"},N)):window.sendMessage("preview.init",(0,P.Z)({},N)),d!=="xlsx"&&d!=="ppt"&&d!=="pptx"&&d!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(d==="ppt"||d==="pptx")){X.next=29;break}X.t1=window,X.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},X.t1.sendMessage.call(X.t1,"setConfig",X.t2),X.next=32;break;case 29:X.t3=window,X.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},X.t3.sendMessage.call(X.t3,"setConfig",X.t4);case 32:case"end":return X.stop()}},o,null,[[6,15]])})),this.handleJumpPage=o=>{var r=this.state.previewDocData;r.currentPage=o,this.setState({jumpPageTag:!0,previewDocData:r});var d=o/r.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(d),o,r.totalPage),window.sendMessage("logic.toPage",{pageIndex:o-1})},this.redirectPage=()=>{var o=this.props,r=o.studyTimeLimit,d=o.studyTime,m=0;r===0&&(m=d-1>0?d-1:0),window.sendMessage("logic.toPage",{pageIndex:m})},this.docCountDown=()=>{var o=this.state.timeRemaining,r=this.state,d=r.totalTime,m=r.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{o-=1,this.setState({timeRemaining:o}),o<1&&(this.saveProgress(100,0,m.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var _=(d-o)/d*100;o<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(_),o,m.totalPage)},2e4)},this.saveProgress=(o,r,d)=>{var m=this.props.onSaveProgress;m&&m(o,r,d)},this.reportStatusInterval=()=>{var o=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var r=this.state.previewDocData.currentPage;o&&o({currentPage:r})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=o=>{this.docReader=o},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(l,i)=>{var o=this.docReader.contentWindow;o.postMessage(Ce({action:l,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var l=this.props,i=l.t,o=l.storageType,r=l.privateDocId,d=this.props.aliUrl,m=this.state,_=m.previewDocData,w=m.pageOperateContainerVisible,S=m.timeRemaining,K=m.showCountDown,b=m.showCountDownContainer,j=m.showPageOperateContainer,k=m.isShowPrivateError;return o==="ALIBABA_PRIVATE"&&(d="https://preview.imm.aliyuncs.com/index.html?docId=".concat(r)),t().createElement("div",{className:"doc-reader-container"},t().createElement("div",{className:"ali-doc-container",style:{paddingBottom:w?"56px":"0"}},t().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:d,id:"aliyunPreview",ref:this.dealPreviewRef}),b?t().createElement("div",{className:"ali-doc-container__countdown"},K?t().createElement("div",null,t().createElement(de.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),t().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Re(S)," "),i("component.canDone")):t().createElement("div",null,t().createElement(de.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,w?t().createElement("div",{className:"ali-doc__operate"},t().createElement("div",{className:le()(["ali-doc__operate__content",j?"":"ali-doc__operate__hide-content"])},t().createElement("div",{className:"ali-doc__operate__pagination"},t().createElement("div",{className:"ali-doc__operate__pagination__pages"},_.currentPage," / ",_.totalPage),t().createElement("div",{className:"ali-doc__operate__pagination__toggle"},t().createElement("div",{className:"ali-doc__operate__pagination__choose"},t().createElement("span",null,i("component.choosePage"),t().createElement(de.Z,{iconClass:"iconf-arrow-under",size:"14px"})),t().createElement("div",{className:"ali-doc__operate__page-list-container"},t().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),t().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:_.totalPage})).map((N,q)=>t().createElement("li",{key:N,onClick:()=>this.handleJumpPage(q+1)},q+1))))),t().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),t().createElement("div",{className:le()("ali-doc__operate__unfold",j?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,k&&t().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),t().createElement(Ee.Z,{scenes:"document"}))}}Ie.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var ke=(0,u.$j)(Ke)((0,v.Z)()(Ie)),xe=se=>({userInfo:se.user}),Ze="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ve="".concat("https://doc.coolcollege.cn");class Ye extends t().Component{constructor(l){var i;super(l);i=this,this.onSaveProgress=(o,r,d)=>{var m=this.props,_=m.mode,w=m.studyInfo,S=m.userInfo,K=S.enterpriseId,b=S.id;_==="learn"&&(0,L.sH)({studyInfo:w,progress:o,page_count:d,recent_start:r,enterpriseId:K,userId:b}).then(j=>{j&&j.data&&(0,oe.Z)(j.data.integral_info||"")})},this.messageFun=function(){var o=(0,I.Z)(M().mark(function r(d){var m,_,w,S,K,b;return M().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(d.data!=="local-resource"){k.next=9;break}if(m=i.props.resourceInfo,_=m.storageType,w=m.playId,!(_&&_==="LOCAL")){k.next=9;break}return k.next=6,z(w);case 6:S=k.sent,K=S.data,K.code===0&&(b=document.getElementById("local-resource-box"),b.contentWindow.postMessage({msg:"local-auth-key",authKey:K.data.auth_key},"*"));case 9:case"end":return k.stop()}},r)}));return function(r){return o.apply(this,arguments)}}(),this.getInfoFromSettings=(0,I.Z)(M().mark(function o(){var r,d,m;return M().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,L.Gw)();case 2:r=w.sent,d=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],m=(0,p.RG)(r,d),i.setState(m,()=>{i.initDocPage(i.props)});case 6:case"end":return w.stop()}},o)})),this.initDocPage=(0,I.Z)(M().mark(function o(){var r,d,m,_,w,S,K,b,j,k,N,q,ce,fe,_e,X,be,Be,Y,ge,Me,We,De,Ne,Oe,Ue,qe,Ae,nt,dt,ut,pt,mt,ht,vt=arguments;return M().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(r=vt.length>0&&vt[0]!==void 0?vt[0]:{},d=r.resourceInfo,m=r.mode,_=r.studyInfo,w=r.userInfo,S=i.state.documentPlayerMode,K=d.docType,b=d.docTitle,j=d.url,k=d.studyTimeLimit,N=d.studyTime,q=d.aliUrl,ce=d.progress,fe=d.storageType,_e=d.playId,X=_.studyType,be=_.courseId,Be=_.studyId,Y=_.resourceId,ge=w.enterpriseId,Me=w.id,We=w.isLogin,De=w.token,Ne=S==="compat"&&q.indexOf("preview.imm.aliyun")>-1||fe==="ALIBABA_PRIVATE",!Ne){$e.next=11;break}i.setState({showAliReader:!0}),$e.next=31;break;case 11:if(Oe=(0,L.sH)({enterpriseId:ge,userId:Me,token:De,studyInfo:_},!0),Ue=X==="studyTask"?2:1,qe=ne.ZP.SaveProgress.reportStatusInterval(_),Ae={isSaveProgress:We&&m==="learn"&&Oe,isSaveRecord:!1,access_token:De,userId:Me,hostUrl:Ze,courseId:be,resourceId:Y,courseType:1,planId:Be,studyTimeLimit:k,studyTime:N,saveProgressUrl:Oe,type:"eapp",progress:ce,saveRecordProgressUrl:qe,actionType:Ue},!(fe&&fe==="LOCAL")){$e.next=26;break}return $e.next=18,z(_e);case 18:if(nt=$e.sent,dt=nt.data,dt.code!==0){$e.next=25;break}Ae.auth_key=dt.data.auth_key,Ae.url=j,$e.next=26;break;case 25:return $e.abrupt("return");case 26:ut=JSON.stringify(Ae),pt="".concat(b,".").concat(K).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),mt="".concat(Ve,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(j,"?attname=").concat(pt),fe&&fe==="LOCAL"&&(ht="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),mt="".concat(ht,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(j,"?attname=").concat(pt)),i.setState({encodeUrl:mt});case 31:case"end":return $e.stop()}},o)})),this.handleReportStatusInterval=o=>{var r=o.currentPage,d=this.props,m=d.resourceInfo,_=d.mode,w=d.studyInfo,S=d.userInfo,K=m.type,b=w.courseId,j=w.studyId,k=w.resourceId,N=S.enterpriseId,q=S.id,ce=S.isLogin,fe="",_e="",X=0,be=!1;switch(K){case"enterprise":X=1,be=!0;break;case"study":fe=j,X=2,be=!0;break;case"project":_e=j,X=1,be=!0;break;default:break}if(!(!be||!ce)){var Be={plan_id:fe,enterprise_id:N,user_id:q,course_id:b,project_course_id:_e,resource_id:k,current_page:r,action_type:X,send_time:Date.parse(new Date)};_==="learn"&&(0,L.Xc)(w,Be)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(l){this.initDocPage(l)}render(){var l=this.props.resourceInfo,i=this.state,o=i.encodeUrl,r=i.documentWatermarkSettings,d=i.showAliReader,m=l.docType,_=l.type,w=l.studyTimeLimit,S=l.studyTime,K=l.aliUrl,b=l.progress,j=l.storageType,k=l.playId;return d?t().createElement(ke,{privateDocId:k,storageType:j,aliUrl:K,docType:m,progress:b,studyTime:S,studyTimeLimit:w,documentWatermarkSettings:r,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:_}):t().createElement("div",{className:"doc-reader-container"},t().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:o,frameBorder:"0",allowFullScreen:!0}),t().createElement(Ee.Z,{scenes:"document"}))}}var ze=(0,u.$j)(xe)(Ye),st=e(38979),He=e(90706),Ge=e(12968),et=e(44208),tt=e(60667),at=se=>({userInfo:se.user});class Je extends t().Component{constructor(){var l;super(...arguments);l=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,o=i.studyInfo,r=i.mode,d=i.userInfo,m=d.enterpriseId,_=d.id;r==="learn"&&(0,p.Gp)({studyInfo:o,enterpriseId:m,userId:_})},this.getInfoFromSettings=(0,I.Z)(M().mark(function i(){var o,r,d;return M().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,L.Gw)();case 2:o=_.sent,r=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],d=(0,p.RG)(o,r),l.setState(d,()=>{l.renderWatermark()});case 6:case"end":return _.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,o=this.state.imageWatermark,r=i.name,d=i.unionid,m=i.sourceType,_=i.jobNumber,w=i.position,S=[];o.indexOf("name")>-1&&S.push(t().createElement(tt.Z,{dataType:"userName",value:d,name:r,type:m})),o.indexOf("position")>-1&&S.push(t().createElement("span",null,w)),o.indexOf("jobnumber")>-1&&S.push(t().createElement("span",null,_)),o.length>0&&this.setState({watermark:S.map((K,b)=>t().createElement("span",{key:b},K))})},this.handleError=i=>{var o=this.props.onError;o&&o(i)},this.getImageUrl=(0,I.Z)(M().mark(function i(){var o,r,d,m,_,w,S,K,b,j;return M().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(o=l.props,r=o.resourceInfo,d=o.t,m=r.playId,_=r.url,w=r.storageType,S=_,!w){N.next=21;break}if(w!=="ALIBABA_PRIVATE"){N.next=15;break}return N.next=7,(0,L.J7)(m);case 7:if(K=N.sent,!K){N.next=12;break}S=K,N.next=13;break;case 12:return N.abrupt("return",y.default.info(d("privateCloud.docReadError")));case 13:N.next=21;break;case 15:if(w!=="LOCAL"){N.next=21;break}return N.next=18,z(m);case 18:b=N.sent,j=b.data,j.code===0&&(S="".concat(_,"?auth_key=").concat(j.data.auth_key));case 21:l.setState({imageUrl:[S]},()=>{var q=l.state.imageUrl,ce="image-business",fe=document.querySelectorAll(".".concat(ce,"-image img"));fe.forEach((_e,X)=>{_e.onerror=()=>{l.handleError(q[X])}})});case 22:case"end":return N.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var l="image-business",i=this.props.resourceInfo,o=i.preview,r=o===void 0?!1:o,d=this.state,m=d.watermark,_=d.imageUrl;return t().createElement("div",{className:l},t().createElement(Ee.Z,{scenes:"image"}),t().createElement(He.Z,{className:"".concat(l,"-carousel")},_.map((w,S)=>t().createElement("div",{className:"".concat(l,"-image"),key:S.toString()},t().createElement(et.Z,{src:w,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:r})))))}}Je.defaultProps={prefixCls:"watch-image-page"};var rt=(0,u.$j)(at)((0,v.Z)()(Je)),Xe=se=>({userInfo:se.user});class Qe extends t().Component{constructor(){var l;super(...arguments);l=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,I.Z)(M().mark(function i(){var o,r,d;return M().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,L.Gw)();case 2:o=_.sent,r=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],d=(0,p.RG)(o,r),l.setState(d,()=>{l.renderWatermark()});case 6:case"end":return _.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,o=this.state.htmlWatermark,r=i.name,d=i.unionid,m=i.sourceType,_=i.jobNumber,w=i.position,S=[];o.indexOf("name")>-1&&S.push(t().createElement(tt.Z,{dataType:"userName",value:d,name:r,type:m})),o.indexOf("position")>-1&&S.push(t().createElement("span",null,w)),o.indexOf("jobnumber")>-1&&S.push(t().createElement("span",null,_)),o.length>0&&this.setState({watermark:S.map((K,b)=>t().createElement("span",{key:b},K))})},this.saveProgress=()=>{var i=this.props,o=i.studyInfo,r=i.mode,d=i.userInfo,m=d.enterpriseId,_=d.id;r==="learn"&&(0,p.Gp)({studyInfo:o,enterpriseId:m,userId:_})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var l="html-business",i=this.props.resourceInfo,o=i.url,r=this.state.watermark;return t().createElement("div",{className:l},t().createElement("div",{className:"".concat(l,"__html-watermark")},r),t().createElement("iframe",{title:"html",className:"".concat(l,"_iframe"),src:o}))}}var ot=(0,u.$j)(Xe)((0,v.Z)()(Qe)),it=e(57068),lt=e(1164),te=se=>({userInfo:se.user});class ve extends t().PureComponent{constructor(){super(...arguments);this.getHost=l=>{var i=l.split("//"),o=i[1].split("/");return[i[0],o[0]].join("//")},this.getScormUrl=()=>{var l=this.props,i=l.studyInfo,o=l.mode,r=l.userInfo,d=l.resourceInfo,m=l.from,_=r.enterpriseId,w=r.id,S=d.url,K=this.getHost(S);if(o==="learn"){var b=(0,P.Z)({userId:w,enterpriseId:_,access_token:localStorage.token,from:m,scormUrl:encodeURIComponent(S),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(K).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(it.stringify(b))}return"".concat(K,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(S))},this.handleOpenScormLink=l=>{lt.Z.targetTo({path:l,isExternalLink:!0})}}render(){var l=this.props.t,i="scorm-business",o=this.getScormUrl(),r=(0,me.UI)("SCORM_EXTERNAL_WATCH");return t().createElement("div",{className:i},r?t().createElement("div",{className:"".concat(i,"_scorm")},t().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),t().createElement("h5",null,l("resourcePlay.scormTip")),t().createElement(f.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(o)},l("resourceLibrary.h5LinkPlayButton"))):t().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:o}))}}var Se=(0,u.$j)(te)((0,v.Z)()(ve));class je extends t().Component{render(){var l=this.props,i=l.visible,o=l.title,r=l.onCancel,d=l.t,m=t().createElement("span",null,o);return t().createElement(he.ZP,{visible:i,title:m,onCancel:r,footer:null},t().createElement("div",{className:"ban-preview"},t().createElement("div",{className:"ban-preview-center"},t().createElement("img",{src:h(),alt:"picture"}),t().createElement("h2",null,d("localStorage.tip")),t().createElement("p",null,d("localStorage.banPreview"))),t().createElement("hr",null),t().createElement(f.Z,{type:"primary",className:"know",onClick:r},d("localStorage.onKnow"))))}}var Fe=(0,v.Z)()(je);class Te extends a.Component{constructor(){var l;super(...arguments);l=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var o=this.props.previewInfo,r=o.onCancel;this.onCancel(),r(i)},this.onGetVideoBusiness=i=>{var o=this.props.onRef,r=o===void 0?()=>{}:o;this.videoBusiness=i,r(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,I.Z)(M().mark(function i(){var o,r,d,m,_,w,S,K,b,j,k,N=arguments;return M().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(o=N.length>0&&N[0]!==void 0?N[0]:null,r=l.props,d=r.resourceInfo,m=r.watchType,_=d.storageType,w=d.playId,S=d.originUrl,K=m==="image"||m==="video"||m==="doc",b=null,o?b=o:S?b=S:b=d.url,!(K&&b&&w&&_&&_==="LOCAL")){ce.next=22;break}return ce.prev=7,ce.next=10,(0,L.NY)(w);case 10:return j=ce.sent,ce.next=13,(0,L.Hy)(b,j);case 13:k=ce.sent,k?l.setState({showBan:"no"}):l.setState({showBan:"yes"}),ce.next=20;break;case 17:ce.prev=17,ce.t0=ce.catch(7),l.setState({showBan:"yes"});case 20:ce.next=23;break;case 22:l.setState({showBan:"no"});case 23:case"end":return ce.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,o=i.prefixCls,r=i.watchType,d=i.onCurrentTime,m=d===void 0?()=>{}:d;return t().createElement("div",{className:"".concat(o,"-outer")},r==="video"&&t().createElement(we,(0,A.Z)({onCurrentTime:m,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),r==="doc"&&t().createElement(ze,this.props),r==="image"&&t().createElement(rt,(0,A.Z)({onError:this.handleJudgeNetwork},this.props)),r==="html"&&t().createElement(ot,this.props),r==="scorm"&&t().createElement(Se,this.props))},this.renderFooter=()=>{var i=this.props,o=i.resourceInfo.storageType,r=i.t,d=this.state.showBan,m=d!==""&&d==="yes";return o&&o!=="PUBLIC_CLOUD"&&m?t().createElement(f.Z,{type:"primary",className:"know",onClick:this.onCancelModel},r("localStorage.onKnow")):null}}componentDidMount(){var l=this.props.mode;l==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(l){l.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var l=this.state,i=l.showBan,o=l.fullScreen,r=this.props,d=r.mode,m=r.previewWay,_=r.previewInfo,w=r.prefixCls,S=r.t,K=r.showEnlarge,b=r.footer,j=b===void 0?null:b,k=_.visible,N=_.destroyOnClose,q=_.title,ce=i!==""&&i==="yes",fe=i!==""&&i==="no";return t().createElement(a.Fragment,null,d==="preview"&&m==="popups"&&t().createElement(he.ZP,{destroyOnClose:N,visible:k,title:q,onCancel:this.onCancelModel,footer:j||this.renderFooter(),wrapClassName:"".concat(w,"-resource ").concat(o?"".concat(w,"-full"):"")},K&&t().createElement("div",{className:"".concat(w,"-resource-out-icon"),onClick:this.onFullScreen},o?t().createElement(c.Z,{className:"".concat(w,"-resource-icon")}):t().createElement(s.Z,{className:"".concat(w,"-resource-icon")})),t().createElement("div",{className:"".concat(w,"-inner")},!k&&t().createElement(g.Z,{size:"large"}),k&&fe&&this.renderOuter(),ce&&t().createElement(D,null))),(d==="learn"||m==="page")&&fe&&this.renderOuter(),(d==="learn"||m==="page")&&t().createElement(Fe,{visible:ce,title:q||S("questionn.warmHint"),onCancel:this.onCancel}))}}Te.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ct=(0,v.Z)("translation",{withRef:!0})(Te)},41225:function(pe,F,e){"use strict";e.d(F,{Hy:function(){return I},NY:function(){return x},Gw:function(){return M},sH:function(){return c},BR:function(){return a},qp:function(){return s},Xc:function(){return v},J7:function(){return t}});var O=e(57361),g=e(9754),n=e.n(g),f=e(10237),A=e(37055),I=function(){var T=(0,O.Z)(n().mark(function h(){var E,D,P,C,y,u,p,L=arguments;return n().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return E=L.length>0&&L[0]!==void 0?L[0]:"",D=L.length>1&&L[1]!==void 0?L[1]:"",P="",E.startsWith("http")?(C=E.split("//")[1].trim(),y=C.split("/")[0],P="https://".concat(y,"/cms/ticket")):(u=E.split("/")[0],P="https://".concat(u,"/cms/ticket")),B.prev=4,B.next=7,f.ZQ.get({url:P,params:{ticket:D}});case 7:if(p=B.sent,!(p.status===200||p.status===403)){B.next=10;break}return B.abrupt("return",Promise.resolve(!0));case 10:return B.abrupt("return",Promise.resolve(!1));case 13:return B.prev=13,B.t0=B.catch(4),B.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return B.stop()}},h,null,[[4,13]])}));return function(){return T.apply(this,arguments)}}(),x=function(){var T=(0,O.Z)(n().mark(function h(E){var D,P;return n().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,f.ZQ.get({url:A.ZP.local.getTicket(E)});case 2:if(D=y.sent,P=D.data,P.code!==0){y.next=6;break}return y.abrupt("return",Promise.resolve(P.data.ticket));case 6:return y.abrupt("return",Promise.resolve(""));case 7:case"end":return y.stop()}},h)}));return function(E){return T.apply(this,arguments)}}(),M=function(){var T=(0,O.Z)(n().mark(function h(){var E;return n().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,f.WY.get({url:A.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return E=P.sent,P.abrupt("return",E.data.list);case 4:case"end":return P.stop()}},h)}));return function(){return T.apply(this,arguments)}}(),a=function(){var T=(0,O.Z)(n().mark(function h(E){var D,P,C;return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,f.WY.get({url:A.ZP.localStorage.getPravateVideoUrl(E)});case 2:if(D=u.sent,D.data.code!==0){u.next=6;break}return P=D.data.data.videoPlayInfo,C=P===void 0?"":P,u.abrupt("return",C);case 6:return u.abrupt("return","");case 7:case"end":return u.stop()}},h)}));return function(E){return T.apply(this,arguments)}}(),t=function(){var T=(0,O.Z)(n().mark(function h(E){var D,P,C;return n().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return D=A.ZP.localStorage.getPravateDocUrl(E),u.prev=1,u.next=4,f.WY.get({url:D});case 4:if(P=u.sent,C=P.data,!(C.code===0&&C.data)){u.next=8;break}return u.abrupt("return",C.data.docResourceDownloadUrl||"");case 8:return u.abrupt("return","");case 11:return u.prev=11,u.t0=u.catch(1),u.abrupt("return","");case 14:case"end":return u.stop()}},h,null,[[1,11]])}));return function(E){return T.apply(this,arguments)}}(),c=function(h){var E=h.studyInfo,D=h.progress,P=h.recent_start,C=h.page_count,y=h.enterpriseId,u=h.userId,p=h.token,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U,B=E.studyType;if(B==="studyTask"&&(U=A.ZP.SaveProgress.studySaveProgress(E)),(B==="course"||B==="enterprise")&&(U=A.ZP.SaveProgress.enterpriseCourseSaveProgress(E)),B==="studyProject"&&(U=A.ZP.SaveProgress.projectSaveProgress(E)),B==="platform"&&(U="".concat(A.ZP.SaveProgress.platformCourseSaveProgress(E))),(L||B==="platform")&&(U+="?enterprise_id=".concat(y,"&user_id=").concat(u)),L)return U+="&access_token=".concat(p||localStorage.getItem("token")),U;var Z={progress:D,recent_start:P,tempTime:Date.parse(new Date)};return C&&(Z.page_count=C),E.evaluationId&&(Z.evaluation_id=E.evaluationId),f.WY.post({url:U,data:Z})},s=T=>{var h=T.popupId,E=T.planId,D=T.resourceId,P=T.type;return f.WY.post({url:A.ZP.TaskStudyRecord.setRandomPopupRecord(E),data:{course_id:D,terminal_type:"PC",popup_id:h,type:P}})},v=(T,h)=>{var E=A.ZP.SaveProgress.reportStatusInterval(T);return f.WY.post({url:E,data:h})}},21594:function(pe,F,e){"use strict";e.d(F,{pu:function(){return A},RG:function(){return I},Gp:function(){return x},O8:function(){return M}});var O=e(88986),g=e(69164),n=e(38642),f=e(41225),A=a=>{var t="";switch(a){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":t="studyTask";break;case"enterprise":t="enterprise";break;case"courseProject":t="studyProject";break;case"platform":case"purchased":t="platform";break;default:break}return t},I=(a,t)=>{var c={};return t.forEach(s=>{var v=a.find(P=>P.type===s.type);if(v)if(s.type==="document_duration_limit"){var T=v.action_list,h=T.find(P=>P.type==="random_popup_verification");!(0,n.UI)("RANDOM_POPUP_VERIFY")||!h?c[s.name]="CLOSE":c[s.name]=h.param.checked==="true"?"OPEN":"CLOSE"}else if(s.type==="document_player"){var E=JSON.parse(v.actions);E.forEach(P=>{P.param.checked==="true"&&(c[s.name]=P.type)})}else if(s.type==="dynamic_watermark"){var D=v.action_list;D.forEach(P=>{P.type===s.resourceType&&P.param.checked==="true"&&(c[s.name]=P.param.comment)})}else c[s.name]=v.switch_status}),c},x=a=>{(0,f.sH)((0,O.Z)({progress:100,recent_start:1},a)).then(t=>{t&&t.data&&(0,g.Z)(t.data.integral_info||"")})},M=a=>{var t=document.createElement("div");return t.innerHTML=a,t.childNodes[0]}},43859:function(pe,F,e){"use strict";var O=e(62029),g=e(81211),n=e(43358),f=e(34041),A=e(12924),I=e.n(A),x=e(94184),M=e.n(x),a=e(59239),t=e(55446),c=e.n(t),s=e(6793),v=a.Z.Item,T=f.Z.Option,h=E=>function(P){var C=P.field,y=P.form,u=P.hasFeedback,p=P.label,L=P.selectOptions,U=P.submitCount,B=P.type,Z=P.displayType,W=P.labelCol,R=W===void 0?{}:W,V=P.wrapperCol,G=V===void 0?{}:V,H=P.required,Q=H===void 0?!1:H,J=P.customError,ee=J===void 0?!1:J,oe=P.colon,ne=oe===void 0?!0:oe,z=P.formItemClassName,ie=(0,g.Z)(P,["field","form","hasFeedback","label","selectOptions","submitCount","type","displayType","labelCol","wrapperCol","required","customError","colon","formItemClassName"]),he=y.touched[C.name],me=U>0,ye=y.errors[C.name],Ee=ye&&me,$=ye&&he,Le=re=>{var le=re!=null&&re.target?re.target.value:re;y.setFieldValue(C.name,le),y.touched[C.name]||setTimeout(()=>{y.setFieldTouched(C.name,!0)},0)},Pe=re=>{var le={},de={},Ke=re;if(re===void 0&&(Ke=""),y.setFieldValue(C.name,Ke),C.name==="courseList"&&re&&Object.prototype.toString.apply(re).slice(8,-1)==="Array"&&re.length>0){le.startTime=re[0].beginTime,de.startTime=Number((0,s.jZ)(re[0].beginTime))+864e5;var ue=[];re.forEach(Re=>{Re.endTime!==""&&ue.push(Re)}),ue.length>0&&y.values.dateRange.endTime?(0,s.jZ)(y.values.dateRange.endTime)>ue[ue.length-1].endTime?(le.endTime=y.values.dateRange.endTime,de.endTime=Number((0,s.jZ)(y.values.dateRange.endTime))-864e5):ue.length>0&&y.values.dateRange.endTime&&(0,s.jZ)(y.values.dateRange.endTime)<=ue[ue.length-1].endTime&&(le.endTime=ue[ue.length-1].endTime,de.endTime=Number((0,s.jZ)(ue[ue.length-1].endTime))-864e5):ue.length>0&&!y.values.dateRange.endTime&&(le.endTime=ue[ue.length-1].endTime,de.endTime=Number((0,s.jZ)(ue[ue.length-1].endTime))-864e5),ue.length>0&&y.setFieldValue("dateRange",le),y.setFieldValue("dateRangeLimit",de)}if(C.name==="stages"&&re&&Object.prototype.toString.apply(re).slice(8,-1)==="Array"&&re.length>0){var Ce=[];re.forEach(Re=>{Re.list&&Re.list.forEach(Ie=>{Ie.componentName==="OfflineTrain"&&Ce.push(Ie.data)})}),Ce.length>0&&(le.startTime=Ce[0].beginTimeStr,le.endTime=Ce[Ce.length-1].endTimeStr,le.startTime=Number((0,s.jZ)(Ce[0].beginTimeStr))+864e5,le.endTime=Number((0,s.jZ)(Ce[Ce.length-1].endTimeStr))-864e5,y.setFieldValue("dateRangeLimit",le))}y.touched[C.name]||setTimeout(()=>{y.setFieldTouched(C.name,!0)},0)},ae=()=>y.setFieldTouched(C.name,!0),we=M()(["cl-form__field"]);return I().createElement("div",{className:we},I().createElement(v,{label:p,className:"$$CL-FORM-ERROR__".concat(C.name," antd-field-item ").concat(z),hasFeedback:!!(u&&me||u&&he),help:(Ee||$)&&!ee?ye:!1,validateStatus:(Ee||$)&&!ee?"error":"success",labelCol:R,wrapperCol:G,required:Q,colon:ne},Z==="Custom"?I().createElement(E,(0,O.Z)({},C,ie,{displayType:Z,onBlur:ae,onFieldChange:Pe})):I().createElement(E,(0,O.Z)({},C,ie,{displayType:Z,onBlur:ae,onChange:B?Le:Pe,form:y}),L&&L.map(re=>I().createElement(T,{key:re},re)))))};F.Z=h},11449:function(pe,F,e){"use strict";e.d(F,{Z:function(){return R}});var O=e(88986),g=e(33565),n=e(12924),f=e.n(n),A=e(3115),I=e(49111),x=e(19650),M=e(62029),a=e(57663),t=e(71577),c=e(91768),s=e(28216),v=e(37055),T=e(10237);function h(V){var G=v.ZP.getHelpContentByMenuKey(),H={key:V};return T.WY.get({url:G,params:H})}var E=e(74228),D=e.n(E),P=e(1164),C=e(76466),y=e(38642);class u extends f().Component{constructor(G){var H;super(G);H=this,this.getHelpContentByMenuKey=()=>{var Q=this.props.defaultMenuKey;h(Q).then(J=>{var ee=J.data,oe=ee.help_url,ne=ee.video_url;this.setState({videoUrl:ne,helpUrl:oe})})},this.handleOpenHelpUrl=Q=>{if((0,y.ve)()){window.open(Q,"_blank");return}P.Z.targetTo({path:Q,isExternalLink:!0})},this.handleOpenVideo=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.props.t("helpCenter.video");H.setState(ee=>({resourcePlayInfo:(0,O.Z)((0,O.Z)({},ee.resourcePlayInfo),{},{resourceInfo:{originUrl:Q,source:{FD:Q,OD:Q},contentType:"mp4"}}),previewInfo:(0,O.Z)((0,O.Z)({},ee.previewInfo),{},{title:J,visible:!0,onCancel:H.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Q=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,O.Z)((0,O.Z)({},Q),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:G.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var G=this.state,H=G.helpUrl,Q=G.resourcePlayInfo,J=G.previewInfo,ee=G.videoUrl,oe=this.props.t;return f().createElement("div",{className:D().helpCenter},ee&&f().createElement(t.Z,{type:"link",className:D()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ee)},oe("helpCenter.video")),H&&f().createElement(t.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(H)},oe("helpCenter.tutorial")),f().createElement(C.Z,(0,M.Z)({},Q,{previewInfo:J})))}}var p=V=>({defaultMenuKey:V.currentRoute.menuKey});u.defaultProps={defaultMenuKey:""};var L=(0,s.$j)(p)((0,c.Z)()(u));function U(V){var G=V.extra,H=localStorage.getItem("dingPersonnel"),Q=sessionStorage.getItem("dingPersonnel");return f().createElement(x.Z,null,G,H!=="dingPersonnel"&&Q!=="dingPersonnel"&&(0,y.eY)("COMMONEXTRA_HELP_CENTER")&&f().createElement(L,null))}var B=U,Z=e(4408);function W(V){var G=(0,n.useState)({helpCenter:(0,y.eY)("HEAD_HELP_CENTER_BUT")}),H=(0,g.Z)(G,1),Q=H[0],J=V.pageContainerParams,ee=J===void 0?{}:J,oe=V.noPadding,ne=oe===void 0?!1:oe,z=V.isPersonal,ie=z===void 0?!1:z,he=V.pageTitle,me=V.className,ye=me===void 0?"":me,Ee={extra:Q.helpCenter?f().createElement(B,{extra:ee.extra}):ee.extra},$=(0,O.Z)((0,O.Z)({},ee),Ee);return f().createElement("div",{className:"page-container-content ".concat(ne?"page-container-noPadding":""," ").concat(ie?"page-container-content_personal_background":""," ").concat(ye)},he&&f().createElement(Z.Z,{title:he}),ie?f().createElement(A.Z,null,V.children):f().createElement(A.Z,$,V.children))}var R=W},9215:function(pe,F,e){"use strict";e.d(F,{aq:function(){return x},QX:function(){return M},Kr:function(){return t},H5:function(){return c}});var O=e(78138),g=e.n(O),n=e(3407),f=e(6793),A=(0,f.me)(),I=n.Z[A],x=s=>{var v=g().duration(Number(s),"seconds"),T=Math.floor(v.asHours()),h=Math.round(v.asMinutes())-T*60;return T=h===60?T+1:T,h=h===60?0:h,[T,h]};function M(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",T=g()().subtract("day",s).startOf("day").valueOf(),h=g()().subtract("day",1).endOf("day").valueOf(),E=g()(T).format(v),D=g()(h).format(v);return{timestamp:[T,h],titmeStr:[E,D]}}function a(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,T=s.toString(),h=T.indexOf(".");return h===-1||(T=T.substring(h,h+v)),T}function t(s){var v=(Math.round(s*100)/100).toString(),T=v.indexOf(".");if(T<0)v=v.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");else{var h=v.substr(0,T),E=a(v);v=h.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),v=v+E}return v}function c(s){for(var v=["","",""],T=1e3,h=3,E="",D=1;s/T>=1;)T*=10,h+=1;return h<=8?(E=parseInt(h-4)/3>1?I.dashboard.tenMillion:I.dashboard.tenThousand,D=E===I.dashboard.tenThousand?1e4:1e7,s%D==0?v[0]=parseInt(s/D)+"":v[0]=parseFloat(s/D).toFixed(2)+"",v[1]=E):h<=16&&(E=(h-8)/3>1?I.dashboard.hundredBillion:I.dashboard.hundredMillion,E=(h-8)/4>1?I.dashboard.oneTrillion:E,E=(h-8)/7>1?I.dashboard.billions:E,D=1,E===I.dashboard.hundredMillion?D=1e8:E===I.dashboard.hundredBillion?D=1e11:E===I.dashboard.oneTrillion?D=1e12:E===I.dashboard.billions&&(D=1e15),s%D==0?v[0]=parseInt(s/D)+"":v[0]=parseFloat(s/D).toFixed(2)+"",v[1]=E),s<=9999?t(s):v.join("")}},99491:function(pe,F,e){"use strict";e.d(F,{tl:function(){return A},qS:function(){return I},ZO:function(){return x},Qd:function(){return M}});var O=e(3407),g=e(6793),n=(0,g.me)(),f=O.Z[n],A={TOTAL_DURATION:f.dashboard.totalTime,TASK_LEARN_DURATION:f.dashboard.taskTime,SELF_LEARN_DURATION:f.dashboard.selfStudyDuration,SMALL:f.report.small,ONLINE:f.report.online,LIVE:f.report.live,SELF:f.report.selfStudy,TASK:f.report.task,QUALIFIED:f.report.yes,UNQUALIFIED:f.report.no},I={first_learn_time:"FIRST_LEARN_TIME",lately_learn_time:"LATELY_LEARN_TIME",learn_duration:"LEARN_DURATION",first_exam_time:"FIRST_EXAM_TIME",lately_exam_time:"LATELY_EXAM_TIME",exam_score:"EXAM_SCORE",exam_times:"EXAM_COUNT",participants_train_sum:"TRAIN",total_duration:"TOTAL_DURATION",participants_exam_sum:"EXAM",learn_course_sum:"COURSE",learn_score:"LEARN_SCORE"},x={ascend:"ASC",descend:"DESC"},M={COMPLETED:{name:f.report.completed,color:"#52C41A"},INCOMPLETE:{name:f.report.incomplete,color:"#A6A6A6"},QUALIFIED:{name:f.report.pass,color:"#52C41A"},UNQUALIFIED:{name:f.report.fail,color:"#FF4D3B"},ON_GOING:{name:f.report.inProgress,color:"#69A4E7"},OVERDUE:{name:f.report.overdue,color:"#A6A6A6"},DIMISSION:{name:f.dashboard.quitJob,color:"#A6A6A6"},INCUMBENCY:{name:f.dashboard.onJob,color:"#52C41A"},PENDING:{name:f.exam.toBeGraded,color:"#A6A6A6"}}},49226:function(pe,F,e){"use strict";e.r(F);var O=e(62029),g=e(34792),n=e(48086),f=e(59250),A=e(13013),I=e(30887),x=e(99210),M=e(57663),a=e(71577),t=e(54029),c=e(62529),s=e(22385),v=e(31097),T=e(71194),h=e(57016),E=e(88986),D=e(57361),P=e(33565),C=e(9754),y=e.n(C),u=e(12924),p=e.n(u),L=e(91768),U=e(57068),B=e(76651),Z=e(84391),W=e(78138),R=e.n(W),V=e(80991),G=e(28216),H=e(8449),Q=e(99491),J=e(38642),ee=e(2396),oe=e(7584),ne=e(18329),z=e(9215),ie=e(3583),he=e(97593),me={start_date:R()().subtract(6,"month").startOf("day").valueOf(),end_date:R()().subtract("day",1).endOf("day").valueOf(),page_size:20,page_num:1,department_id:"",name:"",job_status:"",data_sort:"TOTAL_DURATION",data_sequence:"DESC"},ye=Ee=>{var $=Ee.t,Le=(0,u.useState)(me),Pe=(0,P.Z)(Le,2),ae=Pe[0],we=Pe[1],re=(0,u.useRef)(),le=(0,u.useState)(!1),de=(0,P.Z)(le,2),Ke=de[0],ue=de[1],Ce=(0,u.useState)("1.0"),Re=(0,P.Z)(Ce,2),Ie=Re[0],ke=Re[1],xe=(0,u.useRef)(null),Ze=(0,J.UI)("EXPORT_YI_CHANG_WORD_WHITE_FLAG"),Ve=(0,G.I0)(),Ye=te=>{var ve=te.id,Se=ae.start_date,je=ae.end_date;B.m8.push({pathname:"/dashboard/employeeFiles/staffFilesReport/profile-detail",query:{id:ve,start_date:Se,end_date:je}})};(0,u.useEffect)(()=>{ze()},[]);var ze=function(){var te=(0,D.Z)(y().mark(function ve(){var Se;return y().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.next=2,(0,H.hE)();case 2:Se=Fe.sent,Se.code==="200000"&&ke(decodeURIComponent(Se.data));case 4:case"end":return Fe.stop()}},ve)}));return function(){return te.apply(this,arguments)}}(),st=te=>{var ve={total:{url:"studentFilesListExport",content:$("report.exportStudentFileDataTips"),params:(0,E.Z)((0,E.Z)({},ae),{},{name:ae.name,data_sequence:Q.ZO[ae.data_sequence]||"DESC",data_sort:Q.qS[ae.data_sort]||"TOTAL_DURATION"})},details:{url:"studentFilesDetailExport",content:$("report.exportStudentFileDetailTips"),params:{start_date:ae.start_date,end_date:ae.end_date,department_id:ae.department_id,job_status:ae.job_status,name:ae.name}},summary:{url:"staffTrainingSummaryExport",content:$("report.exportStaffTrainingSummaryTips"),params:{start_time:ae.start_date,end_time:ae.end_date,department_id:ae.department_id,job_status:ae.job_status,name:ae.name}},exclusive:{url:"studentExclusiveDetailExport",content:$("report.exportStudentFileDetailTips"),params:{start_date:ae.start_date,end_date:ae.end_date,department_id:ae.department_id,job_status:ae.job_status,name:ae.name}}};Ee.dispatch=Ve,h.Z.confirm({title:$("common.tip"),content:ve[te].content,onOk:()=>(0,he.N)({page:ve[te].url,props:Ee,query:"?".concat(U.stringify(ve[te].params))})})},He=ae.data_sort,Ge=ae.data_sequence,et=[{title:$("report.totalTime"),dataIndex:"total_duration",key:"total_duration",width:120,sorter:!0,sortOrder:He==="total_duration"&&Ge,render:te=>{var ve=(0,z.aq)(te);return ve="".concat((0,z.Kr)(ve[0])).concat($("common.hourUnit")).concat((0,z.Kr)(ve[1])).concat($("common.minuteUnit")),p().createElement(v.Z,{title:ve},p().createElement("div",{className:"cl-text-ellipsis",style:{width:120}},ve))}},{title:$("report.joinTrainCount"),dataIndex:"participants_train_sum",key:"participants_train_sum",width:120,sorter:!0,sortOrder:He==="participants_train_sum"&&Ge,render:te=>(0,z.Kr)(te)},{title:$("report.courseNum"),dataIndex:"learn_course_sum",key:"learn_course_sum",width:120,sorter:!0,sortOrder:He==="learn_course_sum"&&Ge,render:te=>(0,z.Kr)(te)},{title:$("report.examNum"),dataIndex:"participants_exam_sum",key:"participants_exam_sum",width:120,sorter:!0,sortOrder:He==="participants_exam_sum"&&Ge,render:te=>(0,z.Kr)(te)},{title:$("report.jobStatus"),dataIndex:"job_status",key:"job_status",width:120,render:te=>{var ve=Q.Qd[te];return p().createElement(c.Z,{color:ve.color,text:ve.name})}},{title:$("common.operate"),key:"operate",width:190,fixed:"right",align:"center",render:(te,ve)=>p().createElement("div",{className:""},p().createElement(a.Z,{type:"link",onClick:()=>Ye(ve)},$("report.viewFile")))}],tt=te=>{var ve=te.key,Se=te.value,je=te.queryParams,Fe=je===void 0?null:je;if(Fe){we(Fe);return}var Te=(0,E.Z)((0,E.Z)({},ae),{},{[ve]:Se});ve==="dateString"&&(Te.start_date=Se[0],Te.end_date=Se[1]),we(Te)},at=()=>{ue(!0)},Je=()=>{xe.current.submitForm()},rt=()=>{var te=Se=>p().createElement(v.Z,{placement:"left",mouseEnterDelay:1,title:$("report.downloadLimit")},Se),ve=p().createElement(x.Z,{onClick:Se=>st(Se.key)},p().createElement(x.Z.Item,{key:"total"},te($("report.exportAllData"))),p().createElement(x.Z.Item,{key:"details"},te($("report.exportDetailData"))),Ze?p().createElement(x.Z.Item,{key:"summary"},te($("report.exportStudentTrainReport"))):null,(0,J.UI)("EXPORT_EXCLUSIVE_DETAIL_DATA_WHI")?p().createElement(x.Z.Item,{key:"exclusive"},te($("report.exportExclusiveDetailData"))):null);return p().createElement(p().Fragment,null,p().createElement(A.Z,{overlay:ve},p().createElement(a.Z,{type:"primary"},p().createElement(Z.Z,null)," ",$("common.exportData"))),Ze?p().createElement(a.Z,{type:"primary",onClick:at},$("report.versionNO")):null)},Xe=localStorage.getItem("isAdmin"),Qe=[{type:"DateRange",key:"dateString",defaultValue:[me.start_date,me.end_date],show:!0},{type:"OrgTree",key:"department_id",placeholder:$("common.all")+$("common.departmentLabel"),show:!0},{type:"select",key:"job_status",placeholder:$("report.selectJobStatus"),options:[{label:"".concat($("dashboard.onJob")),value:"INCUMBENCY"},{label:"".concat($("dashboard.quitJob")),value:"DIMISSION"}],show:Xe.toString()==="true"},{type:"input",key:"name",placeholder:$("authentication.usernameplaceholder"),show:!0}].filter(te=>te.show),ot=te=>{var ve=te.page_num,Se=te.page_size,je=te.data_sequence,Fe=te.data_sort,Te=(0,E.Z)((0,E.Z)({},ae),{},{page_num:ve,page_size:Se,data_sequence:je,data_sort:Fe});re.current&&(re.current.load(Te),we(Te))},it=function(){var te=(0,D.Z)(y().mark(function ve(Se){var je;return y().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.prev=0,Te.next=3,(0,H.o1)({versionNo:Se.version_no});case 3:je=Te.sent,je.code==="200000"&&(n.default.success("".concat($("report.versionNO")).concat($("setting.successLabel"))),ze(),ue(!1)),Te.next=10;break;case 7:Te.prev=7,Te.t0=Te.catch(0),console.warn(Te.t0);case 10:case"end":return Te.stop()}},ve,null,[[0,7]])}));return function(Se){return te.apply(this,arguments)}}(),lt={labelAlign:"right",labelCol:{span:6},wrapperCol:{span:18}};return p().createElement(p().Fragment,null,p().createElement(ne.Om,{size:"small",title:$("report.versionNO"),visible:Ke,onCancel:()=>ue(!1),onOk:Je,okText:$("exam.settings")},p().createElement(V.J9,{ref:xe,initialValues:{version_no:Ie},onSubmit:it,render:()=>p().createElement(V.l0,null,p().createElement(V.gN,(0,O.Z)({component:oe.Z,name:"version_no",label:"VersionNO",validate:te=>(0,ee.QK)(te,"".concat($("report.inputVersionNO"))),required:!0,type:"text",char:!0,placeholder:$("report.inputVersionNO")},lt)))})),p().createElement(ie.Z,{showUserInfo:!0,ref:re,title:$("documentTitle.studentProfile"),getDataApi:H.xw,tableUUID:"67b9f55c-9eb6-4893-afba-57234a8e7c6e",formList:Qe,columns:et,sticky:!0,extraActionComponent:rt(),onParamsChange:tt,defaultParams:me,params:ae,onTableChange:ot,dataSortMapping:Q.qS,onlyShowCurrentDept:!0,sorter:{sort:Q.qS,sequence:Q.ZO},showExtraUpdateTime:!0,subTitle:{tooltip:$("dashboard.dataViewLogic"),type:"studentProfile"}}))};F.default=(0,L.Z)()(ye)},8449:function(pe,F,e){"use strict";e.d(F,{xw:function(){return n},In:function(){return f},xS:function(){return A},h0:function(){return I},JG:function(){return x},Td:function(){return M},b5:function(){return a},hE:function(){return t},o1:function(){return c}});var O=e(5430),g=e(10237);function n(s){var v=s.start_date,T=s.end_date,h=s.name,E=s.department_id,D=s.data_sort,P=s.data_sequence,C=s.page_size,y=s.page_num,u=s.job_status,p=O.VM.archives.getStudentArchivesList();return g.WY.get({url:p,params:{start_date:v,end_date:T,name:h,department_id:E,data_sort:D,data_sequence:P,page_size:C,page_num:y,job_status:u}})}function f(s){var v=s.start_date,T=s.end_date,h=s.name,E=s.learn_type,D=s.complete_status,P=s.course_type,C=s.data_sort,y=s.data_sequence,u=s.page_size,p=s.page_num,L=s.query_user_id,U=O.VM.archives.getCourseList();return g.WY.get({url:U,params:{start_date:v,end_date:T,name:h,learn_type:E,complete_status:D,course_type:P,data_sort:C,data_sequence:y,page_size:u,page_num:p,query_user_id:L}})}function A(s){var v=s.start_date,T=s.end_date,h=s.name,E=s.complete_status,D=s.data_sort,P=s.data_sequence,C=s.page_size,y=s.page_num,u=s.query_user_id,p=O.VM.archives.getExamList();return g.WY.get({url:p,params:{start_date:v,end_date:T,name:h,complete_status:E,data_sort:D,data_sequence:P,page_size:C,page_num:y,query_user_id:u}})}function I(s){var v=s.start_date,T=s.end_date,h=s.name,E=s.complete_status,D=s.data_sort,P=s.data_sequence,C=s.page_size,y=s.page_num,u=s.query_user_id,p=O.VM.archives.getTrainingList();return g.WY.get({url:p,params:{start_date:v,end_date:T,name:h,complete_status:E,data_sort:D,data_sequence:P,page_size:C,page_num:y,query_user_id:u}})}function x(s){var v=O.VM.archives.getLearnDurationTrend();return g.WY.get({url:v,params:s})}function M(s){var v=O.VM.archives.getUserSystem();return g.WY.get({url:v,params:s})}function a(s){var v=O.VM.archives.getQuotaDetail();return g.WY.get({url:v,params:s})}function t(s){var v=O.VM.archives.getSummaryVersionNo();return g.WY.get({url:v,params:s})}function c(s){var v=O.VM.archives.setSummaryVersionNo();return g.WY.put({url:v,data:{version_no:s.versionNo}})}},9849:function(pe,F,e){"use strict";e.d(F,{Ej:function(){return A},kL:function(){return I},T:function(){return x},NU:function(){return M},FL:function(){return a},fn:function(){return t},bm:function(){return c},jY:function(){return s},Vs:function(){return v},li:function(){return T},Nl:function(){return h},YF:function(){return E},Q6:function(){return D},zW:function(){return P},Zv:function(){return C},Qg:function(){return y},qc:function(){return u},Ve:function(){return L},rS:function(){return U},Rh:function(){return B}});var O=e(10237),g=e(37055),n=e(38642),f={zaraFlag:(0,n.UI)("ZARA_H5")};function A(Z,W){var R=g.ZP.StudyProjectList.startStudy(Z);return O.WY.post({url:R,data:W})}function I(Z){var W=g.ZP.Common.enroll(Z);return O.WY.post({url:W})}function x(Z,W){var R=Z.courseId,V=g.ZP.StudyProjectList.studyProject(R);return O.WY.get({url:V,params:W})}function M(Z){var W=Z.id,R=f.zaraFlag?g.m1.getAssessmentProjectInfo(W):g.m1.getProjectInfo(W);return O.WY.get({url:R})}function a(Z){var W=Z.courseId,R=g.ZP.EnterpriseCourse.addScanCount(W);return O.WY.post({url:R})}function t(){var Z=g.ZP.StudyProjectList.getAccountInfo();return O.WY.get({url:Z})}function c(Z){var W=g.ZP.StudyProjectList.projectCertiUrl(Z);return O.WY.get({url:W})}function s(Z){var W=Z.courseId,R=g.ZP.Courses.like(W);return O.WY.post({url:R})}function v(Z){var W=g.ZP.EnterpriseCourse.addCommentAndScore();return O.qg.post({url:W,data:Z})}function T(Z){var W=g.ZP.EnterpriseCourse.getCourseComments();return O.WY.get({url:W,params:Z})}function h(Z){var W=g.ZP.EnterpriseCourse.addCommentAndScore();return O.qg.post({url:W,data:Z})}function E(Z){var W=g.ZP.EnterpriseCourse.deleteComment();return O.qg.post({url:W,data:Z})}function D(Z,W){var R=g.ZP.StudyProjectList.projectStudyRecord(Z);return O.WY.get({url:R,params:W})}function P(Z){var W=g.ZP.DingSpaceId.getSpaceId();return O.WY.get({url:W,params:Z})}function C(Z,W){var R=g.ZP.PlatformCourse.learningUrl(Z);return O.WY.get({url:R,params:W})}function y(Z){var W=g.ZP.MyExamTask.examIntro({examId:Z});return O.WY.get({url:W})}function u(Z){var W=g.ZP.MyExamTask.examCheckStatus({examId:Z});return O.WY.get({url:W})}function p(Z,W){var R=CONFIG.Common.getOperateLog(Z);return formDataRequest.get({url:R,params:W})}function L(Z,W){var R=f.zaraFlag?g.ZP.StudyProjectList.changeCustomStatus(Z):g.ZP.StudyProjectList.changeStatus(Z);return O.WY.post({url:R,data:W})}function U(Z){var W=g.ZP.StudyProjectList.getProjectReward(Z);return O.WY.get({url:W})}function B(Z){var W=g.ZP.subsidyGz.subsidyCourseSetting(Z);return O.WY.get({url:W})}},14441:function(pe,F,e){"use strict";e.d(F,{v:function(){return n},t:function(){return f}});var O=e(10237),g=e(5430);function n(A){var I=g.Fc.getUserName();return O.WY.get({url:I,params:{user_id:A}})}function f(A){var I=g.Fc.getDepartmentNames();return O.WY.post({url:I,data:{ids:A}})}},97593:function(pe,F,e){"use strict";e.d(F,{N:function(){return M}});var O=e(34792),g=e(48086),n=e(37055),f={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:a=>{var t=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(t,"/report/list_report")},pkReportDetailsDetails:a=>{var t=a.competitionId,c=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(c,"/pk/").concat(t,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(n.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(n.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(n.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/student_archives/youjia_list_export"),authInfo:a=>{var t=a.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(t,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:a=>{var t=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/user/").concat(t,"/integral_export")},teacherImportPoints:a=>{var t=a.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecture/").concat(t,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(n.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(n.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(a,"/sign-analysis-export"),signAnalysisDetailExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(a.id,"/sign-detail-export"),studyProjectMonitorExport:a=>{var t=a.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_projects/").concat(t,"/user_monitors_export")},studyProjectPaymentList:a=>{var t=a.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_project/").concat(t,"/study_project_transaction_export")},study_project_transaction_export:a=>{var t=a.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/study_project/").concat(t,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(n.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:a=>{var t=a.projectId,c=a.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(n.ZP.enterpriseId,"/study_project/").concat(t,"/course/").concat(c,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificates_export"),certificatePeople:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/certificates/").concat(a.certificateId,"/users/export?type=").concat(a.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/plan_study_export"),learningMonitor:a=>{var t=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/plans/").concat(t,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/investigates/").concat(a.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:a=>{var t=a.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/operations/").concat(t,"/user_monitors_export")},huaLaiShiWorkUserData:a=>{var t=a.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/operations/").concat(t,"/user_monitors_export")},learningFaceMonitor:a=>{var t=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/user-recognition/course/").concat(t,"/export")},learningDetailMonitor:a=>{var t=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/user-recognition/v2/course/").concat(t,"/export")},classLearningMonitor:a=>{var t=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(n.ZP.enterpriseId,"/study-record/plan/").concat(t,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/investigates/").concat(a.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(a.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(a.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(n.ZP.enterpriseId,"/exams/").concat(a.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(n.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:a=>{var t=a.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/practices/").concat(t,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/user/").concat(n.ZP.userId,"/list/export"),exportPkMonitor:a=>{var t=a.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/competition/").concat(t,"/user/list/export")},exportPostMap:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/post_maps/").concat(a.mapId,"/users_export"),exportPowerMonitor:a=>{var t=a.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/qualifications/").concat(t,"/monitors_export")},exportQuestionnaire:a=>{var t=a.taskId,c=a.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/studies/").concat(t,"/investigates/").concat(c,"/statistics_export")},exportGoodsExchangeDetail:a=>{var t=a.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/").concat(t,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:a=>{var t=a.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(n.ZP.enterpriseId,"/lecturer/").concat(t,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(n.ZP.enterpriseId,"/export/plan/").concat(t,"/model")},offlineCrouseCheckIn:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(a,"/sign-analysis-export"),monitorUserExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/offline-courses/").concat(a,"/monitors-export"),evaluateAnalyzeExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(n.ZP.enterpriseId,"/course/").concat(a,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(n.ZP.enterpriseId,"/plan/").concat(a.planId,"/tutorials/").concat(a.tutorialsId,"/evaluation_export"),offlineCourseListExport:a=>{var t=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/").concat(t,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(n.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(n.ZP.enterpriseId,"/users/").concat(n.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(n.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(n.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/").concat(a,"/courses-export"),studyProjectCourseExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/study_projects/").concat(a,"/courses-export"),studyProjectPracticeExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/study_projects/").concat(a,"/practice-export"),trainingTandardsDetail:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(n.ZP.enterpriseId,"/objective/").concat(a,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(n.ZP.enterpriseId,"/annual-plans/").concat(t,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/exam_details/export"),medalDetailsExportData:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/medal/group/").concat(a,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(n.ZP.enterpriseId,"/").concat(n.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/export-user-task")},exportNewExamAnswerList:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/export_student_detail")},exportNewExamAnswerListPDF:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(n.ZP.enterpriseId,"/exams/").concat(t,"/download")},exportQuestionAnswerDetails:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/export_question_answer")},exportAnswerDataList:a=>{var t=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/export-question-analysis")},exportSubmitList:a=>{var t=a.planId,c=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/user-id/").concat(c,"/export_user_submit")},exportFaceRecognitionRecord:a=>{var t=a.userId,c=a.examId,s=a.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/users/").concat(t,"/exams/").concat(c,"/submit-id/").concat(s,"/export_face-info")},exportQuestionDetails:a=>{var t=a.planId,c=a.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(n.ZP.enterpriseId,"/exam-plan/").concat(t,"/export-question-user-result/").concat(c)},exportPointsDetail:a=>{var t=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/user/").concat(t,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(n.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:a=>{var t=a.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(n.ZP.enterpriseId,"/integral_mall/goods/").concat(t,"/export_orders")},exportLotteryOverview:a=>{var t=a.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/lottery/").concat(t,"/prizeOverview/export")},exportLotteryDetailList:a=>{var t=a.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(n.ZP.enterpriseId,"/lottery/").concat(t,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(n.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(n.ZP.enterpriseId,"/users/").concat(n.ZP.userId,"/group/export_address_book")},A=f,I=e(10237),x=e(31457),M=a=>{var t=a.page,c=a.props,s=a.query,v=s===void 0?"":s,T=a.rest,h=a.sendType,E=h===void 0?"get":h,D=a.success,P=a.fail,C=P===void 0?"":P,y=A[t](T)+(E==="get"?v:""),u=I.WY[E];u.call(I.WY,E==="get"?{url:y}:{url:y,data:v}).then(p=>{if(y.includes("/v3/")&&p.success==="true"||p.data.code===0||p.data.code===200||p.data.code===2e5||p.data.code==="200000"||p.data.resultCode==="200"||p.data.result_code==="200")(0,x.Pp)(c),g.default.success(c.t("study.compoundSucceed")),D&&D({code:200});else{if(C){C(p);return}g.default.error(c.t("community.isError"))}})}},91648:function(pe,F,e){"use strict";e.d(F,{Z:function(){return O}});function O(g,n){var f,A,I,x,f;if(A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),f=[],I=void 0,n=n||A.length,g)for(I=0;I<g;)f[I]=A[0|Math.random()*n],I++;else for(x=void 0,f[8]=f[13]=f[18]=f[23]="-",f[14]="4",I=0;I<36;)f[I]||(x=0|Math.random()*16,f[I]=A[I===19?x&3|8:x]),I++;return f.join("")}},69164:function(pe,F,e){"use strict";var O=e(34792),g=e(48086);function n(f){f&&f.length>0&&g.default.success(f)}F.Z=n},2396:function(pe,F,e){"use strict";e.d(F,{fA:function(){return n},kh:function(){return f},kR:function(){return A},rw:function(){return x},$s:function(){return M},q_:function(){return a},QK:function(){return t}});var O=e(6793),g={limitWords(c,s){return{rules:[{max:c,message:"\u6700\u591A\u8F93\u5165".concat(c,"\u4E2A\u5B57")},{required:!0,message:s||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(c){return{rules:[{max:c,message:"\u6700\u591A\u8F93\u5165".concat(c,"\u4E2A\u6807\u7B7E")}]}},required(c){return{rules:[{required:!0,message:c||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(c,s){return{rules:[{required:!0,message:c||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:s}]}}},n={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},f=c=>isNaN(c)||!c||!(c>=0&&c<1e3)||!n.score.test(c),A=c=>isNaN(c)||!c||!(c>-1e3&&c<1e3),I=c=>isNaN(c)||!c||!(c>=0&&c<1e3)||!n.examScore.test(c),x=(c,s)=>{for(var v=0,T=0;T<c.length;T++){var h=c.charAt(T);if(h.match(/[^\x00-\xff]/ig)!=null?v+=1:v+=.5,v>s)return T}return 0},M=c=>{for(var s=0,v=0;v<c.length;v++){var T=c.charAt(v);T.match(/[^\x00-\xff]/ig)!=null?s+=1:s+=.5}return s},a=(c,s)=>{var v=c.target.value,T=c.target.dataset.originLength;if(c.target.dataset.originLength||(T=s,c.target.dataset.originLength=T),!!T){var h=M(v);h*1<s*1?c.target.setAttribute("maxLength",s*2):c.target.setAttribute("maxLength",s)}},t=(c,s)=>{var v="";return(!c||!(0,O.fy)(c))&&(v=s),v}},4412:function(pe){pe.exports="data:image/png;base64,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"}}]);
