(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[7111],{4408:function(fe,te,s){"use strict";var w=s(12924),y=s.n(w),H=s(28216),C=s(17780),x=s(38642),k=I=>({userInfo:I.user}),N=I=>{var E=I.title;return(0,C.xX)()&&setTimeout(()=>{document.title=E},0),(0,w.useEffect)(()=>{if(E&&document.title!==E&&setTimeout(()=>{document.title=E},0),(0,x.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var o=document.querySelector(".zoom-report");o&&(o.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[E]),y().createElement(y().Fragment,null)};N.defautProps={title:""},te.Z=(0,H.$j)(k)(N)},67620:function(fe,te,s){"use strict";var w=s(34792),y=s(48086),H=s(12924),C=s.n(H),x=s(19222),k=s.n(x),N=s(32407),I=s(37055),E=I.ZP.Common.editorUpload(),o="cl_editor_toolbar_default",O="cl_editor_content_default";class A extends H.Component{constructor(b){super(b);this.initEditor=()=>{this.editor=new(k())(".".concat(this.props.toolbarCls),".".concat(this.props.contentCls)),this.editor.config.zIndex=10,this.editor.config.onfocus=()=>{var m=document.querySelector(".".concat(this.props.contentCls));m&&(m.style.minHeight=this.props.contentHeight,m.style.height="auto")},this.editor.config.onblur=()=>{var m=document.querySelector(".".concat(this.props.contentCls));m&&(m.style.height=this.props.contentHeight)},this.editor.config.menus=this.props.controls,this.editor.config.placeholder=this.props.placeholderContent||N.Z.t("component.pleaseEnterText"),this.editor.config.onchange=m=>{this.props.onChange&&this.props.onChange(m)},this.editor.config.onchangeTimeout=300,this.editor.config.uploadImgServer=E,this.editor.config.uploadImgMaxLength=5,this.editor.config.uploadImgParams={access_token:window.localStorage.getItem("token")},this.editor.config.uploadFileName="files",this.editor.config.uploadImgHooks={customInsert(m,T){var F=T.data;F.forEach(P=>{m(P)})}},this.editor.config.pasteTextHandle=function(m){return~m.indexOf("<!--[if gte mso 9]><xml>")||~m.indexOf("<spanyes")?"\u7C98\u8D34\u5185\u5BB9\u6709\u4E71\u7801\uFF0C\u8BF7\u4F7F\u7528ctrl+shift+v\u6765\u7C98\u8D34\u5185\u5BB9(mac\u8BF7\u4F7F\u7528command+shift+v)":m},this.editor.config.focus=!1,this.editor.config.uploadImgMaxSize=3*1024*1024,this.editor.config.uploadImgAccept=["jpg","jpeg","png","gif","bmp"],this.editor.config.showLinkImg=!1,this.editor.config.customAlert=function(m,T){switch(T){case"success":y.default.success(m);break;case"info":y.default.info(m);break;case"warning":y.default.warning(m);break;case"error":y.default.error(m);break;default:y.default.info(m);break}},this.editor.create(),this.editor.txt.html("".concat(this.props.placeholder))},this.getHtml=()=>this.editor.txt.html(),this.getText=()=>this.editor.txt.text(),this.setHtml=m=>this.editor.txt.html(m),this.editor=null}componentDidMount(){this.initEditor()}render(){var b=this.props.toolbarCls?"".concat(this.props.toolbarCls," cl_editor_toolbar"):"".concat(o," cl_editor_toolbar"),m=this.props.contentCls?"".concat(this.props.contentCls," cl_editor_content"):"".concat(O," cl_editor_content");return C().createElement(C().Fragment,null,C().createElement("div",{className:b}),C().createElement("div",{className:m,style:{height:this.props.contentHeight,minHeight:this.props.contentHeight}}))}}A.defaultProps={controls:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],placeholder:"\u5185\u5BB9\u7F16\u8F91\u533A\u57DF",toolbarCls:o,contentCls:O,contentHeight:"300px",placeholderContent:""},te.Z=A},1164:function(fe,te,s){"use strict";var w=s(12924),y=s.n(w),H=s(76651),C=s(38642),x=s(91302),k=N=>{var I=navigator.userAgent.toLocaleLowerCase(),E=localStorage.getItem("enterpriseId"),o=(0,C.lz)(E,N.projectType),O=localStorage.getItem("dingPersonnel"),A=x.bl.includes(O),j=N.target;function b(m){if(j==="self"&&(m.preventDefault(),H.m8.push(N.to)),A){if(N.projectType==="student"){window.location.href="".concat(o,"/").concat(N.to);return}H.m8.push(N.to);return}if(dd.version){m.preventDefault();var T="";N.to.includes("?")?T="".concat(o).concat(N.to,"&ddtab=true"):T="".concat(o).concat(N.to,"?ddtab=true"),dd.biz.util.openLink({url:T})}else I.indexOf("lark")!==-1&&(window.location.href="".concat(o).concat(N.to))}return y().createElement("a",{rel:"noreferrer",href:"".concat(N.projectType==="student"?"".concat(o).concat(N.to):"#".concat(N.to)),className:"".concat(N.wrapCls," cl-pointer"),target:I.indexOf("lark")!==-1||A?"_self":N.target||"_blank",onClick:b},N.children)};k.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},k.targetTo=N=>{var I=N.path,E=N.from,o=N.isExternalLink,O=o===void 0?!1:o,A=N.isAsync,j=A===void 0?!1:A,b=N.openName,m=b===void 0?"_blank":b,T=N.projectType,F=T===void 0?"manage":T,P=N.ddTab,K=P===void 0?!0:P,S,U=localStorage.getItem("dingPersonnel"),$=x.bl.includes(U),M=navigator.userAgent.toLocaleLowerCase(),d=localStorage.getItem("enterpriseId"),G=(0,C.lz)(d,F),D=localStorage.getItem("appType"),L=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var q="";if(S=O?"":G,$&&!O){if(F==="student"){window.location.href="".concat(G).concat(I);return}H.m8.push(I);return}I.includes("?")?q="".concat(S).concat(I,"&ddtab=").concat(K):q="".concat(S).concat(I,"?ddtab=").concat(K),dd.biz.util.openLink({url:q})}else if(M.indexOf("lark")!==-1)S=O?"":G,window.location.href="".concat(S).concat(I);else if(D==="wx_app"&&L&&O&&E==="imgText")S=O?"":F==="student"?"".concat(G):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(S).concat(I)});else if(S=O?"":F==="student"?"".concat(G):"#",j){var se=window.open("","_blank");setTimeout(()=>{se.location="".concat(S).concat(I)},100)}else window.open("".concat(S).concat(I),m)},te.Z=k},99891:function(fe,te,s){"use strict";var w=s(12924),y=s.n(w),H=s(28216),C=s(91768),x=s(37055),k=s(10237),N=s(60667);class I extends y().PureComponent{constructor(O){super(O);this.getWaterMarkText=A=>{var j=this.props.userInfo,b=j.jobNumber,m=localStorage.getItem("waterMarkPostName"),T=[],F=A.find(K=>K.type==="content_setting"),P=A.find(K=>K.type==="content_custom");return F.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),P.param.checked==="true"&&P.param.comment[0]!==""&&this.setState({commentText:P.param.comment[0]}),F.param.comment.indexOf("position")!==-1&&m&&m!==""&&T.push("".concat(m)),F.param.comment.indexOf("jobnumber")!==-1&&b&&b!==""&&T.push("".concat(b)),T.join("-")},this.getWaterMarkApplication=A=>{var j=this.props.scenes,b=A.find(m=>m.type==="application_scenario");b.param.comment.indexOf(j)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=A=>{var j=A.find(b=>b.type==="dispersive");this.setState({isDispersive:j.param.checked==="true"})},this.getDynamicSet=()=>{var A=x.ZP.advancedSetting.dynamicWaterMarkNew(),j={access_token:window.localStorage.getItem("token")};k.WY.get({url:A,params:j}).then(b=>{var m=JSON.parse(b.data.actions);this.setState({waterMarkText:this.getWaterMarkText(m),actions:m}),this.getWaterMarkApplication(m),this.getWaterIsDispersive(m)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var O=localStorage.getItem("waterMarkPostName");O===""||O===null?this.getPostName():this.getDynamicSet()}getPostName(){var O=x.ZP.advancedSetting.getPostName();k.WY.get({url:O}).then(A=>{localStorage.setItem("waterMarkPostName",A.data.post_names[0]||""),this.getDynamicSet()})}render(){var O=this.state,A=O.showWaterMark,j=O.waterMarkCount,b=O.isUserName,m=O.isDispersive,T=O.waterMarkText,F=O.actions,P=O.commentText,K=this.props.userInfo,S=K.name,U=K.unionid,$=K.sourceType;return y().createElement("div",{className:"common-watermark"},A&&new Array(j).fill(0).map((M,d)=>y().createElement("div",{key:d,className:"common-watermark-item ".concat(m?"isDispersive":"")},y().createElement("span",{className:"common-watermark-item-content"},P!==""&&y().createElement("span",{className:"item-part"},P),b&&y().createElement("span",null,P!==""&&y().createElement("span",null,"-"),y().createElement(N.Z,{dataType:"userName",value:U,name:S,type:$})),y().createElement("span",{className:"item-part"},(b||P!=="")&&T!==""&&y().createElement("span",null,"-"),T)))))}}var E=o=>({userInfo:o.user});te.Z=(0,H.$j)(E)((0,C.Z)()(I))},60667:function(fe,te,s){"use strict";s.d(te,{Z:function(){return I}});var w=s(33565),y=s(12924),H=s.n(y),C=s(28216);function x(E){var o=E.type,O=E.openid,A=E.from,j=(0,y.useRef)(null);return(0,y.useLayoutEffect)(()=>{A==="vue"?window.parent.WWOpenData.bind(j.current):WWOpenData.bind(j.current)}),H().createElement("ww-open-data",{ref:j,type:o,openid:O})}var k=E=>{var o=E.wxWorkApiFlag,O=E.appType,A=E.from,j=(0,y.useState)(!1),b=(0,w.Z)(j,2),m=b[0],T=b[1];(0,y.useEffect)(()=>{var K=localStorage.getItem("qyWechatBook");(O!=="wx_app"||o||K==="false"||A==="vue"||A==="taro")&&T(!0)},[o,O,A]);var F=(0,y.useCallback)(()=>{var K=E.type,S=E.value,U=E.name,$=U===void 0?"":U;switch(console.warn(E,"props"),K){case"wx_sync":{var M=E.dataType;return S?H().createElement(x,{from:A,type:M,openid:S}):$}default:return $}},[E]),P=()=>{var K=E.name,S=E.dataType,U=localStorage.getItem("qyWechatBook");if(S===""||U==="false")return K;if(A==="vue"||A==="taro")return F();switch(E.appType){case"wx_app":return F();default:return K}};return m?P():E.name};k.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var N=E=>({appType:E.user.appType,wxWorkApiFlag:E.user.wxWorkApiFlag}),I=(0,C.$j)(N)(k)},76466:function(fe,te,s){"use strict";s.d(te,{Z:function(){return mt}});var w=s(20228),y=s(11382),H=s(57663),C=s(71577),x=s(62029),k=s(57361),N=s(9754),I=s.n(N),E=s(12924),o=s.n(E),O=s(91512),A=s(68654),j=s(91768),b=s(4412),m=s.n(b);class T extends o().Component{render(){var a=this.props.t;return o().createElement("div",{className:"net-preview"},o().createElement("div",{className:"net-preview-center"},o().createElement("img",{src:m(),alt:"picture"}),o().createElement("h2",null,a("localStorage.tip")),o().createElement("p",null,a("localStorage.banPreview"))))}}var F=(0,j.Z)()(T),P=s(88986),K=s(34792),S=s(48086),U=s(28216),$=s(21594),M=s(41225),d=s(10237),G=(z,a)=>(0,P.Z)({id:z||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},a),D=G;class L extends E.Component{constructor(){super(...arguments);this.setupPlayer=a=>{var r=this.props,t=r.onVideoReady,e=t===void 0?()=>{}:t,n=r.playerConfig,i=r.contentType;a&&a==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,P.Z)((0,P.Z)({},n),{},{contentType:i==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:n.source,autoplay:n.autoplay,width:n.width,id:n.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:l=>{l.on("sourceloaded",u=>{var c=u.paramData,g=c.desc,f=c.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(g,f,n.id)}),l.on("ready",()=>{e()}),this.playerInstance=l,this.setPlayerConfig()}}))}}componentDidUpdate(a){a.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(a){this.player&&this.player.seek(a)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(a){this.player.setSpeed(a)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var a=this.props,r=a.onPlay,t=r===void 0?()=>{}:r,e=a.onTimeUpDate,n=e===void 0?()=>{}:e,i=a.onEnd,l=i===void 0?()=>{}:i,u=a.onPause,c=u===void 0?()=>{}:u,g=a.onError,f=g===void 0?()=>{}:g,_=this.playerInstance;_.on("play",()=>{t()}),_.on("pause",()=>{c()}),_.on("timeupdate",p=>{n(p)}),_.on("ended",()=>{l()}),_.on("error",(0,k.Z)(I().mark(function p(){return I().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:f();case 1:case"end":return W.stop()}},p)})))}render(){var a=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:a.id}))}}L.playerInstance=null,L.defaultProps={playerConfig:D(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var q=L,se=(z,a)=>(0,P.Z)({id:z||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},a),ce=se;class oe extends E.Component{constructor(){super(...arguments);this.setupPlayer=a=>{a&&a==="resetPlayer"&&this.player.dispose();var r=this.props,t=r.playerConfig,e=r.onVideoReady,n=e===void 0?()=>{}:e;this.player=new Aliplayer(t,i=>{i.on("sourceloaded",l=>{var u=l.paramData,c=u.desc,g=u.definition;i.getComponent("VideoQuality")&&i.getComponent("VideoQuality").setCurrentQuality(c,g,t.id)})}),this.player.on("ready",()=>{n()})},this.setPlayerConfig=()=>{var a=this.props,r=a.onPlay,t=r===void 0?()=>{}:r,e=a.onTimeUpDate,n=e===void 0?()=>{}:e,i=a.onEnd,l=i===void 0?()=>{}:i,u=a.onPause,c=u===void 0?()=>{}:u,g=a.onError,f=g===void 0?()=>{}:g;this.player.on("play",()=>{t()}),this.player.on("pause",()=>{c()}),this.player.on("timeupdate",_=>{n(_)}),this.player.on("ended",()=>{l()}),this.player.on("error",(0,k.Z)(I().mark(function _(){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:f();case 1:case"end":return h.stop()}},_)})))},this.getPlayerContent=a=>{this.playerContainer=a}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(a){a.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(a){this.player.seek(a)}exitFull(){var a=this.player.fullscreenService;a&&a.isFullScreen&&a.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var a=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:a.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}oe.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:ce()};var le=oe;class ye{constructor(a){this.hasCreated=!1,this.definition="",this.getQuality=a}createEl(a,r){var t=r._options&&r._options.language,e=r._el.id;this.isEn=t&&t==="en-us";var n=(0,$.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),i=(0,$.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),l=document.querySelector("#".concat(e," .prism-controlbar"));l.appendChild(n),a.appendChild(i)}setCurrentQuality(a,r,t){var e=document.querySelector("#".concat(t," .current-quality"));e.innerText=a,e.dataset.def=r,this.definition=r;var n=document.querySelector("#".concat(t," .quality-list")),i=n.querySelector(".current");i&&(i.className="");var l=n.querySelector('li[data-def="'.concat(r,'"]'));l&&(l.className="current")}created(a){this._urls=a._urls;var r=a._el.id,t=document.querySelector("#".concat(r," .current-quality")),e=document.querySelector("#".concat(r," .quality-list")),n=document.querySelector("#".concat(r," .quality-modal")),i=this._urls.map(c=>'<li data-def="'.concat(c.definition,'">').concat(c.desc,"</li>"));if(e.innerHTML=i.join(""),this.hasCreated==!1&&this.definition){var l=e.querySelector('li[data-def="'.concat(this.definition,'"]'));l.className="current"}this.hasCreated=!0;var u=null;t.onclick=()=>{e.style.display="block"},t.onmouseleave=()=>{u=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(u)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=c=>{var g=c.target,f=g.dataset.def,_=g.innerText;if(f&&g.className!=="current"){var p=this._urls.find(h=>h.definition===f);a.loadByUrl(p.Url,a.getCurrentTime(),!0,!0),this.setCurrentQuality(p.desc,p.definition,r),n.style.display="block",n.querySelector("span.current-quality-tag").innerText=p.desc}this.getQuality(f,_)}}ready(a){var r=a._el.id,t=document.querySelector("#".concat(r," .quality-modal"));t.style.display="none";var e=document.querySelector("#".concat(r," .prism-setting-item.prism-setting-quality"));e&&e.classList.add("player-hidden")}}class he{createEl(a,r){var t=r._el.id,e=(0,$.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),n=document.querySelector("#".concat(t," .prism-controlbar"));n.appendChild(e)}ready(a){var r=a._el.id,t=document.querySelector("#".concat(r," .current-rate")),e=document.querySelector("#".concat(r," .rate-list")),n=null,i=document.querySelector("#".concat(r," .prism-setting-item.prism-setting-speed"));i&&i.classList.add("player-hidden"),t.onclick=()=>{e.style.display="block"},t.onmouseleave=()=>{n=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(n)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=l=>{var u=l.target,c=u.dataset.rate;if(c){if(a.setSpeed(c),u.className!=="current"){var g=e.querySelector(".current");g&&(g.className=""),u.className="current"}e.style.display="none",t.innerText="".concat(c,"x")}}}}var Ie=s(69164),Te=s(37055);function B(z){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Te.ZP.local.getLocalUrl(z);return d.WY.get({url:r,params:a})}var ke=s(91648),we=s(18329),De=s(38642),Ue=s(9849),Oe=s(99891);class We extends E.Component{constructor(a){super();this.WaterMarkText=a,this.html=document.getElementsByClassName("common-watermark")}createEl(a){setTimeout(()=>{a.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var je=We,tt=z=>({userInfo:z.user});class Fe extends E.Component{constructor(a){var r;super(a);r=this,this.onVideoReady=t=>{var e=this.props,n=e.resourceInfo,i=e.mode,l=e.autoPlay,u=e.t,c=n.storageType;t==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(t),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(i==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),i==="preview"&&l&&this.play.play()):c==="ALIBABA_PRIVATE"||c==="LOCAL"?this.updateSource("resetPlayer"):(d.WY.logger({keyword:"video",moduleName:"video-play",msg:u("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var t=this.props,e=t.draggable,n=t.mode,i=t.t,l=t.studyInfo,u=t.needCurrentTime,c=t.onCurrentTime,g=c===void 0?()=>{}:c,f=l.studyType,_=l.studyId,p=l.resourceId,h=this.state,W=h.showPreventHang,Y=h.dragSwitch,X=h.showRandomAlert,ee=h.randomAlertDialogVisible,Z=this.playingVideo,ve=Z.oneTime,pe=Z.popupWindowCount,me=Z.maxPlayTime,Ae=Z.progress,_e=Z.auditionLength,Pe=Z.auditionType,ge=Z.duration,Se=Z.recentStart,ue=this.play.getCurrentTime(),ie=(W==="OPEN"||X==="OPEN")&&pe>0;if(u&&g(ue),_e>0&&Pe===2&&ue>_e&&(this.play.seek(_e),S.default.warning(i("component.haveALookOverTip")),this.play.pause()),n==="learn"&&ie){var Me=ge-ve*pe;if(pe>0&&ue>Me)if(this.play.pause(),X==="OPEN"){if(!ee){var R=(0,ke.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:R},()=>{(0,M.qp)({popupId:R,planId:_,resourceId:p,type:"popup_start"})}),this.play.exitFull()}}else W==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((e||Ae===100)&&(ue>0&&(this.playingVideo.recentStart=ue),!((f==="enterprise"||f==="studyProject")&&Y==="OPEN")))return!1;ue>me?ue-Se>2?(this.playingVideo.recentStart=me,this.play.seek(me),S.default.warning(i("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ue,this.playingVideo.maxPlayTime=ue):ue>0&&ue>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ue)},this.onPlay=()=>{var t=this.props,e=t.mode,n=t.onPlay,i=n===void 0?()=>{}:n;i();var l=this;e==="learn"&&!l.timer&&(l.timer=setTimeout(function u(){l.saveProgress(),clearTimeout(l.timer),l.timer=setTimeout(u,2e4)},2e4))},this.onPause=()=>{var t=this.props,e=t.studyInfo,n=t.mode,i=e.studyType;clearTimeout(this.timer),this.timer=null,n==="learn"&&(i==="platform"||i==="enterprise"||i==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var t=this.props.mode;t==="learn"&&this.saveProgress()},this.onError=t=>{var e=this.props.resourceInfo,n=e.storageType;(n==="ALIBABA_PRIVATE"||n==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var t=this.props.mode;this.initPlayVideo(),t==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var t=this.state,e=t.showPreventHang,n=t.showRandomAlert,i=this.props,l=i.t,u=i.playingVideo,c=i.studyInfo,g=i.autoPlay,f=u.recentStart,_=u.duration,p=u.progress,h=c.studyType,W=(e==="OPEN"||n==="OPEN")&&(h==="studyTask"||h==="enterprise"||h==="studyProject")&&p<100;W?(n==="OPEN"?this.setState({promptMessage:l("component.preventAlertTip"),dialogVisible:!0}):e==="OPEN"&&this.setState({promptMessage:l("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):g&&(this.play.play(),Math.ceil(f)<parseInt(_)&&this.play.seek(f))},this.playerShowPreventHang=()=>{var t=this.playingVideo,e=t.duration,n=t.recentStart,i=0;e>0&&e<180?(i=e/2,this.playingVideo.oneTime=i,n>=i?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):e>=180&&e<600?(i=e/3,this.playingVideo.oneTime=i,n>=2*i?this.playingVideo.popupWindowCount=0:n>=i?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(i=e/4,this.playingVideo.oneTime=i,n>=3*i?this.playingVideo.popupWindowCount=0:n>=2*i?this.playingVideo.popupWindowCount=1:n>=i?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var t=this.props,e=t.playingVideo,n=t.mode;if(n==="learn"){this.playingVideo=(0,P.Z)({},e);var i=e.duration,l=e.progress;this.playingVideo.hasFinished=parseInt(l)===100,this.playingVideo.maxPlayTime=parseInt(i)*parseInt(l)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,k.Z)(I().mark(function t(){var e,n,i,l,u,c,g,f,_,p,h,W,Y,X,ee,Z,ve,pe,me,Ae,_e,Pe,ge,Se;return I().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(e=r.state,n=e.speedSwitch,i=e.dragSwitch,l=e.whiteList,u=r.props,c=u.resourceInfo,g=u.showQuality,f=c.contentType,_=c.storageType,p=c.source,h=c.playId,W=c.playerId,Y=c.showFullScreen,X=Y===void 0?!0:Y,ee=ce(W),ee.components=[],Z=typeof p=="object"&&p.hasOwnProperty("FD")&&p.FD.indexOf("m3u8")===-1,g&&Z&&f!=="mp3"&&(_&&_==="PUBLIC_CLOUD"||!_)&&ee.components.push({name:"VideoQuality",type:ye,args:[()=>{r.play.pause(),r.playingVideo.readyCount=0}]}),n==="OPEN"&&ee.components.push({name:"VideoRate",type:he}),X&&(ve=ee.skinLayout.find(Me=>Me.name==="controlBar"),ve&&ve.children.splice(ve.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ee.components.push({name:"VideoWaterMark",type:je}),pe=p.FD,me=p.OD,pe.indexOf("http://")>-1&&(pe=pe.replace("http://","https://")),me.indexOf("http://")>-1&&(me=me.replace("http://","https://")),Ae=l.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",p.OD=me&&me.indexOf(Ae)>-1&&me.indexOf(".mp4")>-1?me:pe,p.FD=pe,_e=typeof p!="string"?JSON.stringify(p):p,ee.source=_e,i==="OPEN"&&(ee.disableSeek=!0),_!=="ALIBABA_PRIVATE"){ie.next=32;break}return ie.next=22,(0,M.BR)(h);case 22:if(Pe=ie.sent,!Pe){ie.next=28;break}ee.source=Pe,ee.vodRetry=1,ie.next=30;break;case 28:return r.setState({showPrivateVodError:!0}),ie.abrupt("return");case 30:ie.next=38;break;case 32:if(_!=="LOCAL"){ie.next=38;break}return ie.next=35,B(h);case 35:ge=ie.sent,Se=ge.data,Se.code===0&&(ee.source="".concat(p.FD,"?auth_key=").concat(Se.data.auth_key),ee.vodRetry=1);case 38:r.setState({playerConfig:ee});case 39:case"end":return ie.stop()}},t)})),this.updateSource=function(){var t=(0,k.Z)(I().mark(function e(n){var i,l,u,c,g,f,_,p;return I().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(i=r.state.playerConfig,l=r.props.resourceInfo,u=l.storageType,c=l.source,g=l.playId,r.playingVideo.readyCount=0,u!=="ALIBABA_PRIVATE"){W.next=16;break}return W.next=7,(0,M.BR)(g);case 7:if(f=W.sent,!f){W.next=12;break}Object.assign(i,{source:f,vodRetry:1}),W.next=14;break;case 12:return r.setState({showPrivateVodError:!0}),W.abrupt("return");case 14:W.next=22;break;case 16:if(u!=="LOCAL"){W.next=22;break}return W.next=19,B(g);case 19:_=W.sent,p=_.data,p.code===0&&Object.assign(i,{source:"".concat(c.FD,"?auth_key=").concat(p.data.auth_key),vodRetry:1});case 22:r.setState({playerConfig:i},()=>{r.play.setupPlayer(n)});case 23:case"end":return W.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.saveProgress=()=>{var t=this.props,e=t.studyInfo,n=t.userInfo,i=n.isLogin,l=n.enterpriseId,u=n.id,c=this.playingVideo,g=c.recentStart,f=c.duration,_=c.hasFinished,p=Math.ceil(+g);p>Number(f)&&(p=Number(f));var h=Math.ceil(p/+f*100);if((h>100||_)&&(h=100),i){var W=this.playingVideo,Y=W.auditionType,X=W.auditionLength;if(X>0&&Y===2){var ee=Math.ceil(X/f*100);ee<=h&&(h=ee,p=X)}(0,M.sH)({studyInfo:e,progress:h,recent_start:p,enterpriseId:l,userId:u}).then(Z=>{Z&&Z.data&&(0,Ie.Z)(Z.data.integral_info||"")})}},this.getInfoFromSettings=(0,k.Z)(I().mark(function t(){var e,n,i,l,u,c,g,f,_;return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return e=r.props.studyInfo,n=e.studyType,i=e.projectId,h.next=4,(0,M.Gw)();case 4:if(l=h.sent,u=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],c=(0,$.RG)(l,u),n!=="studyProject"){h.next=14;break}return h.next=10,(0,Ue.NU)({id:i});case 10:g=h.sent,f=g.status,_=g.data,f===200&&(c.showPreventHang=_.prevent_cut_screen?"OPEN":"CLOSED",c.speedSwitch=_.speed_play?"OPEN":"CLOSED",c.dragSwitch=_.prevent_drag?"OPEN":"CLOSED");case 14:r.setState(c,()=>{r.dealVideoConfig()});case 15:case"end":return h.stop()}},t)})),this.dealAudioPoster=()=>{var t=this.props.resourceInfo.contentType,e=t===void 0?"":t;this.setState({showAudioPoster:e==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var t=this.state.showAudioPoster,e=this.play.playerContainer;t&&e&&(e.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),e.style.backgroundSize="cover")},this.getPlayInstance=t=>{this.play=t},this.handleOk=()=>{this.setState({dialogVisible:!1});var t=this.state.btnType,e=this.playingVideo.recentStart,n=this.props.t;t==="know"?(this.play.play(),this.play.seek(e),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:n("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,k.Z)(I().mark(function t(){var e,n,i,l;return I().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=r.props.studyInfo,n=e.studyId,i=e.resourceId,l=r.state.randomAlertUUID,(0,M.qp)({popupId:l,planId:n,resourceId:i,type:"popup_end"}).then(()=>{r.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),r.playingVideo.popupWindowCount-=1,r.play.play();case 6:case"end":return c.stop()}},t)})),this.renderFooter=()=>{var t=this.state.btnType,e=this.props.t;return o().createElement(C.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(t)},e(t==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var t=this.props.t;return o().createElement(C.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},t("common.ok"))},this.state={playerConfig:ce(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:a.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:a.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:a.t("component.randomAlertTip"),randomAlertModal:{title:a.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,De.UI)("CL_VIDEO_BAIYING_COM_CN")}},a.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(a){var r=typeof a.resourceInfo.source!="string"?JSON.stringify(a.resourceInfo.source):a.resourceInfo.source,t=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;r!==t&&t!==""&&this.initInfo()}componentWillUnmount(){var a=this.props.mode;a==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var a=this.state,r=a.playerConfig,t=a.showPrivateVodError,e=a.dialogVisible,n=a.dialogModal,i=a.promptMessage,l=a.randomAlertDialogVisible,u=a.randomAlertModal,c=a.randomAlertTip,g=a.encryptedSwitch,f=this.props,_=f.resourceInfo,p=f.t,h=g==="OPEN"?q:le;return o().createElement(E.Fragment,null,o().createElement(h,(0,x.Z)({ref:this.getPlayInstance},_,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:r,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),o().createElement(we.ZP,(0,x.Z)({visible:e},n,{footer:this.renderFooter()}),o().createElement("div",{className:"video-business-prompt"},i)),o().createElement(we.ZP,(0,x.Z)({visible:l},u,{footer:this.renderRandomFooter()}),o().createElement("div",{className:"video-player-container__prompt"},c)),t&&o().createElement("div",{className:"video-business-vod-error"},p("privateCloud.docReadError")),o().createElement(Oe.Z,{scenes:"video"}))}}var ae=(0,U.$j)(tt,null,null,{forwardRef:!0})((0,j.Z)("translation",{withRef:!0})(Fe)),Ke=s(94184),He=s.n(Ke),be=s(84874),Ne=z=>({userInfo:z.user}),at={getPravateDocUrl:Te.ZP.localStorage.getPravateDocUrl};function rt(z){return JSON.stringify(z,(a,r)=>(typeof r=="function"&&(r=r.toString()),r))}function ze(z){var a=parseInt(parseInt(z,10)/60,10),r=parseInt(parseInt(z,10)%60,10);return a<10&&(a="0".concat(a)),r<10&&(r="0".concat(r)),"".concat(a,":").concat(r)}class Re extends E.Component{constructor(a){var r;super(a);r=this,this.messageFun=t=>{var e=this.props,n=e.docType,i=e.progress,l=e.studyTimeLimit,u=e.studyTime,c=this.state,g=c.jumpPageTag,f=c.totalTime,_=c.timeRemaining,p=this.state.previewDocData,h={};try{h=JSON.parse(t.data)}catch(W){return}switch(h.action){case"preview.ready":this.initDocData();break;case"preview.meta":p.totalPage=h.data.pc||1,p.currentPage=1,this.setState({previewDocData:p},()=>{this.reportStatusInterval()}),l>0?(this.saveProgress(i,u||"1",h.data.pc||1),this.setState({showCountDownContainer:!0})):n==="xlsx"||n==="xls"||p.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(i,u||"1",h.data.pc||1),l>0&&i<100?(this.setState({showCountDown:!0}),n==="xlsx"||n==="xls"?f=l:f=l*h.data.pc,_=parseInt(f*(1-i/100),10),this.setState({timeRemaining:_,totalTime:f},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(g){g=!1,this.setState({jumpPageTag:g});return}p.currentPage=h.data.pageIndex+1,this.setState({previewDocData:p}),l||this.saveProgress(Math.ceil(p.currentPage/p.totalPage*100),p.currentPage,p.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":S.default.error(h.data.result);break;default:break}},this.initDocData=(0,k.Z)(I().mark(function t(){var e,n,i,l,u,c,g,f,_,p,h,W,Y,X;return I().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(r.setState({isShowPrivateError:!1}),e=r.props,n=e.docType,i=e.userInfo,l=e.documentWatermarkSettings,u=e.storageType,c=e.privateDocId,g=i.name,f=i.jobNumber,_=i.position,p="",h={},u!=="ALIBABA_PRIVATE"){Z.next=18;break}return Z.prev=6,W=at.getPravateDocUrl(c),Z.next=10,d.WY.get({url:W});case 10:Y=Z.sent,X=Y.data,X.code===0?h=X.data||{}:r.setState({isShowPrivateError:!0}),Z.next=18;break;case 15:Z.prev=15,Z.t0=Z.catch(6),r.setState({isShowPrivateError:!0});case 18:if(l.indexOf("name")>-1&&(p="".concat(p+g," ")),l.indexOf("position")>-1&&(p="".concat(p+_," ")),l.indexOf("jobnumber")>-1&&(p+=f),p.length>0?window.sendMessage("preview.init",(0,P.Z)({wmType:1,wmValue:p,wmColor:"rgba(192, 192, 192, 0.4)"},h)):window.sendMessage("preview.init",(0,P.Z)({},h)),n!=="xlsx"&&n!=="ppt"&&n!=="pptx"&&n!=="xls"?r.setState({pageOperateContainerVisible:!0}):r.setState({pageOperateContainerVisible:!1}),!(n==="ppt"||n==="pptx")){Z.next=29;break}Z.t1=window,Z.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},Z.t1.sendMessage.call(Z.t1,"setConfig",Z.t2),Z.next=32;break;case 29:Z.t3=window,Z.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},Z.t3.sendMessage.call(Z.t3,"setConfig",Z.t4);case 32:case"end":return Z.stop()}},t,null,[[6,15]])})),this.handleJumpPage=t=>{var e=this.state.previewDocData;e.currentPage=t,this.setState({jumpPageTag:!0,previewDocData:e});var n=t/e.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(n),t,e.totalPage),window.sendMessage("logic.toPage",{pageIndex:t-1})},this.redirectPage=()=>{var t=this.props,e=t.studyTimeLimit,n=t.studyTime,i=0;e===0&&(i=n-1>0?n-1:0),window.sendMessage("logic.toPage",{pageIndex:i})},this.docCountDown=()=>{var t=this.state.timeRemaining,e=this.state,n=e.totalTime,i=e.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{t-=1,this.setState({timeRemaining:t}),t<1&&(this.saveProgress(100,0,i.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var l=(n-t)/n*100;t<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(l),t,i.totalPage)},2e4)},this.saveProgress=(t,e,n)=>{var i=this.props.onSaveProgress;i&&i(t,e,n)},this.reportStatusInterval=()=>{var t=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var e=this.state.previewDocData.currentPage;t&&t({currentPage:e})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=t=>{this.docReader=t},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(a,r)=>{var t=this.docReader.contentWindow;t.postMessage(rt({action:a,data:r}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var a=this.props,r=a.t,t=a.storageType,e=a.privateDocId,n=this.props.aliUrl,i=this.state,l=i.previewDocData,u=i.pageOperateContainerVisible,c=i.timeRemaining,g=i.showCountDown,f=i.showCountDownContainer,_=i.showPageOperateContainer,p=i.isShowPrivateError;return t==="ALIBABA_PRIVATE"&&(n="https://preview.imm.aliyuncs.com/index.html?docId=".concat(e)),o().createElement("div",{className:"doc-reader-container"},o().createElement("div",{className:"ali-doc-container",style:{paddingBottom:u?"56px":"0"}},o().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:n,id:"aliyunPreview",ref:this.dealPreviewRef}),f?o().createElement("div",{className:"ali-doc-container__countdown"},g?o().createElement("div",null,o().createElement(be.Z,{iconClass:"iconf-tipe",size:"16px"}),r("component.docStillStudy"),o().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",ze(c)," "),r("component.canDone")):o().createElement("div",null,o().createElement(be.Z,{iconClass:"iconf-tipe",size:"16px"}),r("component.docHasFinish"))):null,u?o().createElement("div",{className:"ali-doc__operate"},o().createElement("div",{className:He()(["ali-doc__operate__content",_?"":"ali-doc__operate__hide-content"])},o().createElement("div",{className:"ali-doc__operate__pagination"},o().createElement("div",{className:"ali-doc__operate__pagination__pages"},l.currentPage," / ",l.totalPage),o().createElement("div",{className:"ali-doc__operate__pagination__toggle"},o().createElement("div",{className:"ali-doc__operate__pagination__choose"},o().createElement("span",null,r("component.choosePage"),o().createElement(be.Z,{iconClass:"iconf-arrow-under",size:"14px"})),o().createElement("div",{className:"ali-doc__operate__page-list-container"},o().createElement("div",{className:"ali-doc__operate__choose-page"},r("component.fastChoosePage")),o().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:l.totalPage})).map((h,W)=>o().createElement("li",{key:h,onClick:()=>this.handleJumpPage(W+1)},W+1))))),o().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},r("common.collapse"))))),o().createElement("div",{className:He()("ali-doc__operate__unfold",_?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},r("common.expand"))):null,p&&o().createElement("div",{className:"ali-doc__error"},r("privateCloud.docReadError"))),o().createElement(Oe.Z,{scenes:"document"}))}}Re.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var nt=(0,U.$j)(Ne)((0,j.Z)()(Re)),st=z=>({userInfo:z.user}),Ye="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),de="".concat("https://doc.coolcollege.cn");class Qe extends o().Component{constructor(a){var r;super(a);r=this,this.onSaveProgress=(t,e,n)=>{var i=this.props,l=i.mode,u=i.studyInfo,c=i.userInfo,g=c.enterpriseId,f=c.id;l==="learn"&&(0,M.sH)({studyInfo:u,progress:t,page_count:n,recent_start:e,enterpriseId:g,userId:f}).then(_=>{_&&_.data&&(0,Ie.Z)(_.data.integral_info||"")})},this.messageFun=function(){var t=(0,k.Z)(I().mark(function e(n){var i,l,u,c,g,f;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n.data!=="local-resource"){p.next=9;break}if(i=r.props.resourceInfo,l=i.storageType,u=i.playId,!(l&&l==="LOCAL")){p.next=9;break}return p.next=6,B(u);case 6:c=p.sent,g=c.data,g.code===0&&(f=document.getElementById("local-resource-box"),f.contentWindow.postMessage({msg:"local-auth-key",authKey:g.data.auth_key},"*"));case 9:case"end":return p.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getInfoFromSettings=(0,k.Z)(I().mark(function t(){var e,n,i;return I().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,M.Gw)();case 2:e=u.sent,n=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],i=(0,$.RG)(e,n),r.setState(i,()=>{r.initDocPage(r.props)});case 6:case"end":return u.stop()}},t)})),this.initDocPage=(0,k.Z)(I().mark(function t(){var e,n,i,l,u,c,g,f,_,p,h,W,Y,X,ee,Z,ve,pe,me,Ae,_e,Pe,ge,Se,ue,ie,Me,R,xe,v,V,J,ne,Ee,Le=arguments;return I().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(e=Le.length>0&&Le[0]!==void 0?Le[0]:{},n=e.resourceInfo,i=e.mode,l=e.studyInfo,u=e.userInfo,c=r.state.documentPlayerMode,g=n.docType,f=n.docTitle,_=n.url,p=n.studyTimeLimit,h=n.studyTime,W=n.aliUrl,Y=n.progress,X=n.storageType,ee=n.playId,Z=l.studyType,ve=l.courseId,pe=l.studyId,me=l.resourceId,Ae=u.enterpriseId,_e=u.id,Pe=u.isLogin,ge=u.token,Se=c==="compat"&&W.indexOf("preview.imm.aliyun")>-1||X==="ALIBABA_PRIVATE",!Se){Ce.next=11;break}r.setState({showAliReader:!0}),Ce.next=31;break;case 11:if(ue=(0,M.sH)({enterpriseId:Ae,userId:_e,token:ge,studyInfo:l},!0),ie=Z==="studyTask"?2:1,Me=Te.ZP.SaveProgress.reportStatusInterval(l),R={isSaveProgress:Pe&&i==="learn"&&ue,isSaveRecord:!1,access_token:ge,userId:_e,hostUrl:Ye,courseId:ve,resourceId:me,courseType:1,planId:pe,studyTimeLimit:p,studyTime:h,saveProgressUrl:ue,type:"eapp",progress:Y,saveRecordProgressUrl:Me,actionType:ie},!(X&&X==="LOCAL")){Ce.next=26;break}return Ce.next=18,B(ee);case 18:if(xe=Ce.sent,v=xe.data,v.code!==0){Ce.next=25;break}R.auth_key=v.data.auth_key,R.url=_,Ce.next=26;break;case 25:return Ce.abrupt("return");case 26:V=JSON.stringify(R),J="".concat(f,".").concat(g).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ne="".concat(de,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(V),"&furl=").concat(_,"?attname=").concat(J),X&&X==="LOCAL"&&(Ee="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ne="".concat(Ee,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(V),"&furl=").concat(_,"?attname=").concat(J)),r.setState({encodeUrl:ne});case 31:case"end":return Ce.stop()}},t)})),this.handleReportStatusInterval=t=>{var e=t.currentPage,n=this.props,i=n.resourceInfo,l=n.mode,u=n.studyInfo,c=n.userInfo,g=i.type,f=u.courseId,_=u.studyId,p=u.resourceId,h=c.enterpriseId,W=c.id,Y=c.isLogin,X="",ee="",Z=0,ve=!1;switch(g){case"enterprise":Z=1,ve=!0;break;case"study":X=_,Z=2,ve=!0;break;case"project":ee=_,Z=1,ve=!0;break;default:break}if(!(!ve||!Y)){var pe={plan_id:X,enterprise_id:h,user_id:W,course_id:f,project_course_id:ee,resource_id:p,current_page:e,action_type:Z,send_time:Date.parse(new Date)};l==="learn"&&(0,M.Xc)(u,pe)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(a){this.initDocPage(a)}render(){var a=this.props.resourceInfo,r=this.state,t=r.encodeUrl,e=r.documentWatermarkSettings,n=r.showAliReader,i=a.docType,l=a.type,u=a.studyTimeLimit,c=a.studyTime,g=a.aliUrl,f=a.progress,_=a.storageType,p=a.playId;return n?o().createElement(nt,{privateDocId:p,storageType:_,aliUrl:g,docType:i,progress:f,studyTime:c,studyTimeLimit:u,documentWatermarkSettings:e,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:l}):o().createElement("div",{className:"doc-reader-container"},o().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:t,frameBorder:"0",allowFullScreen:!0}),o().createElement(Oe.Z,{scenes:"document"}))}}var ot=(0,U.$j)(st)(Qe),it=s(38979),re=s(90706),ht=s(12968),lt=s(44208),Be=s(60667),Ve=z=>({userInfo:z.user});class Ze extends o().Component{constructor(){var a;super(...arguments);a=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var r=this.props,t=r.studyInfo,e=r.mode,n=r.userInfo,i=n.enterpriseId,l=n.id;e==="learn"&&(0,$.Gp)({studyInfo:t,enterpriseId:i,userId:l})},this.getInfoFromSettings=(0,k.Z)(I().mark(function r(){var t,e,n;return I().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,M.Gw)();case 2:t=l.sent,e=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],n=(0,$.RG)(t,e),a.setState(n,()=>{a.renderWatermark()});case 6:case"end":return l.stop()}},r)})),this.renderWatermark=()=>{var r=this.props.userInfo,t=this.state.imageWatermark,e=r.name,n=r.unionid,i=r.sourceType,l=r.jobNumber,u=r.position,c=[];t.indexOf("name")>-1&&c.push(o().createElement(Be.Z,{dataType:"userName",value:n,name:e,type:i})),t.indexOf("position")>-1&&c.push(o().createElement("span",null,u)),t.indexOf("jobnumber")>-1&&c.push(o().createElement("span",null,l)),t.length>0&&this.setState({watermark:c.map((g,f)=>o().createElement("span",{key:f},g))})},this.handleError=r=>{var t=this.props.onError;t&&t(r)},this.getImageUrl=(0,k.Z)(I().mark(function r(){var t,e,n,i,l,u,c,g,f,_;return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=a.props,e=t.resourceInfo,n=t.t,i=e.playId,l=e.url,u=e.storageType,c=l,!u){h.next=21;break}if(u!=="ALIBABA_PRIVATE"){h.next=15;break}return h.next=7,(0,M.J7)(i);case 7:if(g=h.sent,!g){h.next=12;break}c=g,h.next=13;break;case 12:return h.abrupt("return",S.default.info(n("privateCloud.docReadError")));case 13:h.next=21;break;case 15:if(u!=="LOCAL"){h.next=21;break}return h.next=18,B(i);case 18:f=h.sent,_=f.data,_.code===0&&(c="".concat(l,"?auth_key=").concat(_.data.auth_key));case 21:a.setState({imageUrl:[c]},()=>{var W=a.state.imageUrl,Y="image-business",X=document.querySelectorAll(".".concat(Y,"-image img"));X.forEach((ee,Z)=>{ee.onerror=()=>{a.handleError(W[Z])}})});case 22:case"end":return h.stop()}},r)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var a="image-business",r=this.props.resourceInfo,t=r.preview,e=t===void 0?!1:t,n=this.state,i=n.watermark,l=n.imageUrl;return o().createElement("div",{className:a},o().createElement(Oe.Z,{scenes:"image"}),o().createElement(re.Z,{className:"".concat(a,"-carousel")},l.map((u,c)=>o().createElement("div",{className:"".concat(a,"-image"),key:c.toString()},o().createElement(lt.Z,{src:u,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:e})))))}}Ze.defaultProps={prefixCls:"watch-image-page"};var ct=(0,U.$j)(Ve)((0,j.Z)()(Ze)),$e=z=>({userInfo:z.user});class vt extends o().Component{constructor(){var a;super(...arguments);a=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,k.Z)(I().mark(function r(){var t,e,n;return I().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,M.Gw)();case 2:t=l.sent,e=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],n=(0,$.RG)(t,e),a.setState(n,()=>{a.renderWatermark()});case 6:case"end":return l.stop()}},r)})),this.renderWatermark=()=>{var r=this.props.userInfo,t=this.state.htmlWatermark,e=r.name,n=r.unionid,i=r.sourceType,l=r.jobNumber,u=r.position,c=[];t.indexOf("name")>-1&&c.push(o().createElement(Be.Z,{dataType:"userName",value:n,name:e,type:i})),t.indexOf("position")>-1&&c.push(o().createElement("span",null,u)),t.indexOf("jobnumber")>-1&&c.push(o().createElement("span",null,l)),t.length>0&&this.setState({watermark:c.map((g,f)=>o().createElement("span",{key:f},g))})},this.saveProgress=()=>{var r=this.props,t=r.studyInfo,e=r.mode,n=r.userInfo,i=n.enterpriseId,l=n.id;e==="learn"&&(0,$.Gp)({studyInfo:t,enterpriseId:i,userId:l})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var a="html-business",r=this.props.resourceInfo,t=r.url,e=this.state.watermark;return o().createElement("div",{className:a},o().createElement("div",{className:"".concat(a,"__html-watermark")},e),o().createElement("iframe",{title:"html",className:"".concat(a,"_iframe"),src:t}))}}var gt=(0,U.$j)($e)((0,j.Z)()(vt)),ut=s(57068),Ge=s(1164),Je=z=>({userInfo:z.user});class dt extends o().PureComponent{constructor(){super(...arguments);this.getHost=a=>{var r=a.split("//"),t=r[1].split("/");return[r[0],t[0]].join("//")},this.getScormUrl=()=>{var a=this.props,r=a.studyInfo,t=a.mode,e=a.userInfo,n=a.resourceInfo,i=a.from,l=e.enterpriseId,u=e.id,c=n.url,g=this.getHost(c);if(t==="learn"){var f=(0,P.Z)({userId:u,enterpriseId:l,access_token:localStorage.token,from:i,scormUrl:encodeURIComponent(c),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},r);return"".concat(g).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(ut.stringify(f))}return"".concat(g,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(c))},this.handleOpenScormLink=a=>{Ge.Z.targetTo({path:a,isExternalLink:!0})}}render(){var a=this.props.t,r="scorm-business",t=this.getScormUrl(),e=(0,De.UI)("SCORM_EXTERNAL_WATCH");return o().createElement("div",{className:r},e?o().createElement("div",{className:"".concat(r,"_scorm")},o().createElement("img",{className:"".concat(r,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),o().createElement("h5",null,a("resourcePlay.scormTip")),o().createElement(C.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(t)},a("resourceLibrary.h5LinkPlayButton"))):o().createElement("iframe",{title:"scorm",className:"".concat(r,"_iframe"),src:t}))}}var pt=(0,U.$j)(Je)((0,j.Z)()(dt));class Xe extends o().Component{render(){var a=this.props,r=a.visible,t=a.title,e=a.onCancel,n=a.t,i=o().createElement("span",null,t);return o().createElement(we.ZP,{visible:r,title:i,onCancel:e,footer:null},o().createElement("div",{className:"ban-preview"},o().createElement("div",{className:"ban-preview-center"},o().createElement("img",{src:m(),alt:"picture"}),o().createElement("h2",null,n("localStorage.tip")),o().createElement("p",null,n("localStorage.banPreview"))),o().createElement("hr",null),o().createElement(C.Z,{type:"primary",className:"know",onClick:e},n("localStorage.onKnow"))))}}var qe=(0,j.Z)()(Xe);class et extends E.Component{constructor(){var a;super(...arguments);a=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=r=>{var t=this.props.previewInfo,e=t.onCancel;this.onCancel(),e(r)},this.onGetVideoBusiness=r=>{var t=this.props.onRef,e=t===void 0?()=>{}:t;this.videoBusiness=r,e(r)},this.onFullScreen=()=>{var r=this.state.fullScreen;this.setState({fullScreen:!r})},this.handleJudgeNetwork=(0,k.Z)(I().mark(function r(){var t,e,n,i,l,u,c,g,f,_,p,h=arguments;return I().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(t=h.length>0&&h[0]!==void 0?h[0]:null,e=a.props,n=e.resourceInfo,i=e.watchType,l=n.storageType,u=n.playId,c=n.originUrl,g=i==="image"||i==="video"||i==="doc",f=null,t?f=t:c?f=c:f=n.url,!(g&&f&&u&&l&&l==="LOCAL")){Y.next=22;break}return Y.prev=7,Y.next=10,(0,M.NY)(u);case 10:return _=Y.sent,Y.next=13,(0,M.Hy)(f,_);case 13:p=Y.sent,p?a.setState({showBan:"no"}):a.setState({showBan:"yes"}),Y.next=20;break;case 17:Y.prev=17,Y.t0=Y.catch(7),a.setState({showBan:"yes"});case 20:Y.next=23;break;case 22:a.setState({showBan:"no"});case 23:case"end":return Y.stop()}},r,null,[[7,17]])})),this.renderOuter=()=>{var r=this.props,t=r.prefixCls,e=r.watchType,n=r.onCurrentTime,i=n===void 0?()=>{}:n;return o().createElement("div",{className:"".concat(t,"-outer")},e==="video"&&o().createElement(ae,(0,x.Z)({onCurrentTime:i,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),e==="doc"&&o().createElement(ot,this.props),e==="image"&&o().createElement(ct,(0,x.Z)({onError:this.handleJudgeNetwork},this.props)),e==="html"&&o().createElement(gt,this.props),e==="scorm"&&o().createElement(pt,this.props))},this.renderFooter=()=>{var r=this.props,t=r.resourceInfo.storageType,e=r.t,n=this.state.showBan,i=n!==""&&n==="yes";return t&&t!=="PUBLIC_CLOUD"&&i?o().createElement(C.Z,{type:"primary",className:"know",onClick:this.onCancelModel},e("localStorage.onKnow")):null}}componentDidMount(){var a=this.props.mode;a==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(a){a.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var a=this.state,r=a.showBan,t=a.fullScreen,e=this.props,n=e.mode,i=e.previewWay,l=e.previewInfo,u=e.prefixCls,c=e.t,g=e.showEnlarge,f=e.footer,_=f===void 0?null:f,p=l.visible,h=l.destroyOnClose,W=l.title,Y=r!==""&&r==="yes",X=r!==""&&r==="no";return o().createElement(E.Fragment,null,n==="preview"&&i==="popups"&&o().createElement(we.ZP,{destroyOnClose:h,visible:p,title:W,onCancel:this.onCancelModel,footer:_||this.renderFooter(),wrapClassName:"".concat(u,"-resource ").concat(t?"".concat(u,"-full"):"")},g&&o().createElement("div",{className:"".concat(u,"-resource-out-icon"),onClick:this.onFullScreen},t?o().createElement(O.Z,{className:"".concat(u,"-resource-icon")}):o().createElement(A.Z,{className:"".concat(u,"-resource-icon")})),o().createElement("div",{className:"".concat(u,"-inner")},!p&&o().createElement(y.Z,{size:"large"}),p&&X&&this.renderOuter(),Y&&o().createElement(F,null))),(n==="learn"||i==="page")&&X&&this.renderOuter(),(n==="learn"||i==="page")&&o().createElement(qe,{visible:Y,title:W||c("questionn.warmHint"),onCancel:this.onCancel}))}}et.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var mt=(0,j.Z)("translation",{withRef:!0})(et)},41225:function(fe,te,s){"use strict";s.d(te,{Hy:function(){return k},NY:function(){return N},Gw:function(){return I},sH:function(){return O},BR:function(){return E},qp:function(){return A},Xc:function(){return j},J7:function(){return o}});var w=s(57361),y=s(9754),H=s.n(y),C=s(10237),x=s(37055),k=function(){var b=(0,w.Z)(H().mark(function m(){var T,F,P,K,S,U,$,M=arguments;return H().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return T=M.length>0&&M[0]!==void 0?M[0]:"",F=M.length>1&&M[1]!==void 0?M[1]:"",P="",T.startsWith("http")?(K=T.split("//")[1].trim(),S=K.split("/")[0],P="https://".concat(S,"/cms/ticket")):(U=T.split("/")[0],P="https://".concat(U,"/cms/ticket")),G.prev=4,G.next=7,C.ZQ.get({url:P,params:{ticket:F}});case 7:if($=G.sent,!($.status===200||$.status===403)){G.next=10;break}return G.abrupt("return",Promise.resolve(!0));case 10:return G.abrupt("return",Promise.resolve(!1));case 13:return G.prev=13,G.t0=G.catch(4),G.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return G.stop()}},m,null,[[4,13]])}));return function(){return b.apply(this,arguments)}}(),N=function(){var b=(0,w.Z)(H().mark(function m(T){var F,P;return H().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,C.ZQ.get({url:x.ZP.local.getTicket(T)});case 2:if(F=S.sent,P=F.data,P.code!==0){S.next=6;break}return S.abrupt("return",Promise.resolve(P.data.ticket));case 6:return S.abrupt("return",Promise.resolve(""));case 7:case"end":return S.stop()}},m)}));return function(T){return b.apply(this,arguments)}}(),I=function(){var b=(0,w.Z)(H().mark(function m(){var T;return H().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,C.WY.get({url:x.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return T=P.sent,P.abrupt("return",T.data.list);case 4:case"end":return P.stop()}},m)}));return function(){return b.apply(this,arguments)}}(),E=function(){var b=(0,w.Z)(H().mark(function m(T){var F,P,K;return H().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,C.WY.get({url:x.ZP.localStorage.getPravateVideoUrl(T)});case 2:if(F=U.sent,F.data.code!==0){U.next=6;break}return P=F.data.data.videoPlayInfo,K=P===void 0?"":P,U.abrupt("return",K);case 6:return U.abrupt("return","");case 7:case"end":return U.stop()}},m)}));return function(T){return b.apply(this,arguments)}}(),o=function(){var b=(0,w.Z)(H().mark(function m(T){var F,P,K;return H().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return F=x.ZP.localStorage.getPravateDocUrl(T),U.prev=1,U.next=4,C.WY.get({url:F});case 4:if(P=U.sent,K=P.data,!(K.code===0&&K.data)){U.next=8;break}return U.abrupt("return",K.data.docResourceDownloadUrl||"");case 8:return U.abrupt("return","");case 11:return U.prev=11,U.t0=U.catch(1),U.abrupt("return","");case 14:case"end":return U.stop()}},m,null,[[1,11]])}));return function(T){return b.apply(this,arguments)}}(),O=function(m){var T=m.studyInfo,F=m.progress,P=m.recent_start,K=m.page_count,S=m.enterpriseId,U=m.userId,$=m.token,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d,G=T.studyType;if(G==="studyTask"&&(d=x.ZP.SaveProgress.studySaveProgress(T)),(G==="course"||G==="enterprise")&&(d=x.ZP.SaveProgress.enterpriseCourseSaveProgress(T)),G==="studyProject"&&(d=x.ZP.SaveProgress.projectSaveProgress(T)),G==="platform"&&(d="".concat(x.ZP.SaveProgress.platformCourseSaveProgress(T))),(M||G==="platform")&&(d+="?enterprise_id=".concat(S,"&user_id=").concat(U)),M)return d+="&access_token=".concat($||localStorage.getItem("token")),d;var D={progress:F,recent_start:P,tempTime:Date.parse(new Date)};return K&&(D.page_count=K),T.evaluationId&&(D.evaluation_id=T.evaluationId),C.WY.post({url:d,data:D})},A=b=>{var m=b.popupId,T=b.planId,F=b.resourceId,P=b.type;return C.WY.post({url:x.ZP.TaskStudyRecord.setRandomPopupRecord(T),data:{course_id:F,terminal_type:"PC",popup_id:m,type:P}})},j=(b,m)=>{var T=x.ZP.SaveProgress.reportStatusInterval(b);return C.WY.post({url:T,data:m})}},21594:function(fe,te,s){"use strict";s.d(te,{pu:function(){return x},RG:function(){return k},Gp:function(){return N},O8:function(){return I}});var w=s(88986),y=s(69164),H=s(38642),C=s(41225),x=E=>{var o="";switch(E){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":o="studyTask";break;case"enterprise":o="enterprise";break;case"courseProject":o="studyProject";break;case"platform":case"purchased":o="platform";break;default:break}return o},k=(E,o)=>{var O={};return o.forEach(A=>{var j=E.find(P=>P.type===A.type);if(j)if(A.type==="document_duration_limit"){var b=j.action_list,m=b.find(P=>P.type==="random_popup_verification");!(0,H.UI)("RANDOM_POPUP_VERIFY")||!m?O[A.name]="CLOSE":O[A.name]=m.param.checked==="true"?"OPEN":"CLOSE"}else if(A.type==="document_player"){var T=JSON.parse(j.actions);T.forEach(P=>{P.param.checked==="true"&&(O[A.name]=P.type)})}else if(A.type==="dynamic_watermark"){var F=j.action_list;F.forEach(P=>{P.type===A.resourceType&&P.param.checked==="true"&&(O[A.name]=P.param.comment)})}else O[A.name]=j.switch_status}),O},N=E=>{(0,C.sH)((0,w.Z)({progress:100,recent_start:1},E)).then(o=>{o&&o.data&&(0,y.Z)(o.data.integral_info||"")})},I=E=>{var o=document.createElement("div");return o.innerHTML=E,o.childNodes[0]}},11449:function(fe,te,s){"use strict";s.d(te,{Z:function(){return q}});var w=s(88986),y=s(33565),H=s(12924),C=s.n(H),x=s(3115),k=s(49111),N=s(19650),I=s(62029),E=s(57663),o=s(71577),O=s(91768),A=s(28216),j=s(37055),b=s(10237);function m(se){var ce=j.ZP.getHelpContentByMenuKey(),oe={key:se};return b.WY.get({url:ce,params:oe})}var T=s(74228),F=s.n(T),P=s(1164),K=s(76466),S=s(38642);class U extends C().Component{constructor(ce){var oe;super(ce);oe=this,this.getHelpContentByMenuKey=()=>{var le=this.props.defaultMenuKey;m(le).then(ye=>{var he=ye.data,Ie=he.help_url,Te=he.video_url;this.setState({videoUrl:Te,helpUrl:Ie})})},this.handleOpenHelpUrl=le=>{if((0,S.ve)()){window.open(le,"_blank");return}P.Z.targetTo({path:le,isExternalLink:!0})},this.handleOpenVideo=function(le){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe.props.t("helpCenter.video");oe.setState(he=>({resourcePlayInfo:(0,w.Z)((0,w.Z)({},he.resourcePlayInfo),{},{resourceInfo:{originUrl:le,source:{FD:le,OD:le},contentType:"mp4"}}),previewInfo:(0,w.Z)((0,w.Z)({},he.previewInfo),{},{title:ye,visible:!0,onCancel:oe.handleCancelPreview})}))},this.handleCancelPreview=()=>{var le=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,w.Z)((0,w.Z)({},le),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:ce.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var ce=this.state,oe=ce.helpUrl,le=ce.resourcePlayInfo,ye=ce.previewInfo,he=ce.videoUrl,Ie=this.props.t;return C().createElement("div",{className:F().helpCenter},he&&C().createElement(o.Z,{type:"link",className:F()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(he)},Ie("helpCenter.video")),oe&&C().createElement(o.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(oe)},Ie("helpCenter.tutorial")),C().createElement(K.Z,(0,I.Z)({},le,{previewInfo:ye})))}}var $=se=>({defaultMenuKey:se.currentRoute.menuKey});U.defaultProps={defaultMenuKey:""};var M=(0,A.$j)($)((0,O.Z)()(U));function d(se){var ce=se.extra,oe=localStorage.getItem("dingPersonnel"),le=sessionStorage.getItem("dingPersonnel");return C().createElement(N.Z,null,ce,oe!=="dingPersonnel"&&le!=="dingPersonnel"&&(0,S.eY)("COMMONEXTRA_HELP_CENTER")&&C().createElement(M,null))}var G=d,D=s(4408);function L(se){var ce=(0,H.useState)({helpCenter:(0,S.eY)("HEAD_HELP_CENTER_BUT")}),oe=(0,y.Z)(ce,1),le=oe[0],ye=se.pageContainerParams,he=ye===void 0?{}:ye,Ie=se.noPadding,Te=Ie===void 0?!1:Ie,B=se.isPersonal,ke=B===void 0?!1:B,we=se.pageTitle,De=se.className,Ue=De===void 0?"":De,Oe={extra:le.helpCenter?C().createElement(G,{extra:he.extra}):he.extra},We=(0,w.Z)((0,w.Z)({},he),Oe);return C().createElement("div",{className:"page-container-content ".concat(Te?"page-container-noPadding":""," ").concat(ke?"page-container-content_personal_background":""," ").concat(Ue)},we&&C().createElement(D.Z,{title:we}),ke?C().createElement(x.Z,null,se.children):C().createElement(x.Z,We,se.children))}var q=L},53222:function(fe,te,s){"use strict";s.r(te);var w=s(57663),y=s(71577),H=s(63185),C=s(9676),x=s(62999),k=s(85733),N=s(22385),I=s(31097),E=s(43358),o=s(34041),O=s(47673),A=s(4107),j=s(20228),b=s(11382),m=s(36017),T=s(35247),F=s(34792),P=s(48086),K=s(57361),S=s(33565),U=s(9754),$=s.n(U),M=s(12924),d=s.n(M),G=s(91768),D=s(28216),L=s(76651),q=s(87163),se=s(4408),ce=s(11449),oe=s(84874),le=s(67620),ye=s(6793),he=Te=>{var B=Te.t,ke=Te.collapsed,we=L.m8.location.query.id,De=(0,M.useRef)(null),Ue=(0,M.useState)(!0),Oe=(0,S.Z)(Ue,2),We=Oe[0],je=Oe[1],tt=(0,M.useState)([]),Fe=(0,S.Z)(tt,2),ae=Fe[0],Ke=Fe[1],He=(0,M.useState)({}),be=(0,S.Z)(He,2),Ne=be[0],at=be[1],rt=(0,M.useState)([]),ze=(0,S.Z)(rt,2),Re=ze[0],nt=ze[1],st=(0,M.useState)([]),Ye=(0,S.Z)(st,2),de=Ye[0],Qe=Ye[1],ot=(0,M.useState)(0),it=(0,S.Z)(ot,2),re=it[0],ht=it[1],lt=(0,M.useState)("other"),Be=(0,S.Z)(lt,2),Ve=Be[0],Ze=Be[1],ct=(0,M.useState)(null),$e=(0,S.Z)(ct,2),vt=$e[0],gt=$e[1],ut=(0,M.useState)(""),Ge=(0,S.Z)(ut,2),Je=Ge[0],dt=Ge[1],pt=(0,M.useState)(""),Xe=(0,S.Z)(pt,2),qe=Xe[0],et=Xe[1],mt=(0,M.useState)(""),z=(0,S.Z)(mt,2),a=z[0],r=z[1],t=(0,M.useState)(""),e=(0,S.Z)(t,2),n=e[0],i=e[1],l=(0,M.useState)(!1),u=(0,S.Z)(l,2),c=u[0],g=u[1],f=(v,V,J)=>{Qe(v)};(0,M.useEffect)(()=>{_(),p()},[]),(0,M.useEffect)(()=>{de.includes("email")||Ze("other"),de.length===1&&de[0]==="email"&&Ze("email")},[de]),(0,M.useEffect)(()=>{!ae[re]||(Pe(ae[re].title,"title"),Pe(ae[re].template_content,"template_content"),Pe(ae[re].email_template_content,"email_template_content"))},[ae,re]);var _=function(){var v=(0,K.Z)($().mark(function V(){var J,ne,Ee;return $().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,q.A9)(we);case 2:if(J=Q.sent,ne=J.data,Ee=J.success,Ee==="true"){Q.next=8;break}return je(!1),Q.abrupt("return");case 8:at(JSON.parse(JSON.stringify(ne))),Qe(ne.channels.map(Ce=>Ce.channel)),Ke(ne.message_info_list),je(!1);case 12:case"end":return Q.stop()}},V)}));return function(){return v.apply(this,arguments)}}(),p=function(){var v=(0,K.Z)($().mark(function V(){var J,ne,Ee;return $().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,q.CR)();case 2:if(J=Q.sent,ne=J.data,Ee=J.success,Ee==="true"){Q.next=7;break}return Q.abrupt("return");case 7:nt(ne.channel_info_list);case 8:case"end":return Q.stop()}},V)}));return function(){return v.apply(this,arguments)}}(),h=v=>de.length===1&&de.includes(v.channel),W=v=>v.status==="disabled"?d().createElement("div",null,B("messageTemplate.channelClosed"),d().createElement("a",{onClick:Y},B("messageTemplate.goOpen"))):h(v)?B("messageTemplate.atLeastSelectOne"):"",Y=()=>{L.m8.push("/enterprise/systemSetup/messageSetting/messageChannel")},X=v=>{Ze(v)},ee=v=>{var V=Ne.message_info_list[re][v];v==="email_template_content"&&_e(V),ge(V,v)},Z=()=>{L.m8.go(-1)},ve=()=>{for(var v="",V=0;V<ae.length;V++){var J=ae[V];if(J.title.length>50){v=(0,ye.ZT)(B("messageTemplate.titleErrorMessage"),J.receiver_type_name);break}if(!J.template_content){v=(0,ye.ZT)(B("messageTemplate.contentErrorMessage"),J.receiver_type_name);break}if(!J.email_template_content){v=(0,ye.ZT)(B("messageTemplate.emailErrorMessage"),J.receiver_type_name);break}}return i(v),!!v},pe=function(){var v=(0,K.Z)($().mark(function V(){var J,ne,Ee;return $().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!ve()){Q.next=2;break}return Q.abrupt("return");case 2:return J={biz_info_id:we,message_info_list:ae,channels:de},Q.next=5,(0,q.yT)(we,J);case 5:if(ne=Q.sent,Ee=ne.success,Ee==="true"){Q.next=9;break}return Q.abrupt("return");case 9:P.default.success(B("messageTemplate.editSuccess")),Me();case 11:case"end":return Q.stop()}},V)}));return function(){return v.apply(this,arguments)}}(),me=(v,V)=>{ge(v?"enabled":"disabled","status",V)},Ae=v=>{_e(ae[v].email_template_content),ht(v)},_e=v=>{De.current&&De.current.setHtml(v)},Pe=(v,V)=>{V==="title"&&dt(v.length>50?B("messageTemplate.titleRule"):""),V==="template_content"&&et(v?"":B("messageTemplate.contentRule")),V==="email_template_content"&&r(v?"":B("messageTemplate.contentRule"))},ge=(v,V,J)=>{var ne=[...ae];(V==="template_content"||V==="email_template_content")&&v!==ae[re][V]&&(ne[re].preview=!0),Pe(v,V),V==="status"?ne[J][V]=v:ne[re][V]=v,Ke(ne)},Se=function(){var v=(0,K.Z)($().mark(function V(){var J,ne,Ee;return $().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(ae[re].preview){Q.next=2;break}return Q.abrupt("return");case 2:return Q.next=4,(0,q.mv)(ae[re].id,{message_content:ae[re].template_content,email_message_content:ae[re].email_template_content});case 4:if(J=Q.sent,ne=J.data,Ee=J.success,Ee==="true"){Q.next=9;break}return Q.abrupt("return");case 9:ge(ne.message_preview,"content_preview"),ge(ne.email_message_preview,"email_content_preview");case 11:case"end":return Q.stop()}},V)}));return function(){return v.apply(this,arguments)}}(),ue=()=>Re.filter(v=>!!(v.channel!=="email"&&de.includes(v.channel))).map(v=>v.name).join("&"),ie=()=>{var v=Object.entries(ae[re].content_key_comment);return d().createElement("div",{className:"other-tip"},B("messageTemplate.placeholderDes")," ",d().createElement("span",{className:"text-red"},B("messageTemplate.placeholderRule")," "),v.map((V,J)=>d().createElement("span",{key:V[0]}," ",d().createElement("span",{className:"text-red"}," ","${"+V[0]+"}"),": ",V[1],J===v.length-1?"":", ")))},Me=()=>{L.m8.push("/enterprise/systemSetup/messageSetting/messageTemplate")},R="message-template-edit",xe=ke?"59px":"219px";return d().createElement(ce.Z,{pageContainerParams:{header:{title:d().createElement(T.Z,null,d().createElement(T.Z.Item,null,d().createElement("span",{className:"message-template-edit-bread",onClick:Me},B("messageTemplate.messageTemplate"))),d().createElement(T.Z.Item,null," ",B("messageTemplate.editMessageScene")," "))}}},d().createElement(se.Z,{title:B("messageTemplate.editMessageScene")}),We?d().createElement(b.Z,{size:"large",className:"message-template-edit-center"}):d().createElement("div",{className:R},d().createElement("div",{className:"".concat(R,"__info")},d().createElement("div",{className:"".concat(R,"__title")},Ne.name),d().createElement("div",{className:"".concat(R,"__info__form")},d().createElement("div",{className:"".concat(R,"__info__form__item")},d().createElement("span",{className:"".concat(R,"__info__form__item__label")},B("messageTemplate.sceneName"),"\uFF1A"),d().createElement(A.Z,{value:Ne.name,disabled:!0,style:{width:444}})),d().createElement("div",{className:"".concat(R,"__info__form__item")},d().createElement("span",{className:"".concat(R,"__info__form__item__label")},B("messageTemplate.bussinessType"),"\uFF1A"),d().createElement(o.Z,{value:Ne.biz_type_name,disabled:!0,style:{width:220}})),d().createElement("div",{className:"".concat(R,"__info__form__item info-channel-item")},d().createElement("span",{className:"".concat(R,"__info__form__item__label")},B("messageTemplate.sendingChannel"),"\uFF1A"),d().createElement(k.Z,{defaultValue:de,style:{width:444},dropdownClassName:"message-template-edit__tree-select",allowClear:!1,treeCheckable:!0,showArrow:!0,showSearch:!1,maxTagCount:3,maxTagTextLength:6,onChange:f,treeNodeLabelProp:"label",getPopupContainer:v=>v.parentElement,open:c,onClick:()=>{g(!0)},onBlur:()=>{g(!1)},tagRender:v=>d().createElement("span",{className:"".concat(R,"__info__form__tag")},v.label)},Re.map(v=>d().createElement(k.Z.TreeNode,{value:v.channel,key:v.channel,title:d().createElement(I.Z,{title:W(v)},v.name),label:v.name,disableCheckbox:v.status==="disabled"||h(v)})))))),d().createElement("div",{className:"".concat(R,"__content")},d().createElement("div",{className:"".concat(R,"__title")},B("messageTemplate.messageNotification")),d().createElement("div",{className:"".concat(R,"__content__part")},d().createElement("div",{className:"".concat(R,"__content__part__check")},ae.map((v,V)=>d().createElement("div",{key:v.id,className:ae[re].receiver_type===v.receiver_type?"send-checked check-item":"check-item",onClick:()=>{Ae(V)}},d().createElement(C.Z,{checked:v.status==="enabled",value:v.receiver_type,onChange:J=>{me(J.target.checked,V)}}),B("messageTemplate.sendMessageTo"),v.receiver_type_name))),d().createElement("div",{className:"".concat(R,"__form")},d().createElement("div",{className:"".concat(R,"__form__content")},ae[re].message_type==="OA"&&d().createElement("div",{className:"".concat(R,"__form__content__item form-item-title ").concat(Je?"error-item":""),"data-count":"".concat(ae[re].title.length,"/50")},d().createElement("div",{className:"".concat(R,"__form__content__label")},B("messageTemplate.messageTitle")),d().createElement(A.Z,{value:ae[re].title,onChange:v=>ge(v.target.value,"title"),placeholder:B("messageTemplate.titleRule")}),d().createElement("div",{className:"".concat(R,"__form__content__item__error")},Je)),!(de.length===1&&de[0]==="email")&&d().createElement("div",{className:"".concat(R,"__form__content__item other-item ").concat(qe?"error-item":"")},d().createElement("div",{className:"".concat(R,"__form__content__label")},d().createElement("span",{className:"required-label"},B("messageTemplate.messageContent"),d().createElement(I.Z,{title:ue},d().createElement("span",null,d().createElement(oe.Z,{iconClass:"icon-shuoming",size:"14px"})))),d().createElement("span",{onClick:()=>{ee("template_content")},className:"".concat(R,"__form__example__title__primary")},d().createElement(oe.Z,{iconClass:"icon-tongbu",size:"12px"}),B("messageTemplate.reset"))),d().createElement(A.Z.TextArea,{value:ae[re].template_content,onChange:v=>{ge(v.target.value,"template_content")},rows:6,showCount:!0,maxLength:500,placeholder:B("messageTemplate.contentRule")}),d().createElement("div",{className:"".concat(R,"__form__content__item__error")},qe),ie()),de.includes("email")&&d().createElement("div",{className:"".concat(R,"__form__content__item  ").concat(a?"error-item":"")},d().createElement("div",{className:"".concat(R,"__form__content__label")},d().createElement("span",{className:"required-label"},B("messageTemplate.emailContent")),d().createElement("span",{onClick:()=>{ee("email_template_content")},className:"".concat(R,"__form__example__title__primary")},d().createElement(oe.Z,{iconClass:"icon-tongbu",size:"12px"}),B("messageTemplate.reset"))),d().createElement(le.Z,{ref:De,contentHeight:"102px",placeholder:ae[re].email_template_content,onChange:v=>ge(v,"email_template_content"),controls:["head","bold","fontSize","fontName","italic","underline","strikeThrough","link","list","justify","image","table","undo","redo"]}),d().createElement("div",{className:"".concat(R,"__form__content__item__error")},a),de.length===1&&de[0]==="email"&&ie())),d().createElement("div",{className:"".concat(R,"__form__example")},d().createElement("div",{className:"".concat(R,"__form__example__title")},d().createElement("span",null," ",B("messageTemplate.exampleContent")),d().createElement("span",{className:"".concat(R,"__form__example__title__primary ").concat(ae[re].preview?"":"build-example-disabled"," "),onClick:Se},d().createElement(oe.Z,{iconClass:"icon-nenglipinggu",size:"12px"}),B("messageTemplate.buildExample"))),d().createElement("div",{className:"".concat(R,"__form__example__content")},de.includes("email")&&de.length>1&&d().createElement("div",{className:"".concat(R,"__form__example__content__title")},d().createElement("div",{className:"".concat(R,"__form__example__content__title__item ").concat(Ve==="other"?"active-title-item":""),onClick:()=>{X("other")}},B("messageTemplate.messageContent")),d().createElement("div",{className:"".concat(R,"__form__example__content__title__item ").concat(Ve==="email"?"active-title-item":""),onClick:()=>{X("email")}},B("messageTemplate.emailContent"))),d().createElement("div",{className:"".concat(R,"__form__example__content__preview")},Ve==="other"?d().createElement("div",null,ae[re].content_preview):d().createElement("div",{className:"".concat(R,"__form__example__content__html"),dangerouslySetInnerHTML:{__html:ae[re].email_content_preview}}))))))),d().createElement("div",{className:"".concat(R,"__footer"),style:{left:xe,width:"calc(100% - ".concat(xe,")")}},d().createElement("span",{className:"text-error"},n),d().createElement(y.Z,{onClick:Z}," ",B("common.cancel")),d().createElement(y.Z,{type:"primary",onClick:pe},B("messageTemplate.confirm")))))},Ie=Te=>{var B=Te.sideBar;return{collapsed:B.collapsed}};te.default=(0,D.$j)(Ie)((0,G.Z)()(he))},87163:function(fe,te,s){"use strict";s.d(te,{CR:function(){return H},Wp:function(){return C},hg:function(){return x},A9:function(){return k},yT:function(){return N},mv:function(){return I}});var w=s(37055),y=s(10237),H=()=>{var E=w.ZP.MessageTemplate.getStaticConfig();return y.WY.get({url:E})},C=E=>{var o=w.ZP.MessageTemplate.getMessageLists();return y.WY.get({url:o,params:E})},x=(E,o)=>{var O=w.ZP.MessageTemplate.switchStatus(E);return y.WY.post({url:O,data:o})},k=E=>{var o=w.ZP.MessageTemplate.getMessageTemplate(E);return y.WY.get({url:o})},N=(E,o)=>{var O=w.ZP.MessageTemplate.getMessageTemplate(E);return y.WY.post({url:O,data:o})},I=(E,o)=>{var O=w.ZP.MessageTemplate.contentPreview(E);return y.WY.post({url:O,data:o})}},9849:function(fe,te,s){"use strict";s.d(te,{Ej:function(){return x},kL:function(){return k},T:function(){return N},NU:function(){return I},FL:function(){return E},fn:function(){return o},bm:function(){return O},jY:function(){return A},Vs:function(){return j},li:function(){return b},Nl:function(){return m},YF:function(){return T},Q6:function(){return F},zW:function(){return P},Zv:function(){return K},Qg:function(){return S},qc:function(){return U},Ve:function(){return M},rS:function(){return d},Rh:function(){return G}});var w=s(10237),y=s(37055),H=s(38642),C={zaraFlag:(0,H.UI)("ZARA_H5")};function x(D,L){var q=y.ZP.StudyProjectList.startStudy(D);return w.WY.post({url:q,data:L})}function k(D){var L=y.ZP.Common.enroll(D);return w.WY.post({url:L})}function N(D,L){var q=D.courseId,se=y.ZP.StudyProjectList.studyProject(q);return w.WY.get({url:se,params:L})}function I(D){var L=D.id,q=C.zaraFlag?y.m1.getAssessmentProjectInfo(L):y.m1.getProjectInfo(L);return w.WY.get({url:q})}function E(D){var L=D.courseId,q=y.ZP.EnterpriseCourse.addScanCount(L);return w.WY.post({url:q})}function o(){var D=y.ZP.StudyProjectList.getAccountInfo();return w.WY.get({url:D})}function O(D){var L=y.ZP.StudyProjectList.projectCertiUrl(D);return w.WY.get({url:L})}function A(D){var L=D.courseId,q=y.ZP.Courses.like(L);return w.WY.post({url:q})}function j(D){var L=y.ZP.EnterpriseCourse.addCommentAndScore();return w.qg.post({url:L,data:D})}function b(D){var L=y.ZP.EnterpriseCourse.getCourseComments();return w.WY.get({url:L,params:D})}function m(D){var L=y.ZP.EnterpriseCourse.addCommentAndScore();return w.qg.post({url:L,data:D})}function T(D){var L=y.ZP.EnterpriseCourse.deleteComment();return w.qg.post({url:L,data:D})}function F(D,L){var q=y.ZP.StudyProjectList.projectStudyRecord(D);return w.WY.get({url:q,params:L})}function P(D){var L=y.ZP.DingSpaceId.getSpaceId();return w.WY.get({url:L,params:D})}function K(D,L){var q=y.ZP.PlatformCourse.learningUrl(D);return w.WY.get({url:q,params:L})}function S(D){var L=y.ZP.MyExamTask.examIntro({examId:D});return w.WY.get({url:L})}function U(D){var L=y.ZP.MyExamTask.examCheckStatus({examId:D});return w.WY.get({url:L})}function $(D,L){var q=CONFIG.Common.getOperateLog(D);return formDataRequest.get({url:q,params:L})}function M(D,L){var q=C.zaraFlag?y.ZP.StudyProjectList.changeCustomStatus(D):y.ZP.StudyProjectList.changeStatus(D);return w.WY.post({url:q,data:L})}function d(D){var L=y.ZP.StudyProjectList.getProjectReward(D);return w.WY.get({url:L})}function G(D){var L=y.ZP.subsidyGz.subsidyCourseSetting(D);return w.WY.get({url:L})}},91648:function(fe,te,s){"use strict";s.d(te,{Z:function(){return w}});function w(y,H){var C,x,k,N,C;if(x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),C=[],k=void 0,H=H||x.length,y)for(k=0;k<y;)C[k]=x[0|Math.random()*H],k++;else for(N=void 0,C[8]=C[13]=C[18]=C[23]="-",C[14]="4",k=0;k<36;)C[k]||(N=0|Math.random()*16,C[k]=x[k===19?N&3|8:N]),k++;return C.join("")}},69164:function(fe,te,s){"use strict";var w=s(34792),y=s(48086);function H(C){C&&C.length>0&&y.default.success(C)}te.Z=H},4412:function(fe){fe.exports="data:image/png;base64,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"}}]);
