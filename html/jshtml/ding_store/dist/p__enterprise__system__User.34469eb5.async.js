(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4402],{4408:function(nt,De,e){"use strict";var J=e(12924),w=e.n(J),p=e(28216),X=e(17780),U=e(38642),T=E=>({userInfo:E.user}),O=E=>{var o=E.title;return(0,X.xX)()&&setTimeout(()=>{document.title=o},0),(0,J.useEffect)(()=>{if(o&&document.title!==o&&setTimeout(()=>{document.title=o},0),(0,U.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var a=document.querySelector(".zoom-report");a&&(a.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[o]),w().createElement(w().Fragment,null)};O.defautProps={title:""},De.Z=(0,p.$j)(T)(O)},1164:function(nt,De,e){"use strict";var J=e(12924),w=e.n(J),p=e(76651),X=e(38642),U=e(91302),T=O=>{var E=navigator.userAgent.toLocaleLowerCase(),o=localStorage.getItem("enterpriseId"),a=(0,X.lz)(o,O.projectType),f=localStorage.getItem("dingPersonnel"),L=U.bl.includes(f),I=O.target;function v(n){if(I==="self"&&(n.preventDefault(),p.m8.push(O.to)),L){if(O.projectType==="student"){window.location.href="".concat(a,"/").concat(O.to);return}p.m8.push(O.to);return}if(dd.version){n.preventDefault();var r="";O.to.includes("?")?r="".concat(a).concat(O.to,"&ddtab=true"):r="".concat(a).concat(O.to,"?ddtab=true"),dd.biz.util.openLink({url:r})}else E.indexOf("lark")!==-1&&(window.location.href="".concat(a).concat(O.to))}return w().createElement("a",{rel:"noreferrer",href:"".concat(O.projectType==="student"?"".concat(a).concat(O.to):"#".concat(O.to)),className:"".concat(O.wrapCls," cl-pointer"),target:E.indexOf("lark")!==-1||L?"_self":O.target||"_blank",onClick:v},O.children)};T.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},T.targetTo=O=>{var E=O.path,o=O.from,a=O.isExternalLink,f=a===void 0?!1:a,L=O.isAsync,I=L===void 0?!1:L,v=O.openName,n=v===void 0?"_blank":v,r=O.projectType,b=r===void 0?"manage":r,N=O.ddTab,R=N===void 0?!0:N,F,j=localStorage.getItem("dingPersonnel"),ne=U.bl.includes(j),le=navigator.userAgent.toLocaleLowerCase(),ye=localStorage.getItem("enterpriseId"),Q=(0,X.lz)(ye,b),ee=localStorage.getItem("appType"),re=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var Le="";if(F=f?"":Q,ne&&!f){if(b==="student"){window.location.href="".concat(Q).concat(E);return}p.m8.push(E);return}E.includes("?")?Le="".concat(F).concat(E,"&ddtab=").concat(R):Le="".concat(F).concat(E,"?ddtab=").concat(R),dd.biz.util.openLink({url:Le})}else if(le.indexOf("lark")!==-1)F=f?"":Q,window.location.href="".concat(F).concat(E);else if(ee==="wx_app"&&re&&f&&o==="imgText")F=f?"":b==="student"?"".concat(Q):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(F).concat(E)});else if(F=f?"":b==="student"?"".concat(Q):"#",I){var Xe=window.open("","_blank");setTimeout(()=>{Xe.location="".concat(F).concat(E)},100)}else window.open("".concat(F).concat(E),n)},De.Z=T},87312:function(nt,De,e){"use strict";var J=e(12924),w=e.n(J),p=e(91768),X=U=>{var T=U.t;return w().createElement("div",{className:U.className?"".concat(U.className," no-result"):"no-result"},w().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886702513426432.png"),className:"no-data-img",alt:""}),w().createElement("p",{className:"no-data-tip"},U.tipText||T("common.empty")))};De.Z=(0,p.Z)()(X)},88311:function(nt,De,e){"use strict";e.d(De,{Z:function(){return Ye}});var J=e(62029),w=e(47673),p=e(4107),X=e(33565),U=e(57361),T=e(34792),O=e(48086),E=e(88986),o=e(43358),a=e(34041),f=e(18106),L=e(88108),I=e(9754),v=e.n(I),n=e(12924),r=e.n(n),b=e(91768),N=e(77043),R=e.n(N),F=e(20228),j=e(11382),ne=e(18721),le=e.n(ne),ye=e(51975),Q=e(37055),ee={breadNav:[{value:"",label:""}],checkOne:()=>{},checkAll:()=>{},nextLevel:()=>{},changeLevel:()=>{}},re=r().createContext(ee),Le={searchResult:[],deptList:[],groupList:[],postList:[],deptUser:[],groupUser:[],postUser:[],clusterList:[],classList:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],initTypeList:()=>{},initTypeUser:()=>{},toggleDisplayItem:()=>{},toggleDisplayList:()=>{},checkListOne:()=>{},checkUserOne:()=>{},removeCheckedUser:()=>{},changeLevel:()=>{},hidePosts:!1,initHidePostsStatus:()=>{},clearSelectedAll:()=>{}},Xe=r().createContext(Le),it=e(36017),Pt=e(35247),yt=e(60667);class xt extends r().Component{constructor(){super(...arguments);this.changeLevel=(k,g,s,i)=>{k.preventDefault(),this.props.contextData.changeLevel(g,s,i)}}render(){var k=this.props.contextData.breadNav.map((g,s)=>r().createElement(Pt.Z.Item,{key:g.value},r().createElement("span",{className:"bread-nav-item",onClick:i=>this.changeLevel(i,g.value,s,!(le()(g,"authorized")&&g.authorized==="true"))},r().createElement(yt.Z,{dataType:"departmentName",value:g.value,name:g.label,type:g.sourceType}))));return r().createElement("div",{className:"bread-nav"},r().createElement(Pt.Z,null,k))}}xt.defaultProps={contextData:{breadNav:[]},changeLevel:()=>{}};var Et=xt,Ut=e(63185),lt=e(9676),Ct=e(88983),qt=e(47933),St=e(22385),Ue=e(31097),vt=e(57119),qe=e(84874),Kt=e(20136),$e=e(55241),Rt=e(13062),st=e(71230),Mt=e(89032),gt=e(15746),rt=e(28216),x=e(80430),te=e(10237);function oe(){var K=CONFIG.Role.getUserManageRange();return request.get({url:K})}function Be(K){var k=Q.ZP.OrgDialog.getDeptInfoUrl({departmentId:K.departmentId});return delete K.departmentId,te.WY.get({url:k,params:K})}function Ze(K){var k=Q.ZP.OrgDialog.getDeptUsersUrl({departmentId:K.departmentId});return delete K.departmentId,te.WY.get({url:k,params:K})}function Se(K){var k=Q.ZP.OrgDialog.getUserDetailUrl();return te.WY.get({url:k,params:K})}function xe(K){var k=Q.ZP.OrgDialog.getScopeUsersAndDeptsUrl({departmentId:K.departmentId});return delete K.departmentId,te.WY.get({url:k,params:K})}function be(K){var k=Q.ZP.OrgDialog.postDeleteCacheUrl({cacheId:K.cacheId});return delete K.cacheId,te.WY.post({url:k,params:K})}var _e,Ve,Pe=(_e=(0,rt.$j)(K=>{var k=K.user;return{enterpriseName:k.enterpriseName}}),_e(Ve=class extends r().Component{constructor(){super(...arguments);this.state={loading:!0,cardInfoFinal:this.props.cardInfo},this.renderTitle=()=>{var k=this.props,g=k.cardInfo,s=k.prefixCls,i=k.enterpriseName,y=g.source_type,m=g.user_id,t=g.name;return r().createElement("div",{className:"".concat(s,"__header")},r().createElement("div",{className:"".concat(s,"__header-name")},r().createElement(yt.Z,{type:y,value:m,name:t,dataType:"userName"})),r().createElement("div",{className:"".concat(s,"__header-corp")},i||"/"))},this.renderContent=()=>{var k=this.props,g=k.prefixCls,s=k.t,i=this.state.cardInfoFinal,y=i.user_id,m=i.job_number,t=i.post_names,D=t===void 0?[]:t,M=i.department_infos,$=M===void 0?[]:M,pe=()=>!($ instanceof Array)||$.length===0?"/":r().createElement(x.Z,{list:$,displayAll:!0,isBlock:!0}),G=()=>!(D instanceof Array)||D.length===0?"/":D.map(ge=>r().createElement("div",{key:ge},ge)),Ee=[{lable:"ID",value:y},{lable:s("personal.jobNumber"),value:m||"/"},{lable:s("setting.postLabel"),value:G()},{lable:s("learnRecord.department"),value:pe()}];return r().createElement("div",{className:"".concat(g,"__body")},Ee.map(ge=>r().createElement(st.Z,{className:"".concat(g,"__body-item"),key:ge.value},r().createElement(gt.Z,{className:"".concat(g,"__body-item-lable")},ge.lable),r().createElement(gt.Z,{className:"".concat(g,"__body-item-value")},ge.value||"/"))))}}render(){var k=this.props,g=k.children,s=k.prefixCls,i=this.state,y=i.loading,m=i.cardInfoFinal;return r().createElement($e.Z,{overlayClassName:s,placement:"rightTop",title:this.renderTitle,content:y?r().createElement("div",{className:"".concat(s,"__body")},r().createElement(j.Z,null)):this.renderContent,onVisibleChange:t=>{t&&(m.detailInfo===!1?Se({user_id:m.id}).then(D=>{this.setState({loading:!1,cardInfoFinal:(0,E.Z)((0,E.Z)((0,E.Z)({},m),D.data),{},{detailInfo:!0})})}).catch(D=>{console.error(D)}):this.setState({loading:!1}))},mouseEnterDelay:.5},g)}})||Ve);Pe.defaultProps={prefixCls:"user-card-popover",cardInfo:{}};var je=(0,b.Z)()(Pe),at=["cluster","class"];class Ae extends r().Component{constructor(){super(...arguments);this.checkOne=k=>{k.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=k=>{k.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var k=this.props,g=k.cardInfo,s=k.type,i=k.t;return g.authorized==="false"&&s==="dept"?r().createElement(Ue.Z,{title:i("orgDialog.scopedAuthorize")},r().createElement(vt.Z,{style:{marginLeft:"4px"}})):null}}render(){var k=this.props,g=k.t,s=k.cardInfo,i=s===void 0?{}:s,y=k.hidePosts,m=k.type,t=k.userCount,D=null;return this.props.hasNext?(D=r().createElement("div",{className:"next-level"},!(y&&m==="post")&&t>-1?r().createElement("span",{className:"next-level-count"},"(",t,")"):null,at.includes(m)?r().createElement("span",null):r().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},r().createElement(qe.Z,{iconClass:"icon-xiaji1"}),g("component.nextLevel"))),this.props.single?r().createElement("div",{className:"org-tree-item"},r().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),D):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&r().createElement("div",{className:"org-tree-item"},r().createElement(lt.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),D)):r().createElement("div",{className:"org-tree-item"},this.props.single?r().createElement(qt.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},r().createElement(je,{cardInfo:i},this.props.title)):r().createElement(je,{cardInfo:i},r().createElement(lt.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title)))}}Ae.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var Ne=(0,b.Z)()(Ae),Tt=["cluster","class"];class et extends r().Component{constructor(){super(...arguments);this.checkOne=k=>{k.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=k=>{k.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var k=this.props,g=k.cardInfo,s=k.type,i=k.t;return g.authorized==="false"&&s==="dept"?r().createElement(Ue.Z,{title:i("orgDialog.scopedAuthorize")},r().createElement(vt.Z,{style:{marginLeft:"4px"}})):null}}render(){var k=this.props,g=k.t,s=k.cardInfo,i=s===void 0?{}:s,y=k.hidePosts,m=k.type,t=k.userCount,D=null;return this.props.hasNext?(D=r().createElement("div",{className:"next-level"},r().createElement("span",{className:"next-level-belle"},!(y&&m==="post")&&t>-1?r().createElement("span",{className:"next-level-count"},"(",t,")"):null,Tt.includes(m)?r().createElement("span",null):r().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},r().createElement(qe.Z,{iconClass:"icon-xiaji1"}),g("component.nextLevel")))),this.props.single?r().createElement("div",{className:"org-tree-item"},r().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},r().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),D):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&r().createElement("div",{className:"org-tree-item"},r().createElement(lt.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},r().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),D)):r().createElement("div",{className:"org-tree-item"},this.props.single?r().createElement(qt.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},r().createElement(je,{cardInfo:i},r().createElement("span",{className:"org-tree-item-title"},this.props.title))):r().createElement(je,{cardInfo:i},r().createElement(lt.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},r().createElement("span",{className:"org-tree-item-title"},this.props.title))))}}et.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var Lt=(0,b.Z)()(et),ze=e(38642),kt=["cluster","class"];class Bt extends r().Component{constructor(k){super(k);this.checkAll=(g,s)=>{g.preventDefault(),this.props.contextData.checkAll(s)},this.getIsCheckAll=()=>{var g=[].concat(this.context["".concat(this.props.dataTypeKey,"List")],kt.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")]);if(g.length===0)return!1;var s=g.findIndex(i=>!i.isChecked);return s===-1},this.renderDeptName=(g,s)=>s==="dept"?r().createElement(yt.Z,{type:g.source_type,value:g.id,name:g.name,dataType:"departmentName"}):g.name,this.renderName=g=>r().createElement(yt.Z,{type:g.source_type,value:g.user_id,name:g.name,dataType:"userName"}),this.state={isShowCheckAllEle:!0,whiteList:{belleFlag:(0,ze.UI)("BELLE_CUSTOMER_WHITE")}}}render(){var k=this.state,g=k.isShowCheckAllEle,s=k.whiteList,i=this.props,y=i.t,m=i.dataTypeKey,t=i.disableHidden,D=i.scrollFlag,M=this.context,$=M.maxDeptUserCount,pe=M.hidePosts,G=M.onlyPost,Ee=M.onlyUser,ge=M.single,ke=[],de=this.context["".concat(this.props.dataTypeKey,"List")].map(he=>(ke.push(r().createElement("div",{className:"title-item",key:he.id},this.renderDeptName(he,m))),s.belleFlag&&D?r().createElement(Lt,{type:m,key:he.id,cardInfo:he,hasNext:!0,checkable:$&&(he==null?void 0:he.userCount)>$?!1:!(G&&he.post_type==="post_group"||Ee),single:ge,userCount:he.userCount,isChecked:!!he.isChecked,itemId:he.id,title:this.renderDeptName(he,m),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!he.children,hidePosts:pe,disableHidden:t}):r().createElement(Ne,{type:m,key:he.id,cardInfo:he,hasNext:!0,checkable:$&&(he==null?void 0:he.userCount)>$?!1:!(G&&he.post_type==="post_group"||Ee),single:ge,userCount:he.userCount,isChecked:!!he.isChecked,itemId:he.id,title:this.renderDeptName(he,m),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!he.children,hidePosts:pe,disableHidden:t}))),Oe=[],ct=kt.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")].map(he=>(Oe.push(r().createElement("div",{className:"title-item",key:he.id},this.renderName(he,m))),s.belleFlag&&D?r().createElement(Lt,{key:he.id,hasNext:!1,title:this.renderName(he),isChecked:!!he.isChecked,itemId:he.id,cardInfo:he,checkable:!(he.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:t}):r().createElement(Ne,{key:he.id,hasNext:!1,title:this.renderName(he),isChecked:!!he.isChecked,itemId:he.id,cardInfo:he,checkable:!(he.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:t}))),$t=this.getIsCheckAll(),Vt=r().createElement("div",{className:"org-tree-item"},r().createElement(lt.Z,{checked:$t,defaultChecked:!0,onClick:he=>this.checkAll(he,!$t)},y("common.all")));return r().createElement("div",{className:"".concat(this.context.oneDisplayType?"org-tree more-height":"org-tree"," ").concat(s.belleFlag&&D?"org-tree-belle":"")},!this.context.single&&this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&de.length===0&&ct.length>0&&g||!this.context.single&&!this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&(de.length>0||ct.length>0)&&g?Vt:null,s.belleFlag&&D&&r().createElement("div",{className:"belle-title-scroll"},ke,Oe),de,ct)}}Bt.contextType=Xe,Bt.defaultProps={dataTypeKey:"dept",contextData:{},disableHidden:!1,scrollFlag:!1};var ma=(0,b.Z)()(Bt),sa=e(25547),oa="999",Ht=1,ia=["clusterList","classList"];class _t extends r().Component{constructor(k,g){var s;super(k);s=this,this.getClusterList=()=>{var i=Q.ZP.OrgDialog.getClusterList(),y={keyword:""};te.WY.get({url:i,params:y}).then(m=>{this.context.initTypeList("clusterList","checkedCluster",m.data.data.map(t=>({name:t.name,userCount:t.user_count,id:t.id,parentId:[""]})))})},this.getClassList=()=>{this.context.initTypeList("classList","checkedClass",[{name:"\u6D4B\u8BD52",userCount:2,id:"2",parentId:[""]},{name:"\u6D4B\u8BD54",userCount:1,id:"41",parentId:[""]}])},this.flatTreeData=(i,y)=>(i.children.forEach(m=>{m.children&&(y[m.id]=m.children,this.flatTreeData(m,y))}),y),this.getDeptList=function(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Promise((m,t)=>{var D=s.state.cacheId;Be({departmentId:i,cache_id:D,filter_auth:y&&!s.props.filterAuthOpen}).then(M=>{var $=M.data.children||[];$.forEach(G=>{G.parentId=M.data.id,G.userCount=G.user_count,G.name=G.department_name,G.all_name=r().createElement("span",null,s.state.contextData.breadNav.map(Ee=>r().createElement("span",{key:Ee.value},Ee.label,"/")),G.department_name)});var pe=[];s.context.asyncDeptTree?pe=$:pe=s.flatTreeData(M.data,{[M.data.id]:$}),s.setState({deptList:pe}),s.context.initTypeList("deptList","checkedDept",$),m(M.data)}).catch(M=>{console.error(M),t(M)})})},this.getDeptUserList=function(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=s.state.cacheId;Ze({departmentId:i,cache_id:m,filter_auth:y&&!s.props.filterAuthOpen}).then(t=>{t.data&&t.data.forEach(D=>{D.name=D.user_name,D.detailInfo=!1}),s.context.initTypeUser("deptUser",t.data)}).catch(t=>{console.error(t)})},this.getGroupList=()=>{var i=Q.ZP.Organization.getGroupList(),y={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};te.WY.get({url:i,params:y}).then(m=>{m.data.groups=m.data.groups||[],m.data.groups.forEach(t=>{t.parentId=this.state.contextData.breadNav.map(D=>D.value),t.userCount=t.user_count,t.name=t.group_name}),this.setState({groupList:m.data.groups}),this.context.initTypeList("groupList","checkedGroup",m.data.groups)})},this.getGroupUserList=i=>{var y=Q.ZP.Organization.getGroupUserList({groupId:i}),m={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};te.WY.get({url:y,params:m}).then(t=>{t.data.users&&t.data.users.forEach(D=>{D.name=D.user_name,D.parentId=this.state.contextData.breadNav.map(M=>M.value)}),this.context.initTypeUser("groupUser",t.data.users)})},this.getPostList=i=>{var y=Q.ZP.Organization.getPostTree(),m={filter_auth:!this.props.filterAuthOpen,post_id:i,user_type:this.context.userType};te.WY.get({url:y,params:m}).then(t=>{t.data.posts=t.data.posts||[],t.data.posts.forEach(D=>{D.parentId=this.state.contextData.breadNav.map(M=>M.value),D.userCount=D.user_count,D.name=D.post_name}),this.setState({postList:t.data.posts}),this.context.initTypeList("postList","checkedPost",t.data.posts),this.context.initHidePostsStatus(t.data.hide_posts==="true")})},this.getPostUserList=i=>{var y=Q.ZP.Organization.getPostUserList({postId:i}),m={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};te.WY.get({url:y,params:m}).then(t=>{t.data.users&&t.data.users.forEach(D=>{D.name=D.user_name,D.parentId=this.state.contextData.breadNav.map(M=>M.value)}),this.context.initTypeUser("postUser",t.data.users)})},this.getUserList=function(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s.props.type==="dept"?s.getDeptUserList(i,y):s.props.type==="group"?s.getGroupUserList(i):s.getPostUserList(i)},this.checkOne=(i,y,m)=>{var t=this.state.checkedCount;if(y==="list"){var D=this.context[this.state.listType].find($=>$.id===i);D.isChecked=m,D.all_name&&typeof D.all_name=="object"&&delete D.all_name,t=m?t+1:t-1,this.context.checkListOne(D,this.state.checkedListType,this.state.listType)}else if(y==="user"){var M=this.context[this.state.checkedUserType].find($=>$.id===i);M.isChecked=m,t=m?t+1:t-1,this.context.checkUserOne(M,this.state.checkedUserType)}this.updateCheckedCount(t)},this.updateCheckedCount=i=>{this.setState({checkedCount:i})},this.checkAll=function(){var i=(0,U.Z)(v().mark(function y(m){var t,D,M,$,pe,G,Ee,ge,ke,de,Oe,ct,$t,Vt,he;return v().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(t=s.state,D=t.contextData,M=t.cacheId,$=[...D.breadNav].reverse(),pe=(0,X.Z)($,1),G=pe[0],Ee=G.value,ge=[...s.context[s.state.checkedListType]],ke=G.authorized==="false",de={departments:[],users:[]},!ke){P.next=12;break}return P.next=9,xe({departmentId:Ee,cache_id:M});case 9:Oe=P.sent,ct=Oe.data,de={departments:ct.departments.map(V=>(V.isChecked=m,V.name=V.department_name,V.parentId=V.parent_ids.split("/"),V.parentAuthorize=!1,V.userCount=V.user_count,V)),users:ct.users.map(V=>(V.isChecked=m,V.name=V.user_name,V.parentAuthorize=!1,V))};case 12:$t=s.context[s.state.listType].map(V=>{V.isChecked=m,s.props.type!=="dept"&&ge.forEach(We=>{We.parentId.indexOf("".concat(V.id))!==-1&&(We.isChecked=!1)});var Me=ge.findIndex(We=>We.id===V.id);return Me!==-1?ge[Me].isChecked=m:ge.push(V),V}),Vt=[],s.context.checkedUser.forEach(V=>{if(s.props.type!=="dept"){if(typeof V.parentId!="undefined"&&V.parentId.indexOf("".concat(Ee))!==-1&&V.parentId[V.parentId.length-1]!==Ee)return}else{var Me=typeof V.parentId!="undefined"?V.parentId:V.department_ids||[];if(Me.indexOf(Ee)!==-1)return}Vt.push(V)}),he=ia.includes(s.state.listType)?[]:s.context[s.state.checkedUserType].map(V=>{V.isChecked=m;var Me=Vt.findIndex(We=>We.id===V.id);return Me!==-1?Vt[Me].isChecked=m:Vt.push(V),V}),s.context.toggleDisplayList(s.state.checkedListType,R()(de.departments,ge,"id"),s.state.listType,$t,s.state.checkedUserType,he,R()(de.users,Vt,"id")),s.setState({checkedCount:m?(ia.includes(s.state.listType)?0:s.context[s.state.checkedUserType].length)+s.context[s.state.listType].length:0});case 18:case"end":return P.stop()}},y)}));return function(y){return i.apply(this,arguments)}}(),this.nextLevel=(i,y,m)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var t=[...this.state.contextData.breadNav,{value:i.id,label:y,authorized:i.authorized}];this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{breadNav:t})},()=>{this.props.type==="post"?this.nextPostLevel(i.id,m):this.props.type==="dept"?this.nextDeptLevel(i.id,!(le()(i,"authorized")&&i.authorized==="true")):this.context.initTypeList("groupList","checkedGroup",[]),this.getUserList(i.id===oa?Ht:i.id,!(le()(i,"authorized")&&i.authorized==="true"))})},this.nextDeptLevel=(i,y)=>{if(this.context.asyncDeptTree)this.getDeptList(i,y);else{var m=this.state.deptList[i];typeof m!="undefined"&&m.forEach(t=>{t.parentId=this.state.contextData.breadNav.map(D=>D.value),t.userCount=t.user_count,t.name=t.department_name}),this.context.initTypeList("deptList","checkedDept",m||[])}},this.nextPostLevel=(i,y)=>{if(y){var m=(0,sa.lK)(this.state.postList,i),t=m.children.map(D=>(D.name=D.post_name,D.parentId=this.state.contextData.breadNav.concat([i]).map(M=>M.value),D.userCount=D.user_count,D));this.context.initTypeList("postList","checkedPost",t)}},this.changeLevel=(i,y,m)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var t=this.props.type==="group"?[this.state.contextData.breadNav[0]]:this.state.contextData.breadNav.slice(0,y+1);this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{breadNav:t}),isSearch:!1},()=>{this.props.type==="dept"?this.changeDeptLevel(i,m):this.props.type==="group"?this.changeGroupLevel(i):this.props.type==="cluster"?this.getClusterList():this.props.type==="class"?this.getClassList():this.changePostLevel(i)})},this.changeDeptLevel=function(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(s.context.asyncDeptTree)s.getDeptList(i,y);else{var m=s.state.deptList[i];m.forEach(t=>{t.parentId=s.state.contextData.breadNav.map(D=>D.value),t.userCount=t.user_count,t.name=t.department_name}),s.context.initTypeList("deptList","checkedDept",m)}s.getDeptUserList(i===oa?Ht:i,y)},this.changePostLevel=i=>{var y=i==="1"?this.state.postList:(0,sa.lK)(this.state.postList,i).children,m=y.map(t=>(t.name=t.post_name,t.parentId=this.state.contextData.breadNav.concat([i]).map(D=>D.value),t.userCount=t.user_count,t));this.context.initTypeList("postList","checkedPost",m),i!=="1"&&this.getPostUserList(i===oa?Ht:i)},this.changeGroupLevel=i=>{i||(this.context.initTypeUser("groupUser",[]),this.context.initTypeList("groupList","checkedGroup",this.state.groupList))},this.state={postList:[],deptList:[],groupList:[],clusterList:[],classList:[],contextData:{breadNav:[this.props.defaultBreadNav],checkOne:this.checkOne,checkAll:this.checkAll,nextLevel:this.nextLevel,changeLevel:this.changeLevel},checkedCount:0,listType:"".concat(this.props.type,"List"),checkedListType:"checked".concat(this.props.type.charAt(0).toUpperCase()).concat(this.props.type.substr(1)),checkedUserType:"".concat(this.props.type,"User"),isSearch:!1,searchResult:[],loadDept:!1,loadUser:!1,cacheId:g.cacheId}}componentDidMount(){this.props.type!=="group"?this.props.type==="dept"?this.getDeptList("1").then(k=>{this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{breadNav:[{value:k.id,label:k.department_name,sourceType:k.source_type,authorized:k.authorized}]})}),this.getDeptUserList("1")}):this.getPostList("1"):this.getGroupList(1),this.props.type==="cluster"&&this.getClusterList(),this.props.type==="class"&&this.getClassList()}render(){return r().createElement(re.Provider,{value:this.state.contextData},r().createElement("div",{className:"org-display-container org-display-dept"},r().createElement(la,null),this.props.type==="dept"&&(this.state.loadDept||this.state.loadUser)?r().createElement("div",{className:"dept-loading"},r().createElement(j.Z,null)):null,r().createElement(ea,{dataTypeKey:this.props.type,disableHidden:this.props.disableHidden,scrollFlag:this.props.scrollFlag})))}}_t.contextType=Xe;var la=(0,ye.l)(re,Et),ea=(0,ye.l)(re,ma);_t.defaultProps={defaultBreadNav:{value:"",label:"\u9177\u6E32\u79D1\u6280"},queryType:1,type:"dept",filterAuthOpen:!1,disableHidden:!1,scrollFlag:!1};var ha=_t,ca=e(57663),ta=e(71577),ue=e(54549);class d extends r().Component{constructor(){super(...arguments);this.removeItem=(k,g,s,i)=>{k.preventDefault(),g.isChecked=!1,i==="user"?this.context.removeCheckedUser(g):this.context.checkListOne(g,s,"".concat(i,"List"))},this.displayName=(k,g)=>{var s={user:"userName",dept:"departmentName"}[k]||"",i={user:g.unionid||g.user_id||g.userId,dept:g.id}[k]||g.id;return r().createElement(yt.Z,{value:i,name:g.name,type:g.source_type||g.sourceType,dataType:s})},this.displayItem=k=>{var g=this.context,s=g.hidePosts,i=g.showUserCount,y="checked".concat(k.charAt(0).toUpperCase()).concat(k.substr(1)),m=this.context[y].map(t=>t.isChecked&&t.authorized!=="false"?r().createElement(Ue.Z,{key:t.id,placement:"top",title:t.all_name||"",getPopupContainer:()=>document.querySelector(".checked-display-container")},r().createElement("div",{className:"display-item",key:t.id},this.displayName(k,t),k==="user"||s&&k==="post"?"":i&&t.userCount>-1?"(".concat(t.userCount,")"):"",t.reserve?null:r().createElement("span",{className:"display-item-close",onClick:D=>this.removeItem(D,t,y,k)},r().createElement(ue.Z,{style:{fontSize:"8px",color:"#afb5d2"}})))):null);return m},this.handleClearSelected=()=>{this.context.clearSelectedAll()}}render(){var k=this.props.t,g=["dept","group","post","user","cluster","class"].map(s=>this.displayItem(s));return r().createElement("div",{className:"checked-display-container"},r().createElement("div",{className:"checked-display-container-header"},r().createElement("span",null,k("orgDialog.selected"),":"),r().createElement(ta.Z,{type:"link",onClick:this.handleClearSelected},k("orgDialog.clearAll"))),g)}}d.contextType=Xe;var u=(0,b.Z)()(d),c=e(67222),l=e(6793),h=p.Z.Search;class C extends r().Component{constructor(k){var g;super(k);g=this,this.onChange=s=>{var i=this.props.appType,y=localStorage.getItem("qyWechatBook");if(s.preventDefault(),this.setState({value:s.target.value}),!(!s.target.value&&!this.props.showCancel)&&!this.props.disableChange){var m=i==="wx_app"&&y==="true";!(0,ze.eY)("ORG_DIALOG_SEARCH")||m||(0,l.Ds)(this.debounceChange,500)()}},this.handleSearch=(s,i)=>{i.preventDefault(),!(!s&&!this.props.showCancel)&&this.extendReturn(s)},this.debounceChange=()=>{this.extendReturn(this.state.value)},this.extendReturn=function(){var s=(0,U.Z)(v().mark(function i(y){var m,t,D,M,$,pe,G,Ee,ge;return v().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(m=g.props,t=m.appType,D=m.selectType,M=m.appId,$=localStorage.getItem("qyWechatBook"),pe="",G=t==="wx_app"&&$==="true"&&M==="9005",!(y&&D==="user"&&G)){de.next=17;break}return de.prev=5,de.next=8,(0,c.F_)(y);case 8:Ee=de.sent,ge=Ee.data,ge.success&&(pe=ge.data),de.next=17;break;case 13:de.prev=13,de.t0=de.catch(5),console.error(de.t0),pe="";case 17:g.props.onSearch(y,pe);case 18:case"end":return de.stop()}},i,null,[[5,13]])}));return function(i){return s.apply(this,arguments)}}(),this.state={value:""}}render(){var k=this.props,g=k.t,s=k.selectType;return r().createElement("div",{className:"top-search"},r().createElement(h,{placeholder:g(s==="user"?"component.searchStudent":s==="dept"?"component.searchDepartment":s==="post"?"component.searchPost":s==="cluster"?"component.searchCluster":s==="class"?"component.searchClass":"setting.searchGroup"),value:this.state.value,onSearch:this.handleSearch,allowClear:!0,onChange:this.onChange}))}}var S=(0,rt.$j)(K=>({appType:K.user.appType,appId:K.user.appId}))((0,b.Z)()(C)),A=e(87312);class Z extends n.Component{constructor(){super(...arguments);this.checkedAll=(k,g)=>{this.props.checkedAll(g)},this.getIsCheckedAll=()=>{var k=this.props.list,g=[].concat(k);if(g.length===0)return!1;var s=g.findIndex(i=>!i.isChecked);return s===-1},this.checkUser=(k,g)=>{g.isChecked=!g.isChecked,this.context.checkUserOne(g,"checkedUser")},this.checkSingleUser=(k,g)=>{g.isChecked=!0,this.context.checkUserOne(g,"checkedUser")},this.checkDept=(k,g)=>{g.isChecked=!g.isChecked,this.context.checkListOne(g,"checkedDept","deptList")},this.checkPost=(k,g)=>{g.isChecked=!g.isChecked,this.context.checkListOne(g,"checkedPost","postList")},this.checkGroup=(k,g)=>{g.isChecked=!g.isChecked,this.context.checkListOne(g,"checkedGroup","groupList")},this.checkedCluster=(k,g)=>{g.isChecked=!g.isChecked,this.context.checkListOne(g,"checkedCluster","clusterList")}}renderList(){var k=this.props,g=k.userListType,s=k.list,i=k.t,y=k.isSingle,m=k.hidePosts;return g==="user"&&!y?s.map(t=>r().createElement("div",{className:"search-result-item",key:t.id,onClick:D=>{this.checkUser(D,t)}},r().createElement(lt.Z,{checked:t.isChecked},r().createElement(je,{cardInfo:t},r().createElement("span",{className:"user-names"},r().createElement(yt.Z,{dataType:"userName",value:t.user_id,name:t.user_name,type:t.source_type}))),t.department_names&&t.department_names.length>0?r().createElement("span",{className:"user-dept"},r().createElement(x.Z,{sourceType:t.source_type,list:t.leaf_department_ids,nameList:t.department_names})):null))):g==="user"&&y?s.map(t=>r().createElement("div",{className:"search-result-item",key:t.id,onClick:D=>{this.checkSingleUser(D,t)}},r().createElement("div",{className:"user-name"},r().createElement(je,{cardInfo:t},r().createElement(yt.Z,{dataType:"userName",value:t.user_id,name:t.user_name,type:t.source_type}))),t.department_names&&t.department_names.length>0?r().createElement("span",{className:"user-name-dept"},r().createElement(x.Z,{sourceType:t.source_type,list:t.leaf_department_ids,nameList:t.department_names})):null)):g==="dept"?s.map(t=>r().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:D=>{this.checkDept(D,t)}},r().createElement(lt.Z,{checked:t.isChecked,className:"department-left"},r().createElement("div",{className:"department-left-department"},r().createElement("div",{className:"user-name"},r().createElement(yt.Z,{dataType:"departmentName",value:t.id,name:t.department_name,type:t.source_type})),t.path&&t.path.length>0?r().createElement(Ue.Z,{title:t.path.join(">"),mouseEnterDelay:.8},r().createElement("span",{className:"user-name-dept"},r().createElement(x.Z,{list:t.department_infos||[],displayAll:!0}))):null)),r().createElement("div",{className:"department-right"},"(",t.userCount,i("common.userUnit"),")"))):g==="post"?s.map(t=>r().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:D=>{this.checkPost(D,t)}},r().createElement(lt.Z,{checked:t.isChecked,className:"department-left"},r().createElement("div",{className:"department-left-department"},r().createElement("div",{className:"user-name"},t.name),t.path&&t.path.length>0?r().createElement(Ue.Z,{title:t.path.join(">"),mouseEnterDelay:.8},r().createElement("span",{className:"user-name-dept"},r().createElement("span",null,t.path.join(">")))):null)),!m&&r().createElement("div",{className:"department-right"},"(",t.userCount,i("common.userUnit"),")"))):g==="group"?s.map(t=>r().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:D=>{this.checkGroup(D,t)}},r().createElement(lt.Z,{checked:t.isChecked,className:"department-left"},r().createElement("div",{className:"department-left-department"},r().createElement("div",{className:"user-name"},t.name),t.path&&t.path.length>0?r().createElement(Ue.Z,{title:t.path.join(">"),mouseEnterDelay:.8},r().createElement("span",{className:"user-name-dept"},r().createElement("span",null,t.path.join(">")))):null)),r().createElement("div",{className:"department-right"},"(",t.userCount,i("common.userUnit"),")"))):g==="cluster"?s.map(t=>r().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:D=>{this.checkedCluster(D,t)}},r().createElement(lt.Z,{checked:t.isChecked,className:"department-left"},r().createElement("span",{className:"user-name"},t.name)),r().createElement("div",{className:"department-right"},"(",t.userCount,i("common.userUnit"),")"))):null}render(){var k=this.props,g=k.t,s=k.isSingle,i=this.getIsCheckedAll(),y=r().createElement("div",{className:"search-result-all"},r().createElement(lt.Z,{checked:i,onClick:m=>this.checkedAll(m,!i)},g("common.all")));return r().createElement("div",{className:"search-result-container more-height"},this.props.list.length>0?r().createElement(r().Fragment,null,!s&&y,this.renderList()):r().createElement(A.Z,{tipText:g("component.searchUserEmpty")}))}}Z.contextType=Xe,Z.defaultProps={list:[]};var _=(0,b.Z)()(Z),Y=e(18329),q=e(65202),B=e(91648),z=L.Z.TabPane,ve=a.Z.Option,Re={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0 20px"},maskClosable:!1};class Ge extends r().Component{constructor(k){var g;super(k);g=this,this.onCancel=()=>{var s=this.props.onCancel;this.setState({showCancel:!1}),s&&this.props.onCancel()},this.onOk=()=>{var s=this.props.onOk,i=this.state.contextData;this.setState({showCancel:!1});var y=0;if(s){var m=[];i.checkedDept.map(G=>(y+=G.isChecked?G.user_count:0,G.isChecked&&G.authorized!=="false"?m.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"dept"})):null));var t=[];i.checkedPost.map(G=>(y+=G.isChecked?G.user_count:0,G.isChecked?t.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"post"})):null));var D=[];i.checkedGroup.map(G=>(y+=G.isChecked?G.user_count:0,G.isChecked?D.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"group"})):null));var M=[];i.checkedUser.map(G=>{if(!G.reserve)return y+=G.isChecked?1:0,G.isChecked?M.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"user"})):null});var $=[];i.checkedCluster.map(G=>{if(!G.reserve)return y+=G.isChecked?1:0,G.isChecked?$.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"cluster"})):null});var pe=[];if(i.checkedClass.map(G=>{if(!G.reserve)return y+=G.isChecked?1:0,G.isChecked?pe.push((0,E.Z)((0,E.Z)({},G),{},{renderType:"class"})):null}),y>this.props.maxUserCount){O.default.warn(this.props.beyondLimitTip);return}s({dept:m,post:t,group:D,user:M,cluster:$,classes:pe})}},this.getListParentId=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];i.forEach(Ee=>{Ee.isChecked=!0,Ee.parentId=[""],Ee.userCount=Ee.userCount||Ee.user_count||0});var M=s.map(Ee=>Ee.id),$=m.map(Ee=>Ee.id);if(M||$){var pe=Q.ZP.OrgDialog.getDeptParent(),G={query_type:1,dept_ids:M,user_ids:$};te.WY.post({url:pe,data:(0,E.Z)({},G)}).then(Ee=>{var ge=Ee.data.data;s.forEach(ke=>{ke.isChecked=!0;var de=ge.find(Oe=>Oe.id===ke.id)||{path:[]};ke.parentId=de.path[0]?de.path[0].split("/").slice(1):[],ke.userCount=de.user_count||ke.userCount||ke.user_count||0}),y.forEach(ke=>{ke.isChecked=!0;var de=ge.find(Oe=>Oe.id===ke.id)||{path:[]};ke.parentId=de.path[0]?de.path[0].split("/").slice(1):[],ke.userCount=ke.userCount||ke.user_count||0}),m.forEach(ke=>{ke.isChecked=!0;var de=[];ge.forEach(Oe=>{Oe.id===ke.id&&Oe.path.map(ct=>{de.push(...ct.split("/").slice(1))})}),ke.parentId=Array.from(new Set(de))}),t.forEach(ke=>{ke.isChecked=!0;var de=ge.find(Oe=>Oe.id===ke.id)||{path:[]};ke.parentId=de.path[0]?de.path[0].split("/").slice(1):[],ke.userCount=ke.userCount||ke.user_count||0}),D.forEach(ke=>{ke.isChecked=!0;var de=ge.find(Oe=>Oe.id===ke.id)||{path:[]};ke.parentId=de.path[0]?de.path[0].split("/").slice(1):[],ke.userCount=ke.userCount||ke.user_count||0}),g.setState({contextData:(0,E.Z)((0,E.Z)({},g.state.contextData),{},{checkedDept:s,checkedGroup:i,checkedPost:y,checkedUser:m,checkedCluster:t,checkedClass:D})})})}else i.length>0?g.setState({contextData:(0,E.Z)((0,E.Z)({},g.state.contextData),{},{checkedGroup:i})}):g.setState({contextData:(0,E.Z)((0,E.Z)({},g.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[]})})},this.initHidePostsStatus=s=>{var i=this.state.contextData;this.setState({contextData:(0,E.Z)((0,E.Z)({},i),{},{hidePosts:s})})},this.initTypeList=(s,i,y)=>{y.forEach(m=>{var t=this.findItemIndex(m.id,i);t===-1?m.isChecked=!1:m.isChecked=this.state.contextData[i][t].isChecked}),this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{[s]:y})})},this.initTypeUser=(s,i)=>{var y=i||[...this.state.contextData[s]],m=this.props.reserveUser;y.forEach(t=>{var D=this.findItemIndex(t.id,"checkedUser");m.findIndex(M=>M.id===t.id)!==-1&&(t.reserve=!0),D===-1?t.isChecked=!1:t.isChecked=this.state.contextData.checkedUser[D].isChecked}),this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{[s]:y})})},this.toggleDisplayItem=(s,i)=>{var y=this.findItemIndex(s.id,i);return y===-1?i.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[i]:this.checkListParentId(i,s),checkedUser:s.isChecked?this.checkParentId(this.state.contextData.checkedUser,s.id):this.state.contextData.checkedUser}:{[i]:[...this.state.contextData[i],s]}:i.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[i]:this.checkListParentId(i,s),checkedUser:s.isChecked?this.checkParentId(this.state.contextData.checkedUser,s.id):this.state.contextData.checkedUser}:{checkedUser:this.getNewList(s,"checkedUser",!0),[i]:this.getNewList(s,i)}},this.toggleDisplayList=(s,i,y,m,t,D,M)=>{this.deleteAllName(i),this.deleteAllName(m),this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{[s]:i,[y]:m,[t]:D,checkedUser:M})})},this.deleteAllName=s=>{s.map(i=>(i.all_name&&typeof i.all_name=="object"&&delete i.all_name,i))},this.checkUserOne=(s,i)=>{this.props.single?this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{checkedUser:[s],[i]:i==="checkedUser"?[s]:this.getSingleUserList(s,i)})}):this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),this.toggleDisplayItem(s,i))})},this.dealAuthorizedFalseChecked=function(){var s=(0,U.Z)(v().mark(function i(y){var m,t,D,M,$,pe,G,Ee,ge;return v().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return m=g.state.contextData,t=m.cacheId,D=m.checkedDept,M=m.checkedUser,$={checkedDept:[],checkedUser:[]},de.prev=2,de.next=5,xe({departmentId:y.id,cache_id:t});case 5:pe=de.sent,G=pe.data,Ee=G.departments,ge=G.users,Ee.push(y),Ee.map(Oe=>(Oe.isChecked=!0,Oe.name=Oe.department_name,Oe.parentId=Oe.parent_ids.split("/"),Oe.parentAuthorize=!1,Oe.userCount=Oe.user_count,Oe)),ge.map(Oe=>(Oe.isChecked=!0,Oe.name=Oe.user_name,Oe.parentAuthorize=!1,g.toggleDisplayItem(Oe,"deptUser"),Oe)),$=(0,E.Z)((0,E.Z)({},$),{},{checkedUser:R()(ge,M,"id"),checkedDept:R()(Ee,D,"id")}),de.next=16;break;case 13:de.prev=13,de.t0=de.catch(2),console.error("\u83B7\u53D6\u90E8\u95E8\u7BA1\u8F96\u8303\u56F4\u51FA\u9519",de.t0);case 16:return de.abrupt("return",$);case 17:case"end":return de.stop()}},i,null,[[2,13]])}));return function(i){return s.apply(this,arguments)}}(),this.dealAuthorizedFalseUnChecked=s=>{var i=this.state.contextData,y=i.checkedDept,m=i.checkedUser,t=i.deptUser,D=[],M=y.filter(pe=>pe.parent_ids.split("/").indexOf(s.id)===-1),$=m.filter(pe=>{var G=pe.department_ids.indexOf(s.id)===-1;return G||D.push(pe.id),G});return{checkedDept:M,checkedUser:$,deptUser:D.length>0?t.map(pe=>(D.indexOf(pe.id)>-1&&(pe.isChecked=!1),pe)):t}},this.checkListOne=function(){var s=(0,U.Z)(v().mark(function i(y,m,t){var D;return v().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(D={checkedDept:[],checkedUser:[]},!(y.authorized==="false"&&m==="checkedDept")){$.next=12;break}if(!y.isChecked){$.next=8;break}return $.next=5,g.dealAuthorizedFalseChecked(y);case 5:$.t0=$.sent,$.next=9;break;case 8:$.t0=g.dealAuthorizedFalseUnChecked(y);case 9:D=$.t0,$.next=14;break;case 12:y.parentAuthorize===!1&&y.isChecked===!1&&g.unCheckedParentDept(y,m),D=(0,E.Z)({[t]:g.getNewList(y,t,!1)},g.toggleDisplayItem(y,m));case 14:g.setState({contextData:(0,E.Z)((0,E.Z)({},g.state.contextData),D)});case 15:case"end":return $.stop()}},i)}));return function(i,y,m){return s.apply(this,arguments)}}(),this.removeCheckedUser=s=>{this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{checkedUser:this.getNewList(s,"checkedUser"),deptUser:this.getNewList(s,"deptUser"),postUser:this.getNewList(s,"postUser"),groupUser:this.getNewList(s,"groupUser"),searchResult:this.getNewList(s,"searchResult")})})},this.unCheckedParentDept=(s,i)=>{var y=this.state.contextData.checkedDept,m=y.filter(M=>M.authorized==="false"&&i==="checkedUser"?s.department_ids.indexOf(M.id)>-1:i==="checkedDept"?s.parentId.indexOf(M.id)>-1:!1),t=(0,X.Z)(m,1),D=t[0];D&&(D.isChecked=!1,this.toggleDisplayItem(D,"checkedDept"),this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{checkedDept:m})}))},this.checkListParentId=(s,i)=>{var y=[...this.state.contextData[s]],m=this.findItemIndex(i.id,s);return y.forEach(t=>{t.id!==i.id&&t.parentId.indexOf("".concat(i.id))!==-1?t.isChecked=!1:t.id===i.id&&(t.isChecked=i.isChecked)}),m===-1&&y.push(i),y},this.checkParentId=(s,i)=>{var y=[];return s.forEach(m=>{var t=typeof m.parentId!="undefined"?m.parentId:m.department_ids||[];t.indexOf(i)===-1&&y.push(m)}),y},this.getNewList=(s,i,y)=>{var m=[...this.state.contextData[i]],t=this.findItemIndex(s.id,i);return t===-1?y&&m.push(s):m[t].isChecked=s.isChecked,m},this.getSingleUserList=(s,i)=>{var y=[...this.state.contextData[i]];return y.forEach(m=>{m.id===s.id?m.isChecked=s.isChecked:m.isChecked=!1}),y},this.findItemIndex=(s,i)=>this.state.contextData[i].findIndex(y=>y.id===s),this.clearTabPanelList=(s,i)=>{this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{[s]:[],[i]:[]})})},this.getTabs=()=>{var s=[],i,y,m=this.props,t=m.t,D=m.filterAuthOpen,M=m.disableHidden,$=m.scrollFlag,pe=this.state.contextData,G=pe.canUseGroups,Ee=pe.canUseClass;return this.state.displayType.forEach(ge=>{switch(ge){case"dept":s.push({label:t("component.orgDialogDeptLabel"),key:"dept",defaultBreadNav:{value:"",label:"",sourceType:""},queryType:1});break;case"group":s.push({label:t("component.orgDialogGroupLabel"),key:"group",queryType:2,defaultBreadNav:{value:"",label:t("component.userGroup")}});break;case"post":s.push({label:t("component.orgDialogPostLabel"),key:"post",defaultBreadNav:{value:"1",label:t("common.post")},queryType:3});break;case"cluster":G&&s.push({label:t("component.orgDialogClusterLabel"),key:"cluster",defaultBreadNav:{value:"",label:""},queryType:4});break;case"class":Ee&&s.push({label:t("component.orgDialogClassLabel"),key:"class",defaultBreadNav:{value:"",label:""},queryType:5});break}}),s.length===1?y=r().createElement(ha,{defaultBreadNav:s[0].defaultBreadNav,queryType:s[0].queryType,type:s[0].key,filterAuthOpen:D,disableHidden:M,scrollFlag:$}):(i=s.map(ge=>r().createElement(z,{tab:ge.label,key:ge.key},r().createElement(ha,{defaultBreadNav:ge.defaultBreadNav,queryType:ge.queryType,type:ge.key,filterAuthOpen:D,disableHidden:M,scrollFlag:$}))),y=r().createElement(L.Z,null,i)),y},this.handleSearch=(s,i)=>{var y=this.state.selectType;y==="user"?this.getUserList(s,i):y==="dept"?this.getDeptList(s):y==="post"?this.getPostList(s):y==="cluster"?this.getClusterResult(s):y==="class"?this.getClassResult(s):this.getGroupList(s)},this.getClusterResult=s=>{var i=Q.ZP.OrgDialog.getClusterList(),y={keyword:s};te.WY.get({url:i,params:y}).then(m=>{this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedCluster",m.data.data.map(t=>({name:t.name,userCount:t.user_count,id:t.id,parentId:[""]})))})},this.getUserList=(s,i)=>{var y=Q.ZP.OrgDialog.getUserByName(),m={user_name:i===""?s:"",filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType,userIds:i};te.WY.get({url:y,params:m}).then(t=>{t.data.users&&t.data.users.forEach(D=>{D.name=D.user_name}),this.setState({showCancel:!0}),this.initTypeUser("searchResult",t.data.users||[])})},this.getDeptList=s=>{var i=Q.ZP.Organization.queryDept(),y={department_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};te.WY.get({url:i,params:y}).then(m=>{m.data.departments&&m.data.departments.forEach(t=>{t.name=t.department_name,t.parentId=t.parent_ids?t.parent_ids.split("/"):[],t.userCount=t.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedDept",m.data.departments||[])})},this.getPostList=s=>{var i=Q.ZP.Organization.addPost(),y={post_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};te.WY.get({url:i,params:y}).then(m=>{m.data.posts&&m.data.posts.forEach(t=>{t.name=t.post_name,t.parentId=t.parent_id?t.parent_id.split("/"):[],t.userCount=t.user_count}),this.setState({hidePosts:m.data.hide_posts,showCancel:!0}),this.initTypeList("searchResult","checkedPost",m.data.posts||[])})},this.getGroupList=s=>{var i=Q.ZP.Organization.getGroupList(),y={group_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};te.WY.get({url:i,params:y}).then(m=>{m.data.groups&&m.data.groups.forEach(t=>{t.name=t.group_name,t.parentId=t.parent_id?t.parent_id.split("/"):[],t.userCount=t.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedGroup",m.data.groups||[])})},this.checkAllResult=s=>{var i=this.state,y=i.selectType,m=i.contextData,t="checked".concat(y.charAt(0).toUpperCase()).concat(y.substr(1)),D=[...m[t]],M=m.searchResult.map(pe=>{pe.isChecked=s;var G=D.findIndex(Ee=>Ee.id===pe.id);return G!==-1?D[G].isChecked=s:D.push(pe),pe}),$=D;this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{[t]:$,searchResult:M})})},this.clearSelectedAll=()=>{var s=this.state.contextData,i=s.checkedDept,y=s.checkedGroup,m=s.checkedPost,t=s.checkedUser,D=s.checkedCluster,M=s.checkedClass,$=s.deptList,pe=s.groupList,G=s.postList,Ee=s.clusterList,ge=s.classList,ke=s.deptUser,de=s.groupUser,Oe=s.postUser,ct=$t=>($t.forEach(Vt=>{Vt.isChecked=!1}),$t);this.setState({contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],deptList:i.length>0?ct($):$,groupList:y.length>0?ct(pe):pe,postList:m.length>0?ct(G):G,clusterList:D.length>0?ct(Ee):Ee,classList:M.length>0?ct(ge):ge,deptUser:t.length>0?ct(ke):ke,groupUser:t.length>0?ct(de):de,postUser:t.length>0?ct(Oe):Oe})})},this.handleCancel=()=>{this.setState({showCancel:!1})},this.handleSelectChange=s=>{this.setState({selectType:s,contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{searchResult:[]})})},this.state={title:k.title||k.t("component.chooseAssignScope"),displayType:k.displayType?k.displayType:["dept"],selectType:"user",showCancel:!1,hidePosts:!1,contextData:{showUserCount:k.showUserCount,deptList:[],groupList:[],postList:[],clusterList:[],classList:[],deptUser:[],groupUser:[],postUser:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[],onlyUser:k.onlyUser,onlyDept:k.onlyDept,onlyPost:k.onlyPost,canUseGroups:k.useGroups,canUseClass:k.useClass,single:k.single,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,userType:this.props.userType,initTypeList:this.initTypeList,initTypeUser:this.initTypeUser,toggleDisplayItem:this.toggleDisplayItem,toggleDisplayList:this.toggleDisplayList,checkListOne:this.checkListOne,checkUserOne:this.checkUserOne,removeCheckedUser:this.removeCheckedUser,clearTabPanelList:this.clearTabPanelList,maxDeptUserCount:k.maxDeptUserCount,hidePosts:!1,initHidePostsStatus:this.initHidePostsStatus,cacheId:(0,B.Z)(),clearSelectedAll:this.clearSelectedAll}}}componentDidUpdate(k){if(k.visible!==this.props.visible&&this.props.visible){var g=this.props.initData,s=g.dept,i=g.group,y=g.post,m=g.user,t=g.cluster,D=g.classes;console.warn(m,"user");var M=this.props,$=M.reserveUser,pe=M.t,G=M.onlyDept,Ee=M.onlyPost;$.forEach(ge=>{ge.reserve=!0}),this.setState({title:this.props.title||pe("component.chooseAssignScope"),displayType:this.props.displayType?this.props.displayType:["dept"],selectType:Ee?"post":G?"dept":"user",contextData:(0,E.Z)((0,E.Z)({},this.state.contextData),{},{deptList:[],groupList:[],postList:[],deptUser:[],clusterList:[],classList:[],groupUser:[],postUser:[],searchResult:[],onlyUser:this.props.onlyUser,onlyDept:this.props.onlyDept,canUseGroups:this.props.useGroups,canUseClass:this.props.useClass,onlyPost:this.props.onlyPost,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,cacheId:(0,B.Z)()})},()=>{this.getListParentId(s,i,y,m.concat($),t,D)})}}componentWillUnmount(){be({cacheId:this.state.contextData.cacheId}).then(()=>{console.warn("\u6E05\u9664\u7F13\u5B58\u6210\u529F")}).catch(k=>{console.error("\u6E05\u9664\u7F13\u5B58\u5931\u8D25",k)})}render(){var k=this.getTabs(),g=this.props,s=g.t,i=g.onlyUser,y=g.onlyDept,m=g.onlyPost,t=g.displayType,D=g.useGroups,M=g.useClass,$=g.onlyChoosePost,pe=(0,q.p)(),G=this.state,Ee=G.showCancel,ge=G.selectType,ke=G.hidePosts;return Re.okText=this.props.okText||s("common.ok"),r().createElement(Y.ZP,(0,J.Z)({},Re,this.props.modalConfig,{visible:this.props.visible,title:this.state.title,wrapClassName:[this.props.className,"cl-org-modal"],onCancel:this.onCancel,onOk:this.onOk}),r().createElement(Xe.Provider,{value:this.state.contextData},r().createElement("div",{className:"cl-org"},r().createElement("div",{className:"cl-org-left"},this.props.visible?r().createElement("div",{className:"cl-org-left__top"},r().createElement(p.Z.Group,{compact:!0},r().createElement(a.Z,{className:"cl-org-left__top__select",value:ge,style:{width:80},onChange:this.handleSelectChange},r().createElement(ve,{value:"user",disabled:y||m||$},s("authGroup.userLabel")),r().createElement(ve,{value:"dept",disabled:i||$},s("setting.deptLabel")),r().createElement(ve,{value:"post",disabled:!m&&(y||i)||t.length===1},s("common.post")),r().createElement(ve,{value:"group",disabled:y||i||t.length===1||$},s("component.userGroup")),D?r().createElement(ve,{value:"cluster"},s("component.useCluster")):null,M?r().createElement(ve,{value:"class"},s("component.useClass")):null),r().createElement(S,{selectType:ge,onSearch:this.handleSearch,showCancel:Ee,disableChange:this.props.disableChange})),Ee?r().createElement("div",{className:"cl-org-left__top__cancel",onClick:this.handleCancel,style:{color:pe}},s("common.cancel")):null):null,Ee?r().createElement(_,{isSingle:this.props.single,list:this.state.contextData.searchResult,userListType:ge,checkedAll:this.checkAllResult,hidePosts:ke}):k),r().createElement("div",{className:"cl-org-right"},r().createElement(u,null)))))}}Ge.defaultProps={visible:!0,showUserCount:!0,displayType:["dept","group","post","cluster","class"],initData:{dept:[],post:[],group:[],user:[],cluster:[],classes:[]},reserveUser:[],onlyUser:!1,onlyDept:!1,onlyPost:!1,useGroups:!1,useClass:!1,asyncDeptTree:!0,userType:"active",single:!1,maxUserCount:Infinity,filterAuthOpen:!1,disableHidden:!1,beyondLimitTip:"",onOk:()=>{},modalConfig:{},maxDeptUserCount:0,onlyChoosePost:!1,scrollFlag:!1};var Ye=(0,b.Z)()(Ge)},36202:function(nt,De,e){"use strict";e.d(De,{f:function(){return N}});var J=e(62029),w=e(57361),p=e(33565),X=e(9754),U=e.n(X),T=e(12924),O=e.n(T),E=e(28175),o=e(41647),a=e(93485);function f(R){var F={};if(R.length===0)return F;var j=(0,a.Z)(R),ne;try{for(j.s();!(ne=j.n()).done;){var le=ne.value,ye=le,Q=ye.field,ee=ye.fixed,re=ye.order,Le=ye.show;Le?Le==="true"||Le===!0?F[Q]={fixed:ee,order:re,show:!0}:F[Q]={fixed:ee,order:re,show:!1}:F[Q]={fixed:ee,order:re,show:!0}}}catch(Xe){j.e(Xe)}finally{j.f()}return F}function L(R){var F=[],j=Object.entries(R);if(j.length===0)return F;for(var ne=0,le=j;ne<le.length;ne++){var ye=le[ne],Q=(0,p.Z)(ye,2),ee=Q[0],re=Q[1],Le=re.fixed,Xe=re.order,it=re.show;F.push({field:ee,show:it,fixed:Le,order:Xe})}return F}var I=e(38642),v=(R,F)=>{var j=(0,T.useState)(R),ne=(0,p.Z)(j,2),le=ne[0],ye=ne[1];return(0,T.useEffect)(()=>{var Q=setTimeout(()=>{ye(R)},F);return()=>{clearTimeout(Q)}},[R,F]),le},n=v;function r(R,F){var j=useRef(F);useEffect(()=>{j.current=F},[F]),useEffect(()=>{var ne=le=>{var ye,Q;console.warn(R.current,"node.current",le.target),!((ye=(Q=R.current)===null||Q===void 0?void 0:Q.contains(le.target))!==null&&ye!==void 0?ye:!1)&&j.current&&j.current()};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[R])}var b=!1;function N(R){var F=(0,T.useState)({}),j=(0,p.Z)(F,2),ne=j[0],le=j[1],ye=R.prefixCls,Q=R.rowKey,ee=R.columnEmptyText,re=R.pagination,Le=R.headerTitle,Xe=R.toolBarRender,it=R.size,Pt=R.loading,yt=Pt===void 0?!1:Pt,xt=R.tableUUID;xt||console.error("tableUUID is required!!!"),(0,T.useEffect)(()=>{function lt(qt){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,w.Z)(U().mark(function qt(St){var Ue,vt,qe,Kt,$e,Rt,st,Mt;return U().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,(0,I.Kb)((0,o.U)(St));case 2:if(Ue=rt.sent,vt=(0,p.Z)(Ue,2),qe=vt[0],Kt=vt[1],!qe){rt.next=8;break}return rt.abrupt("return");case 8:$e=Kt.data,Rt=$e.data,st=Rt.fields,Mt=f(st)||{},Mt&&(b=!1,le(Mt));case 13:case"end":return rt.stop()}},qt)})),Ct.apply(this,arguments)}return xt&&lt(xt),()=>{b=!1}},[xt]);var Et=n(ne,1e3);(0,T.useEffect)(()=>{!b||(0,o.I)(xt,L(ne))},[Et]);function Ut(lt){b=!0,le(lt)}return O().createElement("div",{className:"SampleProTable_container ".concat(R.className)},O().createElement(E.ZP,(0,J.Z)({size:it||"middle",rowKey:Q||"id",columnEmptyText:ee||!1,pagination:re||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:yt,headerTitle:Le||"",toolBarRender:Xe||null,columnsStateMap:ne,onColumnsStateChange:Ut},R,{className:"".concat(ye,"-table")})))}},41647:function(nt,De,e){"use strict";e.d(De,{I:function(){return p},U:function(){return X}});var J=e(37055),w=e(10237);function p(U){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=J.ZP.tableHeader.save(),E={fields:T,key:U};return w.WY.post({url:O,data:E})}function X(U){var T=J.ZP.tableHeader.get(U);return w.WY.get({url:T})}},99891:function(nt,De,e){"use strict";var J=e(12924),w=e.n(J),p=e(28216),X=e(91768),U=e(37055),T=e(10237),O=e(60667);class E extends w().PureComponent{constructor(f){super(f);this.getWaterMarkText=L=>{var I=this.props.userInfo,v=I.jobNumber,n=localStorage.getItem("waterMarkPostName"),r=[],b=L.find(R=>R.type==="content_setting"),N=L.find(R=>R.type==="content_custom");return b.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),N.param.checked==="true"&&N.param.comment[0]!==""&&this.setState({commentText:N.param.comment[0]}),b.param.comment.indexOf("position")!==-1&&n&&n!==""&&r.push("".concat(n)),b.param.comment.indexOf("jobnumber")!==-1&&v&&v!==""&&r.push("".concat(v)),r.join("-")},this.getWaterMarkApplication=L=>{var I=this.props.scenes,v=L.find(n=>n.type==="application_scenario");v.param.comment.indexOf(I)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=L=>{var I=L.find(v=>v.type==="dispersive");this.setState({isDispersive:I.param.checked==="true"})},this.getDynamicSet=()=>{var L=U.ZP.advancedSetting.dynamicWaterMarkNew(),I={access_token:window.localStorage.getItem("token")};T.WY.get({url:L,params:I}).then(v=>{var n=JSON.parse(v.data.actions);this.setState({waterMarkText:this.getWaterMarkText(n),actions:n}),this.getWaterMarkApplication(n),this.getWaterIsDispersive(n)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var f=localStorage.getItem("waterMarkPostName");f===""||f===null?this.getPostName():this.getDynamicSet()}getPostName(){var f=U.ZP.advancedSetting.getPostName();T.WY.get({url:f}).then(L=>{localStorage.setItem("waterMarkPostName",L.data.post_names[0]||""),this.getDynamicSet()})}render(){var f=this.state,L=f.showWaterMark,I=f.waterMarkCount,v=f.isUserName,n=f.isDispersive,r=f.waterMarkText,b=f.actions,N=f.commentText,R=this.props.userInfo,F=R.name,j=R.unionid,ne=R.sourceType;return w().createElement("div",{className:"common-watermark"},L&&new Array(I).fill(0).map((le,ye)=>w().createElement("div",{key:ye,className:"common-watermark-item ".concat(n?"isDispersive":"")},w().createElement("span",{className:"common-watermark-item-content"},N!==""&&w().createElement("span",{className:"item-part"},N),v&&w().createElement("span",null,N!==""&&w().createElement("span",null,"-"),w().createElement(O.Z,{dataType:"userName",value:j,name:F,type:ne})),w().createElement("span",{className:"item-part"},(v||N!=="")&&r!==""&&w().createElement("span",null,"-"),r)))))}}var o=a=>({userInfo:a.user});De.Z=(0,p.$j)(o)((0,X.Z)()(E))},17215:function(nt,De,e){"use strict";e.d(De,{h:function(){return p}});var J=e(37055),w=e(10237);function p(){var X=J.ZP.getUserInfoColumnConfig();return w.WY.get({url:X})}},80430:function(nt,De,e){"use strict";var J=e(12924),w=e.n(J),p=e(60667),X=U=>{var T=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},I=L.department_ids.split("/"),v=L.department_names.split("/"),n=I.map((r,b)=>w().createElement(p.Z,{key:r,dataType:"departmentName",value:r,name:v[b],type:L.source_type}));return w().createElement(w().Fragment,null,n.map((r,b)=>w().createElement("span",{key:r},r,b===v.length-1?"":"/")))},O=f=>w().createElement(p.Z,{dataType:"departmentName",value:f.department_id,name:f.department_name,type:f.source_type}),E=()=>{var f=U.list,L=f===void 0?[]:f,I=U.isBlock;if(!L.length)return null;var v=L.map(n=>T(n));return v.length&&v.length>1?w().createElement(w().Fragment,null,v.map((n,r)=>I?w().createElement("div",{key:n},n):w().createElement("span",{key:n},n,r===v.length-1?"":"\uFF0C"))):w().createElement(w().Fragment,null,v[0]||"")},o=()=>{var f=U.list,L=U.nameList,I=U.sourceType,v=U.isBlock,n=f.map((r,b)=>O({department_id:r,department_name:L[b],source_type:I}));return w().createElement(w().Fragment,null,n.map((r,b)=>v?w().createElement("div",{key:r},r):w().createElement("span",{key:r},r,b===n.length-1?"":"\uFF0C")))},a=()=>U.displayAll?E():o();return a()};X.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},De.Z=X},60667:function(nt,De,e){"use strict";e.d(De,{Z:function(){return E}});var J=e(33565),w=e(12924),p=e.n(w),X=e(28216);function U(o){var a=o.type,f=o.openid,L=o.from,I=(0,w.useRef)(null);return(0,w.useLayoutEffect)(()=>{L==="vue"?window.parent.WWOpenData.bind(I.current):WWOpenData.bind(I.current)}),p().createElement("ww-open-data",{ref:I,type:a,openid:f})}var T=o=>{var a=o.wxWorkApiFlag,f=o.appType,L=o.from,I=(0,w.useState)(!1),v=(0,J.Z)(I,2),n=v[0],r=v[1];(0,w.useEffect)(()=>{var R=localStorage.getItem("qyWechatBook");(f!=="wx_app"||a||R==="false"||L==="vue"||L==="taro")&&r(!0)},[a,f,L]);var b=(0,w.useCallback)(()=>{var R=o.type,F=o.value,j=o.name,ne=j===void 0?"":j;switch(console.warn(o,"props"),R){case"wx_sync":{var le=o.dataType;return F?p().createElement(U,{from:L,type:le,openid:F}):ne}default:return ne}},[o]),N=()=>{var R=o.name,F=o.dataType,j=localStorage.getItem("qyWechatBook");if(F===""||j==="false")return R;if(L==="vue"||L==="taro")return b();switch(o.appType){case"wx_app":return b();default:return R}};return n?N():o.name};T.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var O=o=>({appType:o.user.appType,wxWorkApiFlag:o.user.wxWorkApiFlag}),E=(0,X.$j)(O)(T)},48479:function(nt,De,e){"use strict";var J=e(62029),w=e(57361),p=e(47673),X=e(4107),U=e(9754),T=e.n(U),O=e(12924),E=e.n(O),o=e(91768),a=e(94184),f=e.n(a),L=e(28216),I=e(84874),v=e(67222),n=e(2396),r=X.Z.Search;class b extends E().Component{constructor(R){var F;super(R);F=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>E().createElement(I.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var j=(0,w.Z)(T().mark(function ne(le){var ye,Q,ee,re,Le,Xe,it,Pt,yt;return T().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(ye=F.props,Q=ye.appType,ee=ye.exChange,re=ye.appId,Le=localStorage.getItem("qyWechatBook"),Xe="",it=Q==="wx_app"&&Le==="true"&&ee&&re==="9005",!(le&&it)){Et.next=17;break}return Et.prev=5,Et.next=8,(0,v.F_)(le);case 8:Pt=Et.sent,yt=Pt.data,yt.success?Xe=yt.data:Xe="",Et.next=17;break;case 13:Et.prev=13,Et.t0=Et.catch(5),console.error(Et.t0),Xe="";case 17:F.props.onSearch(le,Xe);case 18:case"end":return Et.stop()}},ne,null,[[5,13]])}));return function(ne){return j.apply(this,arguments)}}(),this.handleChange=j=>{var ne=j.target.value,le=j.type,ye=ne;this.props.LimitLength&&(0,n.$s)(ne)>this.props.LimitLength&&(ye=ne.substring(0,(0,n.rw)(ne,this.props.LimitLength))),this.setState({searchValue:ye});var Q=!1;this.props.onSearch&&(le==="click"&&(Q=!0),this.props.immediate&&le==="change"&&(Q=!0)),Q&&this.handleSearch(ne)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(R){R.onRef&&R.onRef(this)}render(){var R=this.state.searchValue,F=this.props,j=F.prefixCls,ne=F.placeholder,le=F.width,ye=F.maxLength,Q=ye===void 0?400:ye,ee=F.height,re=F.immediate,Le=F.value,Xe=f()(["".concat(j)]),it={width:le,height:ee},Pt={};return Le&&(Pt.value=Le),E().createElement(r,(0,J.Z)({className:Xe,style:it,value:R,placeholder:ne,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:Q,allowClear:!0,defaultValue:Le,immediate:re.toString()},Pt))}}b.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},De.Z=(0,L.$j)(N=>({appType:N.user.appType,appId:N.user.appId}))((0,o.Z)()(b))},85372:function(nt,De,e){"use strict";e.d(De,{Z:function(){return fa}});var J=e(62029),w=e(49111),p=e(19650),X=e(57663),U=e(71577),T=e(34792),O=e(48086),E=e(88986),o=e(71194),a=e(57016),f=e(57338),L=e(83107),I=e(33565),v=e(12924),n=e.n(v),r=e(7145),b=e.n(r),N=e(45578),R=e.n(N),F=e(91768),j=e(28216),ne=e(18106),le=e(88108),ye=le.Z.TabPane,Q=P=>{var V=P.t,Me=P.tabList,We=P.activeTab,ie=P.setActiveTab,se=P.type,ce={immediate:V("component.immediateSelectUser"),import:V("component.importUser"),department:V("component.chooseDepartment"),post:V("component.choosePost"),group:V("component.chooseGroup"),cluster:V("component.chooseCluster"),role:V("component.chooseRoles"),user:V("component.choosePerson"),scope:V("component.chooseScope")};return n().createElement(le.Z,{activeKey:We,onChange:fe=>ie(fe),type:se},Me.map(fe=>n().createElement(ye,{tab:ce[fe],key:fe})))};Q.defaultProps={t:()=>{},tabList:[],activeTab:"",setActiveTab:()=>{},type:"line"};var ee=Q,re=e(54549),Le=e(61066),Xe=(0,v.createContext)({}),it=()=>(0,v.useContext)(Xe),Pt=()=>{var P=it(),V=(0,v.useState)(!1),Me=(0,I.Z)(V,2),We=Me[0],ie=Me[1];return(0,v.useEffect)(()=>{ie(P.active==="scope")},[P.active]),n().createElement("div",{className:"selected-users"},n().createElement("div",{className:"selected-header"},n().createElement("div",{className:"selected"},n().createElement("span",{className:"selected-label"},P.t("component.selected"),":")),n().createElement("span",{className:"selected-clear",onClick:()=>P.clearData()},P.t("component.clearAllData"))),We&&n().createElement("div",{className:"selected-scope-tips"},n().createElement("span",null,P.t("component.selectedScopeTips1"),"\uFF1A"),n().createElement("span",null,"1.",P.t("component.selectedScopeTips2")),n().createElement("span",null,"2.",P.t("component.selectedScopeTips3")),n().createElement("span",null,"3.",P.t("component.selectedScopeTips4")),n().createElement("span",{className:"scope-tips-close"},n().createElement(re.Z,{onClick:()=>ie(!1)}))),n().createElement(Le.Z,{store:P,showTips:We,showToolTip:!0}))},yt=Pt,xt=e(57361),Et=e(9754),Ut=e.n(Et),lt=e(25325),Ct=e.n(lt),qt=e(50361),St=e.n(qt),Ue=e(93212),vt=e(22385),qe=e(31097),Kt=e(26726),$e=e.n(Kt),Rt=e(45697),st=e.n(Rt),Mt=e(36202),gt=e(91648),rt=(0,gt.Z)(),x=P=>{var V=(ce,fe)=>{P.pagination.onShowSizeChange(ce,fe)},Me=(ce,fe)=>{var Ie=document.querySelector(".".concat(P.className," .ant-table-body"));Ie.scrollTop=0,P.pagination.onChange(ce,fe)},We={showSizeChanger:!0,showTotal:ce=>"".concat(P.t("historicRecords.altogether")).concat(ce).concat(P.t("historicRecords.strip")),pageSizeOptions:[20,30,40,50],total:P.pagination.total,onChange:Me,current:P.pagination.current,pageSize:P.pagination.pageSize,size:"middle",onShowSizeChange:V},ie=()=>n().createElement("div",{onClick:()=>P.cancelSelect(),style:{color:P.themeColor,cursor:"pointer"}},P.t("component.cancelSelect")),se=ce=>({onClick:fe=>{fe.currentTarget.getElementsByClassName("ant-checkbox-wrapper")[0].click()}});return n().createElement("div",{className:"table-template"},n().createElement(Mt.f,{dataSource:P.dataSource,columns:P.columns,loading:P.loading,rowKey:P.rowKey||"id",className:"table-template-pro ".concat(P.className),rowSelection:P.rowSelection,scroll:{x:"max-content",y:"calc(100% - 47px)"},toolBarRender:()=>P.toolBarRender,tableAlertOptionRender:!1,tableAlertRender:!1,onRow:se,tableUUID:rt,pagination:We}))};x.defaultProps={toolBarRender:n().createElement(n().Fragment,null),columns:[],dataSource:[],pagination:{},loading:!1,rowSelection:{selectedRowKeys:[],type:"checkbox"},className:"custom-table",rowKey:"",cancelSelect:()=>{},scroll:{y:"100%"}},x.PropTypes={cancelSelect:st().func,pagination:st().object,columns:st().array,dataSource:st().array,loading:st().bool,rowSelection:st().object,rowKey:st().func||st().string,className:st().string,scroll:st().object,toolBarRender:st().element};var te=P=>{var V=P.advancedSetting;return{themeColor:V.themeColor}},oe=(0,j.$j)(te)((0,F.Z)()(x)),Be=e(6793),Ze=e(48479),Se=e(37055),xe=e(10237),be={userGroup:Se.ZP.choose.userGroup,userCluster:Se.ZP.choose.userCluster,userRoles:Se.ZP.choose.userRoles},_e={keyword:"",page_number:1,page_size:20},Ve=P=>{var V=it(),Me=V.groups,We=V.setGroups,ie=V.clusters,se=V.setClusters,ce=V.roles,fe=V.setRoles,Ie=V.t,tt=V.checkable,ht=(0,v.useState)(St()(_e)),Qe=(0,I.Z)(ht,2),mt=Qe[0],Fe=Qe[1],ft=(0,v.useState)(0),It=(0,I.Z)(ft,2),wt=It[0],Nt=It[1],Zt=(0,v.useState)([]),pt=(0,I.Z)(Zt,2),zt=pt[0],bt=pt[1],Yt=(0,v.useState)(!1),Gt=(0,I.Z)(Yt,2),Qt=Gt[0],Jt=Gt[1],dt=null,we={cluster:{columns:[{title:Ie("component.clusterName"),dataIndex:"name",key:"name",fixed:"left",width:120,render:ae=>n().createElement(qe.Z,{title:ae},n().createElement("div",{className:"cl-text-ellipsis",style:{width:220}},ae||"--"))},{title:Ie("common.creator"),dataIndex:"create_user",key:"create_user",width:120,render:ae=>n().createElement(qe.Z,{title:ae},n().createElement("div",{className:"cl-text-ellipsis",style:{width:120}},ae||"--"))},{title:Ie("common.createTime"),dataIndex:"create_time",key:"create_time",width:120}],setData:se,data:ie,url:be.userCluster(),searchPlaceholder:Ie("component.clusterSearch"),handleList:ae=>{var H=St()(ae);return H.map(W=>({name:W.name,create_user:W.create_user,create_time:W.create_time?(0,Be.p6)(W.create_time,"yyyy-MM-dd  hh:mm:ss"):"",key:W.id,id:W.id,path:W.path}))}},group:{columns:[{title:Ie("component.groupName"),dataIndex:"name",key:"name",fixed:"left",width:120,render:ae=>n().createElement(qe.Z,{title:ae},n().createElement("div",{className:"cl-text-ellipsis",style:{width:220}},ae||"--"))},{title:Ie("common.creator"),dataIndex:"create_user",key:"create_user",width:120,render:ae=>n().createElement(qe.Z,{title:ae},n().createElement("div",{className:"cl-text-ellipsis",style:{width:120}},ae||"--"))},{title:Ie("common.updateTime"),dataIndex:"update_time",key:"update_time",width:120}],setData:We,data:Me,searchPlaceholder:Ie("component.groupSearch"),url:be.userGroup(),handleList:ae=>{var H=St()(ae);return H.map(W=>({name:W.name,create_user:W.create_user,update_time:W.update_time?(0,Be.p6)(W.update_time,"yyyy-MM-dd  hh:mm:ss"):"",id:W.id,path:W.path}))}},role:{columns:[{title:Ie("setting.roleName"),dataIndex:"role_name",key:"role_name"}],data:ce,setData:fe,searchPlaceholder:Ie("component.roleSearch"),url:be.userRoles(),handleList:ae=>{var H=St()(ae);return H.map(W=>({role_name:W.role_name,id:W.id,name:W.role_name}))}}},Je=P.show?P.type:"group",He=we[Je],ot=He.columns,Ot=He.data,Dt=He.setData,ut=He.handleList,Xt=He.url,ra=He.searchPlaceholder;(0,v.useEffect)(()=>{Fe(ae=>b()(ae,{$set:_e})),bt(ae=>b()(ae,{$set:[]})),Nt(ae=>b()(ae,{$set:0})),P.show&&(dt&&dt.clear(),Wt(_e))},[P.type]);var Wt=function(){var ae=(0,xt.Z)(Ut().mark(function H(W){var Te,Ce,Ft,jt,At,aa,va,ga;return Ut().wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:return Te=W.page_number,Ce=W.page_size,Ft=W.keyword,ua.prev=1,Jt(!0),ua.next=5,xe.WY.get({url:Xt,params:{page_number:Te,page_size:Ce,keyword:Ft}});case 5:jt=ua.sent,Jt(!1),At=jt.data.data,aa=At.total_size,va=At.list,ga=Array.isArray(va)?ut(va):[],bt(ga),Nt(aa),ua.next=16;break;case 13:ua.prev=13,ua.t0=ua.catch(1),Jt(!1);case 16:case"end":return ua.stop()}},H,null,[[1,13]])}));return function(W){return ae.apply(this,arguments)}}(),na=ae=>{Fe(H=>b()(H,{keyword:{$set:ae},page_number:{$set:1}})),Wt({keyword:ae,page_number:1,page_size:mt.page_size})},pa=(ae,H,W)=>{var Te=Ot.map(Ce=>Ce.id);ae?W.forEach(Ce=>{Te.includes(Ce.id)||Dt(Ft=>b()(Ft,{$push:[da(Ce)]}))}):Dt(Ce=>b()(Ce,{$set:$e()(W,Ce,"id")}))},da=ae=>({id:ae.id,name:ae.name}),me=(ae,H)=>{if(!tt){Dt(Te=>b()(Te,{$set:[da(ae)]}));return}if(H)Dt(Te=>b()(Te,{$push:[da(ae)]}));else{var W=Ot.findIndex(Te=>Te.id===ae.id);Dt(Te=>b()(Te,{$splice:[[W,1]]}))}},Ke=()=>n().createElement(Ze.Z,{placeholder:ra,onSearch:na,width:"220px",onRef:ae=>dt=ae});return n().createElement(oe,{toolBarRender:Ke(),dataSource:zt,columns:ot,rowSelection:{type:tt?"checkbox":"radio",selectedRowKeys:Ot.map(ae=>ae.id),onSelect:me,onSelectAll:pa},className:P.type,cancelSelect:()=>Dt([]),loading:Qt,pagination:{total:wt,pageSize:mt.page_size,current:mt.page_number,onShowSizeChange:(ae,H)=>{Fe(W=>b()(W,{page_size:{$set:H}}))},onChange:(ae,H)=>{var W=mt.page_size===H?ae:1;Fe(Te=>b()(Te,{page_number:{$set:W}})),Wt({page_number:W,page_size:H,keyword:mt.keyword})}}})};Ve.defaultProps={type:"group",show:!0};var Pe=Ve,je=e(59676),at={chooseDepartment:Se.ZP.choose.chooseDepartment,choosePost:Se.ZP.choose.choosePost},Ae=()=>{var P=it(),V=P.scopeList,Me=P.filterAuth,We=P.departments,ie=P.posts,se=P.setDepartments,ce=P.setPosts,fe=P.isOnlyPost,Ie=P.showScopeTabs,tt=P.active,ht=P.t,Qe=(0,v.useState)(V[0]),mt=(0,I.Z)(Qe,2),Fe=mt[0],ft=mt[1],It={department:{data:We,setData:se,url:at.chooseDepartment(),id:"dept_id"},post:{data:ie,setData:ce,url:at.choosePost(),id:"post_id"}},wt=function(){var dt=(0,xt.Z)(Ut().mark(function we(Je,He,ot,Ot){var Dt,ut,Xt,ra,Wt,na,pa;return Ut().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(Dt=It[Ot],ut=St()(Dt.data),Xt=Je.findIndex(Ke=>Ke.id===He),!ot){me.next=15;break}if(!(Xt>-1&&Je[Xt].have_auth==="true")){me.next=8;break}ut=[...ut,Je[Xt]],me.next=13;break;case 8:return me.next=10,xe.WY.get({url:Dt.url,params:{[Dt.id]:He}});case 10:ra=me.sent,Wt=ra.data,na=Wt.code,pa=Wt.data,na==="200000"&&(ut=[...ut,pa]);case 13:me.next=16;break;case 15:ut=(0,Ue.XB)(ut,He);case 16:Dt.setData(ut);case 17:case"end":return me.stop()}},we)}));return function(Je,He,ot,Ot){return dt.apply(this,arguments)}}(),Nt={department:{treeData:(0,Ue.z8)(We),handleTreeData:(dt,we,Je)=>wt(dt,we,Je,"department")},post:{treeData:(0,Ue.z8)(ie),handleTreeData:(dt,we,Je)=>wt(dt,we,Je,"post")}},Zt=["group","cluster","role"],pt=["department","post"],zt=Ct()(V,pt).length,bt=Ct()(V,Zt).length,Yt=Zt.includes(Fe),Gt=pt.includes(Fe),Qt=()=>{if(!zt)return null;var dt=Gt?Nt[Fe]:{},we=dt.treeData,Je=we===void 0?[]:we,He=dt.handleTreeData,ot=He===void 0?()=>{}:He;return n().createElement("div",{className:"scope-selector-depart-post",style:{display:Gt?"block":"none"}},n().createElement(je.Z,{businessType:Fe,filterAuth:Me,haveAuth:!1,isOnlyPost:fe,hasCheckList:Je,searchWidth:220,onCheck:ot,onSelect:ot,active:tt}))};(0,v.useEffect)(()=>{ft(V[0])},[tt,V]);var Jt=()=>bt?n().createElement("div",{style:{display:Yt?"block":"none"},className:"rgc-selector"},n().createElement(Pe,{type:Fe,show:Yt})):null;return n().createElement("div",{className:"scope-selector"},Ie&&n().createElement("div",{className:"scope-selector-panel"},n().createElement(ee,{t:ht,tabList:V,activeTab:Fe,setActiveTab:ft})),n().createElement("div",{className:"scope-selector-body ".concat(Ie?"scope-selector-body-have":"")},Qt(),Jt()))},Ne=Ae,Tt=e(78138),et=e.n(Tt),Lt=e(20136),ze=e(55241),kt=e(71153),Bt=e(60331),ma=e(13062),sa=e(71230),oa=e(59250),Ht=e(13013),ia=e(89032),_t=e(15746),la=e(63185),ea=e(9676),ha=e(47673),ca=e(4107),ta=e(9715),ue=e(86585),d=e(14965),u=e(11448),c=e(43358),l=e(34041),h=e(58491),C=e(57254),S=e(60667),A=l.Z.Option,Z=u.Z.RangePicker,_=P=>{var V=P.onSearch,Me=P.initialValues,We=P.customFields,ie=it(),se=ie.t,ce=ie.filterAuth,fe=ie.isOnlyPost,Ie=(0,v.useState)(!1),tt=(0,I.Z)(Ie,2),ht=tt[0],Qe=tt[1],mt=(0,v.useState)([]),Fe=(0,I.Z)(mt,2),ft=Fe[0],It=Fe[1],wt=(0,v.useState)([]),Nt=(0,I.Z)(wt,2),Zt=Nt[0],pt=Nt[1],zt=(0,v.useState)(!0),bt=(0,I.Z)(zt,2),Yt=bt[0],Gt=bt[1],Qt=ue.Z.useForm(),Jt=(0,I.Z)(Qt,1),dt=Jt[0],we=[{label:se("common.departmentLabel"),key:"department_ids",type:"department",dataIndex:"departmentId",placeholder:"".concat(se("common.all")).concat(se("common.departmentLabel")),isChecked:!0,span:8},{label:se("common.postLabel"),key:"post_ids",type:"post",dataIndex:"postId",placeholder:"".concat(se("common.all")).concat(se("common.postLabel")),isChecked:!0,span:8},{label:se("searchInputPlaceholder.userNameOp"),key:"user_name",type:"input",dataIndex:"username",isChecked:!0,inputProps:{maxLength:50},span:8},{label:se("searchInputPlaceholder.jobNumberOp"),key:"job_number",type:"input",dataIndex:"jobNumber",isChecked:!0,inputProps:{maxLength:50},span:8}],Je=(0,v.useState)(we),He=(0,I.Z)(Je,2),ot=He[0],Ot=He[1],Dt=H=>{var W=St()(H);W.join_time&&(W.start_time=W.join_time.length>0?et()(W.join_time[0]).valueOf():"",W.end_time=W.join_time.length>0?et()(W.join_time[1]).valueOf():"");var Te=[];Object.keys(W).forEach(Ce=>{Ce.indexOf("column")>-1&&W[Ce]&&Te.push({column_key:Ce,column_value:W[Ce]})}),W.department_ids=ft.map(Ce=>Ce.id).join(","),W.post_ids=Zt.map(Ce=>Ce.id).join(","),W.extend_column_vos=Te,delete W.join_time,V(W)},ut=(H,W)=>{W==="post"?pt(H):W==="department"&&It(H)},Xt=(H,W)=>{if(H==="department"){var Te=ft.findIndex(Ft=>Ft.id===W);It(Ft=>b()(Ft,{$splice:[[Te,1]]}))}else if(H==="post"){var Ce=Zt.findIndex(Ft=>Ft.id===W);pt(Ft=>b()(Ft,{$splice:[[Ce,1]]}))}},ra=H=>{dt.setFieldsValue({join_time:H||[]})},Wt=(H,W)=>{dt.setFieldsValue({[W]:H.target.value.trim()})},na=H=>{Gt(H)},pa=H=>{if(H.type==="input")return n().createElement(ca.Z,(0,J.Z)({placeholder:"".concat(se("common.input"))},H.inputProps,{allowClear:!0,onChange:Te=>Wt(Te,H.key)}));if(H.type==="select")return n().createElement(l.Z,{placeholder:"".concat(se("common.select")),disabled:H.disabled},H.dataSource.map(Te=>n().createElement(A,{value:Te.value,key:Te.value},Te.label)));if(H.type==="rangePicker")return n().createElement(Z,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onChange:ra,style:{width:"100%"}});if(H.type==="department"||H.type==="post"){var W={department:ft,post:Zt}[H.type]||[];return n().createElement("div",{className:"form-select"},n().createElement("div",{className:"select-wrapper",style:{display:W.length?"flex":"none"}},n().createElement(Y,{onClose:Xt,hasCheckList:W,type:H.type})),n().createElement(l.Z,{dropdownStyle:{width:"400px",padding:"20px"},dropdownMatchSelectWidth:!1,placeholder:W.length?"":H.placeholder,showArrow:!0,autoFocus:!1,showSearch:!1,onDropdownVisibleChange:na,mode:"multiple",maxTagCount:"responsive",dropdownRender:()=>n().createElement(je.Z,{businessStyle:{height:400},searchWidth:320,filterAuth:ce,haveAuth:!1,checkable:!0,isOnlyPost:fe,showSearch:Yt,businessType:H.type,hasCheckList:W,onCheck:Te=>ut(Te,H.type),onSelect:Te=>ut(Te,H.type)})}))}return null},da=()=>{dt.resetFields(),It([]),pt([]),V({},"reset")};(0,v.useEffect)(()=>{if(Array.isArray(We)){var H=We.map(Te=>({label:Te.value,key:Te.label,type:"input",dataIndex:Te.label,isChecked:!1,inputProps:{maxLength:50},span:8})),W=[...St()(we),{label:se("searchInputPlaceholder.loginNumber"),key:"login_mobile",type:"input",inputProps:{maxLength:50},dataIndex:"loginMobile",isChecked:!1,span:8},{label:se("marketing.loginEmail"),key:"login_email",type:"input",dataIndex:"loginEmail",isChecked:!1,inputProps:{maxLength:50},span:8},...H,{label:se("setting.joinTime"),key:"join_time",type:"rangePicker",dataIndex:"joinTime",isChecked:!1,span:16}];Ot(W)}},[We]);var me=H=>{var W=St()(ot);W.forEach((Te,Ce)=>{Ce>3&&(Te.isChecked=H.includes(Te.key))}),Ot(W)},Ke=n().createElement("div",null,n().createElement(ea.Z.Group,{style:{width:"100%"},onChange:me},ot.slice(4,ot.length).map((H,W)=>n().createElement(ea.Z,{value:H.key,key:W.toString()},H.label)))),ae=()=>{var H=ot.reduce((Te,Ce)=>Te+(Ce.isChecked?Ce.span:0),0),W=ot.filter(Te=>Te.isChecked&&Te.span===16);return W.length&&H%24==8?8:24-H%24};return n().createElement(ue.Z,{form:dt,name:"basic",initialValues:Me,className:"search-form",onFinish:Dt,autoComplete:"off"},n().createElement(sa.Z,{gutter:24},ot.map((H,W)=>W>3&&!H.isChecked?null:n().createElement(_t.Z,{span:H.span,key:W.toString()},n().createElement(ue.Z.Item,{label:H.label,name:H.key},pa(H)))),n().createElement(_t.Z,{span:ae(),style:{textAlign:"right"}},n().createElement(Ht.Z,{overlay:Ke,trigger:["click"],overlayClassName:"dropdown-more"},n().createElement(U.Z,{onClick:()=>{Qe(!ht)}},se("common.more")," ",ht?n().createElement(h.Z,null):n().createElement(C.Z,null))),n().createElement(U.Z,{htmlType:"submit",style:{margin:"0 12px"},type:"primary"},se("setting.searchLabel")),n().createElement("a",{onClick:da},se("common.reset")))))};function Y(P){var V=P.type,Me=P.hasCheckList,We=P.onClose,ie=ce=>{ce.preventDefault(),ce.stopPropagation()};if(!Me.length)return null;var se=()=>Me.map((ce,fe)=>n().createElement("span",{key:ce.id},n().createElement(S.Z,{type:ce.source_type,name:ce.name,value:ce.id,dataType:"departmentName"}),fe!==Me.length-1?"\uFF1B":""));return n().createElement(ze.Z,{title:"",content:se(),getPopupContainer:()=>document.querySelector(".search-form"),overlayClassName:"select-tooltip",placement:"topLeft",arrowPointAtCenter:!0},n().createElement("div",null,Me.slice(0,2).map(ce=>n().createElement(Bt.Z,{onMouseDown:ie,key:ce.id,closable:!0,onClose:()=>We(V,ce.id),style:{marginRight:3}},n().createElement("div",{className:"label-span"},n().createElement(S.Z,{type:ce.source_type,name:ce.name,value:ce.id,dataType:"departmentName"})))),Me.length>2&&n().createElement("span",{className:"tag-more"},"...")))}_.defaultProps={onSearch:()=>{},initialValues:{user_type:""},customFields:[]};var q=_,B=e(17215),z=e(38642),ve=e(80430),Re={getUsers:Se.ZP.choose.users},Ge={ding:"sync",third_oa_app:"third_oa_sync",weixin:"wx_sync",app:"create",fs:"fs_sync ",lenovo_sync:""},Ye={e_app:"sync",third_oa_app:"third_oa_sync",wx_app:"wx_sync",app:"create",fs_app:"fs_sync",seeyon_app:""},K=P=>{var V=it(),Me=V.users,We=V.setUsers,ie=V.filterAuth,se=V.checkable,ce=V.userType,fe=V.appType,Ie=V.t,tt=P.organizationType,ht={page_number:1,page_size:20,user_name:"",filter_auth:ie,user_type:ce,department_ids:"",post_ids:"",job_number:"",login_mobile:"",login_email:"",start_time:"",end_time:"",source_type:tt?Ge[tt]:Ye[fe]||""},Qe=(0,v.useState)(St()(ht)),mt=(0,I.Z)(Qe,2),Fe=mt[0],ft=mt[1],It=(0,v.useState)(0),wt=(0,I.Z)(It,2),Nt=wt[0],Zt=wt[1],pt=(0,v.useState)([]),zt=(0,I.Z)(pt,2),bt=zt[0],Yt=zt[1],Gt=(0,v.useState)(!1),Qt=(0,I.Z)(Gt,2),Jt=Qt[0],dt=Qt[1],we=(0,v.useState)([]),Je=(0,I.Z)(we,2),He=Je[0],ot=Je[1],Ot=(0,v.useState)([{title:Ie("common.userName"),dataIndex:"user_name",key:"user_name",fixed:"left",width:150,render:(me,Ke)=>{var ae=()=>n().createElement(S.Z,{type:Ke.source_type,name:Ke.user_name,value:Ke.user_id,dataType:"userName"});return n().createElement(qe.Z,{title:ae()},n().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},ae()))}},{title:"ID",dataIndex:"id",key:"id",width:100},{title:Ie("authentication.job_number"),dataIndex:"job_number",key:"job_number",width:150,render:me=>n().createElement("span",null,me||"--")},{title:Ie("common.departmentLabel"),dataIndex:"department_infos",key:"department_infos",width:210,render:me=>{var Ke=()=>n().createElement(ve.Z,{list:me,displayAll:!0});return n().createElement(qe.Z,{title:Ke()},n().createElement("div",{className:"cl-text-ellipsis",style:{width:200}},Ke()))}},{title:Ie("authentication.position"),dataIndex:"post_names",width:150,key:"post_names",render:me=>{var Ke=Array.isArray(me)?me.join("\uFF0C"):"";return n().createElement(qe.Z,{title:Ke},n().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ke||"--"))}},{title:Ie("marketing.loginEmail"),dataIndex:"login_email",key:"login_email",width:150,render:me=>n().createElement("span",null,me||"--")},{title:Ie("searchInputPlaceholder.loginNumber"),dataIndex:"login_mobile",key:"login_mobile",width:150,render:me=>n().createElement("span",null,me||"--")},{title:Ie("setting.joinTime"),dataIndex:"create_time",key:"create_time",width:150,render:me=>n().createElement("span",null,me?et()(Number(me)).format("YYYY-MM-DD HH:mm"):"--")}]),Dt=(0,I.Z)(Ot,2),ut=Dt[0],Xt=Dt[1];(0,v.useEffect)(()=>{ra()},[Fe]);var ra=function(){var me=(0,xt.Z)(Ut().mark(function Ke(){var ae,H,W,Te,Ce;return Ut().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return jt.prev=0,dt(!0),jt.next=4,xe.WY.post({url:Re.getUsers(),data:Fe});case 4:ae=jt.sent,dt(!1),H=ae.data.data,W=H.total_size,Te=H.list,Ce=Te.map(At=>(Array.isArray(At.extend_list)&&At.extend_list.forEach(aa=>{At[aa.column_key]=aa.extend_value}),At.path=At.department_infos,(0,E.Z)((0,E.Z)({},At),{},{user_name:At.user_name,job_number:At.job_number,login_mobile:At.login_mobile,login_email:At.login_email,department_names:At.department_names,post_names:At.post_names,user_id:At.user_id,name:At.user_name,path:At.path}))),Yt(Ce),Zt(W),jt.next=15;break;case 12:jt.prev=12,jt.t0=jt.catch(0),dt(!1);case 15:case"end":return jt.stop()}},Ke,null,[[0,12]])}));return function(){return me.apply(this,arguments)}}(),Wt=me=>({id:me.id,name:me.name,path:me.path,source_type:me.source_type,user_id:me.user_id}),na=(me,Ke,ae)=>{if(me){var H=Me.map(W=>W.id);ae.forEach(W=>{H.includes(W.id)||We(Te=>b()(Te,{$push:[Wt(W)]}))})}else We(W=>b()(W,{$set:$e()(ae,W,"id")}))},pa=(me,Ke)=>{if(se)if(Ke)We(H=>b()(H,{$push:[Wt(me)]}));else{var ae=Me.findIndex(H=>H.id===me.id);We(H=>b()(H,{$splice:[[ae,1]]}))}else We(H=>b()(H,{$set:[Wt(me)]}))},da=(me,Ke)=>{ft(Ke==="reset"?ae=>b()(ae,{$set:ht}):ae=>b()(ae,{$set:(0,E.Z)((0,E.Z)({},ae),{},{page_number:1},me)}))};return(0,v.useEffect)(()=>{(function(){var me=(0,xt.Z)(Ut().mark(function ae(){var H,W,Te,Ce,Ft,jt;return Ut().wrap(function(aa){for(;;)switch(aa.prev=aa.next){case 0:return aa.next=2,(0,z.Kb)((0,B.h)());case 2:if(H=aa.sent,W=(0,I.Z)(H,2),Te=W[0],Ce=W[1],!Te){aa.next=8;break}return aa.abrupt("return");case 8:Ft=Ce.data,jt=[],Array.isArray(Ft)&&Ft.forEach(va=>{Object.keys(va).forEach(ga=>{ga.indexOf("column")>-1&&jt.push({label:ga,value:va[ga]})})}),ot(jt);case 12:case"end":return aa.stop()}},ae)}));function Ke(){return me.apply(this,arguments)}return Ke})()()},[]),(0,v.useEffect)(()=>{var me=He.map(Ke=>({title:Ke.value,dataIndex:Ke.label,key:Ke.label,render:ae=>n().createElement(qe.Z,{title:ae},n().createElement("div",{className:"cl-text-ellipsis",style:{width:100}},ae||"--"))}));Xt([...ut,...me])},[He]),n().createElement("div",{className:"direct-select-user"},n().createElement("div",{className:"direct-header"},n().createElement(q,{onSearch:da,initialValues:{user_type:ce},customFields:He})),n().createElement("div",{className:"direct-body"},n().createElement(oe,{hasSearch:!1,dataSource:bt,columns:ut,rowSelection:{type:se?"checkbox":"radio",selectedRowKeys:Me.map(me=>me.id),onSelect:pa,onSelectAll:na},cancelSelect:()=>We([]),loading:Jt,pagination:{total:Nt,pageSize:Fe.page_size,current:Fe.page_number,onShowSizeChange:(me,Ke)=>{ft(ae=>b()(ae,{$set:(0,E.Z)((0,E.Z)({},ae),{},{page_size:Ke})}))},onChange:me=>{ft(Ke=>b()(Ke,{$set:(0,E.Z)((0,E.Z)({},Ke),{},{page_number:me})}))}}})))},k=()=>({}),g=(0,j.$j)(k)((0,F.Z)()(K)),s=e(66456),i=e(55313),y=e(43185),m=e(53251),t=e(30887),D=e(99210),M=e(8812),$=e(49101),pe=e(90631),G=e(97593),Ee=e(18329),ge={size:"middle",destroyOnClose:!0,bodyStyle:{padding:"0 32px"},maskClosable:!1},ke={downloadTemplate:Se.ZP.Organization.downloadTemplate,uploadUsers:Se.ZP.Organization.importUserTemplate},de=P=>{var V=(0,v.useState)(!1),Me=(0,I.Z)(V,2),We=Me[0],ie=Me[1],se=(0,v.useState)([]),ce=(0,I.Z)(se,2),fe=ce[0],Ie=ce[1],tt=(0,v.useState)(""),ht=(0,I.Z)(tt,2),Qe=ht[0],mt=ht[1],Fe=it(),ft=Fe.users,It=Fe.setUsers,wt=Fe.fileList,Nt=Fe.setFileList,Zt=[{key:"userId",label:P.t("component.importByUserId")},{key:"mobile",label:P.t("component.importByMobile")},{key:"jobNumber",label:P.t("component.importByJobNum")}],pt=n().createElement(D.Z,null,Zt.map(we=>n().createElement(D.Z.Item,{onClick:()=>Yt(we.key),key:we.key},we.label))),zt=[{title:P.t("component.fileName"),dataIndex:"file_name",key:"file_name",width:200,textWrap:"word-break",ellipsis:!0},{title:P.t("component.successLabel"),dataIndex:"success_count"},{title:P.t("component.failedLabel"),dataIndex:"failed_count",render:(we,Je)=>n().createElement("div",null,we," ",we>0&&n().createElement(U.Z,{type:"link",size:"small",onClick:()=>bt(!0,Je.error_msg_list),icon:n().createElement(M.Z,null)}))},{title:P.t("common.operate"),dataIndex:"operate",render:(we,Je)=>n().createElement(U.Z,{type:"link",onClick:()=>Gt(Je)},P.t("component.importUser"))}],bt=(we,Je)=>{Ie(Je),ie(we)},Yt=we=>{mt(we)},Gt=we=>{var Je=we.success_list,He=ft.map(ot=>ot.id);Je.forEach(ot=>{He.includes(ot.id)||It(Ot=>b()(Ot,{$push:[ot]}))})},Qt=we=>{O.default.config({maxCount:5});var Je=we.file,He=Je===void 0?{}:Je,ot=He.response,Ot=ot===void 0?{}:ot,Dt=Ot.code,ut=Ot.data,Xt=Ot.message;if(He.status==="error")Dt==="4000001"?O.default.error("".concat(He.name," ").concat(P.t("component.dataManyTip",{count:3e3})),3):O.default.error(Xt||"".concat(He.name," ").concat(P.t("setting.uploadFail")),3);else if(He.status==="done")if(Dt==="200000"){var ra={key:He.uid,file_name:He.name,success_count:ut.success_count,success_list:ut.success_list,failed_count:ut.failed_count,error_msg_list:ut.error_msg_list||[]};Nt(Wt=>b()(Wt,{$set:[...Wt,ra]})),O.default.success("".concat(He.name," ").concat(P.t("setting.uploadSuccess")),1)}else O.default.error("".concat(He.name," ").concat(P.t("component.checkFileError")),3)},Jt=we=>{var Je={page:"selectUserTemplate",query:"?download_type=".concat(we),props:P};(0,G.N)(Je)},dt={name:"file",multiple:!0,action:"".concat(ke.uploadUsers(),"?access_token=").concat(window.localStorage.getItem("token"),"&type=").concat(Qe),showUploadList:!1,headers:{authorization:"authorization-text","Enterprise-Id":window.localStorage.getItem("enterpriseId")},accept:".xlsx",onChange:Qt};return n().createElement("div",{className:"import-user"},n().createElement("div",{className:"import-user-header"},n().createElement("div",{className:"import-user-tips"},n().createElement("div",{className:"import-user-tip"},P.t("component.importTipTitle"),"\uFF1A"),n().createElement("div",{className:"import-user-tip"},P.t("component.importUserTips1")),n().createElement("div",{className:"import-user-tip"},P.t("component.importUserTips2")),n().createElement("div",{className:"import-user-tip"},P.t("component.importUserTips3"))),n().createElement(p.Z,null,n().createElement(m.Z,dt,n().createElement(Ht.Z,{overlay:pt},n().createElement(U.Z,{onClick:we=>{we.stopPropagation()},icon:n().createElement($.Z,null),type:"primary",ghost:!0},P.t("component.selectFile")))),n().createElement(U.Z,{icon:n().createElement(pe.Z,null),onClick:()=>Jt("group"),type:"primary",ghost:!0},P.t("component.downLoadTemplate")),n().createElement(U.Z,{icon:n().createElement(pe.Z,null),onClick:()=>Jt("empty_template"),type:"primary",ghost:!0},P.t("component.downloadEmptyTemplate")))),n().createElement("div",{className:"import-user-body"},n().createElement(i.Z,{dataSource:wt,columns:zt,rowKey:we=>we.key,pagination:!1,scroll:{y:"calc(100% - 55px)"}})),n().createElement(Ee.Om,(0,J.Z)({className:"err-view-dialog"},ge,{title:P.t("component.importErrorTip"),visible:We,onCancel:()=>bt(!1,[]),onOk:()=>bt(!1,[])}),fe.map(we=>n().createElement("div",{className:"err-view-item",key:we},we))))},Oe=(0,j.$j)()((0,F.Z)()(de)),ct=P=>{var V=it(),Me=V.chooseUserList,We=V.showChooseTabs,ie=V.active,se=V.t,ce=(0,v.useState)(Me[0]),fe=(0,I.Z)(ce,2),Ie=fe[0],tt=fe[1];return(0,v.useEffect)(()=>{tt(Me[0])},[ie,Me]),n().createElement("div",{className:"direct-selector"},We&&n().createElement("div",{className:"direct-selector-panel"},n().createElement(ee,{t:se,tabList:Me,activeTab:Ie,setActiveTab:tt})),n().createElement("div",{className:"direct-selector-body ".concat(We?"direct-selector-body-have":"")},Ie==="immediate"&&n().createElement(g,{organizationType:P.organizationType}),Ie==="import"&&n().createElement(Oe,null)))},$t=ct,Vt=P=>{var V=(0,v.useState)(P.tabs[0]),Me=(0,I.Z)(V,2),We=Me[0],ie=Me[1],se=(0,v.useState)([]),ce=(0,I.Z)(se,2),fe=ce[0],Ie=ce[1],tt=(0,v.useState)([]),ht=(0,I.Z)(tt,2),Qe=ht[0],mt=ht[1],Fe=(0,v.useState)([]),ft=(0,I.Z)(Fe,2),It=ft[0],wt=ft[1],Nt=(0,v.useState)([]),Zt=(0,I.Z)(Nt,2),pt=Zt[0],zt=Zt[1],bt=(0,v.useState)([]),Yt=(0,I.Z)(bt,2),Gt=Yt[0],Qt=Yt[1],Jt=(0,v.useState)([]),dt=(0,I.Z)(Jt,2),we=dt[0],Je=dt[1],He=(0,v.useState)([]),ot=(0,I.Z)(He,2),Ot=ot[0],Dt=ot[1],ut=P.tabs.length>1,Xt=P.scopeList.length>1,ra=P.chooseUserList.length>1,Wt=(0,v.useState)(!1),na=(0,I.Z)(Wt,2),pa=na[0],da=na[1],me={wrapper:P.showType==="drawer"?L.Z:a.Z,height:P.showType==="drawer"?"100%":"642px",config:P.showType==="drawer"?{className:"".concat(P.className," cl-user-selector")}:{wrapClassName:"".concat(P.className," cl-user-selector")}},Ke=()=>{Ie([]),mt([]),zt([]),wt([]),Je([]),Qt([])},ae=(0,E.Z)({users:fe,setUsers:Ie,departments:Qe,setDepartments:mt,posts:It,setPosts:wt,groups:pt,setGroups:zt,clusters:Gt,setClusters:Qt,roles:we,setRoles:Je,clearData:Ke,active:We,showTabs:ut,showScopeTabs:Xt,showChooseTabs:ra,fileList:Ot,setFileList:Dt,appType:P.appType,tableHeight:me.height},P),H=()=>{if(P.maxUserConfig.limitCount&&fe.length>P.maxUserConfig.limitCount){O.default.warn(P.maxUserConfig.limitTip);return}var Ce={};P.tabs.includes("user")&&(Ce.users=R()(fe,"id")),P.tabs.includes("scope")&&(P.scopeList.includes("department")&&(Ce.departments=Qe),P.scopeList.includes("post")&&(Ce.posts=It),P.scopeList.includes("group")&&(Ce.groups=R()(pt,"id")),P.scopeList.includes("cluster")&&(Ce.clusters=R()(Gt,"id")),P.scopeList.includes("role")&&(Ce.roles=R()(we,"id"))),P.onOk((0,E.Z)({},Ce))};(0,v.useEffect)(()=>(P.tabs.includes("user")&&Ie(Ce=>b()(Ce,{$set:P.value.users||[]})),P.scopeList.includes("department")&&mt(Ce=>b()(Ce,{$set:P.value.departments||[]})),P.scopeList.includes("post")&&wt(Ce=>b()(Ce,{$set:P.value.posts||[]})),P.scopeList.includes("group")&&zt(Ce=>b()(Ce,{$set:P.value.groups||[]})),P.scopeList.includes("cluster")&&Qt(Ce=>b()(Ce,{$set:P.value.clusters||[]})),P.scopeList.includes("role")&&Je(Ce=>b()(Ce,{$set:P.value.roles||[]})),()=>{ie(P.tabs[0])}),[P.value,P.tabs,P.scopeList]);var W=()=>{Ke(),P.onCancel()};(0,v.useEffect)(()=>{var Ce=fe.length||Qe.length||It.length||pt.length||Gt.length||we.length;da(!Ce)},[fe,Qe,It,pt,Gt,we]);var Te=()=>n().createElement(p.Z,null,n().createElement(U.Z,{onClick:W},P.cancelText||P.t("common.cancel")),n().createElement(U.Z,{type:"primary",onClick:H,disabled:pa},P.okText||P.t("common.ok")));return n().createElement(me.wrapper,(0,J.Z)({},P.wrapperConfig,{visible:P.visible,title:P.title||P.t("component.chooseObject")},me.config,{onClose:W,onCancel:W,footer:Te()}),n().createElement(Xe.Provider,{value:ae},n().createElement("div",{className:"user-selector-wrapper"},n().createElement("div",{className:"wrapper-layout",style:{height:me.height}},n().createElement("div",{className:"layout-left"},ut&&n().createElement("div",{className:"selector-panel"},n().createElement(ee,{activeTab:We,t:P.t,tabList:P.tabs,setActiveTab:ie,type:"card"})),P.tabs.includes("user")&&n().createElement("div",{className:"layout-left-content ".concat(ut?"layout-left-content-have":""),style:{display:We==="user"?"block":"none"}},n().createElement($t,{organizationType:P.organizationType})),P.tabs.includes("scope")&&n().createElement("div",{className:"layout-left-content ".concat(ut?"layout-left-content-have":""),style:{display:We==="scope"?"block":"none"}},n().createElement(Ne,null))),n().createElement("div",{className:"layout-right"},n().createElement(yt,null))))))};Vt.defaultProps={visible:!1,value:{users:[],departments:[],posts:[],clusters:[],groups:[],roles:[]},title:"",businessId:"",tabs:["user","scope"],chooseUserList:["immediate","import"],scopeList:["department","post","group","cluster","role"],checkable:!0,filterAuth:!0,userType:"active",maxUserConfig:{limitCount:0,limitTip:""},isOnlyPost:!1,wrapperConfig:{width:"1200px",destroyOnClose:!0,bodyStyle:{padding:0},maskClosable:!1,size:"medium"},showType:"modal",okText:"",onOk:()=>{},onCancel:()=>{}};var he=P=>({appType:P.user.appType}),fa=(0,j.$j)(he)((0,F.Z)()(Vt))},61066:function(nt,De,e){"use strict";e.d(De,{Z:function(){return St}});var J=e(62029),w=e(33565),p=e(7359),X=e(2829),U=e(12924),T=e.n(U),O=e(7145),E=e.n(O),o=e(50361),a=e.n(o),f=e(18095),L=e(18267),I=e(91768),v=e(93212),n=e(54549),r=e(28216),b=e(60667),N=e(84874),R=Ue=>{var vt=Ue.data,qe=Ue.type,Kt=Ue.appType,$e=Ue.store,Rt=Ue.isShowRemove,st=Rt===void 0?!0:Rt,Mt=(gt,rt)=>{var x=$e[rt].findIndex(xe=>xe.id===gt.id),te={groups:$e.setGroups,users:$e.setUsers,clusters:$e.setClusters,roles:$e.setRoles};if(Object.keys(te).forEach(xe=>{if(rt===xe){var be=a()($e[rt]);Array.isArray(be)&&(be.splice(x,1),te[xe](be))}}),rt==="departments"){var oe=a()($e.departments),Be=(0,v.XB)(oe,gt.id,gt);$e.setDepartments(Be)}if(rt==="posts"){var Ze=a()($e.posts),Se=(0,v.XB)(Ze,gt.id,gt);$e.setPosts(Se)}};return T().createElement("div",{className:"render-item"},T().createElement("div",{className:"render-item-name"},T().createElement("span",{className:"item-name-icon"},qe==="users"?T().createElement(N.Z,{className:"iconfont",color:"#C0C3CD",iconClass:"icon-danren1"}):T().createElement(N.Z,{className:"iconfont",color:"#C0C3CD",iconClass:"icon-duoren1"})),["users","departments"].includes(qe)?T().createElement(b.Z,{type:vt.source_type,name:vt.name,value:Kt==="wx_app"&&qe==="users"?vt.user_id:vt.id,dataType:qe==="users"?"userName":"departmentName"}):vt.name),st?T().createElement("span",{className:"render-item-close",onClick:()=>Mt(vt,qe)},T().createElement(n.Z,{style:{fontSize:"12px",color:"#AFB5D2"}})):"")},F=Ue=>({appType:Ue.user.appType}),j=(0,r.$j)(F)(R),ne=e(22385),le=e(31097),ye=e(88986),Q=e(57361),ee=e(20228),re=e(11382),Le=e(9754),Xe=e.n(Le),it=e(10237),Pt=e(37055),yt=Ue=>it.WY.get({url:Pt.ZP.choose.chooseDepartmentPath({departmentId:Ue})}),xt=Ue=>it.WY.get({url:Pt.ZP.choose.choosePostPath({postId:Ue})}),Et=e(80430),Ut=Ue=>{var vt=Ue.showToolTip,qe=vt===void 0?!1:vt,Kt=Ue.data,$e=Ue.type,Rt=Ue.store,st=Ue.isShowRemove,Mt=st===void 0?!0:st,gt=(0,U.useState)(!0),rt=(0,w.Z)(gt,2),x=rt[0],te=rt[1],oe=(0,U.useState)(Kt),Be=(0,w.Z)(oe,2),Ze=Be[0],Se=Be[1],xe=(be,_e)=>{var Ve=Array.isArray(Ze.path)&&Ze.path.length,Pe=Ve&&Ze.path.every(at=>Boolean(at.post_names)),je=Ve&&Ze.path.every(at=>Boolean(at.department_names));if(_e==="posts"&&Pe)return be.path[0].post_names;if(je)return T().createElement(Et.Z,{list:be.path,displayAll:!0})};return["users","departments","posts"].includes($e)&&qe?T().createElement(le.Z,{placement:"top",title:x?T().createElement(re.Z,{size:"small",className:"cl-user-selector-selected-body-tooltip"}):xe(Ze,$e),mouseEnterDelay:.5,trigger:["hover","focus","click"],onVisibleChange:function(){var be=(0,Q.Z)(Xe().mark(function _e(Ve){var Pe,je;return Xe().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(!(Ve&&["departments","posts"].includes($e))){Ae.next=22;break}if(Ae.prev=1,$e!=="departments"){Ae.next=8;break}return Ae.next=5,yt(Ze.id);case 5:Ae.t0=Ae.sent,Ae.next=11;break;case 8:return Ae.next=10,xt(Ze.id);case 10:Ae.t0=Ae.sent;case 11:Pe=Ae.t0,je=Pe.data.data.path,Se((0,v.sg)([(0,ye.Z)((0,ye.Z)({},Ze),{},{path:je})],$e==="departments"?"department":"post")[0]),te(!1),Ae.next=20;break;case 17:Ae.prev=17,Ae.t1=Ae.catch(1),console.error("\u83B7\u53D6path\u5931\u8D25",Ae.t1);case 20:Ae.next=23;break;case 22:Ve&&["users"].includes($e)&&te(!1);case 23:case"end":return Ae.stop()}},_e,null,[[1,17]])}));return function(_e){return be.apply(this,arguments)}}()},T().createElement("span",null,T().createElement(j,{store:Rt,data:Ze,type:$e,isShowRemove:Mt}))):T().createElement(j,{store:Rt,data:Ze,type:$e,isShowRemove:Mt})},lt=Ut,Ct=X.Z.Panel,qt=Ue=>{var vt=Ue.showTips,qe=vt===void 0?!1:vt,Kt=Ue.showToolTip,$e=Kt===void 0?!1:Kt,Rt=Ue.isCollapseTree,st=Rt===void 0?!1:Rt,Mt=Ue.isShowRemove,gt=Mt===void 0?!0:Mt,rt=Ue.collapseProps,x=rt===void 0?{showExpandArrow:!0,expandIconPosition:"right",ghost:!0}:rt,te=Ue.store,oe=te===void 0?{departments:[],posts:[],users:[],groups:[],clusters:[],roles:[],setGroups:()=>{},setUsers:()=>{},setClusters:()=>{},setRoles:()=>{},setDepartments:()=>{},setPosts:()=>{}}:te,Be=Ue.t,Ze=(0,U.useState)({departments:[],posts:[]}),Se=(0,w.Z)(Ze,2),xe=Se[0],be=Se[1];(0,U.useEffect)(()=>{be(Pe=>E()(Pe,{departments:{$set:(0,v.sg)(oe.departments,"department")}}))},[oe.departments]),(0,U.useEffect)(()=>{be(Pe=>E()(Pe,{posts:{$set:(0,v.sg)(oe.posts,"post")}}))},[oe.posts]);var _e=Pe=>{var je=Pe.key,at=Pe.data,Ae={fontSize:"16px",marginRight:"8px",cursor:"pointer",color:"#C0C3CD"};return T().createElement("div",{className:"render-department-post"},at.map(Ne=>T().createElement("div",{key:Ne.id,className:"department-post-wrapper ".concat(Ne.have_auth==="true"?"inline":"")},Ne.have_auth==="true"?T().createElement(lt,{store:oe,data:Ne,type:je,showToolTip:$e,isShowRemove:gt}):T().createElement("div",{className:"render-parent"},Ne.isExpand?T().createElement(f.Z,{style:Ae,onClick:()=>Ve(Ne,je)}):T().createElement(L.Z,{style:Ae,onClick:()=>Ve(Ne,je)}),je==="departments"?T().createElement(b.Z,{type:Ne.source_type,name:Ne.name,value:Ne.id,dataType:"departmentName"}):Ne.name),Array.isArray(Ne.sub_list)&&Ne.sub_list.length&&Ne.isExpand?T().createElement("div",{className:"render-child"},Ne.sub_list.map(Tt=>T().createElement(lt,{store:oe,data:Tt,key:Tt.id,type:je,showToolTip:$e,isShowRemove:gt}))):null)))},Ve=(Pe,je)=>{if(je==="departments"){var at=a()(oe.departments).map(Ne=>(Ne.id===Pe.id&&(Ne.isExpand=!Ne.isExpand),Ne));oe.setDepartments(at)}else if(je==="posts"){var Ae=a()(oe.posts).map(Ne=>(Ne.id===Pe.id&&(Ne.isExpand=!Ne.isExpand),Ne));oe.setPosts(Ae)}};return T().createElement("div",{className:"cl-user-selector-selected-body ".concat(qe?"cl-user-selector-selected-body-tips":"")},T().createElement(X.Z,(0,J.Z)({defaultActiveKey:st?[]:["1","2","3","4","5","6"]},x),Array.isArray(oe.users)&&oe.users.length?T().createElement(Ct,{header:Be("personal.user"),key:"1",showArrow:x.showExpandArrow},oe.users.map(Pe=>T().createElement(lt,{store:oe,data:Pe,key:Pe.id,type:"users",showToolTip:$e,isShowRemove:gt}))):null,Array.isArray(oe.departments)&&oe.departments.length?T().createElement(Ct,{header:Be("common.departmentLabel"),key:"2",showArrow:x.showExpandArrow,collapsible:!0},_e({key:"departments",data:xe.departments})):null,Array.isArray(oe.posts)&&oe.posts.length?T().createElement(Ct,{header:Be("authentication.position"),key:"3",showArrow:x.showExpandArrow,collapsible:!0},_e({key:"posts",data:xe.posts})):null,Array.isArray(oe.groups)&&oe.groups.length?T().createElement(Ct,{header:Be("component.userGroup"),key:"4",showArrow:x.showExpandArrow,collapsible:!0},oe.groups.map(Pe=>T().createElement(j,{store:oe,type:"groups",data:Pe,key:Pe.id,isShowRemove:gt}))):null,Array.isArray(oe.clusters)&&oe.clusters.length?T().createElement(Ct,{header:Be("component.useCluster"),key:"5",showArrow:x.showExpandArrow},oe.clusters.map(Pe=>T().createElement(j,{store:oe,type:"clusters",data:Pe,key:Pe.id,isShowRemove:gt}))):null,Array.isArray(oe.roles)&&oe.roles.length?T().createElement(Ct,{header:Be("searchInputPlaceholder.roles"),key:"6",showArrow:x.showExpandArrow},oe.roles.map(Pe=>T().createElement(j,{store:oe,type:"roles",data:Pe,key:Pe.id,isShowRemove:gt}))):null))};qt.defaultProps={store:{users:[],departments:[],posts:[],clusters:[],groups:[],roles:[],setGroups:()=>{},setUsers:()=>{},setClusters:()=>{},setRoles:()=>{},setDepartments:()=>{},setPosts:()=>{}},showTips:!1,showToolTip:!1,isExpand:!1,isCollapseTree:!1,isShowRemove:!0};var St=(0,I.Z)()(qt)},93212:function(nt,De,e){"use strict";e.d(De,{XB:function(){return p},GU:function(){return U},sg:function(){return T},z8:function(){return O}});var J=e(50361),w=e.n(J),p=(o,a,f)=>{var L={key:f?f.level:a,name:f?"level":"id"},I=X(o),v=(b,N)=>{b.forEach((R,F)=>{R[L.name]===N&&b.splice(F,1),R.sub_list&&R.sub_list.length&&v(R.sub_list,N)})},n=b=>{var N=w()(b);return N.forEach((R,F)=>{R.have_auth==="false"&&R.sub_list&&R.sub_list.length===0&&N.splice(F,1)}),N};v(I,L.key);var r=n(I);return r},X=o=>{var a=w()(o);return a.forEach(f=>{f.level=[f.id].join("&"),Array.isArray(f.sub_list)&&f.sub_list.length&&f.sub_list.forEach(L=>{L.level=[f.id,L.id].join("&")})}),a},U=o=>{var a=w()(o),f=[];return a.forEach(L=>{f.push({id:L.id,sub_list:L.sub_list&&L.sub_list.map(I=>({id:I.id}))})}),f},T=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0,L=w()(a)||[],I=v=>{var n=[];if(Array.isArray(v.path)&&v.path.length){var r=[],b=v.path.map(N=>N.id||N.key);b.includes(v.id||v.key)?r=v.path:r=[...v.path,v],f==="department"?n=[{department_ids:r.map(N=>N.id||N.key).join("/"),department_names:r.map(N=>N.name||N.title).join("/"),source_type:v.source_type}]:f==="post"&&(n=[{post_ids:r.map(N=>N.id||N.key).join("/"),post_names:r.map(N=>N.name||N.title).join("/")}])}return n};return L.forEach(v=>{v.level=[v.id].join("&"),v.path=I(v),Array.isArray(v.sub_list)&&v.sub_list.length&&v.sub_list.forEach(n=>{n.level=[v.id,n.id].join("&"),n.path=I(n)})}),L},O=o=>{var a=[],f=L=>{L.forEach(I=>{a.push(I),Array.isArray(I.sub_list)&&I.sub_list.length&&f(I.sub_list)})};return f(o),a},E=o=>{var a=[cloneDeep(o)],f=L=>{L.forEach(I=>{I.path=[...I.path,{id:I.id,name:I.name,source_type:I.source_type}],Array.isArray(I.sub_list)&&I.sub_list.length&&f(I.sub_list)})};return f(a),a}},76466:function(nt,De,e){"use strict";e.d(De,{Z:function(){return ta}});var J=e(20228),w=e(11382),p=e(57663),X=e(71577),U=e(62029),T=e(57361),O=e(9754),E=e.n(O),o=e(12924),a=e.n(o),f=e(91512),L=e(68654),I=e(91768),v=e(4412),n=e.n(v);class r extends a().Component{render(){var d=this.props.t;return a().createElement("div",{className:"net-preview"},a().createElement("div",{className:"net-preview-center"},a().createElement("img",{src:n(),alt:"picture"}),a().createElement("h2",null,d("localStorage.tip")),a().createElement("p",null,d("localStorage.banPreview"))))}}var b=(0,I.Z)()(r),N=e(88986),R=e(34792),F=e(48086),j=e(28216),ne=e(21594),le=e(41225),ye=e(10237),Q=(ue,d)=>(0,N.Z)({id:ue||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},d),ee=Q;class re extends o.Component{constructor(){super(...arguments);this.setupPlayer=d=>{var u=this.props,c=u.onVideoReady,l=c===void 0?()=>{}:c,h=u.playerConfig,C=u.contentType;d&&d==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,N.Z)((0,N.Z)({},h),{},{contentType:C==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:h.source,autoplay:h.autoplay,width:h.width,id:h.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:S=>{S.on("sourceloaded",A=>{var Z=A.paramData,_=Z.desc,Y=Z.definition;S.getComponent("VideoQuality")&&S.getComponent("VideoQuality").setCurrentQuality(_,Y,h.id)}),S.on("ready",()=>{l()}),this.playerInstance=S,this.setPlayerConfig()}}))}}componentDidUpdate(d){d.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(d){this.player&&this.player.seek(d)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(d){this.player.setSpeed(d)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var d=this.props,u=d.onPlay,c=u===void 0?()=>{}:u,l=d.onTimeUpDate,h=l===void 0?()=>{}:l,C=d.onEnd,S=C===void 0?()=>{}:C,A=d.onPause,Z=A===void 0?()=>{}:A,_=d.onError,Y=_===void 0?()=>{}:_,q=this.playerInstance;q.on("play",()=>{c()}),q.on("pause",()=>{Z()}),q.on("timeupdate",B=>{h(B)}),q.on("ended",()=>{S()}),q.on("error",(0,T.Z)(E().mark(function B(){return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:Y();case 1:case"end":return ve.stop()}},B)})))}render(){var d=this.props.playerConfig;return a().createElement("div",{className:"common-video-player-container"},a().createElement("div",{id:d.id}))}}re.playerInstance=null,re.defaultProps={playerConfig:ee(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var Le=re,Xe=(ue,d)=>(0,N.Z)({id:ue||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},d),it=Xe;class Pt extends o.Component{constructor(){super(...arguments);this.setupPlayer=d=>{d&&d==="resetPlayer"&&this.player.dispose();var u=this.props,c=u.playerConfig,l=u.onVideoReady,h=l===void 0?()=>{}:l;this.player=new Aliplayer(c,C=>{C.on("sourceloaded",S=>{var A=S.paramData,Z=A.desc,_=A.definition;C.getComponent("VideoQuality")&&C.getComponent("VideoQuality").setCurrentQuality(Z,_,c.id)})}),this.player.on("ready",()=>{h()})},this.setPlayerConfig=()=>{var d=this.props,u=d.onPlay,c=u===void 0?()=>{}:u,l=d.onTimeUpDate,h=l===void 0?()=>{}:l,C=d.onEnd,S=C===void 0?()=>{}:C,A=d.onPause,Z=A===void 0?()=>{}:A,_=d.onError,Y=_===void 0?()=>{}:_;this.player.on("play",()=>{c()}),this.player.on("pause",()=>{Z()}),this.player.on("timeupdate",q=>{h(q)}),this.player.on("ended",()=>{S()}),this.player.on("error",(0,T.Z)(E().mark(function q(){return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:Y();case 1:case"end":return z.stop()}},q)})))},this.getPlayerContent=d=>{this.playerContainer=d}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(d){d.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(d){this.player.seek(d)}exitFull(){var d=this.player.fullscreenService;d&&d.isFullScreen&&d.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var d=this.props.playerConfig;return a().createElement("div",{className:"common-video-player-container"},a().createElement("div",{id:d.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}Pt.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:it()};var yt=Pt;class xt{constructor(d){this.hasCreated=!1,this.definition="",this.getQuality=d}createEl(d,u){var c=u._options&&u._options.language,l=u._el.id;this.isEn=c&&c==="en-us";var h=(0,ne.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),C=(0,ne.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),S=document.querySelector("#".concat(l," .prism-controlbar"));S.appendChild(h),d.appendChild(C)}setCurrentQuality(d,u,c){var l=document.querySelector("#".concat(c," .current-quality"));l.innerText=d,l.dataset.def=u,this.definition=u;var h=document.querySelector("#".concat(c," .quality-list")),C=h.querySelector(".current");C&&(C.className="");var S=h.querySelector('li[data-def="'.concat(u,'"]'));S&&(S.className="current")}created(d){this._urls=d._urls;var u=d._el.id,c=document.querySelector("#".concat(u," .current-quality")),l=document.querySelector("#".concat(u," .quality-list")),h=document.querySelector("#".concat(u," .quality-modal")),C=this._urls.map(Z=>'<li data-def="'.concat(Z.definition,'">').concat(Z.desc,"</li>"));if(l.innerHTML=C.join(""),this.hasCreated==!1&&this.definition){var S=l.querySelector('li[data-def="'.concat(this.definition,'"]'));S.className="current"}this.hasCreated=!0;var A=null;c.onclick=()=>{l.style.display="block"},c.onmouseleave=()=>{A=setTimeout(()=>{l.style.display="none"},100)},l.onmouseenter=()=>{clearTimeout(A)},l.onmouseleave=()=>{l.style.display="none"},l.onclick=Z=>{var _=Z.target,Y=_.dataset.def,q=_.innerText;if(Y&&_.className!=="current"){var B=this._urls.find(z=>z.definition===Y);d.loadByUrl(B.Url,d.getCurrentTime(),!0,!0),this.setCurrentQuality(B.desc,B.definition,u),h.style.display="block",h.querySelector("span.current-quality-tag").innerText=B.desc}this.getQuality(Y,q)}}ready(d){var u=d._el.id,c=document.querySelector("#".concat(u," .quality-modal"));c.style.display="none";var l=document.querySelector("#".concat(u," .prism-setting-item.prism-setting-quality"));l&&l.classList.add("player-hidden")}}class Et{createEl(d,u){var c=u._el.id,l=(0,ne.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),h=document.querySelector("#".concat(c," .prism-controlbar"));h.appendChild(l)}ready(d){var u=d._el.id,c=document.querySelector("#".concat(u," .current-rate")),l=document.querySelector("#".concat(u," .rate-list")),h=null,C=document.querySelector("#".concat(u," .prism-setting-item.prism-setting-speed"));C&&C.classList.add("player-hidden"),c.onclick=()=>{l.style.display="block"},c.onmouseleave=()=>{h=setTimeout(()=>{l.style.display="none"},100)},l.onmouseenter=()=>{clearTimeout(h)},l.onmouseleave=()=>{l.style.display="none"},l.onclick=S=>{var A=S.target,Z=A.dataset.rate;if(Z){if(d.setSpeed(Z),A.className!=="current"){var _=l.querySelector(".current");_&&(_.className=""),A.className="current"}l.style.display="none",c.innerText="".concat(Z,"x")}}}}var Ut=e(69164),lt=e(37055);function Ct(ue){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=lt.ZP.local.getLocalUrl(ue);return ye.WY.get({url:u,params:d})}var qt=e(91648),St=e(18329),Ue=e(38642),vt=e(9849),qe=e(99891);class Kt extends o.Component{constructor(d){super();this.WaterMarkText=d,this.html=document.getElementsByClassName("common-watermark")}createEl(d){setTimeout(()=>{d.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var $e=Kt,Rt=ue=>({userInfo:ue.user});class st extends o.Component{constructor(d){var u;super(d);u=this,this.onVideoReady=c=>{var l=this.props,h=l.resourceInfo,C=l.mode,S=l.autoPlay,A=l.t,Z=h.storageType;c==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(c),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(C==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),C==="preview"&&S&&this.play.play()):Z==="ALIBABA_PRIVATE"||Z==="LOCAL"?this.updateSource("resetPlayer"):(ye.WY.logger({keyword:"video",moduleName:"video-play",msg:A("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var c=this.props,l=c.draggable,h=c.mode,C=c.t,S=c.studyInfo,A=c.needCurrentTime,Z=c.onCurrentTime,_=Z===void 0?()=>{}:Z,Y=S.studyType,q=S.studyId,B=S.resourceId,z=this.state,ve=z.showPreventHang,Re=z.dragSwitch,Ge=z.showRandomAlert,Ye=z.randomAlertDialogVisible,K=this.playingVideo,k=K.oneTime,g=K.popupWindowCount,s=K.maxPlayTime,i=K.progress,y=K.auditionLength,m=K.auditionType,t=K.duration,D=K.recentStart,M=this.play.getCurrentTime(),$=(ve==="OPEN"||Ge==="OPEN")&&g>0;if(A&&_(M),y>0&&m===2&&M>y&&(this.play.seek(y),F.default.warning(C("component.haveALookOverTip")),this.play.pause()),h==="learn"&&$){var pe=t-k*g;if(g>0&&M>pe)if(this.play.pause(),Ge==="OPEN"){if(!Ye){var G=(0,qt.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:G},()=>{(0,le.qp)({popupId:G,planId:q,resourceId:B,type:"popup_start"})}),this.play.exitFull()}}else ve==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((l||i===100)&&(M>0&&(this.playingVideo.recentStart=M),!((Y==="enterprise"||Y==="studyProject")&&Re==="OPEN")))return!1;M>s?M-D>2?(this.playingVideo.recentStart=s,this.play.seek(s),F.default.warning(C("component.preventFastWatchTip"))):(this.playingVideo.recentStart=M,this.playingVideo.maxPlayTime=M):M>0&&M>this.playingVideo.recentStart&&(this.playingVideo.recentStart=M)},this.onPlay=()=>{var c=this.props,l=c.mode,h=c.onPlay,C=h===void 0?()=>{}:h;C();var S=this;l==="learn"&&!S.timer&&(S.timer=setTimeout(function A(){S.saveProgress(),clearTimeout(S.timer),S.timer=setTimeout(A,2e4)},2e4))},this.onPause=()=>{var c=this.props,l=c.studyInfo,h=c.mode,C=l.studyType;clearTimeout(this.timer),this.timer=null,h==="learn"&&(C==="platform"||C==="enterprise"||C==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var c=this.props.mode;c==="learn"&&this.saveProgress()},this.onError=c=>{var l=this.props.resourceInfo,h=l.storageType;(h==="ALIBABA_PRIVATE"||h==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var c=this.props.mode;this.initPlayVideo(),c==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var c=this.state,l=c.showPreventHang,h=c.showRandomAlert,C=this.props,S=C.t,A=C.playingVideo,Z=C.studyInfo,_=C.autoPlay,Y=A.recentStart,q=A.duration,B=A.progress,z=Z.studyType,ve=(l==="OPEN"||h==="OPEN")&&(z==="studyTask"||z==="enterprise"||z==="studyProject")&&B<100;ve?(h==="OPEN"?this.setState({promptMessage:S("component.preventAlertTip"),dialogVisible:!0}):l==="OPEN"&&this.setState({promptMessage:S("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):_&&(this.play.play(),Math.ceil(Y)<parseInt(q)&&this.play.seek(Y))},this.playerShowPreventHang=()=>{var c=this.playingVideo,l=c.duration,h=c.recentStart,C=0;l>0&&l<180?(C=l/2,this.playingVideo.oneTime=C,h>=C?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):l>=180&&l<600?(C=l/3,this.playingVideo.oneTime=C,h>=2*C?this.playingVideo.popupWindowCount=0:h>=C?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(C=l/4,this.playingVideo.oneTime=C,h>=3*C?this.playingVideo.popupWindowCount=0:h>=2*C?this.playingVideo.popupWindowCount=1:h>=C?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var c=this.props,l=c.playingVideo,h=c.mode;if(h==="learn"){this.playingVideo=(0,N.Z)({},l);var C=l.duration,S=l.progress;this.playingVideo.hasFinished=parseInt(S)===100,this.playingVideo.maxPlayTime=parseInt(C)*parseInt(S)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,T.Z)(E().mark(function c(){var l,h,C,S,A,Z,_,Y,q,B,z,ve,Re,Ge,Ye,K,k,g,s,i,y,m,t,D;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(l=u.state,h=l.speedSwitch,C=l.dragSwitch,S=l.whiteList,A=u.props,Z=A.resourceInfo,_=A.showQuality,Y=Z.contentType,q=Z.storageType,B=Z.source,z=Z.playId,ve=Z.playerId,Re=Z.showFullScreen,Ge=Re===void 0?!0:Re,Ye=it(ve),Ye.components=[],K=typeof B=="object"&&B.hasOwnProperty("FD")&&B.FD.indexOf("m3u8")===-1,_&&K&&Y!=="mp3"&&(q&&q==="PUBLIC_CLOUD"||!q)&&Ye.components.push({name:"VideoQuality",type:xt,args:[()=>{u.play.pause(),u.playingVideo.readyCount=0}]}),h==="OPEN"&&Ye.components.push({name:"VideoRate",type:Et}),Ge&&(k=Ye.skinLayout.find(pe=>pe.name==="controlBar"),k&&k.children.splice(k.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),Ye.components.push({name:"VideoWaterMark",type:$e}),g=B.FD,s=B.OD,g.indexOf("http://")>-1&&(g=g.replace("http://","https://")),s.indexOf("http://")>-1&&(s=s.replace("http://","https://")),i=S.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",B.OD=s&&s.indexOf(i)>-1&&s.indexOf(".mp4")>-1?s:g,B.FD=g,y=typeof B!="string"?JSON.stringify(B):B,Ye.source=y,C==="OPEN"&&(Ye.disableSeek=!0),q!=="ALIBABA_PRIVATE"){$.next=32;break}return $.next=22,(0,le.BR)(z);case 22:if(m=$.sent,!m){$.next=28;break}Ye.source=m,Ye.vodRetry=1,$.next=30;break;case 28:return u.setState({showPrivateVodError:!0}),$.abrupt("return");case 30:$.next=38;break;case 32:if(q!=="LOCAL"){$.next=38;break}return $.next=35,Ct(z);case 35:t=$.sent,D=t.data,D.code===0&&(Ye.source="".concat(B.FD,"?auth_key=").concat(D.data.auth_key),Ye.vodRetry=1);case 38:u.setState({playerConfig:Ye});case 39:case"end":return $.stop()}},c)})),this.updateSource=function(){var c=(0,T.Z)(E().mark(function l(h){var C,S,A,Z,_,Y,q,B;return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(C=u.state.playerConfig,S=u.props.resourceInfo,A=S.storageType,Z=S.source,_=S.playId,u.playingVideo.readyCount=0,A!=="ALIBABA_PRIVATE"){ve.next=16;break}return ve.next=7,(0,le.BR)(_);case 7:if(Y=ve.sent,!Y){ve.next=12;break}Object.assign(C,{source:Y,vodRetry:1}),ve.next=14;break;case 12:return u.setState({showPrivateVodError:!0}),ve.abrupt("return");case 14:ve.next=22;break;case 16:if(A!=="LOCAL"){ve.next=22;break}return ve.next=19,Ct(_);case 19:q=ve.sent,B=q.data,B.code===0&&Object.assign(C,{source:"".concat(Z.FD,"?auth_key=").concat(B.data.auth_key),vodRetry:1});case 22:u.setState({playerConfig:C},()=>{u.play.setupPlayer(h)});case 23:case"end":return ve.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),this.saveProgress=()=>{var c=this.props,l=c.studyInfo,h=c.userInfo,C=h.isLogin,S=h.enterpriseId,A=h.id,Z=this.playingVideo,_=Z.recentStart,Y=Z.duration,q=Z.hasFinished,B=Math.ceil(+_);B>Number(Y)&&(B=Number(Y));var z=Math.ceil(B/+Y*100);if((z>100||q)&&(z=100),C){var ve=this.playingVideo,Re=ve.auditionType,Ge=ve.auditionLength;if(Ge>0&&Re===2){var Ye=Math.ceil(Ge/Y*100);Ye<=z&&(z=Ye,B=Ge)}(0,le.sH)({studyInfo:l,progress:z,recent_start:B,enterpriseId:S,userId:A}).then(K=>{K&&K.data&&(0,Ut.Z)(K.data.integral_info||"")})}},this.getInfoFromSettings=(0,T.Z)(E().mark(function c(){var l,h,C,S,A,Z,_,Y,q;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return l=u.props.studyInfo,h=l.studyType,C=l.projectId,z.next=4,(0,le.Gw)();case 4:if(S=z.sent,A=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],Z=(0,ne.RG)(S,A),h!=="studyProject"){z.next=14;break}return z.next=10,(0,vt.NU)({id:C});case 10:_=z.sent,Y=_.status,q=_.data,Y===200&&(Z.showPreventHang=q.prevent_cut_screen?"OPEN":"CLOSED",Z.speedSwitch=q.speed_play?"OPEN":"CLOSED",Z.dragSwitch=q.prevent_drag?"OPEN":"CLOSED");case 14:u.setState(Z,()=>{u.dealVideoConfig()});case 15:case"end":return z.stop()}},c)})),this.dealAudioPoster=()=>{var c=this.props.resourceInfo.contentType,l=c===void 0?"":c;this.setState({showAudioPoster:l==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var c=this.state.showAudioPoster,l=this.play.playerContainer;c&&l&&(l.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),l.style.backgroundSize="cover")},this.getPlayInstance=c=>{this.play=c},this.handleOk=()=>{this.setState({dialogVisible:!1});var c=this.state.btnType,l=this.playingVideo.recentStart,h=this.props.t;c==="know"?(this.play.play(),this.play.seek(l),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:h("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,T.Z)(E().mark(function c(){var l,h,C,S;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:l=u.props.studyInfo,h=l.studyId,C=l.resourceId,S=u.state.randomAlertUUID,(0,le.qp)({popupId:S,planId:h,resourceId:C,type:"popup_end"}).then(()=>{u.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),u.playingVideo.popupWindowCount-=1,u.play.play();case 6:case"end":return Z.stop()}},c)})),this.renderFooter=()=>{var c=this.state.btnType,l=this.props.t;return a().createElement(X.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(c)},l(c==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var c=this.props.t;return a().createElement(X.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},c("common.ok"))},this.state={playerConfig:it(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:d.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:d.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:d.t("component.randomAlertTip"),randomAlertModal:{title:d.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ue.UI)("CL_VIDEO_BAIYING_COM_CN")}},d.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(d){var u=typeof d.resourceInfo.source!="string"?JSON.stringify(d.resourceInfo.source):d.resourceInfo.source,c=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;u!==c&&c!==""&&this.initInfo()}componentWillUnmount(){var d=this.props.mode;d==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var d=this.state,u=d.playerConfig,c=d.showPrivateVodError,l=d.dialogVisible,h=d.dialogModal,C=d.promptMessage,S=d.randomAlertDialogVisible,A=d.randomAlertModal,Z=d.randomAlertTip,_=d.encryptedSwitch,Y=this.props,q=Y.resourceInfo,B=Y.t,z=_==="OPEN"?Le:yt;return a().createElement(o.Fragment,null,a().createElement(z,(0,U.Z)({ref:this.getPlayInstance},q,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:u,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),a().createElement(St.ZP,(0,U.Z)({visible:l},h,{footer:this.renderFooter()}),a().createElement("div",{className:"video-business-prompt"},C)),a().createElement(St.ZP,(0,U.Z)({visible:S},A,{footer:this.renderRandomFooter()}),a().createElement("div",{className:"video-player-container__prompt"},Z)),c&&a().createElement("div",{className:"video-business-vod-error"},B("privateCloud.docReadError")),a().createElement(qe.Z,{scenes:"video"}))}}var Mt=(0,j.$j)(Rt,null,null,{forwardRef:!0})((0,I.Z)("translation",{withRef:!0})(st)),gt=e(94184),rt=e.n(gt),x=e(84874),te=ue=>({userInfo:ue.user}),oe={getPravateDocUrl:lt.ZP.localStorage.getPravateDocUrl};function Be(ue){return JSON.stringify(ue,(d,u)=>(typeof u=="function"&&(u=u.toString()),u))}function Ze(ue){var d=parseInt(parseInt(ue,10)/60,10),u=parseInt(parseInt(ue,10)%60,10);return d<10&&(d="0".concat(d)),u<10&&(u="0".concat(u)),"".concat(d,":").concat(u)}class Se extends o.Component{constructor(d){var u;super(d);u=this,this.messageFun=c=>{var l=this.props,h=l.docType,C=l.progress,S=l.studyTimeLimit,A=l.studyTime,Z=this.state,_=Z.jumpPageTag,Y=Z.totalTime,q=Z.timeRemaining,B=this.state.previewDocData,z={};try{z=JSON.parse(c.data)}catch(ve){return}switch(z.action){case"preview.ready":this.initDocData();break;case"preview.meta":B.totalPage=z.data.pc||1,B.currentPage=1,this.setState({previewDocData:B},()=>{this.reportStatusInterval()}),S>0?(this.saveProgress(C,A||"1",z.data.pc||1),this.setState({showCountDownContainer:!0})):h==="xlsx"||h==="xls"||B.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(C,A||"1",z.data.pc||1),S>0&&C<100?(this.setState({showCountDown:!0}),h==="xlsx"||h==="xls"?Y=S:Y=S*z.data.pc,q=parseInt(Y*(1-C/100),10),this.setState({timeRemaining:q,totalTime:Y},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(_){_=!1,this.setState({jumpPageTag:_});return}B.currentPage=z.data.pageIndex+1,this.setState({previewDocData:B}),S||this.saveProgress(Math.ceil(B.currentPage/B.totalPage*100),B.currentPage,B.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":F.default.error(z.data.result);break;default:break}},this.initDocData=(0,T.Z)(E().mark(function c(){var l,h,C,S,A,Z,_,Y,q,B,z,ve,Re,Ge;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(u.setState({isShowPrivateError:!1}),l=u.props,h=l.docType,C=l.userInfo,S=l.documentWatermarkSettings,A=l.storageType,Z=l.privateDocId,_=C.name,Y=C.jobNumber,q=C.position,B="",z={},A!=="ALIBABA_PRIVATE"){K.next=18;break}return K.prev=6,ve=oe.getPravateDocUrl(Z),K.next=10,ye.WY.get({url:ve});case 10:Re=K.sent,Ge=Re.data,Ge.code===0?z=Ge.data||{}:u.setState({isShowPrivateError:!0}),K.next=18;break;case 15:K.prev=15,K.t0=K.catch(6),u.setState({isShowPrivateError:!0});case 18:if(S.indexOf("name")>-1&&(B="".concat(B+_," ")),S.indexOf("position")>-1&&(B="".concat(B+q," ")),S.indexOf("jobnumber")>-1&&(B+=Y),B.length>0?window.sendMessage("preview.init",(0,N.Z)({wmType:1,wmValue:B,wmColor:"rgba(192, 192, 192, 0.4)"},z)):window.sendMessage("preview.init",(0,N.Z)({},z)),h!=="xlsx"&&h!=="ppt"&&h!=="pptx"&&h!=="xls"?u.setState({pageOperateContainerVisible:!0}):u.setState({pageOperateContainerVisible:!1}),!(h==="ppt"||h==="pptx")){K.next=29;break}K.t1=window,K.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},K.t1.sendMessage.call(K.t1,"setConfig",K.t2),K.next=32;break;case 29:K.t3=window,K.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},K.t3.sendMessage.call(K.t3,"setConfig",K.t4);case 32:case"end":return K.stop()}},c,null,[[6,15]])})),this.handleJumpPage=c=>{var l=this.state.previewDocData;l.currentPage=c,this.setState({jumpPageTag:!0,previewDocData:l});var h=c/l.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(h),c,l.totalPage),window.sendMessage("logic.toPage",{pageIndex:c-1})},this.redirectPage=()=>{var c=this.props,l=c.studyTimeLimit,h=c.studyTime,C=0;l===0&&(C=h-1>0?h-1:0),window.sendMessage("logic.toPage",{pageIndex:C})},this.docCountDown=()=>{var c=this.state.timeRemaining,l=this.state,h=l.totalTime,C=l.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{c-=1,this.setState({timeRemaining:c}),c<1&&(this.saveProgress(100,0,C.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var S=(h-c)/h*100;c<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(S),c,C.totalPage)},2e4)},this.saveProgress=(c,l,h)=>{var C=this.props.onSaveProgress;C&&C(c,l,h)},this.reportStatusInterval=()=>{var c=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var l=this.state.previewDocData.currentPage;c&&c({currentPage:l})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=c=>{this.docReader=c},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(d,u)=>{var c=this.docReader.contentWindow;c.postMessage(Be({action:d,data:u}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var d=this.props,u=d.t,c=d.storageType,l=d.privateDocId,h=this.props.aliUrl,C=this.state,S=C.previewDocData,A=C.pageOperateContainerVisible,Z=C.timeRemaining,_=C.showCountDown,Y=C.showCountDownContainer,q=C.showPageOperateContainer,B=C.isShowPrivateError;return c==="ALIBABA_PRIVATE"&&(h="https://preview.imm.aliyuncs.com/index.html?docId=".concat(l)),a().createElement("div",{className:"doc-reader-container"},a().createElement("div",{className:"ali-doc-container",style:{paddingBottom:A?"56px":"0"}},a().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:h,id:"aliyunPreview",ref:this.dealPreviewRef}),Y?a().createElement("div",{className:"ali-doc-container__countdown"},_?a().createElement("div",null,a().createElement(x.Z,{iconClass:"iconf-tipe",size:"16px"}),u("component.docStillStudy"),a().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Ze(Z)," "),u("component.canDone")):a().createElement("div",null,a().createElement(x.Z,{iconClass:"iconf-tipe",size:"16px"}),u("component.docHasFinish"))):null,A?a().createElement("div",{className:"ali-doc__operate"},a().createElement("div",{className:rt()(["ali-doc__operate__content",q?"":"ali-doc__operate__hide-content"])},a().createElement("div",{className:"ali-doc__operate__pagination"},a().createElement("div",{className:"ali-doc__operate__pagination__pages"},S.currentPage," / ",S.totalPage),a().createElement("div",{className:"ali-doc__operate__pagination__toggle"},a().createElement("div",{className:"ali-doc__operate__pagination__choose"},a().createElement("span",null,u("component.choosePage"),a().createElement(x.Z,{iconClass:"iconf-arrow-under",size:"14px"})),a().createElement("div",{className:"ali-doc__operate__page-list-container"},a().createElement("div",{className:"ali-doc__operate__choose-page"},u("component.fastChoosePage")),a().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:S.totalPage})).map((z,ve)=>a().createElement("li",{key:z,onClick:()=>this.handleJumpPage(ve+1)},ve+1))))),a().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},u("common.collapse"))))),a().createElement("div",{className:rt()("ali-doc__operate__unfold",q?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},u("common.expand"))):null,B&&a().createElement("div",{className:"ali-doc__error"},u("privateCloud.docReadError"))),a().createElement(qe.Z,{scenes:"document"}))}}Se.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var xe=(0,j.$j)(te)((0,I.Z)()(Se)),be=ue=>({userInfo:ue.user}),_e="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ve="".concat("https://doc.coolcollege.cn");class Pe extends a().Component{constructor(d){var u;super(d);u=this,this.onSaveProgress=(c,l,h)=>{var C=this.props,S=C.mode,A=C.studyInfo,Z=C.userInfo,_=Z.enterpriseId,Y=Z.id;S==="learn"&&(0,le.sH)({studyInfo:A,progress:c,page_count:h,recent_start:l,enterpriseId:_,userId:Y}).then(q=>{q&&q.data&&(0,Ut.Z)(q.data.integral_info||"")})},this.messageFun=function(){var c=(0,T.Z)(E().mark(function l(h){var C,S,A,Z,_,Y;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(h.data!=="local-resource"){B.next=9;break}if(C=u.props.resourceInfo,S=C.storageType,A=C.playId,!(S&&S==="LOCAL")){B.next=9;break}return B.next=6,Ct(A);case 6:Z=B.sent,_=Z.data,_.code===0&&(Y=document.getElementById("local-resource-box"),Y.contentWindow.postMessage({msg:"local-auth-key",authKey:_.data.auth_key},"*"));case 9:case"end":return B.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),this.getInfoFromSettings=(0,T.Z)(E().mark(function c(){var l,h,C;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,le.Gw)();case 2:l=A.sent,h=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],C=(0,ne.RG)(l,h),u.setState(C,()=>{u.initDocPage(u.props)});case 6:case"end":return A.stop()}},c)})),this.initDocPage=(0,T.Z)(E().mark(function c(){var l,h,C,S,A,Z,_,Y,q,B,z,ve,Re,Ge,Ye,K,k,g,s,i,y,m,t,D,M,$,pe,G,Ee,ge,ke,de,Oe,ct,$t=arguments;return E().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(l=$t.length>0&&$t[0]!==void 0?$t[0]:{},h=l.resourceInfo,C=l.mode,S=l.studyInfo,A=l.userInfo,Z=u.state.documentPlayerMode,_=h.docType,Y=h.docTitle,q=h.url,B=h.studyTimeLimit,z=h.studyTime,ve=h.aliUrl,Re=h.progress,Ge=h.storageType,Ye=h.playId,K=S.studyType,k=S.courseId,g=S.studyId,s=S.resourceId,i=A.enterpriseId,y=A.id,m=A.isLogin,t=A.token,D=Z==="compat"&&ve.indexOf("preview.imm.aliyun")>-1||Ge==="ALIBABA_PRIVATE",!D){he.next=11;break}u.setState({showAliReader:!0}),he.next=31;break;case 11:if(M=(0,le.sH)({enterpriseId:i,userId:y,token:t,studyInfo:S},!0),$=K==="studyTask"?2:1,pe=lt.ZP.SaveProgress.reportStatusInterval(S),G={isSaveProgress:m&&C==="learn"&&M,isSaveRecord:!1,access_token:t,userId:y,hostUrl:_e,courseId:k,resourceId:s,courseType:1,planId:g,studyTimeLimit:B,studyTime:z,saveProgressUrl:M,type:"eapp",progress:Re,saveRecordProgressUrl:pe,actionType:$},!(Ge&&Ge==="LOCAL")){he.next=26;break}return he.next=18,Ct(Ye);case 18:if(Ee=he.sent,ge=Ee.data,ge.code!==0){he.next=25;break}G.auth_key=ge.data.auth_key,G.url=q,he.next=26;break;case 25:return he.abrupt("return");case 26:ke=JSON.stringify(G),de="".concat(Y,".").concat(_).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),Oe="".concat(Ve,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ke),"&furl=").concat(q,"?attname=").concat(de),Ge&&Ge==="LOCAL"&&(ct="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),Oe="".concat(ct,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ke),"&furl=").concat(q,"?attname=").concat(de)),u.setState({encodeUrl:Oe});case 31:case"end":return he.stop()}},c)})),this.handleReportStatusInterval=c=>{var l=c.currentPage,h=this.props,C=h.resourceInfo,S=h.mode,A=h.studyInfo,Z=h.userInfo,_=C.type,Y=A.courseId,q=A.studyId,B=A.resourceId,z=Z.enterpriseId,ve=Z.id,Re=Z.isLogin,Ge="",Ye="",K=0,k=!1;switch(_){case"enterprise":K=1,k=!0;break;case"study":Ge=q,K=2,k=!0;break;case"project":Ye=q,K=1,k=!0;break;default:break}if(!(!k||!Re)){var g={plan_id:Ge,enterprise_id:z,user_id:ve,course_id:Y,project_course_id:Ye,resource_id:B,current_page:l,action_type:K,send_time:Date.parse(new Date)};S==="learn"&&(0,le.Xc)(A,g)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(d){this.initDocPage(d)}render(){var d=this.props.resourceInfo,u=this.state,c=u.encodeUrl,l=u.documentWatermarkSettings,h=u.showAliReader,C=d.docType,S=d.type,A=d.studyTimeLimit,Z=d.studyTime,_=d.aliUrl,Y=d.progress,q=d.storageType,B=d.playId;return h?a().createElement(xe,{privateDocId:B,storageType:q,aliUrl:_,docType:C,progress:Y,studyTime:Z,studyTimeLimit:A,documentWatermarkSettings:l,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:S}):a().createElement("div",{className:"doc-reader-container"},a().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:c,frameBorder:"0",allowFullScreen:!0}),a().createElement(qe.Z,{scenes:"document"}))}}var je=(0,j.$j)(be)(Pe),at=e(38979),Ae=e(90706),Ne=e(12968),Tt=e(44208),et=e(60667),Lt=ue=>({userInfo:ue.user});class ze extends a().Component{constructor(){var d;super(...arguments);d=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var u=this.props,c=u.studyInfo,l=u.mode,h=u.userInfo,C=h.enterpriseId,S=h.id;l==="learn"&&(0,ne.Gp)({studyInfo:c,enterpriseId:C,userId:S})},this.getInfoFromSettings=(0,T.Z)(E().mark(function u(){var c,l,h;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,le.Gw)();case 2:c=S.sent,l=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],h=(0,ne.RG)(c,l),d.setState(h,()=>{d.renderWatermark()});case 6:case"end":return S.stop()}},u)})),this.renderWatermark=()=>{var u=this.props.userInfo,c=this.state.imageWatermark,l=u.name,h=u.unionid,C=u.sourceType,S=u.jobNumber,A=u.position,Z=[];c.indexOf("name")>-1&&Z.push(a().createElement(et.Z,{dataType:"userName",value:h,name:l,type:C})),c.indexOf("position")>-1&&Z.push(a().createElement("span",null,A)),c.indexOf("jobnumber")>-1&&Z.push(a().createElement("span",null,S)),c.length>0&&this.setState({watermark:Z.map((_,Y)=>a().createElement("span",{key:Y},_))})},this.handleError=u=>{var c=this.props.onError;c&&c(u)},this.getImageUrl=(0,T.Z)(E().mark(function u(){var c,l,h,C,S,A,Z,_,Y,q;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(c=d.props,l=c.resourceInfo,h=c.t,C=l.playId,S=l.url,A=l.storageType,Z=S,!A){z.next=21;break}if(A!=="ALIBABA_PRIVATE"){z.next=15;break}return z.next=7,(0,le.J7)(C);case 7:if(_=z.sent,!_){z.next=12;break}Z=_,z.next=13;break;case 12:return z.abrupt("return",F.default.info(h("privateCloud.docReadError")));case 13:z.next=21;break;case 15:if(A!=="LOCAL"){z.next=21;break}return z.next=18,Ct(C);case 18:Y=z.sent,q=Y.data,q.code===0&&(Z="".concat(S,"?auth_key=").concat(q.data.auth_key));case 21:d.setState({imageUrl:[Z]},()=>{var ve=d.state.imageUrl,Re="image-business",Ge=document.querySelectorAll(".".concat(Re,"-image img"));Ge.forEach((Ye,K)=>{Ye.onerror=()=>{d.handleError(ve[K])}})});case 22:case"end":return z.stop()}},u)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var d="image-business",u=this.props.resourceInfo,c=u.preview,l=c===void 0?!1:c,h=this.state,C=h.watermark,S=h.imageUrl;return a().createElement("div",{className:d},a().createElement(qe.Z,{scenes:"image"}),a().createElement(Ae.Z,{className:"".concat(d,"-carousel")},S.map((A,Z)=>a().createElement("div",{className:"".concat(d,"-image"),key:Z.toString()},a().createElement(Tt.Z,{src:A,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:l})))))}}ze.defaultProps={prefixCls:"watch-image-page"};var kt=(0,j.$j)(Lt)((0,I.Z)()(ze)),Bt=ue=>({userInfo:ue.user});class ma extends a().Component{constructor(){var d;super(...arguments);d=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,T.Z)(E().mark(function u(){var c,l,h;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,le.Gw)();case 2:c=S.sent,l=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],h=(0,ne.RG)(c,l),d.setState(h,()=>{d.renderWatermark()});case 6:case"end":return S.stop()}},u)})),this.renderWatermark=()=>{var u=this.props.userInfo,c=this.state.htmlWatermark,l=u.name,h=u.unionid,C=u.sourceType,S=u.jobNumber,A=u.position,Z=[];c.indexOf("name")>-1&&Z.push(a().createElement(et.Z,{dataType:"userName",value:h,name:l,type:C})),c.indexOf("position")>-1&&Z.push(a().createElement("span",null,A)),c.indexOf("jobnumber")>-1&&Z.push(a().createElement("span",null,S)),c.length>0&&this.setState({watermark:Z.map((_,Y)=>a().createElement("span",{key:Y},_))})},this.saveProgress=()=>{var u=this.props,c=u.studyInfo,l=u.mode,h=u.userInfo,C=h.enterpriseId,S=h.id;l==="learn"&&(0,ne.Gp)({studyInfo:c,enterpriseId:C,userId:S})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var d="html-business",u=this.props.resourceInfo,c=u.url,l=this.state.watermark;return a().createElement("div",{className:d},a().createElement("div",{className:"".concat(d,"__html-watermark")},l),a().createElement("iframe",{title:"html",className:"".concat(d,"_iframe"),src:c}))}}var sa=(0,j.$j)(Bt)((0,I.Z)()(ma)),oa=e(57068),Ht=e(1164),ia=ue=>({userInfo:ue.user});class _t extends a().PureComponent{constructor(){super(...arguments);this.getHost=d=>{var u=d.split("//"),c=u[1].split("/");return[u[0],c[0]].join("//")},this.getScormUrl=()=>{var d=this.props,u=d.studyInfo,c=d.mode,l=d.userInfo,h=d.resourceInfo,C=d.from,S=l.enterpriseId,A=l.id,Z=h.url,_=this.getHost(Z);if(c==="learn"){var Y=(0,N.Z)({userId:A,enterpriseId:S,access_token:localStorage.token,from:C,scormUrl:encodeURIComponent(Z),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},u);return"".concat(_).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(oa.stringify(Y))}return"".concat(_,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(Z))},this.handleOpenScormLink=d=>{Ht.Z.targetTo({path:d,isExternalLink:!0})}}render(){var d=this.props.t,u="scorm-business",c=this.getScormUrl(),l=(0,Ue.UI)("SCORM_EXTERNAL_WATCH");return a().createElement("div",{className:u},l?a().createElement("div",{className:"".concat(u,"_scorm")},a().createElement("img",{className:"".concat(u,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),a().createElement("h5",null,d("resourcePlay.scormTip")),a().createElement(X.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(c)},d("resourceLibrary.h5LinkPlayButton"))):a().createElement("iframe",{title:"scorm",className:"".concat(u,"_iframe"),src:c}))}}var la=(0,j.$j)(ia)((0,I.Z)()(_t));class ea extends a().Component{render(){var d=this.props,u=d.visible,c=d.title,l=d.onCancel,h=d.t,C=a().createElement("span",null,c);return a().createElement(St.ZP,{visible:u,title:C,onCancel:l,footer:null},a().createElement("div",{className:"ban-preview"},a().createElement("div",{className:"ban-preview-center"},a().createElement("img",{src:n(),alt:"picture"}),a().createElement("h2",null,h("localStorage.tip")),a().createElement("p",null,h("localStorage.banPreview"))),a().createElement("hr",null),a().createElement(X.Z,{type:"primary",className:"know",onClick:l},h("localStorage.onKnow"))))}}var ha=(0,I.Z)()(ea);class ca extends o.Component{constructor(){var d;super(...arguments);d=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=u=>{var c=this.props.previewInfo,l=c.onCancel;this.onCancel(),l(u)},this.onGetVideoBusiness=u=>{var c=this.props.onRef,l=c===void 0?()=>{}:c;this.videoBusiness=u,l(u)},this.onFullScreen=()=>{var u=this.state.fullScreen;this.setState({fullScreen:!u})},this.handleJudgeNetwork=(0,T.Z)(E().mark(function u(){var c,l,h,C,S,A,Z,_,Y,q,B,z=arguments;return E().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(c=z.length>0&&z[0]!==void 0?z[0]:null,l=d.props,h=l.resourceInfo,C=l.watchType,S=h.storageType,A=h.playId,Z=h.originUrl,_=C==="image"||C==="video"||C==="doc",Y=null,c?Y=c:Z?Y=Z:Y=h.url,!(_&&Y&&A&&S&&S==="LOCAL")){Re.next=22;break}return Re.prev=7,Re.next=10,(0,le.NY)(A);case 10:return q=Re.sent,Re.next=13,(0,le.Hy)(Y,q);case 13:B=Re.sent,B?d.setState({showBan:"no"}):d.setState({showBan:"yes"}),Re.next=20;break;case 17:Re.prev=17,Re.t0=Re.catch(7),d.setState({showBan:"yes"});case 20:Re.next=23;break;case 22:d.setState({showBan:"no"});case 23:case"end":return Re.stop()}},u,null,[[7,17]])})),this.renderOuter=()=>{var u=this.props,c=u.prefixCls,l=u.watchType,h=u.onCurrentTime,C=h===void 0?()=>{}:h;return a().createElement("div",{className:"".concat(c,"-outer")},l==="video"&&a().createElement(Mt,(0,U.Z)({onCurrentTime:C,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),l==="doc"&&a().createElement(je,this.props),l==="image"&&a().createElement(kt,(0,U.Z)({onError:this.handleJudgeNetwork},this.props)),l==="html"&&a().createElement(sa,this.props),l==="scorm"&&a().createElement(la,this.props))},this.renderFooter=()=>{var u=this.props,c=u.resourceInfo.storageType,l=u.t,h=this.state.showBan,C=h!==""&&h==="yes";return c&&c!=="PUBLIC_CLOUD"&&C?a().createElement(X.Z,{type:"primary",className:"know",onClick:this.onCancelModel},l("localStorage.onKnow")):null}}componentDidMount(){var d=this.props.mode;d==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(d){d.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var d=this.state,u=d.showBan,c=d.fullScreen,l=this.props,h=l.mode,C=l.previewWay,S=l.previewInfo,A=l.prefixCls,Z=l.t,_=l.showEnlarge,Y=l.footer,q=Y===void 0?null:Y,B=S.visible,z=S.destroyOnClose,ve=S.title,Re=u!==""&&u==="yes",Ge=u!==""&&u==="no";return a().createElement(o.Fragment,null,h==="preview"&&C==="popups"&&a().createElement(St.ZP,{destroyOnClose:z,visible:B,title:ve,onCancel:this.onCancelModel,footer:q||this.renderFooter(),wrapClassName:"".concat(A,"-resource ").concat(c?"".concat(A,"-full"):"")},_&&a().createElement("div",{className:"".concat(A,"-resource-out-icon"),onClick:this.onFullScreen},c?a().createElement(f.Z,{className:"".concat(A,"-resource-icon")}):a().createElement(L.Z,{className:"".concat(A,"-resource-icon")})),a().createElement("div",{className:"".concat(A,"-inner")},!B&&a().createElement(w.Z,{size:"large"}),B&&Ge&&this.renderOuter(),Re&&a().createElement(b,null))),(h==="learn"||C==="page")&&Ge&&this.renderOuter(),(h==="learn"||C==="page")&&a().createElement(ha,{visible:Re,title:ve||Z("questionn.warmHint"),onCancel:this.onCancel}))}}ca.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ta=(0,I.Z)("translation",{withRef:!0})(ca)},41225:function(nt,De,e){"use strict";e.d(De,{Hy:function(){return T},NY:function(){return O},Gw:function(){return E},sH:function(){return f},BR:function(){return o},qp:function(){return L},Xc:function(){return I},J7:function(){return a}});var J=e(57361),w=e(9754),p=e.n(w),X=e(10237),U=e(37055),T=function(){var v=(0,J.Z)(p().mark(function n(){var r,b,N,R,F,j,ne,le=arguments;return p().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return r=le.length>0&&le[0]!==void 0?le[0]:"",b=le.length>1&&le[1]!==void 0?le[1]:"",N="",r.startsWith("http")?(R=r.split("//")[1].trim(),F=R.split("/")[0],N="https://".concat(F,"/cms/ticket")):(j=r.split("/")[0],N="https://".concat(j,"/cms/ticket")),Q.prev=4,Q.next=7,X.ZQ.get({url:N,params:{ticket:b}});case 7:if(ne=Q.sent,!(ne.status===200||ne.status===403)){Q.next=10;break}return Q.abrupt("return",Promise.resolve(!0));case 10:return Q.abrupt("return",Promise.resolve(!1));case 13:return Q.prev=13,Q.t0=Q.catch(4),Q.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return Q.stop()}},n,null,[[4,13]])}));return function(){return v.apply(this,arguments)}}(),O=function(){var v=(0,J.Z)(p().mark(function n(r){var b,N;return p().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,X.ZQ.get({url:U.ZP.local.getTicket(r)});case 2:if(b=F.sent,N=b.data,N.code!==0){F.next=6;break}return F.abrupt("return",Promise.resolve(N.data.ticket));case 6:return F.abrupt("return",Promise.resolve(""));case 7:case"end":return F.stop()}},n)}));return function(r){return v.apply(this,arguments)}}(),E=function(){var v=(0,J.Z)(p().mark(function n(){var r;return p().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,X.WY.get({url:U.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return r=N.sent,N.abrupt("return",r.data.list);case 4:case"end":return N.stop()}},n)}));return function(){return v.apply(this,arguments)}}(),o=function(){var v=(0,J.Z)(p().mark(function n(r){var b,N,R;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,X.WY.get({url:U.ZP.localStorage.getPravateVideoUrl(r)});case 2:if(b=j.sent,b.data.code!==0){j.next=6;break}return N=b.data.data.videoPlayInfo,R=N===void 0?"":N,j.abrupt("return",R);case 6:return j.abrupt("return","");case 7:case"end":return j.stop()}},n)}));return function(r){return v.apply(this,arguments)}}(),a=function(){var v=(0,J.Z)(p().mark(function n(r){var b,N,R;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return b=U.ZP.localStorage.getPravateDocUrl(r),j.prev=1,j.next=4,X.WY.get({url:b});case 4:if(N=j.sent,R=N.data,!(R.code===0&&R.data)){j.next=8;break}return j.abrupt("return",R.data.docResourceDownloadUrl||"");case 8:return j.abrupt("return","");case 11:return j.prev=11,j.t0=j.catch(1),j.abrupt("return","");case 14:case"end":return j.stop()}},n,null,[[1,11]])}));return function(r){return v.apply(this,arguments)}}(),f=function(n){var r=n.studyInfo,b=n.progress,N=n.recent_start,R=n.page_count,F=n.enterpriseId,j=n.userId,ne=n.token,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ye,Q=r.studyType;if(Q==="studyTask"&&(ye=U.ZP.SaveProgress.studySaveProgress(r)),(Q==="course"||Q==="enterprise")&&(ye=U.ZP.SaveProgress.enterpriseCourseSaveProgress(r)),Q==="studyProject"&&(ye=U.ZP.SaveProgress.projectSaveProgress(r)),Q==="platform"&&(ye="".concat(U.ZP.SaveProgress.platformCourseSaveProgress(r))),(le||Q==="platform")&&(ye+="?enterprise_id=".concat(F,"&user_id=").concat(j)),le)return ye+="&access_token=".concat(ne||localStorage.getItem("token")),ye;var ee={progress:b,recent_start:N,tempTime:Date.parse(new Date)};return R&&(ee.page_count=R),r.evaluationId&&(ee.evaluation_id=r.evaluationId),X.WY.post({url:ye,data:ee})},L=v=>{var n=v.popupId,r=v.planId,b=v.resourceId,N=v.type;return X.WY.post({url:U.ZP.TaskStudyRecord.setRandomPopupRecord(r),data:{course_id:b,terminal_type:"PC",popup_id:n,type:N}})},I=(v,n)=>{var r=U.ZP.SaveProgress.reportStatusInterval(v);return X.WY.post({url:r,data:n})}},21594:function(nt,De,e){"use strict";e.d(De,{pu:function(){return U},RG:function(){return T},Gp:function(){return O},O8:function(){return E}});var J=e(88986),w=e(69164),p=e(38642),X=e(41225),U=o=>{var a="";switch(o){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":a="studyTask";break;case"enterprise":a="enterprise";break;case"courseProject":a="studyProject";break;case"platform":case"purchased":a="platform";break;default:break}return a},T=(o,a)=>{var f={};return a.forEach(L=>{var I=o.find(N=>N.type===L.type);if(I)if(L.type==="document_duration_limit"){var v=I.action_list,n=v.find(N=>N.type==="random_popup_verification");!(0,p.UI)("RANDOM_POPUP_VERIFY")||!n?f[L.name]="CLOSE":f[L.name]=n.param.checked==="true"?"OPEN":"CLOSE"}else if(L.type==="document_player"){var r=JSON.parse(I.actions);r.forEach(N=>{N.param.checked==="true"&&(f[L.name]=N.type)})}else if(L.type==="dynamic_watermark"){var b=I.action_list;b.forEach(N=>{N.type===L.resourceType&&N.param.checked==="true"&&(f[L.name]=N.param.comment)})}else f[L.name]=I.switch_status}),f},O=o=>{(0,X.sH)((0,J.Z)({progress:100,recent_start:1},o)).then(a=>{a&&a.data&&(0,w.Z)(a.data.integral_info||"")})},E=o=>{var a=document.createElement("div");return a.innerHTML=o,a.childNodes[0]}},59676:function(nt,De,e){"use strict";e.d(De,{Z:function(){return rt}});var J=e(57361),w=e(88986),p=e(33565),X=e(9754),U=e.n(X),T=e(12924),O=e.n(T),E=e(50361),o=e.n(E),a=e(45578),f=e.n(a),L=e(91768),I=e(7145),v=e.n(I),n=e(28216),r=e(37055),b=e(10237),N=function(te,oe){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ze="";return te==="department"?Ze=Be?"https://55ce2acf-537b-41f2-922f-d8388e98d090.mock.pstmn.io/department":r.ZP.choose.department():te==="post"&&(Ze=Be?"https://55ce2acf-537b-41f2-922f-d8388e98d090.mock.pstmn.io/post":r.ZP.choose.post()),b.WY.get({url:Ze,params:oe})},R=x=>{var te=x.originData,oe=x.mapData,Be=x.businessType,Ze=[];return te.length===0?[]:(te.forEach(Se=>{var xe={path:Se.path?Se.path[0]:[],position:Se.position};Be==="department"&&(xe.source_type=Se.source_type);for(var be in oe)oe.hasOwnProperty(be)&&(xe[be]=Se[oe[be]]);Ze.push(xe)}),Ze)},F=x=>{var te=x.originData,oe=x.mapData,Be=x.businessType,Ze=[];return te.length===0?[]:(te.forEach(Se=>{var xe={path:Se.path,position:Se.position,have_auth:Se.have_auth};Be==="department"&&(xe.source_type=Se.source_type);for(var be in oe)oe.hasOwnProperty(be)&&(xe[oe[be]]=Se[be]);Ze.push(xe)}),Ze)},j=x=>{var te=x.originData,oe=x.mapData,Be=x.businessType,Ze=x.isFirst,Se=Ze===void 0?!1:Ze,xe=x.haveAuth,be=xe===void 0?!1:xe,_e=x.isOnlyPost,Ve=_e===void 0?!1:_e,Pe=x.checkList,je=Pe===void 0?[]:Pe,at=x.checkedKey,Ae=at===void 0?"":at,Ne=[];if(te.length===0)return[];te.forEach(et=>{var Lt={isLeaf:et.have_sub_node==="false"||!1,disabled:be?et.have_auth==="false":!1,path:et.path||[],have_sub_node:et.have_sub_node,have_auth:et.have_auth};Be==="post"&&Ve&&(Lt.disabled=et.source_type==="post_group"),Be==="department"&&(Lt.source_type=et.source_type);for(var ze in oe)oe.hasOwnProperty(ze)&&(Lt[ze]=et[oe[ze]]);Ne.push(Lt)}),Ne.forEach(et=>{et.position=et.key,et.parentId=0,Se&&(et.path=[(0,w.Z)({},et)])});var Tt=ne({treeData:Ne,checkList:je,checkedKey:Ae});return Tt},ne=x=>{var te=x.treeData,oe=te===void 0?[]:te,Be=x.checkList,Ze=Be===void 0?[]:Be,Se=o()(oe);if(Se.length===0)return oe;var xe=Ze.map(_e=>_e.key),be=_e=>{_e.forEach(Ve=>{Array.isArray(xe)&&xe.length?Ve.isLeaf=xe.includes(Ve.key)||Ve.have_sub_node==="false":Ve.isLeaf=Ve.have_sub_node==="false"||!1,Array.isArray(Ve.children)&&Ve.children.length&&be(Ve.children)})};return be(Se),Se},le=e(13254),ye=e(14277),Q=e(62029),ee=e(81211),re=e(48479),Le=e(11520),Xe=e(32157),it=e(75869),Pt=e(60667),yt=x=>{var te=x.checkedList,oe=x.selectedKeys,Be=x.onExpand,Ze=x.expandedKeys,Se=x.businessType,xe=x.multiple,be=x.searching,_e=x.onSelect,Ve=x.onCheck,Pe=x.loadData,je=x.treeData,at=x.prefixCls,Ae=x.checkable,Ne=x.selectable,Tt=x.showLine,et=x.titleWrap,Lt=(0,ee.Z)(x,["checkedList","selectedKeys","onExpand","expandedKeys","businessType","multiple","searching","onSelect","onCheck","loadData","treeData","prefixCls","checkable","selectable","showLine","titleWrap"]),ze=kt=>O().createElement("div",{className:"".concat(at,"_title ").concat(et?"":"".concat(at,"_wrap"))},Se==="department"?O().createElement(Pt.Z,{type:kt.source_type,name:kt.title,value:kt.key,dataType:"departmentName"}):kt.title);return O().createElement("div",{className:"".concat(at," ").concat(be?"".concat(at,"_display_none"):"")},O().createElement(it.Z,(0,Q.Z)({showLine:Tt,checkedKeys:te,selectedKeys:oe,checkable:Ae,selectable:!Ae||Ne,loadData:Pe,treeData:je,multiple:xe,titleRender:ze,onCheck:Ve,onSelect:_e,checkStrictly:!0,onExpand:Be,expandedKeys:Ze},Lt)))};yt.defaultProps={prefixCls:"select-tree-data",checkable:!0,selectable:!1,multiple:!1,showLine:!0,checkedList:[],titleWrap:!1,searching:!1,businessType:"department",loadData:()=>{},onCheck:()=>{},onSelect:()=>{}};var xt=(0,L.Z)()(yt),Et=e(20228),Ut=e(11382),lt=e(88983),Ct=e(47933),qt=e(63185),St=e(9676),Ue=e(246),vt=e.n(Ue),qe=x=>{var te=x.checkedList,oe=x.titleWrap,Be=x.businessType,Ze=x.onSelect,Se=x.loadMore,xe=x.searchHasMore,be=x.searchLoading,_e=x.multiple,Ve=x.searchData,Pe=x.prefixCls,je=x.searching,at=x.checkable,Ae=x.selectedKeys,Ne=x.onRadioSelect,Tt=ze=>O().createElement("div",{className:"".concat(Pe,"_title ").concat(oe?"":"".concat(Pe,"_wrap"))},Be==="department"?O().createElement(Pt.Z,{type:ze.source_type,name:ze.title,value:ze.key,dataType:"departmentName"}):ze.title),et=(ze,kt)=>{Ze(ze,kt)},Lt=ze=>{Ne(ze)};return O().createElement("div",{className:"".concat(Pe," ").concat(je?"":"".concat(Pe,"_display_none"))},O().createElement(vt(),{initialLoad:!1,pageStart:0,loadMore:Se,hasMore:!be&&xe,useWindow:!1,threshold:100},(at||_e)&&Ve.map((ze,kt)=>O().createElement("div",{className:"".concat(Pe,"_checkbox"),key:kt.toString()},O().createElement(St.Z,{onChange:Bt=>et(Bt,ze),disabled:ze.disabled,checked:te.findIndex(Bt=>Bt.key===ze.key)>-1},Tt(ze)))),!at&&!_e&&O().createElement(Ct.ZP.Group,{onChange:Lt,value:Ae[0]},Ve.map((ze,kt)=>O().createElement("div",{className:"".concat(Pe,"_checkbox"),key:kt.toString()},O().createElement(Ct.ZP,{value:ze.key,disabled:ze.disabled,data:ze},Tt(ze))))),be&&xe&&O().createElement("div",{className:"".concat(Pe,"_loading")},O().createElement(Ut.Z,null))))};qe.defaultProps={prefixCls:"search-tree-data",checkedList:[],searching:!1,searchHasMore:!1,searchLoading:!1,titleWrap:!1,checkable:!0,multiple:!1,selectedKeys:[],businessType:"department",onSelect:()=>{},onRadioSelect:()=>{},loadMore:()=>{}};var Kt=(0,L.Z)()(qe),$e=x=>{var te=x.onChecked,oe=x.onSearchMore,Be=x.onSearch,Ze=x.onExpand,Se=x.expandedKeys,xe=x.checkList,be=x.businessType,_e=x.selectedKeys,Ve=x.multiple,Pe=x.searching,je=x.treeData,at=x.hasSearch,Ae=x.loading,Ne=x.searchData,Tt=x.searchHasMore,et=x.searchLoading,Lt=x.onSelectNodes,ze=x.loadData,kt=x.searchWidth,Bt=x.searchPlaceholder,ma=x.style,sa=x.active,oa=x.showSearch,Ht=x.t,ia=(0,ee.Z)(x,["onChecked","onSearchMore","onSearch","onExpand","expandedKeys","checkList","businessType","selectedKeys","multiple","searching","treeData","hasSearch","loading","searchData","searchHasMore","searchLoading","onSelectNodes","loadData","searchWidth","searchPlaceholder","style","active","showSearch","t"]),_t=null,la=(ue,d)=>{var u=d.node.key,c=[...xe,...d.checkedNodes];if(!d.checked){var l=c.findIndex(h=>h.key===u);c.splice(l,1)}te(f()(c,"key"),u,d.checked)},ea=(ue,d)=>{var u=ue.target.checked,c=o()(xe),l=c.findIndex(h=>h.key===d.key);u?l===-1&&c.push(d):l>-1&&c.splice(l,1),te(c,d.key,u)},ha=ue=>{var d=ue.target.data,u=[{key:d.key,title:d.title}];Lt(u)},ca=()=>{oe()},ta=(ue,d)=>{var u=d.selected,c=d.node,l=o()(_e);if(Ve){var h=l.findIndex(C=>C.key===c.key);u?h===-1&&l.push((0,w.Z)({},c)):h>-1&&l.splice(h,1)}else l=[(0,w.Z)({},c)];Lt(l)};return(0,T.useEffect)(()=>{(be==="department"||be==="post")&&_t&&_t.clear()},[be,sa,oa]),O().createElement("div",{className:"all-select-out",style:ma},at&&O().createElement("div",{className:"all-select-out_input"},O().createElement(re.Z,{width:kt?"".concat(kt,"px"):"100%",placeholder:Bt,onSearch:Be,onRef:ue=>_t=ue})),O().createElement("div",{className:"all-select-out_tree ".concat(at?"all-select-out_has_search":"")},Ae&&O().createElement(Le.Z,{fullScreen:!1}),je.length>0&&O().createElement(xt,(0,Q.Z)({searching:Pe,treeData:je,multiple:Ve,businessType:be,selectedKeys:_e.map(ue=>ue.key),checkedList:xe.map(ue=>ue.key),onExpand:Ze,expandedKeys:Se,loadData:ze,onCheck:la,onSelect:ta},ia)),O().createElement(Kt,(0,Q.Z)({searching:Pe,searchData:Ne,checkedList:xe,multiple:Ve,selectedKeys:_e.map(ue=>ue.key),searchHasMore:Tt,searchLoading:et,businessType:be,onSelect:ea,onRadioSelect:ha,loadMore:ca},ia)),!Ae&&(!Pe&&je.length===0||Pe&&Ne.length===0)&&O().createElement("div",{className:"all-select-out_tree_no_data"},O().createElement(ye.Z,{description:Ht("lineClassStudy.noResult")}))))};$e.defaultProps={style:{},checkable:!0,selectable:!1,showLine:!0,multiple:!1,hasSearch:!0,searchPlaceholder:"Search",searchWidth:200,searchConfig:{},titleWrap:!1,treeData:[],checkList:[],selectedKeys:[],searchData:[],searchHasMore:!1,searchLoading:!1,loading:!1,showSearch:!1,businessType:"department",active:"",onSearch:()=>{},onChecked:()=>{},onSearchMore:()=>{},onSelectNodes:()=>{},loadData:()=>{}};var Rt=(0,L.Z)()($e),st=x=>{var te=x.businessType,oe=x.filterAuth,Be=x.receiveFields,Ze=x.hasCheckList,Se=x.returnFields,xe=x.showSearch,be=x.onCheck,_e=x.onSelect,Ve=x.checkable,Pe=x.titleWrap,je=x.searchWidth,at=x.style,Ae=x.businessStyle,Ne=x.isOnlyPost,Tt=x.haveAuth,et=x.multiple,Lt=x.active,ze=x.appType,kt=x.t,Bt={page_number:1,page_size:1e4,filter_auth:oe,source_type:ze==="wx_app"?"wx_sync":""},ma=(0,T.useState)(!0),sa=(0,p.Z)(ma,2),oa=sa[0],Ht=sa[1],ia=(0,T.useState)([]),_t=(0,p.Z)(ia,2),la=_t[0],ea=_t[1],ha=(0,T.useState)([]),ca=(0,p.Z)(ha,2),ta=ca[0],ue=ca[1],d=(0,T.useState)(""),u=(0,p.Z)(d,2),c=u[0],l=u[1],h=(0,T.useState)([]),C=(0,p.Z)(h,2),S=C[0],A=C[1],Z=(0,T.useState)([]),_=(0,p.Z)(Z,2),Y=_[0],q=_[1],B=(0,T.useState)(!1),z=(0,p.Z)(B,2),ve=z[0],Re=z[1],Ge=(0,T.useState)(!1),Ye=(0,p.Z)(Ge,2),K=Ye[0],k=Ye[1],g=(0,T.useState)(!1),s=(0,p.Z)(g,2),i=s[0],y=s[1],m=(0,T.useState)(o()((0,w.Z)((0,w.Z)({},Bt),{},{page_size:50}))),t=(0,p.Z)(m,2),D=t[0],M=t[1],$=(0,T.useState)([]),pe=(0,p.Z)($,2),G=pe[0],Ee=pe[1];(0,T.useEffect)(()=>{var ie=ke(Ze,Se,te);A(se=>v()(se,{$set:ie})),ue(se=>v()(se,{$set:ie}))},[Ze,Se,te]),(0,T.useEffect)(()=>{ea([]),ge(),(te==="department"||te==="post")&&de()},[te,Lt]);var ge=()=>{Re(!1),k(!1),M(o()((0,w.Z)((0,w.Z)({},Bt),{},{page_size:50}))),q([]),Ee([])};(0,T.useEffect)(()=>{xe&&ge()},[xe]);var ke=(ie,se,ce)=>{var fe=R({originData:ie||[],mapData:se,businessType:ce});return fe},de=function(){var ie=(0,J.Z)(U().mark(function se(){var ce,fe,Ie,tt,ht,Qe;return U().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return ce=ke(Ze,Se,te),Ht(!0),Fe.next=4,Oe();case 4:fe=Fe.sent,Ht(!1),Ie=fe.dept_page,tt=fe.post_page,ht=te==="post"?tt:Ie,Qe=j({originData:ht.list,mapData:Be,businessType:te,isFirst:!0,haveAuth:Tt,isOnlyPost:Ne,checkList:ce,checkedKey:c}),ea(Qe);case 10:case"end":return Fe.stop()}},se)}));return function(){return ie.apply(this,arguments)}}(),Oe=function(){var ie=(0,J.Z)(U().mark(function se(ce){var fe,Ie,tt;return U().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return fe=o()(Bt),ce&&(te==="department"&&(fe.department_id=ce),te==="post"&&(fe.post_id=ce)),Qe.next=4,N(te,fe,!1);case 4:if(Ie=Qe.sent,Ie.data.code!=="200000"){Qe.next=8;break}return tt=Ie.data.data,Qe.abrupt("return",tt);case 8:return Qe.abrupt("return",[]);case 9:case"end":return Qe.stop()}},se)}));return function(ce){return ie.apply(this,arguments)}}(),ct=(ie,se,ce)=>ie.map(fe=>fe.key===se?(0,w.Z)((0,w.Z)({},fe),{},{children:ce}):fe.children?(0,w.Z)((0,w.Z)({},fe),{},{children:ct(fe.children,se,ce)}):fe),$t=ie=>{var se=ie.key,ce=ie.children,fe=ie.path,Ie=ie.disabled;return new Promise(tt=>{if(ce){tt();return}var ht=ta.map(Fe=>Fe.key),Qe=ht.includes(se),mt=o()(ta);Oe(se).then(Fe=>{var ft=Fe.post_page,It=Fe.dept_page,wt=te==="post"?ft:It,Nt=o()(wt.list),Zt=j({originData:Nt,mapData:Be,businessType:te,haveAuth:Tt,isOnlyPost:Ne,checkList:ta,checkedKey:c});Zt.forEach(bt=>{var Yt=[(0,w.Z)({},bt)];bt.parentId=se,bt.path=[...fe,...Yt],Qe&&Ie&&(bt.disabled=!0)}),Ve&&Qe&&Ie&&ue(f()([...mt,...Zt],"key"));var pt=o()(la),zt=ct(pt,se,Zt);ea(zt),tt()})})},Vt=function(){var ie=(0,J.Z)(U().mark(function se(ce){var fe,Ie,tt,ht,Qe,mt,Fe,ft,It,wt,Nt=arguments;return U().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return fe=Nt.length>1&&Nt[1]!==void 0?Nt[1]:!1,Ie=o()(ce),tt=fe?[]:o()(Y),pt.next=5,N(te,Ie,!1);case 5:ht=pt.sent,ht.data.code==="200000"&&(Qe=ht.data.data,mt=Qe.post_page,Fe=Qe.dept_page,ft=te==="post"?mt:Fe,Ht(!1),k(ft.has_next_page==="true"),y(!1),It=ft.list,wt=j({originData:It,mapData:Be,businessType:te,haveAuth:Tt}),q([...tt,...wt]));case 7:case"end":return pt.stop()}},se)}));return function(ce){return ie.apply(this,arguments)}}(),he=ie=>{if(Re(ie!==""),q([]),ie!==""){Ht(!0);var se=o()(D);se.page_number=1,se.keyword=ie,M(se),Vt(se,!0)}else{var ce=o()(D);ce.keyword="",ce.page_number=1,M(ce),Re(!1)}},fa=(ie,se,ce)=>{ue(ie),l(se);var fe=F({originData:ie,mapData:Se,businessType:te}),Ie=o()(G);ce&&(Ie=Ie.filter(tt=>tt!==se)),Ee(Ie),be(fe,se,ce)},P=()=>{y(!0);var ie=o()(D);ie.page_number+=1,M(ie),Vt(ie)},V=ie=>{A(ie);var se=F({originData:ie,mapData:Se,businessType:te});_e(f()(se,Se.key))},Me=()=>{var ie="search";return te==="department"&&(ie=kt("component.departSearch")),te==="post"&&(ie=kt("component.postSearch")),ie},We=ie=>{Ee(ie)};return(0,T.useEffect)(()=>{var ie=ne({treeData:la,checkList:ta,checkedKey:c});ea(ie)},[ta,Ae]),O().createElement("div",{className:"tree-business",style:Ae},O().createElement(Rt,{style:at,searchConfig:D,loading:oa,checkable:Ve,selectable:!Ve,treeData:la,searchPlaceholder:Me(),checkList:ta,selectedKeys:S,searchData:Y,searching:ve,multiple:et,showSearch:xe,active:Lt,searchWidth:je,searchHasMore:K,searchLoading:i,titleWrap:Pe,businessType:te,onExpand:We,expandedKeys:G,onSearch:he,loadData:$t,onChecked:fa,onSearchMore:P,onSelectNodes:V}))};st.defaultProps={style:{},businessStyle:{},businessType:"department",filterAuth:!0,haveAuth:!1,isOnlyPost:!1,receiveFields:{title:"name",key:"id"},returnFields:{title:"name",key:"id"},checkable:!0,multiple:!1,titleWrap:!1,active:"",showSearch:!1,searchWidth:200,hasCheckList:[],onCheck:()=>{},onSelect:()=>{}};var Mt=x=>({appType:x.user.appType}),gt=(0,n.$j)(Mt)((0,L.Z)()(st)),rt=gt},51975:function(nt,De,e){"use strict";e.d(De,{l:function(){return X}});var J=e(62029),w=e(12924),p=e.n(w),X=(U,T)=>function(E){return p().createElement(U.Consumer,null,o=>p().createElement(T,(0,J.Z)({},E,{contextData:o})))}},9849:function(nt,De,e){"use strict";e.d(De,{Ej:function(){return U},kL:function(){return T},T:function(){return O},NU:function(){return E},FL:function(){return o},fn:function(){return a},bm:function(){return f},jY:function(){return L},Vs:function(){return I},li:function(){return v},Nl:function(){return n},YF:function(){return r},Q6:function(){return b},zW:function(){return N},Zv:function(){return R},Qg:function(){return F},qc:function(){return j},Ve:function(){return le},rS:function(){return ye},Rh:function(){return Q}});var J=e(10237),w=e(37055),p=e(38642),X={zaraFlag:(0,p.UI)("ZARA_H5")};function U(ee,re){var Le=w.ZP.StudyProjectList.startStudy(ee);return J.WY.post({url:Le,data:re})}function T(ee){var re=w.ZP.Common.enroll(ee);return J.WY.post({url:re})}function O(ee,re){var Le=ee.courseId,Xe=w.ZP.StudyProjectList.studyProject(Le);return J.WY.get({url:Xe,params:re})}function E(ee){var re=ee.id,Le=X.zaraFlag?w.m1.getAssessmentProjectInfo(re):w.m1.getProjectInfo(re);return J.WY.get({url:Le})}function o(ee){var re=ee.courseId,Le=w.ZP.EnterpriseCourse.addScanCount(re);return J.WY.post({url:Le})}function a(){var ee=w.ZP.StudyProjectList.getAccountInfo();return J.WY.get({url:ee})}function f(ee){var re=w.ZP.StudyProjectList.projectCertiUrl(ee);return J.WY.get({url:re})}function L(ee){var re=ee.courseId,Le=w.ZP.Courses.like(re);return J.WY.post({url:Le})}function I(ee){var re=w.ZP.EnterpriseCourse.addCommentAndScore();return J.qg.post({url:re,data:ee})}function v(ee){var re=w.ZP.EnterpriseCourse.getCourseComments();return J.WY.get({url:re,params:ee})}function n(ee){var re=w.ZP.EnterpriseCourse.addCommentAndScore();return J.qg.post({url:re,data:ee})}function r(ee){var re=w.ZP.EnterpriseCourse.deleteComment();return J.qg.post({url:re,data:ee})}function b(ee,re){var Le=w.ZP.StudyProjectList.projectStudyRecord(ee);return J.WY.get({url:Le,params:re})}function N(ee){var re=w.ZP.DingSpaceId.getSpaceId();return J.WY.get({url:re,params:ee})}function R(ee,re){var Le=w.ZP.PlatformCourse.learningUrl(ee);return J.WY.get({url:Le,params:re})}function F(ee){var re=w.ZP.MyExamTask.examIntro({examId:ee});return J.WY.get({url:re})}function j(ee){var re=w.ZP.MyExamTask.examCheckStatus({examId:ee});return J.WY.get({url:re})}function ne(ee,re){var Le=CONFIG.Common.getOperateLog(ee);return formDataRequest.get({url:Le,params:re})}function le(ee,re){var Le=X.zaraFlag?w.ZP.StudyProjectList.changeCustomStatus(ee):w.ZP.StudyProjectList.changeStatus(ee);return J.WY.post({url:Le,data:re})}function ye(ee){var re=w.ZP.StudyProjectList.getProjectReward(ee);return J.WY.get({url:re})}function Q(ee){var re=w.ZP.subsidyGz.subsidyCourseSetting(ee);return J.WY.get({url:re})}},97593:function(nt,De,e){"use strict";e.d(De,{N:function(){return E}});var J=e(34792),w=e(48086),p=e(37055),X={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:o=>{var a=o.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/competition/user/").concat(a,"/report/list_report")},pkReportDetailsDetails:o=>{var a=o.competitionId,f=o.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/competition/user/").concat(f,"/pk/").concat(a,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(p.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(p.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(p.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(p.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(p.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/student_archives/youjia_list_export"),authInfo:o=>{var a=o.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(a,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:o=>{var a=o.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(p.ZP.enterpriseId,"/user/").concat(a,"/integral_export")},teacherImportPoints:o=>{var a=o.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(p.ZP.enterpriseId,"/lecture/").concat(a,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(p.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(p.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(p.ZP.enterpriseId,"/offline-courses/").concat(o,"/sign-analysis-export"),signAnalysisDetailExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(p.ZP.enterpriseId,"/offline-courses/").concat(o.id,"/sign-detail-export"),studyProjectMonitorExport:o=>{var a=o.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/study_projects/").concat(a,"/user_monitors_export")},studyProjectPaymentList:o=>{var a=o.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/study_project/").concat(a,"/study_project_transaction_export")},study_project_transaction_export:o=>{var a=o.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/study_project/").concat(a,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(p.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(p.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(p.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:o=>{var a=o.projectId,f=o.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(p.ZP.enterpriseId,"/study_project/").concat(a,"/course/").concat(f,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/certificates_export"),certificatePeople:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/certificates/").concat(o.certificateId,"/users/export?type=").concat(o.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/plan_study_export"),learningMonitor:o=>{var a=o.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/plans/").concat(a,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/investigates/").concat(o.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:o=>{var a=o.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/operations/").concat(a,"/user_monitors_export")},huaLaiShiWorkUserData:o=>{var a=o.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/operations/").concat(a,"/user_monitors_export")},learningFaceMonitor:o=>{var a=o.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(p.ZP.enterpriseId,"/user-recognition/course/").concat(a,"/export")},learningDetailMonitor:o=>{var a=o.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(p.ZP.enterpriseId,"/user-recognition/v2/course/").concat(a,"/export")},classLearningMonitor:o=>{var a=o.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(p.ZP.enterpriseId,"/study-record/plan/").concat(a,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/investigates/").concat(o.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/exams/").concat(o.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/exams/").concat(o.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(p.ZP.enterpriseId,"/exams/").concat(o.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(p.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:o=>{var a=o.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/practices/").concat(a,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/competition/user/").concat(p.ZP.userId,"/list/export"),exportPkMonitor:o=>{var a=o.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/competition/").concat(a,"/user/list/export")},exportPostMap:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/post_maps/").concat(o.mapId,"/users_export"),exportPowerMonitor:o=>{var a=o.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/qualifications/").concat(a,"/monitors_export")},exportQuestionnaire:o=>{var a=o.taskId,f=o.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/studies/").concat(a,"/investigates/").concat(f,"/statistics_export")},exportGoodsExchangeDetail:o=>{var a=o.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/integral_mall/goods/").concat(a,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(p.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:o=>{var a=o.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(p.ZP.enterpriseId,"/lecturer/").concat(a,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(p.ZP.enterpriseId,"/export/plan/").concat(a,"/model")},offlineCrouseCheckIn:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(p.ZP.enterpriseId,"/offline-courses/").concat(o,"/sign-analysis-export"),monitorUserExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(p.ZP.enterpriseId,"/offline-courses/").concat(o,"/monitors-export"),evaluateAnalyzeExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(p.ZP.enterpriseId,"/course/").concat(o,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(p.ZP.enterpriseId,"/plan/").concat(o.planId,"/tutorials/").concat(o.tutorialsId,"/evaluation_export"),offlineCourseListExport:o=>{var a=o.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(p.ZP.enterpriseId,"/plans/").concat(a,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(p.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(p.ZP.enterpriseId,"/users/").concat(p.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(p.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(p.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/plans/").concat(o,"/courses-export"),studyProjectCourseExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/study_projects/").concat(o,"/courses-export"),studyProjectPracticeExport:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/study_projects/").concat(o,"/practice-export"),trainingTandardsDetail:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(p.ZP.enterpriseId,"/objective/").concat(o,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(p.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(p.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(p.ZP.enterpriseId,"/annual-plans/").concat(a,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/exam_details/export"),medalDetailsExportData:o=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(p.ZP.enterpriseId,"/medal/group/").concat(o,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(p.ZP.enterpriseId,"/").concat(p.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/export-user-task")},exportNewExamAnswerList:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/export_student_detail")},exportNewExamAnswerListPDF:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(p.ZP.enterpriseId,"/exams/").concat(a,"/download")},exportQuestionAnswerDetails:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/export_question_answer")},exportAnswerDataList:o=>{var a=o.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/export-question-analysis")},exportSubmitList:o=>{var a=o.planId,f=o.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/user-id/").concat(f,"/export_user_submit")},exportFaceRecognitionRecord:o=>{var a=o.userId,f=o.examId,L=o.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/users/").concat(a,"/exams/").concat(f,"/submit-id/").concat(L,"/export_face-info")},exportQuestionDetails:o=>{var a=o.planId,f=o.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(p.ZP.enterpriseId,"/exam-plan/").concat(a,"/export-question-user-result/").concat(f)},exportPointsDetail:o=>{var a=o.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(p.ZP.enterpriseId,"/user/").concat(a,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(p.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(p.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:o=>{var a=o.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(p.ZP.enterpriseId,"/integral_mall/goods/").concat(a,"/export_orders")},exportLotteryOverview:o=>{var a=o.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/lottery/").concat(a,"/prizeOverview/export")},exportLotteryDetailList:o=>{var a=o.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(p.ZP.enterpriseId,"/lottery/").concat(a,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(p.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(p.ZP.enterpriseId,"/users/").concat(p.ZP.userId,"/group/export_address_book")},U=X,T=e(10237),O=e(31457),E=o=>{var a=o.page,f=o.props,L=o.query,I=L===void 0?"":L,v=o.rest,n=o.sendType,r=n===void 0?"get":n,b=o.success,N=o.fail,R=N===void 0?"":N,F=U[a](v)+(r==="get"?I:""),j=T.WY[r];j.call(T.WY,r==="get"?{url:F}:{url:F,data:I}).then(ne=>{if(F.includes("/v3/")&&ne.success==="true"||ne.data.code===0||ne.data.code===200||ne.data.code===2e5||ne.data.code==="200000"||ne.data.resultCode==="200"||ne.data.result_code==="200")(0,O.Pp)(f),w.default.success(f.t("study.compoundSucceed")),b&&b({code:200});else{if(R){R(ne);return}w.default.error(f.t("community.isError"))}})}},91648:function(nt,De,e){"use strict";e.d(De,{Z:function(){return J}});function J(w,p){var X,U,T,O,X;if(U="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),X=[],T=void 0,p=p||U.length,w)for(T=0;T<w;)X[T]=U[0|Math.random()*p],T++;else for(O=void 0,X[8]=X[13]=X[18]=X[23]="-",X[14]="4",T=0;T<36;)X[T]||(O=0|Math.random()*16,X[T]=U[T===19?O&3|8:O]),T++;return X.join("")}},69164:function(nt,De,e){"use strict";var J=e(34792),w=e(48086);function p(X){X&&X.length>0&&w.default.success(X)}De.Z=p},65202:function(nt,De,e){"use strict";e.d(De,{p:function(){return J}});function J(){return localStorage.getItem("themeColor")||"#516AE6"}},25547:function(nt,De,e){"use strict";e.d(De,{Yd:function(){return p},VX:function(){return U},lK:function(){return T},NP:function(){return O}});var J=e(88986),w=e(93485);function p(E,o,a){var f=0;function L(I,v){for(var n=0;n<I.length;n++){var r=I[n];if(r[E]===o){f=v;break}else r.children instanceof Array&&r.children.length&&L(r.children,v+1)}}return L(a,1),f}function X(E){var o=1;function a(f,L){f.forEach(I=>{L>o&&(o=L),I.children&&I.children.length>0&&a(I.children,L+1)})}return a(E,1),o}function U(E,o,a){E.forEach((f,L,I)=>{if(f.id===o)return a(f,L,I);if(f.children)return U(f.children,o,a)})}function T(E,o){var a;function f(L){var I=(0,w.Z)(L),v;try{for(I.s();!(v=I.n()).done;){var n=v.value;if(n.id==o){a={id:n.id,name:n.name,children:n.children,parentId:n.parentId};break}n.children&&n.children instanceof Array&&n.children.length>0&&f(n.children)}}catch(r){I.e(r)}finally{I.f()}}return f(E),a?(0,J.Z)((0,J.Z)({},a),{},{children:a.children instanceof Array?a.children:[]}):{children:[],id:"",name:""}}var O=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",L=[...o];function I(v){Object.keys(a).forEach(n=>{var r=n,b=a[n];v[b]=v[r],v[f]=v[f]&&v[f]instanceof Array?[...v[f]]:[],v[f].length?v[f].forEach(N=>{I(N)}):delete v[f]})}return L.forEach(v=>I(v)),L}},2396:function(nt,De,e){"use strict";e.d(De,{fA:function(){return p},kh:function(){return X},kR:function(){return U},rw:function(){return O},$s:function(){return E},q_:function(){return o},QK:function(){return a}});var J=e(6793),w={limitWords(f,L){return{rules:[{max:f,message:"\u6700\u591A\u8F93\u5165".concat(f,"\u4E2A\u5B57")},{required:!0,message:L||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(f){return{rules:[{max:f,message:"\u6700\u591A\u8F93\u5165".concat(f,"\u4E2A\u6807\u7B7E")}]}},required(f){return{rules:[{required:!0,message:f||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(f,L){return{rules:[{required:!0,message:f||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:L}]}}},p={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},X=f=>isNaN(f)||!f||!(f>=0&&f<1e3)||!p.score.test(f),U=f=>isNaN(f)||!f||!(f>-1e3&&f<1e3),T=f=>isNaN(f)||!f||!(f>=0&&f<1e3)||!p.examScore.test(f),O=(f,L)=>{for(var I=0,v=0;v<f.length;v++){var n=f.charAt(v);if(n.match(/[^\x00-\xff]/ig)!=null?I+=1:I+=.5,I>L)return v}return 0},E=f=>{for(var L=0,I=0;I<f.length;I++){var v=f.charAt(I);v.match(/[^\x00-\xff]/ig)!=null?L+=1:L+=.5}return L},o=(f,L)=>{var I=f.target.value,v=f.target.dataset.originLength;if(f.target.dataset.originLength||(v=L,f.target.dataset.originLength=v),!!v){var n=E(I);n*1<L*1?f.target.setAttribute("maxLength",L*2):f.target.setAttribute("maxLength",L)}},a=(f,L)=>{var I="";return(!f||!(0,J.fy)(f))&&(I=L),I}},4412:function(nt){nt.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACPCAYAAAD0gYXiAAAW/ElEQVR4Xu2dCZAcV3mA/9fHaGZ2V9qVdlejvbQ7O7NaWdqNTbgxlmVbxkeME3AcHJwqKhCC44AJV0zZjg8ScwRDqLIMwUnsJEAKF4aCGEIigyVjAthQMTLWbcnyCmmtY6/Znav7vT/190yvenp7prtHM5Lm6NLUaHve1f/X//W6+zWD5lazEmA1O/LmwKEJr4ZPgia8JrwalkAND72peU14NSyBGh56U/N8wkNE6ZVXXrlIUZQrEPG5vr6+H/tsomLFm/A8iHJ6enowlUptYYxdwTm/HABWIaJZ89uqqn4sEokc8tBURYs04TmIc2ZmpiOTyVwmhLiCgAkhYlTMBObwnQaALwaDwfu7u7vnK0qoRGNNeDkogZmZmTdrmmZoFyL+rhBCLgbMCs8G8igAfHJgYODfGWOLqlktmA0JDxHZ9PT0GCJuAQCC9VZEbHGCYgJ00rpimggAzwohbhsaGvp5tcBRuw0Hb3p6+osAcBMiribhu0FxBJRKA2Q1wOWtBfVtZUnzvp7JZG5ft27db6sBsaHgzc7OXiuEeKIYtKJmUteBvTwBbM8BkPYeBPbKEQBZBn3zm0G77GJAVTHYOIFmjJEP/AwiPjA0NES+sWJbw8BDRHV2dvY3iDhSwmflANDn2KsAew4YwNj+l4Fls45CxxXLIft7l4N+0RggnHZzDifIywDw8Wg0+q1K0WsYeHNzcx/lnH++aNQ4MwewZz/A7gM5aHMJXzIWg32Quf4q4P1rSkWlwBjbAQC3RaPRX/vqwKFwQ8BLJBLdnPN9ALCiQOt+OwnwzLMAu/fnNK0Cm/a634Hs1ZeBaGtZYkpNbWSMcUT8J0S8Kx6Pnyi324aANzc391VE/LMCU6ZzwPu+ADB5vFzZFa2HywKQvfxiyL719QCKAkKIxbI2k70tHo9fWe4A6h7e9PT0RbIsP2fmbabZFD/6CcA3v1eu3DzVEys7IHPdFaBtGClmSlOyLK8sN5Cpe3hzc3M7EPGSAl+XmAdx52cBkilPEM60kB4bhPR1W4BHupZAFEJsGRkZebKcPuoaXjKZ/ENd1x+zBynia48D7vhZOfIquw5KDFI3vxOyF8QLTCgifjYej99eTsN1C29iYiLU0dGxWwixtgDexFHgn/oCgKj67NUSHtqFGyB50/WG9lkmtn8Vi8Ve24RnkcDCwsJdQoj77Ikz//yXAfccKEdWZ1xHtLZA4s4PLWaD+bGJYDDY3dfXd8pvB3Wpeclksg8R9wghjHjdBCh+tRP4Q4/6lVFFy89/+H2gR7rsacQfxeNxw7z72eoV3teEEO+2mCbArAbanZ8BODnlRz4VL5u+9nLIXPIGu+l8OBaLvd9vZ3UHT9O0N2Wz2Z/SlQOryeTffxLEt3/gVz4VL6+NRCH53nfZ4b0ci8WG/HZWV/AIWCqV+gUivq4gGZ6ZBe2TnwbIZPzKpyLlWVsLKBvXgzq2HpT1cTiSSoKQcqK3WId4LBbz5YzrCl4qlXoPIj5ii+ZAe/jrIP73uYqA8NSIqoIyGgN1/AIDmDzYD0ySFqtO7t4DyWWBgpSBMXbL8PDwVzy1ny9UN/BOnDjR1trauhcR11i1Thw8DNqn6BJeFTfGDEAmLALHAqfh2HuenZyEqVSqwHQyxh4fHh6+wc8o6wZeJpMZFULstqcG2fu/BGLfQT8y8VRW6u4EZWx9DtjGUZDaWkvWo3HxiaOgvbAb0ocnYObqSxfNZn7M08PDw52MsdMToS4jqRt4dJypVGoCEftMX0JCyX5uKyBdNTjDjbWEQdk4etoURrpdW+RT06C/sBu0nbsNaDgzmwPGGCT+5q9AhJYV+D1Jkt4QjUafdW243swmHU8mk3mEc/4eKzz+xJOgP/6EV3mcLqcqoKyLGT7L8FvRtQV+y6lBkUqDvmsvaDt3GbDEkWNF+03e/A7QxkYLTKckSXdEo9H7vQ623jSPcruvmfDom3xeli79uG0MQF7bn4sIyRSOxoFZggqn6sg56PsPgfbCLtB37gb9wEEA7s3qZd/4Gkj9wVX2iertsVhss9tQzd/rCh7dVJROp49RyrAIUAhIf/AOgIXkEpmwzpWgjl0A6vh6UDeuB2lFm7vf+u0k6C/sypnCXXsB6GakMjaxqgMSn7hl0Wzm/V4mHA6v7OnpWTpYhz7qCh4dXzqd/rUQYtxqOrWtj4L45fPAwqGc38oHGvKa1a5iF5QjGj4rZwpxasa1jtcCidtvBd6+vMDvAcDVsVjsh17aqEd4DyDiRwqumu89AIHWVlCGB139FqYzoO3al4O1czeIiarctQeiYwXMf+zPARWlwHQyxu4eHh6+r1HhXY2IPyhIGRLzEF7tHB0afuullw2fZfguSis49yK7MyqTooBlfL3d5yWDweBob2/vhJfG607zEDGcyWSmhBBGHG5qYFDTQW5fYciEH51cjAj1F/cCnqUr6iYQPToAyQ/8id3f0d/3Dg8P3+MFHJWpO3h0UKlU6ilENLJgUwPZ7n3An33eMIV46txdWaAcL3nbe4H35PytxUJMhEKhUa/BSj3DuwMA/tbq9/hzz4O29RGvJ3XVymlveA2kb7hmidYxxv54aGjoP/x0XJeal81mX885p6sLp4U0vwAZShlOP1fnR04VKYvBZZC8/VYQLWG71v00Go1e7LeTuoSHiHI6nT6BiB1W05S59wHAQ6/4lVHFymffvgWyl7zRrnVCkqTXr1279ld+O6pLeCSEdDr9OCK+w6p92reeAP7ENr8yqkh50bUKUh//AGD+0pDlOt6/DA4OvrecTuoZ3i2I+JDV74ld+4yJ6nOxpd93E/D1udv+LGOaC4VCI6tXry7rXvt6hhdDxP0F+Z6uQ/bL/wp0I9LZ3PhoDDLvf/eSG24B4K/Xrl37uXLHUrfw8qbzkBBi0BaSg9i9H/RvfAfwCD2FXN2NzGTmE7eA6O60wzswMDCwgTHm/OyYh2HVO7yHEfF99tsijL85B77jZ8C/818A8wseRFVeEX3TG0H7/dzVA+vdbLIsX9/b23tGD0vUO7y3AcB3rbMtNp8DuJAE/t3/BvHjZwAsT/OUh6qwFraEIXPHhwBDQeMH82khSZK29fX1lf10kNlLXcPLm86YEIIu6F1XMFltyQENwR6dBPHN7wH+Zs8ZccOOdhDrhkGsiwKPRwFaw3at04UQF65du/bFM+qoXqfHnISSTqe3cM7/AQAuWKJ9FpMmdu4yIMKrHp95DAVBjEQB1w0DrouB6Fppjyjtvu7B/v7+D54pOKpf95pnFRIiKqlUilKIv0fEZQUzMFZN5BzEj54BpJzQfrFVlgGjA4CjMYDRGIj+XgCJlXyU2RIwnaJn4vv7+ysyudpQ8EiIx48fv0SW5e2yLDNZNtbJKb6cBz3H950fAhw6DEA52mgMMD4EEAgUmELHgMg6NZf/P2PsL3t7eyuWaDYUPFr07dSpU78EgIsMs8MYKIoCkiQVXU/Ffithqb+dfmOMzQohtgPAtp6enq/Q8+iVMJkNZzZPnTpFz6V/1S48gkdaSDCLmVIf0DTG2M+FEE/SZ9++fc9u3rxZrxQwazvnjeY99dRTfYFAYGtbW9vbq3KgjEF3d7cBqUhAA5xzWL58+aImegFGVhcAdiGiAUuSpO1na/G48wLe9u3b3wQAtPRhpq2tzXiStdLbihf2Qks4DPCW1wFYnhswfd7x48cNeAS3vb0dWlpaigYhuq6nZVmmxXC2EbSurq7qT9U4COScw3v66affwzknX7BMVdXD1YCnpDLQ/eCjwNIZwN41ADdeBzASXRTH/Pw8zM3NFYgnEAhAR0cH0Dcl15lMBpLJ5MmTJ092ptNpMrGU/N+8efPms7ZEo53fOYP32GOPyd3d3TQp+xFzUNWC1/nDHbDsucIFh/CijQDvvAZ4+wqKQAumrqxCUlUVNE0zdmWz2cPz8/OLloEx9gIAXL9p06azvlDqOQtY7rnnHunSSy/9PgBcZRNUxTUveGIKVv3j152voCsKzNz2p7AQzk1fuW12ePnyJxljV27atOn/3OpX+vdzonkvvvhia3d3t7G4l3Wylv4UQhSMyWuobrZla48azIEz/hUu7GbUsUSY1vEUCfux4G7s/Pg553eOjY39XaXhuLV3TuAdP368VZKkxBJB2+Ybi4ErCsqlvh2O3/6LwW0oeKR5kUhkEZ5ViE55lpPQvOyjtszczX4ieKlvnvlOE9rW+rquN47m0ZrOU1NTxgPi9qklN9NlN7VeoLhpsFubbvUbFl4pWE5w/cAqVd/LSeK1PgB8eHR09EtuPqrSv58Tn0eaNz09nbGbSyfzWUkhu2mQV1Nqb4cxduu6deseqjQct/bOKTwnc1XM/7kJ1ouWlmrbS/1iJ1LDwvNiNq1lstksLCwsFCxAav5OZ+JKkEDqWuV40lLd2dn8c+GWO6cpqKFpMZpNcfN/Rfx0Y2nezMyMY8BSyqfpug4nT54sak2W/2YftP3nNsDNbwG45jKA4Onkm9qluuZsiVMjy5YtA5pR8QrQUq4x4fnxaclkcskcpAlB1nRYvfXfgCXyU41trYDXvw3gTa81rnRT3ZmZ0k+1kvaFw7l7TooBdNI8MpvxeLxxfN7s7OxiwOLVF5HZm5pyvoNg5Y5fQOjpXyxVqIFeEDdeB6+2BJeYWnth0rpgXluLBVNOY21IeG5BiFN0SLP/pEXWLTCXgE7SOt35InXihmtgbr3xLqeiG12QJa2zX1UvNkarBjYcvLm5uSWa5zWHo0s0dO3NFKCcWAApf+OsPemn5YG17s4lZtBuFgmaFxNeJJ1pLLNphVeOBpYRVJT0ZX5SFIeyjQfPtGHFkmcvmlhKW5yCCy9tepk8sJVpwiulgaUEWi5AL2ay1Alg+a2x4CUSicU8z4vw3cykn6kvN2iUtDu9haRYPURsLHjz8/OuAUu5c51e8jQ3gMVOliLW4dbh4eHGyfOs8Lxqnt2EeQkySmlsBes3FryFhQVD87wI0EmT/GhOJTW4SL+NCc+rLzuLkaNjvudysjQePK/5nR9z6SdiLbd/ez0KWBrK55HZdMvzKqVtXn2qnxzQaoqFEI0FL5lMlp0q+PGT5YLz0ofZNs1tDg4ONk60WQyeqY1+8iy73/RjZksFQ141seHgpVKponmek7n0E12WW9/Bl5nnkmMQY9HOxtI8Kzy/gUO5vrAUHC9a5lQ/f19oY8FLp9OeZ1is/qccDfSajpQDkNomszkwMFB/Pm9qaoqWIvwLXdcv0TSti3N+Qtf1n65Zs+bGcoVVqXnMUhrs5SSxBix1BY9WXkgmk1/inN+iaRqjm4esn56eHs/JcKWEXO5Mi1vECgD1pXnpdHor55w0rgCa+Xdvb6/r8hdO5s5LCF8Kkpf6fhP9uoKnadrFiPi0k8ZZ4fkVkh8zWyVIxj0u5rgpnaEPIj7POf/nVCr16IYNG87ak7JVuWOac/4NXddvKqZ1tJ80z9zcoJQC4TVSPVM/SbcF0scEZn7TvTQWiK/quv6h0dFR3+9/LchJPP5RFXhCiCOapvUWg0cH7GQ2ywVRbfNKa7XQx7zxqRRAIQQ9IHrH+vXrP+2RQdnFqgKPc57RdT1QSvP6+ow3pS2aIDftc9PSatUnaOaiAh7hEWQC+K4NGzZUVQOrAs9N8whqf3+/r4DFiw/zUsZPCkBlzTuoi4FzMp/5sq8yxmLV9IFVgefm88hsmprnxxd50S4v/tErZLvWlQBV4AstfvCD4+PjD5ZtF10qVgWel2hzYGDAVfO8gPCrSV7AmWVCoZDxWLSLjzNuALaXyWvfk+Pj41tqCh4N1i3Pc4JXbsBSLcjmKkhWMHZQJcAR0KPj4+Onw+oKU6yK5uUhlJxhIXhOAYsJ0OtsSLHyXudDS/XX2tq6RKtcYC1qIJVDxOzY2FjuxbBV2KoCj9Yq2bdvX08mkxlub2+/MhAI0HrKcSFEq6Zp85qm7R8cHHwNvXnkfNM26wllDVa8+jurliLiSVVVLxwZGTnKGDu9CEyFQFYU3sGDB1enUil68wMt8VTyjIvFYh+VJMlYMtgKsJQmeAluvPjAUoGPtT49bGn3eU6aV2wfALzIGKP1remugcOhUGh/NBot6wUYTrzPGN7+/fuXCSGGhBAxWZZLv3TVMoKWlpb+SCRyFyK2Wk2c3yvopcB7CU6c6pv7rMl5Mc1zSiFMmIyxR1VV/R+b4OcQ8SVJkg7F4/HF+3jKUcay4U1OTraQliHigBAiN+HnsplrXZqPZ7W2tna2t7dfyxgjB7jYhk+YdAwsv6xU7jt3hVSi/yO1i8AQkPYtlhUCpdw+WmcbGa23Y5RHkauX39/W1tZOV0j85nmIOK0oyq2SJKVMsViPX5IkwRh7hbQxEomU9WIH3/Bo6an5+flhxljkfFhgXJIkhTGmIKKa+5ZUxoTxjUjfqJLwcx+mInIFABWdiwCC8bsiBCpC5yrtFwiK4JoqBCgCudrR3t4XiUQu5JwzH34PJUn6dCAQ+InbCZ1bRwgnU6nUS34Tes/w6CCPHDkyiIg9jM7sEhvNoFg3Mj/Wrdjv9v3FurC2xzmXA4EAaYZKH0lSjf9LElOE0FXOCV4OKM+DBAEqMlS4pqkCqB6oIHiuDRSK4Ej7FeRC5ZyrkcjqkY6OjnUmwFLpApEAgIdVVf2GOX4vx0/HTqlFNBo9xBjztKyxJ3iTk5PdmUymPxAIOK/x63J6eYVlP0gPZy1ZSNIIVQimShKqTFEMCKRxBkSU6NvQQAOeAZOrKDFF17QAlWGkfQRRz50A9OEoVBBC4VxQGaW9fUV/Z+eqDRSIFcv7EPEUY+yBcDj8o3JO1vzkty7L8pFIJHLc7fhLwiNtm5yc7GOMeQ5E3Dqsxu9kOjmXVEniqiQRLPpwVbAcPGOSPA/UMKOcq8hIM3mA/i8AjH2L4AwN5CqBQ2qHG54zoUhysre3p0VRlI1CiGFd1+nlitOc85cA4KlgMEjvBvL0gno3OSBiIhKJHCmlhUXhHT16NBwOh1dns9lCm+fW6zn4nbEgkySNTFyAS5IqcQNeAFGoTJVU1ISqaVqAwOqY00oqC3mQBBck0JBDGplIyoxRADGvBINzKmNz4XD4rF1gtYovEAjoyWTy1WIvAXaER6+rnpqaoveqeDKr54DXki51XVYJoCzLAdJCxpgqRCaQ00IyfVyWJJkjIhdCaEJkNQA1raqBZCgkJ4U1RzkfDig/hlAohKFQaIoxtkSjl8BBxJZkMrmc6iaTSUd44XDYcbbALF/sd1MmfsvZZenUfjqdljVNUyUpJMOy/EmXAQyQYeRcDwaDi0FANfq3yqsax9/Z2TnLchZhcSuAMzExEWpvb28rBo0maq0brQHmZzPrF6tnHnSzf2el6e7unmOMLeaNi/DIDyQSiRV+YDTLnn0JtLW1kQYay80b8PKzE8tnZ2cdZ0oSiYSj+Wxrayswn2Y5r/vNQzfzxnyOtEQizf5Py7+lpYV3dHSQBhrTRXDo0KHgihUrqnbp4uyfn/XdI63bNjQ0lDbg0ZRXV1eX5yM+caLwxYBe65Zbzz6wctspt9752D+9r4gmY5Vjx47lVgm1bWvWrCkwi8eOHTNgF9vvmb7Hgs3+S8pfI3i0Oqjh6w4cOOBJrLFY4Qp6Zj37fk+NWQo1+/clf2Fonl8hN8ufHxIgeNK9995bMJq77777rI6u2X958q+Z6a+zejbVSGdNeDUCymmYTXhNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjoTc1rwqthCdTw0Jua14RXwxKo4aE3Na8Jr4YlUMNDb2peE14NS6CGh97UvCa8GpZADQ+9qXlNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjo/w+0S4IKs9Wq0AAAAABJRU5ErkJggg=="}}]);
