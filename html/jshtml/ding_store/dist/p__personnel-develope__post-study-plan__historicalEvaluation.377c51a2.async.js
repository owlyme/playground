(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6981],{4408:function(S,h,t){"use strict";var i=t(12924),e=t.n(i),E=t(28216),f=t(17780),g=t(38642),y=m=>({userInfo:m.user}),D=m=>{var v=m.title;return(0,f.xX)()&&setTimeout(()=>{document.title=v},0),(0,i.useEffect)(()=>{if(v&&document.title!==v&&setTimeout(()=>{document.title=v},0),(0,g.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var a=document.querySelector(".zoom-report");a&&(a.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[v]),e().createElement(e().Fragment,null)};D.defautProps={title:""},h.Z=(0,E.$j)(y)(D)},21441:function(S,h,t){"use strict";t.r(h),t.d(h,{default:function(){return R}});var i=t(12924),e=t.n(i),E=t(91768),f=t(76651),g=t(15778),y=t(66456),D=t(55313);class m extends e().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var l=this.props,o=l.columns,s=l.dataSource;return e().createElement(D.Z,{columns:o,dataSource:s,pagination:!1})}}var v=m,a=t(70596),r=t.n(a);class n extends e().Component{constructor(l){super(l);this.getChart=o=>{this.chart=o},this.state={}}componentDidMount(){this.renderChart()}renderChart(){var l=this.props,o=l.source,s=l.t,c=[],I=[],C=[];o.slice(0,10).forEach(p=>{C.push({name:p.abilityName,max:5}),c.push(p.abilityLevelScore==="--"?0:p.abilityLevelScore),I.push(p.levelScore==="--"?0:p.levelScore)});var d={legend:{data:[s("personnelDevelope.postRequire"),s("personnelDevelope.comprehensiveAssessment")],bottom:10,left:"center",icon:"circle"},radar:{shape:"circle",splitArea:{show:!0,areaStyle:{color:["#fafafa"]}},name:{textStyle:{color:"#2D3040",overflow:"truncate",width:"72"},formatter:p=>p.length>10?p.slice(0,10)+"...":p},radius:105,center:["50%","50%"],indicator:C},series:[{type:"radar",data:[{value:c,name:s("personnelDevelope.postRequire")},{value:I,name:s("personnelDevelope.comprehensiveAssessment")}]}]},A=r().init(this.chart);A.setOption(d)}render(){return e().createElement(e().Fragment,null,e().createElement("div",{className:"historical-evaluation-chart",ref:this.getChart}))}}var u=(0,E.Z)()(n),P=t(6793),N=t(4408);class x extends e().Component{constructor(){super(...arguments);this.state={reportData:{}},this.getEvaluationData=()=>{var l=f.m8.location.query,o=l.planId,s=l.postId;(0,g.nF)({plan_id:o,post_id:s}).then(c=>{this.setState({reportData:c.data.data})}).catch(()=>{})}}componentDidMount(){this.getEvaluationData()}render(){var l=this.props,o=l.t,s=l.prefixCls,c=this.state.reportData,I=[{title:o("evaluation.abilityStudy"),dataIndex:"abilityName",key:"abilityName",width:378},{title:o("personnelDevelope.postRequire"),dataIndex:"levelName",key:"levelName",width:378,render:(C,d)=>d.levelName!=="--"?"".concat(d.levelName,"(").concat(d.abilityLevel,")"):"--"},{title:o("personnelDevelope.comprehensiveAssessment"),dataIndex:"levelScoreName",key:"levelScoreName",width:378,render:(C,d)=>d.levelScoreName!=="--"?"".concat(d.levelScoreName,"(").concat(d.levelId,")"):"--"}];return e().createElement("div",{className:"historical-evaluation"},e().createElement(N.Z,{title:o("evaluation.trainingReport")}),e().createElement("div",{className:"".concat(s,"-box")},e().createElement("div",{className:"".concat(s,"-box-header")},e().createElement("div",{className:"".concat(s,"-box-header-item-weight")},o("study.viewReport")),e().createElement("div",{className:"".concat(s,"-box-header-item")},o("evaluation.byMeasurement"),"\uFF1A",c.userName||"--"),e().createElement("div",{className:"".concat(s,"-box-header-item")},o("evaluation.reportTime"),"\uFF1A",(0,P.p6)(c.reportTime)||"--")),c.EvaDetails&&c.EvaDetails.length>0&&e().createElement(u,{source:c.EvaDetails}),e().createElement(v,{dataSource:c.EvaDetails,columns:I})))}}x.defaultProps={prefixCls:"historical-evaluation"};var R=(0,E.Z)()(x)},15778:function(S,h,t){"use strict";t.d(h,{IX:function(){return E},pb:function(){return f},zK:function(){return g},$9:function(){return y},w8:function(){return D},sm:function(){return m},nF:function(){return v}});var i=t(37055),e=t(10237);function E(a){var r=a.postId,n=a.rankId,u=i.ZP.personnelDevelope.getAbilityModelDetail(r);return e.WY.get({url:u,params:{rank_id:n}})}function f(a){var r=a.postId,n=i.ZP.personnelDevelope.getEvaluationResult(r);return e.WY.get({url:n,params:{evaluate_type:"otherPart"}})}function g(a){var r=a.project_ids,n=localStorage.getItem("uid"),u=i.ZP.personnelDevelope.getStudyProjectsInfo(n);return e.WY.get({url:u,params:{project_ids:r}})}function y(a){var r=a.post_id,n=a.page_num,u=i.ZP.personnelDevelope.recommendedCourse();return e.WY.get({url:u,params:{post_id:r,page_num:n}})}function D(a){var r=a.post_id,n=i.ZP.personnelDevelope.getHistoricalEva(r);return e.WY.get({url:n})}function m(a){var r=a.rank_id,n=a.passage_id,u=a.post_ids,P=i.ZP.personnelDevelope.postIntroductionList();return e.WY.post({url:P,data:{rank_id:r,passage_id:n,post_ids:u}})}function v(a){var r=a.post_id,n=a.plan_id,u=i.ZP.personnelDevelope.getHistoricalEvaDetails(r);return e.WY.get({url:u,params:{evaUserResult_id:n}})}}}]);
