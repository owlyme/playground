(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[9948],{26096:function($,B,a){"use strict";var E=a(30887),V=a(99210),N=a(62029),y=a(22385),I=a(31097),R=a(12924),h=a.n(R),C=a(71967),b=a.n(C),k=a(1164),J=e=>e.type==="more"?e.disabled?h().createElement(V.Z.Item,(0,N.Z)({},e,{key:e.key,disabled:!0}),e.tooltip?h().createElement(I.Z,{title:e.tooltip},h().createElement("p",{className:"cl-dropdown-menuitem"},e.title)):h().createElement("p",{className:"cl-dropdown-menuitem"},e.title)):e.link?h().createElement(V.Z.Item,(0,N.Z)({},e,{key:e.key}),h().createElement(k.Z,{to:e.link},h().createElement("p",{className:"cl-dropdown-menuitem"},e.title))):h().createElement(V.Z.Item,(0,N.Z)({},e,{key:e.key}),h().createElement("p",{className:"cl-dropdown-menuitem",onClick:e.click},e.title)):e.disabled?e.tooltip?h().createElement(h().Fragment,{key:e.key},h().createElement(I.Z,{title:e.tooltip},h().createElement("span",{className:"".concat(b().pointer," ").concat(b().disabled)},e.title))):h().createElement(h().Fragment,{key:e.key},h().createElement("span",{className:"".concat(b().pointer," ").concat(b().disabled)},e.title)):e.link?h().createElement(h().Fragment,{key:e.key},h().createElement(k.Z,{to:e.link},h().createElement("span",{className:"cl-pointer ".concat(b().pointer)},e.title))):h().createElement(h().Fragment,{key:e.key},h().createElement("span",{className:"cl-pointer ".concat(b().pointer),onClick:e.click},e.title));B.Z=J},30389:function($,B,a){"use strict";a.d(B,{Z:function(){return ee}});var E=a(62029),V=a(20228),N=a(11382),y=a(12924),I=a.n(y),R=a(91768),h=a(80991),C={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},b=a(62615),k=a(52670);class J extends I().Component{render(){var v=this.props,te=v.values,T=v.mode,z=v.onlyChooseDept,K=v.reserveUser,X=v.t,le=v.orgProps,Y=v.rangeAuth,U=v.projectId,S=v.onCancel,ae=v.onlyCreateUser;return I().createElement(h.l0,{className:"cl-form"},I().createElement(h.gN,(0,E.Z)({component:b.ww,displayType:"Custom",showSectitle:!1,name:"employeeRange",label:X("common.visibleRange"),defaultFieldList:te.employeeRange,validate:k.FI,mode:T,rangeAuth:Y,onlyChooseDept:z,onlyCreateUser:ae,orgProps:le,reserveUser:K,projectId:U,onCancel:S,qwTicketShow:!0},C)))}}var e=(0,R.Z)()(J),w=a(18329),Q=a(34773);class H extends I().Component{constructor(){super(...arguments);this.initRefFormik=v=>{this.refFormik=v},this.handleBeforeCreate=()=>{var v=this.refFormik;v.submitForm(),v.runValidations().then(te=>{if(!Object.keys(te).length){var T=v.state.values.employeeRange,z=(0,Q.b)(T.rangeList),K={qyWeChatVo:T.qyWeChatVo,id:this.props.actionId,isAll:T.rangeType,groupIds:T.rangeType===2?z.groupIds.join(","):"",departmentIds:T.rangeType===2?z.deptIds.join(","):"",userIds:T.rangeType===2?z.userIds.join(","):"",postIds:T.rangeType===2?z.postIds.join(","):"",clusterIds:T.rangeType===2?z.clusterIds.join(","):"",qy_we_chat_vo:T.qyWeChatVo};this.props.onCreate(K)}})},this.handleBeforeCancel=()=>{var v=this.props.onCancel;v()}}render(){var v=this.props,te=v.visible,T=v.initialParams,z=v.isLoading,K=v.tipInfo,X=v.mode,le=v.onlyChooseDept,Y=v.reserveUser,U=Y===void 0?[]:Y,S=v.t,ae=v.title,M=v.orgProps,O=v.rangeAuth,A=v.projectId,Z=v.onCancel,W=v.onlyCreateUser,x=v.size;return z?I().createElement(N.Z,{size:"large"}):I().createElement(w.ZP,{wrapClassName:"cl-employee-selector-modal",visible:te,title:ae||S("component.changeUser"),okText:S("common.ok"),cancelText:S("common.cancel"),size:x,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},z?I().createElement(N.Z,{size:"large"}):I().createElement(h.J9,{ref:this.initRefFormik,initialValues:T,render:q=>I().createElement(e,(0,E.Z)({},q,{mode:X,rangeAuth:O,orgProps:M,onlyChooseDept:le,onlyCreateUser:W,reserveUser:U,projectId:A,onCancel:Z}))}),K&&I().createElement("p",{style:{padding:"0 24px",wordBreak:"break-all",whiteSpace:"normal"}},K))}}H.defaultProps={visible:!1,initialParams:{employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[],cluster:[]}}},tipInfo:"",isLoading:!1,mode:["all","part"],onlyChooseDept:!1,onlyCreateUser:!1,orgProps:{},onCancel:()=>{},onCreate:()=>{},size:"middle"};var ee=(0,R.Z)()(H)},63848:function($,B,a){"use strict";var E=a(36877),V=a(32969),N=a(12924),y=a.n(N),I=a(91768),R=a(56130);class h extends y().PureComponent{constructor(){super(...arguments);this.onChange=(b,k)=>{this.props.onChange(b,k)}}render(){var b=this.props,k=b.value,J=b.classify,e=b.showLabel,w=b.className,Q=b.t,H=b.style;return y().createElement("div",{className:"classify-cascader ".concat(w)},e?y().createElement("span",{className:"classify-cascader-label"},Q("component.selectClassifyLabel")):null,y().createElement(V.Z,{changeOnSelect:this.props.changeOnSelect,className:"classify-cascader-select ".concat(w),options:J,onChange:this.onChange,placeholder:Q("component.selectClassifyLabel"),value:k,style:H,loadData:this.props.loadData}))}}h.defaultProps={showLabel:!0,changeOnSelect:!0,onChange:()=>{}},B.Z=(0,R.Z)((0,I.Z)()(h))},11449:function($,B,a){"use strict";a.d(B,{Z:function(){return ae}});var E=a(88986),V=a(33565),N=a(12924),y=a.n(N),I=a(3115),R=a(49111),h=a(19650),C=a(62029),b=a(57663),k=a(71577),J=a(91768),e=a(28216),w=a(37055),Q=a(10237);function H(M){var O=w.ZP.getHelpContentByMenuKey(),A={key:M};return Q.WY.get({url:O,params:A})}var ee=a(74228),ie=a.n(ee),v=a(1164),te=a(76466),T=a(38642);class z extends y().Component{constructor(O){var A;super(O);A=this,this.getHelpContentByMenuKey=()=>{var Z=this.props.defaultMenuKey;H(Z).then(W=>{var x=W.data,q=x.help_url,re=x.video_url;this.setState({videoUrl:re,helpUrl:q})})},this.handleOpenHelpUrl=Z=>{if((0,T.ve)()){window.open(Z,"_blank");return}v.Z.targetTo({path:Z,isExternalLink:!0})},this.handleOpenVideo=function(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.props.t("helpCenter.video");A.setState(x=>({resourcePlayInfo:(0,E.Z)((0,E.Z)({},x.resourcePlayInfo),{},{resourceInfo:{originUrl:Z,source:{FD:Z,OD:Z},contentType:"mp4"}}),previewInfo:(0,E.Z)((0,E.Z)({},x.previewInfo),{},{title:W,visible:!0,onCancel:A.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Z=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,E.Z)((0,E.Z)({},Z),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:O.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var O=this.state,A=O.helpUrl,Z=O.resourcePlayInfo,W=O.previewInfo,x=O.videoUrl,q=this.props.t;return y().createElement("div",{className:ie().helpCenter},x&&y().createElement(k.Z,{type:"link",className:ie()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(x)},q("helpCenter.video")),A&&y().createElement(k.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(A)},q("helpCenter.tutorial")),y().createElement(te.Z,(0,C.Z)({},Z,{previewInfo:W})))}}var K=M=>({defaultMenuKey:M.currentRoute.menuKey});z.defaultProps={defaultMenuKey:""};var X=(0,e.$j)(K)((0,J.Z)()(z));function le(M){var O=M.extra,A=localStorage.getItem("dingPersonnel"),Z=sessionStorage.getItem("dingPersonnel");return y().createElement(h.Z,null,O,A!=="dingPersonnel"&&Z!=="dingPersonnel"&&(0,T.eY)("COMMONEXTRA_HELP_CENTER")&&y().createElement(X,null))}var Y=le,U=a(4408);function S(M){var O=(0,N.useState)({helpCenter:(0,T.eY)("HEAD_HELP_CENTER_BUT")}),A=(0,V.Z)(O,1),Z=A[0],W=M.pageContainerParams,x=W===void 0?{}:W,q=M.noPadding,re=q===void 0?!1:q,oe=M.isPersonal,de=oe===void 0?!1:oe,ce=M.pageTitle,me=M.className,ue=me===void 0?"":me,ve={extra:Z.helpCenter?y().createElement(Y,{extra:x.extra}):x.extra},pe=(0,E.Z)((0,E.Z)({},x),ve);return y().createElement("div",{className:"page-container-content ".concat(re?"page-container-noPadding":""," ").concat(de?"page-container-content_personal_background":""," ").concat(ue)},ce&&y().createElement(U.Z,{title:ce}),de?y().createElement(I.Z,null,M.children):y().createElement(I.Z,pe,M.children))}var ae=S},61421:function($,B,a){"use strict";var E=a(12924),V=a.n(E),N=a(91768),y=a(18329),I=a(39979),R=a.n(I);class h extends V().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var b=localStorage,k=b.appType,J=this.props,e=J.visible,w=J.t,Q=J.groupUrl,H=Q===void 0?k==="e_app"?"".concat("https://oss.coolcollege.cn","/1789887436126556160.png"):k==="fs_app"?R():"":Q,ee=w("course.contactService");return V().createElement(y.ZP,{visible:e,width:"400",footer:null,bodyStyle:{maxHeight:"initial",minHeight:313,width:320},title:ee,onCancel:this.onCancel},e&&V().createElement("div",{className:"contact_service"},V().createElement("img",{src:H,alt:""}),V().createElement("div",{className:"tip"},k==="e_app"?w("course.contactGroup"):k==="fs_app"?w("course.contactGroupFs"):"")))}}B.Z=(0,N.Z)()(h)},95474:function($,B,a){"use strict";a.r(B),a.d(B,{default:function(){return _e}});var E=a(62029),V=a(22385),N=a(31097),y=a(20228),I=a(11382),R=a(88986),h=a(34792),C=a(48086),b=a(71194),k=a(57016),J=a(12924),e=a.n(J),w=a(91768),Q=a(28216),H=a(92592),ee=a(49101),ie=a(63185),v=a(9676),te=a(47673),T=a(4107),z=a(57663),K=a(71577),X=a(59239),le=a(55446),Y=a(18329),U=a(10237),S=a(37055),ae=a(6793),M={add:S.ZP.Live.addLiveRoom};class O extends e().Component{constructor(l){super(l);this.handleSubmit=()=>{var t=this.state.addData,i=this.props,d=i.onAddCbk,s=i.form,r=i.t;this.setState({hasSubmit:!0}),s.validateFields((n,o)=>{if(!n){var c=o.name,m=o.autoSave;t.name=c,t.save_to_resource=m?"yes":"no";var u=M.add();U.WY.post({url:u,data:t}).then(()=>{C.default.success(r("common.addSuccess")),d&&d("success")}).catch(f=>{var p=f.response.data.code;p==="live.40006"&&d&&d("success"),this.setState({hasSubmit:!1})})}})},this.handleCloseAddLiveModal=()=>{var t=this.props.onAddCbk;t&&t("cancel")},this.checkName=(t,i,d)=>{var s=this.props.t;if((0,ae.fy)(i)){d();return}d(s("live.addPlaceholder"))},this.state={addLiveModalConfig:{title:l.t("live.addLive"),size:"small",onCancel:this.handleCloseAddLiveModal},addData:{name:"",save_to_resource:"",max_viewer:100},autoSave:!0,name:"",hasSubmit:!1}}render(){var l=this.props,t=l.t,i=l.form,d=l.visible,s=l.Cls,r=i.getFieldDecorator,n=this.state,o=n.addLiveModalConfig,c=n.hasSubmit,m=e().createElement("div",null,e().createElement(K.Z,{key:"cancel",type:"default",onClick:this.handleCloseAddLiveModal},t("common.cancel")),e().createElement(K.Z,{key:"submit",type:"primary",disabled:c,onClick:this.handleSubmit},t("common.ok")));return e().createElement(Y.ZP,(0,E.Z)({className:"".concat(s,"__add-modal"),visible:d},o,{footer:m}),e().createElement("div",{className:"".concat(s,"__add-modal__body")},e().createElement(X.Z,null,e().createElement(X.Z.Item,{label:t("live.liveRoom"),required:!0,className:"".concat(s,"__add-modal__label")},r("name",{initialValue:"",rules:[{validator:this.checkName}]})(e().createElement(T.Z,{placeholder:t("live.addPlaceholder"),className:"add-post-group-input",maxLength:30}))),e().createElement(X.Z.Item,null,r("autoSave",{valuePropName:"checked",initialValue:!0})(e().createElement(v.Z,{className:"".concat(s,"__add-modal__checkbox")},t("live.autoSavePlayback")))))))}}var A=X.Z.create({name:"AddLiveModal"})((0,w.Z)()(O)),Z=a(1164),W=a(76651),x=a(80991),q=a(43859),re=T.Z.TextArea;class oe extends e().Component{constructor(){super(...arguments);this.handleChange=l=>{var t=l.target.value;this.props.onFieldChange(t)}}render(){var l=this.props.value;return e().createElement("div",{className:"practice-content"},e().createElement(re,{rows:10,value:l,onChange:this.handleChange,placeholder:"\u8BF7\u8F93\u5165\u76F4\u64AD\u63CF\u8FF0\uFF08\u9650\u5236140\u5B57\u7B26\uFF09",maxLength:140}))}}var de=(0,q.Z)((0,w.Z)()(oe)),ce={content:F=>{var l;return F||(l="\u8BF7\u8F93\u5165\u76F4\u64AD\u63CF\u8FF0"),l}},me={labelCol:{xs:{span:3},sm:{span:3}},wrapperCol:{xs:{span:20,offset:0},sm:{span:20,offset:0}}},ue=F=>({enterpriseId:F.user.enterpriseId});class ve extends e().Component{constructor(){super(...arguments);this.initRef=l=>{this.formRef=l}}componentDidMount(){this.props.onFormMounted(this.formRef)}render(){var l=this.props,t=l.initData,i=l.t;return e().createElement(x.J9,{ref:this.initRef,initialValues:t,onSubmit:this.props.onSubmit,render:()=>e().createElement(x.l0,null,e().createElement(x.gN,(0,E.Z)({name:"content",required:!0,label:i("live.liveDescribe"),component:de,displayType:"Custom",validate:ce.content},me)))})}}ve.defaultProps={initData:{},onFormMounted:()=>{}};var pe=(0,Q.$j)(ue)((0,w.Z)()(ve)),ye={};class Ce extends e().Component{constructor(l){super(l);this.onCancel=()=>{this.setState({showForm:!1});var t=this.props.onCancel;t&&this.props.onCancel()},this.onOk=()=>{ye.submitForm()},this.submit=t=>{this.props.onOk(t),this.onCancel()},this.onFormMounted=t=>{ye=t},this.state={initData:{content:""},showForm:!1}}componentDidUpdate(l){l.visible!==this.props.visible&&this.props.visible&&this.setState({showForm:!0})}render(){var l=this.props,t=l.t,i=l.createUserId,d={title:t("live.addDescribe"),okText:t("common.ok"),cancelText:t("common.cancel"),size:"medium",destroyOnClose:!0,maskClosable:!1};return e().createElement(Y.ZP,(0,E.Z)({},d,{visible:this.props.visible,onCancel:this.onCancel,onOk:this.onOk}),e().createElement("div",{className:"add-practice"},this.state.showForm?e().createElement(pe,{onFormMounted:this.onFormMounted,onSubmit:this.submit,initData:this.state.initData,createUserId:i}):null,e().createElement("div",{className:"add-practice__tip"},t("live.describeTip"))))}}Ce.defaultProps={visible:!1,editInfo:{},onCancel:()=>{},onOk:()=>{}};var De=(0,w.Z)()(Ce);class Ee extends e().Component{constructor(){super(...arguments);this.state={describeVisible:!1},this.handleStartLive=()=>{var l=this.props,t=l.onStartLive,i=l.liveCardInfo;t&&t(i)},this.handleShowShareModal=()=>{var l=this.props,t=l.onShowShareModal,i=l.liveCardInfo;t&&t(i)},this.handleDelete=()=>{var l=this.props,t=l.onDelete,i=l.liveCardInfo;t&&t(i)},this.handleToMonitor=()=>{var l=this.props.liveCardInfo;Z.Z.targetTo({path:"/training/learning/task/liveRoom/monitor?id=".concat(l.id)})},this.viewLive=()=>{var l=this.props.liveCardInfo;W.m8.push("/training/learning/task/liveRoom/watch?link=".concat(l.view_link,"&roomId=").concat(l.id))},this.handleDescribe=()=>{this.setState({describeVisible:!0})},this.submitDescribe=l=>{var t=this.props.liveCardInfo,i=S.ZP.Live.liveDescribe(t.id),d={description:l.content};U.WY.post({url:i,data:d}).then(s=>{var r=s.data,n=r.message,o=r.code;o==="0"?s.data.data.success==="0"?(C.default.success("\u6DFB\u52A0\u76F4\u64AD\u63CF\u8FF0\u6210\u529F"),this.handleStartLive()):C.default.warning("\u5F53\u524D\u76F4\u64AD\u95F4\u5DF2\u88AB\u5360\u7528"):C.default.warning(n),this.props.forceRender()})},this.closeDescribe=()=>{this.setState({describeVisible:!1})},this.renderHeader=()=>{var l=this.props,t=l.prefixCls,i=l.liveCardInfo,d=l.t,s="".concat(t,"__header");return e().createElement("h1",{className:s},e().createElement("div",{className:"".concat(s,"__left")},i.name),i.show==="1"?e().createElement("div",{className:"".concat(s,"__live__right")},d("live.liveing")):e().createElement("div",{className:"".concat(s,"__live__leisure")},d("live.leisure")))},this.renderBody=()=>{var l=this.props,t=l.prefixCls,i=l.liveCardInfo,d=l.t,s="".concat(t,"__body");return e().createElement("div",{className:s},e().createElement("div",{className:"".concat(s,"__creater")},d("common.creator"),"\uFF1A",i.create_user),i.show==="1"&&e().createElement("div",{className:"".concat(s,"__view")},e().createElement(K.Z,{type:"primary",onClick:this.viewLive},d("live.viewLive"))))},this.renderFooter=()=>{var l=this.props,t=l.t,i=l.prefixCls,d=l.shouldRenderShareBtn,s=l.shouldRenderDeleteBtn,r=l.shouldRenderStartBtn,n=l.liveCardInfo,o=l.quotaDuration,c=this.state.describeVisible,m="".concat(i,"__footer");return e().createElement("div",{className:m},e().createElement("div",{className:"".concat(m,"__left")}),e().createElement("div",{className:"".concat(m,"__right")},e().createElement("div",{className:"".concat(m,"__back"),onClick:this.handleToMonitor},t("live.lookBack")),d?e().createElement("div",{className:"".concat(m,"__share"),onClick:this.handleShowShareModal},t("common.share")):null,s&&n.show==="0"?e().createElement("div",{className:"".concat(m,"__delete"),onClick:this.handleDelete},t("common.delete")):null,r&&n.show==="0"?o>0?e().createElement("span",{className:"".concat(m,"__livebtn"),onClick:this.handleDescribe},t("live.startLive")):e().createElement(N.Z,{placement:"top",title:t("live.rechangeTips")},e().createElement("span",{className:"".concat(m,"__left__disabled ").concat(m,"__livebtn")},t("live.startLive"))):null),e().createElement(De,{visible:c,onOk:this.submitDescribe,onCancel:this.closeDescribe}))}}render(){var l=this.props.prefixCls;return e().createElement("div",{className:l},e().createElement("div",{className:"".concat(l,"__main")},e().createElement("div",{className:"".concat(l,"__top")},this.renderHeader(),this.renderBody()),this.renderFooter()))}}Ee.defaultProps={prefixCls:"cl-liveCard",liveCardInfo:{},shouldRenderShareBtn:!0,shouldRenderDeleteBtn:!0,shouldRenderStartBtn:!0,onStartLive:()=>{},onShowShareModal:()=>{},onDelete:()=>{}};var Ze=(0,w.Z)()(Ee),Se=a(57497),$e=a(14781),Re=a(53431),et=a(59250),Le=a(13013),tt=a(30887),he=a(99210),at=a(77576),ke=a(59314),ne=a(57361),st=a(43358),Ie=a(34041),we=a(9754),j=a.n(we),Ue=a(84391),be=a(57254),Ne=a(78138),Me=a.n(Ne),ge=a(96486),P=a(86726),se=a(26096);class xe extends e().PureComponent{constructor(l){super(l);this.moreOperate=(t,i)=>{var d=this.props,s=d.record,r=d.t,n=t.map(o=>{switch(o.type){case"ding_project_data":return e().createElement(se.Z,{type:i,key:"ding_project_data",click:this.props.lookDetail,title:r("common.data")});case"ding_set_visible":return e().createElement(se.Z,{type:i,key:"ding_set_visible",click:this.props.clickVisibleRange,title:r("common.visibleRange")});case"ding_record_live":return e().createElement(se.Z,{type:i,key:"ding_record_live",click:this.props.replay,title:r("ddLive.lookReplay")});case"ding_start_live":return e().createElement(se.Z,{type:i,key:"ding_start_live",click:this.props.startLive,title:r("live.startLive")});case"ding_copy_link":return e().createElement(se.Z,{type:i,key:"ding_copy_link",click:this.props.copyLink,title:r("registerLogin.copyLink")});case"ding_edit_live":return e().createElement(se.Z,{type:i,key:"ding_edit_live",link:"/training/learning/task/liveRoom/editDdLive?courseId=".concat(s.courseId,"&from=manage"),title:r("common.edit")});case"delete_live":return e().createElement(se.Z,{type:i,key:"delete_live",click:this.props.liveDelete,title:r("common.delete")});default:return null}});return i==="more"?e().createElement(he.Z,null,n):n},this.state={actions:l.actions}}render(){var l=this.state.actions,t=this.props.record,i=[{type:"ding_project_data",visible:(0,P.H3)("ding_project_data",l)&&t.liveStatus!=="expired"},{type:"ding_set_visible",visible:(0,P.H3)("ding_set_visible",l)&&t.liveStatus!=="expired"},{type:"ding_edit_live",visible:(0,P.H3)("ding_edit_live",l)&&t.liveStatus!=="live"&&t.liveStatus!=="expired"},{type:"ding_record_live",visible:(0,P.H3)("ding_record_live",l)&&t.liveStatus==="end"&&t.liveStatus!=="expired"},{type:"ding_start_live",visible:(0,P.H3)("ding_start_live",l)&&t.liveStatus==="prepartion"&&t.liveStatus!=="expired"},{type:"ding_copy_link",visible:(0,P.H3)("ding_copy_link",l)&&t.liveStatus!=="expired"},{type:"delete_live",visible:(0,P.H3)("delete_live",l)&&t.liveStatus!=="live"}],d;d=i.filter(n=>n.visible);var s=[],r=[];if(d.length>1)r=[d[0]],s=[...d.slice(1)];else if(d.length===1)r=[d[0]];else return"/";return e().createElement("div",{className:"cl-table__cell-action"},r.some(n=>n.visible)?this.moreOperate(r):this.moreOperate(s),r.some(n=>n.visible)&&s.some(n=>n.visible)?e().createElement(e().Fragment,null,e().createElement("span",{className:"cl-pointer-divide"}),e().createElement(Le.Z,{overlay:this.moreOperate(s,"more")},e().createElement("span",{className:"cl-pointer"},this.props.t("common.more")," ",e().createElement(be.Z,null)))):null)}}var Ve=(0,w.Z)()(xe),Oe=a(63848),Ae=a(30389),Ke=a(58546),Fe=a(36202),We=a(31457),Be=Ie.Z.Option,ze=T.Z.Search,G={getTableList:S.ZP.DdLive.getLiveList,setBatchEmployee:S.ZP.CourseManageList.setBatchEmployee,setClassify:S.ZP.CourseManageList.setClassify,getLiveDetial:S.ZP.DdLive.getLiveDetail,deleteLive:S.ZP.DdLive.deleteLive,liveCourseExport:S.ZP.DdLive.liveCourseExport,setTop:S.ZP.CourseManageList.setTop,removeTop:S.ZP.CourseManageList.removeTop,checkCourseAnchor:S.ZP.DdLive.checkCourseAnchor};class Je extends e().Component{constructor(l){var t;super(l);t=this,this.getTableList=(0,ne.Z)(j().mark(function s(){var r,n,o,c,m,u,f,p,L,g;return j().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return r=t.state,n=r.classify,o=r.pageSize,c=r.current,m=r.keyword,u=r.liveStatus,f={pageSize:o,pageNum:c},m&&(f.keyword=m),(0,ge.isEmpty)(n)||(f.classifyId=n[n.length-1]),u.value!=="all"&&(f.liveStatus=u.value),t.setState({isLoading:!0}),p=G.getTableList(),_.next=9,U.WY.get({url:p,params:f});case 9:L=_.sent,g=L.data.data,t.setState({pageTotal:g.total,tableList:g.list,isLoading:!1}),t.isMultiple&&t.setState({selectedRowKeys:[]});case 13:case"end":return _.stop()}},s)})),this.getTableColumn=()=>{var s=this.props.t,r=[{title:s("common.name"),dataIndex:"title",className:"study_project_width",fixed:this.props.appType==="wx_app"?!1:"left",width:120},{title:s("learning.learningProjectAddCategory"),dataIndex:"classifyName",width:80,render:n=>e().createElement("div",null,n||this.props.t("myExamTask.noResult"))},{title:s("common.visibleRange"),dataIndex:"isAll",width:80,render:n=>s(n===1?"common.allCompany":"setting.partlyVisible")},{title:s("ddLive.liveTime"),dataIndex:"startTime",render:n=>Me()(parseInt(n)).format("YYYY-MM-DD HH:mm"),width:150},{title:s("ddLive.teacher"),dataIndex:"teacherName",width:80,render:n=>n||"--"},{title:s("courseManage.rewardCredits"),dataIndex:"credit",width:80,render:n=>"+".concat(n||0)},{title:s("course.viewers"),dataIndex:"uv",width:80},{title:s("ddLive.watchTimes"),dataIndex:"pv",width:80},{title:s("common.thumbUpfor"),dataIndex:"praiseCount",width:80},{title:s("common.comments"),dataIndex:"messageCount",width:80},{title:s("common.status"),dataIndex:"liveStatus",width:80,render:n=>this.state.liveStatusOptions.find(o=>o.value===n).label},{title:s("courseManage.topping"),dataIndex:"isTop",key:"isTop",width:80,render:(n,o)=>e().createElement(ke.Z,{checked:n==="true",onChange:c=>this.handleSetTop({isChecked:c,record:o})})},{title:this.props.t("common.operate"),width:100,fixed:"right",render:(n,o)=>e().createElement(Ve,{actions:this.state.actions,record:o,lookDetail:()=>this.lookDetail(o),clickVisibleRange:()=>this.clickVisibleRange(o),editDdLive:()=>this.editDdLive(o),replay:()=>this.replay(o),startLive:()=>this.replay(o,!0),copyLink:()=>this.copyLink(o),liveDelete:()=>this.liveDelete(o)}),onCell:()=>({style:{minWidth:120}})}];return r},this.liveDelete=s=>{var r=this.props.t,n=this.state.selectedRowKeys;k.Z.confirm({title:r("common.tip"),content:r("live.liveDeleteTip"),onOk:function(){var o=(0,ne.Z)(j().mark(function m(){var u,f,p;return j().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return s&&s.courseId?u=s.courseId:u=n.join(","),f=G.deleteLive(),g.next=4,U.WY.post({url:f,data:{courseIdList:u}});case 4:p=g.sent,p.data.code===2e5&&(C.default.success(r("common.deleteSuccess")),t.getTableList());case 6:case"end":return g.stop()}},m)}));function c(){return o.apply(this,arguments)}return c}()})},this.handleSetTop=s=>{var r=s.isChecked,n=s.record;U.qg.post({url:r?G.setTop():G.removeTop(),data:{id:n.courseId}}).then(o=>{var c=o.data,m=c.code,u=c.msg;m===0?(C.default.success(this.props.t("study.updateSuccess")),this.getTableList()):C.default.warning(u)})},this.copyLink=s=>{var r=this.props.t,n=s.jumpUrl,o=document.createElement("input");o.setAttribute("value",n),document.body.appendChild(o),o.select(),document.execCommand("Copy"),C.default.success(r("exam.copySucceed")),document.body.removeChild(o)},this.lookDetail=s=>{var r=this.state.actions,n=(0,P.H3)("ding_start_live",r)&&s.liveStatus==="prepartion",o=(0,P.H3)("ding_record_live",r)&&s.liveStatus==="end";W.m8.push({pathname:"/training/learning/task/liveRoom/liveDetail",query:{courseId:s.courseId,showStartLive:n,showReplayLive:o}})},this.replay=function(){var s=(0,ne.Z)(j().mark(function r(n,o){var c,m,u,f,p;return j().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(c=t.props.t,m=navigator.userAgent,!m.includes("DingTalk")){g.next=14;break}if(!o){g.next=11;break}return u=G.checkCourseAnchor(),g.next=7,U.WY.get({url:u,params:{courseId:n.courseId}});case 7:return f=g.sent,p=(0,ge.get)(f,"data.data.isCourseAnchor"),p?dd.biz.util.openLink({url:n.liveUrl}):C.default.info(c("ddLive.anchorInfo")),g.abrupt("return");case 11:dd.biz.util.openLink({url:n.jumpUrl}),g.next=15;break;case 14:C.default.info(c("ddLive.ddInfo"));case 15:case"end":return g.stop()}},r)}));return function(r,n){return s.apply(this,arguments)}}(),this.editDdLive=s=>{W.m8.push({pathname:"/training/learning/task/liveRoom/editDdLive",query:{courseId:s.courseId}})},this.addDdLive=()=>{W.m8.push({pathname:"/training/learning/task/liveRoom/editDdLive"})},this.clickVisibleRange=function(){var s=(0,ne.Z)(j().mark(function r(n){var o,c,m,u;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(o=t.state.selectedRowKeys,!(n&&n.courseId)){p.next=12;break}return t.isMultiple=!1,t.selectedCourseIds=[n.courseId],c=G.getLiveDetial(),p.next=7,U.WY.get({url:c,params:{courseId:n.courseId,appId:"cool"}});case 7:m=p.sent,u=m.data.data,t.setState({employeeProps:{visible:!0,initialParams:{employeeRange:{rangeType:u.isAll,rangeList:{dept:u.departmentList||[],post:u.postList||[],group:u.groupList||[],user:u.userList||[]}}}}}),p.next=15;break;case 12:t.isMultiple=!0,t.selectedCourseIds=o,t.setState(L=>({employeeProps:(0,R.Z)((0,R.Z)({},L.employeeProps),{},{visible:!0})}));case 15:case"end":return p.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),this.handleEmployeeCancel=()=>{this.setState({employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}}})},this.handleEmployeeOk=s=>{var r=this.props.t,n=this.selectedCourseIds,o=s.isAll,c=s.departmentIds,m=s.groupIds,u=s.postIds,f=s.userIds;U.WY.post({url:G.setBatchEmployee(),data:{course_ids:n.join(","),department_ids:c,group_ids:m,is_all:o,post_ids:u,user_ids:f}}).then(()=>{C.default.success(r("personal.batchSetRangeSuccess")),this.getTableList()}),this.handleEmployeeCancel()},this.classifyChange=s=>{this.setState({current:1,classify:s},()=>{this.getTableList()})},this.pageChange=s=>{this.setState({current:s},()=>{this.getTableList()})},this.pageSizeChange=function(){var s=(0,ne.Z)(j().mark(function r(n,o){return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:t.setState({current:1,pageSize:o},()=>{t.getTableList()});case 1:case"end":return m.stop()}},r)}));return function(r,n){return s.apply(this,arguments)}}(),this.statusChange=function(){var s=(0,ne.Z)(j().mark(function r(n){return j().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t.setState({current:1,liveStatus:n},()=>{t.getTableList()});case 1:case"end":return c.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),this.onSearch=s=>{this.setState({current:1,keyword:s},()=>{this.getTableList()})},this.onSelectChange=s=>{this.selectedCourseIds=s,this.setState({selectedRowKeys:s})},this.actionChangeClassify=()=>{this.isMultiple=!0,this.setState({classifyProps:{visible:!0}})},this.handleCategoryOk=s=>{var r=s.node,n=this.props.t,o=this.selectedCourseIds,c=r.id;c&&o.length>0&&U.qg.post({url:G.setClassify(),data:{course_ids:o.join(","),classify_id:c}}).then(()=>{C.default.success(n("course.setCourseClassifySuccess")),this.getTableList()}),this.handleCategoryCancel()},this.handleCategoryCancel=()=>{this.setState({classifyProps:{visible:!1}})},this.handleMenuClick=s=>{this[s.key]()},this.renderMenu=()=>{var s=this.props.t,r=this.state.actions;return e().createElement(he.Z,{onClick:this.handleMenuClick},(0,P.H3)("ding_set_visible",r)&&e().createElement(he.Z.Item,{key:"clickVisibleRange"},s("common.visibleRange")),(0,P.H3)("delete_live",r)&&e().createElement(he.Z.Item,{key:"liveDelete"},s("common.delete")))},this.headerTitle=()=>{var s=this.props.t,r=this.state,n=r.actions,o=r.selectedRowKeys;return e().createElement(e().Fragment,null,(0,P.H3)("add_ding_live",n)&&e().createElement(K.Z,{onClick:this.addDdLive,type:"primary",icon:e().createElement(ee.Z,null),style:{marginRight:10}},s("common.add")),(0,P.H3)("export_ding_live",n)&&e().createElement(K.Z,{className:"ant-btn-background-ghost",type:"primary",style:{marginRight:10},onClick:this.handleDownload,icon:e().createElement(Ue.Z,null)},s("personal.exportData")),(0,P.H3)("ding_adjustment_classification",n)&&e().createElement(K.Z,{onClick:this.actionChangeClassify,disabled:o.length===0,style:{marginRight:10}},s("ddLive.adjustClassfiy")),e().createElement(Le.Z,{disabled:o.length===0,overlay:this.renderMenu},e().createElement(K.Z,null,s("ddLive.moreOperate")," ",e().createElement(be.Z,null))))},this.handleDownload=()=>{var s=G.liveCourseExport(),r=this.state,n=r.keyword,o=r.liveStatus,c=r.classify,m={};n&&(m.keyword=n),(0,ge.isEmpty)(c)||(m.classifyId=c[c.length-1]),o.value!=="all"&&(m.liveStatus=o.value),U.WY.get({url:s,params:m}).then(u=>{u.data.code===2e5&&((0,We.Pp)(this.props),C.default.success(this.props.t("study.compoundSucceed")))})},this.toolBarRender=()=>{var s=this.props.t;return e().createElement(ze,{style:{float:"right"},className:"user-panel-monitor-filter-search",placeholder:s("common.searchPlaceholder"),onSearch:this.onSearch,allowClear:!0,maxLength:400})};var i=l.t,d=l.modules;this.state={classifyProps:{visible:!1},classify:[],isLoading:!1,tableList:[],pageTotal:200,pageSize:20,current:1,liveStatus:{value:"all",label:i("personal.allStates")},keyword:"",selectedRowKeys:[],liveStatusOptions:[{value:"all",label:i("personal.allStates")},{value:"prepartion",label:i("common.notStarted")},{value:"live",label:i("live.liveing")},{value:"end",label:i("common.ended")},{value:"expired",label:i("ddLive.expired")}],employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}},actions:(0,P.V9)(l.menuKey,d)}}componentDidMount(){this.getTableList()}render(){var l=this.props.t,t=this.state,i=t.pageTotal,d=t.classifyProps,s=t.current,r=t.classify,n=t.tableList,o=t.liveStatusOptions,c=t.liveStatus,m=t.employeeProps,u=t.selectedRowKeys,f=t.isLoading,p=(0,R.Z)((0,R.Z)({},S.XE.INITIAL_PAGINATION),{},{current:s,total:i,onChange:this.pageChange,onShowSizeChange:this.pageSizeChange}),L=this.getTableColumn(),g={selectedRowKeys:u,onChange:this.onSelectChange,getCheckboxProps:D=>({disabled:D.liveStatus==="live"})};return e().createElement("div",{className:"dd-live-table"},e().createElement("div",{className:"set-padding"},e().createElement("input",{id:"copyInput",style:{visibility:"hidden",position:"absolute"}}),e().createElement(Oe.Z,{onChange:this.classifyChange,queryType:"course_manage",unclassified:"true",value:r,showLabel:!1,className:"cl-search-normal-width"}),e().createElement(Ie.Z,{className:"cl-search-normal-width",placeholder:l("course.chooseStatus"),onChange:this.statusChange,labelInValue:!0,value:c,style:{marginLeft:15}},o.map(D=>e().createElement(Be,{key:D.value,value:D.value},D.label)))),e().createElement("div",{className:"table-part"},e().createElement(Fe.f,{style:{width:"100%",height:"100%",overflow:"hidden"},scroll:{x:"max-content",y:"100%"},headerTitle:this.headerTitle(),toolBarRender:this.toolBarRender,columns:L,rowKey:D=>D.courseId,dataSource:n,pagination:!1,loading:f,rowSelection:g,tableUUID:"73ad7db9-6cb2-43d2-86b0-768567051bbc"})),e().createElement("div",{className:"pagination-wrap"},e().createElement(Re.Z,p)),e().createElement(Ae.Z,(0,E.Z)({},m,{title:l("courseManage.setTheVisibility"),mode:["all","part","private"],orgProps:{title:l("component.chooseVisibleScope")},isLoading:!m.visible,onCancel:this.handleEmployeeCancel,onCreate:this.handleEmployeeOk})),e().createElement(Ke.Z,(0,E.Z)({isRoot:!0},d,{title:l("personal.chooseClassify"),onCancel:this.handleCategoryCancel,onOk:this.handleCategoryOk})))}}var Qe=(0,Q.$j)(F=>({appType:F.user.appType,modules:F.user.modules}))((0,w.Z)()(Je)),je=a(87312),qe=a(11449),He=a(61421),Te=a(84874),Xe=a(4408),fe={getTableList:S.ZP.Live.getLiveRoomsList,delete:S.ZP.Live.deleteLiveRoom,getLiveLink:S.ZP.Live.getLiveLink},Ye=F=>({userInfo:F.user});class Pe extends e().Component{constructor(l){super(l);this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initData=()=>{this.initTableList()},this.initTableList=()=>{var t=fe.getTableList();this.setState({tableLoading:!0}),U.WY.get({url:t,params:this.state.params}).then(i=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:i.data.data.rooms,liveData:i.data.data})},300)})},this.handleShowAddModal=()=>{this.setState({addModalVisible:!0})},this.addLiveCbk=t=>{t==="success"&&this.initData(),this.setState({addModalVisible:!1})},this.handleDelete=t=>{var i=this.props.t;k.Z.confirm({title:i("common.tip"),content:i("live.liveDeleteTip"),onOk:()=>{var d=fe.delete(t.id);U.WY.post({url:d}).then(s=>{var r=s.data,n=r.message,o=r.data;o.deleted==="true"?(C.default.success(i("common.deleteSuccess")),this.initData()):C.default.warning(n)}).catch(()=>{this.initData()})}})},this.handleShowShareModal=t=>{var i=this.state.shareModalConfig,d=t.id,s=t.view_qr_link,r=t.view_link;this.handleShowQR(d,s).then(()=>{this.setState({viewLink:r,shareModalConfig:(0,R.Z)((0,R.Z)({},i),{},{visible:!0}),downloadImgInfo:t})})},this.handleShowQR=(t,i)=>{var d=this.props.t,s="/pages/messageRedirect/messageRedirect?flag=live&mobileLink=".concat(i,"&roomId=").concat(t),r=encodeURIComponent(s),n="dingtalk://dingtalkclient/action/open_micro_app?corpId=$CORPID$&appId=".concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(r);return new Promise(o=>{H.toDataURL(n,{width:500}).then(c=>{this.setState({qrcodeUrl:c}),o()}).catch(()=>{C.default.error(d("integralMall.qrCodeFailed"))})})},this.handleStart=t=>{var i=fe.getLiveLink(t.id);U.WY.get({url:i}).then(d=>{var s=d.data.data.broadcast_link;window.open(s)}).catch(()=>{this.initData()})},this.handleCloseShareModal=()=>{var t=this.state.shareModalConfig;this.setState({shareModalConfig:(0,R.Z)((0,R.Z)({},t),{},{visible:!1})})},this.handleDownload=()=>{var t=document.getElementById("canvas"),i=this.state,d=i.downloadImgInfo,s=i.qrcodeUrl,r=this.props,n=r.downloadImgName,o=n===void 0?d.name:n,c=r.tipInfo,m=c===void 0?d.name:c,u=r.downloadImgStyle,f=u===void 0?{width:750,height:886}:u,p=new Image;p.crossOrigin="anonymous",p.src=s,p.onload=function(){var L=t.getContext("2d");L.textAlign="center",L.fillStyle="#fff",L.fillRect(0,0,f.width,f.height),L.drawImage(p,185,217,381,381),L.font="42px bold serif",L.fillStyle="#4F4F4F",L.fillText("\u76F4\u64AD\u5206\u4EAB",375,110),L.fillText(m,375,660,512);var g=t.toDataURL("image/jpeg"),D=document.createElement("a");D.setAttribute("href",g),D.setAttribute("download","".concat(o,".jpg")),document.body.insertAdjacentElement("beforeend",D),D.click(),D.remove()}},this.handleCopy=()=>{var t=document.getElementById("link");t.select(),document.execCommand("Copy"),C.default.success(this.props.t("live.copySuccess"))},this.handleRecharge=()=>{var t=this.state,i=t.isDingTalk,d=t.groupUrl;i?window.location.href=d:this.setState({qrCodeModalVisible:!0})},this.handleCloseQrcode=()=>{this.setState({qrCodeModalVisible:!1})},this.addNewCard=()=>{var t=this.props.t,i=this.state,d=i.allowActions,s=i.liveData,r=(0,P.H3)("add_live",d),n=s.quota_remained;return!r||n===0?null:e().createElement("div",{className:"cl-liveCard cl-liveCard-new",onClick:this.handleShowAddModal},e().createElement(ee.Z,null),t("lecturerPage.newLecturer"))},this.renderTaskList=()=>{var t=this.props.prefixCls,i=this.props.userInfo.enterpriseId,d=this.state,s=d.tableList,r=d.tableLoading,n=d.allowActions,o=d.liveData,c=o.quota_duration,m=o.quota_remained,u="".concat(t,"__content__tasks cl-flearfix"),f=(0,P.H3)("share_live",n),p=(0,P.H3)("delete_live",n),L=(0,P.H3)("start_live",n),g=(0,P.H3)("add_live",n),D;return r?D=e().createElement(I.Z,{size:"large"}):!s.length&&(!g||g&&m===0)?D=e().createElement(je.Z,{className:"no-task-tip"}):s.length&&(D=s.map(_=>e().createElement(Ze,{key:_.id,enterpriseId:i,onDelete:this.handleDelete,forceRender:this.initData,onShowShareModal:this.handleShowShareModal,onStartLive:this.handleStart,shouldRenderShareBtn:f,shouldRenderDeleteBtn:p,shouldRenderStartBtn:L,liveCardInfo:(0,R.Z)({},_),quotaDuration:c}))),e().createElement("div",{className:u},this.addNewCard(),D)},this.renderTips=()=>{var t=this.props,i=t.t,d=t.prefixCls,s="".concat(d,"__footer__tips__icon__tip__content");return e().createElement("div",null,e().createElement("div",{className:s},e().createElement("span",null,"1")," ",e().createElement("p",null,i("live.preferredTips1"))),e().createElement("div",{className:s},e().createElement("span",null,"2")," ",e().createElement("p",null,i("live.preferredTips2"))),e().createElement("div",{className:s},e().createElement("span",null,"3")," ",e().createElement("p",null,i("live.preferredTips3"))),e().createElement("div",{className:s},e().createElement("span",null,"4")," ",e().createElement("p",null,i("live.preferredTips4"))),e().createElement("div",{className:s},e().createElement("span",null,"5")," ",e().createElement("p",null,i("live.preferredTips5"))))},this.onChangeTab=t=>{this.setState({liveType:t})},this.getTabList=()=>{var t=this.props.t;return(0,Se.D)()?[{tab:t("ddLive.ddLive"),key:"ddLive"},{tab:t("ddLive.oldLive"),key:"oldLive"}]:[{tab:t("live.live"),key:"oldLive"}]},this.state={allowActions:(0,P.V9)("liveRoomNew",this.props.userInfo.modules),params:{page_number:1,page_size:10},tableLoading:!0,tableList:[],shareModalConfig:{size:"small",visible:!1,title:l.t("live.audienceLink"),onCancel:this.handleCloseShareModal,footer:null},viewLink:"",qrcodeUrl:"",addModalVisible:!1,liveData:{},qrCodeModalVisible:!1,isDingTalk:!0,groupUrl:"",liveType:"ddLive",radioList:["1","2"],radioValue:1}}componentDidMount(){var l=navigator.appVersion,t="DingTalk";this.setState({isDingTalk:l.indexOf(t.toLowerCase())>-1},()=>{}),this.initData()}render(){var l=this.props,t=l.prefixCls,i=l.t,d=this.state,s=d.liveData,r=d.addModalVisible,n=d.shareModalConfig,o=d.qrcodeUrl,c=d.qrCodeModalVisible,m=d.groupUrl,u=d.downloadImgStyle,f=u===void 0?{width:750,height:886}:u,p=d.liveType,L=s.quota_duration,g=s.total_number,D=s.quota_remained,_=this.getTabList();return e().createElement(qe.Z,{pageContainerParams:{header:{title:i("live.live")},tabList:_,onTabChange:Ge=>{this.onChangeTab(Ge)}}},e().createElement(Xe.Z,{title:i("live.live")}),p==="ddLive"&&(0,Se.D)()?e().createElement("div",{className:t},e().createElement(Qe,{menuKey:"liveRoomNew"})):e().createElement("div",{className:t},e().createElement("div",{className:"".concat(t,"__listQueryRow")},e().createElement("div",{className:"".concat(t,"__listQueryRow__left")},e().createElement("div",{className:"".concat(t,"__listQueryRow__left__total")},e().createElement("span",{className:"live-title"},i("live.maxCreateRoom")),"\uFF1A",e().createElement("span",null,g)),e().createElement("div",{className:"".concat(t,"__listQueryRow__left__remained")},e().createElement("span",{className:"live-title"},i("live.remain")),"\uFF1A",e().createElement("span",null,D)),e().createElement("div",{className:"".concat(t,"__listQueryRow__left__remain-time")},e().createElement("span",{className:"live-title"},i("live.remainDuration")),"\uFF1A",L>120?e().createElement("span",{className:"".concat(t,"__listQueryRow__left__remain-time__common")},L,i("common.minutes")):e().createElement("span",{className:"".concat(t,"__listQueryRow__left__remain-time__danger")},L,i("common.minutes")),e().createElement(N.Z,{placement:"top",title:i("live.durationTips")},e().createElement("span",{className:"".concat(t,"__listQueryRow__left__remain-time__icon")},e().createElement(Te.Z,{iconClass:"icon-icon_attentionx1",size:"14px"})))),e().createElement("div",{className:"".concat(t,"__listQueryRow__left__pay"),onClick:this.handleRecharge},i("live.recharge")))),e().createElement("div",{className:"".concat(t,"__content")},this.renderTaskList(),e().createElement("div",{className:"".concat(t,"__footer")},e().createElement("div",{className:"".concat(t,"__footer__tips")},i("live.suggestTips1"),e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1792477786154340352.png"),alt:""}),i("live.suggestTips2"),e().createElement("span",{className:"".concat(t,"__footer__tips__icon")},e().createElement(Te.Z,{iconClass:"icon-icon_attentionx1",size:"14px"}),e().createElement("div",{className:"".concat(t,"__footer__tips__icon__tip")},this.renderTips()),e().createElement("span",{className:"".concat(t,"__footer__tips__icon__arrow")}))))),r?e().createElement(A,{onAddCbk:this.addLiveCbk,visible:r,Cls:t}):null,e().createElement(Y.ZP,(0,E.Z)({className:"".concat(t,"__share-modal")},n),e().createElement("div",{className:"".concat(t,"__share-modal__body")},e().createElement("div",{className:"".concat(t,"__share-modal__mobiles")},e().createElement("div",{className:"".concat(t,"__share-modal__label")},i("live.qrCode")),e().createElement("div",{className:"".concat(t,"__share-modal__mobiles__content")},e().createElement("img",{className:"".concat(t,"__share-modal__mobiles__content__img"),src:o,alt:""}),e().createElement("span",{className:"".concat(t,"__share-modal__mobiles__download"),onClick:this.handleDownload},i("personal.download")))),e().createElement("canvas",{style:{display:"none"},id:"canvas",width:f.width,height:f.height}))),e().createElement(He.Z,{visible:c,onCancel:this.handleCloseQrcode,groupUrl:m})))}}Pe.defaultProps={prefixCls:"live-new-room"};var _e=(0,Q.$j)(Ye)((0,w.Z)()(Pe))},57497:function($,B,a){"use strict";a.d(B,{D:function(){return N}});var E=a(38642),V=()=>{var y=localStorage.getItem("corpId");return y.slice(0,4)==="ding"},N=()=>(0,E.UI)("DINGTALK_LIVE")&&V()},39979:function($){$.exports="data:image/png;base64,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"}}]);
