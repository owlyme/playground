(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4535],{30311:function(le,$,e){"use strict";var S=e(22385),O=e(31097),j=e(12924),P=e.n(j),Z=e(8812),p=e(28216),A=y=>{var _=(0,p.v9)(o=>{var v=o.advancedSetting;return{themeColor:v.themeColor}}),r=_.themeColor;return P().createElement(O.Z,{placement:"top",title:y.name},P().createElement("span",{className:"cl-table__cell-arrow",onClick:y.onClick},P().createElement("span",{style:{color:r}},y.name),P().createElement("span",{className:"cl-table__cell-arrow-icon"},P().createElement(Z.Z,null))))};$.Z=A},4408:function(le,$,e){"use strict";var S=e(12924),O=e.n(S),j=e(28216),P=e(17780),Z=e(38642),p=y=>({userInfo:y.user}),A=y=>{var _=y.title;return(0,P.xX)()&&setTimeout(()=>{document.title=_},0),(0,S.useEffect)(()=>{if(_&&document.title!==_&&setTimeout(()=>{document.title=_},0),(0,Z.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[_]),O().createElement(O().Fragment,null)};A.defautProps={title:""},$.Z=(0,j.$j)(p)(A)},1164:function(le,$,e){"use strict";var S=e(12924),O=e.n(S),j=e(76651),P=e(38642),Z=e(91302),p=A=>{var y=navigator.userAgent.toLocaleLowerCase(),_=localStorage.getItem("enterpriseId"),r=(0,P.lz)(_,A.projectType),o=localStorage.getItem("dingPersonnel"),v=Z.bl.includes(o),f=A.target;function T(m){if(f==="self"&&(m.preventDefault(),j.m8.push(A.to)),v){if(A.projectType==="student"){window.location.href="".concat(r,"/").concat(A.to);return}j.m8.push(A.to);return}if(dd.version){m.preventDefault();var U="";A.to.includes("?")?U="".concat(r).concat(A.to,"&ddtab=true"):U="".concat(r).concat(A.to,"?ddtab=true"),dd.biz.util.openLink({url:U})}else y.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(A.to))}return O().createElement("a",{rel:"noreferrer",href:"".concat(A.projectType==="student"?"".concat(r).concat(A.to):"#".concat(A.to)),className:"".concat(A.wrapCls," cl-pointer"),target:y.indexOf("lark")!==-1||v?"_self":A.target||"_blank",onClick:T},A.children)};p.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},p.targetTo=A=>{var y=A.path,_=A.from,r=A.isExternalLink,o=r===void 0?!1:r,v=A.isAsync,f=v===void 0?!1:v,T=A.openName,m=T===void 0?"_blank":T,U=A.projectType,x=U===void 0?"manage":U,h=A.ddTab,I=h===void 0?!0:h,d,c=localStorage.getItem("dingPersonnel"),C=Z.bl.includes(c),w=navigator.userAgent.toLocaleLowerCase(),R=localStorage.getItem("enterpriseId"),N=(0,P.lz)(R,x),L=localStorage.getItem("appType"),D=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var K="";if(d=o?"":N,C&&!o){if(x==="student"){window.location.href="".concat(N).concat(y);return}j.m8.push(y);return}y.includes("?")?K="".concat(d).concat(y,"&ddtab=").concat(I):K="".concat(d).concat(y,"?ddtab=").concat(I),dd.biz.util.openLink({url:K})}else if(w.indexOf("lark")!==-1)d=o?"":N,window.location.href="".concat(d).concat(y);else if(L==="wx_app"&&D&&o&&_==="imgText")d=o?"":x==="student"?"".concat(N):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(d).concat(y)});else if(d=o?"":x==="student"?"".concat(N):"#",f){var b=window.open("","_blank");setTimeout(()=>{b.location="".concat(d).concat(y)},100)}else window.open("".concat(d).concat(y),m)},$.Z=p},36202:function(le,$,e){"use strict";e.d($,{f:function(){return h}});var S=e(62029),O=e(57361),j=e(33565),P=e(9754),Z=e.n(P),p=e(12924),A=e.n(p),y=e(28175),_=e(41647),r=e(93485);function o(I){var d={};if(I.length===0)return d;var c=(0,r.Z)(I),C;try{for(c.s();!(C=c.n()).done;){var w=C.value,R=w,N=R.field,L=R.fixed,D=R.order,K=R.show;K?K==="true"||K===!0?d[N]={fixed:L,order:D,show:!0}:d[N]={fixed:L,order:D,show:!1}:d[N]={fixed:L,order:D,show:!0}}}catch(b){c.e(b)}finally{c.f()}return d}function v(I){var d=[],c=Object.entries(I);if(c.length===0)return d;for(var C=0,w=c;C<w.length;C++){var R=w[C],N=(0,j.Z)(R,2),L=N[0],D=N[1],K=D.fixed,b=D.order,V=D.show;d.push({field:L,show:V,fixed:K,order:b})}return d}var f=e(38642),T=(I,d)=>{var c=(0,p.useState)(I),C=(0,j.Z)(c,2),w=C[0],R=C[1];return(0,p.useEffect)(()=>{var N=setTimeout(()=>{R(I)},d);return()=>{clearTimeout(N)}},[I,d]),w},m=T;function U(I,d){var c=useRef(d);useEffect(()=>{c.current=d},[d]),useEffect(()=>{var C=w=>{var R,N;console.warn(I.current,"node.current",w.target),!((R=(N=I.current)===null||N===void 0?void 0:N.contains(w.target))!==null&&R!==void 0?R:!1)&&c.current&&c.current()};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[I])}var x=!1;function h(I){var d=(0,p.useState)({}),c=(0,j.Z)(d,2),C=c[0],w=c[1],R=I.prefixCls,N=I.rowKey,L=I.columnEmptyText,D=I.pagination,K=I.headerTitle,b=I.toolBarRender,V=I.size,H=I.loading,G=H===void 0?!1:H,q=I.tableUUID;q||console.error("tableUUID is required!!!"),(0,p.useEffect)(()=>{function z(re){return J.apply(this,arguments)}function J(){return J=(0,O.Z)(Z().mark(function re(ne){var se,ce,_e,ve,Ue,Se,Ae,we;return Z().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,f.Kb)((0,_.U)(ne));case 2:if(se=de.sent,ce=(0,j.Z)(se,2),_e=ce[0],ve=ce[1],!_e){de.next=8;break}return de.abrupt("return");case 8:Ue=ve.data,Se=Ue.data,Ae=Se.fields,we=o(Ae)||{},we&&(x=!1,w(we));case 13:case"end":return de.stop()}},re)})),J.apply(this,arguments)}return q&&z(q),()=>{x=!1}},[q]);var X=m(C,1e3);(0,p.useEffect)(()=>{!x||(0,_.I)(q,v(C))},[X]);function te(z){x=!0,w(z)}return A().createElement("div",{className:"SampleProTable_container ".concat(I.className)},A().createElement(y.ZP,(0,S.Z)({size:V||"middle",rowKey:N||"id",columnEmptyText:L||!1,pagination:D||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:G,headerTitle:K||"",toolBarRender:b||null,columnsStateMap:C,onColumnsStateChange:te},I,{className:"".concat(R,"-table")})))}},41647:function(le,$,e){"use strict";e.d($,{I:function(){return j},U:function(){return P}});var S=e(37055),O=e(10237);function j(Z){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=S.ZP.tableHeader.save(),y={fields:p,key:Z};return O.WY.post({url:A,data:y})}function P(Z){var p=S.ZP.tableHeader.get(Z);return O.WY.get({url:p})}},99891:function(le,$,e){"use strict";var S=e(12924),O=e.n(S),j=e(28216),P=e(91768),Z=e(37055),p=e(10237),A=e(60667);class y extends O().PureComponent{constructor(o){super(o);this.getWaterMarkText=v=>{var f=this.props.userInfo,T=f.jobNumber,m=localStorage.getItem("waterMarkPostName"),U=[],x=v.find(I=>I.type==="content_setting"),h=v.find(I=>I.type==="content_custom");return x.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),h.param.checked==="true"&&h.param.comment[0]!==""&&this.setState({commentText:h.param.comment[0]}),x.param.comment.indexOf("position")!==-1&&m&&m!==""&&U.push("".concat(m)),x.param.comment.indexOf("jobnumber")!==-1&&T&&T!==""&&U.push("".concat(T)),U.join("-")},this.getWaterMarkApplication=v=>{var f=this.props.scenes,T=v.find(m=>m.type==="application_scenario");T.param.comment.indexOf(f)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=v=>{var f=v.find(T=>T.type==="dispersive");this.setState({isDispersive:f.param.checked==="true"})},this.getDynamicSet=()=>{var v=Z.ZP.advancedSetting.dynamicWaterMarkNew(),f={access_token:window.localStorage.getItem("token")};p.WY.get({url:v,params:f}).then(T=>{var m=JSON.parse(T.data.actions);this.setState({waterMarkText:this.getWaterMarkText(m),actions:m}),this.getWaterMarkApplication(m),this.getWaterIsDispersive(m)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var o=localStorage.getItem("waterMarkPostName");o===""||o===null?this.getPostName():this.getDynamicSet()}getPostName(){var o=Z.ZP.advancedSetting.getPostName();p.WY.get({url:o}).then(v=>{localStorage.setItem("waterMarkPostName",v.data.post_names[0]||""),this.getDynamicSet()})}render(){var o=this.state,v=o.showWaterMark,f=o.waterMarkCount,T=o.isUserName,m=o.isDispersive,U=o.waterMarkText,x=o.actions,h=o.commentText,I=this.props.userInfo,d=I.name,c=I.unionid,C=I.sourceType;return O().createElement("div",{className:"common-watermark"},v&&new Array(f).fill(0).map((w,R)=>O().createElement("div",{key:R,className:"common-watermark-item ".concat(m?"isDispersive":"")},O().createElement("span",{className:"common-watermark-item-content"},h!==""&&O().createElement("span",{className:"item-part"},h),T&&O().createElement("span",null,h!==""&&O().createElement("span",null,"-"),O().createElement(A.Z,{dataType:"userName",value:c,name:d,type:C})),O().createElement("span",{className:"item-part"},(T||h!=="")&&U!==""&&O().createElement("span",null,"-"),U)))))}}var _=r=>({userInfo:r.user});$.Z=(0,j.$j)(_)((0,P.Z)()(y))},60667:function(le,$,e){"use strict";e.d($,{Z:function(){return y}});var S=e(33565),O=e(12924),j=e.n(O),P=e(28216);function Z(_){var r=_.type,o=_.openid,v=_.from,f=(0,O.useRef)(null);return(0,O.useLayoutEffect)(()=>{v==="vue"?window.parent.WWOpenData.bind(f.current):WWOpenData.bind(f.current)}),j().createElement("ww-open-data",{ref:f,type:r,openid:o})}var p=_=>{var r=_.wxWorkApiFlag,o=_.appType,v=_.from,f=(0,O.useState)(!1),T=(0,S.Z)(f,2),m=T[0],U=T[1];(0,O.useEffect)(()=>{var I=localStorage.getItem("qyWechatBook");(o!=="wx_app"||r||I==="false"||v==="vue"||v==="taro")&&U(!0)},[r,o,v]);var x=(0,O.useCallback)(()=>{var I=_.type,d=_.value,c=_.name,C=c===void 0?"":c;switch(console.warn(_,"props"),I){case"wx_sync":{var w=_.dataType;return d?j().createElement(Z,{from:v,type:w,openid:d}):C}default:return C}},[_]),h=()=>{var I=_.name,d=_.dataType,c=localStorage.getItem("qyWechatBook");if(d===""||c==="false")return I;if(v==="vue"||v==="taro")return x();switch(_.appType){case"wx_app":return x();default:return I}};return m?h():_.name};p.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var A=_=>({appType:_.user.appType,wxWorkApiFlag:_.user.wxWorkApiFlag}),y=(0,P.$j)(A)(p)},70075:function(le,$,e){"use strict";e.d($,{a:function(){return T}});var S=e(62029),O=e(33565),j=e(81211),P=e(47673),Z=e(4107),p=e(12924),A=e.n(p),y=e(47444),_=e(60006),r=e.n(_),o=e(43859),v=Z.Z.TextArea;function f(m){var U=m.char,x=m.displayType,h=m.LimitLength,I=m.value,d=m.valueSlice,c=m.showCount,C=m.onChange,w=m.disabledInput,R=(0,j.Z)(m,["char","displayType","LimitLength","value","valueSlice","showCount","onChange","disabledInput"]),N=(0,p.useState)(()=>d?(0,y.B)({value:I,LimitLength:h,char:U}):m.defaultValue||""),L=(0,O.Z)(N,2),D=L[0],K=L[1],b=(0,p.useRef)({evtName:""});(0,p.useEffect)(()=>{K(d?(0,y.B)({value:I,LimitLength:h,char:U,disabledInput:w}):I)},[I,h,U,d,w]),(0,p.useEffect)(()=>{if(b.current.evtName==="input"){x==="Custom"?m.onFieldChange(D):C(D),m.onInput&&m.onInput(D),b.current.evtName="";return}d&&(x==="Custom"?m.onFieldChange(D):C(D),m.onInput&&m.onInput(D))},[D,x,d]);var V=X=>{b.current.evtName="input";var te=X.target,z=te.value,J=(0,y.B)({value:z,LimitLength:h,char:U,disabledInput:w});K(J)},H=(0,p.useMemo)(()=>(0,y.S)({inputValue:D,LimitLength:h,char:U,showCount:c,disabledInput:w}),[D,h,U,c,w]),G=H.dataCount,q=H.usedLength;return A().createElement("div",{className:"".concat(r()["textarea-wrap"]," ").concat(q&&h&&q>h?r()["textarea-wrap-error"]:""),"data-count":G},x==="Custom"?A().createElement(v,(0,S.Z)({},R,{value:D,onInput:V})):A().createElement(v,(0,S.Z)({},R,{value:D,onInput:V})))}f.defaultProps={valueSlice:!1,disabledInput:!0,onChange:()=>{},onInput:()=>{},char:!1,autoSize:{minRows:4,maxRows:10},displayType:""};var T=f;$.Z=(0,o.Z)(f)},7584:function(le,$,e){"use strict";e.d($,{t:function(){return T}});var S=e(47673),O=e(4107),j=e(62029),P=e(33565),Z=e(81211),p=e(12924),A=e.n(p),y=e(80991),_=e(47444),r=e(60006),o=e.n(r),v=e(43859);function f(m){var U=m.isPreview,x=m.char,h=m.displayType,I=m.width,d=m.LimitLength,c=m.showCount,C=m.value,w=m.valueSlice,R=m.onChange,N=m.disabledInput,L=(0,Z.Z)(m,["isPreview","char","displayType","width","LimitLength","showCount","value","valueSlice","onChange","disabledInput"]),D=(0,p.useState)(()=>w?(0,_.B)({value:C,LimitLength:d,char:x}):m.defaultValue||""),K=(0,P.Z)(D,2),b=K[0],V=K[1],H=(0,p.useRef)({evtName:""});(0,p.useEffect)(()=>{V(w?(0,_.B)({value:C,LimitLength:d,char:x,disabledInput:N}):C)},[C,d,x,w,N]),(0,p.useEffect)(()=>{if(H.current.evtName==="input"){h==="Custom"?m.onFieldChange(b):R(b),m.onInput&&m.onInput(b),H.current.evtName="";return}w&&(h==="Custom"?m.onFieldChange(b):R(b),m.onInput&&m.onInput(b))},[b,h,w]);var G=J=>{H.current.evtName="input";var re=J.target,ne=re.value,se=(0,_.B)({value:ne,LimitLength:d,char:x,disabledInput:N});V(se)},q=(0,p.useMemo)(()=>(0,_.S)({inputValue:b,LimitLength:d,char:x,showCount:c,disabledInput:N}),[b,d,x,c,N]),X=q.dataCount,te=q.usedLength,z=(0,p.useRef)(null);return(0,p.useEffect)(()=>{z&&z.current&&(m.autoFocus==="true"?z.current.focus():z.current.blur())},[m.autoFocus]),A().createElement("div",{className:"".concat(o()["input-wrap"]," ").concat(te&&d&&te>d?o()["input-wrap-error"]:""),"data-count":X,style:{width:I||void 0}},h==="Custom"?A().createElement(O.Z,(0,j.Z)({},L,{value:b,disabled:U,onInput:G})):A().createElement(O.Z,(0,j.Z)({},L,{value:b,ref:z,disabled:U,onInput:G})))}f.defaultProps={valueSlice:!1,disabledInput:!0,onChange:()=>{},onInput:()=>{},char:!1,LimitLength:void 0,showCount:!1,displayType:"",width:void 0};var T=f;$.Z=(0,v.Z)((0,y.$j)(f))},47444:function(le,$,e){"use strict";e.d($,{B:function(){return O},S:function(){return j}});var S=e(2396);function O(P){var Z=P.value,p=P.LimitLength,A=P.char,y=P.disabledInput,_=Z&&typeof Z=="string"?Z:"",r=_;return y&&A&&p&&(0,S.$s)(r)>p&&(r=_.substring(0,(0,S.rw)(_,p))),r}function j(P){var Z=P.inputValue,p=P.LimitLength,A=P.char,y=P.showCount,_="",r=Z&&typeof Z=="string"?Z:"",o=A?Math.ceil((0,S.$s)(r)):r.length;return y&&p&&(_="".concat(o,"/").concat(p)),{dataCount:_,usedLength:o}}},64262:function(le,$,e){"use strict";var S=e(88986),O=e(20228),j=e(11382),P=e(22385),Z=e(31097),p=e(32157),A=e(75869),y=e(62999),_=e(85733),r=e(12924),o=e.n(r),v=e(91768),f=e(60667),T=e(38642),m=e(10237),U=e(37055),x=_.Z.TreeNode;class h extends o().Component{constructor(d){super(d);this.getDeptTree=c=>{var C=this.props,w=C.filterAuth,R=C.handleLoadedCbk,N=this.state.whiteList,L=U.ZP.OrgTree.getDeptTree(),D={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:c,filter_auth:w,query_selected_user_id:this.props.querySelectedUserId,sync_organization:N.organizationFlag?"lenovo_sync":this.props.organizationType||""};m.WY.get({url:L,params:D}).then(K=>{var b=this.sumCheckedKeys(K.data.children||[],K.data.selected==="true"?[K.data.id]:[]);R&&R({department_name:K.data.department_name,id:K.data.id,source_type:K.data.source_type}),this.setState({treeData:[{department_name:K.data.department_name,id:K.data.id,source_type:K.data.source_type,children:K.data.children,user_count:K.data.user_count,enable_edit:K.enable_edit,enable_delete:K.enable_delete}],checkedKeys:b}),this.props.handleCheck&&this.props.handleCheck(b)})},this.sumCheckedKeys=(c,C)=>(c instanceof Array&&c.forEach(w=>{w.selected==="true"?C.push(w.id):w.children&&this.sumCheckedKeys(w.children,C)}),C),this.loadChildren=c=>new Promise(C=>{if(c.props.children){C();return}var w=this.props.filterAuth,R=this.state.whiteList,N=U.ZP.OrgTree.getDeptTree(),L={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:c.props.dataRef.id,filter_auth:w,query_selected_user_id:this.props.querySelectedUserId,sync_organization:R.organizationFlag?"lenovo_sync":this.props.organizationType||""};m.WY.get({url:N,params:L}).then(D=>{if(D.data.children){var K=D.data.children.map(V=>({department_name:V.department_name,id:V.id,user_count:V.user_count,selected:V.selected,has_children:V.has_children,enable_edit:V.enable_edit,enable_delete:V.enable_delete,source_type:V.source_type}));c.props.dataRef.children=K;var b=this.sumCheckedKeys(K,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:b}),this.props.handleCheck&&this.props.handleCheck(b)}else c.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});C()})}),this.handleCheck=c=>{this.setState({checkedKeys:c}),this.props.handleCheck&&this.props.handleCheck(c)},this.treeSelectChange=(c,C)=>{this.setState({treeSelectValue:c});var w=this.props,R=w.handleTreeSelectChange,N=w.onTreeSelectChange;R?R(c||"",C):N&&N(c||"",C)},this.renderTreeNodes=c=>c.map(C=>C.children?o().createElement(A.Z.TreeNode,{title:this.renderTitle(C),key:C.id,value:C.id,isLeaf:C.has_children!=="true",switcherIcon:C.children.length===0?o().createElement("span",null):null,dataRef:C,selected:C.selected==="true"},this.renderTreeNodes(C.children)):o().createElement(A.Z.TreeNode,{title:this.renderTitle(C),dataRef:C,value:C.id,key:C.id,isLeaf:C.has_children!=="true",switcherIcon:this.props.asyncLoad?null:o().createElement("span",null),selected:C.selected==="true"})),this.renderSelectTreeNodes=c=>{var C=this.props.disabledFirstNode,w=this.state.treeData.length?this.state.treeData[0].id:"";return c.map(R=>R.children?o().createElement(x,{title:this.renderTitle(R),key:R.id,value:R.id,isLeaf:!1,switcherIcon:R.children.length===0?o().createElement("span",null):null,dataRef:R,disabled:C?R.id===w:!1,selected:R.selected==="true",departmentName:R.department_name},this.renderSelectTreeNodes(R.children)):o().createElement(x,{title:this.renderTitle(R),dataRef:R,value:R.id,key:R.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:o().createElement("span",null),selected:R.selected==="true",departmentName:R.department_name}))},this.dealText=c=>{var C=this.props.showUserCount;return o().createElement(r.Fragment,null,o().createElement(f.Z,{type:c.source_type,value:c.id,node:c,name:c.department_name,dataType:"departmentName"}),C&&o().createElement("span",null,"(",c.user_count,")"))},this.renderTitle=c=>{var C=this.props,w=C.showTitleToolTip,R=C.DeptTreeNodeTitle,N=C.titleOperateProps,L=N===void 0?{}:N,D=this.dealText(c);return R?o().createElement(R,{title:D,titleOperateProps:L,deptId:c.id||"1",deptName:c.department_name,enableEdit:c.enable_edit==="true",enableDelete:c.enable_delete==="true"}):w?o().createElement(Z.Z,{title:D},o().createElement("span",null,D)):D},this.renderTree=()=>{var c={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(c.loadData=this.loadChildren),this.state.treeData.length>0?o().createElement(A.Z,c,this.renderTreeNodes(this.state.treeData)):o().createElement("div",{style:{textAlign:"center"}},o().createElement(j.Z,null))},this.renderTreeSelect=()=>{var c=this.props,C=c.t,w=c.width,R=w===void 0?180:w,N=c.placeholder,L=c.open,D=(0,S.Z)((0,S.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:R},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:R},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:N||C("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:L});return this.props.asyncLoad&&(D.loadData=this.loadChildren),this.state.treeData.length>=0?o().createElement(_.Z,D,this.renderSelectTreeNodes(this.state.treeData)):o().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,T.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(d){d.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return o().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}h.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},$.Z=(0,v.Z)("",{withRef:!0})(h)},76466:function(le,$,e){"use strict";e.d($,{Z:function(){return mt}});var S=e(20228),O=e(11382),j=e(57663),P=e(71577),Z=e(62029),p=e(57361),A=e(9754),y=e.n(A),_=e(12924),r=e.n(_),o=e(91512),v=e(68654),f=e(91768),T=e(4412),m=e.n(T);class U extends r().Component{render(){var n=this.props.t;return r().createElement("div",{className:"net-preview"},r().createElement("div",{className:"net-preview-center"},r().createElement("img",{src:m(),alt:"picture"}),r().createElement("h2",null,n("localStorage.tip")),r().createElement("p",null,n("localStorage.banPreview"))))}}var x=(0,f.Z)()(U),h=e(88986),I=e(34792),d=e(48086),c=e(28216),C=e(21594),w=e(41225),R=e(10237),N=(ee,n)=>(0,h.Z)({id:ee||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),L=N;class D extends _.Component{constructor(){super(...arguments);this.setupPlayer=n=>{var s=this.props,a=s.onVideoReady,t=a===void 0?()=>{}:a,i=s.playerConfig,l=s.contentType;n&&n==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,h.Z)((0,h.Z)({},i),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:i.source,autoplay:i.autoplay,width:i.width,id:i.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:u=>{u.on("sourceloaded",E=>{var g=E.paramData,k=g.desc,B=g.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(k,B,i.id)}),u.on("ready",()=>{t()}),this.playerInstance=u,this.setPlayerConfig()}}))}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(n){this.player&&this.player.seek(n)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(n){this.player.setSpeed(n)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var n=this.props,s=n.onPlay,a=s===void 0?()=>{}:s,t=n.onTimeUpDate,i=t===void 0?()=>{}:t,l=n.onEnd,u=l===void 0?()=>{}:l,E=n.onPause,g=E===void 0?()=>{}:E,k=n.onError,B=k===void 0?()=>{}:k,F=this.playerInstance;F.on("play",()=>{a()}),F.on("pause",()=>{g()}),F.on("timeupdate",M=>{i(M)}),F.on("ended",()=>{u()}),F.on("error",(0,p.Z)(y().mark(function M(){return y().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:B();case 1:case"end":return Q.stop()}},M)})))}render(){var n=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:n.id}))}}D.playerInstance=null,D.defaultProps={playerConfig:L(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var K=D,b=(ee,n)=>(0,h.Z)({id:ee||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),V=b;class H extends _.Component{constructor(){super(...arguments);this.setupPlayer=n=>{n&&n==="resetPlayer"&&this.player.dispose();var s=this.props,a=s.playerConfig,t=s.onVideoReady,i=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",u=>{var E=u.paramData,g=E.desc,k=E.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(g,k,a.id)})}),this.player.on("ready",()=>{i()})},this.setPlayerConfig=()=>{var n=this.props,s=n.onPlay,a=s===void 0?()=>{}:s,t=n.onTimeUpDate,i=t===void 0?()=>{}:t,l=n.onEnd,u=l===void 0?()=>{}:l,E=n.onPause,g=E===void 0?()=>{}:E,k=n.onError,B=k===void 0?()=>{}:k;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{g()}),this.player.on("timeupdate",F=>{i(F)}),this.player.on("ended",()=>{u()}),this.player.on("error",(0,p.Z)(y().mark(function F(){return y().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:B();case 1:case"end":return W.stop()}},F)})))},this.getPlayerContent=n=>{this.playerContainer=n}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(n){this.player.seek(n)}exitFull(){var n=this.player.fullscreenService;n&&n.isFullScreen&&n.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var n=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:n.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}H.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:V()};var G=H;class q{constructor(n){this.hasCreated=!1,this.definition="",this.getQuality=n}createEl(n,s){var a=s._options&&s._options.language,t=s._el.id;this.isEn=a&&a==="en-us";var i=(0,C.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,C.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),u=document.querySelector("#".concat(t," .prism-controlbar"));u.appendChild(i),n.appendChild(l)}setCurrentQuality(n,s,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=n,t.dataset.def=s,this.definition=s;var i=document.querySelector("#".concat(a," .quality-list")),l=i.querySelector(".current");l&&(l.className="");var u=i.querySelector('li[data-def="'.concat(s,'"]'));u&&(u.className="current")}created(n){this._urls=n._urls;var s=n._el.id,a=document.querySelector("#".concat(s," .current-quality")),t=document.querySelector("#".concat(s," .quality-list")),i=document.querySelector("#".concat(s," .quality-modal")),l=this._urls.map(g=>'<li data-def="'.concat(g.definition,'">').concat(g.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var u=t.querySelector('li[data-def="'.concat(this.definition,'"]'));u.className="current"}this.hasCreated=!0;var E=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{E=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(E)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=g=>{var k=g.target,B=k.dataset.def,F=k.innerText;if(B&&k.className!=="current"){var M=this._urls.find(W=>W.definition===B);n.loadByUrl(M.Url,n.getCurrentTime(),!0,!0),this.setCurrentQuality(M.desc,M.definition,s),i.style.display="block",i.querySelector("span.current-quality-tag").innerText=M.desc}this.getQuality(B,F)}}ready(n){var s=n._el.id,a=document.querySelector("#".concat(s," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(s," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class X{createEl(n,s){var a=s._el.id,t=(0,C.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),i=document.querySelector("#".concat(a," .prism-controlbar"));i.appendChild(t)}ready(n){var s=n._el.id,a=document.querySelector("#".concat(s," .current-rate")),t=document.querySelector("#".concat(s," .rate-list")),i=null,l=document.querySelector("#".concat(s," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{i=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(i)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=u=>{var E=u.target,g=E.dataset.rate;if(g){if(n.setSpeed(g),E.className!=="current"){var k=t.querySelector(".current");k&&(k.className=""),E.className="current"}t.style.display="none",a.innerText="".concat(g,"x")}}}}var te=e(69164),z=e(37055);function J(ee){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=z.ZP.local.getLocalUrl(ee);return R.WY.get({url:s,params:n})}var re=e(91648),ne=e(18329),se=e(38642),ce=e(9849),_e=e(99891);class ve extends _.Component{constructor(n){super();this.WaterMarkText=n,this.html=document.getElementsByClassName("common-watermark")}createEl(n){setTimeout(()=>{n.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Ue=ve,Se=ee=>({userInfo:ee.user});class Ae extends _.Component{constructor(n){var s;super(n);s=this,this.onVideoReady=a=>{var t=this.props,i=t.resourceInfo,l=t.mode,u=t.autoPlay,E=t.t,g=i.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&u&&this.play.play()):g==="ALIBABA_PRIVATE"||g==="LOCAL"?this.updateSource("resetPlayer"):(R.WY.logger({keyword:"video",moduleName:"video-play",msg:E("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,i=a.mode,l=a.t,u=a.studyInfo,E=a.needCurrentTime,g=a.onCurrentTime,k=g===void 0?()=>{}:g,B=u.studyType,F=u.studyId,M=u.resourceId,W=this.state,Q=W.showPreventHang,ae=W.dragSwitch,ie=W.showRandomAlert,oe=W.randomAlertDialogVisible,Y=this.playingVideo,ye=Y.oneTime,fe=Y.popupWindowCount,ge=Y.maxPlayTime,Le=Y.progress,Ce=Y.auditionLength,Te=Y.auditionType,Ie=Y.duration,Oe=Y.recentStart,he=this.play.getCurrentTime(),me=(Q==="OPEN"||ie==="OPEN")&&fe>0;if(E&&k(he),Ce>0&&Te===2&&he>Ce&&(this.play.seek(Ce),d.default.warning(l("component.haveALookOverTip")),this.play.pause()),i==="learn"&&me){var We=Ie-ye*fe;if(fe>0&&he>We)if(this.play.pause(),ie==="OPEN"){if(!oe){var Re=(0,re.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Re},()=>{(0,w.qp)({popupId:Re,planId:F,resourceId:M,type:"popup_start"})}),this.play.exitFull()}}else Q==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||Le===100)&&(he>0&&(this.playingVideo.recentStart=he),!((B==="enterprise"||B==="studyProject")&&ae==="OPEN")))return!1;he>ge?he-Oe>2?(this.playingVideo.recentStart=ge,this.play.seek(ge),d.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=he,this.playingVideo.maxPlayTime=he):he>0&&he>this.playingVideo.recentStart&&(this.playingVideo.recentStart=he)},this.onPlay=()=>{var a=this.props,t=a.mode,i=a.onPlay,l=i===void 0?()=>{}:i;l();var u=this;t==="learn"&&!u.timer&&(u.timer=setTimeout(function E(){u.saveProgress(),clearTimeout(u.timer),u.timer=setTimeout(E,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,i=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,i==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,i=t.storageType;(i==="ALIBABA_PRIVATE"||i==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,i=a.showRandomAlert,l=this.props,u=l.t,E=l.playingVideo,g=l.studyInfo,k=l.autoPlay,B=E.recentStart,F=E.duration,M=E.progress,W=g.studyType,Q=(t==="OPEN"||i==="OPEN")&&(W==="studyTask"||W==="enterprise"||W==="studyProject")&&M<100;Q?(i==="OPEN"?this.setState({promptMessage:u("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:u("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):k&&(this.play.play(),Math.ceil(B)<parseInt(F)&&this.play.seek(B))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,i=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,i>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,i>=2*l?this.playingVideo.popupWindowCount=0:i>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,i>=3*l?this.playingVideo.popupWindowCount=0:i>=2*l?this.playingVideo.popupWindowCount=1:i>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,i=a.mode;if(i==="learn"){this.playingVideo=(0,h.Z)({},t);var l=t.duration,u=t.progress;this.playingVideo.hasFinished=parseInt(u)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(u)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,p.Z)(y().mark(function a(){var t,i,l,u,E,g,k,B,F,M,W,Q,ae,ie,oe,Y,ye,fe,ge,Le,Ce,Te,Ie,Oe;return y().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(t=s.state,i=t.speedSwitch,l=t.dragSwitch,u=t.whiteList,E=s.props,g=E.resourceInfo,k=E.showQuality,B=g.contentType,F=g.storageType,M=g.source,W=g.playId,Q=g.playerId,ae=g.showFullScreen,ie=ae===void 0?!0:ae,oe=V(Q),oe.components=[],Y=typeof M=="object"&&M.hasOwnProperty("FD")&&M.FD.indexOf("m3u8")===-1,k&&Y&&B!=="mp3"&&(F&&F==="PUBLIC_CLOUD"||!F)&&oe.components.push({name:"VideoQuality",type:q,args:[()=>{s.play.pause(),s.playingVideo.readyCount=0}]}),i==="OPEN"&&oe.components.push({name:"VideoRate",type:X}),ie&&(ye=oe.skinLayout.find(We=>We.name==="controlBar"),ye&&ye.children.splice(ye.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),oe.components.push({name:"VideoWaterMark",type:Ue}),fe=M.FD,ge=M.OD,fe.indexOf("http://")>-1&&(fe=fe.replace("http://","https://")),ge.indexOf("http://")>-1&&(ge=ge.replace("http://","https://")),Le=u.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",M.OD=ge&&ge.indexOf(Le)>-1&&ge.indexOf(".mp4")>-1?ge:fe,M.FD=fe,Ce=typeof M!="string"?JSON.stringify(M):M,oe.source=Ce,l==="OPEN"&&(oe.disableSeek=!0),F!=="ALIBABA_PRIVATE"){me.next=32;break}return me.next=22,(0,w.BR)(W);case 22:if(Te=me.sent,!Te){me.next=28;break}oe.source=Te,oe.vodRetry=1,me.next=30;break;case 28:return s.setState({showPrivateVodError:!0}),me.abrupt("return");case 30:me.next=38;break;case 32:if(F!=="LOCAL"){me.next=38;break}return me.next=35,J(W);case 35:Ie=me.sent,Oe=Ie.data,Oe.code===0&&(oe.source="".concat(M.FD,"?auth_key=").concat(Oe.data.auth_key),oe.vodRetry=1);case 38:s.setState({playerConfig:oe});case 39:case"end":return me.stop()}},a)})),this.updateSource=function(){var a=(0,p.Z)(y().mark(function t(i){var l,u,E,g,k,B,F,M;return y().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(l=s.state.playerConfig,u=s.props.resourceInfo,E=u.storageType,g=u.source,k=u.playId,s.playingVideo.readyCount=0,E!=="ALIBABA_PRIVATE"){Q.next=16;break}return Q.next=7,(0,w.BR)(k);case 7:if(B=Q.sent,!B){Q.next=12;break}Object.assign(l,{source:B,vodRetry:1}),Q.next=14;break;case 12:return s.setState({showPrivateVodError:!0}),Q.abrupt("return");case 14:Q.next=22;break;case 16:if(E!=="LOCAL"){Q.next=22;break}return Q.next=19,J(k);case 19:F=Q.sent,M=F.data,M.code===0&&Object.assign(l,{source:"".concat(g.FD,"?auth_key=").concat(M.data.auth_key),vodRetry:1});case 22:s.setState({playerConfig:l},()=>{s.play.setupPlayer(i)});case 23:case"end":return Q.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,i=a.userInfo,l=i.isLogin,u=i.enterpriseId,E=i.id,g=this.playingVideo,k=g.recentStart,B=g.duration,F=g.hasFinished,M=Math.ceil(+k);M>Number(B)&&(M=Number(B));var W=Math.ceil(M/+B*100);if((W>100||F)&&(W=100),l){var Q=this.playingVideo,ae=Q.auditionType,ie=Q.auditionLength;if(ie>0&&ae===2){var oe=Math.ceil(ie/B*100);oe<=W&&(W=oe,M=ie)}(0,w.sH)({studyInfo:t,progress:W,recent_start:M,enterpriseId:u,userId:E}).then(Y=>{Y&&Y.data&&(0,te.Z)(Y.data.integral_info||"")})}},this.getInfoFromSettings=(0,p.Z)(y().mark(function a(){var t,i,l,u,E,g,k,B,F;return y().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return t=s.props.studyInfo,i=t.studyType,l=t.projectId,W.next=4,(0,w.Gw)();case 4:if(u=W.sent,E=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],g=(0,C.RG)(u,E),i!=="studyProject"){W.next=14;break}return W.next=10,(0,ce.NU)({id:l});case 10:k=W.sent,B=k.status,F=k.data,B===200&&(g.showPreventHang=F.prevent_cut_screen?"OPEN":"CLOSED",g.speedSwitch=F.speed_play?"OPEN":"CLOSED",g.dragSwitch=F.prevent_drag?"OPEN":"CLOSED");case 14:s.setState(g,()=>{s.dealVideoConfig()});case 15:case"end":return W.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,i=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:i("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,p.Z)(y().mark(function a(){var t,i,l,u;return y().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:t=s.props.studyInfo,i=t.studyId,l=t.resourceId,u=s.state.randomAlertUUID,(0,w.qp)({popupId:u,planId:i,resourceId:l,type:"popup_end"}).then(()=>{s.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),s.playingVideo.popupWindowCount-=1,s.play.play();case 6:case"end":return g.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return r().createElement(P.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return r().createElement(P.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:V(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:n.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:n.t("component.randomAlertTip"),randomAlertModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,se.UI)("CL_VIDEO_BAIYING_COM_CN")}},n.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(n){var s=typeof n.resourceInfo.source!="string"?JSON.stringify(n.resourceInfo.source):n.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;s!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var n=this.props.mode;n==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var n=this.state,s=n.playerConfig,a=n.showPrivateVodError,t=n.dialogVisible,i=n.dialogModal,l=n.promptMessage,u=n.randomAlertDialogVisible,E=n.randomAlertModal,g=n.randomAlertTip,k=n.encryptedSwitch,B=this.props,F=B.resourceInfo,M=B.t,W=k==="OPEN"?K:G;return r().createElement(_.Fragment,null,r().createElement(W,(0,Z.Z)({ref:this.getPlayInstance},F,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:s,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),r().createElement(ne.ZP,(0,Z.Z)({visible:t},i,{footer:this.renderFooter()}),r().createElement("div",{className:"video-business-prompt"},l)),r().createElement(ne.ZP,(0,Z.Z)({visible:u},E,{footer:this.renderRandomFooter()}),r().createElement("div",{className:"video-player-container__prompt"},g)),a&&r().createElement("div",{className:"video-business-vod-error"},M("privateCloud.docReadError")),r().createElement(_e.Z,{scenes:"video"}))}}var we=(0,c.$j)(Se,null,null,{forwardRef:!0})((0,f.Z)("translation",{withRef:!0})(Ae)),ue=e(94184),de=e.n(ue),De=e(84874),Be=ee=>({userInfo:ee.user}),pe={getPravateDocUrl:z.ZP.localStorage.getPravateDocUrl};function Pe(ee){return JSON.stringify(ee,(n,s)=>(typeof s=="function"&&(s=s.toString()),s))}function Me(ee){var n=parseInt(parseInt(ee,10)/60,10),s=parseInt(parseInt(ee,10)%60,10);return n<10&&(n="0".concat(n)),s<10&&(s="0".concat(s)),"".concat(n,":").concat(s)}class be extends _.Component{constructor(n){var s;super(n);s=this,this.messageFun=a=>{var t=this.props,i=t.docType,l=t.progress,u=t.studyTimeLimit,E=t.studyTime,g=this.state,k=g.jumpPageTag,B=g.totalTime,F=g.timeRemaining,M=this.state.previewDocData,W={};try{W=JSON.parse(a.data)}catch(Q){return}switch(W.action){case"preview.ready":this.initDocData();break;case"preview.meta":M.totalPage=W.data.pc||1,M.currentPage=1,this.setState({previewDocData:M},()=>{this.reportStatusInterval()}),u>0?(this.saveProgress(l,E||"1",W.data.pc||1),this.setState({showCountDownContainer:!0})):i==="xlsx"||i==="xls"||M.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,E||"1",W.data.pc||1),u>0&&l<100?(this.setState({showCountDown:!0}),i==="xlsx"||i==="xls"?B=u:B=u*W.data.pc,F=parseInt(B*(1-l/100),10),this.setState({timeRemaining:F,totalTime:B},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(k){k=!1,this.setState({jumpPageTag:k});return}M.currentPage=W.data.pageIndex+1,this.setState({previewDocData:M}),u||this.saveProgress(Math.ceil(M.currentPage/M.totalPage*100),M.currentPage,M.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":d.default.error(W.data.result);break;default:break}},this.initDocData=(0,p.Z)(y().mark(function a(){var t,i,l,u,E,g,k,B,F,M,W,Q,ae,ie;return y().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(s.setState({isShowPrivateError:!1}),t=s.props,i=t.docType,l=t.userInfo,u=t.documentWatermarkSettings,E=t.storageType,g=t.privateDocId,k=l.name,B=l.jobNumber,F=l.position,M="",W={},E!=="ALIBABA_PRIVATE"){Y.next=18;break}return Y.prev=6,Q=pe.getPravateDocUrl(g),Y.next=10,R.WY.get({url:Q});case 10:ae=Y.sent,ie=ae.data,ie.code===0?W=ie.data||{}:s.setState({isShowPrivateError:!0}),Y.next=18;break;case 15:Y.prev=15,Y.t0=Y.catch(6),s.setState({isShowPrivateError:!0});case 18:if(u.indexOf("name")>-1&&(M="".concat(M+k," ")),u.indexOf("position")>-1&&(M="".concat(M+F," ")),u.indexOf("jobnumber")>-1&&(M+=B),M.length>0?window.sendMessage("preview.init",(0,h.Z)({wmType:1,wmValue:M,wmColor:"rgba(192, 192, 192, 0.4)"},W)):window.sendMessage("preview.init",(0,h.Z)({},W)),i!=="xlsx"&&i!=="ppt"&&i!=="pptx"&&i!=="xls"?s.setState({pageOperateContainerVisible:!0}):s.setState({pageOperateContainerVisible:!1}),!(i==="ppt"||i==="pptx")){Y.next=29;break}Y.t1=window,Y.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},Y.t1.sendMessage.call(Y.t1,"setConfig",Y.t2),Y.next=32;break;case 29:Y.t3=window,Y.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},Y.t3.sendMessage.call(Y.t3,"setConfig",Y.t4);case 32:case"end":return Y.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var i=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(i),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,i=a.studyTime,l=0;t===0&&(l=i-1>0?i-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,i=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var u=(i-a)/i*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(u),a,l.totalPage)},2e4)},this.saveProgress=(a,t,i)=>{var l=this.props.onSaveProgress;l&&l(a,t,i)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(n,s)=>{var a=this.docReader.contentWindow;a.postMessage(Pe({action:n,data:s}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var n=this.props,s=n.t,a=n.storageType,t=n.privateDocId,i=this.props.aliUrl,l=this.state,u=l.previewDocData,E=l.pageOperateContainerVisible,g=l.timeRemaining,k=l.showCountDown,B=l.showCountDownContainer,F=l.showPageOperateContainer,M=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(i="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),r().createElement("div",{className:"doc-reader-container"},r().createElement("div",{className:"ali-doc-container",style:{paddingBottom:E?"56px":"0"}},r().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:i,id:"aliyunPreview",ref:this.dealPreviewRef}),B?r().createElement("div",{className:"ali-doc-container__countdown"},k?r().createElement("div",null,r().createElement(De.Z,{iconClass:"iconf-tipe",size:"16px"}),s("component.docStillStudy"),r().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Me(g)," "),s("component.canDone")):r().createElement("div",null,r().createElement(De.Z,{iconClass:"iconf-tipe",size:"16px"}),s("component.docHasFinish"))):null,E?r().createElement("div",{className:"ali-doc__operate"},r().createElement("div",{className:de()(["ali-doc__operate__content",F?"":"ali-doc__operate__hide-content"])},r().createElement("div",{className:"ali-doc__operate__pagination"},r().createElement("div",{className:"ali-doc__operate__pagination__pages"},u.currentPage," / ",u.totalPage),r().createElement("div",{className:"ali-doc__operate__pagination__toggle"},r().createElement("div",{className:"ali-doc__operate__pagination__choose"},r().createElement("span",null,s("component.choosePage"),r().createElement(De.Z,{iconClass:"iconf-arrow-under",size:"14px"})),r().createElement("div",{className:"ali-doc__operate__page-list-container"},r().createElement("div",{className:"ali-doc__operate__choose-page"},s("component.fastChoosePage")),r().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:u.totalPage})).map((W,Q)=>r().createElement("li",{key:W,onClick:()=>this.handleJumpPage(Q+1)},Q+1))))),r().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},s("common.collapse"))))),r().createElement("div",{className:de()("ali-doc__operate__unfold",F?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},s("common.expand"))):null,M&&r().createElement("div",{className:"ali-doc__error"},s("privateCloud.docReadError"))),r().createElement(_e.Z,{scenes:"document"}))}}be.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var $e=(0,c.$j)(Be)((0,f.Z)()(be)),Ye=ee=>({userInfo:ee.user}),Qe="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ge="".concat("https://doc.coolcollege.cn");class Xe extends r().Component{constructor(n){var s;super(n);s=this,this.onSaveProgress=(a,t,i)=>{var l=this.props,u=l.mode,E=l.studyInfo,g=l.userInfo,k=g.enterpriseId,B=g.id;u==="learn"&&(0,w.sH)({studyInfo:E,progress:a,page_count:i,recent_start:t,enterpriseId:k,userId:B}).then(F=>{F&&F.data&&(0,te.Z)(F.data.integral_info||"")})},this.messageFun=function(){var a=(0,p.Z)(y().mark(function t(i){var l,u,E,g,k,B;return y().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(i.data!=="local-resource"){M.next=9;break}if(l=s.props.resourceInfo,u=l.storageType,E=l.playId,!(u&&u==="LOCAL")){M.next=9;break}return M.next=6,J(E);case 6:g=M.sent,k=g.data,k.code===0&&(B=document.getElementById("local-resource-box"),B.contentWindow.postMessage({msg:"local-auth-key",authKey:k.data.auth_key},"*"));case 9:case"end":return M.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,p.Z)(y().mark(function a(){var t,i,l;return y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,w.Gw)();case 2:t=E.sent,i=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,C.RG)(t,i),s.setState(l,()=>{s.initDocPage(s.props)});case 6:case"end":return E.stop()}},a)})),this.initDocPage=(0,p.Z)(y().mark(function a(){var t,i,l,u,E,g,k,B,F,M,W,Q,ae,ie,oe,Y,ye,fe,ge,Le,Ce,Te,Ie,Oe,he,me,We,Re,He,Ze,Ne,Ke,ke,ze,Ve=arguments;return y().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(t=Ve.length>0&&Ve[0]!==void 0?Ve[0]:{},i=t.resourceInfo,l=t.mode,u=t.studyInfo,E=t.userInfo,g=s.state.documentPlayerMode,k=i.docType,B=i.docTitle,F=i.url,M=i.studyTimeLimit,W=i.studyTime,Q=i.aliUrl,ae=i.progress,ie=i.storageType,oe=i.playId,Y=u.studyType,ye=u.courseId,fe=u.studyId,ge=u.resourceId,Le=E.enterpriseId,Ce=E.id,Te=E.isLogin,Ie=E.token,Oe=g==="compat"&&Q.indexOf("preview.imm.aliyun")>-1||ie==="ALIBABA_PRIVATE",!Oe){Ee.next=11;break}s.setState({showAliReader:!0}),Ee.next=31;break;case 11:if(he=(0,w.sH)({enterpriseId:Le,userId:Ce,token:Ie,studyInfo:u},!0),me=Y==="studyTask"?2:1,We=z.ZP.SaveProgress.reportStatusInterval(u),Re={isSaveProgress:Te&&l==="learn"&&he,isSaveRecord:!1,access_token:Ie,userId:Ce,hostUrl:Qe,courseId:ye,resourceId:ge,courseType:1,planId:fe,studyTimeLimit:M,studyTime:W,saveProgressUrl:he,type:"eapp",progress:ae,saveRecordProgressUrl:We,actionType:me},!(ie&&ie==="LOCAL")){Ee.next=26;break}return Ee.next=18,J(oe);case 18:if(He=Ee.sent,Ze=He.data,Ze.code!==0){Ee.next=25;break}Re.auth_key=Ze.data.auth_key,Re.url=F,Ee.next=26;break;case 25:return Ee.abrupt("return");case 26:Ne=JSON.stringify(Re),Ke="".concat(B,".").concat(k).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ke="".concat(Ge,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Ne),"&furl=").concat(F,"?attname=").concat(Ke),ie&&ie==="LOCAL"&&(ze="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ke="".concat(ze,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Ne),"&furl=").concat(F,"?attname=").concat(Ke)),s.setState({encodeUrl:ke});case 31:case"end":return Ee.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,i=this.props,l=i.resourceInfo,u=i.mode,E=i.studyInfo,g=i.userInfo,k=l.type,B=E.courseId,F=E.studyId,M=E.resourceId,W=g.enterpriseId,Q=g.id,ae=g.isLogin,ie="",oe="",Y=0,ye=!1;switch(k){case"enterprise":Y=1,ye=!0;break;case"study":ie=F,Y=2,ye=!0;break;case"project":oe=F,Y=1,ye=!0;break;default:break}if(!(!ye||!ae)){var fe={plan_id:ie,enterprise_id:W,user_id:Q,course_id:B,project_course_id:oe,resource_id:M,current_page:t,action_type:Y,send_time:Date.parse(new Date)};u==="learn"&&(0,w.Xc)(E,fe)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(n){this.initDocPage(n)}render(){var n=this.props.resourceInfo,s=this.state,a=s.encodeUrl,t=s.documentWatermarkSettings,i=s.showAliReader,l=n.docType,u=n.type,E=n.studyTimeLimit,g=n.studyTime,k=n.aliUrl,B=n.progress,F=n.storageType,M=n.playId;return i?r().createElement($e,{privateDocId:M,storageType:F,aliUrl:k,docType:l,progress:B,studyTime:g,studyTimeLimit:E,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:u}):r().createElement("div",{className:"doc-reader-container"},r().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),r().createElement(_e.Z,{scenes:"document"}))}}var Je=(0,c.$j)(Ye)(Xe),ht=e(38979),qe=e(90706),vt=e(12968),et=e(44208),xe=e(60667),tt=ee=>({userInfo:ee.user});class Fe extends r().Component{constructor(){var n;super(...arguments);n=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var s=this.props,a=s.studyInfo,t=s.mode,i=s.userInfo,l=i.enterpriseId,u=i.id;t==="learn"&&(0,C.Gp)({studyInfo:a,enterpriseId:l,userId:u})},this.getInfoFromSettings=(0,p.Z)(y().mark(function s(){var a,t,i;return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,w.Gw)();case 2:a=u.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],i=(0,C.RG)(a,t),n.setState(i,()=>{n.renderWatermark()});case 6:case"end":return u.stop()}},s)})),this.renderWatermark=()=>{var s=this.props.userInfo,a=this.state.imageWatermark,t=s.name,i=s.unionid,l=s.sourceType,u=s.jobNumber,E=s.position,g=[];a.indexOf("name")>-1&&g.push(r().createElement(xe.Z,{dataType:"userName",value:i,name:t,type:l})),a.indexOf("position")>-1&&g.push(r().createElement("span",null,E)),a.indexOf("jobnumber")>-1&&g.push(r().createElement("span",null,u)),a.length>0&&this.setState({watermark:g.map((k,B)=>r().createElement("span",{key:B},k))})},this.handleError=s=>{var a=this.props.onError;a&&a(s)},this.getImageUrl=(0,p.Z)(y().mark(function s(){var a,t,i,l,u,E,g,k,B,F;return y().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(a=n.props,t=a.resourceInfo,i=a.t,l=t.playId,u=t.url,E=t.storageType,g=u,!E){W.next=21;break}if(E!=="ALIBABA_PRIVATE"){W.next=15;break}return W.next=7,(0,w.J7)(l);case 7:if(k=W.sent,!k){W.next=12;break}g=k,W.next=13;break;case 12:return W.abrupt("return",d.default.info(i("privateCloud.docReadError")));case 13:W.next=21;break;case 15:if(E!=="LOCAL"){W.next=21;break}return W.next=18,J(l);case 18:B=W.sent,F=B.data,F.code===0&&(g="".concat(u,"?auth_key=").concat(F.data.auth_key));case 21:n.setState({imageUrl:[g]},()=>{var Q=n.state.imageUrl,ae="image-business",ie=document.querySelectorAll(".".concat(ae,"-image img"));ie.forEach((oe,Y)=>{oe.onerror=()=>{n.handleError(Q[Y])}})});case 22:case"end":return W.stop()}},s)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var n="image-business",s=this.props.resourceInfo,a=s.preview,t=a===void 0?!1:a,i=this.state,l=i.watermark,u=i.imageUrl;return r().createElement("div",{className:n},r().createElement(_e.Z,{scenes:"image"}),r().createElement(qe.Z,{className:"".concat(n,"-carousel")},u.map((E,g)=>r().createElement("div",{className:"".concat(n,"-image"),key:g.toString()},r().createElement(et.Z,{src:E,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Fe.defaultProps={prefixCls:"watch-image-page"};var at=(0,c.$j)(tt)((0,f.Z)()(Fe)),rt=ee=>({userInfo:ee.user});class nt extends r().Component{constructor(){var n;super(...arguments);n=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,p.Z)(y().mark(function s(){var a,t,i;return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,w.Gw)();case 2:a=u.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],i=(0,C.RG)(a,t),n.setState(i,()=>{n.renderWatermark()});case 6:case"end":return u.stop()}},s)})),this.renderWatermark=()=>{var s=this.props.userInfo,a=this.state.htmlWatermark,t=s.name,i=s.unionid,l=s.sourceType,u=s.jobNumber,E=s.position,g=[];a.indexOf("name")>-1&&g.push(r().createElement(xe.Z,{dataType:"userName",value:i,name:t,type:l})),a.indexOf("position")>-1&&g.push(r().createElement("span",null,E)),a.indexOf("jobnumber")>-1&&g.push(r().createElement("span",null,u)),a.length>0&&this.setState({watermark:g.map((k,B)=>r().createElement("span",{key:B},k))})},this.saveProgress=()=>{var s=this.props,a=s.studyInfo,t=s.mode,i=s.userInfo,l=i.enterpriseId,u=i.id;t==="learn"&&(0,C.Gp)({studyInfo:a,enterpriseId:l,userId:u})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var n="html-business",s=this.props.resourceInfo,a=s.url,t=this.state.watermark;return r().createElement("div",{className:n},r().createElement("div",{className:"".concat(n,"__html-watermark")},t),r().createElement("iframe",{title:"html",className:"".concat(n,"_iframe"),src:a}))}}var st=(0,c.$j)(rt)((0,f.Z)()(nt)),it=e(57068),ot=e(1164),lt=ee=>({userInfo:ee.user});class ut extends r().PureComponent{constructor(){super(...arguments);this.getHost=n=>{var s=n.split("//"),a=s[1].split("/");return[s[0],a[0]].join("//")},this.getScormUrl=()=>{var n=this.props,s=n.studyInfo,a=n.mode,t=n.userInfo,i=n.resourceInfo,l=n.from,u=t.enterpriseId,E=t.id,g=i.url,k=this.getHost(g);if(a==="learn"){var B=(0,h.Z)({userId:E,enterpriseId:u,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(g),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},s);return"".concat(k).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(it.stringify(B))}return"".concat(k,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(g))},this.handleOpenScormLink=n=>{ot.Z.targetTo({path:n,isExternalLink:!0})}}render(){var n=this.props.t,s="scorm-business",a=this.getScormUrl(),t=(0,se.UI)("SCORM_EXTERNAL_WATCH");return r().createElement("div",{className:s},t?r().createElement("div",{className:"".concat(s,"_scorm")},r().createElement("img",{className:"".concat(s,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),r().createElement("h5",null,n("resourcePlay.scormTip")),r().createElement(P.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},n("resourceLibrary.h5LinkPlayButton"))):r().createElement("iframe",{title:"scorm",className:"".concat(s,"_iframe"),src:a}))}}var dt=(0,c.$j)(lt)((0,f.Z)()(ut));class ct extends r().Component{render(){var n=this.props,s=n.visible,a=n.title,t=n.onCancel,i=n.t,l=r().createElement("span",null,a);return r().createElement(ne.ZP,{visible:s,title:l,onCancel:t,footer:null},r().createElement("div",{className:"ban-preview"},r().createElement("div",{className:"ban-preview-center"},r().createElement("img",{src:m(),alt:"picture"}),r().createElement("h2",null,i("localStorage.tip")),r().createElement("p",null,i("localStorage.banPreview"))),r().createElement("hr",null),r().createElement(P.Z,{type:"primary",className:"know",onClick:t},i("localStorage.onKnow"))))}}var pt=(0,f.Z)()(ct);class je extends _.Component{constructor(){var n;super(...arguments);n=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=s=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(s)},this.onGetVideoBusiness=s=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=s,t(s)},this.onFullScreen=()=>{var s=this.state.fullScreen;this.setState({fullScreen:!s})},this.handleJudgeNetwork=(0,p.Z)(y().mark(function s(){var a,t,i,l,u,E,g,k,B,F,M,W=arguments;return y().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a=W.length>0&&W[0]!==void 0?W[0]:null,t=n.props,i=t.resourceInfo,l=t.watchType,u=i.storageType,E=i.playId,g=i.originUrl,k=l==="image"||l==="video"||l==="doc",B=null,a?B=a:g?B=g:B=i.url,!(k&&B&&E&&u&&u==="LOCAL")){ae.next=22;break}return ae.prev=7,ae.next=10,(0,w.NY)(E);case 10:return F=ae.sent,ae.next=13,(0,w.Hy)(B,F);case 13:M=ae.sent,M?n.setState({showBan:"no"}):n.setState({showBan:"yes"}),ae.next=20;break;case 17:ae.prev=17,ae.t0=ae.catch(7),n.setState({showBan:"yes"});case 20:ae.next=23;break;case 22:n.setState({showBan:"no"});case 23:case"end":return ae.stop()}},s,null,[[7,17]])})),this.renderOuter=()=>{var s=this.props,a=s.prefixCls,t=s.watchType,i=s.onCurrentTime,l=i===void 0?()=>{}:i;return r().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&r().createElement(we,(0,Z.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&r().createElement(Je,this.props),t==="image"&&r().createElement(at,(0,Z.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&r().createElement(st,this.props),t==="scorm"&&r().createElement(dt,this.props))},this.renderFooter=()=>{var s=this.props,a=s.resourceInfo.storageType,t=s.t,i=this.state.showBan,l=i!==""&&i==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?r().createElement(P.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var n=this.props.mode;n==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(n){n.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var n=this.state,s=n.showBan,a=n.fullScreen,t=this.props,i=t.mode,l=t.previewWay,u=t.previewInfo,E=t.prefixCls,g=t.t,k=t.showEnlarge,B=t.footer,F=B===void 0?null:B,M=u.visible,W=u.destroyOnClose,Q=u.title,ae=s!==""&&s==="yes",ie=s!==""&&s==="no";return r().createElement(_.Fragment,null,i==="preview"&&l==="popups"&&r().createElement(ne.ZP,{destroyOnClose:W,visible:M,title:Q,onCancel:this.onCancelModel,footer:F||this.renderFooter(),wrapClassName:"".concat(E,"-resource ").concat(a?"".concat(E,"-full"):"")},k&&r().createElement("div",{className:"".concat(E,"-resource-out-icon"),onClick:this.onFullScreen},a?r().createElement(o.Z,{className:"".concat(E,"-resource-icon")}):r().createElement(v.Z,{className:"".concat(E,"-resource-icon")})),r().createElement("div",{className:"".concat(E,"-inner")},!M&&r().createElement(O.Z,{size:"large"}),M&&ie&&this.renderOuter(),ae&&r().createElement(x,null))),(i==="learn"||l==="page")&&ie&&this.renderOuter(),(i==="learn"||l==="page")&&r().createElement(pt,{visible:ae,title:Q||g("questionn.warmHint"),onCancel:this.onCancel}))}}je.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var mt=(0,f.Z)("translation",{withRef:!0})(je)},41225:function(le,$,e){"use strict";e.d($,{Hy:function(){return p},NY:function(){return A},Gw:function(){return y},sH:function(){return o},BR:function(){return _},qp:function(){return v},Xc:function(){return f},J7:function(){return r}});var S=e(57361),O=e(9754),j=e.n(O),P=e(10237),Z=e(37055),p=function(){var T=(0,S.Z)(j().mark(function m(){var U,x,h,I,d,c,C,w=arguments;return j().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return U=w.length>0&&w[0]!==void 0?w[0]:"",x=w.length>1&&w[1]!==void 0?w[1]:"",h="",U.startsWith("http")?(I=U.split("//")[1].trim(),d=I.split("/")[0],h="https://".concat(d,"/cms/ticket")):(c=U.split("/")[0],h="https://".concat(c,"/cms/ticket")),N.prev=4,N.next=7,P.ZQ.get({url:h,params:{ticket:x}});case 7:if(C=N.sent,!(C.status===200||C.status===403)){N.next=10;break}return N.abrupt("return",Promise.resolve(!0));case 10:return N.abrupt("return",Promise.resolve(!1));case 13:return N.prev=13,N.t0=N.catch(4),N.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return N.stop()}},m,null,[[4,13]])}));return function(){return T.apply(this,arguments)}}(),A=function(){var T=(0,S.Z)(j().mark(function m(U){var x,h;return j().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,P.ZQ.get({url:Z.ZP.local.getTicket(U)});case 2:if(x=d.sent,h=x.data,h.code!==0){d.next=6;break}return d.abrupt("return",Promise.resolve(h.data.ticket));case 6:return d.abrupt("return",Promise.resolve(""));case 7:case"end":return d.stop()}},m)}));return function(U){return T.apply(this,arguments)}}(),y=function(){var T=(0,S.Z)(j().mark(function m(){var U;return j().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,P.WY.get({url:Z.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return U=h.sent,h.abrupt("return",U.data.list);case 4:case"end":return h.stop()}},m)}));return function(){return T.apply(this,arguments)}}(),_=function(){var T=(0,S.Z)(j().mark(function m(U){var x,h,I;return j().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,P.WY.get({url:Z.ZP.localStorage.getPravateVideoUrl(U)});case 2:if(x=c.sent,x.data.code!==0){c.next=6;break}return h=x.data.data.videoPlayInfo,I=h===void 0?"":h,c.abrupt("return",I);case 6:return c.abrupt("return","");case 7:case"end":return c.stop()}},m)}));return function(U){return T.apply(this,arguments)}}(),r=function(){var T=(0,S.Z)(j().mark(function m(U){var x,h,I;return j().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return x=Z.ZP.localStorage.getPravateDocUrl(U),c.prev=1,c.next=4,P.WY.get({url:x});case 4:if(h=c.sent,I=h.data,!(I.code===0&&I.data)){c.next=8;break}return c.abrupt("return",I.data.docResourceDownloadUrl||"");case 8:return c.abrupt("return","");case 11:return c.prev=11,c.t0=c.catch(1),c.abrupt("return","");case 14:case"end":return c.stop()}},m,null,[[1,11]])}));return function(U){return T.apply(this,arguments)}}(),o=function(m){var U=m.studyInfo,x=m.progress,h=m.recent_start,I=m.page_count,d=m.enterpriseId,c=m.userId,C=m.token,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R,N=U.studyType;if(N==="studyTask"&&(R=Z.ZP.SaveProgress.studySaveProgress(U)),(N==="course"||N==="enterprise")&&(R=Z.ZP.SaveProgress.enterpriseCourseSaveProgress(U)),N==="studyProject"&&(R=Z.ZP.SaveProgress.projectSaveProgress(U)),N==="platform"&&(R="".concat(Z.ZP.SaveProgress.platformCourseSaveProgress(U))),(w||N==="platform")&&(R+="?enterprise_id=".concat(d,"&user_id=").concat(c)),w)return R+="&access_token=".concat(C||localStorage.getItem("token")),R;var L={progress:x,recent_start:h,tempTime:Date.parse(new Date)};return I&&(L.page_count=I),U.evaluationId&&(L.evaluation_id=U.evaluationId),P.WY.post({url:R,data:L})},v=T=>{var m=T.popupId,U=T.planId,x=T.resourceId,h=T.type;return P.WY.post({url:Z.ZP.TaskStudyRecord.setRandomPopupRecord(U),data:{course_id:x,terminal_type:"PC",popup_id:m,type:h}})},f=(T,m)=>{var U=Z.ZP.SaveProgress.reportStatusInterval(T);return P.WY.post({url:U,data:m})}},21594:function(le,$,e){"use strict";e.d($,{pu:function(){return Z},RG:function(){return p},Gp:function(){return A},O8:function(){return y}});var S=e(88986),O=e(69164),j=e(38642),P=e(41225),Z=_=>{var r="";switch(_){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":r="studyTask";break;case"enterprise":r="enterprise";break;case"courseProject":r="studyProject";break;case"platform":case"purchased":r="platform";break;default:break}return r},p=(_,r)=>{var o={};return r.forEach(v=>{var f=_.find(h=>h.type===v.type);if(f)if(v.type==="document_duration_limit"){var T=f.action_list,m=T.find(h=>h.type==="random_popup_verification");!(0,j.UI)("RANDOM_POPUP_VERIFY")||!m?o[v.name]="CLOSE":o[v.name]=m.param.checked==="true"?"OPEN":"CLOSE"}else if(v.type==="document_player"){var U=JSON.parse(f.actions);U.forEach(h=>{h.param.checked==="true"&&(o[v.name]=h.type)})}else if(v.type==="dynamic_watermark"){var x=f.action_list;x.forEach(h=>{h.type===v.resourceType&&h.param.checked==="true"&&(o[v.name]=h.param.comment)})}else o[v.name]=f.switch_status}),o},A=_=>{(0,P.sH)((0,S.Z)({progress:100,recent_start:1},_)).then(r=>{r&&r.data&&(0,O.Z)(r.data.integral_info||"")})},y=_=>{var r=document.createElement("div");return r.innerHTML=_,r.childNodes[0]}},43859:function(le,$,e){"use strict";var S=e(62029),O=e(81211),j=e(43358),P=e(34041),Z=e(12924),p=e.n(Z),A=e(94184),y=e.n(A),_=e(59239),r=e(55446),o=e.n(r),v=e(6793),f=_.Z.Item,T=P.Z.Option,m=U=>function(h){var I=h.field,d=h.form,c=h.hasFeedback,C=h.label,w=h.selectOptions,R=h.submitCount,N=h.type,L=h.displayType,D=h.labelCol,K=D===void 0?{}:D,b=h.wrapperCol,V=b===void 0?{}:b,H=h.required,G=H===void 0?!1:H,q=h.customError,X=q===void 0?!1:q,te=h.colon,z=te===void 0?!0:te,J=h.formItemClassName,re=(0,O.Z)(h,["field","form","hasFeedback","label","selectOptions","submitCount","type","displayType","labelCol","wrapperCol","required","customError","colon","formItemClassName"]),ne=d.touched[I.name],se=R>0,ce=d.errors[I.name],_e=ce&&se,ve=ce&&ne,Ue=ue=>{var de=ue!=null&&ue.target?ue.target.value:ue;d.setFieldValue(I.name,de),d.touched[I.name]||setTimeout(()=>{d.setFieldTouched(I.name,!0)},0)},Se=ue=>{var de={},De={},Be=ue;if(ue===void 0&&(Be=""),d.setFieldValue(I.name,Be),I.name==="courseList"&&ue&&Object.prototype.toString.apply(ue).slice(8,-1)==="Array"&&ue.length>0){de.startTime=ue[0].beginTime,De.startTime=Number((0,v.jZ)(ue[0].beginTime))+864e5;var pe=[];ue.forEach(Me=>{Me.endTime!==""&&pe.push(Me)}),pe.length>0&&d.values.dateRange.endTime?(0,v.jZ)(d.values.dateRange.endTime)>pe[pe.length-1].endTime?(de.endTime=d.values.dateRange.endTime,De.endTime=Number((0,v.jZ)(d.values.dateRange.endTime))-864e5):pe.length>0&&d.values.dateRange.endTime&&(0,v.jZ)(d.values.dateRange.endTime)<=pe[pe.length-1].endTime&&(de.endTime=pe[pe.length-1].endTime,De.endTime=Number((0,v.jZ)(pe[pe.length-1].endTime))-864e5):pe.length>0&&!d.values.dateRange.endTime&&(de.endTime=pe[pe.length-1].endTime,De.endTime=Number((0,v.jZ)(pe[pe.length-1].endTime))-864e5),pe.length>0&&d.setFieldValue("dateRange",de),d.setFieldValue("dateRangeLimit",De)}if(I.name==="stages"&&ue&&Object.prototype.toString.apply(ue).slice(8,-1)==="Array"&&ue.length>0){var Pe=[];ue.forEach(Me=>{Me.list&&Me.list.forEach(be=>{be.componentName==="OfflineTrain"&&Pe.push(be.data)})}),Pe.length>0&&(de.startTime=Pe[0].beginTimeStr,de.endTime=Pe[Pe.length-1].endTimeStr,de.startTime=Number((0,v.jZ)(Pe[0].beginTimeStr))+864e5,de.endTime=Number((0,v.jZ)(Pe[Pe.length-1].endTimeStr))-864e5,d.setFieldValue("dateRangeLimit",de))}d.touched[I.name]||setTimeout(()=>{d.setFieldTouched(I.name,!0)},0)},Ae=()=>d.setFieldTouched(I.name,!0),we=y()(["cl-form__field"]);return p().createElement("div",{className:we},p().createElement(f,{label:C,className:"$$CL-FORM-ERROR__".concat(I.name," antd-field-item ").concat(J),hasFeedback:!!(c&&se||c&&ne),help:(_e||ve)&&!X?ce:!1,validateStatus:(_e||ve)&&!X?"error":"success",labelCol:K,wrapperCol:V,required:G,colon:z},L==="Custom"?p().createElement(U,(0,S.Z)({},I,re,{displayType:L,onBlur:Ae,onFieldChange:Se})):p().createElement(U,(0,S.Z)({},I,re,{displayType:L,onBlur:Ae,onChange:N?Ue:Se,form:d}),w&&w.map(ue=>p().createElement(T,{key:ue},ue)))))};$.Z=m},11449:function(le,$,e){"use strict";e.d($,{Z:function(){return K}});var S=e(88986),O=e(33565),j=e(12924),P=e.n(j),Z=e(3115),p=e(49111),A=e(19650),y=e(62029),_=e(57663),r=e(71577),o=e(91768),v=e(28216),f=e(37055),T=e(10237);function m(b){var V=f.ZP.getHelpContentByMenuKey(),H={key:b};return T.WY.get({url:V,params:H})}var U=e(74228),x=e.n(U),h=e(1164),I=e(76466),d=e(38642);class c extends P().Component{constructor(V){var H;super(V);H=this,this.getHelpContentByMenuKey=()=>{var G=this.props.defaultMenuKey;m(G).then(q=>{var X=q.data,te=X.help_url,z=X.video_url;this.setState({videoUrl:z,helpUrl:te})})},this.handleOpenHelpUrl=G=>{if((0,d.ve)()){window.open(G,"_blank");return}h.Z.targetTo({path:G,isExternalLink:!0})},this.handleOpenVideo=function(G){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.props.t("helpCenter.video");H.setState(X=>({resourcePlayInfo:(0,S.Z)((0,S.Z)({},X.resourcePlayInfo),{},{resourceInfo:{originUrl:G,source:{FD:G,OD:G},contentType:"mp4"}}),previewInfo:(0,S.Z)((0,S.Z)({},X.previewInfo),{},{title:q,visible:!0,onCancel:H.handleCancelPreview})}))},this.handleCancelPreview=()=>{var G=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,S.Z)((0,S.Z)({},G),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:V.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var V=this.state,H=V.helpUrl,G=V.resourcePlayInfo,q=V.previewInfo,X=V.videoUrl,te=this.props.t;return P().createElement("div",{className:x().helpCenter},X&&P().createElement(r.Z,{type:"link",className:x()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(X)},te("helpCenter.video")),H&&P().createElement(r.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(H)},te("helpCenter.tutorial")),P().createElement(I.Z,(0,y.Z)({},G,{previewInfo:q})))}}var C=b=>({defaultMenuKey:b.currentRoute.menuKey});c.defaultProps={defaultMenuKey:""};var w=(0,v.$j)(C)((0,o.Z)()(c));function R(b){var V=b.extra,H=localStorage.getItem("dingPersonnel"),G=sessionStorage.getItem("dingPersonnel");return P().createElement(A.Z,null,V,H!=="dingPersonnel"&&G!=="dingPersonnel"&&(0,d.eY)("COMMONEXTRA_HELP_CENTER")&&P().createElement(w,null))}var N=R,L=e(4408);function D(b){var V=(0,j.useState)({helpCenter:(0,d.eY)("HEAD_HELP_CENTER_BUT")}),H=(0,O.Z)(V,1),G=H[0],q=b.pageContainerParams,X=q===void 0?{}:q,te=b.noPadding,z=te===void 0?!1:te,J=b.isPersonal,re=J===void 0?!1:J,ne=b.pageTitle,se=b.className,ce=se===void 0?"":se,_e={extra:G.helpCenter?P().createElement(N,{extra:X.extra}):X.extra},ve=(0,S.Z)((0,S.Z)({},X),_e);return P().createElement("div",{className:"page-container-content ".concat(z?"page-container-noPadding":""," ").concat(re?"page-container-content_personal_background":""," ").concat(ce)},ne&&P().createElement(L.Z,{title:ne}),re?P().createElement(Z.Z,null,b.children):P().createElement(Z.Z,ve,b.children))}var K=D},57635:function(le,$,e){"use strict";var S=e(57663),O=e(71577),j=e(13062),P=e(71230),Z=e(89032),p=e(15746),A=e(34792),y=e(48086),_=e(57361),r=e(9754),o=e.n(r),v=e(12924),f=e.n(v),T=e(28216),m=e(91768),U=e(80991),x=e(82416),h=e(7584),I=e(70075),d=e(3407),c=e(6793),C=e(2396),w=e(86726),R=L=>{var D=L.user;return{user:D}};class N extends f().Component{constructor(D){var K;super(D);K=this,this.getAccount=(0,_.Z)(o().mark(function b(){var V,H,G;return o().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,x.fn)();case 2:V=X.sent,H=V.data,G="detail",H.enterprise_app_id||(G="form"),K.initialValues={enterprise_app_id:H.enterprise_app_id,enterprise_private_key:H.enterprise_private_key,enterprise_public_key:H.enterprise_public_key,status:H.status},K.setState({initialValues:K.initialValues,showType:G,requestStatus:!0});case 8:case"end":return X.stop()}},b)})),this.onSubmit=function(){var b=(0,_.Z)(o().mark(function V(H,G){var q;return o().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return q=K.props.t,G.setSubmitting(!0),te.next=4,(0,x.Iw)({enterprise_app_id:(0,c.fy)(H.enterprise_app_id),enterprise_private_key:(0,c.fy)(H.enterprise_private_key),enterprise_public_key:(0,c.fy)(H.enterprise_public_key)});case 4:G.setSubmitting(!1),y.default.success(K.initialValues.enterprise_app_id?q("account.updateSuccess"):q("account.bindingSuccess")),K.setState({showType:"detail",requestStatus:!1},()=>K.getAccount());case 7:case"end":return te.stop()}},V)}));return function(V,H){return b.apply(this,arguments)}}(),this.submitForm=()=>{if(this.state.showType==="detail"){this.setState({showType:"form"});return}this.assignFormRef.current.submitForm()},this.validateAppId=b=>{var V=(0,c.me)(),H=d.Z[V].validation.pleaseEnter,G=d.Z[V].validation.num16;return(0,c.fy)(b)?/^\d{16}$/.test((0,c.fy)(b))?"":G:H},this.validate=b=>{var V=(0,c.me)(),H=d.Z[V].validation.pleaseEnter;return(0,c.fy)(b)?"":H},this.renderForm=()=>{var b=this.state.requestStatus,V=this.props.t;return f().createElement("div",{className:"enterprise_form"},b?f().createElement(U.J9,{ref:this.assignFormRef,initialValues:this.initialValues,onSubmit:this.onSubmit,render:H=>f().createElement(U.l0,null,f().createElement(U.gN,{name:"enterprise_app_id",label:V("account.merchantAPPID"),component:h.Z,validate:this.validateAppId,defaultValue:H.values.enterprise_app_id,style:{width:"700px"},placeholder:V("validation.pleaseEnter"),type:"text"}),f().createElement(U.gN,{name:"enterprise_public_key",label:V("account.alipayPublicKKey"),component:I.Z,validate:G=>(0,C.QK)(G,V("validation.pleaseEnter")),defaultValue:H.values.enterprise_public_key,placeholder:V("validation.pleaseEnter"),type:"text"}),f().createElement(U.gN,{name:"enterprise_private_key",label:V("account.merchantAPPprivateKKey"),validate:G=>(0,C.QK)(G,V("validation.pleaseEnter")),defaultValue:H.values.enterprise_private_key,component:I.Z,placeholder:V("validation.pleaseEnter"),type:"text"}))}):null)},this.handleKeyData=function(b){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:15,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:15,G=arguments.length>3?arguments[3]:void 0,q=b.length-V-H;G&&(q=G);for(var X="",te=0;te<q;te++)X+="x";return b.substring(0,V)+X+b.substring(b.length-H)},this.renderDetail=()=>{var b=this.props.t,V=this.state.initialValues;return f().createElement("div",{className:"account-form_detail"},f().createElement("p",{className:"status"},V.status==="SUCCESS"?b("account.bindingSuccess"):b("account.bindingFailure")),f().createElement("p",null,b("account.accountInformation")),f().createElement(P.Z,{className:"line_account"},f().createElement(p.Z,{className:"break_text break_text_left",span:4},b("account.merchantAPPID"),"\uFF1A"),f().createElement(p.Z,{className:"break_text",span:15},this.handleKeyData(V.enterprise_app_id,5,5))),f().createElement(P.Z,{className:"line_account"},f().createElement(p.Z,{className:"break_text break_text_left",span:4},b("account.alipayPublicKKey"),"\uFF1A"),f().createElement(p.Z,{className:"break_text ",span:15},this.handleKeyData(V.enterprise_public_key,15,15,10))),f().createElement(P.Z,{className:"line_account"},f().createElement(p.Z,{className:"break_text break_text_left",span:4},b("account.merchantAPPprivateKKey"),"\uFF1A"),f().createElement(p.Z,{className:"break_text",span:15},this.handleKeyData(V.enterprise_private_key,15,15,10))))},this.initialValues={status:"",enterprise_app_id:"",enterprise_private_key:"",enterprise_public_key:""},this.state={showType:"detail",requestStatus:!1,initialValues:this.initialValues},this.assignFormRef=f().createRef()}componentDidMount(){this.getAccount()}render(){var D=this.props.t,K=this.state.showType,b=(0,w.V9)("accountSetting",this.props.user.modules);return f().createElement("div",{className:"assgin-edit-account"},f().createElement("div",{className:"form-content"},K==="form"?this.renderForm():this.renderDetail(),f().createElement("div",{className:"account_footer_button_container"},(0,w.H3)("modify",b)&&f().createElement(O.Z,{className:"form-page-container-bottom-btn",type:"primary",onClick:this.submitForm,htmlType:"submit"},D(K==="detail"?"common.update":"common.submit")))))}}$.Z=(0,T.$j)(R)((0,m.Z)()(N))},11369:function(le,$,e){"use strict";var S=e(14781),O=e(53431),j=e(57663),P=e(71577),Z=e(49111),p=e(19650),A=e(22385),y=e(31097),_=e(57361),r=e(34792),o=e(48086),v=e(71194),f=e(57016),T=e(88986),m=e(14965),U=e(11448),x=e(9754),h=e.n(x),I=e(12924),d=e.n(I),c=e(28216),C=e(78001),w=e(91768),R=e(82416),N=e(36202),L=e(64262),D=e(31457),K=e(30311),b=U.Z.RangePicker,V=q=>{var X=q.user;return{user:X}},H={page_number:1,page_size:10};class G extends d().Component{constructor(X){var te;super(X);te=this,this.onPageChange=z=>{H.page_number=z,this.getTableData()},this.onChangeTime=z=>{var J=this.state.searchForm;this.setState({searchForm:(0,T.Z)((0,T.Z)({},J),{},{start:z?z[0].format("YYYY-MM-DD HH:mm:ss"):"",end:z?z[1].format("YYYY-MM-DD HH:mm:ss"):""}),searchTime:z},()=>{this.getTableData()})},this.handleDepartmentTreeSelectChange=z=>{this.setState({departmentId:z},()=>{this.getTableData()})},this.handleReset=()=>{var z=this.state.refreshOrgTree;this.setState({searchTime:null,departmentId:null,refreshOrgTree:!z,searchForm:(0,T.Z)((0,T.Z)({},this.state.searchForm),{},{start:"",end:""})},()=>{this.getTableData()})},this.handleExport=()=>{f.Z.confirm({title:C.Z.t("common.tip"),content:C.Z.t("payment.paymentListExport"),onOk:()=>{this.exportTableData()}})},this.exportTableData=()=>{var z=this.state,J=z.searchForm,re=z.payType,ne=z.departmentId;(0,R.aF)({start:J.start,end:J.end,pay_channel:re,department_id:ne}).then(se=>{var ce=se.data;ce.code===0?((0,D.Pp)(this.props),o.default.success(C.Z.t("study.compoundSucceed"))):o.default.error(ce.msg)}).catch(se=>{console.error(se)})},this.getTableData=(0,_.Z)(h().mark(function z(){var J,re,ne,se,ce;return h().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return J=te.state,re=J.searchForm,ne=J.payType,se=J.departmentId,te.setState({isLoading:!0}),ve.next=4,(0,R.dw)({start:re.start,end:re.end,page_number:H.page_number,page_size:H.page_size,pay_channel:ne,department_id:se});case 4:ce=ve.sent,te.setState({payType:ne,isLoading:!1,taskList:ce.data.list,searchForm:(0,T.Z)((0,T.Z)({},re),{},{total:ce.data.total})});case 6:case"end":return ve.stop()}},z)})),this.changePayType=z=>{this.setState({payType:z},()=>{H.page_number=1,this.getTableData()})},this.getTableColumn=()=>{var z=this.props.t;return[{title:z("account.tradingHour"),dataIndex:"payment_time",key:"payment_time",width:150,fixed:this.props.user.appType==="wx_app"?!1:"left"},{title:z("payment.orderNumber"),dataIndex:"order_no",key:"order_no",width:200},{title:z("payment.paymentChannel"),dataIndex:"pay_channel",key:"pay_channel",width:100,render:J=>z(J==="WXPAY"?"registerLogin.weChat":"payment.aliPay")},{title:this.props.t("payment.thirdPayNo"),width:230,dataIndex:"third_pay_no",ellipsis:!0},{title:this.props.t("integralMall.productName"),width:120,dataIndex:"goods_name",ellipsis:!0},{title:this.props.t("payment.goodsCount"),width:100,dataIndex:"goods_count",render:(J,re)=>{var ne=re.goods_count,se=re.order_no;return ne>0?d().createElement(K.Z,{name:ne,onClick:()=>this.props.showGoodsCount(se)}):0},ellipsis:!0},{title:z("dashboard.price"),dataIndex:"amount",key:"amount",width:150,render:J=>d().createElement("span",null,"\uFFE5".concat(J))},{title:z("study.result"),dataIndex:"result",key:"result",width:150,render:J=>d().createElement("span",null,J==="SUCCESS"?z("component.successLabel"):"")},{title:z("study.operator"),dataIndex:"operator",width:150,key:"operator"},{title:z("common.department"),dataIndex:"department",width:200,key:"department",render:(J,re)=>{var ne=re.department;return d().createElement(y.Z,{title:ne},d().createElement("div",{className:"cl-text-ellipsis",style:{width:200}},ne||"/"))},fixed:"right"}]},this.changeSize=(z,J)=>{H.page_size=J,H.page_number=1,this.getTableData()},this.headerTitle=()=>{var z=this.state,J=z.searchTime,re=z.refreshOrgTree;return d().createElement(p.Z,{size:"small",wrap:!0},d().createElement(L.Z,{treeSelect:!0,handleTreeSelectChange:this.handleDepartmentTreeSelectChange,checkable:!1,width:245,refresh:re}),d().createElement(b,{style:{width:"332px"},format:"YYYY-MM-DD HH:mm",value:J,showTime:!0,onChange:this.onChangeTime}))},this.state={isLoading:!1,taskList:[],searchTime:null,departmentId:0,refreshOrgTree:!1,searchForm:{start:"",end:"",total:0}}}componentDidMount(){this.props.onRef(this),H.page_number=1,H.page_size=10;var X="ALL";dd.version?X="ALIPAY":localStorage.getItem("loginMode")==="WX_LOGIN"&&(X="WXPAY"),this.setState({payType:X},()=>{this.getTableData()})}render(){var X=this.state,te=X.isLoading,z=X.taskList,J=X.searchForm,re=this.props.t,ne=this.getTableColumn();return d().createElement("div",{className:"account-table account_table_account"},d().createElement("div",{className:"account_page-content-list"},d().createElement(N.f,{loading:te,scroll:{x:"max-content",y:"100%"},dataSource:z,columns:ne,rowKey:se=>se.id,pagination:!1,headerTitle:this.headerTitle(),toolBarRender:()=>[d().createElement(P.Z,{key:"reset",onClick:this.handleReset},re("common.reset")),d().createElement(P.Z,{key:"export",type:"primary",onClick:this.handleExport},re("common.exportData"))],tableUUID:"831178f5-0b4b-47a8-9651-60325342b131"})),z.length>0?d().createElement("div",{className:"account_page"},d().createElement(O.Z,{current:H.page_number,total:J.total,showTotal:se=>"".concat(re("component.totalLabel")).concat(se).concat(re("component.itemLabel")),onChange:this.onPageChange,pageSize:H.page_size,onShowSizeChange:(se,ce)=>this.changeSize(se,ce),showSizeChanger:!0})):null)}}$.Z=(0,c.$j)(V)((0,w.Z)()(G))},89809:function(le,$,e){"use strict";e.r($);var S=e(57663),O=e(71577),j=e(18106),P=e(88108),Z=e(12924),p=e.n(Z),A=e(28216),y=e(91768),_=e(1164),r=e(11449),o=e(4408),v=e(57635),f=e(11369),T=x=>{var h=x.user;return{user:h}},m=P.Z.TabPane;class U extends p().Component{constructor(h){super(h);this.handleTypeChange=I=>{this.setState({showType:I})},this.turnHelpPage=()=>{_.Z.targetTo({path:"https://www.yuque.com/xingchendongdong/ea5wrn/alpdo4",isExternalLink:!0})},this.state={showType:"bind"}}render(){var h=this.props.t,I=this.state.showType;return p().createElement(r.Z,{pageContainerParams:{header:{title:h("setting.accountSetting")}}},p().createElement(o.Z,{title:h("setting.accountSetting")}),p().createElement("div",{className:"classify-container_body account-setting"},p().createElement("div",{className:"classify-container"},p().createElement("div",{className:"classify-container__content_form"},p().createElement(P.Z,{defaultActiveKey:"bind",activeKey:I,onChange:d=>this.handleTypeChange(d)},p().createElement(m,{tab:h("account.accessAccount"),key:"bind"},p().createElement("div",{className:"link_container"},p().createElement(O.Z,{type:"link",onClick:this.turnHelpPage},h("account.helpGuide"))),p().createElement(v.Z,null)),p().createElement(m,{tab:h("account.transactionDetail"),key:"detail"},p().createElement(f.Z,null)))))))}}$.default=(0,A.$j)(T)((0,y.Z)()(U))},82416:function(le,$,e){"use strict";e.d($,{fn:function(){return j},Iw:function(){return P},dw:function(){return Z},aF:function(){return p},Pe:function(){return A},v7:function(){return y},dt:function(){return _},gx:function(){return r}});var S=e(37055),O=e(10237);function j(){var o=S.ZP.AccountSetting.getAccountInfo();return O.WY.get({url:o})}function P(o){var v=S.ZP.AccountSetting.bindAccount();return O.WY.post({url:v,data:o})}function Z(o){var v=S.ZP.AccountSetting.goodsOrder();return O.WY.get({url:v,params:o})}function p(o){var v=S.ZP.AccountSetting.getGoodsOrderExport();return O.WY.get({url:v,params:o})}function A(){var o=S.ZP.AccountSetting.getWxAccountInfo();return O.WY.get({url:o})}function y(o){var v=S.ZP.AccountSetting.getWxAccountInfo();return O.WY.post({url:v,data:o})}function _(){var o=S.ZP.StudyProjectList.getAccountInfo();return O.WY.get({url:o})}function r(o){var v=S.ZP.StudyProjectList.verifyAccountInformation();return O.WY.post({url:v,data:o})}},9849:function(le,$,e){"use strict";e.d($,{Ej:function(){return Z},kL:function(){return p},T:function(){return A},NU:function(){return y},FL:function(){return _},fn:function(){return r},bm:function(){return o},jY:function(){return v},Vs:function(){return f},li:function(){return T},Nl:function(){return m},YF:function(){return U},Q6:function(){return x},zW:function(){return h},Zv:function(){return I},Qg:function(){return d},qc:function(){return c},Ve:function(){return w},rS:function(){return R},Rh:function(){return N}});var S=e(10237),O=e(37055),j=e(38642),P={zaraFlag:(0,j.UI)("ZARA_H5")};function Z(L,D){var K=O.ZP.StudyProjectList.startStudy(L);return S.WY.post({url:K,data:D})}function p(L){var D=O.ZP.Common.enroll(L);return S.WY.post({url:D})}function A(L,D){var K=L.courseId,b=O.ZP.StudyProjectList.studyProject(K);return S.WY.get({url:b,params:D})}function y(L){var D=L.id,K=P.zaraFlag?O.m1.getAssessmentProjectInfo(D):O.m1.getProjectInfo(D);return S.WY.get({url:K})}function _(L){var D=L.courseId,K=O.ZP.EnterpriseCourse.addScanCount(D);return S.WY.post({url:K})}function r(){var L=O.ZP.StudyProjectList.getAccountInfo();return S.WY.get({url:L})}function o(L){var D=O.ZP.StudyProjectList.projectCertiUrl(L);return S.WY.get({url:D})}function v(L){var D=L.courseId,K=O.ZP.Courses.like(D);return S.WY.post({url:K})}function f(L){var D=O.ZP.EnterpriseCourse.addCommentAndScore();return S.qg.post({url:D,data:L})}function T(L){var D=O.ZP.EnterpriseCourse.getCourseComments();return S.WY.get({url:D,params:L})}function m(L){var D=O.ZP.EnterpriseCourse.addCommentAndScore();return S.qg.post({url:D,data:L})}function U(L){var D=O.ZP.EnterpriseCourse.deleteComment();return S.qg.post({url:D,data:L})}function x(L,D){var K=O.ZP.StudyProjectList.projectStudyRecord(L);return S.WY.get({url:K,params:D})}function h(L){var D=O.ZP.DingSpaceId.getSpaceId();return S.WY.get({url:D,params:L})}function I(L,D){var K=O.ZP.PlatformCourse.learningUrl(L);return S.WY.get({url:K,params:D})}function d(L){var D=O.ZP.MyExamTask.examIntro({examId:L});return S.WY.get({url:D})}function c(L){var D=O.ZP.MyExamTask.examCheckStatus({examId:L});return S.WY.get({url:D})}function C(L,D){var K=CONFIG.Common.getOperateLog(L);return formDataRequest.get({url:K,params:D})}function w(L,D){var K=P.zaraFlag?O.ZP.StudyProjectList.changeCustomStatus(L):O.ZP.StudyProjectList.changeStatus(L);return S.WY.post({url:K,data:D})}function R(L){var D=O.ZP.StudyProjectList.getProjectReward(L);return S.WY.get({url:D})}function N(L){var D=O.ZP.subsidyGz.subsidyCourseSetting(L);return S.WY.get({url:D})}},91648:function(le,$,e){"use strict";e.d($,{Z:function(){return S}});function S(O,j){var P,Z,p,A,P;if(Z="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),P=[],p=void 0,j=j||Z.length,O)for(p=0;p<O;)P[p]=Z[0|Math.random()*j],p++;else for(A=void 0,P[8]=P[13]=P[18]=P[23]="-",P[14]="4",p=0;p<36;)P[p]||(A=0|Math.random()*16,P[p]=Z[p===19?A&3|8:A]),p++;return P.join("")}},86726:function(le,$,e){"use strict";e.d($,{V9:function(){return O},H3:function(){return j},e:function(){return P},F:function(){return Z}});var S=e(93485);function O(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=[];function _(r,o){var v=(0,S.Z)(o),f;try{for(v.s();!(f=v.n()).done;){var T=f.value;if(T.key===r){y=T.actions;break}T.children instanceof Array&&T.children.length&&_(p,T.children)}}catch(m){v.e(m)}finally{v.f()}}return _(p,A),y}function j(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=A.find(_=>_.key===p)||{};return y.checked||!1}function P(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=!1;function _(r,o){var v=(0,S.Z)(o),f;try{for(v.s();!(f=v.n()).done;){var T=f.value;if(T.key===r){y=T.checked;break}T.children instanceof Array&&T.children.length&&_(p,T.children)}}catch(m){v.e(m)}finally{v.f()}}return _(p,A),y}function Z(p){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y="";function _(r,o){var v=(0,S.Z)(o),f;try{for(v.s();!(f=v.n()).done;){var T=f.value;if(T.key===r){y=T.id;break}T.children instanceof Array&&T.children.length&&_(p,T.children)}}catch(m){v.e(m)}finally{v.f()}}return _(p,A),y}},69164:function(le,$,e){"use strict";var S=e(34792),O=e(48086);function j(P){P&&P.length>0&&O.default.success(P)}$.Z=j},2396:function(le,$,e){"use strict";e.d($,{fA:function(){return j},kh:function(){return P},kR:function(){return Z},rw:function(){return A},$s:function(){return y},q_:function(){return _},QK:function(){return r}});var S=e(6793),O={limitWords(o,v){return{rules:[{max:o,message:"\u6700\u591A\u8F93\u5165".concat(o,"\u4E2A\u5B57")},{required:!0,message:v||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(o){return{rules:[{max:o,message:"\u6700\u591A\u8F93\u5165".concat(o,"\u4E2A\u6807\u7B7E")}]}},required(o){return{rules:[{required:!0,message:o||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(o,v){return{rules:[{required:!0,message:o||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:v}]}}},j={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s]|[ ]$/gi},P=o=>isNaN(o)||!o||!(o>=0&&o<1e3)||!j.score.test(o),Z=o=>isNaN(o)||!o||!(o>-1e3&&o<1e3),p=o=>isNaN(o)||!o||!(o>=0&&o<1e3)||!j.examScore.test(o),A=(o,v)=>{for(var f=0,T=0;T<o.length;T++){var m=o.charAt(T);if(m.match(/[^\x00-\xff]/ig)!=null?f+=1:f+=.5,f>v)return T}return 0},y=o=>{for(var v=0,f=0;f<o.length;f++){var T=o.charAt(f);T.match(/[^\x00-\xff]/ig)!=null?v+=1:v+=.5}return v},_=(o,v)=>{var f=o.target.value,T=o.target.dataset.originLength;if(o.target.dataset.originLength||(T=v,o.target.dataset.originLength=T),!!T){var m=y(f);m*1<v*1?o.target.setAttribute("maxLength",v*2):o.target.setAttribute("maxLength",v)}},r=(o,v)=>{var f="";return(!o||!(0,S.fy)(o))&&(f=v),f}},4412:function(le){le.exports="data:image/png;base64,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"}}]);
