(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[5044],{4408:function(N,O,l){"use strict";var r=l(12924),n=l.n(r),R=l(28216),o=l(17780),C=l(38642),A=P=>({userInfo:P.user}),L=P=>{var D=P.title;return(0,o.xX)()&&setTimeout(()=>{document.title=D},0),(0,r.useEffect)(()=>{if(D&&document.title!==D&&setTimeout(()=>{document.title=D},0),(0,C.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var W=document.querySelector(".zoom-report");W&&(W.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[D]),n().createElement(n().Fragment,null)};L.defautProps={title:""},O.Z=(0,R.$j)(A)(L)},27094:function(N,O,l){"use strict";var r=l(66456),n=l(55313),R=l(12924),o=l.n(R),C=l(76651),A=l(57068),L=l(91768),P=l(70596),D=l.n(P),W=l(6793),U=l(41549),B=l(55839);class F extends o().Component{constructor(p){super(p);this.onCancel=()=>{this.setState({visible:!1})},this.renderCharts=s=>{var c=this.state.assessArr,u=this.props.t,M=s.map(f=>({name:f.ability_title,max:5})),h=[],y=[],T=[];c.forEach(f=>{switch(f.key){case"post_res":h.push({value:s.map(E=>E.post_res.level_score),name:u("personnelDevelope.postRequire")}),y.push(u("personnelDevelope.postRequire")),T.push("#5291FF");break;case"superior_res":h.push({value:s.map(E=>E.superior_res.level_score),name:u("personnelDevelope.superior")}),y.push(u("personnelDevelope.superior")),T.push("#FF724E");break;case"sameLevel_res":h.push({value:s.map(E=>E.sameLevel_res.level_score),name:u("personnelDevelope.sameLevel")}),y.push(u("personnelDevelope.sameLevel")),T.push("#8543E0");break;case"subordinate_res":h.push({value:s.map(E=>E.subordinate_res.level_score),name:u("personnelDevelope.subordinate")}),y.push(u("personnelDevelope.subordinate")),T.push("#2FC25B");break;case"final_res":h.push({value:s.map(E=>E.final_res.level_score),name:u("personnelDevelope.final")}),y.push(u("personnelDevelope.final")),T.push("#F2C930");break;case"self_res":h.push({value:s.map(E=>E.self_res.level_score),name:u("personnelDevelope.self")}),y.push(u("personnelDevelope.self")),T.push("#13C2C2");break;default:break}});var Z=D().init(this.chart);if(this.chart&&s.length>0){var S={color:T,legend:{data:y,bottom:10,left:"center",icon:"circle"},radar:{shape:"circle",splitArea:{show:!0,areaStyle:{color:["#fafafa"]}},name:{textStyle:{color:"#2D3040",overflow:"truncate"},formatter:f=>f.length>10?"".concat(f.slice(0,10),"..."):f},radius:105,center:["50%","52%"],indicator:M},series:[{type:"radar",data:h}]};Z.setOption(S),window.addEventListener("resize",()=>{Z.resize()})}else Z.clear()},this.getChart=s=>{this.chart=s},this.handleShowResultModal=(s,c)=>{var u=A.parse(C.m8.location.search),M=u.planId,h=u.userId,y=u.studentId,T=h||y;(0,B.XC)(T,M,s.ability_id,c).then(Z=>{this.setState({visible:!0,modalDataSource:Z.data})})},this.showCharts=s=>{var c=s.reportData;if(c.list.length!==0){var u=c.list;c.list.length>10&&(u=u.slice(0,10));var M=[],h=[{key:"post_res",value:u[0].post_res},{key:"self_res",value:u[0].self_res},{key:"superior_res",value:u[0].superior_res},{key:"subordinate_res",value:u[0].subordinate_res},{key:"sameLevel_res",value:u[0].sameLevel_res},{key:"final_res",value:u[0].final_res}];h.forEach(y=>{y.value!==null&&M.push(y)}),this.setState({assessArr:M},()=>{this.renderCharts(u)})}},this.state={assessArr:[],visible:!1,modalColumns:[{title:p.t("tutorial.evaluator"),dataIndex:"username",key:"username"},{title:p.t("personnelDevelope.assessmentResult"),dataIndex:"level_name",key:"level_name"},{title:p.t("common.updateTime"),dataIndex:"update_time",key:"update_time",render:s=>(0,W.p6)(s)}],modalDataSource:[]}}componentDidMount(){this.showCharts(this.props)}UNSAFE_componentWillReceiveProps(p){p.reportData!==this.props.reportData&&this.showCharts(p)}render(){var p=this.props,s=p.t,c=p.reportData,u=p.noPadding,M=this.state,h=M.assessArr,y=M.modalColumns,T=M.modalDataSource,Z=M.visible,S=c.user_name,f=c.superior_name,E=c.evaluation_way,$=A.parse(C.m8.location.search),Y=$.fromPage,I=[{title:s("evaluationManage.abilityOptionName"),dataIndex:"ability_title",key:"ability_title",width:400}];return h.forEach(k=>{switch(k.key){case"post_res":I.push({title:s("personnelDevelope.postRequire"),dataIndex:"post_res",key:"post_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?"".concat(d.level_title,"(").concat(b.post_score,")"):""});break;case"superior_res":I.push({title:s("personnelDevelope.superior"),dataIndex:"superior_res",key:"superior_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?o().createElement("span",{className:Y==="student"?"level-tag":"level-tag active",onClick:()=>{this.handleShowResultModal(b,"superior")}},d.level_title):"---"});break;case"sameLevel_res":I.push({title:s("personnelDevelope.sameLevel"),dataIndex:"sameLevel_res",key:"sameLevel_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?o().createElement("span",{className:Y==="student"?"level-tag":"level-tag active",onClick:()=>{this.handleShowResultModal(b,"sameLevel")}},d.level_title):"---"});break;case"subordinate_res":I.push({title:s("personnelDevelope.subordinate"),dataIndex:"subordinate_res",key:"subordinate_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?o().createElement("span",{className:Y==="student"?"level-tag":"level-tag active",onClick:()=>{this.handleShowResultModal(b,"subordinate")}},d.level_title):"---"});break;case"final_res":I.push({title:s("personnelDevelope.final"),dataIndex:"final_res",key:"final_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?"".concat(d.level_title,"(").concat(b.final_result_score,")"):"---"});break;case"self_res":I.push({title:s("personnelDevelope.self"),dataIndex:"self_res",key:"self_res",render:(d,b)=>d.level_title&&d.level_title!=="-1"?o().createElement("span",{className:Y==="student"?"level-tag":"level-tag active",onClick:()=>{this.handleShowResultModal(b,"self")}},d.level_title):"---"});break;default:break}}),(E==="self"||E==="self_and_superior")&&I.push({title:"".concat(s("authGroup.userLabel")," (").concat(S,")"),dataIndex:"trainee_level_title",key:"trainee_level_title",width:150,render:k=>o().createElement("span",null,k||s("evaluation.noEvaluated"))}),(E==="superior"||E==="self_and_superior")&&I.push({title:"".concat(s("evaluation.superior")," (").concat(f,")"),dataIndex:"superior_level_title",key:"superior_level_title",width:150,render:k=>o().createElement("span",null,k||s("evaluation.noEvaluated"))}),o().createElement(o().Fragment,null,o().createElement("div",{className:"evaluation_report_paper ".concat(u?"evaluation_report_paper-no-padding":"")},o().createElement("div",{className:"evaluation_report_paper_right"},o().createElement("div",{className:"charts",ref:this.getChart})),o().createElement("div",{className:"evaluation_report_paper_left"},o().createElement(n.Z,{columns:I,dataSource:c.list,pagination:!1}))),Y!=="student"?o().createElement(U.Z,{title:s("evaluation.assessmentDetails"),visible:Z,onCancel:this.onCancel,modalColumns:y,modalDataSource:T}):"")}}O.Z=(0,L.Z)()(F)},41549:function(N,O,l){"use strict";var r=l(66456),n=l(55313),R=l(12924),o=l.n(R),C=l(18329);class A extends o().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var P=this.props,D=P.modalColumns,W=P.modalDataSource,U=P.title,B=P.visible;return o().createElement(C.ZP,{title:U,visible:B,footer:null,onCancel:this.onCancel},o().createElement(n.Z,{columns:D,dataSource:W}))}}O.Z=A},17365:function(N,O,l){"use strict";l.r(O);var r=l(20228),n=l(11382),R=l(12924),o=l.n(R),C=l(91768),A=l(76651),L=l(78138),P=l.n(L),D=l(28216),W=l(56075),U=l(27094),B=l(4408);class F extends o().Component{constructor(){super(...arguments);this.state={reportData:{list:[]},loading:!0},this.getEvaluationData=()=>{var p=A.m8.location.query,s=p.planId,c=p.studentId;(0,W.B)(s,c,"student").then(u=>{this.setState({loading:!1,reportData:u.data})}).catch(()=>{})}}componentDidMount(){this.getEvaluationData(),this.props.dispatch({type:"currentRoute/updateState",payload:{headerMenuKey:"development"}})}render(){var p=this.props.t,s=this.state,c=s.reportData,u=s.loading;return o().createElement("div",{className:"report-task-detail"},o().createElement(B.Z,{title:p("evaluation.trainingReport")}),u?o().createElement(n.Z,null):o().createElement("div",{className:"report-task-detail__content"},o().createElement("p",{className:"report-task-detail-title"},p("questionn.abilityReport")),o().createElement("p",null,p("evaluation.assessmentProject"),"\uFF1A ",c.title),o().createElement("p",null,p("evaluation.byMeasurement"),"\uFF1A ",c.user_name),o().createElement("p",null,p("evaluation.reportTime"),"\uFF1A ",P()(c.report_time).format("YYYY-MM-DD HH:mm")),o().createElement(U.Z,{reportData:c,noPadding:!0})))}}O.default=(0,D.$j)()((0,C.Z)()(F))},56075:function(N,O,l){"use strict";l.d(O,{lf:function(){return R},wp:function(){return o},IT:function(){return C},Ty:function(){return A},UN:function(){return L},tb:function(){return P},el:function(){return D},K:function(){return W},yx:function(){return B},aB:function(){return z},VI:function(){return p},B5:function(){return s},M5:function(){return c},di:function(){return u},b9:function(){return M},tQ:function(){return y},hB:function(){return T},DK:function(){return Z},y4:function(){return S},Ys:function(){return f},sG:function(){return E},jh:function(){return $},h4:function(){return Y},sE:function(){return I},lo:function(){return k},zG:function(){return d},Yy:function(){return b},xX:function(){return x},m_:function(){return G},$t:function(){return j},Sh:function(){return w},$s:function(){return X},Ne:function(){return H},B:function(){return V},TK:function(){return Q},_u:function(){return J},DF:function(){return q},Mq:function(){return ee},Kx:function(){return te}});var r=l(37055),n=l(10237);function R(e){var t=e.page_number,a=e.page_size,i=e.keyword,v=i===void 0?"":i,_=r.ZP.evaluateManage.getEvaluateTools();return n.WY.get({url:_,params:{page_number:t,page_size:a,keyword:v}})}function o(e){var t=e.modelId,a=e.productId,i=r.ZP.evaluateManage.getEvaluateTool();return n.WY.get({url:i,params:{modelId:t,productId:a}})}function C(){var e=r.ZP.evaluateManage.getEvaluateType();return n.WY.get({url:e})}function A(e){var t=e.evaluation_tools,a=r.ZP.evaluateManage.addEvaluateTools();return n.WY.post({url:a,data:{evaluation_tools:t}})}function L(e){var t=e.keyword,a=t===void 0?"":t,i=e.industry,v=r.ZP.evaluateManage.queryEvaluateTools();return n.WY.get({url:v,params:{keyword:a,industry:i}})}function P(e){var t=e.ids,a=e.visible_range,i=e.department_ids,v=e.group_ids,_=e.post_ids,m=e.user_ids,g=r.ZP.evaluateManage.setEmployRange();return n.WY.post({url:g,data:{ids:t,visible_range:a,department_ids:i,group_ids:v,post_ids:_,user_ids:m}})}function D(e){var t=e.id,a=r.ZP.evaluateManage.deleteEvaluateTool({id:t});return n.WY.post({url:a})}function W(e){var t=e.id,a=r.ZP.evaluateManage.queryVisible({toolId:t});return n.WY.get({url:a})}function U(e){var t=e.page_number,a=e.page_size,i=e.name,v=e.ability_type,_=e.source,m=e.evaluation_tool_id,g=CONFIG.evaluateManage.getAbilityList();return request.get({url:g,params:{page_number:t,page_size:a,name:i,ability_type:v,source:_,evaluation_tool_id:m}})}function B(e){var t=e.id,a=r.ZP.evaluateManage.getToolsListByAbility({abilityId:t});return n.WY.get({url:a})}function F(e){var t=e.ids,a=e.training_courses,i=e.isBatchOperation,v=CONFIG.evaluateManage.batchSetCase();return request.post({url:v,data:{ids:t,training_courses:a,isBatchOperation:i}})}function z(e){var t=e.id,a=e.source,i=r.ZP.evaluateManage.queryTrainingCase({abilityId:t});return n.WY.get({url:i,params:{source:a}})}function p(e){var t=e.page_number,a=e.page_size,i=e.only_see_me,v=e.keyword,_=e.status,m=e.product_id,g=e.plan_type,K=r.ZP.PostTalentEvaluation.getList();return n.WY.get({url:K,params:{page_number:t,page_size:a,only_see_me:i,keyword:v,status:_,product_id:m,plan_type:g}})}function s(e){var t=e.title,a=e.product_id,i=e.term_type,v=e.start_time,_=e.end_time,m=e.open_result,g=e.supervisor_Id,K=e.source,ae=e.user_ids,ne=e.department_ids,re=e.group_ids,le=e.post_ids,se=e.authority_range,ie=e.status,oe=e.model_id,ue=e.finish_promote,ve=e.certificate_id,de=e.is_get_score,_e=e.finish_score,pe=e.isEdit,ce=e.editId,me=e.evaluation_tool_type,Ee=e.evaluation_way_self,ge=e.evaluation_way_superior,ye=e.evaluation_rule_result_vo,Pe=e.personnel_echo_request_list,he=pe?r.ZP.PostTalentEvaluation.edit(ce):r.ZP.PostTalentEvaluation.add();return n.WY.post({url:he,data:{title:t,product_id:a,term_type:i,start_time:v,end_time:_,open_result:m,supervisor_Id:g,source:K,user_ids:ae,department_ids:ne,group_ids:re,post_ids:le,authority_range:se,status:ie,model_id:oe,finish_promote:ue,certificate_id:ve,is_get_score:de,study_score:{finish_score:_e},evaluation_tool_type:me,evaluation_way_self:Ee,evaluation_way_superior:ge,evaluation_rule_result_vo:ye,personnel_echo_request_list:Pe}})}function c(e){var t=e.taskId,a=r.ZP.PostTalentEvaluation.publish(t);return n.WY.post({url:a})}function u(e){var t=e.taskId,a=r.ZP.PostTalentEvaluation.unPublish(t);return n.WY.post({url:a})}function M(e){var t=e.id,a=r.ZP.evaluateManage.isReferenceWithOther({id:t});return n.WY.get({url:a})}function h(e){var t=e.type,a=CONFIG.deleteResource.check();return request.get({url:a,params:{type:t}})}function y(e){var t=r.ZP.PostTalentEvaluation.delete(e);return n.WY.post({url:t,data:{}})}function T(e){var t=r.ZP.PostTalentEvaluation.getInfo(e);return n.WY.get({url:t,params:{}})}function Z(){var e=r.ZP.PostTalentEvaluation.getEvaluationAbilityLevel();return n.WY.get({url:e,params:{}})}function S(e){var t=e.id,a=e.name,i=r.ZP.PostTalentEvaluation.editEvaluationAbilityLevel();return n.WY.post({url:i,data:{id:t,name:a}})}function f(e){var t=r.ZP.PostTalentEvaluation.queryAbilityRange(e);return n.WY.get({url:t})}function E(e){var t=e.ability_ids,a=e.visible_range,i=e.department_ids,v=e.group_ids,_=e.post_ids,m=e.user_ids,g=e.userId,K=r.ZP.PostTalentEvaluation.setAbilityRange(g);return n.WY.post({url:K,data:{ability_ids:t,visible_range:a,department_ids:i,group_ids:v,post_ids:_,user_ids:m}})}function $(e){var t=e.only_see_me,a=e.key_word,i=e.page_number,v=e.page_size,_=e.model_type,m=r.ZP.PostTalentEvaluation.getEvaluationModel();return n.WY.get({url:m,params:{only_see_me:t,key_word:a,page_number:i,page_size:v,model_type:_}})}function Y(e){var t=e.ids,a=e.visible_range,i=e.department_ids,v=e.group_ids,_=e.user_ids,m=e.post_ids,g=r.ZP.PostTalentEvaluation.settingEvaluationModalRange();return n.WY.post({url:g,data:{ids:t,visible_range:a,department_ids:i,group_ids:v,user_ids:_,post_ids:m}})}function I(e){var t=r.ZP.PostTalentEvaluation.saveEditEvaluationModal();return n.WY.post({url:t,data:e})}function k(e){var t=r.ZP.PostTalentEvaluation.getEvaluationModal(e);return n.WY.get({url:t})}function d(e){var t=e.abilityName,a=e.abilityType,i=e.source,v=e.description,_=e.abilityLevels,m=e.visibleRange,g=r.ZP.PostTalentEvaluation.addEvaluationAbility();return n.WY.post({url:g,data:{abilityName:t,abilityType:a,source:i,description:v,abilityLevels:_,visibleRange:m}})}function b(e){var t=r.ZP.PostTalentEvaluation.queryEvaluationAbility(e);return n.WY.get({url:t})}function x(e){var t=e.id,a=e.abilityName,i=e.abilityType,v=e.source,_=e.description,m=e.abilityLevels,g=e.visibleRange,K=r.ZP.PostTalentEvaluation.editEvaluationAbility({});return n.WY.post({url:K,data:{id:t,abilityName:a,abilityType:i,source:v,description:_,abilityLevels:m,visibleRange:g}})}function G(e){var t=e.page_number,a=e.page_size,i=e.name,v=e.ability_type,_=e.source,m=e.evaluation_tool_id,g=r.ZP.PostTalentEvaluation.getEvaluateList();return n.WY.get({url:g,params:{page_number:t,page_size:a,name:i,ability_type:v,source:_,evaluation_tool_id:m}})}function j(e){var t=r.ZP.PostTalentEvaluation.deleteAbilityOption();return n.WY.post({url:t,params:{ability_ids:e}})}function w(e){var t=r.ZP.PostTalentEvaluation.refEvaluationModel(e);return n.WY.get({url:t})}function X(e){var t=r.ZP.PostTalentEvaluation.deleteModel(e);return n.WY.post({url:t})}function H(e){var t=e.is_batch_operation,a=e.ids,i=e.training_courses,v=e.source,_=r.ZP.PostTalentEvaluation.setImprove();return n.WY.post({url:_,data:{is_batch_operation:t,ids:a,training_courses:i},params:{source:v}})}function V(e,t,a){var i=r.ZP.PostTalentEvaluation.viewModelReport(t,e);return n.WY.get({url:i,params:{platformType:a}})}function Q(e){var t=r.ZP.PostTalentEvaluation.checkAbilitiesDelete(e);return n.WY.post({url:t})}function J(e){var t=r.ZP.personnelDevelope.getPostAbility();return n.WY.post({url:t,data:e})}function q(e){var t=r.ZP.personnelDevelope.checkPostModal(e);return n.WY.get({url:t})}function ee(e,t){var a=r.ZP.personnelDevelope.getPostAssessList(t);return n.WY.get({url:a,params:e})}function te(e){var t=r.ZP.personnelDevelope.importTaskSubmit();return n.WY.get({url:t,params:{new_file_name:e}})}}}]);
