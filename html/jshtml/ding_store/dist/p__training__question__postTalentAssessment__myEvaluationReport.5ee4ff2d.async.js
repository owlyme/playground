(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6274],{26878:function(S,D,e){"use strict";e.d(D,{Z:function(){return P}});var g=e(12924),h=e.n(g);function P(y){var O=y.className,i=y.title,s=y.src;return h().createElement("iframe",{className:"ClIframe ".concat(O),title:i,src:s,frameBorder:"0"})}},4408:function(S,D,e){"use strict";var g=e(12924),h=e.n(g),P=e(28216),y=e(17780),O=e(38642),i=o=>({userInfo:o.user}),s=o=>{var a=o.title;return(0,y.xX)()&&setTimeout(()=>{document.title=a},0),(0,g.useEffect)(()=>{if(a&&document.title!==a&&setTimeout(()=>{document.title=a},0),(0,O.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var l=document.querySelector(".zoom-report");l&&(l.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[a]),h().createElement(h().Fragment,null)};s.defautProps={title:""},D.Z=(0,P.$j)(i)(s)},1164:function(S,D,e){"use strict";var g=e(12924),h=e.n(g),P=e(76651),y=e(38642),O=e(91302),i=s=>{var o=navigator.userAgent.toLocaleLowerCase(),a=localStorage.getItem("enterpriseId"),l=(0,y.lz)(a,s.projectType),T=localStorage.getItem("dingPersonnel"),m=O.bl.includes(T),p=s.target;function C(M){if(p==="self"&&(M.preventDefault(),P.m8.push(s.to)),m){if(s.projectType==="student"){window.location.href="".concat(l,"/").concat(s.to);return}P.m8.push(s.to);return}if(dd.version){M.preventDefault();var f="";s.to.includes("?")?f="".concat(l).concat(s.to,"&ddtab=true"):f="".concat(l).concat(s.to,"?ddtab=true"),dd.biz.util.openLink({url:f})}else o.indexOf("lark")!==-1&&(window.location.href="".concat(l).concat(s.to))}return h().createElement("a",{rel:"noreferrer",href:"".concat(s.projectType==="student"?"".concat(l).concat(s.to):"#".concat(s.to)),className:"".concat(s.wrapCls," cl-pointer"),target:o.indexOf("lark")!==-1||m?"_self":s.target||"_blank",onClick:C},s.children)};i.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},i.targetTo=s=>{var o=s.path,a=s.from,l=s.isExternalLink,T=l===void 0?!1:l,m=s.isAsync,p=m===void 0?!1:m,C=s.openName,M=C===void 0?"_blank":C,f=s.projectType,L=f===void 0?"manage":f,B=s.ddTab,K=B===void 0?!0:B,v,b=localStorage.getItem("dingPersonnel"),x=O.bl.includes(b),A=navigator.userAgent.toLocaleLowerCase(),I=localStorage.getItem("enterpriseId"),r=(0,y.lz)(I,L),t=localStorage.getItem("appType"),n=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var u="";if(v=T?"":r,x&&!T){if(L==="student"){window.location.href="".concat(r).concat(o);return}P.m8.push(o);return}o.includes("?")?u="".concat(v).concat(o,"&ddtab=").concat(K):u="".concat(v).concat(o,"?ddtab=").concat(K),dd.biz.util.openLink({url:u})}else if(A.indexOf("lark")!==-1)v=T?"":r,window.location.href="".concat(v).concat(o);else if(t==="wx_app"&&n&&T&&a==="imgText")v=T?"":L==="student"?"".concat(r):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(v).concat(o)});else if(v=T?"":L==="student"?"".concat(r):"#",p){var c=window.open("","_blank");setTimeout(()=>{c.location="".concat(v).concat(o)},100)}else window.open("".concat(v).concat(o),M)},D.Z=i},85725:function(S,D,e){"use strict";e.d(D,{Zv:function(){return P},t2:function(){return y},ew:function(){return O}});var g=e(37055),h=e(10237);function P(s,o){var a=g.ZP.PlatformCourse.learningUrl(s);return h.WY.get({url:a,params:o})}function y(s){var o=s.planId,a=g.ZP.EnterpriseCourse.playCountStatistics();h.qg.post({url:a,data:{courseId:o}})}var O=s=>{var o=g.ZP.Common.addDownloadLog(),a={param:s};return h.WY.get({url:o,params:a})},i=s=>{var o=CONFIG.visitors.shouldGoToCourseDetails(),a={setting_type:s};return request.get({url:o,params:a})}},34909:function(S,D,e){"use strict";e.r(D);var g=e(57663),h=e(71577),P=e(20228),y=e(11382),O=e(88986),i=e(33565),s=e(18106),o=e(88108),a=e(12924),l=e.n(a),T=e(91768),m=e(76651),p=e(73340),C=e(28216),M=e(55839),f=e(4408),L=e(26878),B=e(41253),K=e(80810),v=o.Z.TabPane;function b(x){var A=x.t,I=(0,a.useState)("report"),r=(0,i.Z)(I,2),t=r[0],n=r[1],u=(0,a.useState)({}),c=(0,i.Z)(u,2),E=c[0],_=c[1],W=(0,a.useState)([]),d=(0,i.Z)(W,2),U=d[0],R=d[1],Y=(0,a.useState)(!1),$=(0,i.Z)(Y,2),F=$[0],w=$[1],H=(0,a.useState)(!1),j=(0,i.Z)(H,2),ee=j[0],V=j[1],te=(0,a.useState)(""),Q=(0,i.Z)(te,2),re=Q[0],ae=Q[1],G=m.m8.location.query,X=G.type,J=G.evaluationId,ne=G.isOpen;(0,a.useEffect)(()=>(n(X),q(X,J),document.querySelector(".primary-layout__content").className="primary-layout__content primary-layout__special_common",()=>{document.querySelector(".primary-layout__content").className="primary-layout__content"}),[]);function q(N,k){N==="report"?(w(!0),(0,M.uQ)(J).then(Z=>{var z=Z.data.result_url;ae(z),w(!1)}).catch(()=>{w(!1)})):(V(!0),(0,B.JJ)(k).then(Z=>{var z=Z.data.study_resources,ie=z?se(z):[];_(Z.data),R(ie),V(!1)}).catch(()=>{V(!1)}))}function se(N){var k=[];return N.forEach(Z=>{k.push((0,O.Z)((0,O.Z)({},Z),{},{type:"crs"}))}),k}function oe(N){n(N),q(N,J)}return l().createElement("div",{className:"my-evaluation-report"},l().createElement(f.Z,{title:A("documentTitle.viewEvaluationReport")}),l().createElement(o.Z,{className:"my-evaluation-report_tabs evaluationReport_content",activeKey:t,onChange:oe},l().createElement(v,{disabled:ne==="false",className:"my-evaluation-report_content",tab:A("study.viewReport"),key:"report"},l().createElement("div",{className:"evaluationReportIframe_container"},F?l().createElement("div",{className:"my-evaluation-report_spin"},l().createElement(y.Z,null)):l().createElement(L.Z,{title:"evaluationReportIframe",src:re}))),l().createElement(v,{className:"my-evaluation-report_content",tab:A("questionn.improvePlan"),key:"liftingScheme"},ee?l().createElement("div",{className:"my-evaluation-report_spin"},l().createElement(y.Z,null)):l().createElement(K.Z,{list:U,from:"myEvaluationReport",hostParams:G,infos:E}))),l().createElement(h.Z,{className:"my-evaluation-report_return",onClick:()=>m.m8.goBack(-1)},A("common.return")),l().createElement(p.NL,{message:()=>(document.querySelector(".primary-layout__content").className="primary-layout__content",!0)}))}D.default=(0,C.$j)()((0,T.Z)()(b))},80810:function(S,D,e){"use strict";var g=e(66456),h=e(55313),P=e(34669),y=e(82833),O=e(34792),i=e(48086),s=e(88986),o=e(12924),a=e.n(o),l=e(91768),T=e(76651),m=e(57068),p=e(28216),C=e(84874),M=e(37055),f=e(6793),L=e(70517),B=e(10237),K=e(1164),v=e(85725);class b extends a().Component{constructor(I){super(I);this.columns=[{title:this.props.t("questionn.improvePlan"),dataIndex:"resource_name",key:"resource_name",className:"taskTitle",render:(r,t)=>{var n=this.props.subPrefixCls,u=t.type,c=t.resource,E=(0,s.Z)({},M.e1),_=E.crs,W=(0,L.ZG)(t.source),d="".concat(n,"__table__columncontent ").concat(n,"__table__columncontent-absolute");u!=="crs"?c.content_type&&c.content_type.indexOf("audio")>-1?_=E.mp3:c.type==="article"?_=E.h5:_=E[c.type]:W&&(_="icon-icon_study");var U=a().createElement(C.Z,{iconClass:_,size:"16px"}),R=t.type==="ex"?t.examName:r;return a().createElement(o.Fragment,null,a().createElement("span",{className:d},U," ",R," ",this.renderDuration({record:t})))}},{title:this.props.t("component.learningProgress"),dataIndex:"study_progress",key:"study_progress",width:200,render:(r,t)=>this.renderProgress({record:t})},{title:this.props.t("common.operate"),width:this.props.lng==="en_us"?210:160,dataIndex:"type",key:"type",render:(r,t,n)=>this.renderAction({str:r,record:t,index:n})}],this.checkBeforeEnter=()=>{var r=this.props,t=r.t,n=r.overdue;return new Promise(u=>{n?i.default.warning(t("study.beginStudyOverdue")):u()})},this.getIsSee=()=>{var r=this.props.infos;this.getShouldViewReport(r.evaluation_id).then(t=>{t.data.look==="true"?this.setState({isLook:!0}):this.setState({isLook:!1})})},this.getShouldViewReport=r=>{var t=M.ZP.PostTalentEvaluation.shouldViewReport(r);return B.WY.get({url:t})},this.handleGoToVideo=r=>{var t=r.record,n=t.resource;this.checkBeforeEnter().then(()=>{parseInt(n.status,10)!==3?i.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/course/watch",record:t,watchType:"video",projectType:"student"})})},this.targetToWatch=r=>{var t=r.path,n=r.record,u=r.watchType,c=m.parse(T.m8.location.search),E=c.id,_=c.fromPage,W=_===void 0?"myTestTask":_,d=c.type,U=this.props,R=U.from,Y=U.hostParams,$=n.resource,F=n.resource_id,w=n.video_id,H=n.storage_type,j={watchType:u,planId:E,courseId:$.course_id,resourceId:F,fromPage:R||W,source:"enterprise",courseName:"",exitAiUpdate:!1,type:d,videoId:w,storage_type:H};R&&Object.assign(j,Y),T.m8.push({pathname:t,search:m.stringify(j)})},this.handleGoToDoc=r=>{var t=r.record,n=t.resource;this.checkBeforeEnter().then(()=>{parseInt(n.status,10)!==3?i.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/course/watch",record:t,watchType:"doc",projectType:"student"})})},this.handleGoToH5=r=>{var t=r.record,n=t.resource;this.checkBeforeEnter().then(()=>{parseInt(n.status,10)!==3?i.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/course/watch",record:t,watchType:"h5",projectType:"student"})})},this.handleGoToCommon=r=>{var t=r.record,n=r.type,u=t.resource;this.checkBeforeEnter().then(()=>{parseInt(u.status,10)!==3?i.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/course/watch",record:t,watchType:n,projectType:"student"})})},this.renderDuration=r=>{var t=r.record,n=t.resource,u=t.type==="crs"?"crs":n.type,c="";return n&&n.duration!=="0"&&(n.status===3&&(u==="mp4"||u==="mp3")||u==="crs"&&!(0,L.ZG)(t.source))&&(c=(0,f.xj)(n.duration)),c},this.renderProgress=r=>{var t=r.record,n=t.study_progress,u=a().createElement(y.Z,{percent:n,size:"small"});return u},this.gotoDDICourse=r=>{var t=r.record,n=m.parse(T.m8.location.search),u=n.id,c=t.course_id;this.checkBeforeEnter().then(()=>{(0,v.Zv)(c,{is_preview:"false",is_person_purchase:"false",plan_id:u}).then(E=>{K.Z.targetTo({path:E.data.learning_url,isExternalLink:!0})})})},this.renderAction=r=>{var t=r.record,n=t.study_progress,u=t.resource,c=t.content_type,E="",_=t.type==="crs"?"crs":u.type,W=this.props,d=W.t,U=W.overdue,R=U?"cl-primary cl-disabled":"cl-primary";return(_==="mp3"||_==="mp4")&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToVideo({record:t})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),_&&M.Yq.indexOf(_.toLowerCase())>-1&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToDoc({record:t})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),(_==="h5"||_==="article")&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToH5({record:t})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),(c==="html"||_==="html")&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToCommon({record:t,type:"html"})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),(c==="picture"||M.WB.includes(_))&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToCommon({record:t,type:"picture"})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),(c==="scorm"||_==="scorm")&&(E=a().createElement("span",{className:R,onClick:()=>this.handleGoToCommon({record:t,type:"scorm"})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),_==="crs"&&(0,L.ZG)(t.source)&&(E=a().createElement("span",{className:R,onClick:()=>this.gotoDDICourse({record:t})},"".concat(d(n===0?"study.startLearning":"study.continueLearning")))),E},this.renderTitle=()=>{var r=this.props,t=r.subPrefixCls,n=r.title,u="".concat(t,"__title");return a().createElement("h1",{className:u},n)},this.renderSubTitle=()=>{var r=this.props,t=r.subPrefixCls,n=r.subTitle;if(!n)return null;var u="".concat(t,"__subtitle");return a().createElement("h6",{className:u},n)},this.dealCrsCourseInfo=r=>(r.forEach(t=>{(0,L.ZG)(t.source)&&(t.newResources=t.resources,t.resources=null)}),r),this.renderTable=()=>{var r=this.props,t=r.subPrefixCls,n=r.list,u=r.t,c=this.state.isLook,E=this.props.infos,_=E.evaluation_tool_type,W="".concat(t,"__table");return a().createElement("div",{className:W},a().createElement(h.Z,{pagination:!1,columns:this.columns,rowKey:d=>d.resource_id,expandable:{childrenColumnName:"resources",defaultExpandAllRows:!0},dataSource:c?this.dealCrsCourseInfo(n):[],summary:()=>!c&&_==="tool"?a().createElement("span",{className:"view-report-tips-span"},u("questionn.viewReportTips")):null}))},this.state={isLook:!0}}componentDidMount(){var I=this.props.versionType;I==="platform"&&this.getIsSee()}render(){var I=this.props.subPrefixCls;return a().createElement("section",{className:I},this.renderTitle(),this.renderSubTitle(),this.renderTable())}}b.defaultProps={subPrefixCls:"ups-taskTable"};var x=A=>{var I=A.user;return{lng:I.lng,userId:I.id,corpId:I.corpId,account:I.account,versionType:I.versionType}};D.Z=(0,p.$j)(x)((0,l.Z)()(b))},41253:function(S,D,e){"use strict";e.d(D,{JJ:function(){return P},TF:function(){return O}});var g=e(37055),h=e(10237);function P(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=g.ZP.evaluateManage.queryMyEvaluationTask({id:i});return h.WY.get({url:o,params:s})}function y(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=CONFIG.PostTalentEvaluation.improveNowPlan(i);return request.get({url:o,params:s})}function O(i){var s=i.userId,o=i.planId,a=i.keyword,l=i.status,T=i.page_number,m=i.page_size,p=g.ZP.PostTalentEvaluation.getStudentList(s,o);return h.WY.get({url:p,params:{keyword:a,status:l,page_size:m,page_number:T}})}},70517:function(S,D,e){"use strict";e.d(D,{ZG:function(){return s},v8:function(){return o},Yv:function(){return a},$v:function(){return l},yW:function(){return T}});var g=e(57361),h=e(9754),P=e.n(h),y=e(91302),O=e(10237),i=e(37055),s=m=>{var p=!1;return y.ch.forEach(C=>{(m||"").indexOf(C)!==-1&&(p=!0)}),p},o=function(){var m=(0,g.Z)(P().mark(function p(){var C;return P().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return C=i.ZP.LibraryList.checkMemberUserBinding(),f.abrupt("return",O.WY.get({url:C,params:{source_type:"lai_hua"}}));case 2:case"end":return f.stop()}},p)}));return function(){return m.apply(this,arguments)}}(),a=function(){var m=(0,g.Z)(P().mark(function p(C){var M,f,L,B;return P().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return M=i.ZP.LibraryList.thirdEditorUrl(),v.next=3,O.WY.get({url:M,params:{source_type:"lai_hua",route_type:C}});case 3:f=v.sent,L=f.data,B=f.success,B==="true"&&window.open(L.url,"_blank");case 7:case"end":return v.stop()}},p)}));return function(C){return m.apply(this,arguments)}}(),l=()=>{localStorage.setItem("openedMemberModal","true")},T=m=>{var p=i.ZP.LibraryList.addTrialMemberBinding();return O.WY.get({url:p,params:{source_type:"lai_hua",route_type:m}})}}}]);
