(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[7707],{11110:function(le,Q,t){"use strict";var M=t(88986),m=t(12924),S=t.n(m),l=t(28216),c=t(38642);class T extends S().Component{constructor(g){super(g);this.initMessage=()=>{var y=localStorage.getItem("appType");this.removeScript(),((L,E,b,D)=>{L[b]=function(){L.cbk=L.cbk||[],L.cbk.push(arguments)},D=E.createElement("script"),D.async=!0,D.id="zhichiScript",D.className=this.props.activeBtn||"zhiCustomBtn",D.src="https://kuxueyuan.sobot.com/chat/frame/v2/entrance.js?sysnum=98a88d91298542da9ca5a7c2a2bc89ba",E.body.appendChild(D)})(window,document,"zc");var n=4;switch(y){case"e_app":n=1;break;case"wx_app":n=2;break;case"fs_app":n=3;break;default:break}zc("config",(0,M.Z)({robotid:n,custom:!0},this.state.messageParams)),zc("dynamic_ready")},this.removeScript=()=>{var y=document.querySelector("#zhichiScript");y&&y.parentNode.removeChild(y);var n=document.querySelector("#zc__sdk__container");n&&n.parentNode.removeChild(n);var L=document.querySelector("#zc__wapper__shadow");L&&L.parentNode.removeChild(L);var E=document.querySelector("#zc__bubble_container");E&&E.parentNode.removeChild(E)},this.state={messageParams:{uname:g.user.name,realname:"".concat(g.user.enterpriseName,"--").concat(g.user.name),face:g.user.avatar,title_flag:g.user.enterpriseName,tel:g.user.mobile,is_vip:g.user.isVip,color:localStorage.getItem("themeColor")&&localStorage.getItem("themeColor").split("#")[1]||"516AE6"}},this.props.onRef(this)}componentDidMount(){this.setState({},()=>{this.initMessage()}),(0,c.UI)("SCALE")&&(window.onmessage=g=>{g.data==='{"name":"init"}'&&g.origin==="https://kuxueyuan.sobot.com"&&(document.getElementById("zc__sdk__container").style.zoom=(0,c.uN)(.8).zoom)})}componentWillUnmount(){this.removeScript()}render(){return null}}Q.Z=(0,l.$j)(e=>({user:e.user}))(T)},4408:function(le,Q,t){"use strict";var M=t(12924),m=t.n(M),S=t(28216),l=t(17780),c=t(38642),T=g=>({userInfo:g.user}),e=g=>{var y=g.title;return(0,l.xX)()&&setTimeout(()=>{document.title=y},0),(0,M.useEffect)(()=>{if(y&&document.title!==y&&setTimeout(()=>{document.title=y},0),(0,c.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[y]),m().createElement(m().Fragment,null)};e.defautProps={title:""},Q.Z=(0,S.$j)(T)(e)},1164:function(le,Q,t){"use strict";var M=t(12924),m=t.n(M),S=t(76651),l=t(38642),c=t(91302),T=e=>{var g=navigator.userAgent.toLocaleLowerCase(),y=localStorage.getItem("enterpriseId"),n=(0,l.lz)(y,e.projectType),L=localStorage.getItem("dingPersonnel"),E=c.bl.includes(L),b=e.target;function D(h){if(b==="self"&&(h.preventDefault(),S.m8.push(e.to)),E){if(e.projectType==="student"){window.location.href="".concat(n,"/").concat(e.to);return}S.m8.push(e.to);return}if(dd.version){h.preventDefault();var f="";e.to.includes("?")?f="".concat(n).concat(e.to,"&ddtab=true"):f="".concat(n).concat(e.to,"?ddtab=true"),dd.biz.util.openLink({url:f})}else g.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(e.to))}return m().createElement("a",{rel:"noreferrer",href:"".concat(e.projectType==="student"?"".concat(n).concat(e.to):"#".concat(e.to)),className:"".concat(e.wrapCls," cl-pointer"),target:g.indexOf("lark")!==-1||E?"_self":e.target||"_blank",onClick:D},e.children)};T.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},T.targetTo=e=>{var g=e.path,y=e.from,n=e.isExternalLink,L=n===void 0?!1:n,E=e.isAsync,b=E===void 0?!1:E,D=e.openName,h=D===void 0?"_blank":D,f=e.projectType,v=f===void 0?"manage":f,w=e.ddTab,$=w===void 0?!0:w,B,Y=localStorage.getItem("dingPersonnel"),re=c.bl.includes(Y),A=navigator.userAgent.toLocaleLowerCase(),H=localStorage.getItem("enterpriseId"),G=(0,l.lz)(H,v),U=localStorage.getItem("appType"),V=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var F="";if(B=L?"":G,re&&!L){if(v==="student"){window.location.href="".concat(G).concat(g);return}S.m8.push(g);return}g.includes("?")?F="".concat(B).concat(g,"&ddtab=").concat($):F="".concat(B).concat(g,"?ddtab=").concat($),dd.biz.util.openLink({url:F})}else if(A.indexOf("lark")!==-1)B=L?"":G,window.location.href="".concat(B).concat(g);else if(U==="wx_app"&&V&&L&&y==="imgText")B=L?"":v==="student"?"".concat(G):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(B).concat(g)});else if(B=L?"":v==="student"?"".concat(G):"#",b){var ee=window.open("","_blank");setTimeout(()=>{ee.location="".concat(B).concat(g)},100)}else window.open("".concat(B).concat(g),h)},Q.Z=T},99891:function(le,Q,t){"use strict";var M=t(12924),m=t.n(M),S=t(28216),l=t(91768),c=t(37055),T=t(10237),e=t(60667);class g extends m().PureComponent{constructor(L){super(L);this.getWaterMarkText=E=>{var b=this.props.userInfo,D=b.jobNumber,h=localStorage.getItem("waterMarkPostName"),f=[],v=E.find($=>$.type==="content_setting"),w=E.find($=>$.type==="content_custom");return v.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),w.param.checked==="true"&&w.param.comment[0]!==""&&this.setState({commentText:w.param.comment[0]}),v.param.comment.indexOf("position")!==-1&&h&&h!==""&&f.push("".concat(h)),v.param.comment.indexOf("jobnumber")!==-1&&D&&D!==""&&f.push("".concat(D)),f.join("-")},this.getWaterMarkApplication=E=>{var b=this.props.scenes,D=E.find(h=>h.type==="application_scenario");D.param.comment.indexOf(b)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=E=>{var b=E.find(D=>D.type==="dispersive");this.setState({isDispersive:b.param.checked==="true"})},this.getDynamicSet=()=>{var E=c.ZP.advancedSetting.dynamicWaterMarkNew(),b={access_token:window.localStorage.getItem("token")};T.WY.get({url:E,params:b}).then(D=>{var h=JSON.parse(D.data.actions);this.setState({waterMarkText:this.getWaterMarkText(h),actions:h}),this.getWaterMarkApplication(h),this.getWaterIsDispersive(h)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var L=localStorage.getItem("waterMarkPostName");L===""||L===null?this.getPostName():this.getDynamicSet()}getPostName(){var L=c.ZP.advancedSetting.getPostName();T.WY.get({url:L}).then(E=>{localStorage.setItem("waterMarkPostName",E.data.post_names[0]||""),this.getDynamicSet()})}render(){var L=this.state,E=L.showWaterMark,b=L.waterMarkCount,D=L.isUserName,h=L.isDispersive,f=L.waterMarkText,v=L.actions,w=L.commentText,$=this.props.userInfo,B=$.name,Y=$.unionid,re=$.sourceType;return m().createElement("div",{className:"common-watermark"},E&&new Array(b).fill(0).map((A,H)=>m().createElement("div",{key:H,className:"common-watermark-item ".concat(h?"isDispersive":"")},m().createElement("span",{className:"common-watermark-item-content"},w!==""&&m().createElement("span",{className:"item-part"},w),D&&m().createElement("span",null,w!==""&&m().createElement("span",null,"-"),m().createElement(e.Z,{dataType:"userName",value:Y,name:B,type:re})),m().createElement("span",{className:"item-part"},(D||w!=="")&&f!==""&&m().createElement("span",null,"-"),f)))))}}var y=n=>({userInfo:n.user});Q.Z=(0,S.$j)(y)((0,l.Z)()(g))},80430:function(le,Q,t){"use strict";var M=t(12924),m=t.n(M),S=t(60667),l=c=>{var T=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},b=E.department_ids.split("/"),D=E.department_names.split("/"),h=b.map((f,v)=>m().createElement(S.Z,{key:f,dataType:"departmentName",value:f,name:D[v],type:E.source_type}));return m().createElement(m().Fragment,null,h.map((f,v)=>m().createElement("span",{key:f},f,v===D.length-1?"":"/")))},e=L=>m().createElement(S.Z,{dataType:"departmentName",value:L.department_id,name:L.department_name,type:L.source_type}),g=()=>{var L=c.list,E=L===void 0?[]:L,b=c.isBlock;if(!E.length)return null;var D=E.map(h=>T(h));return D.length&&D.length>1?m().createElement(m().Fragment,null,D.map((h,f)=>b?m().createElement("div",{key:h},h):m().createElement("span",{key:h},h,f===D.length-1?"":"\uFF0C"))):m().createElement(m().Fragment,null,D[0]||"")},y=()=>{var L=c.list,E=c.nameList,b=c.sourceType,D=c.isBlock,h=L.map((f,v)=>e({department_id:f,department_name:E[v],source_type:b}));return m().createElement(m().Fragment,null,h.map((f,v)=>D?m().createElement("div",{key:f},f):m().createElement("span",{key:f},f,v===h.length-1?"":"\uFF0C")))},n=()=>c.displayAll?g():y();return n()};l.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},Q.Z=l},60667:function(le,Q,t){"use strict";t.d(Q,{Z:function(){return g}});var M=t(33565),m=t(12924),S=t.n(m),l=t(28216);function c(y){var n=y.type,L=y.openid,E=y.from,b=(0,m.useRef)(null);return(0,m.useLayoutEffect)(()=>{E==="vue"?window.parent.WWOpenData.bind(b.current):WWOpenData.bind(b.current)}),S().createElement("ww-open-data",{ref:b,type:n,openid:L})}var T=y=>{var n=y.wxWorkApiFlag,L=y.appType,E=y.from,b=(0,m.useState)(!1),D=(0,M.Z)(b,2),h=D[0],f=D[1];(0,m.useEffect)(()=>{var $=localStorage.getItem("qyWechatBook");(L!=="wx_app"||n||$==="false"||E==="vue"||E==="taro")&&f(!0)},[n,L,E]);var v=(0,m.useCallback)(()=>{var $=y.type,B=y.value,Y=y.name,re=Y===void 0?"":Y;switch(console.warn(y,"props"),$){case"wx_sync":{var A=y.dataType;return B?S().createElement(c,{from:E,type:A,openid:B}):re}default:return re}},[y]),w=()=>{var $=y.name,B=y.dataType,Y=localStorage.getItem("qyWechatBook");if(B===""||Y==="false")return $;if(E==="vue"||E==="taro")return v();switch(y.appType){case"wx_app":return v();default:return $}};return h?w():y.name};T.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var e=y=>({appType:y.user.appType,wxWorkApiFlag:y.user.wxWorkApiFlag}),g=(0,l.$j)(e)(T)},49964:function(le,Q,t){"use strict";var M=t(62029),m=t(33565),S=t(14965),l=t(11448),c=t(12924),T=t.n(c),e=t(91768),g=t(78138),y=t.n(g),n=t(71022),L=l.Z.RangePicker,E=b=>{var D=(0,c.useState)([null,null]),h=(0,m.Z)(D,2),f=h[0],v=h[1],w=(0,c.useState)([null,null]),$=(0,m.Z)(w,2),B=$[0],Y=$[1],re=(0,c.useState)([null,null]),A=(0,m.Z)(re,2),H=A[0],G=A[1],U=(0,c.useState)([null,null]),V=(0,m.Z)(U,2),F=V[0],ee=V[1],me=(0,c.useState)([null,null]),de=(0,m.Z)(me,2),ne=de[0],ce=de[1];(0,c.useEffect)(()=>{var Et=(0,n.Q)(7),He=Et.timestamp,Ge=(0,n.Q)(30),at=Ge.timestamp;v([y()(He[0]),y()(He[1])]),Y([y()(at[0]),y()(at[1])]),G([y()().subtract(3,"months").startOf("day"),y()().subtract("day",1).endOf("day")]),ee([y()().startOf("month").startOf("day"),y()().subtract("day",1).endOf("day")]),ce([y()().startOf("year").startOf("day"),y()().subtract("day",1).endOf("day")])},[]);var ve=function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[null,null],Ge=[];if(!He)Ge=[];else{var at=He[0].startOf("day").valueOf(),ht=He[1].endOf("day").valueOf();Ge=[at,ht]}window.sensors&&window.sensors.track("date_filter_click"),b.onChange(Ge)},Se=b.value,Ve=b.allowClear,fe=b.quickSelect,Oe=b.t,ye=b.disabledDate,tt=fe.week,pt=fe.month,ze=fe.quarter,De=fe.currentMonth,lt=fe.currentYear,$e={};tt&&($e[["".concat(Oe("component.recentWeek"))]]=f),pt&&($e[["".concat(Oe("component.recentMonth"))]]=B),ze&&($e[["".concat(Oe("component.lastThreeMonth"))]]=H),De&&($e[["".concat(Oe("component.currentMonth"))]]=F),lt&&($e[["".concat(Oe("component.currentYear"))]]=ne);var _e=[Se[0]?y()(Number(Se[0])):null,Se[1]?y()(Number(Se[1])):null];return T().createElement(L,(0,M.Z)({},b,{value:_e,format:"YYYY-MM-DD",onChange:ve,allowClear:Ve,disabledDate:ye,ranges:$e}))};E.defaultProps={allowClear:!1,quickSelect:{week:!1,month:!1,quarter:!1,currentMonth:!1,currentYear:!1},onchange:()=>{},value:[],disabledDate:b=>b&&b>y()().subtract("day",1).endOf("day").valueOf()},Q.Z=(0,e.Z)()(E)},17149:function(le,Q,t){"use strict";var M=t(22385),m=t(31097),S=t(12924),l=t.n(S),c=t(78138),T=t.n(c),e=t(91768),g=t(68628),y=t(40627),n=t.n(y),L=E=>{var b=E.t,D=E.updateTime,h=D===void 0?T()().format("YYYY-MM-DD 06:00"):D;return l().createElement(m.Z,{placement:"left",title:l().createElement("div",null,b("dashboard.dataUpdateLogic"),h),overlayStyle:{maxWidth:"360px",fontSize:"12px"}},l().createElement("div",{className:n()["header-extra"]},l().createElement(g.Z,null),l().createElement("div",{className:n()["header-extra-time"]},"".concat(b("dashboard.updateTime")," : ").concat(h))))};Q.Z=(0,e.Z)()(L)},71022:function(le,Q,t){"use strict";t.d(Q,{Q:function(){return S}});var M=t(78138),m=t.n(M);function S(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",T=m()().subtract("day",l).startOf("day").valueOf(),e=m()().subtract("day",1).endOf("day").valueOf(),g=m()(T).format(c),y=m()(e).format(c);return{timestamp:[T,e],titmeStr:[g,y]}}},76466:function(le,Q,t){"use strict";t.d(Q,{Z:function(){return ta}});var M=t(20228),m=t(11382),S=t(57663),l=t(71577),c=t(62029),T=t(57361),e=t(9754),g=t.n(e),y=t(12924),n=t.n(y),L=t(91512),E=t(68654),b=t(91768),D=t(4412),h=t.n(D);class f extends n().Component{render(){var s=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:h(),alt:"picture"}),n().createElement("h2",null,s("localStorage.tip")),n().createElement("p",null,s("localStorage.banPreview"))))}}var v=(0,b.Z)()(f),w=t(88986),$=t(34792),B=t(48086),Y=t(28216),re=t(21594),A=t(41225),H=t(10237),G=(te,s)=>(0,w.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),U=G;class V extends y.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var o=this.props,r=o.onVideoReady,a=r===void 0?()=>{}:r,i=o.playerConfig,u=o.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,w.Z)((0,w.Z)({},i),{},{contentType:u==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:i.source,autoplay:i.autoplay,width:i.width,id:i.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:p=>{p.on("sourceloaded",O=>{var I=O.paramData,W=I.desc,x=I.definition;p.getComponent("VideoQuality")&&p.getComponent("VideoQuality").setCurrentQuality(W,x,i.id)}),p.on("ready",()=>{a()}),this.playerInstance=p,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,o=s.onPlay,r=o===void 0?()=>{}:o,a=s.onTimeUpDate,i=a===void 0?()=>{}:a,u=s.onEnd,p=u===void 0?()=>{}:u,O=s.onPause,I=O===void 0?()=>{}:O,W=s.onError,x=W===void 0?()=>{}:W,K=this.playerInstance;K.on("play",()=>{r()}),K.on("pause",()=>{I()}),K.on("timeupdate",R=>{i(R)}),K.on("ended",()=>{p()}),K.on("error",(0,T.Z)(g().mark(function R(){return g().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:x();case 1:case"end":return J.stop()}},R)})))}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id}))}}V.playerInstance=null,V.defaultProps={playerConfig:U(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var F=V,ee=(te,s)=>(0,w.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),me=ee;class de extends y.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var o=this.props,r=o.playerConfig,a=o.onVideoReady,i=a===void 0?()=>{}:a;this.player=new Aliplayer(r,u=>{u.on("sourceloaded",p=>{var O=p.paramData,I=O.desc,W=O.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(I,W,r.id)})}),this.player.on("ready",()=>{i()})},this.setPlayerConfig=()=>{var s=this.props,o=s.onPlay,r=o===void 0?()=>{}:o,a=s.onTimeUpDate,i=a===void 0?()=>{}:a,u=s.onEnd,p=u===void 0?()=>{}:u,O=s.onPause,I=O===void 0?()=>{}:O,W=s.onError,x=W===void 0?()=>{}:W;this.player.on("play",()=>{r()}),this.player.on("pause",()=>{I()}),this.player.on("timeupdate",K=>{i(K)}),this.player.on("ended",()=>{p()}),this.player.on("error",(0,T.Z)(g().mark(function K(){return g().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:x();case 1:case"end":return k.stop()}},K)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}de.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:me()};var ne=de;class ce{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,o){var r=o._options&&o._options.language,a=o._el.id;this.isEn=r&&r==="en-us";var i=(0,re.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),u=(0,re.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),p=document.querySelector("#".concat(a," .prism-controlbar"));p.appendChild(i),s.appendChild(u)}setCurrentQuality(s,o,r){var a=document.querySelector("#".concat(r," .current-quality"));a.innerText=s,a.dataset.def=o,this.definition=o;var i=document.querySelector("#".concat(r," .quality-list")),u=i.querySelector(".current");u&&(u.className="");var p=i.querySelector('li[data-def="'.concat(o,'"]'));p&&(p.className="current")}created(s){this._urls=s._urls;var o=s._el.id,r=document.querySelector("#".concat(o," .current-quality")),a=document.querySelector("#".concat(o," .quality-list")),i=document.querySelector("#".concat(o," .quality-modal")),u=this._urls.map(I=>'<li data-def="'.concat(I.definition,'">').concat(I.desc,"</li>"));if(a.innerHTML=u.join(""),this.hasCreated==!1&&this.definition){var p=a.querySelector('li[data-def="'.concat(this.definition,'"]'));p.className="current"}this.hasCreated=!0;var O=null;r.onclick=()=>{a.style.display="block"},r.onmouseleave=()=>{O=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(O)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=I=>{var W=I.target,x=W.dataset.def,K=W.innerText;if(x&&W.className!=="current"){var R=this._urls.find(k=>k.definition===x);s.loadByUrl(R.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(R.desc,R.definition,o),i.style.display="block",i.querySelector("span.current-quality-tag").innerText=R.desc}this.getQuality(x,K)}}ready(s){var o=s._el.id,r=document.querySelector("#".concat(o," .quality-modal"));r.style.display="none";var a=document.querySelector("#".concat(o," .prism-setting-item.prism-setting-quality"));a&&a.classList.add("player-hidden")}}class ve{createEl(s,o){var r=o._el.id,a=(0,re.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),i=document.querySelector("#".concat(r," .prism-controlbar"));i.appendChild(a)}ready(s){var o=s._el.id,r=document.querySelector("#".concat(o," .current-rate")),a=document.querySelector("#".concat(o," .rate-list")),i=null,u=document.querySelector("#".concat(o," .prism-setting-item.prism-setting-speed"));u&&u.classList.add("player-hidden"),r.onclick=()=>{a.style.display="block"},r.onmouseleave=()=>{i=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(i)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=p=>{var O=p.target,I=O.dataset.rate;if(I){if(s.setSpeed(I),O.className!=="current"){var W=a.querySelector(".current");W&&(W.className=""),O.className="current"}a.style.display="none",r.innerText="".concat(I,"x")}}}}var Se=t(69164),Ve=t(37055);function fe(te){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Ve.ZP.local.getLocalUrl(te);return H.WY.get({url:o,params:s})}var Oe=t(91648),ye=t(18329),tt=t(38642),pt=t(9849),ze=t(99891);class De extends y.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var lt=De,$e=te=>({userInfo:te.user});class _e extends y.Component{constructor(s){var o;super(s);o=this,this.onVideoReady=r=>{var a=this.props,i=a.resourceInfo,u=a.mode,p=a.autoPlay,O=a.t,I=i.storageType;r==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(r),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(u==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),u==="preview"&&p&&this.play.play()):I==="ALIBABA_PRIVATE"||I==="LOCAL"?this.updateSource("resetPlayer"):(H.WY.logger({keyword:"video",moduleName:"video-play",msg:O("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var r=this.props,a=r.draggable,i=r.mode,u=r.t,p=r.studyInfo,O=r.needCurrentTime,I=r.onCurrentTime,W=I===void 0?()=>{}:I,x=p.studyType,K=p.studyId,R=p.resourceId,k=this.state,J=k.showPreventHang,se=k.dragSwitch,he=k.showRandomAlert,pe=k.randomAlertDialogVisible,X=this.playingVideo,Ne=X.oneTime,we=X.popupWindowCount,Ie=X.maxPlayTime,nt=X.progress,Me=X.auditionLength,Qe=X.auditionType,Xe=X.duration,Je=X.recentStart,Ae=this.play.getCurrentTime(),Ce=(J==="OPEN"||he==="OPEN")&&we>0;if(O&&W(Ae),Me>0&&Qe===2&&Ae>Me&&(this.play.seek(Me),B.default.warning(u("component.haveALookOverTip")),this.play.pause()),i==="learn"&&Ce){var st=Xe-Ne*we;if(we>0&&Ae>st)if(this.play.pause(),he==="OPEN"){if(!pe){var ot=(0,Oe.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:ot},()=>{(0,A.qp)({popupId:ot,planId:K,resourceId:R,type:"popup_start"})}),this.play.exitFull()}}else J==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((a||nt===100)&&(Ae>0&&(this.playingVideo.recentStart=Ae),!((x==="enterprise"||x==="studyProject")&&se==="OPEN")))return!1;Ae>Ie?Ae-Je>2?(this.playingVideo.recentStart=Ie,this.play.seek(Ie),B.default.warning(u("component.preventFastWatchTip"))):(this.playingVideo.recentStart=Ae,this.playingVideo.maxPlayTime=Ae):Ae>0&&Ae>this.playingVideo.recentStart&&(this.playingVideo.recentStart=Ae)},this.onPlay=()=>{var r=this.props,a=r.mode,i=r.onPlay,u=i===void 0?()=>{}:i;u();var p=this;a==="learn"&&!p.timer&&(p.timer=setTimeout(function O(){p.saveProgress(),clearTimeout(p.timer),p.timer=setTimeout(O,2e4)},2e4))},this.onPause=()=>{var r=this.props,a=r.studyInfo,i=r.mode,u=a.studyType;clearTimeout(this.timer),this.timer=null,i==="learn"&&(u==="platform"||u==="enterprise"||u==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var r=this.props.mode;r==="learn"&&this.saveProgress()},this.onError=r=>{var a=this.props.resourceInfo,i=a.storageType;(i==="ALIBABA_PRIVATE"||i==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var r=this.props.mode;this.initPlayVideo(),r==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var r=this.state,a=r.showPreventHang,i=r.showRandomAlert,u=this.props,p=u.t,O=u.playingVideo,I=u.studyInfo,W=u.autoPlay,x=O.recentStart,K=O.duration,R=O.progress,k=I.studyType,J=(a==="OPEN"||i==="OPEN")&&(k==="studyTask"||k==="enterprise"||k==="studyProject")&&R<100;J?(i==="OPEN"?this.setState({promptMessage:p("component.preventAlertTip"),dialogVisible:!0}):a==="OPEN"&&this.setState({promptMessage:p("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):W&&(this.play.play(),Math.ceil(x)<parseInt(K)&&this.play.seek(x))},this.playerShowPreventHang=()=>{var r=this.playingVideo,a=r.duration,i=r.recentStart,u=0;a>0&&a<180?(u=a/2,this.playingVideo.oneTime=u,i>=u?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):a>=180&&a<600?(u=a/3,this.playingVideo.oneTime=u,i>=2*u?this.playingVideo.popupWindowCount=0:i>=u?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(u=a/4,this.playingVideo.oneTime=u,i>=3*u?this.playingVideo.popupWindowCount=0:i>=2*u?this.playingVideo.popupWindowCount=1:i>=u?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var r=this.props,a=r.playingVideo,i=r.mode;if(i==="learn"){this.playingVideo=(0,w.Z)({},a);var u=a.duration,p=a.progress;this.playingVideo.hasFinished=parseInt(p)===100,this.playingVideo.maxPlayTime=parseInt(u)*parseInt(p)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,T.Z)(g().mark(function r(){var a,i,u,p,O,I,W,x,K,R,k,J,se,he,pe,X,Ne,we,Ie,nt,Me,Qe,Xe,Je;return g().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(a=o.state,i=a.speedSwitch,u=a.dragSwitch,p=a.whiteList,O=o.props,I=O.resourceInfo,W=O.showQuality,x=I.contentType,K=I.storageType,R=I.source,k=I.playId,J=I.playerId,se=I.showFullScreen,he=se===void 0?!0:se,pe=me(J),pe.components=[],X=typeof R=="object"&&R.hasOwnProperty("FD")&&R.FD.indexOf("m3u8")===-1,W&&X&&x!=="mp3"&&(K&&K==="PUBLIC_CLOUD"||!K)&&pe.components.push({name:"VideoQuality",type:ce,args:[()=>{o.play.pause(),o.playingVideo.readyCount=0}]}),i==="OPEN"&&pe.components.push({name:"VideoRate",type:ve}),he&&(Ne=pe.skinLayout.find(st=>st.name==="controlBar"),Ne&&Ne.children.splice(Ne.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),pe.components.push({name:"VideoWaterMark",type:lt}),we=R.FD,Ie=R.OD,we.indexOf("http://")>-1&&(we=we.replace("http://","https://")),Ie.indexOf("http://")>-1&&(Ie=Ie.replace("http://","https://")),nt=p.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",R.OD=Ie&&Ie.indexOf(nt)>-1&&Ie.indexOf(".mp4")>-1?Ie:we,R.FD=we,Me=typeof R!="string"?JSON.stringify(R):R,pe.source=Me,u==="OPEN"&&(pe.disableSeek=!0),K!=="ALIBABA_PRIVATE"){Ce.next=32;break}return Ce.next=22,(0,A.BR)(k);case 22:if(Qe=Ce.sent,!Qe){Ce.next=28;break}pe.source=Qe,pe.vodRetry=1,Ce.next=30;break;case 28:return o.setState({showPrivateVodError:!0}),Ce.abrupt("return");case 30:Ce.next=38;break;case 32:if(K!=="LOCAL"){Ce.next=38;break}return Ce.next=35,fe(k);case 35:Xe=Ce.sent,Je=Xe.data,Je.code===0&&(pe.source="".concat(R.FD,"?auth_key=").concat(Je.data.auth_key),pe.vodRetry=1);case 38:o.setState({playerConfig:pe});case 39:case"end":return Ce.stop()}},r)})),this.updateSource=function(){var r=(0,T.Z)(g().mark(function a(i){var u,p,O,I,W,x,K,R;return g().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(u=o.state.playerConfig,p=o.props.resourceInfo,O=p.storageType,I=p.source,W=p.playId,o.playingVideo.readyCount=0,O!=="ALIBABA_PRIVATE"){J.next=16;break}return J.next=7,(0,A.BR)(W);case 7:if(x=J.sent,!x){J.next=12;break}Object.assign(u,{source:x,vodRetry:1}),J.next=14;break;case 12:return o.setState({showPrivateVodError:!0}),J.abrupt("return");case 14:J.next=22;break;case 16:if(O!=="LOCAL"){J.next=22;break}return J.next=19,fe(W);case 19:K=J.sent,R=K.data,R.code===0&&Object.assign(u,{source:"".concat(I.FD,"?auth_key=").concat(R.data.auth_key),vodRetry:1});case 22:o.setState({playerConfig:u},()=>{o.play.setupPlayer(i)});case 23:case"end":return J.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),this.saveProgress=()=>{var r=this.props,a=r.studyInfo,i=r.userInfo,u=i.isLogin,p=i.enterpriseId,O=i.id,I=this.playingVideo,W=I.recentStart,x=I.duration,K=I.hasFinished,R=Math.ceil(+W);R>Number(x)&&(R=Number(x));var k=Math.ceil(R/+x*100);if((k>100||K)&&(k=100),u){var J=this.playingVideo,se=J.auditionType,he=J.auditionLength;if(he>0&&se===2){var pe=Math.ceil(he/x*100);pe<=k&&(k=pe,R=he)}(0,A.sH)({studyInfo:a,progress:k,recent_start:R,enterpriseId:p,userId:O}).then(X=>{X&&X.data&&(0,Se.Z)(X.data.integral_info||"")})}},this.getInfoFromSettings=(0,T.Z)(g().mark(function r(){var a,i,u,p,O,I,W,x,K;return g().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return a=o.props.studyInfo,i=a.studyType,u=a.projectId,k.next=4,(0,A.Gw)();case 4:if(p=k.sent,O=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],I=(0,re.RG)(p,O),i!=="studyProject"){k.next=14;break}return k.next=10,(0,pt.NU)({id:u});case 10:W=k.sent,x=W.status,K=W.data,x===200&&(I.showPreventHang=K.prevent_cut_screen?"OPEN":"CLOSED",I.speedSwitch=K.speed_play?"OPEN":"CLOSED",I.dragSwitch=K.prevent_drag?"OPEN":"CLOSED");case 14:o.setState(I,()=>{o.dealVideoConfig()});case 15:case"end":return k.stop()}},r)})),this.dealAudioPoster=()=>{var r=this.props.resourceInfo.contentType,a=r===void 0?"":r;this.setState({showAudioPoster:a==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var r=this.state.showAudioPoster,a=this.play.playerContainer;r&&a&&(a.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),a.style.backgroundSize="cover")},this.getPlayInstance=r=>{this.play=r},this.handleOk=()=>{this.setState({dialogVisible:!1});var r=this.state.btnType,a=this.playingVideo.recentStart,i=this.props.t;r==="know"?(this.play.play(),this.play.seek(a),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:i("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,T.Z)(g().mark(function r(){var a,i,u,p;return g().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:a=o.props.studyInfo,i=a.studyId,u=a.resourceId,p=o.state.randomAlertUUID,(0,A.qp)({popupId:p,planId:i,resourceId:u,type:"popup_end"}).then(()=>{o.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),o.playingVideo.popupWindowCount-=1,o.play.play();case 6:case"end":return I.stop()}},r)})),this.renderFooter=()=>{var r=this.state.btnType,a=this.props.t;return n().createElement(l.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(r)},a(r==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var r=this.props.t;return n().createElement(l.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},r("common.ok"))},this.state={playerConfig:me(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,tt.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var o=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,r=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;o!==r&&r!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,o=s.playerConfig,r=s.showPrivateVodError,a=s.dialogVisible,i=s.dialogModal,u=s.promptMessage,p=s.randomAlertDialogVisible,O=s.randomAlertModal,I=s.randomAlertTip,W=s.encryptedSwitch,x=this.props,K=x.resourceInfo,R=x.t,k=W==="OPEN"?F:ne;return n().createElement(y.Fragment,null,n().createElement(k,(0,c.Z)({ref:this.getPlayInstance},K,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:o,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(ye.ZP,(0,c.Z)({visible:a},i,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},u)),n().createElement(ye.ZP,(0,c.Z)({visible:p},O,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},I)),r&&n().createElement("div",{className:"video-business-vod-error"},R("privateCloud.docReadError")),n().createElement(ze.Z,{scenes:"video"}))}}var Et=(0,Y.$j)($e,null,null,{forwardRef:!0})((0,b.Z)("translation",{withRef:!0})(_e)),He=t(94184),Ge=t.n(He),at=t(84874),ht=te=>({userInfo:te.user}),oa={getPravateDocUrl:Ve.ZP.localStorage.getPravateDocUrl};function Ut(te){return JSON.stringify(te,(s,o)=>(typeof o=="function"&&(o=o.toString()),o))}function ia(te){var s=parseInt(parseInt(te,10)/60,10),o=parseInt(parseInt(te,10)%60,10);return s<10&&(s="0".concat(s)),o<10&&(o="0".concat(o)),"".concat(s,":").concat(o)}class rt extends y.Component{constructor(s){var o;super(s);o=this,this.messageFun=r=>{var a=this.props,i=a.docType,u=a.progress,p=a.studyTimeLimit,O=a.studyTime,I=this.state,W=I.jumpPageTag,x=I.totalTime,K=I.timeRemaining,R=this.state.previewDocData,k={};try{k=JSON.parse(r.data)}catch(J){return}switch(k.action){case"preview.ready":this.initDocData();break;case"preview.meta":R.totalPage=k.data.pc||1,R.currentPage=1,this.setState({previewDocData:R},()=>{this.reportStatusInterval()}),p>0?(this.saveProgress(u,O||"1",k.data.pc||1),this.setState({showCountDownContainer:!0})):i==="xlsx"||i==="xls"||R.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(u,O||"1",k.data.pc||1),p>0&&u<100?(this.setState({showCountDown:!0}),i==="xlsx"||i==="xls"?x=p:x=p*k.data.pc,K=parseInt(x*(1-u/100),10),this.setState({timeRemaining:K,totalTime:x},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(W){W=!1,this.setState({jumpPageTag:W});return}R.currentPage=k.data.pageIndex+1,this.setState({previewDocData:R}),p||this.saveProgress(Math.ceil(R.currentPage/R.totalPage*100),R.currentPage,R.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":B.default.error(k.data.result);break;default:break}},this.initDocData=(0,T.Z)(g().mark(function r(){var a,i,u,p,O,I,W,x,K,R,k,J,se,he;return g().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(o.setState({isShowPrivateError:!1}),a=o.props,i=a.docType,u=a.userInfo,p=a.documentWatermarkSettings,O=a.storageType,I=a.privateDocId,W=u.name,x=u.jobNumber,K=u.position,R="",k={},O!=="ALIBABA_PRIVATE"){X.next=18;break}return X.prev=6,J=oa.getPravateDocUrl(I),X.next=10,H.WY.get({url:J});case 10:se=X.sent,he=se.data,he.code===0?k=he.data||{}:o.setState({isShowPrivateError:!0}),X.next=18;break;case 15:X.prev=15,X.t0=X.catch(6),o.setState({isShowPrivateError:!0});case 18:if(p.indexOf("name")>-1&&(R="".concat(R+W," ")),p.indexOf("position")>-1&&(R="".concat(R+K," ")),p.indexOf("jobnumber")>-1&&(R+=x),R.length>0?window.sendMessage("preview.init",(0,w.Z)({wmType:1,wmValue:R,wmColor:"rgba(192, 192, 192, 0.4)"},k)):window.sendMessage("preview.init",(0,w.Z)({},k)),i!=="xlsx"&&i!=="ppt"&&i!=="pptx"&&i!=="xls"?o.setState({pageOperateContainerVisible:!0}):o.setState({pageOperateContainerVisible:!1}),!(i==="ppt"||i==="pptx")){X.next=29;break}X.t1=window,X.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},X.t1.sendMessage.call(X.t1,"setConfig",X.t2),X.next=32;break;case 29:X.t3=window,X.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},X.t3.sendMessage.call(X.t3,"setConfig",X.t4);case 32:case"end":return X.stop()}},r,null,[[6,15]])})),this.handleJumpPage=r=>{var a=this.state.previewDocData;a.currentPage=r,this.setState({jumpPageTag:!0,previewDocData:a});var i=r/a.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(i),r,a.totalPage),window.sendMessage("logic.toPage",{pageIndex:r-1})},this.redirectPage=()=>{var r=this.props,a=r.studyTimeLimit,i=r.studyTime,u=0;a===0&&(u=i-1>0?i-1:0),window.sendMessage("logic.toPage",{pageIndex:u})},this.docCountDown=()=>{var r=this.state.timeRemaining,a=this.state,i=a.totalTime,u=a.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{r-=1,this.setState({timeRemaining:r}),r<1&&(this.saveProgress(100,0,u.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var p=(i-r)/i*100;r<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(p),r,u.totalPage)},2e4)},this.saveProgress=(r,a,i)=>{var u=this.props.onSaveProgress;u&&u(r,a,i)},this.reportStatusInterval=()=>{var r=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var a=this.state.previewDocData.currentPage;r&&r({currentPage:a})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=r=>{this.docReader=r},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,o)=>{var r=this.docReader.contentWindow;r.postMessage(Ut({action:s,data:o}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,o=s.t,r=s.storageType,a=s.privateDocId,i=this.props.aliUrl,u=this.state,p=u.previewDocData,O=u.pageOperateContainerVisible,I=u.timeRemaining,W=u.showCountDown,x=u.showCountDownContainer,K=u.showPageOperateContainer,R=u.isShowPrivateError;return r==="ALIBABA_PRIVATE"&&(i="https://preview.imm.aliyuncs.com/index.html?docId=".concat(a)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:O?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:i,id:"aliyunPreview",ref:this.dealPreviewRef}),x?n().createElement("div",{className:"ali-doc-container__countdown"},W?n().createElement("div",null,n().createElement(at.Z,{iconClass:"iconf-tipe",size:"16px"}),o("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",ia(I)," "),o("component.canDone")):n().createElement("div",null,n().createElement(at.Z,{iconClass:"iconf-tipe",size:"16px"}),o("component.docHasFinish"))):null,O?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:Ge()(["ali-doc__operate__content",K?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},p.currentPage," / ",p.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,o("component.choosePage"),n().createElement(at.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},o("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:p.totalPage})).map((k,J)=>n().createElement("li",{key:k,onClick:()=>this.handleJumpPage(J+1)},J+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},o("common.collapse"))))),n().createElement("div",{className:Ge()("ali-doc__operate__unfold",K?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},o("common.expand"))):null,R&&n().createElement("div",{className:"ali-doc__error"},o("privateCloud.docReadError"))),n().createElement(ze.Z,{scenes:"document"}))}}rt.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Wt=(0,Y.$j)(ht)((0,b.Z)()(rt)),Bt=te=>({userInfo:te.user}),Ft="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),oe="".concat("https://doc.coolcollege.cn");class Vt extends n().Component{constructor(s){var o;super(s);o=this,this.onSaveProgress=(r,a,i)=>{var u=this.props,p=u.mode,O=u.studyInfo,I=u.userInfo,W=I.enterpriseId,x=I.id;p==="learn"&&(0,A.sH)({studyInfo:O,progress:r,page_count:i,recent_start:a,enterpriseId:W,userId:x}).then(K=>{K&&K.data&&(0,Se.Z)(K.data.integral_info||"")})},this.messageFun=function(){var r=(0,T.Z)(g().mark(function a(i){var u,p,O,I,W,x;return g().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(i.data!=="local-resource"){R.next=9;break}if(u=o.props.resourceInfo,p=u.storageType,O=u.playId,!(p&&p==="LOCAL")){R.next=9;break}return R.next=6,fe(O);case 6:I=R.sent,W=I.data,W.code===0&&(x=document.getElementById("local-resource-box"),x.contentWindow.postMessage({msg:"local-auth-key",authKey:W.data.auth_key},"*"));case 9:case"end":return R.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),this.getInfoFromSettings=(0,T.Z)(g().mark(function r(){var a,i,u;return g().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,A.Gw)();case 2:a=O.sent,i=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],u=(0,re.RG)(a,i),o.setState(u,()=>{o.initDocPage(o.props)});case 6:case"end":return O.stop()}},r)})),this.initDocPage=(0,T.Z)(g().mark(function r(){var a,i,u,p,O,I,W,x,K,R,k,J,se,he,pe,X,Ne,we,Ie,nt,Me,Qe,Xe,Je,Ae,Ce,st,ot,Ze,St,At,Ot,Nt,xt,bt=arguments;return g().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(a=bt.length>0&&bt[0]!==void 0?bt[0]:{},i=a.resourceInfo,u=a.mode,p=a.studyInfo,O=a.userInfo,I=o.state.documentPlayerMode,W=i.docType,x=i.docTitle,K=i.url,R=i.studyTimeLimit,k=i.studyTime,J=i.aliUrl,se=i.progress,he=i.storageType,pe=i.playId,X=p.studyType,Ne=p.courseId,we=p.studyId,Ie=p.resourceId,nt=O.enterpriseId,Me=O.id,Qe=O.isLogin,Xe=O.token,Je=I==="compat"&&J.indexOf("preview.imm.aliyun")>-1||he==="ALIBABA_PRIVATE",!Je){We.next=11;break}o.setState({showAliReader:!0}),We.next=31;break;case 11:if(Ae=(0,A.sH)({enterpriseId:nt,userId:Me,token:Xe,studyInfo:p},!0),Ce=X==="studyTask"?2:1,st=Ve.ZP.SaveProgress.reportStatusInterval(p),ot={isSaveProgress:Qe&&u==="learn"&&Ae,isSaveRecord:!1,access_token:Xe,userId:Me,hostUrl:Ft,courseId:Ne,resourceId:Ie,courseType:1,planId:we,studyTimeLimit:R,studyTime:k,saveProgressUrl:Ae,type:"eapp",progress:se,saveRecordProgressUrl:st,actionType:Ce},!(he&&he==="LOCAL")){We.next=26;break}return We.next=18,fe(pe);case 18:if(Ze=We.sent,St=Ze.data,St.code!==0){We.next=25;break}ot.auth_key=St.data.auth_key,ot.url=K,We.next=26;break;case 25:return We.abrupt("return");case 26:At=JSON.stringify(ot),Ot="".concat(x,".").concat(W).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),Nt="".concat(oe,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(At),"&furl=").concat(K,"?attname=").concat(Ot),he&&he==="LOCAL"&&(xt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),Nt="".concat(xt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(At),"&furl=").concat(K,"?attname=").concat(Ot)),o.setState({encodeUrl:Nt});case 31:case"end":return We.stop()}},r)})),this.handleReportStatusInterval=r=>{var a=r.currentPage,i=this.props,u=i.resourceInfo,p=i.mode,O=i.studyInfo,I=i.userInfo,W=u.type,x=O.courseId,K=O.studyId,R=O.resourceId,k=I.enterpriseId,J=I.id,se=I.isLogin,he="",pe="",X=0,Ne=!1;switch(W){case"enterprise":X=1,Ne=!0;break;case"study":he=K,X=2,Ne=!0;break;case"project":pe=K,X=1,Ne=!0;break;default:break}if(!(!Ne||!se)){var we={plan_id:he,enterprise_id:k,user_id:J,course_id:x,project_course_id:pe,resource_id:R,current_page:a,action_type:X,send_time:Date.parse(new Date)};p==="learn"&&(0,A.Xc)(O,we)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,o=this.state,r=o.encodeUrl,a=o.documentWatermarkSettings,i=o.showAliReader,u=s.docType,p=s.type,O=s.studyTimeLimit,I=s.studyTime,W=s.aliUrl,x=s.progress,K=s.storageType,R=s.playId;return i?n().createElement(Wt,{privateDocId:R,storageType:K,aliUrl:W,docType:u,progress:x,studyTime:I,studyTimeLimit:O,documentWatermarkSettings:a,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:p}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:r,frameBorder:"0",allowFullScreen:!0}),n().createElement(ze.Z,{scenes:"document"}))}}var Kt=(0,Y.$j)(Bt)(Vt),la=t(38979),da=t(90706),jt=t(12968),Yt=t(44208),Pt=t(60667),zt=te=>({userInfo:te.user});class Ct extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var o=this.props,r=o.studyInfo,a=o.mode,i=o.userInfo,u=i.enterpriseId,p=i.id;a==="learn"&&(0,re.Gp)({studyInfo:r,enterpriseId:u,userId:p})},this.getInfoFromSettings=(0,T.Z)(g().mark(function o(){var r,a,i;return g().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,A.Gw)();case 2:r=p.sent,a=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],i=(0,re.RG)(r,a),s.setState(i,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},o)})),this.renderWatermark=()=>{var o=this.props.userInfo,r=this.state.imageWatermark,a=o.name,i=o.unionid,u=o.sourceType,p=o.jobNumber,O=o.position,I=[];r.indexOf("name")>-1&&I.push(n().createElement(Pt.Z,{dataType:"userName",value:i,name:a,type:u})),r.indexOf("position")>-1&&I.push(n().createElement("span",null,O)),r.indexOf("jobnumber")>-1&&I.push(n().createElement("span",null,p)),r.length>0&&this.setState({watermark:I.map((W,x)=>n().createElement("span",{key:x},W))})},this.handleError=o=>{var r=this.props.onError;r&&r(o)},this.getImageUrl=(0,T.Z)(g().mark(function o(){var r,a,i,u,p,O,I,W,x,K;return g().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(r=s.props,a=r.resourceInfo,i=r.t,u=a.playId,p=a.url,O=a.storageType,I=p,!O){k.next=21;break}if(O!=="ALIBABA_PRIVATE"){k.next=15;break}return k.next=7,(0,A.J7)(u);case 7:if(W=k.sent,!W){k.next=12;break}I=W,k.next=13;break;case 12:return k.abrupt("return",B.default.info(i("privateCloud.docReadError")));case 13:k.next=21;break;case 15:if(O!=="LOCAL"){k.next=21;break}return k.next=18,fe(u);case 18:x=k.sent,K=x.data,K.code===0&&(I="".concat(p,"?auth_key=").concat(K.data.auth_key));case 21:s.setState({imageUrl:[I]},()=>{var J=s.state.imageUrl,se="image-business",he=document.querySelectorAll(".".concat(se,"-image img"));he.forEach((pe,X)=>{pe.onerror=()=>{s.handleError(J[X])}})});case 22:case"end":return k.stop()}},o)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",o=this.props.resourceInfo,r=o.preview,a=r===void 0?!1:r,i=this.state,u=i.watermark,p=i.imageUrl;return n().createElement("div",{className:s},n().createElement(ze.Z,{scenes:"image"}),n().createElement(da.Z,{className:"".concat(s,"-carousel")},p.map((O,I)=>n().createElement("div",{className:"".concat(s,"-image"),key:I.toString()},n().createElement(Yt.Z,{src:O,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:a})))))}}Ct.defaultProps={prefixCls:"watch-image-page"};var $t=(0,Y.$j)(zt)((0,b.Z)()(Ct)),ua=te=>({userInfo:te.user});class ca extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,T.Z)(g().mark(function o(){var r,a,i;return g().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,A.Gw)();case 2:r=p.sent,a=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],i=(0,re.RG)(r,a),s.setState(i,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},o)})),this.renderWatermark=()=>{var o=this.props.userInfo,r=this.state.htmlWatermark,a=o.name,i=o.unionid,u=o.sourceType,p=o.jobNumber,O=o.position,I=[];r.indexOf("name")>-1&&I.push(n().createElement(Pt.Z,{dataType:"userName",value:i,name:a,type:u})),r.indexOf("position")>-1&&I.push(n().createElement("span",null,O)),r.indexOf("jobnumber")>-1&&I.push(n().createElement("span",null,p)),r.length>0&&this.setState({watermark:I.map((W,x)=>n().createElement("span",{key:x},W))})},this.saveProgress=()=>{var o=this.props,r=o.studyInfo,a=o.mode,i=o.userInfo,u=i.enterpriseId,p=i.id;a==="learn"&&(0,re.Gp)({studyInfo:r,enterpriseId:u,userId:p})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",o=this.props.resourceInfo,r=o.url,a=this.state.watermark;return n().createElement("div",{className:s},n().createElement("div",{className:"".concat(s,"__html-watermark")},a),n().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:r}))}}var Ht=(0,Y.$j)(ua)((0,b.Z)()(ca)),Gt=t(57068),je=t(1164),Qt=te=>({userInfo:te.user});class Xt extends n().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var o=s.split("//"),r=o[1].split("/");return[o[0],r[0]].join("//")},this.getScormUrl=()=>{var s=this.props,o=s.studyInfo,r=s.mode,a=s.userInfo,i=s.resourceInfo,u=s.from,p=a.enterpriseId,O=a.id,I=i.url,W=this.getHost(I);if(r==="learn"){var x=(0,w.Z)({userId:O,enterpriseId:p,access_token:localStorage.token,from:u,scormUrl:encodeURIComponent(I),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},o);return"".concat(W).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(Gt.stringify(x))}return"".concat(W,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(I))},this.handleOpenScormLink=s=>{je.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,o="scorm-business",r=this.getScormUrl(),a=(0,tt.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:o},a?n().createElement("div",{className:"".concat(o,"_scorm")},n().createElement("img",{className:"".concat(o,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,s("resourcePlay.scormTip")),n().createElement(l.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(r)},s("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(o,"_iframe"),src:r}))}}var Jt=(0,Y.$j)(Qt)((0,b.Z)()(Xt));class qt extends n().Component{render(){var s=this.props,o=s.visible,r=s.title,a=s.onCancel,i=s.t,u=n().createElement("span",null,r);return n().createElement(ye.ZP,{visible:o,title:u,onCancel:a,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:h(),alt:"picture"}),n().createElement("h2",null,i("localStorage.tip")),n().createElement("p",null,i("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(l.Z,{type:"primary",className:"know",onClick:a},i("localStorage.onKnow"))))}}var ea=(0,b.Z)()(qt);class kt extends y.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=o=>{var r=this.props.previewInfo,a=r.onCancel;this.onCancel(),a(o)},this.onGetVideoBusiness=o=>{var r=this.props.onRef,a=r===void 0?()=>{}:r;this.videoBusiness=o,a(o)},this.onFullScreen=()=>{var o=this.state.fullScreen;this.setState({fullScreen:!o})},this.handleJudgeNetwork=(0,T.Z)(g().mark(function o(){var r,a,i,u,p,O,I,W,x,K,R,k=arguments;return g().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(r=k.length>0&&k[0]!==void 0?k[0]:null,a=s.props,i=a.resourceInfo,u=a.watchType,p=i.storageType,O=i.playId,I=i.originUrl,W=u==="image"||u==="video"||u==="doc",x=null,r?x=r:I?x=I:x=i.url,!(W&&x&&O&&p&&p==="LOCAL")){se.next=22;break}return se.prev=7,se.next=10,(0,A.NY)(O);case 10:return K=se.sent,se.next=13,(0,A.Hy)(x,K);case 13:R=se.sent,R?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),se.next=20;break;case 17:se.prev=17,se.t0=se.catch(7),s.setState({showBan:"yes"});case 20:se.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return se.stop()}},o,null,[[7,17]])})),this.renderOuter=()=>{var o=this.props,r=o.prefixCls,a=o.watchType,i=o.onCurrentTime,u=i===void 0?()=>{}:i;return n().createElement("div",{className:"".concat(r,"-outer")},a==="video"&&n().createElement(Et,(0,c.Z)({onCurrentTime:u,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),a==="doc"&&n().createElement(Kt,this.props),a==="image"&&n().createElement($t,(0,c.Z)({onError:this.handleJudgeNetwork},this.props)),a==="html"&&n().createElement(Ht,this.props),a==="scorm"&&n().createElement(Jt,this.props))},this.renderFooter=()=>{var o=this.props,r=o.resourceInfo.storageType,a=o.t,i=this.state.showBan,u=i!==""&&i==="yes";return r&&r!=="PUBLIC_CLOUD"&&u?n().createElement(l.Z,{type:"primary",className:"know",onClick:this.onCancelModel},a("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,o=s.showBan,r=s.fullScreen,a=this.props,i=a.mode,u=a.previewWay,p=a.previewInfo,O=a.prefixCls,I=a.t,W=a.showEnlarge,x=a.footer,K=x===void 0?null:x,R=p.visible,k=p.destroyOnClose,J=p.title,se=o!==""&&o==="yes",he=o!==""&&o==="no";return n().createElement(y.Fragment,null,i==="preview"&&u==="popups"&&n().createElement(ye.ZP,{destroyOnClose:k,visible:R,title:J,onCancel:this.onCancelModel,footer:K||this.renderFooter(),wrapClassName:"".concat(O,"-resource ").concat(r?"".concat(O,"-full"):"")},W&&n().createElement("div",{className:"".concat(O,"-resource-out-icon"),onClick:this.onFullScreen},r?n().createElement(L.Z,{className:"".concat(O,"-resource-icon")}):n().createElement(E.Z,{className:"".concat(O,"-resource-icon")})),n().createElement("div",{className:"".concat(O,"-inner")},!R&&n().createElement(m.Z,{size:"large"}),R&&he&&this.renderOuter(),se&&n().createElement(v,null))),(i==="learn"||u==="page")&&he&&this.renderOuter(),(i==="learn"||u==="page")&&n().createElement(ea,{visible:se,title:J||I("questionn.warmHint"),onCancel:this.onCancel}))}}kt.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ta=(0,b.Z)("translation",{withRef:!0})(kt)},41225:function(le,Q,t){"use strict";t.d(Q,{Hy:function(){return T},NY:function(){return e},Gw:function(){return g},sH:function(){return L},BR:function(){return y},qp:function(){return E},Xc:function(){return b},J7:function(){return n}});var M=t(57361),m=t(9754),S=t.n(m),l=t(10237),c=t(37055),T=function(){var D=(0,M.Z)(S().mark(function h(){var f,v,w,$,B,Y,re,A=arguments;return S().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return f=A.length>0&&A[0]!==void 0?A[0]:"",v=A.length>1&&A[1]!==void 0?A[1]:"",w="",f.startsWith("http")?($=f.split("//")[1].trim(),B=$.split("/")[0],w="https://".concat(B,"/cms/ticket")):(Y=f.split("/")[0],w="https://".concat(Y,"/cms/ticket")),G.prev=4,G.next=7,l.ZQ.get({url:w,params:{ticket:v}});case 7:if(re=G.sent,!(re.status===200||re.status===403)){G.next=10;break}return G.abrupt("return",Promise.resolve(!0));case 10:return G.abrupt("return",Promise.resolve(!1));case 13:return G.prev=13,G.t0=G.catch(4),G.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return G.stop()}},h,null,[[4,13]])}));return function(){return D.apply(this,arguments)}}(),e=function(){var D=(0,M.Z)(S().mark(function h(f){var v,w;return S().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,l.ZQ.get({url:c.ZP.local.getTicket(f)});case 2:if(v=B.sent,w=v.data,w.code!==0){B.next=6;break}return B.abrupt("return",Promise.resolve(w.data.ticket));case 6:return B.abrupt("return",Promise.resolve(""));case 7:case"end":return B.stop()}},h)}));return function(f){return D.apply(this,arguments)}}(),g=function(){var D=(0,M.Z)(S().mark(function h(){var f;return S().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,l.WY.get({url:c.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return f=w.sent,w.abrupt("return",f.data.list);case 4:case"end":return w.stop()}},h)}));return function(){return D.apply(this,arguments)}}(),y=function(){var D=(0,M.Z)(S().mark(function h(f){var v,w,$;return S().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,l.WY.get({url:c.ZP.localStorage.getPravateVideoUrl(f)});case 2:if(v=Y.sent,v.data.code!==0){Y.next=6;break}return w=v.data.data.videoPlayInfo,$=w===void 0?"":w,Y.abrupt("return",$);case 6:return Y.abrupt("return","");case 7:case"end":return Y.stop()}},h)}));return function(f){return D.apply(this,arguments)}}(),n=function(){var D=(0,M.Z)(S().mark(function h(f){var v,w,$;return S().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return v=c.ZP.localStorage.getPravateDocUrl(f),Y.prev=1,Y.next=4,l.WY.get({url:v});case 4:if(w=Y.sent,$=w.data,!($.code===0&&$.data)){Y.next=8;break}return Y.abrupt("return",$.data.docResourceDownloadUrl||"");case 8:return Y.abrupt("return","");case 11:return Y.prev=11,Y.t0=Y.catch(1),Y.abrupt("return","");case 14:case"end":return Y.stop()}},h,null,[[1,11]])}));return function(f){return D.apply(this,arguments)}}(),L=function(h){var f=h.studyInfo,v=h.progress,w=h.recent_start,$=h.page_count,B=h.enterpriseId,Y=h.userId,re=h.token,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H,G=f.studyType;if(G==="studyTask"&&(H=c.ZP.SaveProgress.studySaveProgress(f)),(G==="course"||G==="enterprise")&&(H=c.ZP.SaveProgress.enterpriseCourseSaveProgress(f)),G==="studyProject"&&(H=c.ZP.SaveProgress.projectSaveProgress(f)),G==="platform"&&(H="".concat(c.ZP.SaveProgress.platformCourseSaveProgress(f))),(A||G==="platform")&&(H+="?enterprise_id=".concat(B,"&user_id=").concat(Y)),A)return H+="&access_token=".concat(re||localStorage.getItem("token")),H;var U={progress:v,recent_start:w,tempTime:Date.parse(new Date)};return $&&(U.page_count=$),f.evaluationId&&(U.evaluation_id=f.evaluationId),l.WY.post({url:H,data:U})},E=D=>{var h=D.popupId,f=D.planId,v=D.resourceId,w=D.type;return l.WY.post({url:c.ZP.TaskStudyRecord.setRandomPopupRecord(f),data:{course_id:v,terminal_type:"PC",popup_id:h,type:w}})},b=(D,h)=>{var f=c.ZP.SaveProgress.reportStatusInterval(D);return l.WY.post({url:f,data:h})}},21594:function(le,Q,t){"use strict";t.d(Q,{pu:function(){return c},RG:function(){return T},Gp:function(){return e},O8:function(){return g}});var M=t(88986),m=t(69164),S=t(38642),l=t(41225),c=y=>{var n="";switch(y){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},T=(y,n)=>{var L={};return n.forEach(E=>{var b=y.find(w=>w.type===E.type);if(b)if(E.type==="document_duration_limit"){var D=b.action_list,h=D.find(w=>w.type==="random_popup_verification");!(0,S.UI)("RANDOM_POPUP_VERIFY")||!h?L[E.name]="CLOSE":L[E.name]=h.param.checked==="true"?"OPEN":"CLOSE"}else if(E.type==="document_player"){var f=JSON.parse(b.actions);f.forEach(w=>{w.param.checked==="true"&&(L[E.name]=w.type)})}else if(E.type==="dynamic_watermark"){var v=b.action_list;v.forEach(w=>{w.type===E.resourceType&&w.param.checked==="true"&&(L[E.name]=w.param.comment)})}else L[E.name]=b.switch_status}),L},e=y=>{(0,l.sH)((0,M.Z)({progress:100,recent_start:1},y)).then(n=>{n&&n.data&&(0,m.Z)(n.data.integral_info||"")})},g=y=>{var n=document.createElement("div");return n.innerHTML=y,n.childNodes[0]}},11449:function(le,Q,t){"use strict";t.d(Q,{Z:function(){return F}});var M=t(88986),m=t(33565),S=t(12924),l=t.n(S),c=t(3115),T=t(49111),e=t(19650),g=t(62029),y=t(57663),n=t(71577),L=t(91768),E=t(28216),b=t(37055),D=t(10237);function h(ee){var me=b.ZP.getHelpContentByMenuKey(),de={key:ee};return D.WY.get({url:me,params:de})}var f=t(74228),v=t.n(f),w=t(1164),$=t(76466),B=t(38642);class Y extends l().Component{constructor(me){var de;super(me);de=this,this.getHelpContentByMenuKey=()=>{var ne=this.props.defaultMenuKey;h(ne).then(ce=>{var ve=ce.data,Se=ve.help_url,Ve=ve.video_url;this.setState({videoUrl:Ve,helpUrl:Se})})},this.handleOpenHelpUrl=ne=>{if((0,B.ve)()){window.open(ne,"_blank");return}w.Z.targetTo({path:ne,isExternalLink:!0})},this.handleOpenVideo=function(ne){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de.props.t("helpCenter.video");de.setState(ve=>({resourcePlayInfo:(0,M.Z)((0,M.Z)({},ve.resourcePlayInfo),{},{resourceInfo:{originUrl:ne,source:{FD:ne,OD:ne},contentType:"mp4"}}),previewInfo:(0,M.Z)((0,M.Z)({},ve.previewInfo),{},{title:ce,visible:!0,onCancel:de.handleCancelPreview})}))},this.handleCancelPreview=()=>{var ne=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,M.Z)((0,M.Z)({},ne),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:me.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var me=this.state,de=me.helpUrl,ne=me.resourcePlayInfo,ce=me.previewInfo,ve=me.videoUrl,Se=this.props.t;return l().createElement("div",{className:v().helpCenter},ve&&l().createElement(n.Z,{type:"link",className:v()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ve)},Se("helpCenter.video")),de&&l().createElement(n.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(de)},Se("helpCenter.tutorial")),l().createElement($.Z,(0,g.Z)({},ne,{previewInfo:ce})))}}var re=ee=>({defaultMenuKey:ee.currentRoute.menuKey});Y.defaultProps={defaultMenuKey:""};var A=(0,E.$j)(re)((0,L.Z)()(Y));function H(ee){var me=ee.extra,de=localStorage.getItem("dingPersonnel"),ne=sessionStorage.getItem("dingPersonnel");return l().createElement(e.Z,null,me,de!=="dingPersonnel"&&ne!=="dingPersonnel"&&(0,B.eY)("COMMONEXTRA_HELP_CENTER")&&l().createElement(A,null))}var G=H,U=t(4408);function V(ee){var me=(0,S.useState)({helpCenter:(0,B.eY)("HEAD_HELP_CENTER_BUT")}),de=(0,m.Z)(me,1),ne=de[0],ce=ee.pageContainerParams,ve=ce===void 0?{}:ce,Se=ee.noPadding,Ve=Se===void 0?!1:Se,fe=ee.isPersonal,Oe=fe===void 0?!1:fe,ye=ee.pageTitle,tt=ee.className,pt=tt===void 0?"":tt,ze={extra:ne.helpCenter?l().createElement(G,{extra:ve.extra}):ve.extra},De=(0,M.Z)((0,M.Z)({},ve),ze);return l().createElement("div",{className:"page-container-content ".concat(Ve?"page-container-noPadding":""," ").concat(Oe?"page-container-content_personal_background":""," ").concat(pt)},ye&&l().createElement(U.Z,{title:ye}),Oe?l().createElement(c.Z,null,ee.children):l().createElement(c.Z,De,ee.children))}var F=V},16885:function(le,Q,t){"use strict";t.d(Q,{Z:function(){return E}});var M=t(20136),m=t(55241),S=t(88986),l=t(12924),c=t.n(l),T=t(28216),e=t(91768),g={ONLINE:"#6195FA",LIVE:"#6757F1",SMALL:"#61DAAC",COMPLETED:"#6757F1",INCOMPLETE:"#F9C227",LEARN_PEOPLE_COUNT:"#CCC285",ADD_EXAM:"#3ECC97",EXAMINATION_PAPER_SUM:"#279EE3",LEARN_TOTAL_DURATION:"#3ECC97",TASK_LEARN_DURATION:"#5F92F6",SELF_LEARN_DURATION:"#7566FA",LEARNING_PROJECT:"#6195FA",LEARNING_TASKS:"#6195FA",NEW_EMPLOYEE_TASKS:"#6195FA"},y=t(9215),n=t(60667);class L extends c().Component{constructor(D){super(D);this.compileData=()=>{var h=this.props,f=h.data,v=h.xField,w=h.yField,$=h.zField,B=h.seriesField,Y=h.meta,re=h.unit,A=h.t;if(f.length!==0){var H=f[0].total,G=[],U=f.map(V=>{var F=V[v].map(de=>{var ne=(0,S.Z)({},de),ce=de[$]/H*100;for(var ve in ne)Object.hasOwnProperty.call(de,ve)&&Y[ve]&&Y[ve].formatter&&(ne[ve]=Y[ve].formatter(de[ve])||ne[ve]);var Se=G.some(Ve=>ne[B]===Ve.label);return Se||G.push({type:de[B],label:ne[B],color:g[de[B]]||"#666"}),(0,S.Z)((0,S.Z)({},ne),{},{style:{width:"".concat(ce,"%"),background:g[de[B]]||"#666",transition:"all 2s"},type:ne[B],value:ne[$]})}),ee=V.total;if(re==="time"){var me=(0,y.aq)(ee);ee="".concat((0,y.Kr)(me[0])).concat(A("dashboard.hourUnit")).concat((0,y.Kr)(me[1])).concat(A("dashboard.minuteUnit"))}else ee=(0,y.Kr)(ee);return(0,S.Z)((0,S.Z)({},V),{},{total:ee,data:F,label:V[w]})});this.setState({stackData:U,legend:G})}},this.renderName=h=>{var f=this.props.chartType;if(f==="STUDENT"){var v=h.user_info||{},w=v.user_id,$=v.user_name,B=v.source_type;return c().createElement(n.Z,{dataType:"userName",value:w,name:$,type:B})}if(f==="DEPARTMENT_PER_CAPITA_DURATION"||f==="DEPARTMENT"){var Y=h.department_info||{},re=Y.department_id,A=Y.department_name,H=Y.source_type;return c().createElement(n.Z,{dataType:"departmentName",value:re,name:A,type:H})}return h.label},this.popoverContent=h=>{var f=h.data;return c().createElement("div",{className:"stack-popover-content"},c().createElement("div",{className:"stack-popover-content-title"},this.renderName(h)),f.length>0&&f.map(v=>c().createElement("div",{className:"stack-popover-content-item",key:v.type},c().createElement("div",{className:"content-left"},c().createElement("span",{style:{background:v.style&&v.style.background},className:"stack-popover-content-circle"}),c().createElement("span",null,v.type,"\uFF1A")),c().createElement("div",{className:"content-right"},v.value))))},this.state={legend:[],stackData:[]}}componentDidMount(){this.compileData(this.props)}render(){var D=this.state,h=D.stackData,f=D.legend;return c().createElement("div",{className:"stack-board"},c().createElement("div",{className:"stack-board-container",id:"boardContainer",ref:v=>{this.boardContainer=v}},h.length>0&&h.map(v=>c().createElement(m.Z,{content:()=>this.popoverContent(v),key:v.label},c().createElement("div",{className:"data-item"},c().createElement("div",{className:"header"},c().createElement("span",{className:"name"},this.renderName(v)),c().createElement("span",{className:"count"},v.total)),c().createElement("div",{className:"content"},c().createElement("div",{className:"bar"},v.data.map(w=>c().createElement("div",{key:w.type,style:w.style})))))))),f.length&&this.props.showLegend&&c().createElement("div",{className:"stack-board-footer"},f.map(v=>c().createElement("span",{key:v.label,className:"footer-item"},c().createElement("span",{style:{background:v.color},className:"stack-popover-content-circle"}),c().createElement("span",null,v.label)))))}}L.defaultProps={data:[],xField:"data",yField:"label",zField:"value",seriesField:"type",meta:{type:{formatter:b=>b}},chartType:"",unit:"count",showLegend:!0};var E=(0,T.$j)()((0,e.Z)()(L))},48474:function(le,Q,t){"use strict";var M=t(3407),m=t(6793),S=(0,m.me)(),l=M.Z[S],c={ADD_COURSE:{title:l.course.newCourse,img:"".concat("https://oss.coolcollege.cn","/1824752989672443904.png"),footer:l.dashboard.cumulativeCourse,unit:l.common.count},LEARN_PEOPLE_COUNT:{title:l.dashboard.studyNum,img:"".concat("https://oss.coolcollege.cn","/1824752989685026816.png"),footer:l.dashboard.cumulativeStudents,unit:l.common.people},TOTAL_DURATION:{title:l.dashboard.totalTime,img:"".concat("https://oss.coolcollege.cn","/1824752989668249600.png"),footer:l.dashboard.addTotalTime,unit:"time"},PER_CAPITA_DURATION:{title:l.dashboard.perCapitaTime,img:"".concat("https://oss.coolcollege.cn","/1824752989689221120.png"),footer:l.dashboard.historyPerCapitaTime,titleTip:l.dashboard.preCapitaDurationTip,unit:"time"},ADD_EXAM:{title:l.dashboard.newExam,img:"".concat("https://oss.coolcollege.cn","/1827118200924540928.png"),footer:l.dashboard.cumulativeExam,unit:l.common.examUnit},EXAM_PERSON_TIME:{title:l.dashboard.examCount,img:"".concat("https://oss.coolcollege.cn","/1827118200844849152.png"),footer:l.dashboard.cumulativeVisits,unit:l.common.visits,titleTip:l.dashboard.examCountTip},EXAM_COUNT:{title:l.dashboard.examPeopleCount,img:"".concat("https://oss.coolcollege.cn","/1824752989685026816.png"),footer:l.dashboard.peopleCount,unit:l.common.people},COURSE:{title:l.dashboard.courseTotal,img:"".concat("https://oss.coolcollege.cn","/1826438861677531136.png"),footer:l.dashboard.addedThisMonth,unit:l.common.count},TRAIN:{title:l.dashboard.trainingProgram,img:"".concat("https://oss.coolcollege.cn","/1826438861681725440.png"),footer:l.dashboard.addedThisMonth,unit:l.common.count},EXAM:{title:l.dashboard.examination,img:"".concat("https://oss.coolcollege.cn","/1826438861685919744.png"),footer:l.dashboard.addedThisMonth,unit:l.common.examUnit},PARTICIPANTS_LEARN_PEOPLE_COUNT:{title:l.dashboard.numberOfParticipants,img:"".concat("https://oss.coolcollege.cn","/1826438861690114048.png"),footer:l.dashboard.addedThisMonth,unit:l.common.people,toolTip:l.dashboard.studyCountTip},LEARN_TOTAL_DURATION:{title:l.dashboard.studyTotalTime,img:"".concat("https://oss.coolcollege.cn","/1826438861694308352.png"),footer:l.dashboard.perCapitaTime,unit:"time",toolTip:l.dashboard.studyDurationTip},ADD_TRAIN:{title:l.dashboard.addTraining,img:"".concat("https://oss.coolcollege.cn","/1834133786183471104.png"),footer:l.dashboard.trainingCount,unit:l.common.count},PARTICIPATION_PEOPLE_COUNT:{title:l.dashboard.participationPeopleCount,img:"".concat("https://oss.coolcollege.cn","/1834133920170512384.png"),footer_right:[l.dashboard.trainTask,l.dashboard.trainSelf],unit:l.common.people},LEARN_DURATION:{title:l.dashboard.learnDuration,img:"".concat("https://oss.coolcollege.cn","/1834134016928911360.png"),footer_right:[l.dashboard.trainTask,l.dashboard.trainSelf],unit:"time"}};Q.Z=c},27565:function(le,Q,t){"use strict";t.r(Q),t.d(Q,{default:function(){return Pa}});var M=t(3515),m=t(86288),S=t(57361),l=t(9754),c=t.n(l),T=t(12924),e=t.n(T),g=t(28216),y=t(91768),n=t(96486),L=t(90726),E=t.n(L),b=t(58024),D=t(39144),h=t(57663),f=t(71577),v=t(78138),w=t.n(v),$=t(76651),B=t(80960),Y=t(50624),re=t.n(Y),A=t(22385),H=t(31097),G=t(31948),U=t.n(G),V=t(48474),F=t(9215),ee=t(84874),me=ie=>{var P=ie.type,N=ie.value,d=ie.count,C=ie.t,_=V.Z[P]||{},Z=_.unit,j=_.footer,z=_.title,q=_.img,ue=_.toolTip,ae=function(Ee){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Z!=="time")return e().createElement("span",null,e().createElement("span",{className:U().num},(0,F.Kr)(Ee)),e().createElement("span",{className:U()[Ke&&"unit"]}," ",Z));var Ue=(0,F.aq)(Ee);return e().createElement("span",null,e().createElement("span",{className:U().num},(0,F.Kr)(Ue[0])),e().createElement("span",{className:U()[Ke&&"unit"]}," ",C("dashboard.hourUnit")),e().createElement("span",{className:U().num},(0,F.Kr)(Ue[1])),e().createElement("span",{className:U()[Ke&&"unit"]},C("dashboard.minuteUnit")))};return e().createElement("div",{className:U().detail},e().createElement("div",{className:U().top},e().createElement("img",{src:q}),e().createElement("div",{className:U().title},e().createElement("span",null,z,"\xA0",ue&&e().createElement(H.Z,{className:U()["tool-tip"],title:ue},e().createElement("span",null,e().createElement(ee.Z,{iconClass:"icon-shuoming",size:"12px"}))))),e().createElement("div",{className:U().count},ae(N,!0))),e().createElement("div",{className:U().footer},e().createElement("span",null,j),e().createElement("span",null,"\uFF1A",ae(d,!1))))};me.defaultProps={type:"",value:"0",count:"0"};var de=(0,y.Z)()(me),ne=t(38642),ce=t(39395);class ve extends e().Component{constructor(P){super(P);this.state={data:[],loading:!1,params:{start_date:w()().startOf("month").valueOf(),end_date:w()().valueOf(),quota_code:"COURSE,READING_VOLUME,TRAIN,EXAM,PARTICIPANTS_LEARN_PEOPLE_COUNT,LEARN_TOTAL_DURATION"}}}componentDidMount(){this.getDataOverview()}onDataScreen(){(0,ne.UI)("DATA_MAP_SCREEN_WHITE_FLAG")?$.m8.push("/dashboard/dataScreenMap"):$.m8.push("/dashboard/dataScreen")}getDataOverview(){var P=this;return(0,S.Z)(c().mark(function N(){var d,C,_;return c().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return P.setState({loading:!0}),j.next=3,(0,B.getDataOverview)(P.state.params);case 3:d=j.sent,C=d.data,_=d.success,_==="true"&&P.setState({data:C,loading:!1});case 7:case"end":return j.stop()}},N)}))()}render(){var P=this.props.t,N=this.state,d=N.data,C=N.loading;return e().createElement(D.Z,{className:re().container,title:P("dashboard.trainingData"),extra:e().createElement(f.Z,{type:"primary",onClick:this.onDataScreen},P("dashboard.dataScreen"))},C?e().createElement(ce.ZP.block,{active:!0,block:5}):e().createElement("div",{className:re()["data-container"]},d.map(_=>e().createElement("div",{className:re().item,key:_.type},e().createElement(de,_)))))}}var Se=(0,g.$j)()((0,y.Z)()(ve)),Ve=t(13254),fe=t(14277),Oe=t(62029),ye=t(33565),tt=t(3407),pt=t(6793),ze=(0,pt.me)(),De=tt.Z[ze],lt={DATA_OVERVIEW:De.dashboard.trainingData,LEARN_DURATION_TREND:De.dashboard.studyTimeTrend,LEARN_DURATION_DISTRIBUTION:De.dashboard.studyHourRankTop,ADD_RESOURCE_TREND:De.dashboard.newAddResource,TIME_INTERVAL_LEARN_PEOPLE_COUNT:De.dashboard.periodStudy,LOGIN:De.dashboard.loginData,ACCOUNT:De.dashboard.account,EMPTY:"\u653E\u8FD9\u91CC",TOTAL_DURATION:De.dashboard.totalTime,PER_CAPITA_DURATION:De.dashboard.perCapitaTime,TASK_LEARN_DURATION:De.dashboard.taskTime,SELF_LEARN_DURATION:De.dashboard.selfStudyDuration,LOGIN_PEOPLE_COUNT:De.dashboard.loginPeople,LOGIN_PEOPLE_TIMES:De.dashboard.loginCount,DAILY_AVERAGE_LOGIN_RATE:De.dashboard.loginRate},$e=t(21788),_e=t.n($e),Et=window.Plots.Line,He=ie=>{var P=(0,T.useState)([]),N=(0,ye.Z)(P,2),d=N[0],C=N[1],_={autoFit:!0,appendPadding:[0,10,0,0],xField:"time",yField:"value",seriesField:"type",meta:{time:{range:[.02,.98],formatter:Pe=>w()(Number(Pe)).format("YYYY-MM-DD")},type:{formatter:Pe=>lt[Pe]}},point:{},smooth:!0,area:{},legend:{position:"bottom",offsetY:10,itemName:{style:{fill:"#000"}}},color:["#FF669A","#6195FA","#6757F1","#61DAAC"],xAxis:{nice:!0,tickCount:7},yAxis:{label:{formatter:Pe=>{var Le=w().duration(Number(Pe),"seconds").asHours(),ke=(0,F.Kr)(Le.toFixed(1));return ke}}},area:{style:Pe=>{var Le=Pe.type,ke={TOTAL_DURATION:"l(270) 0:#ffffff 0.5:#FFF2F6 1:#FEC8DA",SELF_LEARN_DURATION:"l(270) 0:#ffffff 0.5:#DADFF8 1:#B3C6F9",PER_CAPITA_DURATION:"l(270) 0:#ffffff 0.5:#E9E7FB 1:#D7D4FB",TASK_LEARN_DURATION:"l(270) 0:#ffffff 0.5:#E7F7F0 1:#C9F1E2"};return{fill:ke[Le]}}},lineStyle:{lineWidth:2},tooltip:{formatter:Pe=>{var Le=Pe.value,ke=(0,F.aq)(Le);return Le="".concat((0,F.Kr)(ke[0])).concat(ie.t("dashboard.hourUnit")).concat((0,F.Kr)(ke[1])).concat(ie.t("dashboard.minuteUnit")),{name:lt[Pe.type],value:Le}}},slider:{start:0,end:1,formatter:Pe=>w()(Number(Pe)).format("YYYY-MM-DD")}},Z=(0,T.useState)([]),j=(0,ye.Z)(Z,2),z=j[0],q=j[1],ue=(0,T.useState)(null),ae=(0,ye.Z)(ue,2),Te=ae[0],Ee=ae[1],Ke=(0,T.useState)(!1),Ue=(0,ye.Z)(Ke,2),Ye=Ue[0],qe=Ue[1],be=e().createRef(0),Be=ie.t,vt=ie.start_date,dt=ie.end_date;(0,T.useEffect)(()=>(Fe(),()=>{}),[vt,dt]);var Fe=function(){var Pe=(0,S.Z)(c().mark(function Le(){var ke,ut,xe,ge,ct,mt,et,Lt,Rt,_t,Tt,Mt,Dt,Zt;return c().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(!(!vt||!dt)){Re.next=2;break}return Re.abrupt("return");case 2:return qe(!0),ke=++be.current,Re.next=6,(0,B.getLearnDurationTrend)({start_date:vt,end_date:dt});case 6:if(ut=Re.sent,xe=ut.success,ge=ut.data,ke===be.current){Re.next=11;break}return Re.abrupt("return");case 11:xe==="true"&&(ct=ge.details,mt=ge.average_value,et=ge.total_duration,Lt=ge.per_capita_duration,Rt=ge.task_learn_duration,_t=ge.self_learn_duration,Tt={total_duration:et,per_capita_duration:Lt,task_learn_duration:Rt,self_learn_duration:_t},Mt=Object.keys(Tt).map(na=>({type:na.toUpperCase(),value:(0,F.aq)(Tt[na])})),Dt=(0,F.aq)(mt),Zt="".concat((0,F.Kr)(Dt[0])).concat(Be("dashboard.hourUnit")).concat((0,F.Kr)(Dt[1])).concat(Be("dashboard.minuteUnit")),C(Mt),q(ct),Ee([{type:"line",start:["start",mt],end:["end",mt],animation:{appear:{animation:"wave-in",duration:5e3}},text:{content:"".concat(Be("dashboard.totalAverage")," ").concat(Zt),position:"end",offsetY:-8,offsetX:-10,style:{textAlign:"end",fontSize:10,fill:"rgba(44, 53, 66, 0.45)",textBaseline:"bottom"}},style:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:2,lineDash:[4,4]}}]),qe(!1));case 12:case"end":return Re.stop()}},Le)}));return function(){return Pe.apply(this,arguments)}}(),it=()=>d.map(Pe=>e().createElement("div",{className:_e().time_panel,key:Pe.type},e().createElement("div",{className:_e().content},e().createElement("span",null,lt[Pe.type]),e().createElement("div",{className:_e().time_show},e().createElement("span",null,(0,F.Kr)(Pe.value[0])),e().createElement("span",{className:_e().time_unit},Be("dashboard.hourUnit")),e().createElement("span",null,(0,F.Kr)(Pe.value[1])),e().createElement("span",{className:_e().time_unit},Be("dashboard.minuteUnit"))))));return e().createElement(D.Z,{className:_e().container,title:Be("dashboard.studyTimeTrend")},e().createElement("div",{className:_e().panel},Ye?e().createElement(ce.ZP.block,{block:4,active:!0}):it()),e().createElement("div",{className:_e().tendency_charts},Ye?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:_e().tendency_charts_unit},Be("dashboard.units"),":",Be("dashboard.hourUnit")),e().createElement("div",{className:_e().chart},z.length>0?e().createElement(Et,(0,Oe.Z)({},_,{data:z,annotations:Te})):e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE})))))},Ge=(0,g.$j)()((0,y.Z)()(He)),at=t(13062),ht=t(71230),oa=t(34669),Ut=t(82833),ia=t(89032),rt=t(15746),Wt=t(50361),Bt=t.n(Wt),Ft=t(62062),oe=t.n(Ft),Vt=t(11110);class Kt extends e().Component{constructor(P){super(P);this.computedProgress=(N,d)=>Math.ceil(N/d*100),this.messageModal=null,this.state={authorizedInfo:{total:0,used:0,surplus:0},data:{editionType:"",storageInfo:{total:"",used:"",surplus:""},editionEffective:{effectiveDate:"",remaining:0}},loading:!1,authorizedLoading:!1}}componentDidMount(){this.getVersionInfo(),this.getEnterpriseSummary()}getVersionInfo(){var P=this;return(0,S.Z)(c().mark(function N(){var d,C,_;return c().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return d=Bt()(P.state.data),P.setState({loading:!0}),j.next=4,(0,B.getVersionInfo)();case 4:C=j.sent,_=C.data,d.editionType=_.version,d.storageInfo={used:_.usedCapacityGb,total:_.capacityGb,surplus:(_.capacityGb-_.usedCapacityGb).toFixed(2),percent:P.computedProgress(_.usedCapacityGb,_.capacityGb)},d.editionEffective={effectiveDate:w()(_.packageEndDate).format("YYYY-MM-DD"),remaining:_.remainDays},P.setState({data:d,loading:!1});case 10:case"end":return j.stop()}},N)}))()}getEnterpriseSummary(){var P=this;return(0,S.Z)(c().mark(function N(){var d,C,_;return c().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return P.setState({authorizedLoading:!0}),j.prev=1,j.next=4,(0,B.getEnterpriseSummary)();case 4:d=j.sent,C=d.data,_={used:C.activeUserCount,total:C.quotaUserCount,surplus:C.quotaUserCount-C.activeUserCount,percent:P.computedProgress(C.activeUserCount,C.quotaUserCount)},P.setState({authorizedInfo:_,authorizedLoading:!1}),j.next=13;break;case 10:j.prev=10,j.t0=j.catch(1),P.setState({authorizedLoading:!1});case 13:case"end":return j.stop()}},N,null,[[1,10]])}))()}render(){var P=this.props.t,N=this.state,d=N.data,C=N.loading,_=N.authorizedLoading,Z=N.authorizedInfo,j=d.editionType,z=d.storageInfo,q=d.editionEffective,ue=e().createElement("div",{className:oe()["title-right"]},e().createElement("span",null,P("dashboard.platformRenewal")),e().createElement("span",{className:[oe().zhiCustomBtn,"zhiCustomBtn"].join(" ")},P("dashboard.contactService"))),ae=e().createElement("div",null,e().createElement("span",null,P("dashboard.versionInformation")),e().createElement("span",{className:j?oe()["version-btn"]:""},j));return e().createElement(e().Fragment,null,e().createElement(D.Z,{className:oe().container,title:ae,extra:ue},e().createElement(ht.Z,{gutter:16,className:oe().row},e().createElement(rt.Z,{span:12,className:oe().left},_?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe()["left-icon"]},e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1831158349232738304.png"),alt:""})),e().createElement("div",{className:oe()["left-title"]},e().createElement("span",{className:oe()["left-count"]},(0,F.Kr)(Z.surplus),P("dashboard.people")),e().createElement("span",{className:oe()["left-desc"]},P("dashboard.mayAuthorize"))))),e().createElement(rt.Z,{span:12,className:oe().right},_?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe().count},e().createElement("span",null,P("dashboard.authorizedTotal"),"\uFF1A",(0,F.Kr)(Z.used),"/",(0,F.Kr)(Z.total))),e().createElement(Ut.Z,{percent:Z.percent,size:"small",showInfo:!1,className:[oe().progress,Z.percent>=80&&oe()["progress-red"]].join(" ")})))),e().createElement(ht.Z,{gutter:16,className:oe().row},e().createElement(rt.Z,{span:12,className:oe().left},C?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe()["left-icon"]},e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1831158349203378176.png"),alt:""})),e().createElement("div",{className:oe()["left-title"]},e().createElement("span",{className:oe()["left-count"]},(0,F.Kr)(z.surplus),"G"),e().createElement("span",{className:oe()["left-desc"]},P("dashboard.remainingStorageSpace"))))),e().createElement(rt.Z,{span:12,className:oe().right},C?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe().count},e().createElement("span",null,P("dashboard.usedTotal"),"\uFF1A"),e().createElement("span",null,"".concat((0,F.Kr)(z.used),"G/").concat((0,F.Kr)(z.total),"G"))),e().createElement(Ut.Z,{percent:z.percent,size:"small",showInfo:!1,className:[oe().progress,z.percent>=80&&oe()["progress-red"]].join(" ")})))),e().createElement(ht.Z,{gutter:16,className:oe().row},e().createElement(rt.Z,{span:12,className:oe().left},C?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe()["left-icon"]},e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1831158349249515520.png"),alt:""})),e().createElement("div",{className:oe()["left-title"]},e().createElement("span",{className:oe()["left-count"]},q.effectiveDate),e().createElement("span",{className:oe()["left-desc"]},P("dashboard.validUntil"))))),e().createElement(rt.Z,{span:12,className:oe().right},C?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(e().Fragment,null,e().createElement("div",{className:oe().count},e().createElement("span",{className:oe().number,style:{color:q.remaining<=30?"#E02020":""}},(0,F.Kr)(q.remaining)),e().createElement("span",null,P("eTouch.day"))),e().createElement("div",{className:oe()["right-desc"]},P("dashboard.remain")))))),e().createElement(Vt.Z,{onRef:Te=>{this.messageModal=Te},options:{type:3},activeBtn:"zhiCustomBtn"}))}}var la=(0,g.$j)()((0,y.Z)()(Kt)),da=t(66456),jt=t(55313),Yt=t(61701),Pt=t(8812),zt=t(63709),Ct=t.n(zt);class $t extends e().Component{constructor(P){var N;super(P);N=this,this.getVipRightsData=(0,S.Z)(c().mark(function d(){var C,_,Z;return c().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,B.getVipRightsList)();case 2:C=z.sent,_=C.success,Z=C.data,_==="true"&&N.setState({list:Z.list},()=>{});case 6:case"end":return z.stop()}},d)})),this.extra=()=>{var d=this.props.t;return e().createElement("a",{className:Ct().more,onClick:()=>this.handleMore()},d("\u66F4\u591A"),e().createElement(Pt.Z,null))},this.handleMore=()=>{$.m8.push("/enterprise/systemSetup/themeStyle/portalSettings")},this.cutCharacter=d=>d.length>8?e().createElement(H.Z,{title:d},"".concat(d.slice(0,8)," ...")):d,this.numberColor=d=>{var C=Number(d);return C<=50?e().createElement("span",{style:{color:"#f5222d"}},d):C<=80?e().createElement("span",{style:{color:"#facc14"}},d):d},this.getTableColumns=()=>{var d=this.props.t;return[{title:d("\u540D\u79F0"),dataIndex:"right_name",key:"right_name",width:160,render:C=>this.cutCharacter(C)},{title:d("\u603B\u989D\u5EA6"),dataIndex:"total_amount",key:"total_amount"},{title:d("\u53EF\u7528\u989D\u5EA6"),dataIndex:"available_amount",key:"available_amount",render:C=>this.numberColor(C)},{title:d("\u5DF2\u8FC7\u671F"),dataIndex:"out_of_date",key:"out_of_date"}]},this.state={list:[]}}componentDidMount(){this.getVipRightsData()}render(){(0,Yt.Z)(this.props);var P=this.state.list,N=this.getTableColumns();return e().createElement(D.Z,{className:Ct().container,title:"\u4F1A\u5458\u8D26\u53F7\u6743\u76CA",extra:this.extra()},e().createElement(jt.Z,{size:"middle",columns:N,dataSource:P,pagination:!1}))}}var ua=(0,g.$j)()((0,y.Z)()($t)),ca=t(20228),Ht=t(11382),Gt=t(8772),je=t.n(Gt),Qt=t(29348),Xt=t(10237),Jt=t(37055),qt=window.Plots.Radar;class ea extends e().Component{constructor(P){super(P);this.renderExtra=()=>{var d=this.props.t,C=this.state.showData,_=C.healthLevel,Z={};switch(_){case 1:Z.title=d("dashboard.poor"),Z.color="#FF4D4F",Z.border="1px solid #ffa39e",Z.background="#fff1f0";break;case 2:Z.title=d("dashboard.medium"),Z.color="#FAAD14",Z.border="1px solid #ffe58f",Z.background="#fffbe6";break;case 3:Z.title=d("dashboard.good"),Z.color="#1890FF",Z.border="1px solid #91d5ff",Z.background="#e6f7ef";break;case 4:Z.title=d("dashboard.excellent"),Z.color="#52C41A",Z.border="1px solid #b7eb8f",Z.background="#f6ffed";break;default:break}var j={color:Z.color,border:Z.border,background:Z.background};return e().createElement("div",{className:je().extra,style:j},Z.title)},this.renderTooltip=()=>{var d=this.props.t;return e().createElement("div",null,e().createElement("p",null,d("dashboard.radarChartInstructionstitle")),e().createElement("p",null,d("dashboard.radarChartInstructionsone")),e().createElement("p",null,d("dashboard.radarChartInstructionstwo")),e().createElement("p",null,d("dashboard.radarChartInstructionsthree")),e().createElement("p",null,d("dashboard.radarChartInstructionsfour")),e().createElement("p",null,d("dashboard.radarChartInstructionsfive")))},this.renderRadarChart=()=>{var d=this.props.t,C=this.state,_=C.showData,Z=C.config,j=[],z={visitRate:d("dashboard.visitRate"),taskPerPerson:d("dashboard.taskPerPerson"),studyActivityRate:d("dashboard.studyActivityRate"),studyTimesPerPerson:d("dashboard.studyTimesPerPerson"),studyRate:d("dashboard.studyRate")};for(var q in _)Object.hasOwnProperty.call(_,q)&&z[q]&&j.push({name:z[q],value:_[q]});return e().createElement("div",{className:je().radar},e().createElement(Ht.Z,{className:je().radar_spin,spinning:this.state.loading}),!this.state.loading&&e().createElement(qt,(0,Oe.Z)({},Z,{data:j})))};var N=P.t;this.state={showData:{},loading:!1,config:{xField:"name",yField:"value",color:"#FACC14",radius:.6,height:335,padding:[7,0,0,7],meta:{value:{alias:N("common.monitor"),min:0,nice:!0}},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}},alternateColor:"rgba(0, 0, 0, 0.04)"}},point:{size:2}}}}componentDidMount(){this.getData()}getData(){var P=Jt.ZP.Dashboard.getRadarChart();this.setState({loading:!0}),Xt.WY.get({url:P}).then(N=>{N.data&&N.data.data&&this.setState({showData:N.data.data,loading:!1})})}render(){var P=this.props.t,N=this.state,d=N.showData,C=N.loading,_=d.healthScore,Z=_===void 0?0:_;return e().createElement(D.Z,{className:je().container,title:P("dashboard.healthIndex"),extra:this.renderExtra(),bordered:!1},C?e().createElement("div",{className:je().skeleton},e().createElement(Qt.Z,{active:!0})):e().createElement("div",{className:je().radar_box},e().createElement("div",{className:je().specification},e().createElement("div",{className:je().current_point},e().createElement("div",null,P("dashboard.currentIndex"),":"),e().createElement("div",null,(0,F.Kr)(Z)),e().createElement("div",null,P("common.score"))),e().createElement(H.Z,{placement:"topRight",title:this.renderTooltip()},e().createElement("div",{className:je().tooltip},P("dashboard.instructions"),e().createElement(ee.Z,{iconClass:"icon-shuoming",size:"12px"})))),this.renderRadarChart()))}}var kt=(0,g.$j)()((0,y.Z)()(ea)),ta=t(63321),te=t.n(ta),s=t(80430),o=t(60667);class r extends e().Component{constructor(P){var N;super(P);N=this,this.getPointsRankList=(0,S.Z)(c().mark(function d(){var C,_,Z;return c().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,N.setState({loading:!0}),C=N.state.params,z.next=5,(0,B.getPointRank)(C);case 5:_=z.sent,Z=_.data,N.setState({list:Z.list,loading:!1}),z.next=13;break;case 10:z.prev=10,z.t0=z.catch(0),N.setState({loading:!1});case 13:case"end":return z.stop()}},d,null,[[0,10]])})),this.renderTitle=()=>{var d=this.props.t;return e().createElement("div",{className:te().title},e().createElement("span",null,d("home.pointsRanking")),e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1847011808804737024.png"),alt:d("Top10")}))},this.renderRank=d=>{var C=["".concat("https://oss.coolcollege.cn","/1790751727201423360.png"),"".concat("https://oss.coolcollege.cn","/1790751728975613952.png"),"".concat("https://oss.coolcollege.cn","/1790751730716250112.png")];return Number(d)<=3?e().createElement("span",{className:"point-rank-img"},e().createElement("img",{src:C[d-1],style:{height:18}})):d},this.columns=[{title:this.props.t("common.ranking"),dataIndex:"index",align:"center",width:50,onCell:()=>({style:{minWidth:50,whiteSpace:"ellipsis"}}),render:d=>this.renderRank(d)},{title:this.props.t("common.userName"),dataIndex:"user_info",width:50,render:d=>{var C=()=>e().createElement(o.Z,{type:d.source_type,name:d.name,value:d.user_id,dataType:"userName"});return e().createElement(H.Z,{title:C(),placement:"top"},e().createElement("div",{className:"cl-text-ellipsis",style:{width:55}},C()))}},{title:this.props.t("scoreRankingList.accumulatedPoints"),dataIndex:"accumulate_score",width:60,render:d=>e().createElement("div",{style:{width:60}},(0,F.Kr)(d))},{title:this.props.t("practiceOperation.department"),dataIndex:"department_infos",width:60,render:(d,C)=>{var _=C.user_info,Z=()=>e().createElement(s.Z,{list:_.department_info||[],displayAll:!0});return e().createElement(H.Z,{placement:"top",title:e().createElement(s.Z,{list:_.department_infos||[],displayAll:!0})},e().createElement("div",{className:"cl-text-ellipsis",style:{width:60}},Z()))}},{title:this.props.t("practiceOperation.post"),dataIndex:"post_name",width:40,render:(d,C)=>{var _=C.user_info;return e().createElement(H.Z,{placement:"top",title:_.post_name},e().createElement("div",{className:"cl-text-ellipsis",style:{width:45}},_&&_.post_name?_.post_name:"--"))}}],this.state={list:[],loading:!1,params:{page_number:1,page_size:10}}}componentDidMount(){this.getPointsRankList()}render(){var P=this.state,N=P.loading,d=P.list;return e().createElement(D.Z,{className:te().container,title:this.renderTitle(),bordered:!1},e().createElement("div",{className:te()["point-table"]},N?e().createElement(ce.ZP.normal,{active:!0,className:te()["point-table-skeleton"]}):d.length?e().createElement(jt.Z,{size:"middle",columns:this.columns,scroll:{x:"max-content"},rowKey:"user_id",dataSource:d,pagination:!1,loading:N}):e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE})))}}var a=(0,g.$j)()((0,y.Z)()(r)),i=t(91053),u=t.n(i),p=window.Plots.Pie;class O extends e().Component{constructor(P){var N;super(P);N=this,this.onReady=d=>{d&&d.on("element:click",C=>{var _=C.data,Z=_.data||{},j=Z.type,z=this.props,q=z.tabKey,ue=z.onPlotClick;ue({[q]:j})})},this.refInit=d=>{setTimeout(()=>{if(d&&d.getChart){var C=d.getChart();C&&C.on("element:click",_=>{var Z=_.data,j=Z.data||{},z=j.type,q=this.props,ue=q.tabKey,ae=q.onPlotClick;ae({[ue]:z})})}},0)},this.getPersonPieInfo=(0,S.Z)(c().mark(function d(){var C,_,Z,j,z,q;return c().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(ae.prev=0,C=N.props,_=C.start_date,Z=C.end_date,!(!_||!Z)){ae.next=4;break}return ae.abrupt("return");case 4:return N.setState({loading:!0}),ae.next=7,(0,B.getPersonPieInfo)({start_date:_,end_date:Z});case 7:j=ae.sent,z=j.data,q=j.success,q==="true"&&N.setState({data:z,loading:!1}),ae.next=14;break;case 12:ae.prev=12,ae.t0=ae.catch(0);case 14:case"end":return ae.stop()}},d,null,[[0,12]])})),this.state={data:[{type:"",value:0}],loading:!1,config:{angleField:"value",colorField:"type",pieStyle:{stroke:"",lineWidth:0,cursor:"pointer"},radius:.6,color:["#6E5FFA","#F5BE17","#5B7194","#59D8A6","#5A90F9","#6CD0F6"],label:{type:"outer",labelHeight:28,content:d=>{var C=d.type,_=d.value;return"".concat(C,"\uFF1A").concat((0,F.Kr)(_))},style:{fontSize:14}},meta:{type:{formatter:d=>d},value:{formatter:d=>(0,F.Kr)(parseInt(d))}},statistic:{title:{offsetY:-5,content:"aaa",style:{fontSize:14,fontWeight:400,color:"rgba(0, 0, 0, 0.5)"},customHtml:()=>e().createElement("span",null)},content:{offsetY:4,style:{fontSize:28},customHtml:()=>e().createElement("span",null)}},legend:{layout:"vertical",position:"right",itemName:{style:{fontSize:14}},offsetX:-70,itemMarginBottom:25},innerRadius:.7,interactions:[{type:"element-active"}],state:{active:{style:d=>{var C=d.model;return{lineWidth:5,stroke:C.color}}}}}}}componentDidMount(){this.getPersonPieInfo()}componentDidUpdate(P){var N=this.props,d=N.start_date,C=N.end_date;(d!==P.start_date||C!==P.end_date)&&this.getPersonPieInfo()}render(){var P=this.props.t,N=this.state,d=N.config,C=N.data,_=N.loading,Z=e().createElement("div",null,e().createElement("span",null,P("dashboard.periodStudy")));return e().createElement(D.Z,{className:u().container,title:Z},C.length>0?e().createElement("div",{className:u().unit},e().createElement("span",null,P("dashboard.unit"),"\uFF1A"),e().createElement("span",null,P("common.people"))):null,e().createElement("div",{className:u()["pie-chart"]},_?e().createElement(ce.ZP.pie,{active:!0}):C.length>0?e().createElement(p,(0,Oe.Z)({ref:this.refInit},d,{data:C})):e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE})))}}var I=(0,g.$j)()((0,y.Z)()(O)),W=t(88983),x=t(47933),K=t(98456),R=t.n(K),k=t(16885),J=ie=>{var P=ie.start_date,N=ie.end_date,d=ie.t,C=[{label:ie.t("authentication.remindStudents"),value:"STUDENT"},{label:ie.t("common.departmentLabel"),value:"DEPARTMENT"}],_={meta:{type:{formatter:Fe=>lt[Fe]},value:{formatter:Fe=>{var it=(0,F.aq)(Fe);return"".concat((0,F.Kr)(it[0])).concat(ie.t("dashboard.hourUnit")).concat((0,F.Kr)(it[1])).concat(ie.t("dashboard.minuteUnit"))}}},xField:"details",yField:"label",zField:"value",seriesField:"type",label:{layout:"horizontal"}},Z=(0,T.useState)("STUDENT"),j=(0,ye.Z)(Z,2),z=j[0],q=j[1],ue=(0,T.useState)([]),ae=(0,ye.Z)(ue,2),Te=ae[0],Ee=ae[1],Ke=(0,T.useState)(!0),Ue=(0,ye.Z)(Ke,2),Ye=Ue[0],qe=Ue[1];(0,T.useEffect)(()=>{Be()},[P,N,z]);var be=Fe=>{q(Fe.target.value)},Be=function(){var Fe=(0,S.Z)(c().mark(function it(){var Pe,Le,ke,ut;return c().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(qe(!0),!(P&&N)){ge.next=15;break}return Pe={start_date:P,end_date:N,dimension_code:z,top_size:10},ge.prev=3,ge.next=6,(0,B.getPlatformStudyHoursTop)(Pe);case 6:Le=ge.sent,ke=Le.success,ut=Le.data,ke==="true"&&(Ee(ut),qe(!1)),ge.next=15;break;case 12:ge.prev=12,ge.t0=ge.catch(3),qe(!1);case 15:case"end":return ge.stop()}},it,null,[[3,12]])}));return function(){return Fe.apply(this,arguments)}}(),vt=()=>{var Fe=z.toLocaleLowerCase();$.m8.push({pathname:"/dashboard/trainingData/trainingReport/hoursRank",query:{start_date:P,end_date:N,key:Fe}})},dt=()=>e().createElement("div",{className:R().header},e().createElement("span",null,d("dashboard.studyHourRank")),Te.length>9&&e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1824752989676638208.png"),className:R().top,alt:""}));return e().createElement(D.Z,{className:R().container,title:dt(),extra:e().createElement("span",{onClick:()=>vt(),className:R()["hour-rank-extra"]},d("common.more"),e().createElement(Pt.Z,null))},e().createElement(x.ZP.Group,{className:R().tab,options:C,onChange:be,value:z,disabled:Ye,optionType:"button"}),e().createElement("div",{className:R()["stack-chart"]},Ye?e().createElement(ce.ZP.normal,{active:!0}):Te.length>0?e().createElement(k.Z,(0,Oe.Z)({},_,{unit:"time",data:Te,chartType:z})):e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE})))},se=(0,g.$j)()((0,y.Z)()(J)),he=t(42702),pe=t.n(he),X=t(49964),Ne=ie=>{var P=ie.onChange,N=(0,T.useState)(!1),d=(0,ye.Z)(N,2),C=d[0],_=d[1],Z=(0,T.useState)((0,F.QX)(7).timestamp),j=(0,ye.Z)(Z,2),z=j[0],q=j[1],ue=()=>{_(!C)},ae=Te=>{q(Te),P(Te)};return e().createElement(m.Z,{offsetTop:280,style:{position:"absolute",top:"-28px",left:"-16px"},target:()=>document.getElementById("layout-page-container")},e().createElement("div",{className:pe()["time-affix"],unselectable:"on"},e().createElement("span",{className:pe().icon,onClick:()=>ue()},e().createElement(ee.Z,{iconClass:"icon-kaoqin2",size:20})),C&&e().createElement("div",{className:pe()["time-picker"]},e().createElement(X.Z,{value:z,bordered:!1,onChange:ae}))))};Ne.defaultProps={onChange:()=>{}};var we=(0,g.$j)()((0,y.Z)()(Ne)),Ie=t(88986),nt=t(15975),Me=t.n(nt),Qe=window.Plots.DualAxes;class Xe extends e().Component{constructor(P){super(P);this.onTabChange=N=>{this.setState({tabKey:N.target.value},()=>{this.getResourceTrendsInfo()})},this.state={tabKey:"TRAIN",data:[],loading:!1,annotations:{value:[{type:"line",start:["start","mean"],end:["end","mean"],style:{stroke:"#888888",lineDash:[4,4]},text:{content:"",position:"end",offsetY:-8,offsetX:-10,style:{fontSize:12,fill:"#000000",textAlign:"end"}}}]},tabOptions:[{label:P.t("dashboard.trainingProgram"),value:"TRAIN"},{label:P.t("common.exam"),value:"EXAM"},{label:P.t("common.courseLabel"),value:"COURSE"}],config:{autoFit:!0,xField:"time",yField:["bar_value","value"],padding:[10,15,60,15],limitInPlot:!0,meta:{value:{alias:P.t("dashboard.newTrainingItems"),sync:"bar_value",range:[0,.9]},bar_value:{alias:P.t("dashboard.referenceNumber"),sync:!0,range:[0,.9]},time:{formatter:N=>w()(Number(N)).format("YYYY-MM-DD"),sync:!1}},yAxis:{bar_value:{title:{text:"".concat(P.t("dashboard.examinationSessions"),":").concat(P.t("common.visits")),position:"end",autoRotate:!1,offset:-20,style:{fill:"#888"}},line:{style:{stroke:"#D4D4D4",lineWidth:.99}}},value:{min:0,title:{text:"".concat(P.t("dashboard.examPeopleCount"),":").concat(P.t("common.people")),position:"end",autoRotate:!1,offset:-20,style:{fill:"#888"}},line:{style:{stroke:"#D4D4D4",lineWidth:.99}}}},xAxis:{label:{autoRotate:!1},line:{style:{stroke:"#D4D4D4 ",lineWidth:1}},nice:!0},geometryOptions:[{geometry:"column",color:"#2696FF",columnWidthRatio:.2},{geometry:"line",lineStyle:{lineWidth:1.4,smooth:!0},point:{},color:"#F0506B",smooth:!0}],legend:{layout:"horizontal",position:"bottom",offsetY:-30},tooltip:{showMarkers:!0,formatter:N=>N.hasOwnProperty("bar_value")?{name:P.t("dashboard.newTrainingItems"),value:N.bar_value}:{name:P.t("dashboard.referenceNumber"),value:N.value}},slider:{start:0,end:1,formatter:N=>w()(Number(N)).format("YYYY-MM-DD")}}}}componentDidMount(){this.getResourceTrendsInfo()}componentDidUpdate(P){var N=this.props,d=N.start_date,C=N.end_date;(d!==P.start_date||C!==P.end_date)&&this.getResourceTrendsInfo()}getResourceTrendsInfo(){var P=this;return(0,S.Z)(c().mark(function N(){var d,C,_,Z,j,z,q,ue,ae,Te,Ee,Ke,Ue,Ye;return c().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(d=P.state.tabKey,C=P.props,_=C.start_date,Z=C.end_date,j={start_date:_,end_date:Z,quota_code:d},!(!_||!Z)){be.next=5;break}return be.abrupt("return");case 5:return P.setState({loading:!0}),be.next=8,(0,B.getResourceTrendsInfo)(j);case 8:z=be.sent,q=z.data,ue=z.success,ue==="true"&&(ae=q[0],Te=ae.quota_data,Ee=ae.average_value,Ke=ae.details,Ue=P.state.annotations,Ye=P.props.t,P.setState({data:Ke,annotations:{value:[(0,Ie.Z)((0,Ie.Z)({},Ue.value[0]),{},{text:(0,Ie.Z)((0,Ie.Z)({},Ue.value[0].text),{},{content:"".concat(Ye("common.visits")).concat(Ye("dashboard.average")," :").concat(Ee)}),start:["start",Number(Ee)],end:["end",Number(Ee)]})]}}),setTimeout(()=>{P.setState({loading:!1})},2e3));case 12:case"end":return be.stop()}},N)}))()}render(){var P=this.props,N=P.index,d=P.t,C=this.state,_=C.config,Z=C.data,j=C.tabOptions,z=C.annotations,q=C.tabKey,ue=C.loading;return e().createElement(D.Z,{className:Me().container,title:d("dashboard.trendAnalysisOfNewResources"),style:{marginTop:N===0?"8px":"24px"}},e().createElement(x.ZP.Group,{className:Me().tab,options:j,optionType:"button",value:q,onChange:this.onTabChange}),e().createElement("div",{className:Me()["column-line"]},ue?e().createElement(ce.ZP.normal,{active:!0}):e().createElement(Qe,(0,Oe.Z)({},_,{data:[Z,Z],annotations:z}))))}}var Je=(0,g.$j)()((0,y.Z)()(Xe)),Ae=t(68628),Ce=t(89734),st=t.n(Ce),ot=t(34056),Ze=t.n(ot),St=t(58923),At=window.Plots.DualAxes,Ot=ie=>{var P=ie.start_date,N=ie.end_date,d=ie.t,C=(0,T.useState)({bar:[],line:[]}),_=(0,ye.Z)(C,2),Z=_[0],j=_[1],z=(0,T.useState)(!0),q=(0,ye.Z)(z,2),ue=q[0],ae=q[1],Te=(0,T.useState)({}),Ee=(0,ye.Z)(Te,2),Ke=Ee[0],Ue=Ee[1],Ye=(0,T.useState)("DAY"),qe=(0,ye.Z)(Ye,2),be=qe[0],Be=qe[1],vt=(0,T.useState)(!1),dt=(0,ye.Z)(vt,2),Fe=dt[0],it=dt[1];(0,T.useEffect)(()=>{Pe();var xe=w()(Number(N)).diff(w()(Number(P)),"day");xe<90&&Be("DAY"),it(xe<90)},[P,N,be]);var Pe=function(){var xe=(0,S.Z)(c().mark(function ge(){var ct,mt,et,Lt,Rt,_t,Tt,Mt,Dt,Zt,It,Re;return c().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(!(!P||!N)){gt.next=2;break}return gt.abrupt("return");case 2:return ae(!0),ct={start_date:P,end_date:N,show_time_type:be},gt.next=6,(0,B.getPlatformLoginStudyData)(ct);case 6:mt=gt.sent,et=mt.data,Lt=mt.code,Lt.toString()==="200000"&&(Rt=et.details,_t=et.login_rate,Tt=et.login_people_count,Mt=et.learn_rate,Dt=et.learn_people_count,Zt=et.login_people_times,It=[],Re=[],Rt.forEach(ft=>{var Ta=ft.bar_details,Da=ft.line_details,ma=ft.time,pa=be==="DAY"?w()(Number(ma)).format("YYYY-MM-DD"):ma;Ta.forEach(yt=>{var sa={type:yt.type,value:Number(yt.value),time:pa,order:yt.type==="LOGIN_PEOPLE_COUNT"?1:2};It.push(sa)}),Da.forEach(yt=>{var sa={type:yt.type,count:Number(yt.value),time:pa,order:yt.type==="LOGIN_RATE"?1:2};Re.push(sa)})}),Re=st()(Re,function(ft){return ft.order}),It=st()(It,function(ft){return ft.order}),Ue({login_rate:_t,login_people_count:Tt,learn_rate:Mt,learn_people_count:Dt,login_people_times:Zt}),j({bar:It,line:Re}),ae(!1));case 10:case"end":return gt.stop()}},ge)}));return function(){return xe.apply(this,arguments)}}(),Le=()=>{var xe=[{unit:d("common.people"),key:"login_people_count",alias:d("dashboard.loginPeople")},{unit:d("common.people"),key:"learn_people_count",alias:d("dashboard.learnCount")},{unit:"%",key:"login_rate",alias:d("dashboard.loginRate")},{unit:"%",key:"learn_rate",alias:d("dashboard.learnRate")},{unit:d("common.times"),key:"login_people_times",alias:d("dashboard.loginCount")}];return xe.map(ge=>{var ct=Ke[ge.key]||0;return e().createElement("div",{className:Ze()["panel-item"],key:ge.key},e().createElement("div",{className:Ze().content},e().createElement("span",null,ge.alias),e().createElement("div",{className:Ze().time_show},e().createElement("span",null,ge.unit==="%"?ct:(0,F.Kr)(ct)),e().createElement("span",{className:Ze().time_unit},ge.unit))))})},ke=()=>{$.m8.push({pathname:"/dashboard/trainingData/trainingReport/loginDetails",query:{start_date:P,end_date:N}})},ut=xe=>{Be(xe)};return e().createElement(D.Z,{className:Ze().container,title:d("dashboard.loginDataTrend"),extra:e().createElement("span",{className:Ze().login,onClick:ke}," ",e().createElement("span",null,d("dashboard.loginDetails"),"\xA0"),e().createElement(Pt.Z,null))},e().createElement("div",{className:Ze().panel},ue?e().createElement(ce.ZP.block,{block:5,active:!0}):Le()),e().createElement("div",{className:Ze().tendency_charts},e().createElement("div",{className:Ze().charts_selector},e().createElement(x.ZP.Group,{value:be,onChange:xe=>ut(xe.target.value)},e().createElement(x.ZP.Button,{value:"DAY"},d("report.byDay")),e().createElement(x.ZP.Button,{value:"MONTH",disabled:Fe},d("report.byMonth"))),e().createElement(H.Z,{placement:"right",title:d("dashboard.loginDataViewTips"),overlayClassName:Ze()["dashboard-view-tooltip"]},e().createElement(Ae.Z,{style:{marginLeft:"10px",color:"#888"}}))),e().createElement("div",{className:Ze().chart},ue?e().createElement(ce.ZP.normal,{active:!0}):Z.bar.length&&Z.line.length?e().createElement(At,(0,Oe.Z)({},St.j,{data:[Z.bar,Z.line]})):e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE}))))},Nt=(0,g.$j)()((0,y.Z)()(Ot)),xt=t(24616),bt=t(73952),aa=t.n(bt),We=ie=>{var P=ie.onClick,N=ie.t,d=ie.desc;return e().createElement("div",{className:aa().container},e().createElement(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:40},description:e().createElement("span",{className:aa().desc},d||N("dashboard.addIndexTip1"))},e().createElement(f.Z,{type:"primary",onClick:P,icon:e().createElement(xt.Z,null)},N("dashboard.customIndex"))),",")},ha=(0,y.Z)()(We),va={DATA_OVERVIEW:Se,LEARN_DURATION_TREND:Ge,ACCOUNT:la,TIME_INTERVAL_LEARN_PEOPLE_COUNT:I,LEARN_DURATION_DISTRIBUTION:se,ADD_RESOURCE_TREND:Je,LOGIN:Nt,POINTRANK:a,HEALTHINDEX:kt},Ia=null,Ca=null,Sa=null,Aa=null,Oa=null,Na=null,ba=null,wa=null,La=null,ra=ha,wt=va,ga=t(17149),fa=t(11449),ya=t(4408);class Ea extends e().Component{constructor(P){var N;super(P);N=this,this.onTimeChange=d=>{this.setState({start_date:d[0],end_date:d[1]})},this.renderLeft=()=>{var d=this.state,C=d.indexInfo,_=d.start_date,Z=d.end_date,j=C.left,z=j===void 0?[]:j,q=z.filter(ue=>ue.type!=="DATA_OVERVIEW");return q.map((ue,ae)=>{if(wt[ue.type]){var Te=wt[ue.type];return e().createElement(Te,{start_date:_,end_date:Z,index:ae})}})},this.renderRight=()=>{var d=this.state,C=d.indexInfo,_=d.start_date,Z=d.end_date,j=C.right,z=j===void 0?[]:j;return z.map(q=>{if(wt[q.type]){var ue=wt[q.type];return e().createElement(ue,{start_date:_,end_date:Z})}})},this.getIndexInfo=(0,S.Z)(c().mark(function d(){var C,_,Z,j,z,q,ue;return c().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.next=2,(0,B.getPlatformIndex)();case 2:if(C=Te.sent,_=C.data,Z=_===void 0?[]:_,j=C.success,z=Z.findIndex(Ee=>Ee.type==="DATA_OVERVIEW")>-1,j==="true"){q={left:[],right:[],unadd:[]};for(ue in q)Object.hasOwnProperty.call(q,ue)&&(ue==="left"?q.left=(0,n.sortBy)(Z.filter(Ee=>Ee.position===1&&Ee.display),"sort"):ue==="right"?q.right=(0,n.sortBy)(Z.filter(Ee=>Ee.position===2&&Ee.display),"sort"):q.unadd=(0,n.sortBy)(Z.filter(Ee=>!Ee.display),"sort"));N.setState({indexInfo:q,showDataView:z})}case 8:case"end":return Te.stop()}},d)})),this.state={indexInfo:{left:[],right:[],unadd:[]},start_date:"",end_date:""}}componentDidMount(){var P=(0,F.QX)(7),N=P.timestamp;this.setState({start_date:N[0].toString(),end_date:N[1].toString()},()=>{this.getIndexInfo()})}render(){var P=this.props.t,N=this.state,d=N.indexInfo,C=N.showDataView,_=N.start_date,Z=N.end_date;return e().createElement("div",null,e().createElement(fa.Z,{pageContainerParams:{header:{className:E()["report-page-header"],title:P("dashboard.platformOverview")},extra:e().createElement(ga.Z,null)}},e().createElement(ya.Z,{title:P("documentTitle.platformOverview")}),e().createElement("div",{className:[E()["platform-report"],"zoom-report"].join(" "),id:"platform-report"},d.left.length>0||d.right.length>0?e().createElement("div",{className:E().container},e().createElement("div",{className:E().header},e().createElement(wt.DATA_OVERVIEW,null)),e().createElement("div",{className:E().content},e().createElement("div",{className:E().left},d.left.length===1&&C||d.left.length===0?e().createElement(ra,{desc:P("dashboard.addIndexTip2"),onClick:()=>this.onSetIndexModal(!0)}):e().createElement(e().Fragment,null,e().createElement(m.Z,{offsetTop:0,target:()=>document.getElementById("layout-page-container")},e().createElement("div",{className:E()["platform-timer"]},e().createElement(X.Z,{value:[_,Z],onChange:this.onTimeChange,quickSelect:{week:!0,month:!0,quarter:!0,currentMonth:!0,currentYear:!0}}))),this.renderLeft())),e().createElement("div",{className:E().right},d.right.length>0?this.renderRight():e().createElement(ra,{desc:P("dashboard.addIndexTip2"),onClick:()=>this.onSetIndexModal(!0)})))):e().createElement(ra,{onClick:()=>this.onSetIndexModal(!0)}))))}}var Pa=(0,g.$j)()((0,y.Z)()(Ea))},80960:function(le,Q,t){"use strict";t.r(Q),t.d(Q,{getDataOverview:function(){return T},getPlatformStudyHoursTop:function(){return e},getLearnDurationTrend:function(){return g},getStudentRankTableList:function(){return y},getDepartmentTableList:function(){return n},getVipRightsList:function(){return L},getVersionInfo:function(){return E},getEnterpriseSummary:function(){return b},getPersonPieInfo:function(){return D},getLoginDetailsTableList:function(){return h},getLoginLogList:function(){return f},getPointRank:function(){return v},getResourceTrendsInfo:function(){return w},getPlatformIndex:function(){return $},resetPlatformIndex:function(){return B},getPlatformLoginData:function(){return Y},getPlatformLoginStudyData:function(){return re}});var M=t(61701),m=t(37055),S=t(10237),l={ascend:"ASC",descend:"DESC"},c={create_time:"CREATE_TIME",total_duration:"TOTAL_DURATION",per_capita_duration:"PER_CAPITA_DURATION",task_learn_duration:"TASK_LEARN_DURATION",self_learn_duration:"SELF_LEARN_DURATION",course_sum:"COURSE",exam_sum:"EXAM",train_sum:"TRAIN",department_people_count:"DEPARTMENT_PEOPLE_COUNT"};function T(A){var H=A.start_date,G=A.end_date,U=A.quota_code,V=m.ZP.Dashboard.getDataOverview(),F={start_date:H,end_date:G,quota_code:U};return S.WY.get({url:V,params:F})}function e(A){var H=A.start_date,G=A.end_date,U=A.dimension_code,V=A.top_size,F={start_date:H,end_date:G,dimension_code:U,top_size:V},ee=m.ZP.Dashboard.getPlatformStuTimeTop();return S.WY.get({url:ee,params:F})}function g(A){var H=m.ZP.Dashboard.getLearnDurationTrend();return S.WY.get({url:H,params:A})}function y(A){var H=A.start_date,G=A.end_date,U=A.student_name,V=A.department_ids,F=A.data_sort,ee=A.data_sequence,me=A.page_size,de=A.page_num,ne=m.ZP.Dashboard.getStudentStudyTimeTableList(),ce={start_date:H,end_date:G,student_name:U,department_ids:V,data_sort:c[F]||"",data_sequence:l[ee]||"",page_size:me,page_num:de};return S.WY.get({url:ne,params:ce})}function n(A){var H=A.start_date,G=A.end_date,U=A.data_sort,V=A.data_sequence,F=A.page_size,ee=A.page_num,me=A.department_ids,de=m.ZP.Dashboard.getDepartmentTableList(),ne={start_date:H,end_date:G,data_sort:c[U]||"",data_sequence:l[V]||"",department_ids:me,page_size:F,page_num:ee};return S.WY.get({url:de,params:ne})}function L(){return{success:"true",data:{list:Array.from({length:5},()=>({right_name:"\u6743\u76CA\u540D\u79F0\u8D85\u8FC7\u516B\u4E2A\u6C49\u5B57ohh",total_amount:Math.floor(Math.random()*100),available_amount:Math.floor(Math.random()*100),out_of_date:"\u5426"}))}}}function E(){var A=m.ZP.Dashboard.getVersionInfo();return S.WY.get({url:A})}var b=()=>{var A=m.ZP.Dashboard.enterpriseSummary();return S.WY.get({url:A})};function D(A){var H=A.start_date,G=A.end_date,U=m.ZP.Dashboard.getPersonPieInfo(),V={start_date:H,end_date:G};return S.WY.get({url:U,params:V})}function h(A){var H=A.start_date,G=A.end_date,U=A.student_name,V=A.job_status,F=A.page_size,ee=A.page_num,me=A.data_sequence,de=A.data_sort,ne=A.department_ids,ce=m.ZP.Dashboard.getLoginDetailsTableList(),ve={start_date:H,end_date:G,student_name:U,job_status:V,page_size:F,page_num:ee,data_sequence:me,data_sort:de,department_ids:ne};return S.WY.get({url:ce,params:ve})}function f(A){var H=A.start_date,G=A.end_date,U=A.page_num,V=A.page_size,F=A.user_id,ee=m.ZP.Dashboard.getLoginLogList(),me={start_date:H,end_date:G,page_num:U,page_size:V,user_id:F};return S.WY.get({url:ee,params:me})}function v(A){var H=m.ZP.points.integralList();return S.WY.get({url:H,params:A})}function w(A){return(0,M.Z)(A),{success:"true",data:[{average_value:55,details:[{time:"1648021970008",value:78,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:62,bar_type:"ADD_EXAM_COUNT"},{time:"1648021970278",value:84,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:76,bar_type:"ADD_EXAM_COUNT"},{time:"1648021971278",value:65,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:48,bar_type:"ADD_EXAM_COUNT"},{time:"1648021972278",value:60,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:74,bar_type:"ADD_EXAM_COUNT"},{time:"1648021973278",value:80,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:58,bar_type:"ADD_EXAM_COUNT"},{time:"1648021974278",value:70,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:60,bar_type:"ADD_EXAM_COUNT"},{time:"1648021975278",value:80,type:"PARTICIPANTS_PEOPLE_COUNT",bar_value:18,bar_type:"ADD_EXAM_COUNT"}],quota_code:"TRAIN"}]}}function $(){return{code:2e5,data:[{type:"DATA_OVERVIEW",position:1,display:1,sort:1},{type:"LEARN_DURATION_TREND",position:1,display:1,sort:2},{type:"LEARN_DURATION_DISTRIBUTION",position:1,display:1,sort:3},{type:"TIME_INTERVAL_LEARN_PEOPLE_COUNT",position:1,display:1,sort:5},{type:"LOGIN",position:1,display:1,sort:6},{type:"ACCOUNT",position:2,display:1,sort:1},{type:"HEALTHINDEX",position:2,display:1,sort:2},{type:"POINTRANK",position:2,display:1,sort:3}],success:"true",request_id:""}}function B(){return{code:"200000",success:"true",request_id:""}}function Y(A){var H=m.ZP.Dashboard.getPlatformLoginData();return S.WY.get({url:H,params:A})}function re(A){var H=m.ZP.Dashboard.getPlatformLoginStudyData();return S.WY.get({url:H,params:A})}},58923:function(le,Q,t){"use strict";t.d(Q,{j:function(){return f},bL:function(){return h},s0:function(){return D}});var M={interactions:[{type:"element-active"}],state:{active:{style:v=>{var w=v.shape,$=w.attrs,B=$.fill,Y=$.fillOpacity;return{lineWidth:5,stroke:B,strokeOpacity:Y}}}},pieStyle:{lineWidth:0,fillOpacity:1},innerRadius:.7},m=t(78138),S=t.n(m),l=t(9215),c=t(3407),T=t(6793),e=(0,T.me)(),g=c.Z[e],y={autoFit:!0,xField:"time",yField:["value","bar_value"],appendPadding:[0,30,-30,30],padding:[10,10,80,10],legend:{position:"bottom",offsetY:-10},limitInPlot:!0,meta:{value:{alias:g.dashboard.loginCount,sync:"bar_value",range:[0,.95],formatter:v=>(0,l.H5)(v)},bar_value:{alias:g.dashboard.loginPeople,sync:!0,range:[0,.95],formatter:v=>(0,l.H5)(v)},time:{formatter:v=>S()(Number(v)).format("YYYY-MM-DD"),sync:!1}},yAxis:{value:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}},grid:{nice:!0}},bar_value:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}}}},xAxis:{label:{autoRotate:!1},line:{style:{stroke:"#D4D4D4 ",lineWidth:.5}},nice:!0,tickCount:7},geometryOptions:[{geometry:"line",lineStyle:{lineWidth:1.4,smooth:!0},point:{},color:"#00C7BE",smooth:!0},{geometry:"column",color:"#2696FF",columnWidthRatio:.4,maxColumnWidth:20}],tooltip:{formatter:v=>v.hasOwnProperty("bar_value")?{name:g.dashboard.loginPeople,value:(0,l.Kr)(v.bar_value)}:{name:g.dashboard.loginCount,value:(0,l.Kr)(v.value)}},slider:{start:0,end:1,offsetY:10,formatter:v=>S()(Number(v)).format("YYYY-MM-DD")}},n=(0,T.me)(),L=c.Z[n],E={LOGIN_PEOPLE_COUNT:L.dashboard.loginPeople,LEARN_PEOPLE_COUNT:L.dashboard.learnCount,LOGIN_RATE:L.dashboard.loginRate,LEARN_RATE:L.dashboard.learnRate},b={autoFit:!0,xField:"time",yField:["value","count"],meta:{value:{formatter:v=>(0,l.H5)(v)},count:{formatter:v=>"".concat(v,"%")}},padding:[20,30,60,20],yAxis:{value:{tickCount:5,line:{style:{stroke:"#D4D4D4",lineWidth:.5}},grid:{nice:!0}},count:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}}}},xAxis:{label:{autoRotate:!1},line:{style:{stroke:"#D4D4D4 ",lineWidth:.5}},nice:!0,tickCount:7},slider:{start:0,end:1},tooltip:{formatter:v=>{var w=["LOGIN_PEOPLE_COUNT","LEARN_PEOPLE_COUNT"].includes(v.type)?(0,l.Kr)(Number(v.value)):"".concat(v.count,"%");return{name:E[v.type],value:w}}},geometryOptions:[{geometry:"column",isGroup:!0,seriesField:"type",columnWidthRatio:.4,maxColumnWidth:20,marginRatio:.4,color:["#2696FF","#FF5E5E"]},{geometry:"line",isGroup:!0,seriesField:"type",color:["#2ED281","#F5B329"],smooth:!0,lineStyle:{lineWidth:1.4},point:{size:4}}],legend:{position:"bottom",offsetY:-20,itemName:{formatter:v=>E[v]}}},D=M,h=y,f=b},9215:function(le,Q,t){"use strict";t.d(Q,{aq:function(){return e},QX:function(){return g},Kr:function(){return n},H5:function(){return L}});var M=t(78138),m=t.n(M),S=t(3407),l=t(6793),c=(0,l.me)(),T=S.Z[c],e=E=>{var b=m().duration(Number(E),"seconds"),D=Math.floor(b.asHours()),h=Math.round(b.asMinutes())-D*60;return D=h===60?D+1:D,h=h===60?0:h,[D,h]};function g(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",D=m()().subtract("day",E).startOf("day").valueOf(),h=m()().subtract("day",1).endOf("day").valueOf(),f=m()(D).format(b),v=m()(h).format(b);return{timestamp:[D,h],titmeStr:[f,v]}}function y(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,D=E.toString(),h=D.indexOf(".");return h===-1||(D=D.substring(h,h+b)),D}function n(E){var b=(Math.round(E*100)/100).toString(),D=b.indexOf(".");if(D<0)b=b.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");else{var h=b.substr(0,D),f=y(b);b=h.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),b=b+f}return b}function L(E){for(var b=["","",""],D=1e3,h=3,f="",v=1;E/D>=1;)D*=10,h+=1;return h<=8?(f=parseInt(h-4)/3>1?T.dashboard.tenMillion:T.dashboard.tenThousand,v=f===T.dashboard.tenThousand?1e4:1e7,E%v==0?b[0]=parseInt(E/v)+"":b[0]=parseFloat(E/v).toFixed(2)+"",b[1]=f):h<=16&&(f=(h-8)/3>1?T.dashboard.hundredBillion:T.dashboard.hundredMillion,f=(h-8)/4>1?T.dashboard.oneTrillion:f,f=(h-8)/7>1?T.dashboard.billions:f,v=1,f===T.dashboard.hundredMillion?v=1e8:f===T.dashboard.hundredBillion?v=1e11:f===T.dashboard.oneTrillion?v=1e12:f===T.dashboard.billions&&(v=1e15),E%v==0?b[0]=parseInt(E/v)+"":b[0]=parseFloat(E/v).toFixed(2)+"",b[1]=f),E<=9999?n(E):b.join("")}},9849:function(le,Q,t){"use strict";t.d(Q,{Ej:function(){return c},kL:function(){return T},T:function(){return e},NU:function(){return g},FL:function(){return y},fn:function(){return n},bm:function(){return L},jY:function(){return E},Vs:function(){return b},li:function(){return D},Nl:function(){return h},YF:function(){return f},Q6:function(){return v},zW:function(){return w},Zv:function(){return $},Qg:function(){return B},qc:function(){return Y},Ve:function(){return A},rS:function(){return H},Rh:function(){return G}});var M=t(10237),m=t(37055),S=t(38642),l={zaraFlag:(0,S.UI)("ZARA_H5")};function c(U,V){var F=m.ZP.StudyProjectList.startStudy(U);return M.WY.post({url:F,data:V})}function T(U){var V=m.ZP.Common.enroll(U);return M.WY.post({url:V})}function e(U,V){var F=U.courseId,ee=m.ZP.StudyProjectList.studyProject(F);return M.WY.get({url:ee,params:V})}function g(U){var V=U.id,F=l.zaraFlag?m.m1.getAssessmentProjectInfo(V):m.m1.getProjectInfo(V);return M.WY.get({url:F})}function y(U){var V=U.courseId,F=m.ZP.EnterpriseCourse.addScanCount(V);return M.WY.post({url:F})}function n(){var U=m.ZP.StudyProjectList.getAccountInfo();return M.WY.get({url:U})}function L(U){var V=m.ZP.StudyProjectList.projectCertiUrl(U);return M.WY.get({url:V})}function E(U){var V=U.courseId,F=m.ZP.Courses.like(V);return M.WY.post({url:F})}function b(U){var V=m.ZP.EnterpriseCourse.addCommentAndScore();return M.qg.post({url:V,data:U})}function D(U){var V=m.ZP.EnterpriseCourse.getCourseComments();return M.WY.get({url:V,params:U})}function h(U){var V=m.ZP.EnterpriseCourse.addCommentAndScore();return M.qg.post({url:V,data:U})}function f(U){var V=m.ZP.EnterpriseCourse.deleteComment();return M.qg.post({url:V,data:U})}function v(U,V){var F=m.ZP.StudyProjectList.projectStudyRecord(U);return M.WY.get({url:F,params:V})}function w(U){var V=m.ZP.DingSpaceId.getSpaceId();return M.WY.get({url:V,params:U})}function $(U,V){var F=m.ZP.PlatformCourse.learningUrl(U);return M.WY.get({url:F,params:V})}function B(U){var V=m.ZP.MyExamTask.examIntro({examId:U});return M.WY.get({url:V})}function Y(U){var V=m.ZP.MyExamTask.examCheckStatus({examId:U});return M.WY.get({url:V})}function re(U,V){var F=CONFIG.Common.getOperateLog(U);return formDataRequest.get({url:F,params:V})}function A(U,V){var F=l.zaraFlag?m.ZP.StudyProjectList.changeCustomStatus(U):m.ZP.StudyProjectList.changeStatus(U);return M.WY.post({url:F,data:V})}function H(U){var V=m.ZP.StudyProjectList.getProjectReward(U);return M.WY.get({url:V})}function G(U){var V=m.ZP.subsidyGz.subsidyCourseSetting(U);return M.WY.get({url:V})}},91648:function(le,Q,t){"use strict";t.d(Q,{Z:function(){return M}});function M(m,S){var l,c,T,e,l;if(c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),l=[],T=void 0,S=S||c.length,m)for(T=0;T<m;)l[T]=c[0|Math.random()*S],T++;else for(e=void 0,l[8]=l[13]=l[18]=l[23]="-",l[14]="4",T=0;T<36;)l[T]||(e=0|Math.random()*16,l[T]=c[T===19?e&3|8:e]),T++;return l.join("")}},69164:function(le,Q,t){"use strict";var M=t(34792),m=t(48086);function S(l){l&&l.length>0&&m.default.success(l)}Q.Z=S},4412:function(le){le.exports="data:image/png;base64,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"},82689:function(le,Q,t){var M=t(29932),m=t(97786),S=t(67206),l=t(69199),c=t(63922),T=t(7518),e=t(85022),g=t(6557),y=t(1469);function n(L,E,b){E.length?E=M(E,function(f){return y(f)?function(v){return m(v,f.length===1?f[0]:f)}:f}):E=[g];var D=-1;E=M(E,T(S));var h=l(L,function(f,v,w){var $=M(E,function(B){return B(f)});return{criteria:$,index:++D,value:f}});return c(h,function(f,v){return e(f,v,b)})}le.exports=n},63922:function(le){function Q(t,M){var m=t.length;for(t.sort(M);m--;)t[m]=t[m].value;return t}le.exports=Q},26393:function(le,Q,t){var M=t(33448);function m(S,l){if(S!==l){var c=S!==void 0,T=S===null,e=S===S,g=M(S),y=l!==void 0,n=l===null,L=l===l,E=M(l);if(!n&&!E&&!g&&S>l||g&&y&&L&&!n&&!E||T&&y&&L||!c&&L||!e)return 1;if(!T&&!g&&!E&&S<l||E&&c&&e&&!T&&!g||n&&c&&e||!y&&e||!L)return-1}return 0}le.exports=m},85022:function(le,Q,t){var M=t(26393);function m(S,l,c){for(var T=-1,e=S.criteria,g=l.criteria,y=e.length,n=c.length;++T<y;){var L=M(e[T],g[T]);if(L){if(T>=n)return L;var E=c[T];return L*(E=="desc"?-1:1)}}return S.index-l.index}le.exports=m},16612:function(le,Q,t){var M=t(77813),m=t(98612),S=t(65776),l=t(13218);function c(T,e,g){if(!l(g))return!1;var y=typeof e;return(y=="number"?m(g)&&S(e,g.length):y=="string"&&e in g)?M(g[e],T):!1}le.exports=c},89734:function(le,Q,t){var M=t(21078),m=t(82689),S=t(5976),l=t(16612),c=S(function(T,e){if(T==null)return[];var g=e.length;return g>1&&l(T,e[0],e[1])?e=[]:g>2&&l(e[0],e[1],e[2])&&(e=[e[0]]),m(T,M(e,1),[])});le.exports=c}}]);
