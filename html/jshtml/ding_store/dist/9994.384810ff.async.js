(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[9994],{53009:function(Y,_,v){"use strict";v.d(_,{TD:function(){return s},$S:function(){return c},aI:function(){return u},Bg:function(){return g},tT:function(){return m},XN:function(){return b},YK:function(){return O},$x:function(){return S}});var T=v(81211),w=v(88986),o=v(78138),x=v.n(o),E=v(78001),d=v(76651),a=v(38642),h=v(6793),l=v(37055),n=v(75205);function e(M){return M.map(D=>({name:D.name,id:D.id,proportion:0,disabled:D.totalCount===0||D.total_count===0}))}function i(M,D){return D.map((N,L)=>(0,w.Z)((0,w.Z)({},M[L]),{},{disabled:N.total_count===0}))}var t=M=>{var D=0,N=M.checkedValue,L=M.fillBlank,k=M.shortAnswer;return N===2?L.checked&&!k.checked?D=3:!L.checked&&k.checked?D=4:D=2:D=1,D},r=M=>{for(var D in M)M[(0,a.FI)(D)]=M[D];return M},s=(M,D,N,L,k,F)=>{var I=M.map((C,z)=>{var Z=C.list.map((W,V)=>{var H,Q=W.data,q={};switch(W.componentName){case"CoursewareSelector":q={courseId:W.id,courseSort:V,courseType:3,flag:1,mappingId:W.mappingId?W.mappingId:""};break;case"CourseSelector":q={courseId:W.id,courseSort:V,courseType:1,flag:1,mappingId:W.mappingId?W.mappingId:""};break;case"AddExam":q={courseSort:V,title:Q.title,type:"ex",cheatFlag:Q.cheatFlag.isChecked?1:0,faceRecognition:Q.cheatFlag.faceRecognition,examDuration:Q.examDuration,summary:Q.summary,flag:2,mappingId:W.mappingId?W.mappingId:"",courseId:W.id,markType:t(Q.markType),paperId:Q.questionsMode===1?Q.fixedQuestion.id:"",paperTitle:Q.questionsMode===1?Q.fixedQuestion.name:"",passLine:Q.passLine,questionBankList:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonVoList.map(re=>re.id).join(","),questionMode:Q.questionsMode,showKnowledge:Q.knowledgePoints===1?"show":"hide",repeatExam:Q.reExam.isChecked,multipleCount:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.multipleCount,multipleUnitScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.multipleScore,fillBlankCount:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.fillBlankCount,fillBlankUnitScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.fillBlankScore,fillBlankType:Q.questionsMode===1?1:Q.randomQuestion.bankQuesitonInfo.fillBlankType,shortAnswerCount:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.shortAnswerCount,shortAnswerUnitScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.shortAnswerScore,shortAnswerType:Q.questionsMode===1?1:Q.randomQuestion.bankQuesitonInfo.shortAnswerType,singleCount:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.singleCount,singleUnitScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.singleScore,trueOrFalseCount:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.trueOrFalseCount,trueOrFalseUnitScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.trueOrFalseScore,multipleMissedScore:Q.questionsMode===1?"":Q.randomQuestion.bankQuesitonInfo.multipleMissedScore,totalScore:Q.questionsMode===1?Q.fixedQuestion.tableList.totalScore:"",answerParsing:Q.reExam.isChecked?Q.reExam.allowed.end:Q.reExam.notAllowed.end,passingScore:Q.questionsMode===1?Number(Q.fixedQuestion.tableList.totalScore*Q.passLine/100).toFixed(1):60,cutScreenCount:Q.cheatFlag.switchNum!==null?Q.cheatFlag.switchNum:-1,reExamRule:Q.reExam.allowed.reRule,reExamNumber:Q.reExam.allowed.reRule===2?Q.reExam.allowed.reNum:0,scoreRule:Q.reExam.allowed.record,viewRule:Q.reExam.allowed.viewRule,proportional:Q.questionsMode===2&&Q.isOpenDrawQuestions?Q.proportional:[],anonymousMarking:"".concat(Q.markType.anonymousMarking),show_result:Q.reExam.show_result};break;case"AddNewExam":var $=W.data,j=$.paperInfo,J=$.exam_times,K=$.cut_screen_times,ee=$.random_order,te=$.mark_setting,ne=$.result_visible,ie=$.face_recognition,oe=(0,T.Z)($,["paperInfo","exam_times","cut_screen_times","random_order","mark_setting","result_visible","face_recognition"]);q={courseSort:V,flag:15,courseType:15,type:"ex",courseId:W.id,mappingId:W.mappingId?W.mappingId:"",new_exam:(0,w.Z)((0,w.Z)((0,w.Z)({},oe),(0,n.jJ)(ie)),{},{paper_id:j.id,answer_rule:J.answer_rule,exam_count:J.exam_count||1,cut_screen_rule:K.cut_screen_rule,cut_screen_count:K.cut_screen_count||1,cut_screen_interval:K.cut_screen_interval||0,random_question:ee.random_question,random_options:ee.random_options,mark_type:te.mark_type,mark_question_type:{fill_blank:te.mark_type===n.lt.MANUAL?te.fill_blank:!1,short_answer:te.mark_type===n.lt.MANUAL?te.short_answer:!1},anonymous_marking:te.anonymous_marking,exam_certificate_id:"",supervisor_list:[],marker_list:[...te.marker_list.map(re=>typeof re=="string"?re:re.id)],result_view_rule:ne.result_view_rule,answer_parsing:ne.answer_parsing,ranking_list_view_rule:ne.ranking_list_view_rule,show_result:ne.show_result,reward_rule:null,authority_range:null,supervisor_mark:null})};break;case"OfflineTrain":q={courseSort:V,flag:3,id:D&&!k?W.id:"",type:"xx",mappingId:W.mappingId?W.mappingId:"",title:Q.title,begin_time:x()(Q.dateRange.startTime).valueOf(),end_time:x()(Q.dateRange.endTime).valueOf(),attachment:Q.attachment.map(re=>re.id),course_duration:Q.course_duration||"",lecturer_id:Q.teacher.id,is_lecturer_confirm:!!Q.teacher.is_lecturer_confirm,is_lecturer_subsidy:!!Q.teacher.is_lecturer_subsidy,address:Q.address,introduction:Q.introduction,is_open_offline_assessment:Q.assess.is_open_offline_assessment,is_open_upload:Q.other.is_open_upload,is_open_schedule:!1,remind_type:Q.remind.remind_type,advance_minute:Q.remind.advance_minute?Number(Q.remind.advance_minute):0,is_lecturer_remind:Q.remind.is_lecturer_remind,is_student_remind:Q.remind.is_student_remind,is_lecturer_student_evaluate:Q.evaluate.is_lecturer_student_evaluate,is_student_lecturer_evaluate:Q.evaluate.is_student_lecturer_evaluate,is_student_course_evaluate:Q.evaluate.is_student_course_evaluate,lecturer_student_evaluate_content:Q.evaluate.lecturer_student_evaluate_content,student_lecturer_evaluate_content:Q.evaluate.student_lecturer_evaluate_content,student_course_evaluate_content:Q.evaluate.student_course_evaluate_content,assessment_total_score:Q.assess.assessment_total_score,assessment_pass_score:Q.assess.assessment_pass_score};break;case"AddInvestigate":N==="study"?q={courseSort:V,courseType:9,flag:4,id:W.id,questionnaireId:W.questionnaire.id,title:W.name,type:"questionnaire",mappingId:W.mappingId?W.mappingId:""}:q={courseId:W.id,courseType:9,flag:9,courseSort:V,investigate:{id:W.id,title:W.name,questionnaire_id:W.questionnaire.id}};break;case"AddPracticeTest":q={courseType:10,courseSort:V,flag:N==="study"?5:4,type:"sc",id:W.id,title:W.data.title,content:W.data.content||W.data.address,resources:W.data.attachment.map(re=>({resourceId:re.id})),scoreSetting:{scoreSwitch:W.data.mark.isFull?"on":"off",score:W.data.mark.value},workflowJson:W.data.workFlowTemplateId?{}:f(W.data.supervisor),mappingId:W.mappingId?W.mappingId:"",job_type:W.data.job_type,workFlowTemplateId:W.data.workFlowTemplateId};break;case"AddJobEvaluation":q={courseSort:V,flag:6,title:W.data.title,productId:W.data.evaluationTools.product_id,modelId:W.data.evaluationTools.model_id,id:W.id||"",mappingId:W.mappingId?W.mappingId:""};break;case"Attendance":q={courseSort:V,flag:13,id:D&&!k?W.id:"",type:"attendance",mappingId:W.mappingId?W.mappingId:"",title:Q.title,directors:Q.directors.map(re=>typeof re=="object"&&(re.id||re.user_id)?re.id||re.user_id:re),name:Q.name,qrcode_type:Q.qrcode_type||"statics",sign_in_begin_time:Q.sign_in_begin_time?x()(Q.sign_in_begin_time).valueOf():"",sign_in_end_time:Q.sign_in_end_time?x()(Q.sign_in_end_time).valueOf():"",sign_out_begin_time:Q.sign_out_begin_time?x()(Q.sign_out_begin_time).valueOf():"",sign_out_end_time:Q.sign_out_end_time?x()(Q.sign_out_end_time).valueOf():"",relate_course:Q.relate_course,relate_course_list:((H=Q.relate_course_list)===null||H===void 0?void 0:H.length)>0?Q.relate_course_list:[],remind_directors:Q.remind_directors,advance_minute:Q.advance_minute||0,qy_we_chat_vo:Q.qy_we_chat_vo,address:Q.address,longitude:Q.longitude,latitude:Q.latitude,address_detail:Q.address_detail,sign_range:Q.sign_range};break;case"AddAssessment":q=(0,w.Z)((0,w.Z)({},r(W.data)),{},{tutorId:F,courseSort:V,courseType:14,flag:14});break;default:break}return L==="unlock_mode"&&Q.unlockingTime&&(q.unlockingTime=x()(Q.unlockingTime).valueOf()),q.resource_lock=W.resource_lock||!1,q});return{content:C.desc,stageName:C.name,isOrder:C.inOrder,stageSort:z+1,stageId:D?C.stageId:"",startTime:L==="unlock_mode"&&C.studyTime?x()(C.studyTime[0]).valueOf():null,endTime:L==="unlock_mode"&&C.studyTime?x()(C.studyTime[1]).valueOf():null,course:Z}});return I},c=M=>{var D=M.map((N,L)=>({content:N.desc,stage_name:N.name,is_order:N.inOrder,stage_sort:L+1,stage_id:N.stageId,resources:N.list.map((k,F)=>{var I=k.data;switch(k.componentName){case"CoursewareSelector":return{course_id:k.id,course_sort:F,course_type:3,flag:1,mappingId:k.mappingId};case"AddMentorCoaching":return{course_id:k.id,tutorials:{id:k.id,title:I.title,content:I.content,model:I.model,tutor_model:I.tutor_model,evaluation_type:I.evaluation_type,user_id:I.user_id||"",user_name:I.user_name||""},course_sort:F,course_type:12,flag:7,mappingId:k.mappingId};case"CourseSelector":return{course_id:k.id,course_sort:F,course_type:1,flag:1,mappingId:k.mappingId};case"AddExam":return{exam:{id:k.id,title:I.title,cheat_flag:I.cheatFlag.isChecked?1:0,exam_duration:I.examDuration,face_recognition:I.cheatFlag.faceRecognition,summary:I.summary,mark_type:t(I.markType),paper_id:I.questionsMode===1?I.fixedQuestion.id:"",paper_name:I.questionsMode===1?I.fixedQuestion.name:"",pass_line:I.passLine,question_banks:I.questionsMode===1?"":I.randomQuestion.bankQuesitonVoList.map(j=>j.id),question_mode:I.questionsMode,show_knowledge:I.knowledgePoints===1?"show":"hide",repeat_exam:I.reExam.isChecked,multiple_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleCount,multiple_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleScore,fill_blank_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.fillBlankCount,fill_blank_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.fillBlankScore,fill_blank_type:I.questionsMode===1?1:I.randomQuestion.bankQuesitonInfo.fillBlankType,short_answer_type:I.questionsMode===1?1:I.randomQuestion.bankQuesitonInfo.shortAnswerType,short_answer_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.shortAnswerCount,short_answer_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.shortAnswerScore,single_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.singleCount,single_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.singleScore,multiple_missed_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleMissedScore,true_or_false_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.trueOrFalseCount,true_or_false_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.trueOrFalseScore,total_score:I.questionsMode===1?I.fixedQuestion.tableList.totalScore:"",answer_parsing:I.reExam.isChecked?I.reExam.allowed.end:I.reExam.notAllowed.end,passing_score:I.questionsMode===1?Number(I.fixedQuestion.tableList.totalScore*I.passLine/100).toFixed(1):60,cut_screen_count:I.cheatFlag.switchNum!==null?I.cheatFlag.switchNum:-1,re_exam_rule:I.reExam.allowed.reRule,re_exam_number:I.reExam.allowed.reRule===2?I.reExam.allowed.reNum:0,score_rule:I.reExam.allowed.record,view_rule:I.reExam.allowed.viewRule,proportional:I.questionsMode===2&&I.isOpenDrawQuestions?I.proportional:[],anonymous_marking:"".concat(I.markType.anonymousMarking),show_result:I.reExam.show_result},flag:2,course_sort:F,course_id:k.id,course_type:6,mappingId:k.mappingId};case"AddNewExam":var C=k.data,z=C.paperInfo,Z=C.exam_times,W=C.cut_screen_times,V=C.random_order,H=C.mark_setting,Q=C.result_visible,q=C.face_recognition,$=(0,T.Z)(C,["paperInfo","exam_times","cut_screen_times","random_order","mark_setting","result_visible","face_recognition"]);return{course_sort:F,flag:15,type:"ex",course_id:k.id,course_type:15,mappingId:k.mappingId?k.mappingId:"",new_exam:(0,w.Z)((0,w.Z)((0,w.Z)({},$),(0,n.jJ)(q)),{},{paper_id:z.id,answer_rule:Z.answer_rule,exam_count:Z.exam_count||1,cut_screen_rule:W.cut_screen_rule,cut_screen_count:W.cut_screen_count||1,cut_screen_interval:W.cut_screen_interval||0,random_question:V.random_question,random_options:V.random_options,mark_type:H.mark_type,mark_question_type:{fill_blank:H.mark_type===n.lt.MANUAL?H.fill_blank:!1,short_answer:H.mark_type===n.lt.MANUAL?H.short_answer:!1},anonymous_marking:H.anonymous_marking,exam_certificate_id:"",supervisor_list:[],marker_list:[...H.marker_list.map(j=>typeof j=="string"?j:j.id)],result_view_rule:Q.result_view_rule,answer_parsing:Q.answer_parsing,ranking_list_view_rule:Q.ranking_list_view_rule,show_result:Q.show_result,reward_rule:null,authority_range:null,supervisor_mark:null})};case"AddPracticeTest":return{operation:{id:k.id,title:k.data.title,content:k.data.content||k.data.address,type:"sc",resources:k.data.attachment.map(j=>({resourceId:j.id})),score_setting:{scoreSwitch:k.data.mark.isFull?"on":"off",score:k.data.mark.value},workflow_json:f(k.data.supervisor),sort:F,job_type:k.data.job_type},course_type:10,course_sort:F,flag:5,mappingId:k.mappingId};case"AddInvestigate":return{course_id:k.id,course_type:9,flag:4,course_sort:F,investigate:{id:k.id,title:k.name,questionnaire_id:k.questionnaire.id}};default:return null}})}));return D};function f(M){var D=[];if(M.type==="multilevel"){var N=M.multilevel;N.forEach(L=>{var k=[];L.forEach(F=>{k.push(F.id)}),D.push(k.join(","))})}else M.type==="or"?(M.or.forEach(L=>{D.push(L.id)}),D=[D.join(",")]):D=[];return{type:M.type,userIds:D}}var u=M=>{function D(F){if(F.questionMode===1){if(F.paperVo.fillBlankCount>0||F.paperVo.shortAnswerCount>0)return!0}else if(F.fillBlankCount>0||F.shortAnswerCount>0)return!0;return!1}function N(F){if(F.questionMode===1){if(F.paperVo.fillBlankCount>0)return!0}else if(F.fillBlankCount>0)return!0;return!1}function L(F){if(F.questionMode===1){if(F.paperVo.shortAnswerCount>0)return!0}else if(F.shortAnswerCount>0)return!0;return!1}var k=M.map((F,I)=>({key:"".concat(new Date().getTime()).concat(I),desc:F.content,name:F.stageName,inOrder:F.isOrder,stageId:F.id,studyTime:F.startTime?[x()(F.startTime),x()(F.endTime)]:["",""],list:F.courseMappingList.map(C=>{var z,Z,W=C.planExamVos,V={},H,Q;switch(C.flag){case 1:C.contentType==="audio/mp3"||C.contentType==="audio/mpeg"||C.contentType==="audio"?(Q="mp3",H="mp3"):(Q=C.type,H=C.type==="imageText"?"h5":C.type),V={id:C.courseId,name:C.name,type:C.courseType===1?"course":"courseware",icon:l.e1[H],originalType:Q,componentName:C.courseType===1?"CourseSelector":"CoursewareSelector",status:C.courseType===1?"0":C.status,duration:C.duration,data:C,mappingId:C.mappingId};break;case 2:V={id:C.id,name:C.name,type:"ex",icon:l.e1.ex,componentName:"AddExam",duration:W.examDuration*60,data:{title:W.title,examDuration:W.examDuration,summary:W.summary,isOpenDrawQuestions:W.proportionalExamVos&&W.proportionalExamVos.length>0,proportional:W.proportionalExamVos&&(W.proportionalExamVos.length>0?i(W.proportionalExamVos,W.bankQuesitonVoList):W.questionMode===2?e(W.bankQuesitonVoList):[])||[],cheatFlag:{isChecked:!!W.cheatFlag,switchNum:W.cutScreenCount===-1?null:W.cutScreenCount,faceRecognition:W.faceRecognition},reExam:{show_result:W.show_result,isChecked:W.repeatExam,userJoin:W.user_join==="true",notAllowed:{end:W.answerParsing},allowed:{reRule:W.reExamRule,record:W.scoreRule,end:W.answerParsing,reNum:W.reExamRule===2?W.reExamNumber:1,viewRule:W.viewRule}},markType:{checkedValue:W.markType===1?1:2,artificialDisabled:W.markType===1&&!D(W),fillBlank:{checked:(W.markType===2||W.markType===3)&&N(W),disabled:!N(W)},shortAnswer:{checked:(W.markType===2||W.markType===4)&&L(W),disabled:!L(W)},anonymousMarking:W.anonymous_marking==="true"},questionsMode:W.questionMode,knowledgePoints:W.showKnowledge==="show"?1:2,passLine:W.passLine,fixedQuestion:W.questionMode===1?{id:W.paperVo.id,name:W.paperVo.title,tableList:{fillBlankCount:W.paperVo.fillBlankCount,fillBlankScore:W.paperVo.fillBlankScore,multipleCount:W.paperVo.multipleCount,multipleScore:W.paperVo.multipleScore,shortAnswerCount:W.paperVo.shortAnswerCount,shortAnswerScore:W.paperVo.shortAnswerScore,singleCount:W.paperVo.singleCount,singleScore:W.paperVo.singleScore,totalCount:W.paperVo.totalCount,totalScore:W.paperVo.totalScore,trueOrFalseCount:W.paperVo.trueOrFalseCount,trueOrFalseScore:W.paperVo.trueOrFalseScore}}:{id:"",name:"",tableList:{fillBlankCount:0,fillBlankScore:0,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,singleCount:0,singleScore:0,totalCount:0,totalScore:0,trueOrFalseCount:0,trueOrFalseScore:0}},randomQuestion:W.questionMode===2?{bankQuesitonVoList:W.bankQuesitonVoList.map(te=>({id:te.id,name:te.name,data:te})),bankQuesitonInfo:{fillBlankCount:W.fillBlankCount,fillBlankScore:W.fillBlankUnitScore,fillBlankType:+W.fillBlankType||1,multipleCount:W.multipleCount,multipleScore:W.multipleUnitScore,shortAnswerCount:W.shortAnswerCount,shortAnswerScore:W.shortAnswerUnitScore,shortAnswerType:+W.shortAnswerType||1,singleCount:W.singleCount,singleScore:W.singleUnitScore,trueOrFalseCount:W.trueOrFalseCount,trueOrFalseScore:W.trueOrFalseUnitScore,multipleMissedScore:W.multipleMissedScore}}:{bankQuesitonVoList:[],bankQuesitonInfo:{fillBlankCount:0,fillBlankScore:0,fillBlankType:1,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,shortAnswerType:1,singleCount:0,singleScore:0,trueOrFalseCount:0,trueOrFalseScore:0,multipleMissedScore:0}}},mappingId:C.mappingId,isExamEdit:C.isExamEdit};break;case 3:var q=C.offline_course_vo;V={id:C.id,name:C.name,type:"xx",componentName:"OfflineTrain",icon:l.e1.xx,data:(0,w.Z)({},R(q)),mappingId:C.mappingId};break;case 4:case 5:if(C.type==="sc"||C.type==="operation"){V={id:C.id,name:C.title,type:"sc",icon:l.e1.sc,componentName:"AddPracticeTest",data:(0,a.UI)("PRIVACY_HLS_APPROVAL_MANAGE")?p(C):y(C),mappingId:C.mappingId};break}V={id:C.courseId,name:C.title||C.name,type:"investigate",icon:l.e1.questionnaire,componentName:"AddInvestigate",data:C,mappingId:C.mappingId,questionnaire:{id:C.questionnaireId,name:C.name}};break;case 6:V={id:C.evaluation.id,name:C.evaluation.title,productId:C.evaluation.product_id,modelId:C.evaluation.model_id,type:"jobEvaluation",icon:l.e1.jobEvaluation,componentName:"AddJobEvaluation",data:{title:C.evaluation.title,evaluationTools:{product_id:C.evaluation.product_id,model_id:C.evaluation.model_id}},mappingId:C.mappingId};break;case 7:V={id:C.id,name:C.tutorials.title,type:"tutor",icon:l.e1.tutor,componentName:"AddMentorCoaching",data:(0,w.Z)((0,w.Z)({},C.tutorials),{},{tutor_model:C.tutorials.tutorModel,evaluation_type:C.tutorials.evaluationType,user_id:C.tutorials.userId,user_name:C.tutorials.userName}),mappingId:C.mappingId};break;case 9:V={id:C.courseId,name:C.title,type:"investigate",icon:l.e1.questionnaire,componentName:"AddInvestigate",data:C,questionnaire:{id:C.questionnaireId,name:C.name}};break;case 13:var $=C.course_sign_vo;V={id:C.id,name:C.name,type:"attendance",componentName:"Attendance",icon:l.e1.attendance,data:(0,w.Z)({},A($)),mappingId:C.mappingId};break;case 14:V={id:(C==null||(z=C.evaluate)===null||z===void 0?void 0:z.id)||"",name:(C==null||(Z=C.evaluate)===null||Z===void 0?void 0:Z.name)||"",type:"assess",componentName:"AddAssessment",icon:l.e1.assess,data:(0,w.Z)({},P(C.evaluate)),resource_lock:C.resource_lock};break;case 15:{var j=(0,d.Qm)()._store,J=j.getState(),K=J.user,ee=(0,n.AC)({data:C.exam_plan_detail_v1,user:{id:K.id,name:K.name,creator:!0}});V={id:C.exam_plan_detail_v1.id,name:C.exam_plan_detail_v1.title,type:"ex",icon:l.e1.ex,componentName:"AddNewExam",duration:C.exam_plan_detail_v1.exam_duration*60,data:ee,mappingId:C.mappingId,isExamEdit:C.isExamEdit}}default:break}return V.data&&(V.data.unlockingTime=C.unlockingTime?x()(C.unlockingTime):""),V.resource_lock=C.resource_lock,V})}));return k};function p(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"resources";return M.supervisor={lead:"",multilevel:[],or:[],type:"or"},M.mark={isFull:M.scoreSetting.score_switch==="on",value:M.scoreSetting.score_switch==="on"?M.scoreSetting.score:100},M.attachment=M[D],M}function y(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"resources",N=[],L=[];return M.workflowJson.type==="or"?M.workflowJson.nodeList[0].forEach(k=>{N.push({type:2,id:k.id,name:k.name,show:!0,unionid:k.unionid,user_id:k.sync_user_id,source_type:k.source_type||k.sourceType})}):M.workflowJson.type==="multilevel"&&M.workflowJson.nodeList.forEach(k=>{k.forEach(F=>{F.user_id=F.sync_user_id}),L.push(k)}),M.supervisor={or:N,multilevel:L,lead:"",type:M.workflowJson.type},M.mark={isFull:M.scoreSetting.score_switch==="on",value:M.scoreSetting.score_switch==="on"?M.scoreSetting.score:100},M.attachment=M[D],M}var g=(M,D)=>{var N=M.map((L,k)=>({id:L.id?L.id:"",content:L.desc,stage_name:L.name,is_order:D==="free_mode"?!1:L.inOrder,sort:k+1,progress:L.Standard.progressCheck?L.Standard.progress:"",exam_times:L.Standard.examCheck?L.Standard.examNum:"",practice_times:L.Standard.bankCheck?L.Standard.bankNum:"",operation_times:L.Standard.practiceCheck?L.Standard.practiceNum:"",finish_evaluation:L.Standard.jobEvaluationCheck?"true":"false",is_get_score:L.reward.getScoreChecked?L.reward.getScore:"",certificate_id:L.reward.certificateChecked?L.reward.certificateId:"",resources:L.list.map((F,I)=>{var C=F.data;switch(F.componentName){case"CoursewareSelector":return{course_id:F.id,replaced_old_id:F.replaced_old_id===F.id?"":F.replaced_old_id,sort:I,type:3,lab_resource_id:F.lab_resource_id,lab_resource_name:F.lab_resource_name,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"ClNewUpload":case"CourseSelector":return{course_id:F.id,replaced_old_id:F.replaced_old_id||"",sort:I,type:1,lab_resource_id:F.lab_resource_id,lab_resource_name:F.lab_resource_name,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"LiveClass":return{course_id:F.id,replaced_old_id:F.replaced_old_id||"",sort:I,type:16,lab_resource_id:F.lab_resource_id,lab_resource_name:F.lab_resource_name,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddExam":return{type:6,sort:I,course_id:F.id,exam:{title:C.title,cheat_flag:C.cheatFlag.isChecked?1:0,exam_duration:C.examDuration,face_recognition:C.cheatFlag.faceRecognition,summary:C.summary,mark_type:t(C.markType),paper_id:C.questionsMode===1?C.fixedQuestion.id:"",pass_line:C.passLine,question_banks:C.questionsMode===1?[]:C.randomQuestion.bankQuesitonVoList.map(J=>J.id),question_mode:C.questionsMode,show_knowledge:C.knowledgePoints===1?"show":"hide",repeat_exam:C.reExam.isChecked,multiple_count:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.multipleCount,multiple_unit_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.multipleScore,fill_blank_count:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.fillBlankCount,fill_blank_unit_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.fillBlankScore,fill_blank_type:C.questionsMode===1?1:C.randomQuestion.bankQuesitonInfo.fillBlankType,short_answer_count:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.shortAnswerCount,short_answer_unit_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.shortAnswerScore,short_answer_type:C.questionsMode===1?1:C.randomQuestion.bankQuesitonInfo.shortAnswerType,single_count:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.singleCount,single_unit_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.singleScore,true_or_false_count:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.trueOrFalseCount,true_or_false_unit_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.trueOrFalseScore,multiple_missed_score:C.questionsMode===1?"":C.randomQuestion.bankQuesitonInfo.multipleMissedScore,total_score:C.questionsMode===1?C.fixedQuestion.tableList.totalScore:"",answer_parsing:C.reExam.isChecked?C.reExam.allowed.end:C.reExam.notAllowed.end,passing_score:C.questionsMode===1?Number(C.fixedQuestion.tableList.totalScore*C.passLine/100).toFixed(1):60,cut_screen_count:C.cheatFlag.switchNum!==null?C.cheatFlag.switchNum:-1,re_exam_rule:C.reExam.allowed.reRule,re_exam_number:C.reExam.allowed.reRule===2?C.reExam.allowed.reNum:0,score_rule:C.reExam.allowed.record,view_rule:C.reExam.allowed.viewRule,proportional:C.questionsMode===2&&C.isOpenDrawQuestions?C.proportional:[],anonymous_marking:"".concat(C.markType.anonymousMarking),show_result:C.reExam.show_result},resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddNewExam":var z=F.data,Z=z.paperInfo,W=z.exam_times,V=z.cut_screen_times,H=z.random_order,Q=z.mark_setting,q=z.result_visible,$=z.face_recognition,j=(0,T.Z)(z,["paperInfo","exam_times","cut_screen_times","random_order","mark_setting","result_visible","face_recognition"]);return{type:15,sort:I,course_id:F.id,new_exam:(0,w.Z)((0,w.Z)((0,w.Z)({},j),(0,n.jJ)($)),{},{paper_id:Z.id,answer_rule:W.answer_rule,exam_count:W.exam_count||1,cut_screen_rule:V.cut_screen_rule,cut_screen_count:V.cut_screen_count||1,cut_screen_interval:V.cut_screen_interval||0,random_question:H.random_question,random_options:H.random_options,mark_type:Q.mark_type,mark_question_type:{fill_blank:Q.mark_type===n.lt.MANUAL?Q.fill_blank:!1,short_answer:Q.mark_type===n.lt.MANUAL?Q.short_answer:!1},anonymous_marking:Q.anonymous_marking,exam_certificate_id:"",supervisor_list:[],marker_list:[...Q.marker_list.map(J=>typeof J=="string"?J:J.id)],result_view_rule:q.result_view_rule,answer_parsing:q.answer_parsing,ranking_list_view_rule:q.ranking_list_view_rule,show_result:q.show_result,reward_rule:null,authority_range:null,supervisor_mark:null}),resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"OfflineTrain":return{sort:I,type:7,course_id:F.id,offline_course:{id:C.id,title:C.title,begin_time:x()(C.dateRange.startTime).valueOf(),end_time:x()(C.dateRange.endTime).valueOf(),attachment:C.attachment.map(J=>J.id),course_duration:C.course_duration||"",lecturer_id:C.teacher.id,is_lecturer_confirm:!!C.teacher.is_lecturer_confirm,is_lecturer_subsidy:!!C.teacher.is_lecturer_subsidy,address:C.address,introduction:C.introduction,is_open_offline_assessment:C.assess.is_open_offline_assessment,is_open_upload:C.other.is_open_upload,is_open_schedule:!1,remind_type:C.remind.remind_type,advance_minute:C.remind.advance_minute?Number(C.remind.advance_minute):0,is_lecturer_remind:C.remind.is_lecturer_remind,is_student_remind:C.remind.is_student_remind,is_director_remind:C.remind.is_director_remind,is_lecturer_student_evaluate:C.evaluate.is_lecturer_student_evaluate,is_student_lecturer_evaluate:C.evaluate.is_student_lecturer_evaluate,is_student_course_evaluate:C.evaluate.is_student_course_evaluate,lecturer_student_evaluate_content:C.evaluate.lecturer_student_evaluate_content,student_lecturer_evaluate_content:C.evaluate.student_lecturer_evaluate_content,student_course_evaluate_content:C.evaluate.student_course_evaluate_content,assessment_total_score:C.assess.assessment_total_score,assessment_pass_score:C.assess.assessment_pass_score},resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddInvestigate":return{sort:I,type:9,course_id:F.id||"",questionnaire_id:F.questionnaire.id,resource_lock:F.resource_lock||!1,title:F.name,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddPracticeTest":return{type:10,courseSort:I,sort:I,flag:4,course_id:F.id,title:F.data.title,content:F.data.content||F.data.address,resources:F.data.attachment.map(J=>({resourceId:J.id})),scoreSetting:{scoreSwitch:F.data.mark.isFull?"on":"off",score:F.data.mark.value},workflowJson:f(F.data.supervisor),job_type:F.data.job_type,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddJobEvaluation":return{sort:I,flag:6,type:11,evaluation:{id:F.id||"",title:F.data.title,product_id:F.data.evaluationTools.product_id,model_id:F.data.evaluationTools.model_id},resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"Attendance":return{sort:I,type:13,course_id:F.id,sign:{id:C.id,type:13,title:C.title,directors:C.directors.map(J=>typeof J=="object"&&(J.id||J.user_id)?J.id||J.user_id:J),name:C.name||"--",qrcode_type:C.qrcode_type,sign_in_begin_time:C.sign_in_begin_time,sign_in_end_time:C.sign_in_end_time,sign_out_begin_time:C.sign_out_begin_time,sign_out_end_time:C.sign_out_end_time,relate_course:C.relate_course,relate_course_list:C.relate_course_list,remind_directors:C.remind_directors,advance_minute:C.advance_minute,qy_we_chat_vo:C.qy_we_chat_vo,address:C.address,longitude:C.longitude,latitude:C.latitude,address_detail:C.address_detail,sign_range:C.sign_range},resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf()};case"AddAssessment":return{sort:I,type:14,course_id:F.id,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf(),evaluateVo:{id:C.id,name:C.name,requirement:C.requirement,resource_id:C.resource_id,is_lock:C.is_lock,begin_time_unlock:C.begin_time_unlock,end_time_unlock:C.end_time_unlock,is_self_evaluate:C.is_self_evaluate,questionnaire_id:C.questionnaire_id,evaluate_form_title:C.evaluate_form_title,before_start_day:C.before_start_day,before_start_repeat:C.before_start_repeat,before_start_un_remind:C.before_start_un_remind,before_end_day:C.before_end_day,before_end_repeat:C.before_end_repeat,before_end_un_remind:C.before_end_un_remind,after_end_day:C.after_end_day,after_end_repeat:C.after_end_repeat,after_end_un_remind:C.after_end_un_remind,is_passed_standards:C.is_passed_standards,is_passed_option_three:C.is_passed_option_three,pass_standard_conditions:C.pass_standard_conditions,pass_standards_number:C.pass_standards_number,creator_user:C.creator_user}};case"AddPracticeBank":return{sort:I,type:17,course_id:F.id,resource_name:F.title,resource_lock:F.resource_lock||!1,unlocking_time:D==="unlock_mode"?null:x()(F.unlocking_time).valueOf(),practice:{title:F.data.title,question_bank_list:F.data.randomQuestion.bankQuesitonVoList.map(J=>J.id),pass_line:Number(F.data.stand)}};default:return null}})}));return N},m=function(D,N){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;function k(I){return I.fill_blank_count>0||I.short_answer_count>0}var F=D.map((I,C)=>{var z=I.resources.filter(V=>V.type==6||V.type==15).length,Z=I.resources.filter(V=>V.type==17).length,W=I.resources.filter(V=>V.type==10).length;return{id:I.id,key:"".concat(new Date().getTime()).concat(C),desc:I.content,name:I.stage_name,inOrder:I.is_order,Standard:{progressCheck:I.progress>0,progress:I.progress||100,examCheck:I.exam_times>0,examNum:I.exam_times||z,bankCheck:I.practice_times>0,bankNum:I.practice_times||Z,practiceCheck:I.operation_times>0,practiceNum:I.operation_times||W,jobEvaluationCheck:I.finish_evaluation==="true"},reward:{getScore:I.is_get_score?I.is_get_score:"",getScoreChecked:I.is_get_score>0,certificateId:I.certificate_id||"",certificateChecked:I.certificate_id!==0,certificateName:I.certificate_name,certificateImage:I.preview_url},hourClassId:I.id,hourClassStartTime:I.start_time,hourClassEndTime:I.end_time,list:I.resources.map(V=>{var H=V.exam;switch(V.type){case 1:return{id:V.course_id,name:V.resource_name,type:L&&V.biz_type==="imageText"?"twCourse":"course",icon:V.biz_type==="imageText"?l.e1.h5:l.e1.crs,componentName:"CourseSelector",duration:V.duration,data:V,unlocking_time:V.unlocking_time,lab_resource_id:V.lab_resource_id,lab_resource_name:V.lab_resource_name,lab_selected_id:V.lab_resource_id,resource_lock:V.resource_lock};case 3:{var Q;return V.content_type==="article"||V.content_type==="link"?Q=l.e1.h5:Q=l.e1[V.contentType]||l.e1[V.content_type],{id:V.course_id,name:V.resource_name,type:"courseware",icon:Q,componentName:"CoursewareSelector",duration:V.duration,status:V.resource_status,originalType:V.content_type==="article"||V.content_type==="link"?"h5":V.content_type||V.contentType,data:V,unlocking_time:V.unlocking_time,lab_resource_id:V.lab_resource_id,lab_resource_name:V.lab_resource_name,lab_selected_id:V.lab_resource_id,resource_lock:V.resource_lock}}case 6:return{id:V.course_id,name:H.title,type:"ex",icon:l.e1.ex,componentName:"AddExam",duration:H.exam_duration*60,data:{id:H.id,title:H.title,examDuration:H.exam_duration,summary:H.summary,isOpenDrawQuestions:H.proportionalExamVos&&H.proportionalExamVos.length>0,proportional:H.proportionalExamVos&&(H.proportionalExamVos.length>0?i(H.proportionalExamVos,H.question_bank_vos):H.question_mode===2?e(H.question_bank_vos):[])||[],cheatFlag:{isChecked:!!H.cheat_flag,switchNum:H.cut_screen_count===-1?null:H.cut_screen_count,faceRecognition:H.face_recognition},reExam:{show_result:H.show_result,isChecked:H.repeat_exam,userJoin:N?!1:H.user_join==="true",notAllowed:{end:H.answer_parsing},allowed:{reRule:H.re_exam_rule,record:H.score_rule,end:H.answer_parsing,reNum:H.re_exam_rule===2?H.re_exam_number:1,viewRule:H.view_rule}},markType:{checkedValue:H.mark_type===1?1:2,artificialDisabled:H.mark_type===1&&!k(H),fillBlank:{checked:(H.mark_type===2||H.mark_type===3)&&H.fill_blank_count,disabled:!H.fill_blank_count},shortAnswer:{checked:(H.mark_type===2||H.mark_type===4)&&H.short_answer_count,disabled:!H.short_answer_count},anonymousMarking:H.anonymous_marking==="true"},questionsMode:H.question_mode,knowledgePoints:H.show_knowledge==="show"?1:2,passLine:H.pass_line,fixedQuestion:H.question_mode===1?{id:H.paper_id,name:H.paper_name,tableList:{fillBlankCount:H.fill_blank_count,fillBlankScore:H.fill_blank_unit_score,multipleCount:H.multiple_count,multipleScore:H.multiple_unit_score,shortAnswerCount:H.short_answer_count,shortAnswerScore:H.short_answer_unit_score,singleCount:H.single_count,singleScore:H.single_unit_score,totalCount:H.total_count,totalScore:H.total_score,trueOrFalseCount:H.true_or_false_count,trueOrFalseScore:H.true_or_false_unit_score}}:{id:"",name:"",tableList:{fillBlankCount:0,fillBlankScore:0,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,singleCount:0,singleScore:0,totalCount:0,totalScore:0,trueOrFalseCount:0,trueOrFalseScore:0}},randomQuestion:H.question_mode===2?{bankQuesitonVoList:H.question_bank_vos.map(ee=>{var te=ee.fill_blank_count,ne=ee.multiple_count,ie=ee.short_answer_count,oe=ee.single_count,re=ee.total_count,ae=ee.true_or_false_count,ue={fillBlankCount:te,shortAnswerCount:ie,multipleCount:ne,singleCount:oe,totalCount:re,trueOrFalseCount:ae};return{id:ee.id,name:ee.name,data:Object.assign(ee,ue),fillBlankCount:te,shortAnswerCount:ie,multipleCount:ne,singleCount:oe,totalCount:re,trueOrFalseCount:ae}}),bankQuesitonInfo:{fillBlankCount:H.fill_blank_count,fillBlankScore:H.fill_blank_unit_score,fillBlankType:+H.fillBlankType,multipleCount:H.multiple_count,multipleScore:H.multiple_unit_score,shortAnswerCount:H.short_answer_count,shortAnswerScore:H.short_answer_unit_score,shortAnswerType:+H.shortAnswerType,singleCount:H.single_count,singleScore:H.single_unit_score,trueOrFalseCount:H.true_or_false_count,trueOrFalseScore:H.true_or_false_unit_score,multipleMissedScore:H.multiple_missed_score}}:{bankQuesitonVoList:[],bankQuesitonInfo:{fillBlankCount:0,fillBlankScore:0,fillBlankType:1,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,shortAnswerType:1,singleCount:0,singleScore:0,trueOrFalseCount:0,trueOrFalseScore:0,multipleMissedScore:0}}},unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 7:return{id:N?"":V.offlineCourseEditVo.id,name:V.offlineCourseEditVo.title,key:V.offlineCourseEditVo.id,type:"xx",componentName:"OfflineTrain",icon:l.e1.xx,data:(0,w.Z)({},R(V.offlineCourseEditVo,N)),unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 9:return{id:V.course_id,name:V.title||V.resource_name,type:"investigate",icon:l.e1.questionnaire,componentName:"AddInvestigate",data:V,questionnaire:{id:V.questionnaire_id,name:V.resource_name},unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 10:return{id:V.course_id,name:V.title,type:"sc",icon:l.e1.sc,componentName:"AddPracticeTest",data:y(V,"operationResources"),unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 11:return{id:V.evaluation.id,name:V.evaluation.title,productId:V.evaluation.product_id,modelId:V.evaluation.model_id,type:"jobEvaluation",icon:l.e1.jobEvaluation,componentName:"AddJobEvaluation",data:{title:V.evaluation.title,evaluationTools:{product_id:V.evaluation.product_id,model_id:V.evaluation.model_id}},unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 13:return{id:V.course_sign_vo.id,name:V.course_sign_vo.name,type:"attendance",componentName:"Attendance",icon:l.e1.attendance,data:(0,w.Z)({},A(V.course_sign_vo,N)),unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 14:return{id:V.evaluate?V.evaluate.id:"",name:V.evaluate?V.evaluate.name:"",type:"assess",componentName:"AddAssessment",icon:l.e1.assess,data:(0,w.Z)({},P(V.evaluate)),resource_lock:V.resource_lock,unlocking_time:V.unlocking_time};case 15:{var q=(0,d.Qm)()._store,$=q.getState(),j=$.user,J=(0,n.AC)({data:V.exam_plan_detail_v1,user:{id:j.id,name:j.name,creator:!0}});return{id:V.exam_plan_detail_v1.id,name:V.exam_plan_detail_v1.title,type:"ex",icon:l.e1.ex,componentName:"AddNewExam",unlocking_time:V.unlocking_time,resource_lock:V.resource_lock,duration:V.exam_plan_detail_v1.exam_duration*60,data:J}}case 16:return{id:N?"":V.course_id,name:V.title,key:V.course_id,type:"liveClass",componentName:"LiveClass",icon:l.e1.liveClass,data:(0,w.Z)({},X(V)),unlocking_time:V.unlocking_time,resource_lock:V.resource_lock};case 17:var K=(0,n.S8)(V.practice);return{id:V.course_id,name:V.resource_name,type:"practice",componentName:"AddPracticeBank",unlocking_time:V.unlocking_time,resource_lock:V.resource_lock,data:K};default:return null}})}});return F},b=M=>{var D=M.map((N,L)=>({content:N.desc,stage_name:N.name,order:"".concat(N.inOrder),sort:L+1,course:N.list.map((k,F)=>{var I=k.data;switch(k.componentName){case"CoursewareSelector":return{course_id:k.id,course_sort:F,course_type:3,flag:1};case"CourseSelector":return{course_id:k.id,course_sort:F,course_type:1,flag:1};case"AddExam":return{flag:2,type:"ex",course_sort:F,course_id:k.id,title:I.title,cheat_flag:I.cheatFlag.isChecked?1:0,exam_duration:I.examDuration,face_recognition:I.cheatFlag.faceRecognition,summary:I.summary,mark_type:t(I.markType),paper_id:I.questionsMode===1?I.fixedQuestion.id:"",paper_title:I.questionsMode===1?I.fixedQuestion.name:"",pass_line:I.passLine,question_bank_list:I.questionsMode===1?"":I.randomQuestion.bankQuesitonVoList.map(j=>j.id).join(","),question_mode:I.questionsMode,show_knowledge:I.knowledgePoints===1?"show":"hide",s_repeat_exam:"".concat(I.reExam.isChecked),multiple_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleCount,multiple_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleScore,fill_blank_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.fillBlankCount,fill_blank_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.fillBlankScore,fill_blank_type:I.questionsMode===1?1:I.randomQuestion.bankQuesitonInfo.fillBlankType,short_answer_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.shortAnswerCount,short_answer_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.shortAnswerScore,short_answer_type:I.questionsMode===1?1:I.randomQuestion.bankQuesitonInfo.shortAnswerType,single_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.singleCount,single_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.singleScore,true_or_false_count:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.trueOrFalseCount,true_or_false_unit_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.trueOrFalseScore,multiple_missed_score:I.questionsMode===1?"":I.randomQuestion.bankQuesitonInfo.multipleMissedScore,total_score:I.questionsMode===1?I.fixedQuestion.tableList.totalScore:"",answer_parsing:I.reExam.isChecked?I.reExam.allowed.end:I.reExam.notAllowed.end,passing_score:I.questionsMode===1?Number(I.fixedQuestion.tableList.totalScore*I.passLine/100).toFixed(1):60,cut_screen_count:I.cheatFlag.switchNum!==null?I.cheatFlag.switchNum:-1,re_exam_rule:I.reExam.allowed.reRule,re_exam_number:I.reExam.allowed.reRule===2?I.reExam.allowed.reNum:0,score_rule:I.reExam.allowed.record,view_rule:I.reExam.allowed.viewRule,proportional:I.questionsMode===2&&I.isOpenDrawQuestions?I.proportional:[],anonymous_marking:"".concat(I.markType.anonymousMarking),show_result:I.reExam.show_result};case"AddNewExam":var C=k.data,z=C.paperInfo,Z=C.exam_times,W=C.cut_screen_times,V=C.random_order,H=C.mark_setting,Q=C.result_visible,q=C.face_recognition,$=(0,T.Z)(C,["paperInfo","exam_times","cut_screen_times","random_order","mark_setting","result_visible","face_recognition"]);return{course_type:15,flag:15,type:"ex",course_sort:F,course_id:k.id,new_exam:(0,w.Z)((0,w.Z)((0,w.Z)({},$),(0,n.jJ)(q)),{},{paper_id:z.id,answer_rule:Z.answer_rule,exam_count:Z.exam_count||1,cut_screen_rule:W.cut_screen_rule,cut_screen_count:W.cut_screen_count||1,cut_screen_interval:W.cut_screen_interval||0,random_question:V.random_question,random_options:V.random_options,mark_type:H.mark_type,mark_question_type:{fill_blank:H.mark_type===n.lt.MANUAL?H.fill_blank:!1,short_answer:H.mark_type===n.lt.MANUAL?H.short_answer:!1},anonymous_marking:H.anonymous_marking,exam_certificate_id:"",supervisor_list:[],marker_list:[...H.marker_list.map(j=>typeof j=="string"?j:j.id)],result_view_rule:Q.result_view_rule,answer_parsing:Q.answer_parsing,ranking_list_view_rule:Q.ranking_list_view_rule,show_result:Q.show_result,reward_rule:null,authority_range:null,supervisor_mark:null})};case"AddInvestigate":return{course_id:k.id,course_type:9,flag:9,course_sort:F,investigate:{id:k.id,title:k.name,questionnaire_id:k.questionnaire.id}};default:return null}})}));return D},O=M=>{function D(L){return L.fill_blank_count>0||L.short_answer_count>0}var N=M.map((L,k)=>({key:"".concat(new Date().getTime()).concat(k),desc:L.content,name:L.stage_name,inOrder:L.is_order,list:L.course_mapping_list.map(F=>{var I=F;switch(F.flag){case 1:return{id:F.course_id,name:F.name,type:F.course_type===1?"course":"courseware",icon:l.e1[F.type==="imageText"?"h5":F.contentType==="audio/mp3"?"mp3":F.type],originalType:F.type,componentName:F.course_type===1?"CourseSelector":"CoursewareSelector",status:F.course_type===1?"":F.status,duration:F.duration,data:F};case 2:return{id:F.course_id,name:I.title,type:"ex",icon:l.e1.ex,componentName:"AddExam",duration:I.exam_duration*60,data:{title:I.title,examDuration:I.exam_duration,summary:I.summary,isOpenDrawQuestions:I.proportionalExamVos&&I.proportionalExamVos.length>0,proportional:I.proportionalExamVos&&(I.proportionalExamVos.length>0?i(I.proportionalExamVos,I.bank_quesiton_list):I.question_mode===2?e(I.bank_quesiton_list):[])||[],cheatFlag:{isChecked:!!I.cheat_flag,switchNum:I.cut_screen_count===-1?null:I.cut_screen_count,faceRecognition:I.face_recognition},reExam:{show_result:I.show_result,isChecked:I.s_repeat_exam==="true",notAllowed:{end:I.answer_parsing},allowed:{reRule:I.re_exam_rule,record:I.score_rule,end:I.answer_parsing,reNum:I.re_exam_rule===2?I.re_exam_number:1,viewRule:I.view_rule}},markType:{checkedValue:I.mark_type===1?1:2,artificialDisabled:I.mark_type===1&&!D(I),fillBlank:{checked:(I.mark_type===2||I.mark_type===3)&&I.fill_blank_count,disabled:!I.fill_blank_count},shortAnswer:{checked:(I.mark_type===2||I.mark_type===4)&&I.short_answer_count,disabled:!I.short_answer_count},anonymousMarking:I.anonymous_marking==="true"},questionsMode:I.question_mode,knowledgePoints:I.show_knowledge==="show"?1:2,passLine:I.pass_line,fixedQuestion:I.question_mode===1?{id:I.paper_id,name:I.paper_title,tableList:{fillBlankCount:I.fill_blank_count,fillBlankScore:I.fill_blank_unit_score,multipleCount:I.multiple_count,multipleScore:I.multiple_unit_score,shortAnswerCount:I.short_answer_count,shortAnswerScore:I.short_answer_unit_score,singleCount:I.single_count,singleScore:I.single_unit_score,totalCount:I.paper_question_numbers,totalScore:I.total_score,trueOrFalseCount:I.true_or_false_count,trueOrFalseScore:I.true_or_false_unit_score}}:{id:"",name:"",tableList:{fillBlankCount:0,fillBlankScore:0,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,singleCount:0,singleScore:0,totalCount:0,totalScore:0,trueOrFalseCount:0,trueOrFalseScore:0}},randomQuestion:I.question_mode===2?{bankQuesitonVoList:I.bank_quesiton_list.map(V=>{var H=V.fill_blank_count,Q=V.multiple_count,q=V.short_answer_count,$=V.single_count,j=V.total_count,J=V.true_or_false_count,K={fillBlankCount:H,shortAnswerCount:q,multipleCount:Q,singleCount:$,totalCount:j,trueOrFalseCount:J};return{id:V.id,name:V.name,data:Object.assign(V,K),fillBlankCount:H,shortAnswerCount:q,multipleCount:Q,singleCount:$,totalCount:j,trueOrFalseCount:J}}),bankQuesitonInfo:{fillBlankCount:I.fill_blank_count,fillBlankScore:I.fill_blank_unit_score,fillBlankType:+I.fill_blank_type||1,multipleCount:I.multiple_count,multipleScore:I.multiple_unit_score,shortAnswerCount:I.short_answer_count,shortAnswerScore:I.short_answer_unit_score,shortAnswerType:+I.short_answer_type||1,singleCount:I.single_count,singleScore:I.single_unit_score,trueOrFalseCount:I.true_or_false_count,trueOrFalseScore:I.true_or_false_unit_score,multipleMissedScore:I.multiple_missed_score}}:{bankQuesitonVoList:[],bankQuesitonInfo:{fillBlankCount:0,fillBlankScore:0,multipleCount:0,multipleScore:0,shortAnswerCount:0,shortAnswerScore:0,singleCount:0,singleScore:0,trueOrFalseCount:0,trueOrFalseScore:0,multipleMissedScore:0}}}};case 9:return{id:F.course_id,name:F.title,type:"investigate",icon:l.e1.questionnaire,componentName:"AddInvestigate",data:F,questionnaire:{id:F.questionnaire_id,name:F.name}};case 15:{var C=(0,d.Qm)()._store,z=C.getState(),Z=z.user,W=(0,n.AC)({data:F.exam_plan_detail_v1,user:{id:Z.id,name:Z.name,creator:!0}});return{id:F.exam_plan_detail_v1.id,name:F.exam_plan_detail_v1.title,type:"ex",icon:l.e1.ex,componentName:"AddNewExam",duration:F.exam_plan_detail_v1.exam_duration*60,data:W}}default:return null}})}));return N},S=function(D){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return D.map((L,k)=>{var F=N.find(I=>I.stage_index-1===k);return L.list.map((I,C)=>{var z;F&&(z=F.resource_error_vos.find(W=>W.resource_index===C));var Z=I.type;if(I.resource_type)switch(I.resource_type){case 1:Z="course";break;case 2:case 3:Z="courseware";break;case 6:case 15:Z="ex";break;case 7:Z="xx";break;case 9:Z="questionnaire";break;case 13:Z="attendance";break;case 14:Z="assess";break;default:break}if(I.componentName)switch(I.componentName){case"CourseSelector":Z="course";break;case"CoursewareSelector":Z="courseware";break;case"AddNewExam":case"AddExam":Z="ex";break;case"OfflineTrain":Z="xx";break;case"Attendance":Z="attendance";break;case"QuestionnaireSelector":case"AddInvestigate":Z="questionnaire";break;case"AddPracticeTest":Z="practicalIndustry";break;case"AddAssessment":Z="assess";break;default:break}switch(Z){case"course":I.resourceErrTip=z?z.resource_status==="deleted"?"\u5F15\u7528\u7684\u8BFE\u7A0B\u88AB\u5220\u9664":z.resource_status==="un_released"?"\u5F15\u7528\u7684\u8BFE\u7A0B\u300A".concat(z.resource_name,"\u300B\u672A\u53D1\u5E03\uFF0C\u8BF7\u542F\u7528\u540E\u518D\u7F16\u8F91"):"":"";break;case"courseware":I.resourceErrTip=z&&z.resource_status==="deleted"?"\u5F15\u7528\u7684\u8BFE\u4EF6\u88AB\u5220\u9664":"";break;case"ex":I.resourceErrTip=z?z.resource_status==="bank_deleted"?"\u5F15\u7528\u7684\u9898\u5E93\u88AB\u5220\u9664":z.resource_status==="paper_deleted"?"\u5F15\u7528\u7684\u8BD5\u5377\u88AB\u5220\u9664":z.resource_status==="bank_missing"?"\u5F15\u7528\u7684\u9898\u5E93\u8BD5\u9898\u4E0D\u8DB3":"":"";break;case"xx":I.resourceErrTip=z&&z.resource_status==="time_expired"?"\u7EBF\u4E0B\u8BFE\u5DF2\u8FC7\u671F":"";break;case"questionnaire":I.resourceErrTip=z?z.resource_status==="deleted"?"\u5F15\u7528\u7684\u95EE\u5377\u88AB\u5220\u9664":z.resource_status==="un_released"?"\u5F15\u7528\u7684\u95EE\u5377\u672A\u53D1\u5E03":"":"";break;case"practicalIndustry":I.resourceErrTip=z&&z.resource_status==="operation_resource_deleted"?E.Z.t("component.practicalDeleteTip"):"";break;default:break}return null}),null}),D},R=(M,D)=>({id:D?"":M.id,title:M.title,edit_status:M.edit_status,status:M.status,department_id:M.department_id||"",dateRange:{startTime:M.begin_time,endTime:M.end_time},address:M.address,course_duration:M.course_duration,has_lecturer_student_data:D?!1:M.has_lecturer_student_data,has_student_lecturer_data:D?!1:M.has_student_lecturer_data,has_student_course_data:D?!1:M.has_student_course_data,has_lecturer_assess_student_data:D?!1:M.has_lecturer_assess_student_data,teacher:{id:M.lecturer_id,name:M.lecturer_name,is_lecturer_confirm:M.is_lecturer_confirm,is_lecturer_subsidy:M.is_lecturer_subsidy,teacher_sync_user_id:M.teacher_sync_user_id,lecturer_name:M.lecturer_name,teacher_sync_source_type:M.teacher_sync_source_type,type:M.teacher_sync_type,teacher_sync_type:M.teacher_sync_type},introduction:M.introduction,attachment:M.attachment||[],other:{is_open_schedule:M.is_open_schedule,is_open_upload:M.is_open_upload},remind:{remind_type:M.remind_type||"offline_course",advance_minute:M.advance_minute,is_lecturer_remind:M.is_lecturer_remind,is_student_remind:M.is_student_remind,is_director_remind:M.is_director_remind},evaluate:{is_lecturer_student_evaluate:M.is_lecturer_student_evaluate,is_student_lecturer_evaluate:M.is_student_lecturer_evaluate,is_student_course_evaluate:M.is_student_course_evaluate,lecturer_student_evaluate_content:M.lecturer_student_evaluate_content?(0,w.Z)((0,w.Z)({},M.lecturer_student_evaluate_content),{},{passing_score:Number(M.lecturer_student_evaluate_content.passing_score),total_score:Number(M.lecturer_student_evaluate_content.total_score)}):{evaluate_type:"score",questionnaire_id:"",questionnaire_name:"",total_score:"",passing_score:""},student_lecturer_evaluate_content:M.student_lecturer_evaluate_content||{evaluate_type:"star",questionnaire_id:"",questionnaire_name:"",total_score:"",passing_score:""},student_course_evaluate_content:M.student_course_evaluate_content||{evaluate_type:"star",questionnaire_id:"",questionnaire_name:"",total_score:"",passing_score:""}},assess:{is_open_offline_assessment:M.is_open_offline_assessment,assessment_total_score:M.assessment_total_score,assessment_pass_score:M.assessment_pass_score},user_has_attendanted:D?!1:M.user_has_attendanted}),A=(M,D)=>{var N=[];return D?M.attendance_course_vo.forEach(L=>{N.push((0,w.Z)((0,w.Z)({},L),{},{course_id:"",course_key:L.course_id}))}):N=M.attendance_course_vo,{courseId:M.courseId,directors:M.director?M.director.map(L=>L):M.directors,id:D?"":M.id,name:M.name,qrcode_type:M.qrcode_type,relate_course_list:N,sign_in_begin_time:M.sign_in_begin_time?(0,h.p6)(M.sign_in_begin_time,"yyyy-MM-dd hh:mm:ss"):"",sign_in_end_time:M.sign_in_end_time?(0,h.p6)(M.sign_in_end_time,"yyyy-MM-dd hh:mm:ss"):"",sign_out_begin_time:M.sign_out_begin_time?(0,h.p6)(M.sign_out_begin_time,"yyyy-MM-dd hh:mm:ss"):"",sign_out_end_time:M.sign_out_end_time?(0,h.p6)(M.sign_out_end_time,"yyyy-MM-dd hh:mm:ss"):"",source_type:M.source_type,remind_directors:M.remind_directors,advance_minute:M.advance_minute,user_has_attendanted:D?!1:M.user_has_attendanted,relate_course:M.relate_course,address:M.address,longitude:M.longitude,latitude:M.latitude,address_detail:M.address_detail,sign_range:M.sign_range}};function G(M){return Object.prototype.toString.call(M)==="[object Object]"}function U(M){return M.replace(/[A-Z]/g,D=>"_".concat(D.toLowerCase()))}function B(M){if(!G(M))return M;for(var D={},N=Object.keys(M),L=0,k=N;L<k.length;L++){var F=k[L],I=M[F];F=U(F),D[F]=G(I)?B(I):I}return D}var P=M=>{var D=B(M),N=D.id,L=D.name,k=D.requirement,F=D.resource_id,I=D.is_self_evaluate,C=D.is_lock,z=D.begin_time_unlock,Z=D.end_time_unlock,W=D.questionnaire_id,V=D.evaluate_form_title,H=D.before_start_day,Q=D.before_start_repeat,q=D.before_start_un_remind,$=D.before_end_day,j=D.before_end_repeat,J=D.before_end_un_remind,K=D.after_end_day,ee=D.after_end_repeat,te=D.after_end_un_remind,ne=D.is_passed_standards,ie=D.is_passed_option_three,oe=D.pass_standard_conditions,re=D.pass_standards_number,ae=D.creator_user;return{id:N,name:L,requirement:k,resource_id:F,is_lock:C,begin_time_unlock:z,end_time_unlock:Z,is_self_evaluate:I,questionnaire_id:W,evaluate_form_title:V,before_start_day:H,before_start_repeat:Q,before_start_un_remind:q,before_end_day:$,before_end_repeat:j,before_end_un_remind:J,after_end_day:K,after_end_repeat:ee,after_end_un_remind:te,is_passed_standards:ne,is_passed_option_three:ie,pass_standard_conditions:oe,pass_standards_number:re,creator_user:ae}},X=M=>({courseId:M.course_id,duration:M.duration,teacherName:M.live_lesson.teacher_name,startTime:M.live_lesson.live_start_time,endTime:M.live_lesson.live_end_time})},4408:function(Y,_,v){"use strict";var T=v(12924),w=v.n(T),o=v(28216),x=v(17780),E=v(38642),d=h=>({userInfo:h.user}),a=h=>{var l=h.title;return(0,x.xX)()&&setTimeout(()=>{document.title=l},0),(0,T.useEffect)(()=>{if(l&&document.title!==l&&setTimeout(()=>{document.title=l},0),(0,E.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[l]),w().createElement(w().Fragment,null)};a.defautProps={title:""},_.Z=(0,o.$j)(d)(a)},40646:function(Y,_,v){"use strict";v.d(_,{l:function(){return s},t:function(){return p}});var T=v(62029),w=v(12924),o=v.n(w),x=v(22385),E=v(31097),d=v(63185),a=v(9676),h=v(28216),l=v(17780),n=v(13875),e=v.n(n),i=(y,g)=>{var m=(0,h.v9)(B=>{var P=B.advancedSetting;return{themeColor:P.themeColor}}),b=m.themeColor,O=y.options,S=y.onChange,R=y.values,A=R===void 0?[]:R,G=y.labelClassName,U=A.slice();return o().createElement("div",{className:e()["cl-checkbox-group"],ref:g},O.map(B=>{var P=U.includes(B.value);return B.disabled&&B.disabledTip?o().createElement(E.Z,{title:B.disabledTip,overlayClassName:e()["tooltip-overlay"]},o().createElement("span",{key:"".concat(B.value).concat(P),className:e()["check-box-content"]},o().createElement(a.Z,{id:"".concat(B.value),key:"".concat(B.value).concat(P),value:B.value,checked:U.includes(B.value),disabled:B.disabled,onChange:S,className:"".concat(e().checkbox_button," ").concat(G)},o().createElement("span",{style:{color:"".concat(P?(B.disabled,b):"")},className:e()["check-title"]},B.label)))):B.toolTip?o().createElement(E.Z,{title:B.toolTip,overlayClassName:e()["tooltip-overlay"]},o().createElement("span",{key:"".concat(B.value).concat(P),className:e()["check-box-content"]},o().createElement(a.Z,{id:"".concat(B.value),key:"".concat(B.value).concat(P),value:B.value,checked:U.includes(B.value),disabled:B.disabled,onChange:S,className:"".concat(e().checkbox_button," ").concat(G)},o().createElement("span",{style:{color:"".concat(P?(B.disabled,b):"")},className:e()["check-title"]},B.label)))):o().createElement("span",{key:"".concat(B.value).concat(P),className:(0,l.xX)()?e()["check-box-micro-content"]:e()["check-box-content"]},o().createElement(a.Z,{id:"".concat(B.value),value:B.value,checked:U.includes(B.value),disabled:B.disabled,onChange:S,className:"".concat(e()["checkbox-button-box"]," ").concat(G)},o().createElement("span",{style:{color:"".concat(P?(B.disabled,b):"")},className:e()["check-title"]},B.label)))}))};i.defaultProps={options:[],values:[],labelClassName:"",disabled:!1,disabledTip:""};var t=(0,w.forwardRef)(i);function r(y,g){var m=b=>{var O=b.target,S=O.checked,R=O.value;y.onChange&&y.onChange({checked:S,value:R})};return o().createElement(t,(0,T.Z)({},y,{onChange:m,ref:g}))}r.defaultValue={value:[]};var s=(0,w.forwardRef)(r),c=v(33565),f=v(81211);function u(y){var g=y.defaultValue,m=y.onChange,b=(0,f.Z)(y,["defaultValue","onChange"]),O=(0,w.useState)(g),S=(0,c.Z)(O,2),R=S[0],A=S[1];(0,w.useEffect)(()=>{m&&m(R)},[R]);var G=U=>{var B=U.target,P=B.checked,X=B.value;P&&A(M=>[...M,X]),P||A(M=>M.filter(D=>D!==X))};return o().createElement(t,(0,T.Z)({},b,{values:R,onChange:G}))}u.defaultValue={defaultValue:[]};var p=u},64461:function(Y,_,v){"use strict";v.d(_,{mJ:function(){return T},wT:function(){return w},e9:function(){return o},iY:function(){return x},lt:function(){return E},Zt:function(){return a},bL:function(){return h},iN:function(){return l},bY:function(){return n},Qn:function(){return e},Tv:function(){return i},gm:function(){return t},FD:function(){return r},OU:function(){return s},$u:function(){return c},ub:function(){return f},Dq:function(){return u},Uc:function(){return p},aM:function(){return y},aS:function(){return g},z$:function(){return m}});var T={labelAlign:"right",labelCol:{span:3},wrapperCol:{span:21}},w={labelAlign:"right",labelCol:{span:3},wrapperCol:{span:21}},o={CUSTOM:"custom",UNLIMITED:"unlimited",AFTER_PASSED:"stopWhenPassed"},x={NEWEST:"latest",HIGHEST:"highest"},E={SYSTEM:"system",MANUAL:"manual"},d={SCORE:"score ",MANUAL:"manual"},a={AFTER_COMMIT:"afterCommit",AFTER_EXAM_PASSED:"afterExamPassed",AFTER_EXAM_END:"afterExamEnd",DISABLE_VIEWING:"disableViewing"},h={JUST_RIGHT_WRONG:"justRightWrong",ANSWER_ANALYSIS:"answerAnalysis",ANSWER_ERROR:"onlyError"},l={NO_CREDIT:"noCredit",STATUS:"score",SUBSECTION:"subsection"},n={PASS:"passed",ABSENCE:"absence",FAIL:"failed"},e={UNLIMITED:"unlimited",DISABLE:"disable",CUSTOM:"custom"},i={UNLIMITED:"unlimited",PC:"pc",MOBILE:"mobile"},t=99,r=1,s=100,c=10,f=300,u=0,p=99,y=1,g=999,m=0},75205:function(Y,_,v){"use strict";v.d(_,{mJ:function(){return w.mJ},wT:function(){return w.wT},e9:function(){return w.e9},iY:function(){return w.iY},lt:function(){return w.lt},Zt:function(){return w.Zt},Qn:function(){return w.Qn},FX:function(){return T.FX},iN:function(){return w.iN},bL:function(){return w.bL},bY:function(){return w.bY},AC:function(){return T.AC},S8:function(){return T.S8},jJ:function(){return T.jJ},DU:function(){return T.DU},F_:function(){return T.F_},Ck:function(){return T.Ck},gm:function(){return w.gm},FD:function(){return w.FD},OU:function(){return w.OU},$u:function(){return w.$u},ub:function(){return w.ub},Dq:function(){return w.Dq},Uc:function(){return w.Uc},aM:function(){return w.aM},aS:function(){return w.aS},z$:function(){return w.z$},Tv:function(){return w.Tv},Ks:function(){return T.Ks}});var T=v(85026),w=v(64461)},85026:function(Y,_,v){"use strict";v.d(_,{DU:function(){return a},bP:function(){return h},AC:function(){return l},S8:function(){return n},jJ:function(){return e},FX:function(){return t},F_:function(){return r},Ck:function(){return s},Ks:function(){return c}});var T=v(88986),w=v(81211),o=v(76651),x=v(64461),E=v(38642),d=v(22444),a={ADD_EXAM_TASK:"addExamTask",ADD_RELATION_EXAM_TASK:"addRelationExamTask"},h=(0,E.UI)("EXAM_BANK_CONFIG");function l(f){var u=f.data,p=f.user,y=f.type,g=y===void 0?a.ADD_EXAM_TASK:y,m={has_published:!1,paperInfo:{id:"",name:"",total_score:0,fill_blank_count:0,short_answer_count:0},exam_paper_info:{paper_name:"",pass_score:0,total_score:0,type:""},title:"",exam_duration:0,pass_line:60,description:"",classify_id:"",exam_times:{answer_rule:x.e9.UNLIMITED,exam_count:1},score_record_type:x.iY.NEWEST,always_extract_paper:!0,cut_screen_times:{cut_screen_rule:x.Qn.UNLIMITED,cut_screen_count:1,cut_screen_interval:0},random_order:{random_question:!1,random_options:!1},show_tag:!1,face_recognition:{before_exam:!1,in_exam:{checked:!1,type:d.tT.FREQUENCY,random_times:void 0,custom_interval_time:void 0}},mark_setting:{mark_type:x.lt.SYSTEM,fill_blank:!1,short_answer:!1,anonymous_marking:!1,marker_list:[{id:p.id,name:p.name,creator:!0}]},result_visible:{show_result:!0,result_view_rule:x.Zt.AFTER_COMMIT,answer_parsing:h?x.bL.ANSWER_ERROR:x.bL.ANSWER_ANALYSIS,ranking_list_view_rule:x.Zt.AFTER_COMMIT},answer_device:x.Tv.UNLIMITED};if(g===a.ADD_EXAM_TASK){if(u){var b=u.paper_id,O=u.classify_id,S=u.answer_rule,R=u.exam_count,A=u.cut_screen_rule,G=u.cut_screen_count,U=u.cut_screen_interval,B=u.random_question,P=u.random_options,X=u.mark_question_type,M=u.mark_type,D=u.anonymous_marking,N=u.show_result,L=u.result_view_rule,k=u.answer_parsing,F=u.ranking_list_view_rule,I=u.exam_certificate_id,C=u.exam_certificate_url,z=u.marker_list,Z=u.exam_object_info,W=u.exam_paper_info,V=u.create_user,H=u.create_user_name,Q=u.authority_range,q=u.supervisor_mark,$=u.has_published,j=u.face_recognition,J=u.face_snapshot_rule,K=u.answer_device,ee=(0,w.Z)(u,["paper_id","classify_id","answer_rule","exam_count","cut_screen_rule","cut_screen_count","cut_screen_interval","random_question","random_options","mark_question_type","mark_type","anonymous_marking","show_result","result_view_rule","answer_parsing","ranking_list_view_rule","exam_certificate_id","exam_certificate_url","marker_list","exam_object_info","exam_paper_info","create_user","create_user_name","authority_range","supervisor_mark","has_published","face_recognition","face_snapshot_rule","answer_device"]);return(0,T.Z)({paperInfo:{id:b,name:W?W.paper_name:"",total_score:W?W.total_score:"",fill_blank_count:W&&W.fill_blank_count||0,short_answer_count:W&&W.short_answer_count||0},classify_id:O||"",exam_paper_info:W||{},exam_times:{answer_rule:S,exam_count:R},cut_screen_times:{cut_screen_rule:A,cut_screen_count:G,cut_screen_interval:U},random_order:{random_question:B,random_options:P},mark_setting:{mark_type:M,fill_blank:X.fill_blank,short_answer:X.short_answer,anonymous_marking:D,marker_list:z.length>0?z:[{id:V,name:H,creator:!0}]},result_visible:{show_result:N,result_view_rule:L,answer_parsing:k,ranking_list_view_rule:F},exam_certificate:{id:I,name:"",url:C},jurisdiction:{authority_range:Q,supervisor_mark:q},tagGroup:{resourceType:"examTask",tagsNameList:[]},has_published:$==="true"||$===!0,face_recognition:i({face_recognition:j,face_snapshot_rule:J}),answer_device:K||x.Tv.UNLIMITED},ee)}return(0,T.Z)((0,T.Z)({},m),{},{reward_rule:{type:x.iN.NO_CREDIT,absence:{checked:!0,score:0},passed:{checked:!0,score:0},failed:{checked:!0,score:0}},exam_certificate:{id:"",name:"",url:""},supervisor_list:[{id:p.id,name:p.name,creator:!0}],jurisdiction:{authority_range:!1,supervisor_mark:!0},tagGroup:{resourceType:"examTask",tagsNameList:[]}})}if(g===a.ADD_RELATION_EXAM_TASK){if(u){var te=u.paper_id,ne=u.classify_id,ie=u.answer_rule,oe=u.exam_count,re=u.cut_screen_rule,ae=u.cut_screen_count,ue=u.cut_screen_interval,ce=u.random_question,he=u.random_options,fe=u.mark_question_type,de=u.mark_type,le=u.anonymous_marking,pe=u.marker_list,se=u.exam_paper_info,_e=u.create_user,me=u.create_user_name,xe=u.authority_range,Ee=u.supervisor_mark,ve=u.has_published,ge=u.face_recognition,ye=u.face_snapshot_rule,Te=(0,w.Z)(u,["paper_id","classify_id","answer_rule","exam_count","cut_screen_rule","cut_screen_count","cut_screen_interval","random_question","random_options","mark_question_type","mark_type","anonymous_marking","marker_list","exam_paper_info","create_user","create_user_name","authority_range","supervisor_mark","has_published","face_recognition","face_snapshot_rule"]);return(0,T.Z)({paperInfo:{id:te,name:se?se.paper_name:"",total_score:se?se.total_score:"",fill_blank_count:se&&se.fill_blank_count||0,short_answer_count:se&&se.short_answer_count||0},classify_id:ne||"",exam_paper_info:se||{},exam_times:{answer_rule:ie,exam_count:oe},cut_screen_times:{cut_screen_rule:re,cut_screen_count:ae,cut_screen_interval:ue},random_order:{random_question:ce,random_options:he},mark_setting:{mark_type:de,fill_blank:fe.fill_blank,short_answer:fe.short_answer,anonymous_marking:le,marker_list:pe.length>0?pe:[{id:_e,name:me,creator:!0}]},has_published:ve==="true"||ve===!0,face_recognition:i({face_recognition:ge,face_snapshot_rule:ye})},Te)}return(0,T.Z)({},m)}}function n(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=[];return f.question_bank_info_list&&f.question_bank_info_list.length&&f.question_bank_info_list.forEach(p=>{var y={fillBlankCount:p.fill_blank_count,shortAnswerCount:p.short_answer_count,multipleCount:p.multiple_count,singleCount:p.single_count,totalCount:p.total_count,trueOrFalseCount:p.true_or_false_count};u.push((0,T.Z)((0,T.Z)((0,T.Z)({},p),y),{},{data:(0,T.Z)({},y)}))}),{title:f.title,randomQuestion:{bankQuesitonVoList:u},stand:Number(f.pass_line||0)}}function e(f){return{face_recognition:f.before_exam,face_snapshot_rule:{face_process_switch:f.in_exam.checked,face_process_type:f.in_exam.type,face_process_value:f.in_exam.type===d.tT.FREQUENCY?f.in_exam.random_times:f.in_exam.custom_interval_time}}}function i(f){var u=f.face_recognition,p=f.face_snapshot_rule,y=p?typeof p=="string"?JSON.parse(p):p:{},g=y.face_process_switch,m=y.face_process_type,b=y.face_process_value;return{before_exam:u==="true"||u===!0,in_exam:{checked:g==="true"||g===!0,type:m||d.tT.FREQUENCY,random_times:m===d.tT.FREQUENCY&&b||void 0,custom_interval_time:m===d.tT.INTERVAL&&b||void 0}}}function t(f){var u=new Image;return u.src=f,new Promise((p,y)=>{u.onload=()=>{p({width:u.width,height:u.height})},u.onerror=g=>{y(g)}})}function r(){o.m8.push("/training/examination/newPlan")}function s(f){var u=f.min,p=f.max,y=f.value,g;return Number(y)>p?g=p:g=Number(y)||u,g}function c(f){var u=f.orgTypes,p=f.type,y=(0,E.UI)("FACE"),g=(0,E.UI)("CUT_SCREEN");if(Array.isArray(u)){if(p==="face")return u.includes("weixin")||u.includes("ding")||u.includes("third_oa_app")||u.length===1&&u.includes("app")||localStorage.uid==="10"||y;if(p==="cutScreen")return u.includes("ding")||u.includes("third_oa_app")||u.length===1&&u.includes("app")||localStorage.uid==="10"||g}return!1}},22444:function(Y,_,v){"use strict";v.d(_,{tT:function(){return s},fU:function(){return c},_D:function(){return u}});var T=v(77883),w=v(21888),o=v(88986),x=v(43358),E=v(34041),d=v(12924),a=v.n(d),h=v(91768),l=v(13364),n=v.n(l),e=v(40646),i=v(6793),t=E.Z.Option,r={BEFORE_EXAM:"before_exam",IN_EXAM:"in_exam"},s={FREQUENCY:"frequency",INTERVAL:"interval"},c=5,f=10;function u(y){var g=y.exam_duration,m=y.in_exam;if(g<=c)return{min:m.type===s.FREQUENCY?1:c,max:Number.MAX_SAFE_INTEGER};if(m.type===s.FREQUENCY){var b=g%5!=0?g/5:g/5-1;return{min:1,max:b<=f?b:f}}return{min:5,max:g-1}}function p(y){var g=y.t,m=y.value,b=y.onFieldChange,O=y.exam_duration,S=m.before_exam,R=m.in_exam,A=(X,M)=>{var D=X.checked;if(M===r.BEFORE_EXAM&&b)if(D)b((0,o.Z)((0,o.Z)({},m),{},{before_exam:D}));else{b((0,o.Z)((0,o.Z)({},m),{},{before_exam:D,in_exam:(0,o.Z)((0,o.Z)({},R),{},{checked:D})}));return}if(M===r.IN_EXAM){b&&b(D?(0,o.Z)((0,o.Z)({},m),{},{in_exam:(0,o.Z)((0,o.Z)({},R),{},{checked:D}),before_exam:D}):(0,o.Z)((0,o.Z)({},m),{},{in_exam:(0,o.Z)((0,o.Z)({},R),{},{checked:D})}));return}},G=X=>{b&&b((0,o.Z)((0,o.Z)({},m),{},{in_exam:(0,o.Z)((0,o.Z)({},R),{},{type:X})}))},U=X=>{R.type===s.FREQUENCY?b&&b((0,o.Z)((0,o.Z)({},m),{},{in_exam:(0,o.Z)((0,o.Z)({},R),{},{random_times:X})})):b&&b((0,o.Z)((0,o.Z)({},m),{},{in_exam:(0,o.Z)((0,o.Z)({},R),{},{custom_interval_time:X})}))},B=X=>{var M=R.type===s.FREQUENCY?R.random_times:R.custom_interval_time;return a().createElement(a().Fragment,null,a().createElement(w.Z,{disabled:X,placeholder:g("common.pleaseEnter"),value:M,onChange:U,precision:0}),a().createElement("span",null,R.type===s.FREQUENCY?g("common.times"):g("common.minutes")))},P=(0,d.useMemo)(()=>[{value:s.FREQUENCY,label:g("examination.faceRecognitionInExam.random")},{value:s.INTERVAL,label:g("examination.faceRecognitionInExam.interval")}],[]);return a().createElement("div",{className:n()["face-recognition-container"]},a().createElement("div",{className:n()["before-exam-container"]},a().createElement(e.l,{values:S?r.BEFORE_EXAM:"",options:[{label:g("examination.faceRecognitionInExam.enter"),value:r.BEFORE_EXAM}],onChange:X=>{A(X,r.BEFORE_EXAM)}})),a().createElement("div",{className:n()["in-exam-container"]},a().createElement(e.l,{values:R.checked?r.IN_EXAM:"",options:[{label:g("examination.faceRecognitionInExam.inExam"),value:r.IN_EXAM,disabled:!R.checked&&O<=c,disabledTip:(0,i.ZT)(g("examination.faceRecognitionInExam.verifyExamDurationTip"),c+1)}],onChange:X=>{A(X,r.IN_EXAM)}}),a().createElement(E.Z,{disabled:!R.checked,value:R.type,onChange:G,style:{width:"100px"}},P.map(X=>{var M=X.label,D=X.value;return a().createElement(t,{key:D,value:D},M)})),B(!R.checked)))}_.ZP=(0,h.Z)()(p)},746:function(Y,_){"use strict";var v=32;_.INT_BITS=v,_.INT_MAX=2147483647,_.INT_MIN=-1<<v-1,_.sign=function(o){return(o>0)-(o<0)},_.abs=function(o){var x=o>>v-1;return(o^x)-x},_.min=function(o,x){return x^(o^x)&-(o<x)},_.max=function(o,x){return o^(o^x)&-(o<x)},_.isPow2=function(o){return!(o&o-1)&&!!o},_.log2=function(o){var x,E;return x=(o>65535)<<4,o>>>=x,E=(o>255)<<3,o>>>=E,x|=E,E=(o>15)<<2,o>>>=E,x|=E,E=(o>3)<<1,o>>>=E,x|=E,x|o>>1},_.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},_.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function T(o){var x=32;return o&=-o,o&&x--,o&65535&&(x-=16),o&16711935&&(x-=8),o&252645135&&(x-=4),o&858993459&&(x-=2),o&1431655765&&(x-=1),x}_.countTrailingZeros=T,_.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},_.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},_.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var w=new Array(256);(function(o){for(var x=0;x<256;++x){var E=x,d=x,a=7;for(E>>>=1;E;E>>>=1)d<<=1,d|=E&1,--a;o[x]=d<<a&255}})(w),_.reverse=function(o){return w[o&255]<<24|w[o>>>8&255]<<16|w[o>>>16&255]<<8|w[o>>>24&255]},_.interleave2=function(o,x){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,x&=65535,x=(x|x<<8)&16711935,x=(x|x<<4)&252645135,x=(x|x<<2)&858993459,x=(x|x<<1)&1431655765,o|x<<1},_.deinterleave2=function(o,x){return o=o>>>x&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},_.interleave3=function(o,x,E){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,o|=x<<1,E&=1023,E=(E|E<<16)&4278190335,E=(E|E<<8)&251719695,E=(E|E<<4)&3272356035,E=(E|E<<2)&1227133513,o|E<<2},_.deinterleave3=function(o,x){return o=o>>>x&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},_.nextCombination=function(o){var x=o|o-1;return x+1|(~x&-~x)-1>>>T(o)+1}},9187:function(Y){"use strict";Y.exports=_,Y.exports.default=_;function _(P,X,M){M=M||2;var D=X&&X.length,N=D?X[0]*M:P.length,L=v(P,0,N,M,!0),k=[];if(!L||L.next===L.prev)return k;var F,I,C,z,Z,W,V;if(D&&(L=a(P,X,L,M)),P.length>80*M){F=C=P[0],I=z=P[1];for(var H=M;H<N;H+=M)Z=P[H],W=P[H+1],Z<F&&(F=Z),W<I&&(I=W),Z>C&&(C=Z),W>z&&(z=W);V=Math.max(C-F,z-I),V=V!==0?1/V:0}return w(L,k,M,F,I,V),k}function v(P,X,M,D,N){var L,k;if(N===B(P,X,M,D)>0)for(L=X;L<M;L+=D)k=A(L,P[L],P[L+1],k);else for(L=M-D;L>=X;L-=D)k=A(L,P[L],P[L+1],k);return k&&p(k,k.next)&&(G(k),k=k.next),k}function T(P,X){if(!P)return P;X||(X=P);var M=P,D;do if(D=!1,!M.steiner&&(p(M,M.next)||u(M.prev,M,M.next)===0)){if(G(M),M=X=M.prev,M===M.next)break;D=!0}else M=M.next;while(D||M!==X);return X}function w(P,X,M,D,N,L,k){if(!!P){!k&&L&&i(P,D,N,L);for(var F=P,I,C;P.prev!==P.next;){if(I=P.prev,C=P.next,L?x(P,D,N,L):o(P)){X.push(I.i/M),X.push(P.i/M),X.push(C.i/M),G(P),P=C.next,F=C.next;continue}if(P=C,P===F){k?k===1?(P=E(T(P),X,M),w(P,X,M,D,N,L,2)):k===2&&d(P,X,M,D,N,L):w(T(P),X,M,D,N,L,1);break}}}}function o(P){var X=P.prev,M=P,D=P.next;if(u(X,M,D)>=0)return!1;for(var N=P.next.next;N!==P.prev;){if(c(X.x,X.y,M.x,M.y,D.x,D.y,N.x,N.y)&&u(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function x(P,X,M,D){var N=P.prev,L=P,k=P.next;if(u(N,L,k)>=0)return!1;for(var F=N.x<L.x?N.x<k.x?N.x:k.x:L.x<k.x?L.x:k.x,I=N.y<L.y?N.y<k.y?N.y:k.y:L.y<k.y?L.y:k.y,C=N.x>L.x?N.x>k.x?N.x:k.x:L.x>k.x?L.x:k.x,z=N.y>L.y?N.y>k.y?N.y:k.y:L.y>k.y?L.y:k.y,Z=r(F,I,X,M,D),W=r(C,z,X,M,D),V=P.prevZ,H=P.nextZ;V&&V.z>=Z&&H&&H.z<=W;){if(V!==P.prev&&V!==P.next&&c(N.x,N.y,L.x,L.y,k.x,k.y,V.x,V.y)&&u(V.prev,V,V.next)>=0||(V=V.prevZ,H!==P.prev&&H!==P.next&&c(N.x,N.y,L.x,L.y,k.x,k.y,H.x,H.y)&&u(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;V&&V.z>=Z;){if(V!==P.prev&&V!==P.next&&c(N.x,N.y,L.x,L.y,k.x,k.y,V.x,V.y)&&u(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;H&&H.z<=W;){if(H!==P.prev&&H!==P.next&&c(N.x,N.y,L.x,L.y,k.x,k.y,H.x,H.y)&&u(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function E(P,X,M){var D=P;do{var N=D.prev,L=D.next.next;!p(N,L)&&y(N,D,D.next,L)&&O(N,L)&&O(L,N)&&(X.push(N.i/M),X.push(D.i/M),X.push(L.i/M),G(D),G(D.next),D=P=L),D=D.next}while(D!==P);return T(D)}function d(P,X,M,D,N,L){var k=P;do{for(var F=k.next.next;F!==k.prev;){if(k.i!==F.i&&f(k,F)){var I=R(k,F);k=T(k,k.next),I=T(I,I.next),w(k,X,M,D,N,L),w(I,X,M,D,N,L);return}F=F.next}k=k.next}while(k!==P)}function a(P,X,M,D){var N=[],L,k,F,I,C;for(L=0,k=X.length;L<k;L++)F=X[L]*D,I=L<k-1?X[L+1]*D:P.length,C=v(P,F,I,D,!1),C===C.next&&(C.steiner=!0),N.push(s(C));for(N.sort(h),L=0;L<N.length;L++)M=l(N[L],M),M=T(M,M.next);return M}function h(P,X){return P.x-X.x}function l(P,X){var M=n(P,X);if(!M)return X;var D=R(M,P),N=T(M,M.next);return T(D,D.next),X===M?N:X}function n(P,X){var M=X,D=P.x,N=P.y,L=-Infinity,k;do{if(N<=M.y&&N>=M.next.y&&M.next.y!==M.y){var F=M.x+(N-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(F<=D&&F>L){if(L=F,F===D){if(N===M.y)return M;if(N===M.next.y)return M.next}k=M.x<M.next.x?M:M.next}}M=M.next}while(M!==X);if(!k)return null;if(D===L)return k;var I=k,C=k.x,z=k.y,Z=Infinity,W;M=k;do D>=M.x&&M.x>=C&&D!==M.x&&c(N<z?D:L,N,C,z,N<z?L:D,N,M.x,M.y)&&(W=Math.abs(N-M.y)/(D-M.x),O(M,P)&&(W<Z||W===Z&&(M.x>k.x||M.x===k.x&&e(k,M)))&&(k=M,Z=W)),M=M.next;while(M!==I);return k}function e(P,X){return u(P.prev,P,X.prev)<0&&u(X.next,P,P.next)<0}function i(P,X,M,D){var N=P;do N.z===null&&(N.z=r(N.x,N.y,X,M,D)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==P);N.prevZ.nextZ=null,N.prevZ=null,t(N)}function t(P){var X,M,D,N,L,k,F,I,C=1;do{for(M=P,P=null,L=null,k=0;M;){for(k++,D=M,F=0,X=0;X<C&&(F++,D=D.nextZ,!!D);X++);for(I=C;F>0||I>0&&D;)F!==0&&(I===0||!D||M.z<=D.z)?(N=M,M=M.nextZ,F--):(N=D,D=D.nextZ,I--),L?L.nextZ=N:P=N,N.prevZ=L,L=N;M=D}L.nextZ=null,C*=2}while(k>1);return P}function r(P,X,M,D,N){return P=32767*(P-M)*N,X=32767*(X-D)*N,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,P|X<<1}function s(P){var X=P,M=P;do(X.x<M.x||X.x===M.x&&X.y<M.y)&&(M=X),X=X.next;while(X!==P);return M}function c(P,X,M,D,N,L,k,F){return(N-k)*(X-F)-(P-k)*(L-F)>=0&&(P-k)*(D-F)-(M-k)*(X-F)>=0&&(M-k)*(L-F)-(N-k)*(D-F)>=0}function f(P,X){return P.next.i!==X.i&&P.prev.i!==X.i&&!b(P,X)&&(O(P,X)&&O(X,P)&&S(P,X)&&(u(P.prev,P,X.prev)||u(P,X.prev,X))||p(P,X)&&u(P.prev,P,P.next)>0&&u(X.prev,X,X.next)>0)}function u(P,X,M){return(X.y-P.y)*(M.x-X.x)-(X.x-P.x)*(M.y-X.y)}function p(P,X){return P.x===X.x&&P.y===X.y}function y(P,X,M,D){var N=m(u(P,X,M)),L=m(u(P,X,D)),k=m(u(M,D,P)),F=m(u(M,D,X));return!!(N!==L&&k!==F||N===0&&g(P,M,X)||L===0&&g(P,D,X)||k===0&&g(M,P,D)||F===0&&g(M,X,D))}function g(P,X,M){return X.x<=Math.max(P.x,M.x)&&X.x>=Math.min(P.x,M.x)&&X.y<=Math.max(P.y,M.y)&&X.y>=Math.min(P.y,M.y)}function m(P){return P>0?1:P<0?-1:0}function b(P,X){var M=P;do{if(M.i!==P.i&&M.next.i!==P.i&&M.i!==X.i&&M.next.i!==X.i&&y(M,M.next,P,X))return!0;M=M.next}while(M!==P);return!1}function O(P,X){return u(P.prev,P,P.next)<0?u(P,X,P.next)>=0&&u(P,P.prev,X)>=0:u(P,X,P.prev)<0||u(P,P.next,X)<0}function S(P,X){var M=P,D=!1,N=(P.x+X.x)/2,L=(P.y+X.y)/2;do M.y>L!=M.next.y>L&&M.next.y!==M.y&&N<(M.next.x-M.x)*(L-M.y)/(M.next.y-M.y)+M.x&&(D=!D),M=M.next;while(M!==P);return D}function R(P,X){var M=new U(P.i,P.x,P.y),D=new U(X.i,X.x,X.y),N=P.next,L=X.prev;return P.next=X,X.prev=P,M.next=N,N.prev=M,D.next=M,M.prev=D,L.next=D,D.prev=L,D}function A(P,X,M,D){var N=new U(P,X,M);return D?(N.next=D.next,N.prev=D,D.next.prev=N,D.next=N):(N.prev=N,N.next=N),N}function G(P){P.next.prev=P.prev,P.prev.next=P.next,P.prevZ&&(P.prevZ.nextZ=P.nextZ),P.nextZ&&(P.nextZ.prevZ=P.prevZ)}function U(P,X,M){this.i=P,this.x=X,this.y=M,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}_.deviation=function(P,X,M,D){var N=X&&X.length,L=N?X[0]*M:P.length,k=Math.abs(B(P,0,L,M));if(N)for(var F=0,I=X.length;F<I;F++){var C=X[F]*M,z=F<I-1?X[F+1]*M:P.length;k-=Math.abs(B(P,C,z,M))}var Z=0;for(F=0;F<D.length;F+=3){var W=D[F]*M,V=D[F+1]*M,H=D[F+2]*M;Z+=Math.abs((P[W]-P[H])*(P[V+1]-P[W+1])-(P[W]-P[V])*(P[H+1]-P[W+1]))}return k===0&&Z===0?0:Math.abs((Z-k)/k)};function B(P,X,M,D){for(var N=0,L=X,k=M-D;L<M;L+=D)N+=(P[k]-P[L])*(P[L+1]+P[k+1]),k=L;return N}_.flatten=function(P){for(var X=P[0][0].length,M={vertices:[],holes:[],dimensions:X},D=0,N=0;N<P.length;N++){for(var L=0;L<P[N].length;L++)for(var k=0;k<X;k++)M.vertices.push(P[N][L][k]);N>0&&(D+=P[N-1].length,M.holes.push(D))}return M}},26729:function(Y){"use strict";var _=Object.prototype.hasOwnProperty,v="~";function T(){}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(v=!1));function w(x,E,d){this.fn=x,this.context=E,this.once=d||!1}function o(){this._events=new T,this._eventsCount=0}o.prototype.eventNames=function(){var E=[],d,a;if(this._eventsCount===0)return E;for(a in d=this._events)_.call(d,a)&&E.push(v?a.slice(1):a);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(d)):E},o.prototype.listeners=function(E,d){var a=v?v+E:E,h=this._events[a];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var l=0,n=h.length,e=new Array(n);l<n;l++)e[l]=h[l].fn;return e},o.prototype.emit=function(E,d,a,h,l,n){var e=v?v+E:E;if(!this._events[e])return!1;var i=this._events[e],t=arguments.length,r,s;if(i.fn){switch(i.once&&this.removeListener(E,i.fn,void 0,!0),t){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,d),!0;case 3:return i.fn.call(i.context,d,a),!0;case 4:return i.fn.call(i.context,d,a,h),!0;case 5:return i.fn.call(i.context,d,a,h,l),!0;case 6:return i.fn.call(i.context,d,a,h,l,n),!0}for(s=1,r=new Array(t-1);s<t;s++)r[s-1]=arguments[s];i.fn.apply(i.context,r)}else{var c=i.length,f;for(s=0;s<c;s++)switch(i[s].once&&this.removeListener(E,i[s].fn,void 0,!0),t){case 1:i[s].fn.call(i[s].context);break;case 2:i[s].fn.call(i[s].context,d);break;case 3:i[s].fn.call(i[s].context,d,a);break;case 4:i[s].fn.call(i[s].context,d,a,h);break;default:if(!r)for(f=1,r=new Array(t-1);f<t;f++)r[f-1]=arguments[f];i[s].fn.apply(i[s].context,r)}}return!0},o.prototype.on=function(E,d,a){var h=new w(d,a||this),l=v?v+E:E;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],h]:this._events[l].push(h):(this._events[l]=h,this._eventsCount++),this},o.prototype.once=function(E,d,a){var h=new w(d,a||this,!0),l=v?v+E:E;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],h]:this._events[l].push(h):(this._events[l]=h,this._eventsCount++),this},o.prototype.removeListener=function(E,d,a,h){var l=v?v+E:E;if(!this._events[l])return this;if(!d)return--this._eventsCount==0?this._events=new T:delete this._events[l],this;var n=this._events[l];if(n.fn)n.fn===d&&(!h||n.once)&&(!a||n.context===a)&&(--this._eventsCount==0?this._events=new T:delete this._events[l]);else{for(var e=0,i=[],t=n.length;e<t;e++)(n[e].fn!==d||h&&!n[e].once||a&&n[e].context!==a)&&i.push(n[e]);i.length?this._events[l]=i.length===1?i[0]:i:--this._eventsCount==0?this._events=new T:delete this._events[l]}return this},o.prototype.removeAllListeners=function(E){var d;return E?(d=v?v+E:E,this._events[d]&&(--this._eventsCount==0?this._events=new T:delete this._events[d])):(this._events=new T,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=v,o.EventEmitter=o,Y.exports=o},47561:function(Y,_){var v,T,w;(function(o){var x=/iPhone/i,E=/iPod/i,d=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,l=/\bAndroid(?:.+)SD4930UR\b/i,n=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,e=/Windows Phone/i,i=/\bWindows(?:.+)ARM\b/i,t=/BlackBerry/i,r=/BB10/i,s=/Opera Mini/i,c=/\b(CriOS|Chrome)(?:.+)Mobile/i,f=/Mobile(?:.+)Firefox\b/i;function u(y,g){return y.test(g)}function p(y){var g=y||(typeof navigator!="undefined"?navigator.userAgent:""),m=g.split("[FBAN");m[1]!==void 0&&(g=m[0]),(m=g.split("Twitter"))[1]!==void 0&&(g=m[0]);var b={apple:{phone:u(x,g)&&!u(e,g),ipod:u(E,g),tablet:!u(x,g)&&u(d,g)&&!u(e,g),device:(u(x,g)||u(E,g)||u(d,g))&&!u(e,g)},amazon:{phone:u(l,g),tablet:!u(l,g)&&u(n,g),device:u(l,g)||u(n,g)},android:{phone:!u(e,g)&&u(l,g)||!u(e,g)&&u(a,g),tablet:!u(e,g)&&!u(l,g)&&!u(a,g)&&(u(n,g)||u(h,g)),device:!u(e,g)&&(u(l,g)||u(n,g)||u(a,g)||u(h,g))||u(/\bokhttp\b/i,g)},windows:{phone:u(e,g),tablet:u(i,g),device:u(e,g)||u(i,g)},other:{blackberry:u(t,g),blackberry10:u(r,g),opera:u(s,g),firefox:u(f,g),chrome:u(c,g),device:u(t,g)||u(r,g)||u(s,g)||u(f,g)||u(c,g)}};return b.any=b.apple.device||b.android.device||b.windows.device||b.other.device,b.phone=b.apple.phone||b.android.phone||b.windows.phone,b.tablet=b.apple.tablet||b.android.tablet||b.windows.tablet,b}Y.exports&&typeof window=="undefined"?Y.exports=p:Y.exports&&typeof window!="undefined"?(Y.exports=p(),Y.exports.isMobile=p):(T=[],v=o.isMobile=p(),w=typeof v=="function"?v.apply(_,T):v,w!==void 0&&(Y.exports=w))})(this)},82940:function(Y,_){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var v=function(){function E(d,a){for(var h=0;h<a.length;h++){var l=a[h];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,a,h){return a&&E(d.prototype,a),h&&E(d,h),d}}();function T(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}var w=function(){function E(d,a,h){a===void 0&&(a=!1),T(this,E),this._fn=d,this._once=a,this._thisArg=h,this._next=this._prev=this._owner=null}return v(E,[{key:"detach",value:function(){return this._owner===null?!1:(this._owner.detach(this),!0)}}]),E}();function o(E,d){return E._head?(E._tail._next=d,d._prev=E._tail,E._tail=d):(E._head=d,E._tail=d),d._owner=E,d}var x=function(){function E(){T(this,E),this._head=this._tail=void 0}return v(E,[{key:"handlers",value:function(){var a=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],h=this._head;if(a)return!!h;for(var l=[];h;)l.push(h),h=h._next;return l}},{key:"has",value:function(a){if(!(a instanceof w))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var h=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new w(a,!1,h))}},{key:"once",value:function(a){var h=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof a!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new w(a,!0,h))}},{key:"detach",value:function(a){if(!(a instanceof w))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return a._owner!==this?this:(a._prev&&(a._prev._next=a._next),a._next&&(a._next._prev=a._prev),a===this._head?(this._head=a._next,a._next===null&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null),a._owner=null,this)}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]),E}();x.MiniSignalBinding=w,_.default=x,Y.exports=_.default},55784:function(Y){"use strict";Y.exports=(_,v={})=>{if(!_)return;const T={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},w=T.parser[v.strictMode?"strict":"loose"].exec(_),o={};let x=14;for(;x--;)o[T.key[x]]=w[x]||"";return o[T.q.name]={},o[T.key[12]].replace(T.q.parser,function(E,d,a){d&&(o[T.q.name][d]=a)}),o}},26470:function(Y,_,v){var T=v(34155);function w(d,a){for(var h=0,l=d.length-1;l>=0;l--){var n=d[l];n==="."?d.splice(l,1):n===".."?(d.splice(l,1),h++):h&&(d.splice(l,1),h--)}if(a)for(;h--;h)d.unshift("..");return d}_.resolve=function(){for(var d="",a=!1,h=arguments.length-1;h>=-1&&!a;h--){var l=h>=0?arguments[h]:T.cwd();if(typeof l!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!l)continue;d=l+"/"+d,a=l.charAt(0)==="/"}return d=w(x(d.split("/"),function(n){return!!n}),!a).join("/"),(a?"/":"")+d||"."},_.normalize=function(d){var a=_.isAbsolute(d),h=E(d,-1)==="/";return d=w(x(d.split("/"),function(l){return!!l}),!a).join("/"),!d&&!a&&(d="."),d&&h&&(d+="/"),(a?"/":"")+d},_.isAbsolute=function(d){return d.charAt(0)==="/"},_.join=function(){var d=Array.prototype.slice.call(arguments,0);return _.normalize(x(d,function(a,h){if(typeof a!="string")throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},_.relative=function(d,a){d=_.resolve(d).substr(1),a=_.resolve(a).substr(1);function h(s){for(var c=0;c<s.length&&s[c]==="";c++);for(var f=s.length-1;f>=0&&s[f]==="";f--);return c>f?[]:s.slice(c,f-c+1)}for(var l=h(d.split("/")),n=h(a.split("/")),e=Math.min(l.length,n.length),i=e,t=0;t<e;t++)if(l[t]!==n[t]){i=t;break}for(var r=[],t=i;t<l.length;t++)r.push("..");return r=r.concat(n.slice(i)),r.join("/")},_.sep="/",_.delimiter=":",_.dirname=function(d){if(typeof d!="string"&&(d=d+""),d.length===0)return".";for(var a=d.charCodeAt(0),h=a===47,l=-1,n=!0,e=d.length-1;e>=1;--e)if(a=d.charCodeAt(e),a===47){if(!n){l=e;break}}else n=!1;return l===-1?h?"/":".":h&&l===1?"/":d.slice(0,l)};function o(d){typeof d!="string"&&(d=d+"");var a=0,h=-1,l=!0,n;for(n=d.length-1;n>=0;--n)if(d.charCodeAt(n)===47){if(!l){a=n+1;break}}else h===-1&&(l=!1,h=n+1);return h===-1?"":d.slice(a,h)}_.basename=function(d,a){var h=o(d);return a&&h.substr(-1*a.length)===a&&(h=h.substr(0,h.length-a.length)),h},_.extname=function(d){typeof d!="string"&&(d=d+"");for(var a=-1,h=0,l=-1,n=!0,e=0,i=d.length-1;i>=0;--i){var t=d.charCodeAt(i);if(t===47){if(!n){h=i+1;break}continue}l===-1&&(n=!1,l=i+1),t===46?a===-1?a=i:e!==1&&(e=1):a!==-1&&(e=-1)}return a===-1||l===-1||e===0||e===1&&a===l-1&&a===h+1?"":d.slice(a,l)};function x(d,a){if(d.filter)return d.filter(a);for(var h=[],l=0;l<d.length;l++)a(d[l],l,d)&&h.push(d[l]);return h}var E=function(d,a,h){return d.substr(a,h)}},94804:function(Y){var _=new ArrayBuffer(0),v=function(T,w,o,x){this.gl=T,this.buffer=T.createBuffer(),this.type=w||T.ARRAY_BUFFER,this.drawType=x||T.STATIC_DRAW,this.data=_,o&&this.upload(o),this._updateID=0};v.prototype.upload=function(T,w,o){o||this.bind();var x=this.gl;T=T||this.data,w=w||0,this.data.byteLength>=T.byteLength?x.bufferSubData(this.type,w,T):x.bufferData(this.type,T,this.drawType),this.data=T},v.prototype.bind=function(){var T=this.gl;T.bindBuffer(this.type,this.buffer)},v.createVertexBuffer=function(T,w,o){return new v(T,T.ARRAY_BUFFER,w,o)},v.createIndexBuffer=function(T,w,o){return new v(T,T.ELEMENT_ARRAY_BUFFER,w,o)},v.create=function(T,w,o,x){return new v(T,w,o,x)},v.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},Y.exports=v},65569:function(Y,_,v){var T=v(62184),w=function(o,x,E){this.gl=o,this.framebuffer=o.createFramebuffer(),this.stencil=null,this.texture=null,this.width=x||100,this.height=E||100};w.prototype.enableTexture=function(o){var x=this.gl;this.texture=o||new T(x),this.texture.bind(),this.bind(),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,this.texture.texture,0)},w.prototype.enableStencil=function(){if(!this.stencil){var o=this.gl;this.stencil=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,this.stencil),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,this.stencil),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,this.width,this.height)}},w.prototype.clear=function(o,x,E,d){this.bind();var a=this.gl;a.clearColor(o,x,E,d),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},w.prototype.bind=function(){var o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer)},w.prototype.unbind=function(){var o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,null)},w.prototype.resize=function(o,x){var E=this.gl;this.width=o,this.height=x,this.texture&&this.texture.uploadData(null,o,x),this.stencil&&(E.bindRenderbuffer(E.RENDERBUFFER,this.stencil),E.renderbufferStorage(E.RENDERBUFFER,E.DEPTH_STENCIL,o,x))},w.prototype.destroy=function(){var o=this.gl;this.texture&&this.texture.destroy(),o.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},w.createRGBA=function(o,x,E,d){var a=T.fromData(o,null,x,E);a.enableNearestScaling(),a.enableWrapClamp();var h=new w(o,x,E);return h.enableTexture(a),h.unbind(),h},w.createFloat32=function(o,x,E,d){var a=new T.fromData(o,d,x,E);a.enableNearestScaling(),a.enableWrapClamp();var h=new w(o,x,E);return h.enableTexture(a),h.unbind(),h},Y.exports=w},66949:function(Y,_,v){var T=v(79160),w=v(43545),o=v(94164),x=v(84800),E=v(78770),d=function(a,h,l,n,e){this.gl=a,n&&(h=x(h,n),l=x(l,n)),this.program=T(a,h,l,e),this.attributes=w(a,this.program),this.uniformData=o(a,this.program),this.uniforms=E(a,this.uniformData)};d.prototype.bind=function(){return this.gl.useProgram(this.program),this},d.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var a=this.gl;a.deleteProgram(this.program)},Y.exports=d},62184:function(Y){var _=function(T,w,o,x,E){this.gl=T,this.texture=T.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=w||-1,this.height=o||-1,this.format=x||T.RGBA,this.type=E||T.UNSIGNED_BYTE};_.prototype.upload=function(T){this.bind();var w=this.gl;w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var o=T.videoWidth||T.width,x=T.videoHeight||T.height;x!==this.height||o!==this.width?w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,this.type,T):w.texSubImage2D(w.TEXTURE_2D,0,0,0,this.format,this.type,T),this.width=o,this.height=x};var v=!1;_.prototype.uploadData=function(T,w,o){this.bind();var x=this.gl;if(T instanceof Float32Array){if(!v){var E=x.getExtension("OES_texture_float");if(E)v=!0;else throw new Error("floating point textures not available")}this.type=x.FLOAT}else this.type=this.type||x.UNSIGNED_BYTE;x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),w!==this.width||o!==this.height?x.texImage2D(x.TEXTURE_2D,0,this.format,w,o,0,this.format,this.type,T||null):x.texSubImage2D(x.TEXTURE_2D,0,0,0,w,o,this.format,this.type,T||null),this.width=w,this.height=o},_.prototype.bind=function(T){var w=this.gl;T!==void 0&&w.activeTexture(w.TEXTURE0+T),w.bindTexture(w.TEXTURE_2D,this.texture)},_.prototype.unbind=function(){var T=this.gl;T.bindTexture(T.TEXTURE_2D,null)},_.prototype.minFilter=function(T){var w=this.gl;this.bind(),this.mipmap?w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,T?w.LINEAR_MIPMAP_LINEAR:w.NEAREST_MIPMAP_NEAREST):w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,T?w.LINEAR:w.NEAREST)},_.prototype.magFilter=function(T){var w=this.gl;this.bind(),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,T?w.LINEAR:w.NEAREST)},_.prototype.enableMipmap=function(){var T=this.gl;this.bind(),this.mipmap=!0,T.generateMipmap(T.TEXTURE_2D)},_.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},_.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},_.prototype.enableWrapClamp=function(){var T=this.gl;this.bind(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE)},_.prototype.enableWrapRepeat=function(){var T=this.gl;this.bind(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.REPEAT),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.REPEAT)},_.prototype.enableWrapMirrorRepeat=function(){var T=this.gl;this.bind(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.MIRRORED_REPEAT),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.MIRRORED_REPEAT)},_.prototype.destroy=function(){var T=this.gl;T.deleteTexture(this.texture)},_.fromSource=function(T,w,o){var x=new _(T);return x.premultiplyAlpha=o||!1,x.upload(w),x},_.fromData=function(T,w,o,x){var E=new _(T);return E.uploadData(w,o,x),E},Y.exports=_},11756:function(Y,_,v){var T=v(3784);function w(o,x){if(this.nativeVaoExtension=null,w.FORCE_NATIVE||(this.nativeVaoExtension=o.getExtension("OES_vertex_array_object")||o.getExtension("MOZ_OES_vertex_array_object")||o.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=x,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var E=o.getParameter(o.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(E),attribState:new Array(E)}}this.gl=o,this.attributes=[],this.indexBuffer=null,this.dirty=!1}w.prototype.constructor=w,Y.exports=w,w.FORCE_NATIVE=!1,w.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},w.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},w.prototype.activate=function(){for(var o=this.gl,x=null,E=0;E<this.attributes.length;E++){var d=this.attributes[E];x!==d.buffer&&(d.buffer.bind(),x=d.buffer),o.vertexAttribPointer(d.attribute.location,d.attribute.size,d.type||o.FLOAT,d.normalized||!1,d.stride||0,d.start||0)}return T(o,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},w.prototype.addAttribute=function(o,x,E,d,a,h){return this.attributes.push({buffer:o,attribute:x,location:x.location,type:E||this.gl.FLOAT,normalized:d||!1,stride:a||0,start:h||0}),this.dirty=!0,this},w.prototype.addIndex=function(o){return this.indexBuffer=o,this.dirty=!0,this},w.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},w.prototype.draw=function(o,x,E){var d=this.gl;return this.indexBuffer?d.drawElements(o,x||this.indexBuffer.data.length,d.UNSIGNED_SHORT,(E||0)*2):d.drawArrays(o,E,x||this.getSize()),this},w.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},w.prototype.getSize=function(){var o=this.attributes[0];return o.buffer.data.length/(o.stride/4||o.attribute.size)}},85957:function(Y){var _=function(v,T){var w=v.getContext("webgl",T)||v.getContext("experimental-webgl",T);if(!w)throw new Error("This browser does not support webGL. Try using the canvas renderer");return w};Y.exports=_},53070:function(Y,_,v){var T={createContext:v(85957),setVertexAttribArrays:v(3784),GLBuffer:v(94804),GLFramebuffer:v(65569),GLShader:v(66949),GLTexture:v(62184),VertexArrayObject:v(11756),shader:v(73743)};Y.exports&&(Y.exports=T),typeof window!="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=T)},3784:function(Y){var _=function(v,T,w){var o;if(w){var x=w.tempAttribState,E=w.attribState;for(o=0;o<x.length;o++)x[o]=!1;for(o=0;o<T.length;o++)x[T[o].attribute.location]=!0;for(o=0;o<E.length;o++)E[o]!==x[o]&&(E[o]=x[o],w.attribState[o]?v.enableVertexAttribArray(o):v.disableVertexAttribArray(o))}else for(o=0;o<T.length;o++){var d=T[o];v.enableVertexAttribArray(d.attribute.location)}};Y.exports=_},79160:function(Y){var _=function(T,w,o,x){var E=v(T,T.VERTEX_SHADER,w),d=v(T,T.FRAGMENT_SHADER,o),a=T.createProgram();if(T.attachShader(a,E),T.attachShader(a,d),x)for(var h in x)T.bindAttribLocation(a,x[h],h);return T.linkProgram(a),T.getProgramParameter(a,T.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",T.getProgramParameter(a,T.VALIDATE_STATUS)),console.error("gl.getError()",T.getError()),T.getProgramInfoLog(a)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",T.getProgramInfoLog(a)),T.deleteProgram(a),a=null),T.deleteShader(E),T.deleteShader(d),a},v=function(T,w,o){var x=T.createShader(w);return T.shaderSource(x,o),T.compileShader(x),T.getShaderParameter(x,T.COMPILE_STATUS)?x:(console.log(T.getShaderInfoLog(x)),null)};Y.exports=_},14365:function(Y){var _=function(T,w){switch(T){case"float":return 0;case"vec2":return new Float32Array(2*w);case"vec3":return new Float32Array(3*w);case"vec4":return new Float32Array(4*w);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*w);case"ivec3":return new Int32Array(3*w);case"ivec4":return new Int32Array(4*w);case"bool":return!1;case"bvec2":return v(2*w);case"bvec3":return v(3*w);case"bvec4":return v(4*w);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},v=function(T){for(var w=new Array(T),o=0;o<w.length;o++)w[o]=!1;return w};Y.exports=_},43545:function(Y,_,v){var T=v(15092),w=v(51850),o=function(E,d){for(var a={},h=E.getProgramParameter(d,E.ACTIVE_ATTRIBUTES),l=0;l<h;l++){var n=E.getActiveAttrib(d,l),e=T(E,n.type);a[n.name]={type:e,size:w(e),location:E.getAttribLocation(d,n.name),pointer:x}}return a},x=function(E,d,a,h){gl.vertexAttribPointer(this.location,this.size,E||gl.FLOAT,d||!1,a||0,h||0)};Y.exports=o},94164:function(Y,_,v){var T=v(15092),w=v(14365),o=function(x,E){for(var d={},a=x.getProgramParameter(E,x.ACTIVE_UNIFORMS),h=0;h<a;h++){var l=x.getActiveUniform(E,h),n=l.name.replace(/\[.*?\]/,""),e=T(x,l.type);d[n]={type:e,size:l.size,location:x.getUniformLocation(E,n),value:w(e,l.size)}}return d};Y.exports=o},78770:function(Y){var _=function(E,d){var a={data:{}};a.gl=E;for(var h=Object.keys(d),l=0;l<h.length;l++){var n=h[l],e=n.split("."),i=e[e.length-1],t=x(e,a),r=d[n];t.data[i]=r,t.gl=E,Object.defineProperty(t,i,{get:v(i),set:o(i,r)})}return a},v=function(E){return function(){return this.data[E].value}},T={float:function(d,a,h){d.uniform1f(a,h)},vec2:function(d,a,h){d.uniform2f(a,h[0],h[1])},vec3:function(d,a,h){d.uniform3f(a,h[0],h[1],h[2])},vec4:function(d,a,h){d.uniform4f(a,h[0],h[1],h[2],h[3])},int:function(d,a,h){d.uniform1i(a,h)},ivec2:function(d,a,h){d.uniform2i(a,h[0],h[1])},ivec3:function(d,a,h){d.uniform3i(a,h[0],h[1],h[2])},ivec4:function(d,a,h){d.uniform4i(a,h[0],h[1],h[2],h[3])},bool:function(d,a,h){d.uniform1i(a,h)},bvec2:function(d,a,h){d.uniform2i(a,h[0],h[1])},bvec3:function(d,a,h){d.uniform3i(a,h[0],h[1],h[2])},bvec4:function(d,a,h){d.uniform4i(a,h[0],h[1],h[2],h[3])},mat2:function(d,a,h){d.uniformMatrix2fv(a,!1,h)},mat3:function(d,a,h){d.uniformMatrix3fv(a,!1,h)},mat4:function(d,a,h){d.uniformMatrix4fv(a,!1,h)},sampler2D:function(d,a,h){d.uniform1i(a,h)}},w={float:function(d,a,h){d.uniform1fv(a,h)},vec2:function(d,a,h){d.uniform2fv(a,h)},vec3:function(d,a,h){d.uniform3fv(a,h)},vec4:function(d,a,h){d.uniform4fv(a,h)},int:function(d,a,h){d.uniform1iv(a,h)},ivec2:function(d,a,h){d.uniform2iv(a,h)},ivec3:function(d,a,h){d.uniform3iv(a,h)},ivec4:function(d,a,h){d.uniform4iv(a,h)},bool:function(d,a,h){d.uniform1iv(a,h)},bvec2:function(d,a,h){d.uniform2iv(a,h)},bvec3:function(d,a,h){d.uniform3iv(a,h)},bvec4:function(d,a,h){d.uniform4iv(a,h)},sampler2D:function(d,a,h){d.uniform1iv(a,h)}};function o(E,d){return function(a){this.data[E].value=a;var h=this.data[E].location;d.size===1?T[d.type](this.gl,h,a):w[d.type](this.gl,h,a)}}function x(E,d){for(var a=d,h=0;h<E.length-1;h++){var l=a[E[h]]||{data:{}};a[E[h]]=l,a=l}return a}Y.exports=_},73743:function(Y,_,v){Y.exports={compileProgram:v(79160),defaultValue:v(14365),extractAttributes:v(43545),extractUniforms:v(94164),generateUniformAccessObject:v(78770),setPrecision:v(84800),mapSize:v(51850),mapType:v(15092)}},51850:function(Y){var _=function(T){return v[T]},v={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};Y.exports=_},15092:function(Y){var _=function(w,o){if(!v){var x=Object.keys(T);v={};for(var E=0;E<x.length;++E){var d=x[E];v[w[d]]=T[d]}}return v[o]},v=null,T={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};Y.exports=_},84800:function(Y){var _=function(v,T){return v.substring(0,9)!=="precision"?"precision "+T+` float;
`+v:v};Y.exports=_},73466:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=h(T),o=v(47561),x=a(o),E=v(26388),d=a(E);function a(y){return y&&y.__esModule?y:{default:y}}function h(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m]);return g.default=y,g}function l(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}w.utils.mixins.delayMixin(w.DisplayObject.prototype,d.default);var n=9,e=100,i=0,t=0,r=2,s=1,c=-1e3,f=-1e3,u=2,p=function(){function y(g){l(this,y),(x.default.tablet||x.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var m=document.createElement("div");m.style.width=e+"px",m.style.height=e+"px",m.style.position="absolute",m.style.top=i+"px",m.style.left=t+"px",m.style.zIndex=r,this.div=m,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=g,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return y.prototype.createTouchHook=function(){var m=this,b=document.createElement("button");b.style.width=s+"px",b.style.height=s+"px",b.style.position="absolute",b.style.top=c+"px",b.style.left=f+"px",b.style.zIndex=u,b.style.backgroundColor="#FF0000",b.title="HOOK DIV",b.addEventListener("focus",function(){m.isMobileAccessabillity=!0,m.activate(),document.body.removeChild(b)}),document.body.appendChild(b)},y.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},y.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},y.prototype.updateAccessibleObjects=function(m){if(!!m.visible){m.accessible&&m.interactive&&(m._accessibleActive||this.addChild(m),m.renderId=this.renderId);for(var b=m.children,O=0;O<b.length;O++)this.updateAccessibleObjects(b[O])}},y.prototype.update=function(){if(!!this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var m=this.renderer.view.getBoundingClientRect(),b=m.width/this.renderer.width,O=m.height/this.renderer.height,S=this.div;S.style.left=m.left+"px",S.style.top=m.top+"px",S.style.width=this.renderer.width+"px",S.style.height=this.renderer.height+"px";for(var R=0;R<this.children.length;R++){var A=this.children[R];if(A.renderId!==this.renderId)A._accessibleActive=!1,w.utils.removeItems(this.children,R,1),this.div.removeChild(A._accessibleDiv),this.pool.push(A._accessibleDiv),A._accessibleDiv=null,R--,this.children.length===0&&this.deactivate();else{S=A._accessibleDiv;var G=A.hitArea,U=A.worldTransform;A.hitArea?(S.style.left=(U.tx+G.x*U.a)*b+"px",S.style.top=(U.ty+G.y*U.d)*O+"px",S.style.width=G.width*U.a*b+"px",S.style.height=G.height*U.d*O+"px"):(G=A.getBounds(),this.capHitArea(G),S.style.left=G.x*b+"px",S.style.top=G.y*O+"px",S.style.width=G.width*b+"px",S.style.height=G.height*O+"px",S.title!==A.accessibleTitle&&A.accessibleTitle!==null&&(S.title=A.accessibleTitle),S.getAttribute("aria-label")!==A.accessibleHint&&A.accessibleHint!==null&&S.setAttribute("aria-label",A.accessibleHint))}}this.renderId++}},y.prototype.capHitArea=function(m){m.x<0&&(m.width+=m.x,m.x=0),m.y<0&&(m.height+=m.y,m.y=0),m.x+m.width>this.renderer.width&&(m.width=this.renderer.width-m.x),m.y+m.height>this.renderer.height&&(m.height=this.renderer.height-m.y)},y.prototype.addChild=function(m){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width=e+"px",b.style.height=e+"px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=r,b.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this))),m.accessibleTitle&&m.accessibleTitle!==null?b.title=m.accessibleTitle:(!m.accessibleHint||m.accessibleHint===null)&&(b.title="displayObject "+m.tabIndex),m.accessibleHint&&m.accessibleHint!==null&&b.setAttribute("aria-label",m.accessibleHint),m._accessibleActive=!0,m._accessibleDiv=b,b.displayObject=m,this.children.push(m),this.div.appendChild(m._accessibleDiv),m._accessibleDiv.tabIndex=m.tabIndex},y.prototype._onClick=function(m){var b=this.renderer.plugins.interaction;b.dispatchEvent(m.target.displayObject,"click",b.eventData)},y.prototype._onFocus=function(m){m.target.getAttribute("aria-live","off")||m.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(m.target.displayObject,"mouseover",b.eventData)},y.prototype._onFocusOut=function(m){m.target.getAttribute("aria-live","off")||m.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(m.target.displayObject,"mouseout",b.eventData)},y.prototype._onKeyDown=function(m){m.keyCode===n&&this.activate()},y.prototype._onMouseMove=function(m){m.movementX===0&&m.movementY===0||this.deactivate()},y.prototype.destroy=function(){this.div=null;for(var m=0;m<this.children.length;m++)this.children[m].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},y}();_.default=p,w.WebGLRenderer.registerPlugin("accessibility",p),w.CanvasRenderer.registerPlugin("accessibility",p)},26388:function(Y,_){"use strict";_.__esModule=!0,_.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},46807:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(26388);Object.defineProperty(_,"accessibleTarget",{enumerable:!0,get:function(){return o(T).default}});var w=v(73466);Object.defineProperty(_,"AccessibilityManager",{enumerable:!0,get:function(){return o(w).default}});function o(x){return x&&x.__esModule?x:{default:x}}},45328:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function i(t,r){for(var s=0;s<r.length;s++){var c=r[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,s){return r&&i(t.prototype,r),s&&i(t,s),t}}(),w=v(14981),o=v(51822),x=l(o),E=v(60938),d=v(57505),a=l(d),h=v(84633);function l(i){return i&&i.__esModule?i:{default:i}}function n(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function i(t,r,s,c,f){n(this,i),typeof t=="number"&&(t=Object.assign({width:t,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!c,sharedTicker:!!f},s)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,w.autoDetectRenderer)(t),this.stage=new x.default,this._ticker=null,this.ticker=t.sharedTicker?E.shared:new E.Ticker,t.autoStart&&this.start()}return i.prototype.render=function(){this.renderer.render(this.stage)},i.prototype.stop=function(){this._ticker.stop()},i.prototype.start=function(){this._ticker.start()},i.prototype.destroy=function(r,s){if(this._ticker){var c=this._ticker;this.ticker=null,c.destroy()}this.stage.destroy(s),this.stage=null,this.renderer.destroy(r),this.renderer=null,this._options=null},T(i,[{key:"ticker",set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),i}();_.default=e},72916:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(53070),w=v(57505),o=x(w);function x(n){return n&&n.__esModule?n:{default:n}}function E(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function d(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function a(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function h(n,e){if(n instanceof Array){if(n[0].substring(0,9)!=="precision"){var i=n.slice(0);return i.unshift("precision "+e+" float;"),i}}else if(n.trim().substring(0,9)!=="precision")return"precision "+e+` float;
`+n;return n}var l=function(n){a(e,n);function e(i,t,r,s,c){return E(this,e),d(this,n.call(this,i,h(t,c||o.default.PRECISION_VERTEX),h(r,c||o.default.PRECISION_FRAGMENT),void 0,s))}return e}(T.GLShader);_.default=l},14981:function(Y,_,v){"use strict";_.__esModule=!0,_.autoDetectRenderer=l;var T=v(97768),w=h(T),o=v(94695),x=a(o),E=v(57648),d=a(E);function a(n){return n&&n.__esModule?n:{default:n}}function h(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function l(n,e,i,t){var r=n&&n.forceCanvas;return t!==void 0&&(r=t),!r&&w.isWebGLSupported()?new d.default(n,e,i):new x.default(n,e,i)}},84633:function(Y,_){"use strict";_.__esModule=!0;var v=_.VERSION="4.8.4",T=_.PI_2=Math.PI*2,w=_.RAD_TO_DEG=180/Math.PI,o=_.DEG_TO_RAD=Math.PI/180,x=_.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},E=_.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},d=_.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},a=_.SCALE_MODES={LINEAR:0,NEAREST:1},h=_.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},l=_.GC_MODES={AUTO:0,MANUAL:1},n=_.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e=_.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,i=_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t=_.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r=_.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},s=_.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},c=_.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},f=_.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},1392:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(80892);function w(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var o=function(){function x(){w(this,x),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return x.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},x.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},x.prototype.getRectangle=function(d){return this.minX>this.maxX||this.minY>this.maxY?T.Rectangle.EMPTY:(d=d||new T.Rectangle(0,0,1,1),d.x=this.minX,d.y=this.minY,d.width=this.maxX-this.minX,d.height=this.maxY-this.minY,d)},x.prototype.addPoint=function(d){this.minX=Math.min(this.minX,d.x),this.maxX=Math.max(this.maxX,d.x),this.minY=Math.min(this.minY,d.y),this.maxY=Math.max(this.maxY,d.y)},x.prototype.addQuad=function(d){var a=this.minX,h=this.minY,l=this.maxX,n=this.maxY,e=d[0],i=d[1];a=e<a?e:a,h=i<h?i:h,l=e>l?e:l,n=i>n?i:n,e=d[2],i=d[3],a=e<a?e:a,h=i<h?i:h,l=e>l?e:l,n=i>n?i:n,e=d[4],i=d[5],a=e<a?e:a,h=i<h?i:h,l=e>l?e:l,n=i>n?i:n,e=d[6],i=d[7],a=e<a?e:a,h=i<h?i:h,l=e>l?e:l,n=i>n?i:n,this.minX=a,this.minY=h,this.maxX=l,this.maxY=n},x.prototype.addFrame=function(d,a,h,l,n){var e=d.worldTransform,i=e.a,t=e.b,r=e.c,s=e.d,c=e.tx,f=e.ty,u=this.minX,p=this.minY,y=this.maxX,g=this.maxY,m=i*a+r*h+c,b=t*a+s*h+f;u=m<u?m:u,p=b<p?b:p,y=m>y?m:y,g=b>g?b:g,m=i*l+r*h+c,b=t*l+s*h+f,u=m<u?m:u,p=b<p?b:p,y=m>y?m:y,g=b>g?b:g,m=i*a+r*n+c,b=t*a+s*n+f,u=m<u?m:u,p=b<p?b:p,y=m>y?m:y,g=b>g?b:g,m=i*l+r*n+c,b=t*l+s*n+f,u=m<u?m:u,p=b<p?b:p,y=m>y?m:y,g=b>g?b:g,this.minX=u,this.minY=p,this.maxX=y,this.maxY=g},x.prototype.addVertices=function(d,a,h,l){for(var n=d.worldTransform,e=n.a,i=n.b,t=n.c,r=n.d,s=n.tx,c=n.ty,f=this.minX,u=this.minY,p=this.maxX,y=this.maxY,g=h;g<l;g+=2){var m=a[g],b=a[g+1],O=e*m+t*b+s,S=r*b+i*m+c;f=O<f?O:f,u=S<u?S:u,p=O>p?O:p,y=S>y?S:y}this.minX=f,this.minY=u,this.maxX=p,this.maxY=y},x.prototype.addBounds=function(d){var a=this.minX,h=this.minY,l=this.maxX,n=this.maxY;this.minX=d.minX<a?d.minX:a,this.minY=d.minY<h?d.minY:h,this.maxX=d.maxX>l?d.maxX:l,this.maxY=d.maxY>n?d.maxY:n},x.prototype.addBoundsMask=function(d,a){var h=d.minX>a.minX?d.minX:a.minX,l=d.minY>a.minY?d.minY:a.minY,n=d.maxX<a.maxX?d.maxX:a.maxX,e=d.maxY<a.maxY?d.maxY:a.maxY;if(h<=n&&l<=e){var i=this.minX,t=this.minY,r=this.maxX,s=this.maxY;this.minX=h<i?h:i,this.minY=l<t?l:t,this.maxX=n>r?n:r,this.maxY=e>s?e:s}},x.prototype.addBoundsArea=function(d,a){var h=d.minX>a.x?d.minX:a.x,l=d.minY>a.y?d.minY:a.y,n=d.maxX<a.x+a.width?d.maxX:a.x+a.width,e=d.maxY<a.y+a.height?d.maxY:a.y+a.height;if(h<=n&&l<=e){var i=this.minX,t=this.minY,r=this.maxX,s=this.maxY;this.minX=h<i?h:i,this.minY=l<t?l:t,this.maxX=n>r?n:r,this.maxY=e>s?e:s}},x}();_.default=o},51822:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(97768),o=v(141),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){d(this,e);var i=a(this,n.call(this));return i.children=[],i}return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var r=arguments.length;if(r>1)for(var s=0;s<r;s++)this.addChild(arguments[s]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,r){if(r<0||r>this.children.length)throw new Error(t+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(r,0,t),this._boundsID++,this.onChildrenChange(r),t.emit("added",this),t},e.prototype.swapChildren=function(t,r){if(t!==r){var s=this.getChildIndex(t),c=this.getChildIndex(r);this.children[s]=r,this.children[c]=t,this.onChildrenChange(s<c?s:c)}},e.prototype.getChildIndex=function(t){var r=this.children.indexOf(t);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r},e.prototype.setChildIndex=function(t,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var s=this.getChildIndex(t);(0,w.removeItems)(this.children,s,1),this.children.splice(r,0,t),this.onChildrenChange(r)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var r=arguments.length;if(r>1)for(var s=0;s<r;s++)this.removeChild(arguments[s]);else{var c=this.children.indexOf(t);if(c===-1)return null;t.parent=null,t.transform._parentID=-1,(0,w.removeItems)(this.children,c,1),this._boundsID++,this.onChildrenChange(c),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var r=this.getChildAt(t);return r.parent=null,r.transform._parentID=-1,(0,w.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),r},e.prototype.removeChildren=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments[1],s=t,c=typeof r=="number"?r:this.children.length,f=c-s,u=void 0;if(f>0&&f<=c){u=this.children.splice(s,f);for(var p=0;p<u.length;++p)u[p].parent=null,u[p].transform&&(u[p].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var y=0;y<u.length;++y)u[y].emit("removed",this);return u}else if(f===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,r=this.children.length;t<r;++t){var s=this.children[t];s.visible&&s.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var r=this.children[t];!r.visible||!r.renderable||(r.calculateBounds(),r._mask?(r._mask.calculateBounds(),this._bounds.addBoundsMask(r._bounds,r._mask._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var r=0,s=this.children.length;r<s;++r)this.children[r].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var r=this._filters,s=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}s&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var f=0,u=this.children.length;f<u;f++)this.children[f].renderWebGL(t);t.flush(),s&&t.maskManager.popMask(this,this._mask),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var r=0,s=this.children.length;r<s;++r)this.children[r].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(t){n.prototype.destroy.call(this);var r=typeof t=="boolean"?t:t&&t.children,s=this.removeChildren(0,this.children.length);if(r)for(var c=0;c<s.length;++c)s[c].destroy(t)},T(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var r=this.getLocalBounds().width;r!==0?this.scale.x=t/r:this.scale.x=1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var r=this.getLocalBounds().height;r!==0?this.scale.y=t/r:this.scale.y=1,this._height=t}}]),e}(x.default);_.default=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform},141:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function p(y,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,m){return g&&p(y.prototype,g),m&&p(y,m),y}}(),w=v(26729),o=r(w),x=v(84633),E=v(57505),d=r(E),a=v(49921),h=r(a),l=v(18397),n=r(l),e=v(1392),i=r(e),t=v(80892);function r(p){return p&&p.__esModule?p:{default:p}}function s(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function c(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function f(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var u=function(p){f(y,p);function y(){s(this,y);var g=c(this,p.call(this)),m=d.default.TRANSFORM_MODE===x.TRANSFORM_MODE.STATIC?h.default:n.default;return g.tempDisplayObjectParent=null,g.transform=new m,g.alpha=1,g.visible=!0,g.renderable=!0,g.parent=null,g.worldAlpha=1,g.filterArea=null,g._filters=null,g._enabledFilters=null,g._bounds=new i.default,g._boundsID=0,g._lastBoundsID=-1,g._boundsRect=null,g._localBoundsRect=null,g._mask=null,g._destroyed=!1,g}return y.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},y.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},y.prototype.getBounds=function(m,b){return m||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),b||(this._boundsRect||(this._boundsRect=new t.Rectangle),b=this._boundsRect),this._bounds.getRectangle(b)},y.prototype.getLocalBounds=function(m){var b=this.transform,O=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,m||(this._localBoundsRect||(this._localBoundsRect=new t.Rectangle),m=this._localBoundsRect);var S=this.getBounds(!1,m);return this.parent=O,this.transform=b,S},y.prototype.toGlobal=function(m,b){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return O||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(m,b)},y.prototype.toLocal=function(m,b,O,S){return b&&(m=b.toGlobal(m,O,S)),S||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(m,O)},y.prototype.renderWebGL=function(m){},y.prototype.renderCanvas=function(m){},y.prototype.setParent=function(m){if(!m||!m.addChild)throw new Error("setParent: Argument must be a Container");return m.addChild(this),m},y.prototype.setTransform=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,U=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,B=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;return this.position.x=m,this.position.y=b,this.scale.x=O||1,this.scale.y=S||1,this.rotation=R,this.skew.x=A,this.skew.y=G,this.pivot.x=U,this.pivot.y=B,this},y.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},T(y,[{key:"_tempDisplayObjectParent",get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new y),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(m){this.transform.position.x=m}},{key:"y",get:function(){return this.position.y},set:function(m){this.transform.position.y=m}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(m){this.transform.position.copy(m)}},{key:"scale",get:function(){return this.transform.scale},set:function(m){this.transform.scale.copy(m)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(m){this.transform.pivot.copy(m)}},{key:"skew",get:function(){return this.transform.skew},set:function(m){this.transform.skew.copy(m)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(m){this.transform.rotation=m}},{key:"worldVisible",get:function(){var m=this;do{if(!m.visible)return!1;m=m.parent}while(m);return!0}},{key:"mask",get:function(){return this._mask},set:function(m){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=m,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(m){this._filters=m&&m.slice()}}]),y}(o.default);_.default=u,u.prototype.displayObjectUpdateTransform=u.prototype.updateTransform},18397:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(80892),o=v(229),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){d(this,e);var i=a(this,n.call(this));return i.position=new w.Point(0,0),i.scale=new w.Point(1,1),i.skew=new w.ObservablePoint(i.updateSkew,i,0,0),i.pivot=new w.Point(0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i}return e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var r=this.localTransform;r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d);var s=t.worldTransform,c=this.worldTransform;c.a=r.a*s.a+r.b*s.c,c.b=r.a*s.b+r.b*s.d,c.c=r.c*s.a+r.d*s.c,c.d=r.c*s.b+r.d*s.d,c.tx=r.tx*s.a+r.ty*s.c+s.tx,c.ty=r.tx*s.b+r.ty*s.d+s.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},T(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(x.default);_.default=l},229:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(80892);function w(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var o=function(){function x(){w(this,x),this.worldTransform=new T.Matrix,this.localTransform=new T.Matrix,this._worldID=0,this._parentID=0}return x.prototype.updateLocalTransform=function(){},x.prototype.updateTransform=function(d){var a=d.worldTransform,h=this.worldTransform,l=this.localTransform;h.a=l.a*a.a+l.b*a.c,h.b=l.a*a.b+l.b*a.d,h.c=l.c*a.a+l.d*a.c,h.d=l.c*a.b+l.d*a.d,h.tx=l.tx*a.a+l.ty*a.c+a.tx,h.ty=l.tx*a.b+l.ty*a.d+a.ty,this._worldID++},x}();_.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},49921:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(80892),o=v(229),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){d(this,e);var i=a(this,n.call(this));return i.position=new w.ObservablePoint(i.onChange,i,0,0),i.scale=new w.ObservablePoint(i.onChange,i,1,1),i.pivot=new w.ObservablePoint(i.onChange,i,0,0),i.skew=new w.ObservablePoint(i.updateSkew,i,0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i._localID=0,i._currentLocalID=0,i}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var s=t.worldTransform,c=this.worldTransform;c.a=r.a*s.a+r.b*s.c,c.b=r.a*s.b+r.b*s.d,c.c=r.c*s.a+r.d*s.c,c.d=r.c*s.b+r.d*s.d,c.tx=r.tx*s.a+r.ty*s.c+s.tx,c.ty=r.tx*s.b+r.ty*s.d+s.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},T(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),e}(x.default);_.default=l},77240:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(51822),w=y(T),o=v(90869),x=y(o),E=v(52631),d=y(E),a=v(58277),h=y(a),l=v(88391),n=y(l),e=v(80892),i=v(97768),t=v(84633),r=v(1392),s=y(r),c=v(83328),f=y(c),u=v(94695),p=y(u);function y(B){return B&&B.__esModule?B:{default:B}}function g(B,P){if(!(B instanceof P))throw new TypeError("Cannot call a class as a function")}function m(B,P){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:B}function b(B,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);B.prototype=Object.create(P&&P.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(B,P):B.__proto__=P)}var O=void 0,S=new e.Matrix,R=new e.Point,A=new Float32Array(4),G=new Float32Array(4),U=function(B){b(P,B);function P(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;g(this,P);var M=m(this,B.call(this));return M.fillAlpha=1,M.lineWidth=0,M.nativeLines=X,M.lineColor=0,M.lineAlignment=.5,M.graphicsData=[],M.tint=16777215,M._prevTint=16777215,M.blendMode=t.BLEND_MODES.NORMAL,M.currentPath=null,M._webGL={},M.isMask=!1,M.boundsPadding=0,M._localBounds=new s.default,M.dirty=0,M.fastRectDirty=-1,M.clearDirty=0,M.boundsDirty=-1,M.cachedSpriteDirty=!1,M._spriteRect=null,M._fastRect=!1,M._prevRectTint=null,M._prevRectFillColor=null,M}return P.prototype.clone=function(){var M=new P;M.renderable=this.renderable,M.fillAlpha=this.fillAlpha,M.lineWidth=this.lineWidth,M.lineColor=this.lineColor,M.lineAlignment=this.lineAlignment,M.tint=this.tint,M.blendMode=this.blendMode,M.isMask=this.isMask,M.boundsPadding=this.boundsPadding,M.dirty=0,M.cachedSpriteDirty=this.cachedSpriteDirty;for(var D=0;D<this.graphicsData.length;++D)M.graphicsData.push(this.graphicsData[D].clone());return M.currentPath=M.graphicsData[M.graphicsData.length-1],M.updateLocalBounds(),M},P.prototype._quadraticCurveLength=function(M,D,N,L,k,F){var I=M-(2*N+k),C=D-(2*L+F),z=2*((N-2)*M),Z=2*((L-2)*D),W=4*(I*I+C*C),V=4*(I*z+C*Z),H=z*z+Z*Z,Q=2*Math.sqrt(W+V+H),q=Math.sqrt(W),$=2*W*q,j=2*Math.sqrt(H),J=V/q;return($*Q+q*V*(Q-j)+(4*H*W-V*V)*Math.log((2*q+J+Q)/(J+j)))/(4*$)},P.prototype._bezierCurveLength=function(M,D,N,L,k,F,I,C){for(var z=10,Z=0,W=0,V=0,H=0,Q=0,q=0,$=0,j=0,J=0,K=0,ee=0,te=M,ne=D,ie=1;ie<=z;++ie)W=ie/z,V=W*W,H=V*W,Q=1-W,q=Q*Q,$=q*Q,j=$*M+3*q*W*N+3*Q*V*k+H*I,J=$*D+3*q*W*L+3*Q*V*F+H*C,K=te-j,ee=ne-J,te=j,ne=J,Z+=Math.sqrt(K*K+ee*ee);return Z},P.prototype._segmentsCount=function(M){var D=Math.ceil(M/P.CURVES.maxLength);return D<P.CURVES.minSegments?D=P.CURVES.minSegments:D>P.CURVES.maxSegments&&(D=P.CURVES.maxSegments),D},P.prototype.lineStyle=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;if(this.lineWidth=M,this.lineColor=D,this.lineAlpha=N,this.lineAlignment=L,this.currentPath)if(this.currentPath.shape.points.length){var k=new e.Polygon(this.currentPath.shape.points.slice(-2));k.closed=!1,this.drawShape(k)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},P.prototype.moveTo=function(M,D){var N=new e.Polygon([M,D]);return N.closed=!1,this.drawShape(N),this},P.prototype.lineTo=function(M,D){var N=this.currentPath.shape.points,L=N[N.length-2],k=N[N.length-1];return(L!==M||k!==D)&&(N.push(M,D),this.dirty++),this},P.prototype.quadraticCurveTo=function(M,D,N,L){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var k=this.currentPath.shape.points,F=0,I=0;k.length===0&&this.moveTo(0,0);for(var C=k[k.length-2],z=k[k.length-1],Z=P.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(C,z,M,D,N,L)):20,W=1;W<=Z;++W){var V=W/Z;F=C+(M-C)*V,I=z+(D-z)*V,k.push(F+(M+(N-M)*V-F)*V,I+(D+(L-D)*V-I)*V)}return this.dirty++,this},P.prototype.bezierCurveTo=function(M,D,N,L,k,F){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var I=this.currentPath.shape.points,C=I[I.length-2],z=I[I.length-1];I.length-=2;var Z=P.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(C,z,M,D,N,L,k,F)):20;return(0,f.default)(C,z,M,D,N,L,k,F,Z,I),this.dirty++,this},P.prototype.arcTo=function(M,D,N,L,k){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(M,D):this.moveTo(M,D);var F=this.currentPath.shape.points,I=F[F.length-2],C=F[F.length-1],z=C-D,Z=I-M,W=L-D,V=N-M,H=Math.abs(z*V-Z*W);if(H<1e-8||k===0)(F[F.length-2]!==M||F[F.length-1]!==D)&&F.push(M,D);else{var Q=z*z+Z*Z,q=W*W+V*V,$=z*W+Z*V,j=k*Math.sqrt(Q)/H,J=k*Math.sqrt(q)/H,K=j*$/Q,ee=J*$/q,te=j*V+J*Z,ne=j*W+J*z,ie=Z*(J+K),oe=z*(J+K),re=V*(j+ee),ae=W*(j+ee),ue=Math.atan2(oe-ne,ie-te),ce=Math.atan2(ae-ne,re-te);this.arc(te+M,ne+D,k,ue,ce,Z*W>V*z)}return this.dirty++,this},P.prototype.arc=function(M,D,N,L,k){var F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(L===k)return this;!F&&k<=L?k+=t.PI_2:F&&L<=k&&(L+=t.PI_2);var I=k-L,C=P.CURVES.adaptive?this._segmentsCount(Math.abs(I)*N):Math.ceil(Math.abs(I)/t.PI_2)*40;if(I===0)return this;var z=M+Math.cos(L)*N,Z=D+Math.sin(L)*N,W=this.currentPath?this.currentPath.shape.points:null;if(W){var V=Math.abs(W[W.length-2]-z),H=Math.abs(W[W.length-1]-Z);V<.001&&H<.001||W.push(z,Z)}else this.moveTo(z,Z),W=this.currentPath.shape.points;for(var Q=I/(C*2),q=Q*2,$=Math.cos(Q),j=Math.sin(Q),J=C-1,K=J%1/J,ee=0;ee<=J;++ee){var te=ee+K*ee,ne=Q+L+q*te,ie=Math.cos(ne),oe=-Math.sin(ne);W.push(($*ie+j*oe)*N+M,($*-oe+j*ie)*N+D)}return this.dirty++,this},P.prototype.beginFill=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.filling=!0,this.fillColor=M,this.fillAlpha=D,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},P.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},P.prototype.drawRect=function(M,D,N,L){return this.drawShape(new e.Rectangle(M,D,N,L)),this},P.prototype.drawRoundedRect=function(M,D,N,L,k){return this.drawShape(new e.RoundedRectangle(M,D,N,L,k)),this},P.prototype.drawCircle=function(M,D,N){return this.drawShape(new e.Circle(M,D,N)),this},P.prototype.drawEllipse=function(M,D,N,L){return this.drawShape(new e.Ellipse(M,D,N,L)),this},P.prototype.drawPolygon=function(M){var D=M,N=!0;if(D instanceof e.Polygon&&(N=D.closed,D=D.points),!Array.isArray(D)){D=new Array(arguments.length);for(var L=0;L<D.length;++L)D[L]=arguments[L]}var k=new e.Polygon(D);return k.closed=N,this.drawShape(k),this},P.prototype.drawStar=function(M,D,N,L,k){var F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;k=k||L/2;for(var I=-1*Math.PI/2+F,C=N*2,z=t.PI_2/C,Z=[],W=0;W<C;W++){var V=W%2?k:L,H=W*z+I;Z.push(M+V*Math.cos(H),D+V*Math.sin(H))}return this.drawPolygon(Z)},P.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},P.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===t.SHAPES.RECT&&!this.graphicsData[0].lineWidth},P.prototype._renderWebGL=function(M){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(M):(M.setObjectRenderer(M.plugins.graphics),M.plugins.graphics.render(this))},P.prototype._renderSpriteRect=function(M){var D=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new n.default(new d.default(d.default.WHITE)));var N=this._spriteRect,L=this.graphicsData[0].fillColor;if(this.tint===16777215)N.tint=L;else if(this.tint!==this._prevRectTint||L!==this._prevRectFillColor){var k=A,F=G;(0,i.hex2rgb)(L,k),(0,i.hex2rgb)(this.tint,F),k[0]*=F[0],k[1]*=F[1],k[2]*=F[2],N.tint=(0,i.rgb2hex)(k),this._prevRectTint=this.tint,this._prevRectFillColor=L}N.alpha=this.graphicsData[0].fillAlpha,N.worldAlpha=this.worldAlpha*N.alpha,N.blendMode=this.blendMode,N._texture._frame.width=D.width,N._texture._frame.height=D.height,N.transform.worldTransform=this.transform.worldTransform,N.anchor.set(-D.x/D.width,-D.y/D.height),N._onAnchorUpdate(),N._renderWebGL(M)},P.prototype._renderCanvas=function(M){this.isMask!==!0&&M.plugins.graphics.render(this)},P.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var M=this._localBounds;this._bounds.addFrame(this.transform,M.minX,M.minY,M.maxX,M.maxY)},P.prototype.containsPoint=function(M){this.worldTransform.applyInverse(M,R);for(var D=this.graphicsData,N=0;N<D.length;++N){var L=D[N];if(!!L.fill&&L.shape&&L.shape.contains(R.x,R.y)){if(L.holes)for(var k=0;k<L.holes.length;k++){var F=L.holes[k];if(F.contains(R.x,R.y))return!1}return!0}}return!1},P.prototype.updateLocalBounds=function(){var M=Infinity,D=-Infinity,N=Infinity,L=-Infinity;if(this.graphicsData.length)for(var k=0,F=0,I=0,C=0,z=0,Z=0;Z<this.graphicsData.length;Z++){var W=this.graphicsData[Z],V=W.type,H=W.lineWidth,Q=W.lineAlignment,q=H*Q;if(k=W.shape,V===t.SHAPES.RECT||V===t.SHAPES.RREC)F=k.x-q,I=k.y-q,C=k.width+q*2,z=k.height+q*2,M=F<M?F:M,D=F+C>D?F+C:D,N=I<N?I:N,L=I+z>L?I+z:L;else if(V===t.SHAPES.CIRC)F=k.x,I=k.y,C=k.radius+q,z=k.radius+q,M=F-C<M?F-C:M,D=F+C>D?F+C:D,N=I-z<N?I-z:N,L=I+z>L?I+z:L;else if(V===t.SHAPES.ELIP)F=k.x,I=k.y,C=k.width+q,z=k.height+q,M=F-C<M?F-C:M,D=F+C>D?F+C:D,N=I-z<N?I-z:N,L=I+z>L?I+z:L;else for(var $=k.points,j=0,J=0,K=0,ee=0,te=0,ne=0,ie=0,oe=0,re=0;re+2<$.length;re+=2)F=$[re],I=$[re+1],j=$[re+2],J=$[re+3],K=Math.abs(j-F),ee=Math.abs(J-I),z=q*2,C=Math.sqrt(K*K+ee*ee),!(C<1e-9)&&(te=(z/C*ee+K)/2,ne=(z/C*K+ee)/2,ie=(j+F)/2,oe=(J+I)/2,M=ie-te<M?ie-te:M,D=ie+te>D?ie+te:D,N=oe-ne<N?oe-ne:N,L=oe+ne>L?oe+ne:L)}else M=0,D=0,N=0,L=0;var ae=this.boundsPadding;this._localBounds.minX=M-ae,this._localBounds.maxX=D+ae,this._localBounds.minY=N-ae,this._localBounds.maxY=L+ae},P.prototype.drawShape=function(M){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var D=new h.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,M,this.lineAlignment);return this.graphicsData.push(D),D.type===t.SHAPES.POLY&&(D.shape.closed=D.shape.closed,this.currentPath=D),this.dirty++,D},P.prototype.generateCanvasTexture=function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,N=this.getLocalBounds(),L=x.default.create(N.width,N.height,M,D);O||(O=new p.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(S),S.invert(),S.tx-=N.x,S.ty-=N.y,O.render(this,L,!0,S);var k=d.default.fromCanvas(L.baseTexture._canvasRenderTarget.canvas,M,"graphics");return k.baseTexture.resolution=D,k.baseTexture.update(),k},P.prototype.closePath=function(){var M=this.currentPath;return M&&M.shape&&M.shape.close(),this},P.prototype.addHole=function(){var M=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(M.shape),this.currentPath=null,this},P.prototype.destroy=function(M){B.prototype.destroy.call(this,M);for(var D=0;D<this.graphicsData.length;++D)this.graphicsData[D].destroy();for(var N in this._webGL)for(var L=0;L<this._webGL[N].data.length;++L)this._webGL[N].data[L].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},P}(w.default);_.default=U,U._SPRITE_TEXTURE=null,U.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},58277:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o,x,E,d,a,h,l,n,e){v(this,w),this.lineWidth=o,this.lineAlignment=e,this.nativeLines=l,this.lineColor=x,this.lineAlpha=E,this._lineTint=x,this.fillColor=d,this.fillAlpha=a,this._fillTint=d,this.fill=h,this.holes=[],this.shape=n,this.type=n.type}return w.prototype.clone=function(){return new w(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},w.prototype.addHole=function(x){this.holes.push(x)},w.prototype.destroy=function(){this.shape=null,this.holes=null},w}();_.default=T},47122:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(94695),w=x(T),o=v(84633);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(h){E(this,a),this.renderer=h}return a.prototype.render=function(l){var n=this.renderer,e=n.context,i=l.worldAlpha,t=l.transform.worldTransform,r=n.resolution;e.setTransform(t.a*r,t.b*r,t.c*r,t.d*r,t.tx*r,t.ty*r),(l.canvasTintDirty!==l.dirty||l._prevTint!==l.tint)&&this.updateGraphicsTint(l),n.setBlendMode(l.blendMode);for(var s=0;s<l.graphicsData.length;s++){var c=l.graphicsData[s],f=c.shape,u=c._fillTint,p=c._lineTint;if(e.lineWidth=c.lineWidth,c.type===o.SHAPES.POLY){e.beginPath();var y=f.points,g=c.holes,m=void 0,b=void 0;e.moveTo(y[0],y[1]);for(var O=2;O<y.length;O+=2)e.lineTo(y[O],y[O+1]);if(f.closed&&e.closePath(),g.length>0){m=0;for(var S=0;S<y.length;S+=2)m+=y[S]*y[S+3]-y[S+1]*y[S+2];for(var R=0;R<g.length;R++){y=g[R].points,b=0;for(var A=0;A<y.length;A+=2)b+=y[A]*y[A+3]-y[A+1]*y[A+2];if(e.moveTo(y[0],y[1]),b*m<0)for(var G=2;G<y.length;G+=2)e.lineTo(y[G],y[G+1]);else for(var U=y.length-2;U>=2;U-=2)e.lineTo(y[U],y[U+1]);g[R].closed&&e.closePath()}}c.fill&&(e.globalAlpha=c.fillAlpha*i,e.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),e.fill()),c.lineWidth&&(e.globalAlpha=c.lineAlpha*i,e.strokeStyle="#"+("00000"+(p|0).toString(16)).substr(-6),e.stroke())}else if(c.type===o.SHAPES.RECT)(c.fillColor||c.fillColor===0)&&(e.globalAlpha=c.fillAlpha*i,e.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),e.fillRect(f.x,f.y,f.width,f.height)),c.lineWidth&&(e.globalAlpha=c.lineAlpha*i,e.strokeStyle="#"+("00000"+(p|0).toString(16)).substr(-6),e.strokeRect(f.x,f.y,f.width,f.height));else if(c.type===o.SHAPES.CIRC)e.beginPath(),e.arc(f.x,f.y,f.radius,0,2*Math.PI),e.closePath(),c.fill&&(e.globalAlpha=c.fillAlpha*i,e.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),e.fill()),c.lineWidth&&(e.globalAlpha=c.lineAlpha*i,e.strokeStyle="#"+("00000"+(p|0).toString(16)).substr(-6),e.stroke());else if(c.type===o.SHAPES.ELIP){var B=f.width*2,P=f.height*2,X=f.x-B/2,M=f.y-P/2;e.beginPath();var D=.5522848,N=B/2*D,L=P/2*D,k=X+B,F=M+P,I=X+B/2,C=M+P/2;e.moveTo(X,C),e.bezierCurveTo(X,C-L,I-N,M,I,M),e.bezierCurveTo(I+N,M,k,C-L,k,C),e.bezierCurveTo(k,C+L,I+N,F,I,F),e.bezierCurveTo(I-N,F,X,C+L,X,C),e.closePath(),c.fill&&(e.globalAlpha=c.fillAlpha*i,e.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),e.fill()),c.lineWidth&&(e.globalAlpha=c.lineAlpha*i,e.strokeStyle="#"+("00000"+(p|0).toString(16)).substr(-6),e.stroke())}else if(c.type===o.SHAPES.RREC){var z=f.x,Z=f.y,W=f.width,V=f.height,H=f.radius,Q=Math.min(W,V)/2|0;H=H>Q?Q:H,e.beginPath(),e.moveTo(z,Z+H),e.lineTo(z,Z+V-H),e.quadraticCurveTo(z,Z+V,z+H,Z+V),e.lineTo(z+W-H,Z+V),e.quadraticCurveTo(z+W,Z+V,z+W,Z+V-H),e.lineTo(z+W,Z+H),e.quadraticCurveTo(z+W,Z,z+W-H,Z),e.lineTo(z+H,Z),e.quadraticCurveTo(z,Z,z,Z+H),e.closePath(),(c.fillColor||c.fillColor===0)&&(e.globalAlpha=c.fillAlpha*i,e.fillStyle="#"+("00000"+(u|0).toString(16)).substr(-6),e.fill()),c.lineWidth&&(e.globalAlpha=c.lineAlpha*i,e.strokeStyle="#"+("00000"+(p|0).toString(16)).substr(-6),e.stroke())}}},a.prototype.updateGraphicsTint=function(l){l._prevTint=l.tint,l.canvasTintDirty=l.dirty;for(var n=(l.tint>>16&255)/255,e=(l.tint>>8&255)/255,i=(l.tint&255)/255,t=0;t<l.graphicsData.length;++t){var r=l.graphicsData[t],s=r.fillColor|0,c=r.lineColor|0;r._fillTint=((s>>16&255)/255*n*255<<16)+((s>>8&255)/255*e*255<<8)+(s&255)/255*i*255,r._lineTint=((c>>16&255)/255*n*255<<16)+((c>>8&255)/255*e*255<<8)+(c&255)/255*i*255}},a.prototype.renderPolygon=function(l,n,e){e.moveTo(l[0],l[1]);for(var i=1;i<l.length/2;++i)e.lineTo(l[i*2],l[i*2+1]);n&&e.closePath()},a.prototype.destroy=function(){this.renderer=null},a}();_.default=d,w.default.registerPlugin("graphics",d)},83328:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(T,w,o,x,E,d,a,h,l){var n=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],e=0,i=0,t=0,r=0,s=0;n.push(T,w);for(var c=1,f=0;c<=l;++c)f=c/l,e=1-f,i=e*e,t=i*e,r=f*f,s=r*f,n.push(t*T+3*i*f*o+3*e*r*E+s*a,t*w+3*i*f*x+3*e*r*d+s*h);return n}},11281:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(97768),w=v(84633),o=v(3364),x=p(o),E=v(57648),d=p(E),a=v(36835),h=p(a),l=v(39041),n=p(l),e=v(54784),i=p(e),t=v(5009),r=p(t),s=v(53949),c=p(s),f=v(27159),u=p(f);function p(O){return O&&O.__esModule?O:{default:O}}function y(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function g(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function m(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var b=function(O){m(S,O);function S(R){y(this,S);var A=g(this,O.call(this,R));return A.graphicsDataPool=[],A.primitiveShader=null,A.gl=R.gl,A.CONTEXT_UID=0,A}return S.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new n.default(this.gl)},S.prototype.destroy=function(){x.default.prototype.destroy.call(this);for(var A=0;A<this.graphicsDataPool.length;++A)this.graphicsDataPool[A].destroy();this.graphicsDataPool=null},S.prototype.render=function(A){var G=this.renderer,U=G.gl,B=void 0,P=A._webGL[this.CONTEXT_UID];(!P||A.dirty!==P.dirty)&&(this.updateGraphics(A),P=A._webGL[this.CONTEXT_UID]);var X=this.primitiveShader;G.bindShader(X),G.state.setBlendMode(A.blendMode);for(var M=0,D=P.data.length;M<D;M++){B=P.data[M];var N=B.shader;G.bindShader(N),N.uniforms.translationMatrix=A.transform.worldTransform.toArray(!0),N.uniforms.tint=(0,T.hex2rgb)(A.tint),N.uniforms.alpha=A.worldAlpha,G.bindVao(B.vao),B.nativeLines?U.drawArrays(U.LINES,0,B.points.length/6):B.vao.draw(U.TRIANGLE_STRIP,B.indices.length)}},S.prototype.updateGraphics=function(A){var G=this.renderer.gl,U=A._webGL[this.CONTEXT_UID];if(U||(U=A._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:G,clearDirty:-1,dirty:-1}),U.dirty=A.dirty,A.clearDirty!==U.clearDirty){U.clearDirty=A.clearDirty;for(var B=0;B<U.data.length;B++)this.graphicsDataPool.push(U.data[B]);U.data.length=0,U.lastIndex=0}for(var P=void 0,X=void 0,M=U.lastIndex;M<A.graphicsData.length;M++){var D=A.graphicsData[M];P=this.getWebGLData(U,0),D.nativeLines&&D.lineWidth&&(X=this.getWebGLData(U,0,!0),U.lastIndex++),D.type===w.SHAPES.POLY&&(0,i.default)(D,P,X),D.type===w.SHAPES.RECT?(0,r.default)(D,P,X):D.type===w.SHAPES.CIRC||D.type===w.SHAPES.ELIP?(0,u.default)(D,P,X):D.type===w.SHAPES.RREC&&(0,c.default)(D,P,X),U.lastIndex++}this.renderer.bindVao(null);for(var N=0;N<U.data.length;N++)P=U.data[N],P.dirty&&P.upload()},S.prototype.getWebGLData=function(A,G,U){var B=A.data[A.data.length-1];return(!B||B.nativeLines!==U||B.points.length>32e4)&&(B=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),B.nativeLines=U,B.reset(G),A.data.push(B)),B.dirty=!0,B},S}(x.default);_.default=b,d.default.registerPlugin("graphics",b)},36835:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(53070),w=o(T);function o(d){return d&&d.__esModule?d:{default:d}}function x(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}var E=function(){function d(a,h,l){x(this,d),this.gl=a,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=w.default.GLBuffer.createVertexBuffer(a),this.indexBuffer=w.default.GLBuffer.createIndexBuffer(a),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=h,this.vao=new w.default.VertexArrayObject(a,l).addIndex(this.indexBuffer).addAttribute(this.buffer,h.attributes.aVertexPosition,a.FLOAT,!1,4*6,0).addAttribute(this.buffer,h.attributes.aColor,a.FLOAT,!1,4*6,2*4)}return d.prototype.reset=function(){this.points.length=0,this.indices.length=0},d.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},d.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},d}();_.default=E},39041:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(72916),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(n){return x(this,l),E(this,h.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return l}(w.default);_.default=a},27159:function(Y,_,v){"use strict";_.__esModule=!0,_.default=d;var T=v(83917),w=E(T),o=v(84633),x=v(97768);function E(a){return a&&a.__esModule?a:{default:a}}function d(a,h,l){var n=a.shape,e=n.x,i=n.y,t=void 0,r=void 0;if(a.type===o.SHAPES.CIRC?(t=n.radius,r=n.radius):(t=n.width,r=n.height),!(t===0||r===0)){var s=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),c=Math.PI*2/s;if(a.fill){var f=(0,x.hex2rgb)(a.fillColor),u=a.fillAlpha,p=f[0]*u,y=f[1]*u,g=f[2]*u,m=h.points,b=h.indices,O=m.length/6;b.push(O);for(var S=0;S<s+1;S++)m.push(e,i,p,y,g,u),m.push(e+Math.sin(c*S)*t,i+Math.cos(c*S)*r,p,y,g,u),b.push(O++,O++);b.push(O-1)}if(a.lineWidth){var R=a.points;a.points=[];for(var A=0;A<s;A++)a.points.push(e+Math.sin(c*-A)*t,i+Math.cos(c*-A)*r);a.points.push(a.points[0],a.points[1]),(0,w.default)(a,h,l),a.points=R}}}},83917:function(Y,_,v){"use strict";_.__esModule=!0,_.default=function(E,d,a){E.nativeLines?x(E,a):o(E,d)};var T=v(80892),w=v(97768);function o(E,d){var a=E.points;if(a.length!==0){var h=new T.Point(a[0],a[1]),l=new T.Point(a[a.length-2],a[a.length-1]);if(h.x===l.x&&h.y===l.y){a=a.slice(),a.pop(),a.pop(),l=new T.Point(a[a.length-2],a[a.length-1]);var n=l.x+(h.x-l.x)*.5,e=l.y+(h.y-l.y)*.5;a.unshift(n,e),a.push(n,e)}var i=d.points,t=d.indices,r=a.length/2,s=a.length,c=i.length/6,f=E.lineWidth/2,u=(0,w.hex2rgb)(E.lineColor),p=E.lineAlpha,y=u[0]*p,g=u[1]*p,m=u[2]*p,b=a[0],O=a[1],S=a[2],R=a[3],A=0,G=0,U=-(O-R),B=b-S,P=0,X=0,M=0,D=0,N=Math.sqrt(U*U+B*B);U/=N,B/=N,U*=f,B*=f;var L=E.lineAlignment,k=(1-L)*2,F=L*2;i.push(b-U*k,O-B*k,y,g,m,p),i.push(b+U*F,O+B*F,y,g,m,p);for(var I=1;I<r-1;++I){b=a[(I-1)*2],O=a[(I-1)*2+1],S=a[I*2],R=a[I*2+1],A=a[(I+1)*2],G=a[(I+1)*2+1],U=-(O-R),B=b-S,N=Math.sqrt(U*U+B*B),U/=N,B/=N,U*=f,B*=f,P=-(R-G),X=S-A,N=Math.sqrt(P*P+X*X),P/=N,X/=N,P*=f,X*=f;var C=-B+O-(-B+R),z=-U+S-(-U+b),Z=(-U+b)*(-B+R)-(-U+S)*(-B+O),W=-X+G-(-X+R),V=-P+S-(-P+A),H=(-P+A)*(-X+R)-(-P+S)*(-X+G),Q=C*V-W*z;if(Math.abs(Q)<.1){Q+=10.1,i.push(S-U*k,R-B*k,y,g,m,p),i.push(S+U*F,R+B*F,y,g,m,p);continue}var q=(z*H-V*Z)/Q,$=(W*Z-C*H)/Q,j=(q-S)*(q-S)+($-R)*($-R);j>196*f*f?(M=U-P,D=B-X,N=Math.sqrt(M*M+D*D),M/=N,D/=N,M*=f,D*=f,i.push(S-M*k,R-D*k),i.push(y,g,m,p),i.push(S+M*F,R+D*F),i.push(y,g,m,p),i.push(S-M*F*k,R-D*k),i.push(y,g,m,p),s++):(i.push(S+(q-S)*k,R+($-R)*k),i.push(y,g,m,p),i.push(S-(q-S)*F,R-($-R)*F),i.push(y,g,m,p))}b=a[(r-2)*2],O=a[(r-2)*2+1],S=a[(r-1)*2],R=a[(r-1)*2+1],U=-(O-R),B=b-S,N=Math.sqrt(U*U+B*B),U/=N,B/=N,U*=f,B*=f,i.push(S-U*k,R-B*k),i.push(y,g,m,p),i.push(S+U*F,R+B*F),i.push(y,g,m,p),t.push(c);for(var J=0;J<s;++J)t.push(c++);t.push(c-1)}}function x(E,d){var a=0,h=E.points;if(h.length!==0){var l=d.points,n=h.length/2,e=(0,w.hex2rgb)(E.lineColor),i=E.lineAlpha,t=e[0]*i,r=e[1]*i,s=e[2]*i;for(a=1;a<n;a++){var c=h[(a-1)*2],f=h[(a-1)*2+1],u=h[a*2],p=h[a*2+1];l.push(c,f),l.push(t,r,s,i),l.push(u,p),l.push(t,r,s,i)}}}},54784:function(Y,_,v){"use strict";_.__esModule=!0,_.default=a;var T=v(83917),w=d(T),o=v(97768),x=v(9187),E=d(x);function d(h){return h&&h.__esModule?h:{default:h}}function a(h,l,n){h.points=h.shape.points.slice();var e=h.points;if(h.fill&&e.length>=6){for(var i=[],t=h.holes,r=0;r<t.length;r++){var s=t[r];i.push(e.length/2),e=e.concat(s.points)}var c=l.points,f=l.indices,u=e.length/2,p=(0,o.hex2rgb)(h.fillColor),y=h.fillAlpha,g=p[0]*y,m=p[1]*y,b=p[2]*y,O=(0,E.default)(e,i,2);if(!O)return;for(var S=c.length/6,R=0;R<O.length;R+=3)f.push(O[R]+S),f.push(O[R]+S),f.push(O[R+1]+S),f.push(O[R+2]+S),f.push(O[R+2]+S);for(var A=0;A<u;A++)c.push(e[A*2],e[A*2+1],g,m,b,y)}h.lineWidth>0&&(0,w.default)(h,l,n)}},5009:function(Y,_,v){"use strict";_.__esModule=!0,_.default=E;var T=v(83917),w=x(T),o=v(97768);function x(d){return d&&d.__esModule?d:{default:d}}function E(d,a,h){var l=d.shape,n=l.x,e=l.y,i=l.width,t=l.height;if(d.fill){var r=(0,o.hex2rgb)(d.fillColor),s=d.fillAlpha,c=r[0]*s,f=r[1]*s,u=r[2]*s,p=a.points,y=a.indices,g=p.length/6;p.push(n,e),p.push(c,f,u,s),p.push(n+i,e),p.push(c,f,u,s),p.push(n,e+t),p.push(c,f,u,s),p.push(n+i,e+t),p.push(c,f,u,s),y.push(g,g,g+1,g+2,g+3,g+3)}if(d.lineWidth){var m=d.points;d.points=[n,e,n+i,e,n+i,e+t,n,e+t,n,e],(0,w.default)(d,a,h),d.points=m}}},53949:function(Y,_,v){"use strict";_.__esModule=!0,_.default=a;var T=v(9187),w=d(T),o=v(83917),x=d(o),E=v(97768);function d(n){return n&&n.__esModule?n:{default:n}}function a(n,e,i){var t=n.shape,r=t.x,s=t.y,c=t.width,f=t.height,u=t.radius,p=[];if(p.push(r+u,s),l(r+c-u,s,r+c,s,r+c,s+u,p),l(r+c,s+f-u,r+c,s+f,r+c-u,s+f,p),l(r+u,s+f,r,s+f,r,s+f-u,p),l(r,s+u,r,s,r+u+1e-10,s,p),n.fill){for(var y=(0,E.hex2rgb)(n.fillColor),g=n.fillAlpha,m=y[0]*g,b=y[1]*g,O=y[2]*g,S=e.points,R=e.indices,A=S.length/6,G=(0,w.default)(p,null,2),U=0,B=G.length;U<B;U+=3)R.push(G[U]+A),R.push(G[U]+A),R.push(G[U+1]+A),R.push(G[U+2]+A),R.push(G[U+2]+A);for(var P=0,X=p.length;P<X;P++)S.push(p[P],p[++P],m,b,O,g)}if(n.lineWidth){var M=n.points;n.points=p,(0,x.default)(n,e,i),n.points=M}}function h(n,e,i){var t=e-n;return n+t*i}function l(n,e,i,t,r,s){for(var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],f=20,u=c,p=0,y=0,g=0,m=0,b=0,O=0,S=0,R=0;S<=f;++S)R=S/f,p=h(n,i,R),y=h(e,t,R),g=h(i,r,R),m=h(t,s,R),b=h(p,g,R),O=h(y,m,R),u.push(b,O);return u}},92321:function(Y,_,v){"use strict";_.__esModule=!0,_.autoDetectRenderer=_.Application=_.Filter=_.SpriteMaskFilter=_.Quad=_.RenderTarget=_.ObjectRenderer=_.WebGLManager=_.Shader=_.CanvasRenderTarget=_.TextureUvs=_.VideoBaseTexture=_.BaseRenderTexture=_.RenderTexture=_.BaseTexture=_.TextureMatrix=_.Texture=_.Spritesheet=_.CanvasGraphicsRenderer=_.GraphicsRenderer=_.GraphicsData=_.Graphics=_.TextMetrics=_.TextStyle=_.Text=_.SpriteRenderer=_.CanvasTinter=_.CanvasSpriteRenderer=_.Sprite=_.TransformBase=_.TransformStatic=_.Transform=_.Container=_.DisplayObject=_.Bounds=_.glCore=_.WebGLRenderer=_.CanvasRenderer=_.ticker=_.utils=_.settings=void 0;var T=v(84633);Object.keys(T).forEach(function(K){K==="default"||K==="__esModule"||Object.defineProperty(_,K,{enumerable:!0,get:function(){return T[K]}})});var w=v(80892);Object.keys(w).forEach(function(K){K==="default"||K==="__esModule"||Object.defineProperty(_,K,{enumerable:!0,get:function(){return w[K]}})});var o=v(53070);Object.defineProperty(_,"glCore",{enumerable:!0,get:function(){return J(o).default}});var x=v(1392);Object.defineProperty(_,"Bounds",{enumerable:!0,get:function(){return J(x).default}});var E=v(141);Object.defineProperty(_,"DisplayObject",{enumerable:!0,get:function(){return J(E).default}});var d=v(51822);Object.defineProperty(_,"Container",{enumerable:!0,get:function(){return J(d).default}});var a=v(18397);Object.defineProperty(_,"Transform",{enumerable:!0,get:function(){return J(a).default}});var h=v(49921);Object.defineProperty(_,"TransformStatic",{enumerable:!0,get:function(){return J(h).default}});var l=v(229);Object.defineProperty(_,"TransformBase",{enumerable:!0,get:function(){return J(l).default}});var n=v(88391);Object.defineProperty(_,"Sprite",{enumerable:!0,get:function(){return J(n).default}});var e=v(73440);Object.defineProperty(_,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return J(e).default}});var i=v(44099);Object.defineProperty(_,"CanvasTinter",{enumerable:!0,get:function(){return J(i).default}});var t=v(39086);Object.defineProperty(_,"SpriteRenderer",{enumerable:!0,get:function(){return J(t).default}});var r=v(50569);Object.defineProperty(_,"Text",{enumerable:!0,get:function(){return J(r).default}});var s=v(52033);Object.defineProperty(_,"TextStyle",{enumerable:!0,get:function(){return J(s).default}});var c=v(30596);Object.defineProperty(_,"TextMetrics",{enumerable:!0,get:function(){return J(c).default}});var f=v(77240);Object.defineProperty(_,"Graphics",{enumerable:!0,get:function(){return J(f).default}});var u=v(58277);Object.defineProperty(_,"GraphicsData",{enumerable:!0,get:function(){return J(u).default}});var p=v(11281);Object.defineProperty(_,"GraphicsRenderer",{enumerable:!0,get:function(){return J(p).default}});var y=v(47122);Object.defineProperty(_,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return J(y).default}});var g=v(43042);Object.defineProperty(_,"Spritesheet",{enumerable:!0,get:function(){return J(g).default}});var m=v(52631);Object.defineProperty(_,"Texture",{enumerable:!0,get:function(){return J(m).default}});var b=v(89673);Object.defineProperty(_,"TextureMatrix",{enumerable:!0,get:function(){return J(b).default}});var O=v(99067);Object.defineProperty(_,"BaseTexture",{enumerable:!0,get:function(){return J(O).default}});var S=v(90869);Object.defineProperty(_,"RenderTexture",{enumerable:!0,get:function(){return J(S).default}});var R=v(54566);Object.defineProperty(_,"BaseRenderTexture",{enumerable:!0,get:function(){return J(R).default}});var A=v(78581);Object.defineProperty(_,"VideoBaseTexture",{enumerable:!0,get:function(){return J(A).default}});var G=v(64368);Object.defineProperty(_,"TextureUvs",{enumerable:!0,get:function(){return J(G).default}});var U=v(29664);Object.defineProperty(_,"CanvasRenderTarget",{enumerable:!0,get:function(){return J(U).default}});var B=v(72916);Object.defineProperty(_,"Shader",{enumerable:!0,get:function(){return J(B).default}});var P=v(92524);Object.defineProperty(_,"WebGLManager",{enumerable:!0,get:function(){return J(P).default}});var X=v(3364);Object.defineProperty(_,"ObjectRenderer",{enumerable:!0,get:function(){return J(X).default}});var M=v(57867);Object.defineProperty(_,"RenderTarget",{enumerable:!0,get:function(){return J(M).default}});var D=v(82454);Object.defineProperty(_,"Quad",{enumerable:!0,get:function(){return J(D).default}});var N=v(41494);Object.defineProperty(_,"SpriteMaskFilter",{enumerable:!0,get:function(){return J(N).default}});var L=v(86310);Object.defineProperty(_,"Filter",{enumerable:!0,get:function(){return J(L).default}});var k=v(45328);Object.defineProperty(_,"Application",{enumerable:!0,get:function(){return J(k).default}});var F=v(14981);Object.defineProperty(_,"autoDetectRenderer",{enumerable:!0,get:function(){return F.autoDetectRenderer}});var I=v(97768),C=j(I),z=v(60938),Z=j(z),W=v(57505),V=J(W),H=v(94695),Q=J(H),q=v(57648),$=J(q);function j(K){if(K&&K.__esModule)return K;var ee={};if(K!=null)for(var te in K)Object.prototype.hasOwnProperty.call(K,te)&&(ee[te]=K[te]);return ee.default=K,ee}function J(K){return K&&K.__esModule?K:{default:K}}_.settings=V.default,_.utils=C,_.ticker=Z,_.CanvasRenderer=Q.default,_.WebGLRenderer=$.default},17616:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(86724),w=o(T);function o(t){return t&&t.__esModule?t:{default:t}}var x=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],E=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],l=[];function n(t){return t<0?-1:t>0?1:0}function e(){for(var t=0;t<16;t++){var r=[];l.push(r);for(var s=0;s<16;s++)for(var c=n(x[t]*x[s]+d[t]*E[s]),f=n(E[t]*x[s]+a[t]*E[s]),u=n(x[t]*d[s]+d[t]*a[s]),p=n(E[t]*d[s]+a[t]*a[s]),y=0;y<16;y++)if(x[y]===c&&E[y]===f&&d[y]===u&&a[y]===p){r.push(y);break}}for(var g=0;g<16;g++){var m=new w.default;m.set(x[g],E[g],d[g],a[g],0,0),h.push(m)}}e();var i={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(r){return x[r]},uY:function(r){return E[r]},vX:function(r){return d[r]},vY:function(r){return a[r]},inv:function(r){return r&8?r&15:-r&7},add:function(r,s){return l[r][s]},sub:function(r,s){return l[r][i.inv(s)]},rotate180:function(r){return r^4},isVertical:function(r){return(r&3)==2},byDirection:function(r,s){return Math.abs(r)*2<=Math.abs(s)?s>=0?i.S:i.N:Math.abs(s)*2<=Math.abs(r)?r>0?i.E:i.W:s>0?r>0?i.SE:i.SW:r>0?i.NE:i.NW},matrixAppendRotationInv:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=h[i.inv(s)];u.tx=c,u.ty=f,r.append(u)}};_.default=i},86724:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function h(l,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,n,e){return n&&h(l.prototype,n),e&&h(l,e),l}}(),w=v(85628),o=E(w),x=v(84633);function E(h){return h&&h.__esModule?h:{default:h}}function d(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function h(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;d(this,h),this.a=l,this.b=n,this.c=e,this.d=i,this.tx=t,this.ty=r,this.array=null}return h.prototype.fromArray=function(n){this.a=n[0],this.b=n[1],this.c=n[3],this.d=n[4],this.tx=n[2],this.ty=n[5]},h.prototype.set=function(n,e,i,t,r,s){return this.a=n,this.b=e,this.c=i,this.d=t,this.tx=r,this.ty=s,this},h.prototype.toArray=function(n,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return n?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},h.prototype.apply=function(n,e){e=e||new o.default;var i=n.x,t=n.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},h.prototype.applyInverse=function(n,e){e=e||new o.default;var i=1/(this.a*this.d+this.c*-this.b),t=n.x,r=n.y;return e.x=this.d*i*t+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*t+(-this.ty*this.a+this.tx*this.b)*i,e},h.prototype.translate=function(n,e){return this.tx+=n,this.ty+=e,this},h.prototype.scale=function(n,e){return this.a*=n,this.d*=e,this.c*=n,this.b*=e,this.tx*=n,this.ty*=e,this},h.prototype.rotate=function(n){var e=Math.cos(n),i=Math.sin(n),t=this.a,r=this.c,s=this.tx;return this.a=t*e-this.b*i,this.b=t*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},h.prototype.append=function(n){var e=this.a,i=this.b,t=this.c,r=this.d;return this.a=n.a*e+n.b*t,this.b=n.a*i+n.b*r,this.c=n.c*e+n.d*t,this.d=n.c*i+n.d*r,this.tx=n.tx*e+n.ty*t+this.tx,this.ty=n.tx*i+n.ty*r+this.ty,this},h.prototype.setTransform=function(n,e,i,t,r,s,c,f,u){return this.a=Math.cos(c+u)*r,this.b=Math.sin(c+u)*r,this.c=-Math.sin(c-f)*s,this.d=Math.cos(c-f)*s,this.tx=n-(i*this.a+t*this.c),this.ty=e-(i*this.b+t*this.d),this},h.prototype.prepend=function(n){var e=this.tx;if(n.a!==1||n.b!==0||n.c!==0||n.d!==1){var i=this.a,t=this.c;this.a=i*n.a+this.b*n.c,this.b=i*n.b+this.b*n.d,this.c=t*n.a+this.d*n.c,this.d=t*n.b+this.d*n.d}return this.tx=e*n.a+this.ty*n.c+n.tx,this.ty=e*n.b+this.ty*n.d+n.ty,this},h.prototype.decompose=function(n){var e=this.a,i=this.b,t=this.c,r=this.d,s=-Math.atan2(-t,r),c=Math.atan2(i,e),f=Math.abs(s+c);return f<1e-5||Math.abs(x.PI_2-f)<1e-5?(n.rotation=c,e<0&&r>=0&&(n.rotation+=n.rotation<=0?Math.PI:-Math.PI),n.skew.x=n.skew.y=0):(n.rotation=0,n.skew.x=s,n.skew.y=c),n.scale.x=Math.sqrt(e*e+i*i),n.scale.y=Math.sqrt(t*t+r*r),n.position.x=this.tx,n.position.y=this.ty,n},h.prototype.invert=function(){var n=this.a,e=this.b,i=this.c,t=this.d,r=this.tx,s=n*t-e*i;return this.a=t/s,this.b=-e/s,this.c=-i/s,this.d=n/s,this.tx=(i*this.ty-t*r)/s,this.ty=-(n*this.ty-e*r)/s,this},h.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},h.prototype.clone=function(){var n=new h;return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},h.prototype.copy=function(n){return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n},T(h,null,[{key:"IDENTITY",get:function(){return new h}},{key:"TEMP_MATRIX",get:function(){return new h}}]),h}();_.default=a},64818:function(Y,_){"use strict";_.__esModule=!0;var v=function(){function o(x,E){for(var d=0;d<E.length;d++){var a=E[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(x,a.key,a)}}return function(x,E,d){return E&&o(x.prototype,E),d&&o(x,d),x}}();function T(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}var w=function(){function o(x,E){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;T(this,o),this._x=d,this._y=a,this.cb=x,this.scope=E}return o.prototype.clone=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=E||this.cb,h=d||this.scope;return new o(a,h,this._x,this._y)},o.prototype.set=function(E,d){var a=E||0,h=d||(d!==0?a:0);(this._x!==a||this._y!==h)&&(this._x=a,this._y=h,this.cb.call(this.scope))},o.prototype.copy=function(E){(this._x!==E.x||this._y!==E.y)&&(this._x=E.x,this._y=E.y,this.cb.call(this.scope))},o.prototype.equals=function(E){return E.x===this._x&&E.y===this._y},v(o,[{key:"x",get:function(){return this._x},set:function(E){this._x!==E&&(this._x=E,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(E){this._y!==E&&(this._y=E,this.cb.call(this.scope))}}]),o}();_.default=w},85628:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,w),this.x=o,this.y=x}return w.prototype.clone=function(){return new w(this.x,this.y)},w.prototype.copy=function(x){this.set(x.x,x.y)},w.prototype.equals=function(x){return x.x===this.x&&x.y===this.y},w.prototype.set=function(x,E){this.x=x||0,this.y=E||(E!==0?this.x:0)},w}();_.default=T},80892:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(85628);Object.defineProperty(_,"Point",{enumerable:!0,get:function(){return n(T).default}});var w=v(64818);Object.defineProperty(_,"ObservablePoint",{enumerable:!0,get:function(){return n(w).default}});var o=v(86724);Object.defineProperty(_,"Matrix",{enumerable:!0,get:function(){return n(o).default}});var x=v(17616);Object.defineProperty(_,"GroupD8",{enumerable:!0,get:function(){return n(x).default}});var E=v(81341);Object.defineProperty(_,"Circle",{enumerable:!0,get:function(){return n(E).default}});var d=v(46180);Object.defineProperty(_,"Ellipse",{enumerable:!0,get:function(){return n(d).default}});var a=v(16001);Object.defineProperty(_,"Polygon",{enumerable:!0,get:function(){return n(a).default}});var h=v(98965);Object.defineProperty(_,"Rectangle",{enumerable:!0,get:function(){return n(h).default}});var l=v(20119);Object.defineProperty(_,"RoundedRectangle",{enumerable:!0,get:function(){return n(l).default}});function n(e){return e&&e.__esModule?e:{default:e}}},81341:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(98965),w=x(T),o=v(84633);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;E(this,a),this.x=h,this.y=l,this.radius=n,this.type=o.SHAPES.CIRC}return a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(l,n){if(this.radius<=0)return!1;var e=this.radius*this.radius,i=this.x-l,t=this.y-n;return i*=i,t*=t,i+t<=e},a.prototype.getBounds=function(){return new w.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},a}();_.default=d},46180:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(98965),w=x(T),o=v(84633);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;E(this,a),this.x=h,this.y=l,this.width=n,this.height=e,this.type=o.SHAPES.ELIP}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.contains=function(l,n){if(this.width<=0||this.height<=0)return!1;var e=(l-this.x)/this.width,i=(n-this.y)/this.height;return e*=e,i*=i,e+i<=1},a.prototype.getBounds=function(){return new w.default(this.x-this.width,this.y-this.height,this.width,this.height)},a}();_.default=d},16001:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(85628),w=x(T),o=v(84633);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(){for(var h=arguments.length,l=Array(h),n=0;n<h;n++)l[n]=arguments[n];if(E(this,a),Array.isArray(l[0])&&(l=l[0]),l[0]instanceof w.default){for(var e=[],i=0,t=l.length;i<t;i++)e.push(l[i].x,l[i].y);l=e}this.closed=!0,this.points=l,this.type=o.SHAPES.POLY}return a.prototype.clone=function(){return new a(this.points.slice())},a.prototype.close=function(){var l=this.points;(l[0]!==l[l.length-2]||l[1]!==l[l.length-1])&&l.push(l[0],l[1])},a.prototype.contains=function(l,n){for(var e=!1,i=this.points.length/2,t=0,r=i-1;t<i;r=t++){var s=this.points[t*2],c=this.points[t*2+1],f=this.points[r*2],u=this.points[r*2+1],p=c>n!=u>n&&l<(f-s)*((n-c)/(u-c))+s;p&&(e=!e)}return e},a}();_.default=d},98965:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function E(d,a){for(var h=0;h<a.length;h++){var l=a[h];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,a,h){return a&&E(d.prototype,a),h&&E(d,h),d}}(),w=v(84633);function o(E,d){if(!(E instanceof d))throw new TypeError("Cannot call a class as a function")}var x=function(){function E(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;o(this,E),this.x=Number(d),this.y=Number(a),this.width=Number(h),this.height=Number(l),this.type=w.SHAPES.RECT}return E.prototype.clone=function(){return new E(this.x,this.y,this.width,this.height)},E.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},E.prototype.contains=function(a,h){return this.width<=0||this.height<=0?!1:a>=this.x&&a<this.x+this.width&&h>=this.y&&h<this.y+this.height},E.prototype.pad=function(a,h){a=a||0,h=h||(h!==0?a:0),this.x-=a,this.y-=h,this.width+=a*2,this.height+=h*2},E.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=a.x),this.y<a.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=a.y),this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,this.height<0&&(this.height=0))},E.prototype.enlarge=function(a){var h=Math.min(this.x,a.x),l=Math.max(this.x+this.width,a.x+a.width),n=Math.min(this.y,a.y),e=Math.max(this.y+this.height,a.y+a.height);this.x=h,this.width=l-h,this.y=n,this.height=e-n},T(E,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new E(0,0,0,0)}}]),E}();_.default=x},20119:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(84633);function w(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var o=function(){function x(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;w(this,x),this.x=E,this.y=d,this.width=a,this.height=h,this.radius=l,this.type=T.SHAPES.RREC}return x.prototype.clone=function(){return new x(this.x,this.y,this.width,this.height,this.radius)},x.prototype.contains=function(d,a){if(this.width<=0||this.height<=0)return!1;if(d>=this.x&&d<=this.x+this.width&&a>=this.y&&a<=this.y+this.height){if(a>=this.y+this.radius&&a<=this.y+this.height-this.radius||d>=this.x+this.radius&&d<=this.x+this.width-this.radius)return!0;var h=d-(this.x+this.radius),l=a-(this.y+this.radius),n=this.radius*this.radius;if(h*h+l*l<=n||(h=d-(this.x+this.width-this.radius),h*h+l*l<=n)||(l=a-(this.y+this.height-this.radius),h*h+l*l<=n)||(h=d-(this.x+this.radius),h*h+l*l<=n))return!0}return!1},x}();_.default=o},92365:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function p(y,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,m){return g&&p(y.prototype,g),m&&p(y,m),y}}(),w=v(97768),o=v(80892),x=v(84633),E=v(57505),d=t(E),a=v(51822),h=t(a),l=v(90869),n=t(l),e=v(26729),i=t(e);function t(p){return p&&p.__esModule?p:{default:p}}function r(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function s(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function c(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var f=new o.Matrix,u=function(p){c(y,p);function y(g,m,b,O){r(this,y);var S=s(this,p.call(this));return(0,w.sayHello)(g),typeof m=="number"&&(m=Object.assign({width:m,height:b||d.default.RENDER_OPTIONS.height},O)),m=Object.assign({},d.default.RENDER_OPTIONS,m),S.options=m,S.type=x.RENDERER_TYPE.UNKNOWN,S.screen=new o.Rectangle(0,0,m.width,m.height),S.view=m.view||document.createElement("canvas"),S.resolution=m.resolution||d.default.RESOLUTION,S.transparent=m.transparent,S.autoResize=m.autoResize||!1,S.blendModes=null,S.preserveDrawingBuffer=m.preserveDrawingBuffer,S.clearBeforeRender=m.clearBeforeRender,S.roundPixels=m.roundPixels,S._backgroundColor=0,S._backgroundColorRgba=[0,0,0,0],S._backgroundColorString="#000000",S.backgroundColor=m.backgroundColor||S._backgroundColor,S._tempDisplayObjectParent=new h.default,S._lastObjectRendered=S._tempDisplayObjectParent,S}return y.prototype.resize=function(m,b){this.screen.width=m,this.screen.height=b,this.view.width=m*this.resolution,this.view.height=b*this.resolution,this.autoResize&&(this.view.style.width=m+"px",this.view.style.height=b+"px")},y.prototype.generateTexture=function(m,b,O,S){S=S||m.getLocalBounds();var R=n.default.create(S.width|0,S.height|0,b,O);return f.tx=-S.x,f.ty=-S.y,this.render(m,R,!1,f,!!m.parent),R},y.prototype.destroy=function(m){m&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=x.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},T(y,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(m){this._backgroundColor=m,this._backgroundColorString=(0,w.hex2string)(m),(0,w.hex2rgb)(m,this._backgroundColorRgba)}}]),y}(i.default);_.default=u},94695:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92365),w=t(T),o=v(6768),x=t(o),E=v(29664),d=t(E),a=v(39017),h=t(a),l=v(97768),n=v(84633),e=v(57505),i=t(e);function t(u){return u&&u.__esModule?u:{default:u}}function r(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function s(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function c(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var f=function(u){c(p,u);function p(y,g,m){r(this,p);var b=s(this,u.call(this,"Canvas",y,g,m));return b.type=n.RENDERER_TYPE.CANVAS,b.rootContext=b.view.getContext("2d",{alpha:b.transparent}),b.context=b.rootContext,b.refresh=!0,b.maskManager=new x.default(b),b.smoothProperty="imageSmoothingEnabled",b.rootContext.imageSmoothingEnabled||(b.rootContext.webkitImageSmoothingEnabled?b.smoothProperty="webkitImageSmoothingEnabled":b.rootContext.mozImageSmoothingEnabled?b.smoothProperty="mozImageSmoothingEnabled":b.rootContext.oImageSmoothingEnabled?b.smoothProperty="oImageSmoothingEnabled":b.rootContext.msImageSmoothingEnabled&&(b.smoothProperty="msImageSmoothingEnabled")),b.initPlugins(),b.blendModes=(0,h.default)(),b._activeBlendMode=null,b.renderingToScreen=!1,b.resize(b.options.width,b.options.height),b}return p.prototype.render=function(g,m,b,O,S){if(!!this.view){this.renderingToScreen=!m,this.emit("prerender");var R=this.resolution;m?(m=m.baseTexture||m,m._canvasRenderTarget||(m._canvasRenderTarget=new d.default(m.width,m.height,m.resolution),m.source=m._canvasRenderTarget.canvas,m.valid=!0),this.context=m._canvasRenderTarget.context,this.resolution=m._canvasRenderTarget.resolution):this.context=this.rootContext;var A=this.context;if(m||(this._lastObjectRendered=g),!S){var G=g.parent,U=this._tempDisplayObjectParent.transform.worldTransform;O?(O.copy(U),this._tempDisplayObjectParent.transform._worldID=-1):U.identity(),g.parent=this._tempDisplayObjectParent,g.updateTransform(),g.parent=G}A.save(),A.setTransform(1,0,0,1,0,0),A.globalAlpha=1,this._activeBlendMode=n.BLEND_MODES.NORMAL,A.globalCompositeOperation=this.blendModes[n.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(A.fillStyle="black",A.clear()),(b!==void 0?b:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?A.clearRect(0,0,this.width,this.height):(A.fillStyle=this._backgroundColorString,A.fillRect(0,0,this.width,this.height)));var B=this.context;this.context=A,g.renderCanvas(this),this.context=B,A.restore(),this.resolution=R,this.emit("postrender")}},p.prototype.clear=function(g){var m=this.context;g=g||this._backgroundColorString,!this.transparent&&g?(m.fillStyle=g,m.fillRect(0,0,this.width,this.height)):m.clearRect(0,0,this.width,this.height)},p.prototype.setBlendMode=function(g){this._activeBlendMode!==g&&(this._activeBlendMode=g,this.context.globalCompositeOperation=this.blendModes[g])},p.prototype.destroy=function(g){this.destroyPlugins(),u.prototype.destroy.call(this,g),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},p.prototype.resize=function(g,m){u.prototype.resize.call(this,g,m),this.smoothProperty&&(this.rootContext[this.smoothProperty]=i.default.SCALE_MODE===n.SCALE_MODES.LINEAR)},p.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},p}(w.default);_.default=f,l.pluginTarget.mixin(f)},6768:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(84633);function w(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var o=function(){function x(E){w(this,x),this.renderer=E}return x.prototype.pushMask=function(d){var a=this.renderer;a.context.save();var h=d.alpha,l=d.transform.worldTransform,n=a.resolution;a.context.setTransform(l.a*n,l.b*n,l.c*n,l.d*n,l.tx*n,l.ty*n),d._texture||(this.renderGraphicsShape(d),a.context.clip()),d.worldAlpha=h},x.prototype.renderGraphicsShape=function(d){var a=this.renderer.context,h=d.graphicsData.length;if(h!==0){a.beginPath();for(var l=0;l<h;l++){var n=d.graphicsData[l],e=n.shape;if(n.type===T.SHAPES.POLY){var i=e.points,t=n.holes,r=void 0,s=void 0;a.moveTo(i[0],i[1]);for(var c=2;c<i.length;c+=2)a.lineTo(i[c],i[c+1]);if(i[0]===i[i.length-2]&&i[1]===i[i.length-1]&&a.closePath(),t.length>0){r=0;for(var f=0;f<i.length;f+=2)r+=i[f]*i[f+3]-i[f+1]*i[f+2];for(var u=0;u<t.length;u++){i=t[u].points,s=0;for(var p=0;p<i.length;p+=2)s+=i[p]*i[p+3]-i[p+1]*i[p+2];if(a.moveTo(i[0],i[1]),s*r<0)for(var y=2;y<i.length;y+=2)a.lineTo(i[y],i[y+1]);else for(var g=i.length-2;g>=2;g-=2)a.lineTo(i[g],i[g+1])}}}else if(n.type===T.SHAPES.RECT)a.rect(e.x,e.y,e.width,e.height),a.closePath();else if(n.type===T.SHAPES.CIRC)a.arc(e.x,e.y,e.radius,0,2*Math.PI),a.closePath();else if(n.type===T.SHAPES.ELIP){var m=e.width*2,b=e.height*2,O=e.x-m/2,S=e.y-b/2,R=.5522848,A=m/2*R,G=b/2*R,U=O+m,B=S+b,P=O+m/2,X=S+b/2;a.moveTo(O,X),a.bezierCurveTo(O,X-G,P-A,S,P,S),a.bezierCurveTo(P+A,S,U,X-G,U,X),a.bezierCurveTo(U,X+G,P+A,B,P,B),a.bezierCurveTo(P-A,B,O,X+G,O,X),a.closePath()}else if(n.type===T.SHAPES.RREC){var M=e.x,D=e.y,N=e.width,L=e.height,k=e.radius,F=Math.min(N,L)/2|0;k=k>F?F:k,a.moveTo(M,D+k),a.lineTo(M,D+L-k),a.quadraticCurveTo(M,D+L,M+k,D+L),a.lineTo(M+N-k,D+L),a.quadraticCurveTo(M+N,D+L,M+N,D+L-k),a.lineTo(M+N,D+k),a.quadraticCurveTo(M+N,D,M+N-k,D),a.lineTo(M+k,D),a.quadraticCurveTo(M,D,M,D+k),a.closePath()}}}},x.prototype.popMask=function(d){d.context.restore(),d.invalidateBlendMode()},x.prototype.destroy=function(){},x}();_.default=o},29664:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function a(h,l){for(var n=0;n<l.length;n++){var e=l[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(h,e.key,e)}}return function(h,l,n){return l&&a(h.prototype,l),n&&a(h,n),h}}(),w=v(57505),o=x(w);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(h,l,n){E(this,a),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||o.default.RESOLUTION,this.resize(h,l)}return a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(l,n){this.canvas.width=l*this.resolution,this.canvas.height=n*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},T(a,[{key:"width",get:function(){return this.canvas.width},set:function(l){this.canvas.width=l}},{key:"height",get:function(){return this.canvas.height},set:function(l){this.canvas.height=l}}]),a}();_.default=d},8886:function(Y,_){"use strict";_.__esModule=!0,_.default=T;function v(w){var o=document.createElement("canvas");o.width=6,o.height=1;var x=o.getContext("2d");return x.fillStyle=w,x.fillRect(0,0,6,1),o}function T(){if(typeof document=="undefined")return!1;var w=v("#ff00ff"),o=v("#ffff00"),x=document.createElement("canvas");x.width=6,x.height=1;var E=x.getContext("2d");E.globalCompositeOperation="multiply",E.drawImage(w,0,0),E.drawImage(o,2,0);var d=E.getImageData(2,0,1,1);if(!d)return!1;var a=d.data;return a[0]===255&&a[1]===0&&a[2]===0}},39017:function(Y,_,v){"use strict";_.__esModule=!0,_.default=E;var T=v(84633),w=v(8886),o=x(w);function x(d){return d&&d.__esModule?d:{default:d}}function E(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,o.default)()?(d[T.BLEND_MODES.NORMAL]="source-over",d[T.BLEND_MODES.ADD]="lighter",d[T.BLEND_MODES.MULTIPLY]="multiply",d[T.BLEND_MODES.SCREEN]="screen",d[T.BLEND_MODES.OVERLAY]="overlay",d[T.BLEND_MODES.DARKEN]="darken",d[T.BLEND_MODES.LIGHTEN]="lighten",d[T.BLEND_MODES.COLOR_DODGE]="color-dodge",d[T.BLEND_MODES.COLOR_BURN]="color-burn",d[T.BLEND_MODES.HARD_LIGHT]="hard-light",d[T.BLEND_MODES.SOFT_LIGHT]="soft-light",d[T.BLEND_MODES.DIFFERENCE]="difference",d[T.BLEND_MODES.EXCLUSION]="exclusion",d[T.BLEND_MODES.HUE]="hue",d[T.BLEND_MODES.SATURATION]="saturate",d[T.BLEND_MODES.COLOR]="color",d[T.BLEND_MODES.LUMINOSITY]="luminosity"):(d[T.BLEND_MODES.NORMAL]="source-over",d[T.BLEND_MODES.ADD]="lighter",d[T.BLEND_MODES.MULTIPLY]="source-over",d[T.BLEND_MODES.SCREEN]="source-over",d[T.BLEND_MODES.OVERLAY]="source-over",d[T.BLEND_MODES.DARKEN]="source-over",d[T.BLEND_MODES.LIGHTEN]="source-over",d[T.BLEND_MODES.COLOR_DODGE]="source-over",d[T.BLEND_MODES.COLOR_BURN]="source-over",d[T.BLEND_MODES.HARD_LIGHT]="source-over",d[T.BLEND_MODES.SOFT_LIGHT]="source-over",d[T.BLEND_MODES.DIFFERENCE]="source-over",d[T.BLEND_MODES.EXCLUSION]="source-over",d[T.BLEND_MODES.HUE]="source-over",d[T.BLEND_MODES.SATURATION]="source-over",d[T.BLEND_MODES.COLOR]="source-over",d[T.BLEND_MODES.LUMINOSITY]="source-over"),d[T.BLEND_MODES.NORMAL_NPM]=d[T.BLEND_MODES.NORMAL],d[T.BLEND_MODES.ADD_NPM]=d[T.BLEND_MODES.ADD],d[T.BLEND_MODES.SCREEN_NPM]=d[T.BLEND_MODES.SCREEN],d}},31492:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(84633),w=v(57505),o=x(w);function x(a){return a&&a.__esModule?a:{default:a}}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(h){E(this,a),this.renderer=h,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return a.prototype.update=function(){this.count++,this.mode!==T.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},a.prototype.run=function(){for(var l=this.renderer.textureManager,n=l._managedTextures,e=!1,i=0;i<n.length;i++){var t=n[i];!t._glRenderTargets&&this.count-t.touched>this.maxIdle&&(l.destroyTexture(t,!0),n[i]=null,e=!0)}if(e){for(var r=0,s=0;s<n.length;s++)n[s]!==null&&(n[r++]=n[s]);n.length=r}},a.prototype.unload=function(l){var n=this.renderer.textureManager;l._texture&&l._texture._glRenderTargets&&n.destroyTexture(l._texture,!0);for(var e=l.children.length-1;e>=0;e--)this.unload(l.children[e])},a}();_.default=d},33627:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(53070),w=v(84633),o=v(57867),x=d(o),E=v(97768);function d(l){return l&&l.__esModule?l:{default:l}}function a(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function(){function l(n){a(this,l),this.renderer=n,this.gl=n.gl,this._managedTextures=[]}return l.prototype.bindTexture=function(){},l.prototype.getTexture=function(){},l.prototype.updateTexture=function(e,i){var t=this.gl,r=!!e._glRenderTargets;if(!e.hasLoaded)return null;var s=this.renderer.boundTextures;if(i===void 0){i=0;for(var c=0;c<s.length;++c)if(s[c]===e){i=c;break}}s[i]=e,t.activeTexture(t.TEXTURE0+i);var f=e._glTextures[this.renderer.CONTEXT_UID];if(f)r?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):f.upload(e.source);else{if(r){var u=new x.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);u.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=u,f=u.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else f=new T.GLTexture(this.gl,null,null,null,null),f.bind(i),f.premultiplyAlpha=!0,f.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=f,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&f.enableMipmap(),e.wrapMode===w.WRAP_MODES.CLAMP?f.enableWrapClamp():e.wrapMode===w.WRAP_MODES.REPEAT?f.enableWrapRepeat():f.enableWrapMirrorRepeat()):f.enableWrapClamp(),e.scaleMode===w.SCALE_MODES.NEAREST?f.enableNearestScaling():f.enableLinearScaling()}return f},l.prototype.destroyTexture=function(e,i){if(e=e.baseTexture||e,!!e.hasLoaded){var t=this.renderer,r=t.CONTEXT_UID,s=e._glTextures,c=e._glRenderTargets;if(s[r]&&(t.unbindTexture(e),s[r].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete s[r],!i)){var f=this._managedTextures.indexOf(e);f!==-1&&(0,E.removeItems)(this._managedTextures,f,1)}c&&c[r]&&(t._activeRenderTarget===c[r]&&t.bindRenderTarget(t.rootRenderTarget),c[r].destroy(),delete c[r])}},l.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var i=this._managedTextures[e];i._glTextures[this.renderer.CONTEXT_UID]&&delete i._glTextures[this.renderer.CONTEXT_UID]}},l.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var i=this._managedTextures[e];this.destroyTexture(i,!0),i.off("update",this.updateTexture,this),i.off("dispose",this.destroyTexture,this)}this._managedTextures=null},l}();_.default=h},57648:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92365),w=U(T),o=v(70805),x=U(o),E=v(67176),d=U(E),a=v(79347),h=U(a),l=v(57867),n=U(l),e=v(3364),i=U(e),t=v(33627),r=U(t),s=v(99067),c=U(s),f=v(31492),u=U(f),p=v(84116),y=U(p),g=v(15580),m=U(g),b=v(43766),O=U(b),S=v(97768),R=v(53070),A=U(R),G=v(84633);function U(N){return N&&N.__esModule?N:{default:N}}function B(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function P(N,L){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:N}function X(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(N,L):N.__proto__=L)}var M=0,D=function(N){X(L,N);function L(k,F,I){B(this,L);var C=P(this,N.call(this,"WebGL",k,F,I));return C.legacy=C.options.legacy,C.legacy&&(A.default.VertexArrayObject.FORCE_NATIVE=!0),C.type=G.RENDERER_TYPE.WEBGL,C.handleContextLost=C.handleContextLost.bind(C),C.handleContextRestored=C.handleContextRestored.bind(C),C.view.addEventListener("webglcontextlost",C.handleContextLost,!1),C.view.addEventListener("webglcontextrestored",C.handleContextRestored,!1),C._contextOptions={alpha:C.transparent,antialias:C.options.antialias,premultipliedAlpha:C.transparent&&C.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:C.options.preserveDrawingBuffer,powerPreference:C.options.powerPreference},C._backgroundColorRgba[3]=C.transparent?0:1,C.maskManager=new x.default(C),C.stencilManager=new d.default(C),C.emptyRenderer=new i.default(C),C.currentRenderer=C.emptyRenderer,C.textureManager=null,C.filterManager=null,C.initPlugins(),C.options.context&&(0,O.default)(C.options.context),C.gl=C.options.context||A.default.createContext(C.view,C._contextOptions),C.CONTEXT_UID=M++,C.state=new y.default(C.gl),C.renderingToScreen=!0,C.boundTextures=null,C._activeShader=null,C._activeVao=null,C._activeRenderTarget=null,C._initContext(),C.drawModes=(0,m.default)(C.gl),C._nextTextureLocation=0,C.setBlendMode(0),C}return L.prototype._initContext=function(){var F=this.gl;F.isContextLost()&&F.getExtension("WEBGL_lose_context")&&F.getExtension("WEBGL_lose_context").restoreContext();var I=F.getParameter(F.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(I),this.emptyTextures=new Array(I),this.textureManager=new r.default(this),this.filterManager=new h.default(this),this.textureGC=new u.default(this),this.state.resetToDefault(),this.rootRenderTarget=new n.default(F,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var C=new A.default.GLTexture.fromData(F,null,1,1),z={_glTextures:{}};z._glTextures[this.CONTEXT_UID]={};for(var Z=0;Z<I;Z++){var W=new c.default;W._glTextures[this.CONTEXT_UID]=C,this.boundTextures[Z]=z,this.emptyTextures[Z]=W,this.bindTexture(null,Z)}this.emit("context",F),this.resize(this.screen.width,this.screen.height)},L.prototype.render=function(F,I,C,z,Z){if(this.renderingToScreen=!I,this.emit("prerender"),!(!this.gl||this.gl.isContextLost())){if(this._nextTextureLocation=0,I||(this._lastObjectRendered=F),!Z){var W=F.parent;F.parent=this._tempDisplayObjectParent,F.updateTransform(),F.parent=W}this.bindRenderTexture(I,z),this.currentRenderer.start(),(C!==void 0?C:this.clearBeforeRender)&&this._activeRenderTarget.clear(),F.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},L.prototype.setObjectRenderer=function(F){this.currentRenderer!==F&&(this.currentRenderer.stop(),this.currentRenderer=F,this.currentRenderer.start())},L.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},L.prototype.resize=function(F,I){w.default.prototype.resize.call(this,F,I),this.rootRenderTarget.resize(F,I),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},L.prototype.setBlendMode=function(F){this.state.setBlendMode(F)},L.prototype.clear=function(F){this._activeRenderTarget.clear(F)},L.prototype.setTransform=function(F){this._activeRenderTarget.transform=F},L.prototype.clearRenderTexture=function(F,I){var C=F.baseTexture,z=C._glRenderTargets[this.CONTEXT_UID];return z&&z.clear(I),this},L.prototype.bindRenderTexture=function(F,I){var C=void 0;if(F){var z=F.baseTexture;z._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(z,0),this.unbindTexture(z),C=z._glRenderTargets[this.CONTEXT_UID],C.setFrame(F.frame)}else C=this.rootRenderTarget;return C.transform=I,this.bindRenderTarget(C),this},L.prototype.bindRenderTarget=function(F){return F!==this._activeRenderTarget&&(this._activeRenderTarget=F,F.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=F.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(F.stencilMaskStack)),this},L.prototype.bindShader=function(F,I){return this._activeShader!==F&&(this._activeShader=F,F.bind(),I!==!1&&(F.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},L.prototype.bindTexture=function(F,I,C){if(F=F||this.emptyTextures[I],F=F.baseTexture||F,F.touched=this.textureGC.count,C)I=I||0;else{for(var z=0;z<this.boundTextures.length;z++)if(this.boundTextures[z]===F)return z;I===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,I=this.boundTextures.length-this._nextTextureLocation-1)}var Z=this.gl,W=F._glTextures[this.CONTEXT_UID];return W?(this.boundTextures[I]=F,Z.activeTexture(Z.TEXTURE0+I),Z.bindTexture(Z.TEXTURE_2D,W.texture)):this.textureManager.updateTexture(F,I),I},L.prototype.unbindTexture=function(F){var I=this.gl;F=F.baseTexture||F;for(var C=0;C<this.boundTextures.length;C++)this.boundTextures[C]===F&&(this.boundTextures[C]=this.emptyTextures[C],I.activeTexture(I.TEXTURE0+C),I.bindTexture(I.TEXTURE_2D,this.emptyTextures[C]._glTextures[this.CONTEXT_UID].texture));return this},L.prototype.createVao=function(){return new A.default.VertexArrayObject(this.gl,this.state.attribState)},L.prototype.bindVao=function(F){return this._activeVao===F?this:(F?F.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=F,this)},L.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var F=0;F<this.boundTextures.length;F++)this.boundTextures[F]=this.emptyTextures[F];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},L.prototype.handleContextLost=function(F){F.preventDefault()},L.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},L.prototype.destroy=function(F){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),N.prototype.destroy.call(this,F),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},L}(w.default);_.default=D,S.pluginTarget.mixin(D)},84116:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(3622),w=o(T);function o(e){return e&&e.__esModule?e:{default:e}}function x(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var E=0,d=1,a=2,h=3,l=4,n=function(){function e(i){x(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=i,this.maxAttribs=i.getParameter(i.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,w.default)(i),this.nativeVaoExtension=i.getExtension("OES_vertex_array_object")||i.getExtension("MOZ_OES_vertex_array_object")||i.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var r=0;r<this.activeState.length;r++)t[r]=this.activeState[r]},e.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},e.prototype.setState=function(t){this.setBlend(t[E]),this.setDepthTest(t[d]),this.setFrontFace(t[a]),this.setCullFace(t[h]),this.setBlendMode(t[l])},e.prototype.setBlend=function(t){t=t?1:0,this.activeState[E]!==t&&(this.activeState[E]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(t){if(t!==this.activeState[l]){this.activeState[l]=t;var r=this.blendModes[t];r.length===2?this.gl.blendFunc(r[0],r[1]):this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}},e.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[d]!==t&&(this.activeState[d]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(t){t=t?1:0,this.activeState[h]!==t&&(this.activeState[h]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[a]!==t&&(this.activeState[a]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var r=0;r<this.attribState.attribState.length;r++)this.attribState.attribState[r]=0;for(var s=1;s<this.maxAttribs;s++)this.gl.disableVertexAttribArray(s)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();_.default=n},86310:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function i(t,r){for(var s=0;s<r.length;s++){var c=r[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,s){return r&&i(t.prototype,r),s&&i(t,s),t}}(),w=v(40096),o=h(w),x=v(97768),E=v(84633),d=v(57505),a=h(d);function h(i){return i&&i.__esModule?i:{default:i}}function l(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var n={},e=function(){function i(t,r,s){l(this,i),this.vertexSrc=t||i.defaultVertexSrc,this.fragmentSrc=r||i.defaultFragmentSrc,this._blendMode=E.BLEND_MODES.NORMAL,this.uniformData=s||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var c in this.uniformData)this.uniforms[c]=this.uniformData[c].value,this.uniformData[c].type&&(this.uniformData[c].type=this.uniformData[c].type.toLowerCase());this.glShaders={},n[this.vertexSrc+this.fragmentSrc]||(n[this.vertexSrc+this.fragmentSrc]=(0,x.uid)()),this.glShaderKey=n[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return i.prototype.apply=function(r,s,c,f,u){r.applyFilter(this,s,c,f)},T(i,[{key:"blendMode",get:function(){return this._blendMode},set:function(r){this._blendMode=r}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),i}();_.default=e},40096:function(Y,_,v){"use strict";_.__esModule=!0,_.default=E;var T=v(53070),w=o(T);function o(a){return a&&a.__esModule?a:{default:a}}var x=w.default.shader.defaultValue;function E(a,h,l){var n=d(a,l),e=d(h,l);return Object.assign(n,e)}function d(a){for(var h=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),l={},n=void 0,e=a.replace(/\s+/g," ").split(/\s*;\s*/),i=0;i<e.length;i++){var t=e[i].trim();if(t.indexOf("uniform")>-1){var r=t.split(" "),s=r[1],c=r[2],f=1;c.indexOf("[")>-1&&(n=c.split(/\[|]/),c=n[0],f*=Number(n[1])),c.match(h)||(l[c]={value:x(s,f),name:c,type:s})}}return l}},27698:function(Y,_,v){"use strict";_.__esModule=!0,_.calculateScreenSpaceMatrix=w,_.calculateNormalizedScreenSpaceMatrix=o,_.calculateSpriteMatrix=x;var T=v(80892);function w(E,d,a){var h=E.identity();return h.translate(d.x/a.width,d.y/a.height),h.scale(a.width,a.height),h}function o(E,d,a){var h=E.identity();h.translate(d.x/a.width,d.y/a.height);var l=a.width/d.width,n=a.height/d.height;return h.scale(l,n),h}function x(E,d,a,h){var l=h._texture.orig,n=E.set(a.width,0,0,a.height,d.x,d.y),e=h.worldTransform.copy(T.Matrix.TEMP_MATRIX);return e.invert(),n.prepend(e),n.scale(1/l.width,1/l.height),n.translate(h.anchor.x,h.anchor.y),n}},41494:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(86310),w=a(T),o=v(80892),x=v(26470),E=v(89673),d=a(E);function a(i){return i&&i.__esModule?i:{default:i}}function h(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function l(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function n(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var e=function(i){n(t,i);function t(r){h(this,t);var s=new o.Matrix,c=l(this,i.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return r.renderable=!1,c.maskSprite=r,c.maskMatrix=s,c}return t.prototype.apply=function(s,c,f){var u=this.maskSprite,p=this.maskSprite.texture;!p.valid||(p.transform||(p.transform=new d.default(p,0)),p.transform.update(),this.uniforms.mask=p,this.uniforms.otherMatrix=s.calculateSpriteMatrix(this.maskMatrix,u).prepend(p.transform.mapCoord),this.uniforms.alpha=u.worldAlpha,this.uniforms.maskClamp=p.transform.uClampFrame,s.applyFilter(this,c,f))},t}(w.default);_.default=e},79347:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92524),w=s(T),o=v(57867),x=s(o),E=v(82454),d=s(E),a=v(80892),h=v(72916),l=s(h),n=v(27698),e=r(n),i=v(746),t=s(i);function r(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var O in m)Object.prototype.hasOwnProperty.call(m,O)&&(b[O]=m[O]);return b.default=m,b}function s(m){return m&&m.__esModule?m:{default:m}}function c(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function f(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}function u(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var p=function(){function m(){u(this,m),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return m.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},m}(),y="screen",g=function(m){f(b,m);function b(O){u(this,b);var S=c(this,m.call(this,O));return S.gl=S.renderer.gl,S.quad=new d.default(S.gl,O.state.attribState),S.shaderCache={},S.pool={},S.filterData=null,S.managedFilters=[],S.renderer.on("prerender",S.onPrerender,S),S._screenWidth=O.view.width,S._screenHeight=O.view.height,S}return b.prototype.pushFilter=function(S,R){var A=this.renderer,G=this.filterData;if(!G){G=this.renderer._activeRenderTarget.filterStack;var U=new p;U.sourceFrame=U.destinationFrame=this.renderer._activeRenderTarget.size,U.renderTarget=A._activeRenderTarget,this.renderer._activeRenderTarget.filterData=G={index:0,stack:[U]},this.filterData=G}var B=G.stack[++G.index],P=G.stack[0].destinationFrame;B||(B=G.stack[G.index]=new p);var X=S.filterArea&&S.filterArea.x===0&&S.filterArea.y===0&&S.filterArea.width===A.screen.width&&S.filterArea.height===A.screen.height,M=R[0].resolution,D=R[0].padding|0,N=X?A.screen:S.filterArea||S.getBounds(!0),L=B.sourceFrame,k=B.destinationFrame;L.x=(N.x*M|0)/M,L.y=(N.y*M|0)/M,L.width=(N.width*M|0)/M,L.height=(N.height*M|0)/M,X||(G.stack[0].renderTarget.transform||R[0].autoFit&&L.fit(P),L.pad(D)),k.width=L.width,k.height=L.height;var F=this.getPotRenderTarget(A.gl,L.width,L.height,M);B.target=S,B.filters=R,B.resolution=M,B.renderTarget=F,F.setFrame(k,L),A.bindRenderTarget(F),F.clear()},b.prototype.popFilter=function(){var S=this.filterData,R=S.stack[S.index-1],A=S.stack[S.index];this.quad.map(A.renderTarget.size,A.sourceFrame).upload();var G=A.filters;if(G.length===1)G[0].apply(this,A.renderTarget,R.renderTarget,!1,A),this.freePotRenderTarget(A.renderTarget);else{var U=A.renderTarget,B=this.getPotRenderTarget(this.renderer.gl,A.sourceFrame.width,A.sourceFrame.height,A.resolution);B.setFrame(A.destinationFrame,A.sourceFrame),B.clear();var P=0;for(P=0;P<G.length-1;++P){G[P].apply(this,U,B,!0,A);var X=U;U=B,B=X}G[P].apply(this,U,R.renderTarget,!1,A),this.freePotRenderTarget(U),this.freePotRenderTarget(B)}A.clear(),S.index--,S.index===0&&(this.filterData=null)},b.prototype.applyFilter=function(S,R,A,G){var U=this.renderer,B=U.gl,P=S.glShaders[U.CONTEXT_UID];P||(S.glShaderKey?(P=this.shaderCache[S.glShaderKey],P||(P=new l.default(this.gl,S.vertexSrc,S.fragmentSrc),S.glShaders[U.CONTEXT_UID]=this.shaderCache[S.glShaderKey]=P,this.managedFilters.push(S))):(P=S.glShaders[U.CONTEXT_UID]=new l.default(this.gl,S.vertexSrc,S.fragmentSrc),this.managedFilters.push(S)),U.bindVao(null),this.quad.initVao(P)),U.bindVao(this.quad.vao),U.bindRenderTarget(A),G&&(B.disable(B.SCISSOR_TEST),U.clear(),B.enable(B.SCISSOR_TEST)),A===U.maskManager.scissorRenderTarget&&U.maskManager.pushScissorMask(null,U.maskManager.scissorData),U.bindShader(P);var X=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=X,this.syncUniforms(P,S),U.state.setBlendMode(S.blendMode),B.activeTexture(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,R.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),B.bindTexture(B.TEXTURE_2D,X._glTextures[this.renderer.CONTEXT_UID].texture)},b.prototype.syncUniforms=function(S,R){var A=R.uniformData,G=R.uniforms,U=1,B=void 0;if(S.uniforms.filterArea){B=this.filterData.stack[this.filterData.index];var P=S.uniforms.filterArea;P[0]=B.renderTarget.size.width,P[1]=B.renderTarget.size.height,P[2]=B.sourceFrame.x,P[3]=B.sourceFrame.y,S.uniforms.filterArea=P}if(S.uniforms.filterClamp){B=B||this.filterData.stack[this.filterData.index];var X=S.uniforms.filterClamp;X[0]=0,X[1]=0,X[2]=(B.sourceFrame.width-1)/B.renderTarget.size.width,X[3]=(B.sourceFrame.height-1)/B.renderTarget.size.height,S.uniforms.filterClamp=X}for(var M in A)if(!!S.uniforms.data[M]){var D=A[M].type;if(D==="sampler2d"&&G[M]!==0){if(G[M].baseTexture)S.uniforms[M]=this.renderer.bindTexture(G[M].baseTexture,U);else{S.uniforms[M]=U;var N=this.renderer.gl;this.renderer.boundTextures[U]=this.renderer.emptyTextures[U],N.activeTexture(N.TEXTURE0+U),G[M].texture.bind()}U++}else if(D==="mat3")G[M].a!==void 0?S.uniforms[M]=G[M].toArray(!0):S.uniforms[M]=G[M];else if(D==="vec2")if(G[M].x!==void 0){var L=S.uniforms[M]||new Float32Array(2);L[0]=G[M].x,L[1]=G[M].y,S.uniforms[M]=L}else S.uniforms[M]=G[M];else D==="float"?S.uniforms.data[M].value!==A[M]&&(S.uniforms[M]=G[M]):S.uniforms[M]=G[M]}},b.prototype.getRenderTarget=function(S,R){var A=this.filterData.stack[this.filterData.index],G=this.getPotRenderTarget(this.renderer.gl,A.sourceFrame.width,A.sourceFrame.height,R||A.resolution);return G.setFrame(A.destinationFrame,A.sourceFrame),G},b.prototype.returnRenderTarget=function(S){this.freePotRenderTarget(S)},b.prototype.calculateScreenSpaceMatrix=function(S){var R=this.filterData.stack[this.filterData.index];return e.calculateScreenSpaceMatrix(S,R.sourceFrame,R.renderTarget.size)},b.prototype.calculateNormalizedScreenSpaceMatrix=function(S){var R=this.filterData.stack[this.filterData.index];return e.calculateNormalizedScreenSpaceMatrix(S,R.sourceFrame,R.renderTarget.size,R.destinationFrame)},b.prototype.calculateSpriteMatrix=function(S,R){var A=this.filterData.stack[this.filterData.index];return e.calculateSpriteMatrix(S,A.sourceFrame,A.renderTarget.size,R)},b.prototype.destroy=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=this.renderer,A=this.managedFilters;R.off("prerender",this.onPrerender,this);for(var G=0;G<A.length;G++)S||A[G].glShaders[R.CONTEXT_UID].destroy(),delete A[G].glShaders[R.CONTEXT_UID];this.shaderCache={},S?this.pool={}:this.emptyPool()},b.prototype.getPotRenderTarget=function(S,R,A,G){var U=y;R*=G,A*=G,(R!==this._screenWidth||A!==this._screenHeight)&&(R=t.default.nextPow2(R),A=t.default.nextPow2(A),U=(R&65535)<<16|A&65535),this.pool[U]||(this.pool[U]=[]);var B=this.pool[U].pop();if(!B){var P=this.renderer.boundTextures[0];S.activeTexture(S.TEXTURE0),B=new x.default(S,R,A,null,1),S.bindTexture(S.TEXTURE_2D,P._glTextures[this.renderer.CONTEXT_UID].texture)}return B.resolution=G,B.defaultFrame.width=B.size.width=R/G,B.defaultFrame.height=B.size.height=A/G,B.filterPoolKey=U,B},b.prototype.emptyPool=function(){for(var S in this.pool){var R=this.pool[S];if(R)for(var A=0;A<R.length;A++)R[A].destroy(!0)}this.pool={}},b.prototype.freePotRenderTarget=function(S){this.pool[S.filterPoolKey].push(S)},b.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var S=this.pool[y];if(S)for(var R=0;R<S.length;R++)S[R].destroy(!0);this.pool[y]=[]}},b}(w.default);_.default=g},70805:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92524),w=E(T),o=v(41494),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(i){d(this,e);var t=a(this,n.call(this,i));return t.scissor=!1,t.scissorData=null,t.scissorRenderTarget=null,t.enableScissor=!0,t.alphaMaskPool=[],t.alphaMaskIndex=0,t}return e.prototype.pushMask=function(t,r){if(r.texture)this.pushSpriteMask(t,r);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&r.isFastRect()){var s=r.worldTransform,c=Math.atan2(s.b,s.a);c=Math.round(c*(180/Math.PI)),c%90?this.pushStencilMask(r):this.pushScissorMask(t,r)}else this.pushStencilMask(r)},e.prototype.popMask=function(t,r){r.texture?this.popSpriteMask(t,r):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,r):this.popStencilMask(t,r)},e.prototype.pushSpriteMask=function(t,r){var s=this.alphaMaskPool[this.alphaMaskIndex];s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new x.default(r)]),s[0].resolution=this.renderer.resolution,s[0].maskSprite=r,t.filterArea=r.getBounds(!0),this.renderer.filterManager.pushFilter(t,s),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,r){r.renderable=!0;var s=this.renderer._activeRenderTarget,c=r.getBounds();c.fit(s.size),r.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var f=this.renderer.resolution;this.renderer.gl.scissor(c.x*f,(s.root?s.size.height-c.y-c.height:c.y)*f,c.width*f,c.height*f),this.scissorRenderTarget=s,this.scissorData=r,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(w.default);_.default=l},67176:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92524),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(n){x(this,l);var e=E(this,h.call(this,n));return e.stencilMaskStack=null,e}return l.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var i=this.renderer.gl;e.length===0?i.disable(i.STENCIL_TEST):i.enable(i.STENCIL_TEST)},l.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var i=this.renderer.gl,t=this.stencilMaskStack.length;t===0&&i.enable(i.STENCIL_TEST),this.stencilMaskStack.push(e),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,t,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},l.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,i=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(i),this._useCurrent())},l.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},l.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},l.prototype.destroy=function(){w.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},l}(w.default);_.default=a},92524:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o){v(this,w),this.renderer=o,this.renderer.on("context",this.onContextChange,this)}return w.prototype.onContextChange=function(){},w.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},w}();_.default=T},3364:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92524),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(){return x(this,l),E(this,h.apply(this,arguments))}return l.prototype.start=function(){},l.prototype.stop=function(){this.flush()},l.prototype.flush=function(){},l.prototype.render=function(e){},l}(w.default);_.default=a},82454:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(53070),w=E(T),o=v(94014),x=E(o);function E(h){return h&&h.__esModule?h:{default:h}}function d(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function h(l,n){d(this,h),this.gl=l,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(8*2);for(var e=0;e<4;e++)this.interleaved[e*4]=this.vertices[e*2],this.interleaved[e*4+1]=this.vertices[e*2+1],this.interleaved[e*4+2]=this.uvs[e*2],this.interleaved[e*4+3]=this.uvs[e*2+1];this.indices=(0,x.default)(1),this.vertexBuffer=w.default.GLBuffer.createVertexBuffer(l,this.interleaved,l.STATIC_DRAW),this.indexBuffer=w.default.GLBuffer.createIndexBuffer(l,this.indices,l.STATIC_DRAW),this.vao=new w.default.VertexArrayObject(l,n)}return h.prototype.initVao=function(n){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,n.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,n.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)},h.prototype.map=function(n,e){var i=0,t=0;return this.uvs[0]=i,this.uvs[1]=t,this.uvs[2]=i+e.width/n.width,this.uvs[3]=t,this.uvs[4]=i+e.width/n.width,this.uvs[5]=t+e.height/n.height,this.uvs[6]=i,this.uvs[7]=t+e.height/n.height,i=e.x,t=e.y,this.vertices[0]=i,this.vertices[1]=t,this.vertices[2]=i+e.width,this.vertices[3]=t,this.vertices[4]=i+e.width,this.vertices[5]=t+e.height,this.vertices[6]=i,this.vertices[7]=t+e.height,this},h.prototype.upload=function(){for(var n=0;n<4;n++)this.interleaved[n*4]=this.vertices[n*2],this.interleaved[n*4+1]=this.vertices[n*2+1],this.interleaved[n*4+2]=this.uvs[n*2],this.interleaved[n*4+3]=this.uvs[n*2+1];return this.vertexBuffer.upload(this.interleaved),this},h.prototype.destroy=function(){var n=this.gl;n.deleteBuffer(this.vertexBuffer),n.deleteBuffer(this.indexBuffer)},h}();_.default=a},57867:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(80892),w=v(84633),o=v(57505),x=d(o),E=v(53070);function d(l){return l&&l.__esModule?l:{default:l}}function a(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function(){function l(n,e,i,t,r,s){a(this,l),this.gl=n,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new T.Rectangle(0,0,1,1),this.resolution=r||x.default.RESOLUTION,this.projectionMatrix=new T.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new T.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=t!==void 0?t:x.default.SCALE_MODE,this.root=s||!1,this.root?(this.frameBuffer=new E.GLFramebuffer(n,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=E.GLFramebuffer.createRGBA(n,100,100),this.scaleMode===w.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,i)}return l.prototype.clear=function(e){var i=e||this.clearColor;this.frameBuffer.clear(i[0],i[1],i[2],i[3])},l.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},l.prototype.setFrame=function(e,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||this.destinationFrame},l.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},l.prototype.calculateProjection=function(e,i){var t=this.projectionMatrix;i=i||e,t.identity(),this.root?(t.a=1/e.width*2,t.d=-1/e.height*2,t.tx=-1-i.x*t.a,t.ty=1-i.y*t.d):(t.a=1/e.width*2,t.d=1/e.height*2,t.tx=-1-i.x*t.a,t.ty=-1-i.y*t.d)},l.prototype.resize=function(e,i){if(e=e|0,i=i|0,!(this.size.width===e&&this.size.height===i)){this.size.width=e,this.size.height=i,this.defaultFrame.width=e,this.defaultFrame.height=i,this.frameBuffer.resize(e*this.resolution,i*this.resolution);var t=this.frame||this.size;this.calculateProjection(t)}},l.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},l}();_.default=h},15303:function(Y,_,v){"use strict";_.__esModule=!0,_.default=E;var T=v(53070),w=o(T);function o(a){return a&&a.__esModule?a:{default:a}}var x=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function E(a,h){var l=!h;if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(l){var n=document.createElement("canvas");n.width=1,n.height=1,h=w.default.createContext(n)}for(var e=h.createShader(h.FRAGMENT_SHADER);;){var i=x.replace(/%forloop%/gi,d(a));if(h.shaderSource(e,i),h.compileShader(e),!h.getShaderParameter(e,h.COMPILE_STATUS))a=a/2|0;else break}return l&&h.getExtension("WEBGL_lose_context")&&h.getExtension("WEBGL_lose_context").loseContext(),a}function d(a){for(var h="",l=0;l<a;++l)l>0&&(h+=`
else `),l<a-1&&(h+="if(test == "+l+".0){}");return h}},3622:function(Y,_,v){"use strict";_.__esModule=!0,_.default=w;var T=v(84633);function w(o){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x[T.BLEND_MODES.NORMAL]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.ADD]=[o.ONE,o.DST_ALPHA],x[T.BLEND_MODES.MULTIPLY]=[o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.SCREEN]=[o.ONE,o.ONE_MINUS_SRC_COLOR],x[T.BLEND_MODES.OVERLAY]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.DARKEN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.LIGHTEN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.COLOR_DODGE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.COLOR_BURN]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.HARD_LIGHT]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.SOFT_LIGHT]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.DIFFERENCE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.EXCLUSION]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.HUE]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.SATURATION]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.COLOR]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.LUMINOSITY]=[o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.NORMAL_NPM]=[o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA],x[T.BLEND_MODES.ADD_NPM]=[o.SRC_ALPHA,o.DST_ALPHA,o.ONE,o.DST_ALPHA],x[T.BLEND_MODES.SCREEN_NPM]=[o.SRC_ALPHA,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE_MINUS_SRC_COLOR],x}},15580:function(Y,_,v){"use strict";_.__esModule=!0,_.default=w;var T=v(84633);function w(o){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x[T.DRAW_MODES.POINTS]=o.POINTS,x[T.DRAW_MODES.LINES]=o.LINES,x[T.DRAW_MODES.LINE_LOOP]=o.LINE_LOOP,x[T.DRAW_MODES.LINE_STRIP]=o.LINE_STRIP,x[T.DRAW_MODES.TRIANGLES]=o.TRIANGLES,x[T.DRAW_MODES.TRIANGLE_STRIP]=o.TRIANGLE_STRIP,x[T.DRAW_MODES.TRIANGLE_FAN]=o.TRIANGLE_FAN,x}},43766:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(T){var w=T.getContextAttributes();w.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},57505:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(60585),w=E(T),o=v(69681),x=E(o);function E(d){return d&&d.__esModule?d:{default:d}}_.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,w.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,x.default)(),MESH_CANVAS_PADDING:0}},88391:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function s(c,f){for(var u=0;u<f.length;u++){var p=f[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,u){return f&&s(c.prototype,f),u&&s(c,u),c}}(),w=v(80892),o=v(97768),x=v(84633),E=v(52631),d=l(E),a=v(51822),h=l(a);function l(s){return s&&s.__esModule?s:{default:s}}function n(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function e(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function i(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var t=new w.Point,r=function(s){i(c,s);function c(f){n(this,c);var u=e(this,s.call(this));return u._anchor=new w.ObservablePoint(u._onAnchorUpdate,u,f?f.defaultAnchor.x:0,f?f.defaultAnchor.y:0),u._texture=null,u._width=0,u._height=0,u._tint=null,u._tintRGB=null,u.tint=16777215,u.blendMode=x.BLEND_MODES.NORMAL,u.shader=null,u.cachedTint=16777215,u.texture=f||d.default.EMPTY,u.vertexData=new Float32Array(8),u.vertexTrimmedData=null,u._transformID=-1,u._textureID=-1,u._transformTrimmedID=-1,u._textureTrimmedID=-1,u.pluginName="sprite",u}return c.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},c.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},c.prototype.calculateVertices=function(){if(!(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var u=this._texture,p=this.transform.worldTransform,y=p.a,g=p.b,m=p.c,b=p.d,O=p.tx,S=p.ty,R=this.vertexData,A=u.trim,G=u.orig,U=this._anchor,B=0,P=0,X=0,M=0;A?(P=A.x-U._x*G.width,B=P+A.width,M=A.y-U._y*G.height,X=M+A.height):(P=-U._x*G.width,B=P+G.width,M=-U._y*G.height,X=M+G.height),R[0]=y*P+m*M+O,R[1]=b*M+g*P+S,R[2]=y*B+m*M+O,R[3]=b*M+g*B+S,R[4]=y*B+m*X+O,R[5]=b*X+g*B+S,R[6]=y*P+m*X+O,R[7]=b*X+g*P+S}},c.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var u=this._texture,p=this.vertexTrimmedData,y=u.orig,g=this._anchor,m=this.transform.worldTransform,b=m.a,O=m.b,S=m.c,R=m.d,A=m.tx,G=m.ty,U=-g._x*y.width,B=U+y.width,P=-g._y*y.height,X=P+y.height;p[0]=b*U+S*P+A,p[1]=R*P+O*U+G,p[2]=b*B+S*P+A,p[3]=R*P+O*B+G,p[4]=b*B+S*X+A,p[5]=R*X+O*B+G,p[6]=b*U+S*X+A,p[7]=R*X+O*U+G},c.prototype._renderWebGL=function(u){this.calculateVertices(),u.setObjectRenderer(u.plugins[this.pluginName]),u.plugins[this.pluginName].render(this)},c.prototype._renderCanvas=function(u){u.plugins[this.pluginName].render(this)},c.prototype._calculateBounds=function(){var u=this._texture.trim,p=this._texture.orig;!u||u.width===p.width&&u.height===p.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},c.prototype.getLocalBounds=function(u){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),u||(this._localBoundsRect||(this._localBoundsRect=new w.Rectangle),u=this._localBoundsRect),this._bounds.getRectangle(u)):s.prototype.getLocalBounds.call(this,u)},c.prototype.containsPoint=function(u){this.worldTransform.applyInverse(u,t);var p=this._texture.orig.width,y=this._texture.orig.height,g=-p*this.anchor.x,m=0;return!!(t.x>=g&&t.x<g+p&&(m=-y*this.anchor.y,t.y>=m&&t.y<m+y))},c.prototype.destroy=function(u){s.prototype.destroy.call(this,u),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var p=typeof u=="boolean"?u:u&&u.texture;if(p){var y=typeof u=="boolean"?u:u&&u.baseTexture;this._texture.destroy(!!y)}this._texture=null,this.shader=null},c.from=function(u){return new c(d.default.from(u))},c.fromFrame=function(u){var p=o.TextureCache[u];if(!p)throw new Error('The frameId "'+u+'" does not exist in the texture cache');return new c(p)},c.fromImage=function(u,p,y){return new c(d.default.fromImage(u,p,y))},T(c,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(u){var p=(0,o.sign)(this.scale.x)||1;this.scale.x=p*u/this._texture.orig.width,this._width=u}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(u){var p=(0,o.sign)(this.scale.y)||1;this.scale.y=p*u/this._texture.orig.height,this._height=u}},{key:"anchor",get:function(){return this._anchor},set:function(u){this._anchor.copy(u)}},{key:"tint",get:function(){return this._tint},set:function(u){this._tint=u,this._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(u){this._texture!==u&&(this._texture=u||d.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,u&&(u.baseTexture.hasLoaded?this._onTextureUpdate():u.once("update",this._onTextureUpdate,this)))}}]),c}(h.default);_.default=r},73440:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(94695),w=a(T),o=v(84633),x=v(80892),E=v(44099),d=a(E);function a(e){return e&&e.__esModule?e:{default:e}}function h(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var l=new x.Matrix,n=function(){function e(i){h(this,e),this.renderer=i}return e.prototype.render=function(t){var r=t._texture,s=this.renderer,c=r._frame.width,f=r._frame.height,u=t.transform.worldTransform,p=0,y=0;if(!(r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source)&&(s.setBlendMode(t.blendMode),r.valid)){s.context.globalAlpha=t.worldAlpha;var g=r.baseTexture.scaleMode===o.SCALE_MODES.LINEAR;s.smoothProperty&&s.context[s.smoothProperty]!==g&&(s.context[s.smoothProperty]=g),r.trim?(p=r.trim.width/2+r.trim.x-t.anchor.x*r.orig.width,y=r.trim.height/2+r.trim.y-t.anchor.y*r.orig.height):(p=(.5-t.anchor.x)*r.orig.width,y=(.5-t.anchor.y)*r.orig.height),r.rotate&&(u.copy(l),u=l,x.GroupD8.matrixAppendRotationInv(u,r.rotate,p,y),p=0,y=0),p-=c/2,y-=f/2,s.roundPixels?(s.context.setTransform(u.a,u.b,u.c,u.d,u.tx*s.resolution|0,u.ty*s.resolution|0),p=p|0,y=y|0):s.context.setTransform(u.a,u.b,u.c,u.d,u.tx*s.resolution,u.ty*s.resolution);var m=r.baseTexture.resolution;t.tint!==16777215?((t.cachedTint!==t.tint||t.tintedTexture.tintId!==t._texture._updateID)&&(t.cachedTint=t.tint,t.tintedTexture=d.default.getTintedTexture(t,t.tint)),s.context.drawImage(t.tintedTexture,0,0,c*m,f*m,p*s.resolution,y*s.resolution,c*s.resolution,f*s.resolution)):s.context.drawImage(r.baseTexture.source,r._frame.x*m,r._frame.y*m,c*m,f*m,p*s.resolution,y*s.resolution,c*s.resolution,f*s.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();_.default=n,w.default.registerPlugin("sprite",n)},44099:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(97768),w=v(8886),o=x(w);function x(d){return d&&d.__esModule?d:{default:d}}var E={getTintedTexture:function(a,h){var l=a._texture;h=E.roundColor(h);var n="#"+("00000"+(h|0).toString(16)).substr(-6);l.tintCache=l.tintCache||{};var e=l.tintCache[n],i=void 0;if(e){if(e.tintId===l._updateID)return l.tintCache[n];i=l.tintCache[n]}else i=E.canvas||document.createElement("canvas");if(E.tintMethod(l,h,i),i.tintId=l._updateID,E.convertTintToImage){var t=new Image;t.src=i.toDataURL(),l.tintCache[n]=t}else l.tintCache[n]=i,E.canvas=null;return i},tintWithMultiply:function(a,h,l){var n=l.getContext("2d"),e=a._frame.clone(),i=a.baseTexture.resolution;e.x*=i,e.y*=i,e.width*=i,e.height*=i,l.width=Math.ceil(e.width),l.height=Math.ceil(e.height),n.save(),n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="multiply",n.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n.globalCompositeOperation="destination-atop",n.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n.restore()},tintWithOverlay:function(a,h,l){var n=l.getContext("2d"),e=a._frame.clone(),i=a.baseTexture.resolution;e.x*=i,e.y*=i,e.width*=i,e.height*=i,l.width=Math.ceil(e.width),l.height=Math.ceil(e.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-atop",n.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n.restore()},tintWithPerPixel:function(a,h,l){var n=l.getContext("2d"),e=a._frame.clone(),i=a.baseTexture.resolution;e.x*=i,e.y*=i,e.width*=i,e.height*=i,l.width=Math.ceil(e.width),l.height=Math.ceil(e.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n.restore();for(var t=(0,T.hex2rgb)(h),r=t[0],s=t[1],c=t[2],f=n.getImageData(0,0,e.width,e.height),u=f.data,p=0;p<u.length;p+=4)u[p+0]*=r,u[p+1]*=s,u[p+2]*=c;n.putImageData(f,0,0)},roundColor:function(a){var h=E.cacheStepsPerColorChannel,l=(0,T.hex2rgb)(a);return l[0]=Math.min(255,l[0]/h*h),l[1]=Math.min(255,l[1]/h*h),l[2]=Math.min(255,l[2]/h*h),(0,T.rgb2hex)(l)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o.default)(),tintMethod:0};E.tintMethod=E.canUseMultiply?E.tintWithMultiply:E.tintWithPerPixel,_.default=E},84901:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o){v(this,w),this.vertices=new ArrayBuffer(o),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return w.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},w}();_.default=T},39086:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(3364),w=y(T),o=v(57648),x=y(o),E=v(94014),d=y(E),a=v(91903),h=y(a),l=v(15303),n=y(l),e=v(84901),i=y(e),t=v(57505),r=y(t),s=v(97768),c=v(53070),f=y(c),u=v(746),p=y(u);function y(A){return A&&A.__esModule?A:{default:A}}function g(A,G){if(!(A instanceof G))throw new TypeError("Cannot call a class as a function")}function m(A,G){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:A}function b(A,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);A.prototype=Object.create(G&&G.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(A,G):A.__proto__=G)}var O=0,S=0,R=function(A){b(G,A);function G(U){g(this,G);var B=m(this,A.call(this,U));B.vertSize=5,B.vertByteSize=B.vertSize*4,B.size=r.default.SPRITE_BATCH_SIZE,B.buffers=[];for(var P=1;P<=p.default.nextPow2(B.size);P*=2)B.buffers.push(new i.default(P*4*B.vertByteSize));B.indices=(0,d.default)(B.size),B.shader=null,B.currentIndex=0,B.groups=[];for(var X=0;X<B.size;X++)B.groups[X]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return B.sprites=[],B.vertexBuffers=[],B.vaos=[],B.vaoMax=2,B.vertexCount=0,B.renderer.on("prerender",B.onPrerender,B),B}return G.prototype.onContextChange=function(){var B=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS),r.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,n.default)(this.MAX_TEXTURES,B)),this.shader=(0,h.default)(B,this.MAX_TEXTURES),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(B,this.indices,B.STATIC_DRAW),this.renderer.bindVao(null);for(var P=this.shader.attributes,X=0;X<this.vaoMax;X++){var M=this.vertexBuffers[X]=f.default.GLBuffer.createVertexBuffer(B,null,B.STREAM_DRAW),D=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(M,P.aVertexPosition,B.FLOAT,!1,this.vertByteSize,0).addAttribute(M,P.aTextureCoord,B.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(M,P.aColor,B.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);P.aTextureId&&D.addAttribute(M,P.aTextureId,B.FLOAT,!1,this.vertByteSize,4*4),this.vaos[X]=D}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},G.prototype.onPrerender=function(){this.vertexCount=0},G.prototype.render=function(B){this.currentIndex>=this.size&&this.flush(),!!B._texture._uvs&&(this.sprites[this.currentIndex++]=B)},G.prototype.flush=function(){if(this.currentIndex!==0){var B=this.renderer.gl,P=this.MAX_TEXTURES,X=p.default.nextPow2(this.currentIndex),M=p.default.log2(X),D=this.buffers[M],N=this.sprites,L=this.groups,k=D.float32View,F=D.uint32View,I=this.boundTextures,C=this.renderer.boundTextures,z=this.renderer.textureGC.count,Z=0,W=void 0,V=void 0,H=1,Q=0,q=L[0],$=void 0,j=void 0,J=s.premultiplyBlendMode[N[0]._texture.baseTexture.premultipliedAlpha?1:0][N[0].blendMode];q.textureCount=0,q.start=0,q.blend=J,O++;var K=void 0;for(K=0;K<P;++K){var ee=C[K];if(ee._enabled===O){I[K]=this.renderer.emptyTextures[K];continue}I[K]=ee,ee._virtalBoundId=K,ee._enabled=O}for(O++,K=0;K<this.currentIndex;++K){var te=N[K];N[K]=null,W=te._texture.baseTexture;var ne=s.premultiplyBlendMode[Number(W.premultipliedAlpha)][te.blendMode];if(J!==ne&&(J=ne,V=null,Q=P,O++),V!==W&&(V=W,W._enabled!==O)){if(Q===P&&(O++,q.size=K-q.start,Q=0,q=L[H++],q.blend=J,q.textureCount=0,q.start=K),W.touched=z,W._virtalBoundId===-1)for(var ie=0;ie<P;++ie){var oe=(ie+S)%P,re=I[oe];if(re._enabled!==O){S++,re._virtalBoundId=-1,W._virtalBoundId=oe,I[oe]=W;break}}W._enabled=O,q.textureCount++,q.ids[Q]=W._virtalBoundId,q.textures[Q++]=W}if($=te.vertexData,j=te._texture._uvs.uvsUint32,this.renderer.roundPixels){var ae=this.renderer.resolution;k[Z]=($[0]*ae|0)/ae,k[Z+1]=($[1]*ae|0)/ae,k[Z+5]=($[2]*ae|0)/ae,k[Z+6]=($[3]*ae|0)/ae,k[Z+10]=($[4]*ae|0)/ae,k[Z+11]=($[5]*ae|0)/ae,k[Z+15]=($[6]*ae|0)/ae,k[Z+16]=($[7]*ae|0)/ae}else k[Z]=$[0],k[Z+1]=$[1],k[Z+5]=$[2],k[Z+6]=$[3],k[Z+10]=$[4],k[Z+11]=$[5],k[Z+15]=$[6],k[Z+16]=$[7];F[Z+2]=j[0],F[Z+7]=j[1],F[Z+12]=j[2],F[Z+17]=j[3];var ue=Math.min(te.worldAlpha,1),ce=ue<1&&W.premultipliedAlpha?(0,s.premultiplyTint)(te._tintRGB,ue):te._tintRGB+(ue*255<<24);F[Z+3]=F[Z+8]=F[Z+13]=F[Z+18]=ce,k[Z+4]=k[Z+9]=k[Z+14]=k[Z+19]=W._virtalBoundId,Z+=20}if(q.size=K-q.start,r.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(D.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var he=this.shader.attributes,fe=this.vertexBuffers[this.vertexCount]=f.default.GLBuffer.createVertexBuffer(B,null,B.STREAM_DRAW),de=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(fe,he.aVertexPosition,B.FLOAT,!1,this.vertByteSize,0).addAttribute(fe,he.aTextureCoord,B.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(fe,he.aColor,B.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);he.aTextureId&&de.addAttribute(fe,he.aTextureId,B.FLOAT,!1,this.vertByteSize,4*4),this.vaos[this.vertexCount]=de}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(D.vertices,0,!1),this.vertexCount++}for(K=0;K<P;++K)C[K]._virtalBoundId=-1;for(K=0;K<H;++K){for(var le=L[K],pe=le.textureCount,se=0;se<pe;se++)V=le.textures[se],C[le.ids[se]]!==V&&this.renderer.bindTexture(V,le.ids[se],!0),V._virtalBoundId=-1;this.renderer.state.setBlendMode(le.blend),B.drawElements(B.TRIANGLES,le.size*6,B.UNSIGNED_SHORT,le.start*6*2)}this.currentIndex=0}},G.prototype.start=function(){this.renderer.bindShader(this.shader),r.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},G.prototype.stop=function(){this.flush()},G.prototype.destroy=function(){for(var B=0;B<this.vaoMax;B++)this.vertexBuffers[B]&&this.vertexBuffers[B].destroy(),this.vaos[B]&&this.vaos[B].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),A.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var P=0;P<this.buffers.length;++P)this.buffers[P].destroy()},G}(w.default);_.default=R,x.default.registerPlugin("sprite",R)},91903:function(Y,_,v){"use strict";_.__esModule=!0,_.default=d;var T=v(72916),w=x(T),o=v(26470);function x(h){return h&&h.__esModule?h:{default:h}}var E=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`);function d(h,l){var n=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor;
}
`,e=E;e=e.replace(/%count%/gi,l),e=e.replace(/%forloop%/gi,a(l));for(var i=new w.default(h,n,e),t=[],r=0;r<l;r++)t[r]=r;return i.bind(),i.uniforms.uSamplers=t,i}function a(h){var l="";l+=`
`,l+=`
`;for(var n=0;n<h;n++)n>0&&(l+=`
else `),n<h-1&&(l+="if(textureId == "+n+".0)"),l+=`
{`,l+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",l+=`
}`;return l+=`
`,l+=`
`,l}},50569:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function b(O,S){for(var R=0;R<S.length;R++){var A=S[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,S,R){return S&&b(O.prototype,S),R&&b(O,R),O}}(),w=v(88391),o=f(w),x=v(52631),E=f(x),d=v(80892),a=v(97768),h=v(84633),l=v(57505),n=f(l),e=v(52033),i=f(e),t=v(30596),r=f(t),s=v(90625),c=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function u(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}function p(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:b}function y(b,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);b.prototype=Object.create(O&&O.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(b,O):b.__proto__=O)}var g={texture:!0,children:!1,baseTexture:!0},m=function(b){y(O,b);function O(S,R,A){u(this,O),A=A||document.createElement("canvas"),A.width=3,A.height=3;var G=E.default.fromCanvas(A,n.default.SCALE_MODE,"text");G.orig=new d.Rectangle,G.trim=new d.Rectangle;var U=p(this,b.call(this,G));return E.default.addToCache(U._texture,U._texture.baseTexture.textureCacheIds[0]),U.canvas=A,U.context=U.canvas.getContext("2d"),U.resolution=n.default.RESOLUTION,U._text=null,U._style=null,U._styleListener=null,U._font="",U.text=S,U.style=R,U.localStyleID=-1,U}return O.prototype.updateText=function(R){var A=this._style;if(this.localStyleID!==A.styleID&&(this.dirty=!0,this.localStyleID=A.styleID),!(!this.dirty&&R)){this._font=this._style.toFontString();var G=this.context,U=r.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),B=U.width,P=U.height,X=U.lines,M=U.lineHeight,D=U.lineWidths,N=U.maxLineWidth,L=U.fontProperties;this.canvas.width=Math.ceil((Math.max(1,B)+A.padding*2)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,P)+A.padding*2)*this.resolution),G.scale(this.resolution,this.resolution),G.clearRect(0,0,this.canvas.width,this.canvas.height),G.font=this._font,G.strokeStyle=A.stroke,G.lineWidth=A.strokeThickness,G.textBaseline=A.textBaseline,G.lineJoin=A.lineJoin,G.miterLimit=A.miterLimit;var k=void 0,F=void 0;if(A.dropShadow){G.fillStyle=A.dropShadowColor,G.globalAlpha=A.dropShadowAlpha,G.shadowBlur=A.dropShadowBlur,A.dropShadowBlur>0&&(G.shadowColor=A.dropShadowColor);for(var I=Math.cos(A.dropShadowAngle)*A.dropShadowDistance,C=Math.sin(A.dropShadowAngle)*A.dropShadowDistance,z=0;z<X.length;z++)k=A.strokeThickness/2,F=A.strokeThickness/2+z*M+L.ascent,A.align==="right"?k+=N-D[z]:A.align==="center"&&(k+=(N-D[z])/2),A.fill&&(this.drawLetterSpacing(X[z],k+I+A.padding,F+C+A.padding),A.stroke&&A.strokeThickness&&(G.strokeStyle=A.dropShadowColor,this.drawLetterSpacing(X[z],k+I+A.padding,F+C+A.padding,!0),G.strokeStyle=A.stroke))}G.shadowBlur=0,G.globalAlpha=1,G.fillStyle=this._generateFillStyle(A,X);for(var Z=0;Z<X.length;Z++)k=A.strokeThickness/2,F=A.strokeThickness/2+Z*M+L.ascent,A.align==="right"?k+=N-D[Z]:A.align==="center"&&(k+=(N-D[Z])/2),A.stroke&&A.strokeThickness&&this.drawLetterSpacing(X[Z],k+A.padding,F+A.padding,!0),A.fill&&this.drawLetterSpacing(X[Z],k+A.padding,F+A.padding);this.updateTexture()}},O.prototype.drawLetterSpacing=function(R,A,G){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,B=this._style,P=B.letterSpacing;if(P===0){U?this.context.strokeText(R,A,G):this.context.fillText(R,A,G);return}for(var X=String.prototype.split.call(R,""),M=A,D=0,N="";D<R.length;)N=X[D++],U?this.context.strokeText(N,M,G):this.context.fillText(N,M,G),M+=this.context.measureText(N).width+P},O.prototype.updateTexture=function(){var R=this.canvas;if(this._style.trim){var A=(0,c.default)(R);A.data&&(R.width=A.width,R.height=A.height,this.context.putImageData(A.data,0,0))}var G=this._texture,U=this._style,B=U.trim?0:U.padding,P=G.baseTexture;P.hasLoaded=!0,P.resolution=this.resolution,P.realWidth=R.width,P.realHeight=R.height,P.width=R.width/this.resolution,P.height=R.height/this.resolution,G.trim.width=G._frame.width=R.width/this.resolution,G.trim.height=G._frame.height=R.height/this.resolution,G.trim.x=-B,G.trim.y=-B,G.orig.width=G._frame.width-B*2,G.orig.height=G._frame.height-B*2,this._onTextureUpdate(),P.emit("update",P),this.dirty=!1},O.prototype.renderWebGL=function(R){this.resolution!==R.resolution&&(this.resolution=R.resolution,this.dirty=!0),this.updateText(!0),b.prototype.renderWebGL.call(this,R)},O.prototype._renderCanvas=function(R){this.resolution!==R.resolution&&(this.resolution=R.resolution,this.dirty=!0),this.updateText(!0),b.prototype._renderCanvas.call(this,R)},O.prototype.getLocalBounds=function(R){return this.updateText(!0),b.prototype.getLocalBounds.call(this,R)},O.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},O.prototype._onStyleChange=function(){this.dirty=!0},O.prototype._generateFillStyle=function(R,A){if(!Array.isArray(R.fill))return R.fill;if(navigator.isCocoonJS)return R.fill[0];var G=void 0,U=void 0,B=void 0,P=void 0,X=this.canvas.width/this.resolution,M=this.canvas.height/this.resolution,D=R.fill.slice(),N=R.fillGradientStops.slice();if(!N.length)for(var L=D.length+1,k=1;k<L;++k)N.push(k/L);if(D.unshift(R.fill[0]),N.unshift(0),D.push(R.fill[R.fill.length-1]),N.push(1),R.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){G=this.context.createLinearGradient(X/2,0,X/2,M),U=(D.length+1)*A.length,B=0;for(var F=0;F<A.length;F++){B+=1;for(var I=0;I<D.length;I++)typeof N[I]=="number"?P=N[I]/A.length+F/A.length:P=B/U,G.addColorStop(P,D[I]),B++}}else{G=this.context.createLinearGradient(0,M/2,X,M/2),U=D.length+1,B=1;for(var C=0;C<D.length;C++)typeof N[C]=="number"?P=N[C]:P=B/U,G.addColorStop(P,D[C]),B++}return G},O.prototype.destroy=function(R){typeof R=="boolean"&&(R={children:R}),R=Object.assign({},g,R),b.prototype.destroy.call(this,R),this.context=null,this.canvas=null,this._style=null},T(O,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(R){this.updateText(!0);var A=(0,a.sign)(this.scale.x)||1;this.scale.x=A*R/this._texture.orig.width,this._width=R}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(R){this.updateText(!0);var A=(0,a.sign)(this.scale.y)||1;this.scale.y=A*R/this._texture.orig.height,this._height=R}},{key:"style",get:function(){return this._style},set:function(R){R=R||{},R instanceof i.default?this._style=R:this._style=new i.default(R),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(R){R=String(R===""||R===null||R===void 0?" ":R),this._text!==R&&(this._text=R,this.dirty=!0)}}]),O}(o.default);_.default=m},30596:function(Y,_){"use strict";_.__esModule=!0;function v(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}var T=function(){function o(x,E,d,a,h,l,n,e,i){v(this,o),this.text=x,this.style=E,this.width=d,this.height=a,this.lines=h,this.lineWidths=l,this.lineHeight=n,this.maxLineWidth=e,this.fontProperties=i}return o.measureText=function(E,d,a){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o._canvas;a=a==null?d.wordWrap:a;var l=d.toFontString(),n=o.measureFont(l),e=h.getContext("2d");e.font=l;for(var i=a?o.wordWrap(E,d,h):E,t=i.split(/(?:\r\n|\r|\n)/),r=new Array(t.length),s=0,c=0;c<t.length;c++){var f=e.measureText(t[c]).width+(t[c].length-1)*d.letterSpacing;r[c]=f,s=Math.max(s,f)}var u=s+d.strokeThickness;d.dropShadow&&(u+=d.dropShadowDistance);var p=d.lineHeight||n.fontSize+d.strokeThickness,y=Math.max(p,n.fontSize+d.strokeThickness)+(t.length-1)*(p+d.leading);return d.dropShadow&&(y+=d.dropShadowDistance),new o(E,d,u,y,t,r,p+d.leading,s,n)},o.wordWrap=function(E,d){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o._canvas,h=a.getContext("2d"),l=0,n="",e="",i={},t=d.letterSpacing,r=d.whiteSpace,s=o.collapseSpaces(r),c=o.collapseNewlines(r),f=!s,u=d.wordWrapWidth+t,p=o.tokenize(E),y=0;y<p.length;y++){var g=p[y];if(o.isNewline(g)){if(!c){e+=o.addLine(n),f=!s,n="",l=0;continue}g=" "}if(s){var m=o.isBreakingSpace(g),b=o.isBreakingSpace(n[n.length-1]);if(m&&b)continue}var O=o.getFromCache(g,t,i,h);if(O>u)if(n!==""&&(e+=o.addLine(n),n="",l=0),o.canBreakWords(g,d.breakWords))for(var S=g.split(""),R=0;R<S.length;R++){for(var A=S[R],G=1;S[R+G];){var U=S[R+G],B=A[A.length-1];if(!o.canBreakChars(B,U,g,R,d.breakWords))A+=U;else break;G++}R+=A.length-1;var P=o.getFromCache(A,t,i,h);P+l>u&&(e+=o.addLine(n),f=!1,n="",l=0),n+=A,l+=P}else{n.length>0&&(e+=o.addLine(n),n="",l=0);var X=y===p.length-1;e+=o.addLine(g,!X),f=!1,n="",l=0}else O+l>u&&(f=!1,e+=o.addLine(n),n="",l=0),(n.length>0||!o.isBreakingSpace(g)||f)&&(n+=g,l+=O)}return e+=o.addLine(n,!1),e},o.addLine=function(E){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return E=o.trimRight(E),E=d?E+`
`:E,E},o.getFromCache=function(E,d,a,h){var l=a[E];if(l===void 0){var n=E.length*d;l=h.measureText(E).width+n,a[E]=l}return l},o.collapseSpaces=function(E){return E==="normal"||E==="pre-line"},o.collapseNewlines=function(E){return E==="normal"},o.trimRight=function(E){if(typeof E!="string")return"";for(var d=E.length-1;d>=0;d--){var a=E[d];if(!o.isBreakingSpace(a))break;E=E.slice(0,-1)}return E},o.isNewline=function(E){return typeof E!="string"?!1:o._newlines.indexOf(E.charCodeAt(0))>=0},o.isBreakingSpace=function(E){return typeof E!="string"?!1:o._breakingSpaces.indexOf(E.charCodeAt(0))>=0},o.tokenize=function(E){var d=[],a="";if(typeof E!="string")return d;for(var h=0;h<E.length;h++){var l=E[h];if(o.isBreakingSpace(l)||o.isNewline(l)){a!==""&&(d.push(a),a=""),d.push(l);continue}a+=l}return a!==""&&d.push(a),d},o.canBreakWords=function(E,d){return d},o.canBreakChars=function(E,d,a,h,l){return!0},o.measureFont=function(E){if(o._fonts[E])return o._fonts[E];var d={},a=o._canvas,h=o._context;h.font=E;var l=o.METRICS_STRING+o.BASELINE_SYMBOL,n=Math.ceil(h.measureText(l).width),e=Math.ceil(h.measureText(o.BASELINE_SYMBOL).width),i=2*e;e=e*o.BASELINE_MULTIPLIER|0,a.width=n,a.height=i,h.fillStyle="#f00",h.fillRect(0,0,n,i),h.font=E,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(l,0,e);var t=h.getImageData(0,0,n,i).data,r=t.length,s=n*4,c=0,f=0,u=!1;for(c=0;c<e;++c){for(var p=0;p<s;p+=4)if(t[f+p]!==255){u=!0;break}if(!u)f+=s;else break}for(d.ascent=e-c,f=r-s,u=!1,c=i;c>e;--c){for(var y=0;y<s;y+=4)if(t[f+y]!==255){u=!0;break}if(!u)f-=s;else break}return d.descent=c-e,d.fontSize=d.ascent+d.descent,o._fonts[E]=d,d},o.clearMetrics=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";E?delete o._fonts[E]:o._fonts={}},o}();_.default=T;var w=document.createElement("canvas");w.width=w.height=10,T._canvas=w,T._context=w.getContext("2d"),T._fonts={},T.METRICS_STRING="|\xC9q",T.BASELINE_SYMBOL="M",T.BASELINE_MULTIPLIER=1.4,T._newlines=[10,13],T._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},52033:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function i(t,r){for(var s=0;s<r.length;s++){var c=r[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(t,r,s){return r&&i(t.prototype,r),s&&i(t,s),t}}(),w=v(84633),o=v(97768);function x(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var E={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:w.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},d=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],a=function(){function i(t){x(this,i),this.styleID=0,this.reset(),e(this,t,t)}return i.prototype.clone=function(){var r={};return e(r,this,E),new i(r)},i.prototype.reset=function(){e(this,E,E)},i.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,s=this.fontFamily;Array.isArray(this.fontFamily)||(s=this.fontFamily.split(","));for(var c=s.length-1;c>=0;c--){var f=s[c].trim();!/([\"\'])[^\'\"]+\1/.test(f)&&d.indexOf(f)<0&&(f='"'+f+'"'),s[c]=f}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+s.join(",")},T(i,[{key:"align",get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(r){var s=l(r);this._dropShadowColor!==s&&(this._dropShadowColor=s,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(r){var s=l(r);this._fill!==s&&(this._fill=s,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(r){n(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(r){var s=l(r);this._stroke!==s&&(this._stroke=s,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)}}]),i}();_.default=a;function h(i){return typeof i=="number"?(0,o.hex2string)(i):(typeof i=="string"&&i.indexOf("0x")===0&&(i=i.replace("0x","#")),i)}function l(i){if(Array.isArray(i)){for(var t=0;t<i.length;++t)i[t]=h(i[t]);return i}else return h(i)}function n(i,t){if(!Array.isArray(i)||!Array.isArray(t)||i.length!==t.length)return!1;for(var r=0;r<i.length;++r)if(i[r]!==t[r])return!1;return!0}function e(i,t,r){for(var s in r)Array.isArray(t[s])?i[s]=t[s].slice():i[s]=t[s]}},54566:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(99067),w=E(T),o=v(57505),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,r=arguments[2],s=arguments[3];d(this,e);var c=a(this,n.call(this,null,r));return c.resolution=s||x.default.RESOLUTION,c.width=Math.ceil(i),c.height=Math.ceil(t),c.realWidth=c.width*c.resolution,c.realHeight=c.height*c.resolution,c.scaleMode=r!==void 0?r:x.default.SCALE_MODE,c.hasLoaded=!0,c._glRenderTargets={},c._canvasRenderTarget=null,c.valid=!1,c}return e.prototype.resize=function(t,r){t=Math.ceil(t),r=Math.ceil(r),!(t===this.width&&r===this.height)&&(this.valid=t>0&&r>0,this.width=t,this.height=r,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,!!this.valid&&this.emit("update",this))},e.prototype.destroy=function(){n.prototype.destroy.call(this,!0),this.renderer=null},e}(w.default);_.default=l},99067:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(97768),w=v(57505),o=n(w),x=v(26729),E=n(x),d=v(91606),a=n(d),h=v(746),l=n(h);function n(s){return s&&s.__esModule?s:{default:s}}function e(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function i(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function t(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var r=function(s){t(c,s);function c(f,u,p){e(this,c);var y=i(this,s.call(this));return y.uid=(0,T.uid)(),y.touched=0,y.resolution=p||o.default.RESOLUTION,y.width=100,y.height=100,y.realWidth=100,y.realHeight=100,y.scaleMode=u!==void 0?u:o.default.SCALE_MODE,y.hasLoaded=!1,y.isLoading=!1,y.source=null,y.origSource=null,y.imageType=null,y.sourceScale=1,y.premultipliedAlpha=!0,y.imageUrl=null,y.isPowerOfTwo=!1,y.mipmap=o.default.MIPMAP_TEXTURES,y.wrapMode=o.default.WRAP_MODE,y._glTextures={},y._enabled=0,y._virtalBoundId=-1,y._destroyed=!1,y.textureCacheIds=[],f&&y.loadSource(f),y}return c.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},c.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=l.default.isPow2(this.realWidth)&&l.default.isPow2(this.realHeight)},c.prototype.loadSource=function(u){var p=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,p&&this.source&&(this.source.onload=null,this.source.onerror=null);var y=!this.source;if(this.source=u,(u.src&&u.complete||u.getContext)&&u.width&&u.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),y&&this.emit("loaded",this);else if(!u.getContext){this.isLoading=!0;var g=this;if(u.onload=function(){if(g._updateImageType(),u.onload=null,u.onerror=null,!!g.isLoading){if(g.isLoading=!1,g._sourceLoaded(),g.imageType==="svg"){g._loadSvgSource();return}g.emit("loaded",g)}},u.onerror=function(){u.onload=null,u.onerror=null,!!g.isLoading&&(g.isLoading=!1,g.emit("error",g))},u.complete&&u.src){if(u.onload=null,u.onerror=null,g.imageType==="svg"){g._loadSvgSource();return}this.isLoading=!1,u.width&&u.height?(this._sourceLoaded(),p&&this.emit("loaded",this)):p&&this.emit("error",this)}}},c.prototype._updateImageType=function(){if(!!this.imageUrl){var u=(0,T.decomposeDataUri)(this.imageUrl),p=void 0;if(u&&u.mediaType==="image"){var y=u.subType.split("+")[0];if(p=(0,T.getUrlFileExtension)("."+y),!p)throw new Error("Invalid image type in data URI.")}else p=(0,T.getUrlFileExtension)(this.imageUrl),p||(p="png");this.imageType=p}},c.prototype._loadSvgSource=function(){if(this.imageType==="svg"){var u=(0,T.decomposeDataUri)(this.imageUrl);u?this._loadSvgSourceUsingDataUri(u):this._loadSvgSourceUsingXhr()}},c.prototype._loadSvgSourceUsingDataUri=function(u){var p=void 0;if(u.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");p=atob(u.data)}else p=u.data;this._loadSvgSourceUsingString(p)},c.prototype._loadSvgSourceUsingXhr=function(){var u=this,p=new XMLHttpRequest;p.onload=function(){if(p.readyState!==p.DONE||p.status!==200)throw new Error("Failed to load SVG using XHR.");u._loadSvgSourceUsingString(p.response)},p.onerror=function(){return u.emit("error",u)},p.open("GET",this.imageUrl,!0),p.send()},c.prototype._loadSvgSourceUsingString=function(u){var p=(0,T.getSvgSize)(u),y=p.width,g=p.height;if(!y||!g)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(y*this.sourceScale),this.realHeight=Math.round(g*this.sourceScale),this._updateDimensions();var m=document.createElement("canvas");m.width=this.realWidth,m.height=this.realHeight,m._pixiId="canvas_"+(0,T.uid)(),m.getContext("2d").drawImage(this.source,0,0,y,g,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=m,c.addToCache(this,m._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},c.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},c.prototype.destroy=function(){this.imageUrl&&(delete T.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},c.prototype.dispose=function(){this.emit("dispose",this)},c.prototype.updateSourceImage=function(u){this.source.src=u,this.loadSource(this.source)},c.fromImage=function(u,p,y,g){var m=T.BaseTextureCache[u];if(!m){var b=new Image;p===void 0&&u.indexOf("data:")!==0?b.crossOrigin=(0,a.default)(u):p&&(b.crossOrigin=typeof p=="string"?p:"anonymous"),m=new c(b,y),m.imageUrl=u,g&&(m.sourceScale=g),m.resolution=(0,T.getResolutionOfUrl)(u),b.src=u,c.addToCache(m,u)}return m},c.fromCanvas=function(u,p){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";u._pixiId||(u._pixiId=y+"_"+(0,T.uid)());var g=T.BaseTextureCache[u._pixiId];return g||(g=new c(u,p),c.addToCache(g,u._pixiId)),g},c.from=function(u,p,y){if(typeof u=="string")return c.fromImage(u,void 0,p,y);if(u instanceof HTMLImageElement){var g=u.src,m=T.BaseTextureCache[g];return m||(m=new c(u,p),m.imageUrl=g,y&&(m.sourceScale=y),m.resolution=(0,T.getResolutionOfUrl)(g),c.addToCache(m,g)),m}else if(u instanceof HTMLCanvasElement)return c.fromCanvas(u,p);return u},c.addToCache=function(u,p){p&&(u.textureCacheIds.indexOf(p)===-1&&u.textureCacheIds.push(p),T.BaseTextureCache[p]&&console.warn("BaseTexture added to the cache with an id ["+p+"] that already had an entry"),T.BaseTextureCache[p]=u)},c.removeFromCache=function(u){if(typeof u=="string"){var p=T.BaseTextureCache[u];if(p){var y=p.textureCacheIds.indexOf(u);return y>-1&&p.textureCacheIds.splice(y,1),delete T.BaseTextureCache[u],p}}else if(u&&u.textureCacheIds){for(var g=0;g<u.textureCacheIds.length;++g)delete T.BaseTextureCache[u.textureCacheIds[g]];return u.textureCacheIds.length=0,u}return null},c}(E.default);_.default=r},90869:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(54566),w=E(T),o=v(52631),x=E(o);function E(n){return n&&n.__esModule?n:{default:n}}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(i,t){d(this,e);var r=null;if(!(i instanceof w.default)){var s=arguments[1],c=arguments[2],f=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+c+") instead of the ctor directly."),r=arguments[0],t=null,i=new w.default(s,c,f,u)}var p=a(this,n.call(this,i,t));return p.legacyRenderer=r,p.valid=!0,p._updateUvs(),p}return e.prototype.resize=function(t,r,s){t=Math.ceil(t),r=Math.ceil(r),this.valid=t>0&&r>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=r,s||this.baseTexture.resize(t,r),this._updateUvs()},e.create=function(t,r,s,c){return new e(new w.default(t,r,s,c))},e}(x.default);_.default=l},43042:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function d(a,h){for(var l=0;l<h.length;l++){var n=h[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,h,l){return h&&d(a.prototype,h),l&&d(a,l),a}}(),w=v(92321),o=v(97768);function x(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}var E=function(){T(d,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function d(a,h){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;x(this,d),this.baseTexture=a,this.textures={},this.animations={},this.data=h,this.resolution=this._updateResolution(l||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return d.prototype._updateResolution=function(h){var l=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(h,null);return n===null&&(n=l!==void 0?parseFloat(l):1),n!==1&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},d.prototype.parse=function(h){this._batchIndex=0,this._callback=h,this._frameKeys.length<=d.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},d.prototype._processFrames=function(h){for(var l=h,n=d.BATCH_SIZE,e=this.baseTexture.sourceScale;l-h<n&&l<this._frameKeys.length;){var i=this._frameKeys[l],t=this._frames[i],r=t.frame;if(r){var s=null,c=null,f=t.trimmed!==!1&&t.sourceSize?t.sourceSize:t.frame,u=new w.Rectangle(0,0,Math.floor(f.w*e)/this.resolution,Math.floor(f.h*e)/this.resolution);t.rotated?s=new w.Rectangle(Math.floor(r.x*e)/this.resolution,Math.floor(r.y*e)/this.resolution,Math.floor(r.h*e)/this.resolution,Math.floor(r.w*e)/this.resolution):s=new w.Rectangle(Math.floor(r.x*e)/this.resolution,Math.floor(r.y*e)/this.resolution,Math.floor(r.w*e)/this.resolution,Math.floor(r.h*e)/this.resolution),t.trimmed!==!1&&t.spriteSourceSize&&(c=new w.Rectangle(Math.floor(t.spriteSourceSize.x*e)/this.resolution,Math.floor(t.spriteSourceSize.y*e)/this.resolution,Math.floor(r.w*e)/this.resolution,Math.floor(r.h*e)/this.resolution)),this.textures[i]=new w.Texture(this.baseTexture,s,u,c,t.rotated?2:0,t.anchor),w.Texture.addToCache(this.textures[i],i)}l++}},d.prototype._processAnimations=function(){var h=this.data.animations||{};for(var l in h){this.animations[l]=[];for(var n=h[l],e=Array.isArray(n),i=0,n=e?n:n[Symbol.iterator]();;){var t;if(e){if(i>=n.length)break;t=n[i++]}else{if(i=n.next(),i.done)break;t=i.value}var r=t;this.animations[l].push(this.textures[r])}}},d.prototype._parseComplete=function(){var h=this._callback;this._callback=null,this._batchIndex=0,h.call(this,this.textures)},d.prototype._nextBatch=function(){var h=this;this._processFrames(this._batchIndex*d.BATCH_SIZE),this._batchIndex++,setTimeout(function(){h._batchIndex*d.BATCH_SIZE<h._frameKeys.length?h._nextBatch():(h._processAnimations(),h._parseComplete())},0)},d.prototype.destroy=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var l in this.textures)this.textures[l].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,h&&this.baseTexture.destroy(),this.baseTexture=null},d}();_.default=E},52631:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function g(m,b){for(var O=0;O<b.length;O++){var S=b[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,b,O){return b&&g(m.prototype,b),O&&g(m,O),m}}(),w=v(99067),o=r(w),x=v(78581),E=r(x),d=v(64368),a=r(d),h=v(26729),l=r(h),n=v(80892),e=v(97768),i=v(57505),t=r(i);function r(g){return g&&g.__esModule?g:{default:g}}function s(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var u=function(g){f(m,g);function m(b,O,S,R,A,G){s(this,m);var U=c(this,g.call(this));if(U.noFrame=!1,O||(U.noFrame=!0,O=new n.Rectangle(0,0,1,1)),b instanceof m&&(b=b.baseTexture),U.baseTexture=b,U._frame=O,U.trim=R,U.valid=!1,U.requiresUpdate=!1,U._uvs=null,U.orig=S||O,U._rotate=Number(A||0),A===!0)U._rotate=2;else if(U._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return b.hasLoaded?(U.noFrame&&(O=new n.Rectangle(0,0,b.width,b.height),b.on("update",U.onBaseTextureUpdated,U)),U.frame=O):b.once("loaded",U.onBaseTextureLoaded,U),U.defaultAnchor=G?new n.Point(G.x,G.y):new n.Point(0,0),U._updateID=0,U.transform=null,U.textureCacheIds=[],U}return m.prototype.update=function(){this.baseTexture.update()},m.prototype.onBaseTextureLoaded=function(O){this._updateID++,this.noFrame?this.frame=new n.Rectangle(0,0,O.width,O.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},m.prototype.onBaseTextureUpdated=function(O){this._updateID++,this._frame.width=O.width,this._frame.height=O.height,this.emit("update",this)},m.prototype.destroy=function(O){this.baseTexture&&(O&&(e.TextureCache[this.baseTexture.imageUrl]&&m.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,m.removeFromCache(this),this.textureCacheIds=null},m.prototype.clone=function(){return new m(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},m.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},m.fromImage=function(O,S,R,A){var G=e.TextureCache[O];return G||(G=new m(o.default.fromImage(O,S,R,A)),m.addToCache(G,O)),G},m.fromFrame=function(O){var S=e.TextureCache[O];if(!S)throw new Error('The frameId "'+O+'" does not exist in the texture cache');return S},m.fromCanvas=function(O,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new m(o.default.fromCanvas(O,S,R))},m.fromVideo=function(O,S,R,A){return typeof O=="string"?m.fromVideoUrl(O,S,R,A):new m(E.default.fromVideo(O,S,A))},m.fromVideoUrl=function(O,S,R,A){return new m(E.default.fromUrl(O,S,R,A))},m.from=function(O){if(typeof O=="string"){var S=e.TextureCache[O];if(!S){var R=O.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return R?m.fromVideoUrl(O):m.fromImage(O)}return S}else{if(O instanceof HTMLImageElement)return new m(o.default.from(O));if(O instanceof HTMLCanvasElement)return m.fromCanvas(O,t.default.SCALE_MODE,"HTMLCanvasElement");if(O instanceof HTMLVideoElement)return m.fromVideo(O);if(O instanceof o.default)return new m(O)}return O},m.fromLoader=function(O,S,R){var A=new o.default(O,void 0,(0,e.getResolutionOfUrl)(S)),G=new m(A);return A.imageUrl=S,R||(R=S),o.default.addToCache(G.baseTexture,R),m.addToCache(G,R),R!==S&&(o.default.addToCache(G.baseTexture,S),m.addToCache(G,S)),G},m.addToCache=function(O,S){S&&(O.textureCacheIds.indexOf(S)===-1&&O.textureCacheIds.push(S),e.TextureCache[S]&&console.warn("Texture added to the cache with an id ["+S+"] that already had an entry"),e.TextureCache[S]=O)},m.removeFromCache=function(O){if(typeof O=="string"){var S=e.TextureCache[O];if(S){var R=S.textureCacheIds.indexOf(O);return R>-1&&S.textureCacheIds.splice(R,1),delete e.TextureCache[O],S}}else if(O&&O.textureCacheIds){for(var A=0;A<O.textureCacheIds.length;++A)e.TextureCache[O.textureCacheIds[A]]===O&&delete e.TextureCache[O.textureCacheIds[A]];return O.textureCacheIds.length=0,O}return null},T(m,[{key:"frame",get:function(){return this._frame},set:function(O){this._frame=O,this.noFrame=!1;var S=O.x,R=O.y,A=O.width,G=O.height,U=S+A>this.baseTexture.width,B=R+G>this.baseTexture.height;if(U||B){var P=U&&B?"and":"or",X="X: "+S+" + "+A+" = "+(S+A)+" > "+this.baseTexture.width,M="Y: "+R+" + "+G+" = "+(R+G)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(X+" "+P+" "+M))}this.valid=A&&G&&this.baseTexture.hasLoaded,!this.trim&&!this.rotate&&(this.orig=O),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(O){this._rotate=O,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),m}(l.default);_.default=u;function p(){var g=document.createElement("canvas");g.width=10,g.height=10;var m=g.getContext("2d");return m.fillStyle="white",m.fillRect(0,0,10,10),new u(new o.default(g))}function y(g){g.destroy=function(){},g.on=function(){},g.once=function(){},g.emit=function(){}}u.EMPTY=new u(new o.default),y(u.EMPTY),y(u.EMPTY.baseTexture),u.WHITE=p(),y(u.WHITE),y(u.WHITE.baseTexture)},89673:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function h(l,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}return function(l,n,e){return n&&h(l.prototype,n),e&&h(l,e),l}}(),w=v(86724),o=x(w);function x(h){return h&&h.__esModule?h:{default:h}}function E(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}var d=new o.default,a=function(){function h(l,n){E(this,h),this._texture=l,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof n=="undefined"?.5:n}return h.prototype.multiplyUvs=function(n,e){e===void 0&&(e=n);for(var i=this.mapCoord,t=0;t<n.length;t+=2){var r=n[t],s=n[t+1];e[t]=r*i.a+s*i.c+i.tx,e[t+1]=r*i.b+s*i.d+i.ty}return e},h.prototype.update=function(n){var e=this._texture;if(!e||!e.valid||!n&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var t=e.orig,r=e.trim;r&&(d.set(t.width/r.width,0,0,t.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(d));var s=e.baseTexture,c=this.uClampFrame,f=this.clampMargin/s.resolution,u=this.clampOffset;return c[0]=(e._frame.x+f+u)/s.width,c[1]=(e._frame.y+f+u)/s.height,c[2]=(e._frame.x+e._frame.width-f+u)/s.width,c[3]=(e._frame.y+e._frame.height-f+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,!0},T(h,[{key:"texture",get:function(){return this._texture},set:function(n){this._texture=n,this._lastTextureID=-1}}]),h}();_.default=a},64368:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(17616),w=o(T);function o(d){return d&&d.__esModule?d:{default:d}}function x(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}var E=function(){function d(){x(this,d),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return d.prototype.set=function(h,l,n){var e=l.width,i=l.height;if(n){var t=h.width/2/e,r=h.height/2/i,s=h.x/e+t,c=h.y/i+r;n=w.default.add(n,w.default.NW),this.x0=s+t*w.default.uX(n),this.y0=c+r*w.default.uY(n),n=w.default.add(n,2),this.x1=s+t*w.default.uX(n),this.y1=c+r*w.default.uY(n),n=w.default.add(n,2),this.x2=s+t*w.default.uX(n),this.y2=c+r*w.default.uY(n),n=w.default.add(n,2),this.x3=s+t*w.default.uX(n),this.y3=c+r*w.default.uY(n)}else this.x0=h.x/e,this.y0=h.y/i,this.x1=(h.x+h.width)/e,this.y1=h.y/i,this.x2=(h.x+h.width)/e,this.y2=(h.y+h.height)/i,this.x3=h.x/e,this.y3=(h.y+h.height)/i;this.uvsUint32[0]=(Math.round(this.y0*65535)&65535)<<16|Math.round(this.x0*65535)&65535,this.uvsUint32[1]=(Math.round(this.y1*65535)&65535)<<16|Math.round(this.x1*65535)&65535,this.uvsUint32[2]=(Math.round(this.y2*65535)&65535)<<16|Math.round(this.x2*65535)&65535,this.uvsUint32[3]=(Math.round(this.y3*65535)&65535)<<16|Math.round(this.x3*65535)&65535},d}();_.default=E},78581:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function s(c,f){for(var u=0;u<f.length;u++){var p=f[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,u){return f&&s(c.prototype,f),u&&s(c,u),c}}(),w=v(99067),o=l(w),x=v(97768),E=v(60938),d=v(84633),a=v(91606),h=l(a);function l(s){return s&&s.__esModule?s:{default:s}}function n(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function e(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function i(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var t=function(s){i(c,s);function c(f,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n(this,c),!f)throw new Error("No video source element specified.");(f.readyState===f.HAVE_ENOUGH_DATA||f.readyState===f.HAVE_FUTURE_DATA)&&f.width&&f.height&&(f.complete=!0);var y=e(this,s.call(this,f,u));return y.width=f.videoWidth,y.height=f.videoHeight,y._autoUpdate=!0,y._isAutoUpdating=!1,y.autoPlay=p,y.update=y.update.bind(y),y._onCanPlay=y._onCanPlay.bind(y),f.addEventListener("play",y._onPlayStart.bind(y)),f.addEventListener("pause",y._onPlayStop.bind(y)),y.hasLoaded=!1,y.__loaded=!1,y._isSourceReady()?y._onCanPlay():(f.addEventListener("canplay",y._onCanPlay),f.addEventListener("canplaythrough",y._onCanPlay)),y}return c.prototype._isSourcePlaying=function(){var u=this.source;return u.currentTime>0&&u.paused===!1&&u.ended===!1&&u.readyState>2},c.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},c.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(E.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},c.prototype._onPlayStop=function(){this._isAutoUpdating&&(E.shared.remove(this.update,this),this._isAutoUpdating=!1)},c.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},c.prototype.destroy=function(){this._isAutoUpdating&&E.shared.remove(this.update,this),this.source&&this.source._pixiId&&(o.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),s.prototype.destroy.call(this)},c.fromVideo=function(u,p,y){u._pixiId||(u._pixiId="video_"+(0,x.uid)());var g=x.BaseTextureCache[u._pixiId];return g||(g=new c(u,p,y),o.default.addToCache(g,u._pixiId)),g},c.fromUrl=function(u,p,y,g){var m=document.createElement("video");m.setAttribute("webkit-playsinline",""),m.setAttribute("playsinline","");var b=Array.isArray(u)?u[0].src||u[0]:u.src||u;if(y===void 0&&b.indexOf("data:")!==0?m.crossOrigin=(0,h.default)(b):y&&(m.crossOrigin=typeof y=="string"?y:"anonymous"),Array.isArray(u))for(var O=0;O<u.length;++O)m.appendChild(r(u[O].src||u[O],u[O].mime));else m.appendChild(r(b,u.mime));return m.load(),c.fromVideo(m,p,g)},T(c,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(u){u!==this._autoUpdate&&(this._autoUpdate=u,!this._autoUpdate&&this._isAutoUpdating?(E.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(E.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),c}(o.default);_.default=t,t.fromUrls=t.fromUrl;function r(s,c){if(!c){var f=s.split("?").shift().toLowerCase();c="video/"+f.substr(f.lastIndexOf(".")+1)}var u=document.createElement("source");return u.src=s,u.type=c,u}},74153:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(57505),o=a(w),x=v(84633),E=v(2716),d=a(E);function a(n){return n&&n.__esModule?n:{default:n}}function h(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function n(){var e=this;h(this,n),this._head=new d.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(i){e._requestId=null,e.started&&(e.update(i),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return n.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(i,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.UPDATE_PRIORITY.NORMAL;return this._addListener(new d.default(i,t,r))},n.prototype.addOnce=function(i,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.UPDATE_PRIORITY.NORMAL;return this._addListener(new d.default(i,t,r,!0))},n.prototype._addListener=function(i){var t=this._head.next,r=this._head;if(!t)i.connect(r);else{for(;t;){if(i.priority>t.priority){i.connect(r);break}r=t,t=t.next}i.previous||i.connect(r)}return this._startIfPossible(),this},n.prototype.remove=function(i,t){for(var r=this._head.next;r;)r.match(i,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){this.stop();for(var i=this._head.next;i;)i=i.destroy(!0);this._head.destroy(),this._head=null},n.prototype.update=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),t=void 0;if(i>this.lastTime){t=this.elapsedMS=i-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*o.default.TARGET_FPMS*this.speed;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=i},T(n,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(i){var t=Math.min(Math.max(0,i)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),n}();_.default=l},2716:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;v(this,w),this.fn=o,this.context=x,this.priority=E,this.once=d,this.next=null,this.previous=null,this._destroyed=!1}return w.prototype.match=function(x,E){return E=E||null,this.fn===x&&this.context===E},w.prototype.emit=function(x){this.fn&&(this.context?this.fn.call(this.context,x):this.fn(x));var E=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),E},w.prototype.connect=function(x){this.previous=x,x.next&&(x.next.previous=this),this.next=x.next,x.next=this},w.prototype.destroy=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var E=this.next;return this.next=x?null:E,this.previous=null,E},w}();_.default=T},60938:function(Y,_,v){"use strict";_.__esModule=!0,_.Ticker=_.shared=void 0;var T=v(74153),w=o(T);function o(E){return E&&E.__esModule?E:{default:E}}var x=new w.default;x.autoStart=!0,x.destroy=function(){},_.shared=x,_.Ticker=w.default},69681:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(){var T=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!T}},94014:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(T){for(var w=T*6,o=new Uint16Array(w),x=0,E=0;x<w;x+=6,E+=4)o[x+0]=E+0,o[x+1]=E+1,o[x+2]=E+2,o[x+3]=E+0,o[x+4]=E+2,o[x+5]=E+3;return o}},91606:function(Y,_,v){"use strict";_.__esModule=!0,_.default=E;var T=v(8575),w=o(T);function o(d){return d&&d.__esModule?d:{default:d}}var x=void 0;function E(d){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(d.indexOf("data:")===0)return"";a=a||window.location,x||(x=document.createElement("a")),x.href=d,d=w.default.parse(x.href);var h=!d.port&&a.port===""||d.port===a.port;return d.hostname!==a.hostname||!h||d.protocol!==a.protocol?"anonymous":""}},97768:function(Y,_,v){"use strict";_.__esModule=!0,_.premultiplyBlendMode=_.BaseTextureCache=_.TextureCache=_.earcut=_.mixins=_.pluginTarget=_.EventEmitter=_.removeItems=_.isMobile=void 0,_.uid=m,_.hex2rgb=b,_.hex2string=O,_.rgb2hex=S,_.getResolutionOfUrl=R,_.decomposeDataUri=A,_.getUrlFileExtension=G,_.getSvgSize=U,_.skipHello=B,_.sayHello=P,_.isWebGLSupported=X,_.sign=M,_.destroyTextureCache=L,_.clearTextureCache=k,_.correctBlendMode=I,_.premultiplyTint=C,_.premultiplyRgba=z,_.premultiplyTintToRgba=Z;var T=v(84633),w=v(57505),o=p(w),x=v(26729),E=p(x),d=v(13278),a=p(d),h=v(20457),l=u(h),n=v(47561),e=u(n),i=v(77069),t=p(i),r=v(46507),s=p(r),c=v(9187),f=p(c);function u(W){if(W&&W.__esModule)return W;var V={};if(W!=null)for(var H in W)Object.prototype.hasOwnProperty.call(W,H)&&(V[H]=W[H]);return V.default=W,V}function p(W){return W&&W.__esModule?W:{default:W}}var y=0,g=!1;_.isMobile=e,_.removeItems=t.default,_.EventEmitter=E.default,_.pluginTarget=a.default,_.mixins=l,_.earcut=f.default;function m(){return++y}function b(W,V){return V=V||[],V[0]=(W>>16&255)/255,V[1]=(W>>8&255)/255,V[2]=(W&255)/255,V}function O(W){return W=W.toString(16),W="000000".substr(0,6-W.length)+W,"#"+W}function S(W){return(W[0]*255<<16)+(W[1]*255<<8)+(W[2]*255|0)}function R(W,V){var H=o.default.RETINA_PREFIX.exec(W);return H?parseFloat(H[1]):V!==void 0?V:1}function A(W){var V=T.DATA_URI.exec(W);if(V)return{mediaType:V[1]?V[1].toLowerCase():void 0,subType:V[2]?V[2].toLowerCase():void 0,charset:V[3]?V[3].toLowerCase():void 0,encoding:V[4]?V[4].toLowerCase():void 0,data:V[5]}}function G(W){var V=T.URL_FILE_EXTENSION.exec(W);if(V)return V[1].toLowerCase()}function U(W){var V=T.SVG_SIZE.exec(W),H={};return V&&(H[V[1]]=Math.round(parseFloat(V[3])),H[V[5]]=Math.round(parseFloat(V[7]))),H}function B(){g=!0}function P(W){if(!g){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var V=[`
 %c %c %c PixiJS `+T.VERSION+" - \u2730 "+W+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,V)}else window.console&&window.console.log("PixiJS "+T.VERSION+" - "+W+" - http://www.pixijs.com/");g=!0}}function X(){var W={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var V=document.createElement("canvas"),H=V.getContext("webgl",W)||V.getContext("experimental-webgl",W),Q=!!(H&&H.getContextAttributes().stencil);if(H){var q=H.getExtension("WEBGL_lose_context");q&&q.loseContext()}return H=null,Q}catch($){return!1}}function M(W){return W===0?0:W<0?-1:1}var D=_.TextureCache=Object.create(null),N=_.BaseTextureCache=Object.create(null);function L(){var W=void 0;for(W in D)D[W].destroy();for(W in N)N[W].destroy()}function k(){var W=void 0;for(W in D)delete D[W];for(W in N)delete N[W]}var F=_.premultiplyBlendMode=(0,s.default)();function I(W,V){return F[V?1:0][W]}function C(W,V){if(V===1)return(V*255<<24)+W;if(V===0)return 0;var H=W>>16&255,Q=W>>8&255,q=W&255;return H=H*V+.5|0,Q=Q*V+.5|0,q=q*V+.5|0,(V*255<<24)+(H<<16)+(Q<<8)+q}function z(W,V,H,Q){return H=H||new Float32Array(4),Q||Q===void 0?(H[0]=W[0]*V,H[1]=W[1]*V,H[2]=W[2]*V):(H[0]=W[0],H[1]=W[1],H[2]=W[2]),H[3]=V,H}function Z(W,V,H,Q){return H=H||new Float32Array(4),H[0]=(W>>16&255)/255,H[1]=(W>>8&255)/255,H[2]=(W&255)/255,(Q||Q===void 0)&&(H[0]*=V,H[1]*=V,H[2]*=V),H[3]=V,H}},46507:function(Y,_,v){"use strict";_.__esModule=!0,_.default=w;var T=v(84633);function w(){for(var o=[],x=[],E=0;E<32;E++)o[E]=E,x[E]=E;o[T.BLEND_MODES.NORMAL_NPM]=T.BLEND_MODES.NORMAL,o[T.BLEND_MODES.ADD_NPM]=T.BLEND_MODES.ADD,o[T.BLEND_MODES.SCREEN_NPM]=T.BLEND_MODES.SCREEN,x[T.BLEND_MODES.NORMAL]=T.BLEND_MODES.NORMAL_NPM,x[T.BLEND_MODES.ADD]=T.BLEND_MODES.ADD_NPM,x[T.BLEND_MODES.SCREEN]=T.BLEND_MODES.SCREEN_NPM;var d=[];return d.push(x),d.push(o),d}},60585:function(Y,_,v){"use strict";_.__esModule=!0,_.default=x;var T=v(47561),w=o(T);function o(E){return E&&E.__esModule?E:{default:E}}function x(E){return w.default.tablet||w.default.phone?4:E}},20457:function(Y,_){"use strict";_.__esModule=!0,_.mixin=v,_.delayMixin=w,_.performMixins=o;function v(x,E){if(!(!x||!E))for(var d=Object.keys(E),a=0;a<d.length;++a){var h=d[a];Object.defineProperty(x,h,Object.getOwnPropertyDescriptor(E,h))}}var T=[];function w(x,E){T.push(x,E)}function o(){for(var x=0;x<T.length;x+=2)v(T[x],T[x+1]);T.length=0}},13278:function(Y,_){"use strict";_.__esModule=!0;function v(T){T.__plugins={},T.registerPlugin=function(o,x){T.__plugins[o]=x},T.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var o in T.__plugins)this.plugins[o]=new T.__plugins[o](this)},T.prototype.destroyPlugins=function(){for(var o in this.plugins)this.plugins[o].destroy(),this.plugins[o]=null;this.plugins=null}}_.default={mixin:function(w){v(w)}}},90625:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(T){var w=T.width,o=T.height,x=T.getContext("2d"),E=x.getImageData(0,0,w,o),d=E.data,a=d.length,h={top:null,left:null,right:null,bottom:null},l=null,n=void 0,e=void 0,i=void 0;for(n=0;n<a;n+=4)d[n+3]!==0&&(e=n/4%w,i=~~(n/4/w),h.top===null&&(h.top=i),(h.left===null||e<h.left)&&(h.left=e),(h.right===null||h.right<e)&&(h.right=e+1),(h.bottom===null||h.bottom<i)&&(h.bottom=i));return h.top!==null&&(w=h.right-h.left,o=h.bottom-h.top+1,l=x.getImageData(h.left,h.top,w,o)),{height:o,width:w,data:l}}},16910:function(Y,_){"use strict";_.__esModule=!0,_.default=w;var v={};function T(o){if(!v[o]){var x=new Error().stack;typeof x=="undefined"?console.warn("Deprecation Warning: ",o):(x=x.split(`
`).splice(3).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o),console.warn(x),console.groupEnd()):(console.warn("Deprecation Warning: ",o),console.warn(x))),v[o]=!0}}function w(o){var x=o.mesh,E=o.particles,d=o.extras,a=o.filters,h=o.prepare,l=o.loaders,n=o.interaction;Object.defineProperties(o,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return T("You do not need to use a PIXI Stage any more, you can simply render any container."),o.Container}},DisplayObjectContainer:{get:function(){return T("DisplayObjectContainer has been shortened to Container, please use Container from now on."),o.Container}},Strip:{get:function(){return T("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),x.Mesh}},Rope:{get:function(){return T("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),x.Rope}},ParticleContainer:{get:function(){return T("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),E.ParticleContainer}},MovieClip:{get:function(){return T("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),d.AnimatedSprite}},TilingSprite:{get:function(){return T("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),d.TilingSprite}},BitmapText:{get:function(){return T("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),d.BitmapText}},blendModes:{get:function(){return T("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),o.BLEND_MODES}},scaleModes:{get:function(){return T("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),o.SCALE_MODES}},BaseTextureCache:{get:function(){return T("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),o.utils.BaseTextureCache}},TextureCache:{get:function(){return T("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),o.utils.TextureCache}},math:{get:function(){return T("The math namespace is deprecated, please access members already accessible on PIXI."),o}},AbstractFilter:{get:function(){return T("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.Filter}},TransformManual:{get:function(){return T("TransformManual has been renamed to TransformBase, please update your pixi-spine"),o.TransformBase}},TARGET_FPMS:{get:function(){return T("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS},set:function(u){T("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS=u}},FILTER_RESOLUTION:{get:function(){return T("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION},set:function(u){T("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION=u}},RESOLUTION:{get:function(){return T("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION},set:function(u){T("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION=u}},MIPMAP_TEXTURES:{get:function(){return T("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES},set:function(u){T("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES=u}},SPRITE_BATCH_SIZE:{get:function(){return T("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE},set:function(u){T("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE=u}},SPRITE_MAX_TEXTURES:{get:function(){return T("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES},set:function(u){T("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES=u}},RETINA_PREFIX:{get:function(){return T("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX},set:function(u){T("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX=u}},DEFAULT_RENDER_OPTIONS:{get:function(){return T("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),o.settings.RENDER_OPTIONS}}});for(var e=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],i=function(u){var p=e[u];Object.defineProperty(o[p.parent],"DEFAULT",{get:function(){return T("PIXI."+p.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+p.target)),o.settings[p.target]},set:function(g){T("PIXI."+p.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+p.target)),o.settings[p.target]=g}})},t=0;t<e.length;t++)i(t);Object.defineProperties(o.settings,{PRECISION:{get:function(){return T("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),o.settings.PRECISION_FRAGMENT},set:function(u){T("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),o.settings.PRECISION_FRAGMENT=u}}}),d.AnimatedSprite&&Object.defineProperties(d,{MovieClip:{get:function(){return T("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),d.AnimatedSprite}}}),d&&Object.defineProperties(d,{TextureTransform:{get:function(){return T("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),o.TextureMatrix}}}),o.DisplayObject.prototype.generateTexture=function(u,p,y){return T("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),u.generateTexture(this,p,y)},o.Graphics.prototype.generateTexture=function(u,p){return T("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(u,p)},o.GroupD8.isSwapWidthHeight=function(u){return T("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),o.GroupD8.isVertical(u)},o.RenderTexture.prototype.render=function(u,p,y,g){this.legacyRenderer.render(u,this,y,p,!g),T("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},o.RenderTexture.prototype.getImage=function(u){return T("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(u)},o.RenderTexture.prototype.getBase64=function(u){return T("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(u)},o.RenderTexture.prototype.getCanvas=function(u){return T("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(u)},o.RenderTexture.prototype.getPixels=function(u){return T("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(u)},o.Sprite.prototype.setTexture=function(u){this.texture=u,T("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},d.BitmapText&&(d.BitmapText.prototype.setText=function(u){this.text=u,T("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),o.Text.prototype.setText=function(u){this.text=u,T("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},o.Text.calculateFontProperties=function(u){return T("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),o.TextMetrics.measureFont(u)},Object.defineProperties(o.Text,{fontPropertiesCache:{get:function(){return T("Text.fontPropertiesCache is deprecated"),o.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return T("Text.fontPropertiesCanvas is deprecated"),o.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return T("Text.fontPropertiesContext is deprecated"),o.TextMetrics._context}}}),o.Text.prototype.setStyle=function(u){this.style=u,T("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},o.Text.prototype.determineFontProperties=function(u){return T("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),o.TextMetrics.measureFont(u)},o.Text.getFontStyle=function(u){return T("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),u=u||{},u instanceof o.TextStyle||(u=new o.TextStyle(u)),u.toFontString()},Object.defineProperties(o.TextStyle.prototype,{font:{get:function(){T("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var u=typeof this._fontSize=="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+u+" "+this._fontFamily},set:function(u){T("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),u.indexOf("italic")>1?this._fontStyle="italic":u.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",u.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var p=u.split(" "),y=-1;this._fontSize=26;for(var g=0;g<p.length;++g)if(p[g].match(/(px|pt|em|%)/)){y=g,this._fontSize=p[g];break}this._fontWeight="normal";for(var m=0;m<y;++m)if(p[m].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=p[m];break}if(y>-1&&y<p.length-1){this._fontFamily="";for(var b=y+1;b<p.length;++b)this._fontFamily+=p[b]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),o.Texture.prototype.setFrame=function(u){this.frame=u,T("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},o.Texture.addTextureToCache=function(u,p){o.Texture.addToCache(u,p),T("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},o.Texture.removeTextureFromCache=function(u){return T("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),o.BaseTexture.removeFromCache(u),o.Texture.removeFromCache(u)},Object.defineProperties(a,{AbstractFilter:{get:function(){return T("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.AbstractFilter}},SpriteMaskFilter:{get:function(){return T("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),o.SpriteMaskFilter}},VoidFilter:{get:function(){return T("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),a.AlphaFilter}}}),o.utils.uuid=function(){return T("utils.uuid() is deprecated, please use utils.uid() from now on."),o.utils.uid()},o.utils.canUseNewCanvasBlendModes=function(){return T("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),o.CanvasTinter.canUseMultiply};var r=!0;if(Object.defineProperty(o.utils,"_saidHello",{set:function(u){u&&(T("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),r=u},get:function(){return r}}),h.BasePrepare&&(h.BasePrepare.prototype.register=function(u,p){return T("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),u&&this.registerFindHook(u),p&&this.registerUploadHook(p),this}),h.canvas&&Object.defineProperty(h.canvas,"UPLOADS_PER_FRAME",{set:function(){T("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return T("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),h.webgl&&Object.defineProperty(h.webgl,"UPLOADS_PER_FRAME",{set:function(){T("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return T("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),l.Loader){var s=l.Resource,c=l.Loader;Object.defineProperties(s.prototype,{isJson:{get:function(){return T("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===s.TYPE.JSON}},isXml:{get:function(){return T("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===s.TYPE.XML}},isImage:{get:function(){return T("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===s.TYPE.IMAGE}},isAudio:{get:function(){return T("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===s.TYPE.AUDIO}},isVideo:{get:function(){return T("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===s.TYPE.VIDEO}}}),Object.defineProperties(c.prototype,{before:{get:function(){return T("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return T("The after() method is deprecated, please use use()."),this.use}}})}n.interactiveTarget&&Object.defineProperty(n.interactiveTarget,"defaultCursor",{set:function(u){T("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=u},get:function(){return T("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),n.InteractionManager&&(Object.defineProperty(n.InteractionManager,"defaultCursorStyle",{set:function(u){T("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=u},get:function(){return T("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(n.InteractionManager,"currentCursorStyle",{set:function(u){T("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=u},get:function(){return T("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},87671:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=o(T);function o(a){if(a&&a.__esModule)return a;var h={};if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(h[l]=a[l]);return h.default=a,h}function x(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var E=new w.Rectangle,d=function(){function a(h){x(this,a),this.renderer=h,h.extract=this}return a.prototype.image=function(l){var n=new Image;return n.src=this.base64(l),n},a.prototype.base64=function(l){return this.canvas(l).toDataURL()},a.prototype.canvas=function(l){var n=this.renderer,e=void 0,i=void 0,t=void 0,r=void 0;l&&(l instanceof w.RenderTexture?r=l:r=n.generateTexture(l)),r?(e=r.baseTexture._canvasRenderTarget.context,i=r.baseTexture._canvasRenderTarget.resolution,t=r.frame):(e=n.rootContext,t=E,t.width=this.renderer.width,t.height=this.renderer.height);var s=t.width*i,c=t.height*i,f=new w.CanvasRenderTarget(s,c,1),u=e.getImageData(t.x*i,t.y*i,s,c);return f.context.putImageData(u,0,0),f.canvas},a.prototype.pixels=function(l){var n=this.renderer,e=void 0,i=void 0,t=void 0,r=void 0;return l&&(l instanceof w.RenderTexture?r=l:r=n.generateTexture(l)),r?(e=r.baseTexture._canvasRenderTarget.context,i=r.baseTexture._canvasRenderTarget.resolution,t=r.frame):(e=n.rootContext,t=E,t.width=n.width,t.height=n.height),e.getImageData(0,0,t.width*i,t.height*i).data},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a}();_.default=d,w.CanvasRenderer.registerPlugin("extract",d)},74855:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(54495);Object.defineProperty(_,"webgl",{enumerable:!0,get:function(){return o(T).default}});var w=v(87671);Object.defineProperty(_,"canvas",{enumerable:!0,get:function(){return o(w).default}});function o(x){return x&&x.__esModule?x:{default:x}}},54495:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=o(T);function o(h){if(h&&h.__esModule)return h;var l={};if(h!=null)for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(l[n]=h[n]);return l.default=h,l}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}var E=new w.Rectangle,d=4,a=function(){function h(l){x(this,h),this.renderer=l,l.extract=this}return h.prototype.image=function(n){var e=new Image;return e.src=this.base64(n),e},h.prototype.base64=function(n){return this.canvas(n).toDataURL()},h.prototype.canvas=function(n){var e=this.renderer,i=void 0,t=void 0,r=void 0,s=!1,c=void 0,f=!1;n&&(n instanceof w.RenderTexture?c=n:(c=this.renderer.generateTexture(n),f=!0)),c?(i=c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],t=i.resolution,r=c.frame,s=!1):(i=this.renderer.rootRenderTarget,t=i.resolution,s=!0,r=E,r.width=i.size.width,r.height=i.size.height);var u=r.width*t,p=r.height*t,y=new w.CanvasRenderTarget(u,p,1);if(i){e.bindRenderTarget(i);var g=new Uint8Array(d*u*p),m=e.gl;m.readPixels(r.x*t,r.y*t,u,p,m.RGBA,m.UNSIGNED_BYTE,g);var b=y.context.getImageData(0,0,u,p);b.data.set(g),y.context.putImageData(b,0,0),s&&(y.context.scale(1,-1),y.context.drawImage(y.canvas,0,-p))}return f&&c.destroy(!0),y.canvas},h.prototype.pixels=function(n){var e=this.renderer,i=void 0,t=void 0,r=void 0,s=void 0,c=!1;n&&(n instanceof w.RenderTexture?s=n:(s=this.renderer.generateTexture(n),c=!0)),s?(i=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],t=i.resolution,r=s.frame):(i=this.renderer.rootRenderTarget,t=i.resolution,r=E,r.width=i.size.width,r.height=i.size.height);var f=r.width*t,u=r.height*t,p=new Uint8Array(d*f*u);if(i){e.bindRenderTarget(i);var y=e.gl;y.readPixels(r.x*t,r.y*t,f,u,y.RGBA,y.UNSIGNED_BYTE,p)}return c&&s.destroy(!0),p},h.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},h}();_.default=a,w.WebGLRenderer.registerPlugin("extract",a)},54888:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function l(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(n,e,i){return e&&l(n.prototype,e),i&&l(n,i),n}}(),w=v(92321),o=x(w);function x(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n.default=l,n}function E(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function d(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function a(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var h=function(l){a(n,l);function n(e,i){E(this,n);var t=d(this,l.call(this,e[0]instanceof o.Texture?e[0]:e[0].texture));return t._textures=null,t._durations=null,t.textures=e,t._autoUpdate=i!==!1,t.animationSpeed=1,t.loop=!0,t.onComplete=null,t.onFrameChange=null,t.onLoop=null,t._currentTime=0,t.playing=!1,t}return n.prototype.stop=function(){!this.playing||(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))},n.prototype.gotoAndStop=function(i){this.stop();var t=this.currentFrame;this._currentTime=i,t!==this.currentFrame&&this.updateTexture()},n.prototype.gotoAndPlay=function(i){var t=this.currentFrame;this._currentTime=i,t!==this.currentFrame&&this.updateTexture(),this.play()},n.prototype.update=function(i){var t=this.animationSpeed*i,r=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var c=Math.sign(this.animationSpeed*i);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*c,this._currentTime+=c;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},n.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},n.prototype.destroy=function(i){this.stop(),l.prototype.destroy.call(this,i)},n.fromFrames=function(i){for(var t=[],r=0;r<i.length;++r)t.push(o.Texture.fromFrame(i[r]));return new n(t)},n.fromImages=function(i){for(var t=[],r=0;r<i.length;++r)t.push(o.Texture.fromImage(i[r]));return new n(t)},T(n,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(i){if(i[0]instanceof o.Texture)this._textures=i,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<i.length;t++)this._textures.push(i[t].texture),this._durations.push(i[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var i=Math.floor(this._currentTime)%this._textures.length;return i<0&&(i+=this._textures.length),i}}]),n}(o.Sprite);_.default=h},22307:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function s(c,f){for(var u=0;u<f.length;u++){var p=f[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,u){return f&&s(c.prototype,f),u&&s(c,u),c}}(),w=v(92321),o=n(w),x=v(64818),E=l(x),d=v(97768),a=v(57505),h=l(a);function l(s){return s&&s.__esModule?s:{default:s}}function n(s){if(s&&s.__esModule)return s;var c={};if(s!=null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(c[f]=s[f]);return c.default=s,c}function e(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function i(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function t(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var r=function(s){t(c,s);function c(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e(this,c);var p=i(this,s.call(this));return p._textWidth=0,p._textHeight=0,p._glyphs=[],p._font={tint:u.tint!==void 0?u.tint:16777215,align:u.align||"left",name:null,size:0},p.font=u.font,p._text=f,p._maxWidth=0,p._maxLineHeight=0,p._letterSpacing=0,p._anchor=new E.default(function(){p.dirty=!0},p,0,0),p.dirty=!1,p.updateText(),p}return c.prototype.updateText=function(){for(var u=c.fonts[this._font.name],p=this._font.size/u.size,y=new o.Point,g=[],m=[],b=this.text.replace(/(?:\r\n|\r)/g,`
`),O=b.length,S=this._maxWidth*u.size/this._font.size,R=null,A=0,G=0,U=0,B=-1,P=0,X=0,M=0,D=0;D<O;D++){var N=b.charCodeAt(D),L=b.charAt(D);if(/(?:\s)/.test(L)&&(B=D,P=A),L==="\r"||L===`
`){m.push(A),G=Math.max(G,A),++U,++X,y.x=0,y.y+=u.lineHeight,R=null;continue}var k=u.chars[N];!k||(R&&k.kerning[R]&&(y.x+=k.kerning[R]),g.push({texture:k.texture,line:U,charCode:N,position:new o.Point(y.x+k.xOffset+this._letterSpacing/2,y.y+k.yOffset)}),y.x+=k.xAdvance+this._letterSpacing,A=y.x,M=Math.max(M,k.yOffset+k.texture.height),R=N,B!==-1&&S>0&&y.x>S&&(++X,o.utils.removeItems(g,1+B-X,1+D-B),D=B,B=-1,m.push(P),G=Math.max(G,P),U++,y.x=0,y.y+=u.lineHeight,R=null))}var F=b.charAt(b.length-1);F!=="\r"&&F!==`
`&&(/(?:\s)/.test(F)&&(A=P),m.push(A),G=Math.max(G,A));for(var I=[],C=0;C<=U;C++){var z=0;this._font.align==="right"?z=G-m[C]:this._font.align==="center"&&(z=(G-m[C])/2),I.push(z)}for(var Z=g.length,W=this.tint,V=0;V<Z;V++){var H=this._glyphs[V];H?H.texture=g[V].texture:(H=new o.Sprite(g[V].texture),this._glyphs.push(H)),H.position.x=(g[V].position.x+I[g[V].line])*p,H.position.y=g[V].position.y*p,H.scale.x=H.scale.y=p,H.tint=W,H.parent||this.addChild(H)}for(var Q=Z;Q<this._glyphs.length;++Q)this.removeChild(this._glyphs[Q]);if(this._textWidth=G*p,this._textHeight=(y.y+u.lineHeight)*p,this.anchor.x!==0||this.anchor.y!==0)for(var q=0;q<Z;q++)this._glyphs[q].x-=this._textWidth*this.anchor.x,this._glyphs[q].y-=this._textHeight*this.anchor.y;this._maxLineHeight=M*p},c.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},c.prototype.getLocalBounds=function(){return this.validate(),s.prototype.getLocalBounds.call(this)},c.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},c.registerFont=function(u,p){var y={},g=u.getElementsByTagName("info")[0],m=u.getElementsByTagName("common")[0],b=u.getElementsByTagName("page"),O=(0,d.getResolutionOfUrl)(b[0].getAttribute("file"),h.default.RESOLUTION),S={};y.font=g.getAttribute("face"),y.size=parseInt(g.getAttribute("size"),10),y.lineHeight=parseInt(m.getAttribute("lineHeight"),10)/O,y.chars={},p instanceof o.Texture&&(p=[p]);for(var R=0;R<b.length;R++){var A=b[R].getAttribute("id"),G=b[R].getAttribute("file");S[A]=p instanceof Array?p[R]:p[G]}for(var U=u.getElementsByTagName("char"),B=0;B<U.length;B++){var P=U[B],X=parseInt(P.getAttribute("id"),10),M=P.getAttribute("page")||0,D=new o.Rectangle(parseInt(P.getAttribute("x"),10)/O+S[M].frame.x/O,parseInt(P.getAttribute("y"),10)/O+S[M].frame.y/O,parseInt(P.getAttribute("width"),10)/O,parseInt(P.getAttribute("height"),10)/O);y.chars[X]={xOffset:parseInt(P.getAttribute("xoffset"),10)/O,yOffset:parseInt(P.getAttribute("yoffset"),10)/O,xAdvance:parseInt(P.getAttribute("xadvance"),10)/O,kerning:{},texture:new o.Texture(S[M].baseTexture,D),page:M}}for(var N=u.getElementsByTagName("kerning"),L=0;L<N.length;L++){var k=N[L],F=parseInt(k.getAttribute("first"),10)/O,I=parseInt(k.getAttribute("second"),10)/O,C=parseInt(k.getAttribute("amount"),10)/O;y.chars[I]&&(y.chars[I].kerning[F]=C)}return c.fonts[y.font]=y,y},T(c,[{key:"tint",get:function(){return this._font.tint},set:function(u){this._font.tint=typeof u=="number"&&u>=0?u:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(u){this._font.align=u||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(u){typeof u=="number"?this._anchor.set(u):this._anchor.copy(u)}},{key:"font",get:function(){return this._font},set:function(u){!u||(typeof u=="string"?(u=u.split(" "),this._font.name=u.length===1?u[0]:u.slice(1).join(" "),this._font.size=u.length>=2?parseInt(u[0],10):c.fonts[this._font.name].size):(this._font.name=u.name,this._font.size=typeof u.size=="number"?u.size:parseInt(u.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(u){u=u.toString()||" ",this._text!==u&&(this._text=u,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(u){this._maxWidth!==u&&(this._maxWidth=u,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(u){this._letterSpacing!==u&&(this._letterSpacing=u,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),c}(o.Container);_.default=r,r.fonts={}},4459:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function t(r,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,c){return s&&t(r.prototype,s),c&&t(r,c),r}}(),w=v(92321),o=a(w),x=v(44099),E=d(x);function d(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r.default=t,r}function h(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function l(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function n(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var e=new o.Point,i=function(t){n(r,t);function r(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;h(this,r);var u=l(this,t.call(this,s));return u.tileTransform=new o.TransformStatic,u._width=c,u._height=f,u._canvasPattern=null,u.uvTransform=s.transform||new o.TextureMatrix(s),u.pluginName="tilingSprite",u.uvRespectAnchor=!1,u}return r.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},r.prototype._renderWebGL=function(c){var f=this._texture;!f||!f.valid||(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),c.setObjectRenderer(c.plugins[this.pluginName]),c.plugins[this.pluginName].render(this))},r.prototype._renderCanvas=function(c){var f=this._texture;if(!!f.baseTexture.hasLoaded){var u=c.context,p=this.worldTransform,y=c.resolution,g=f.rotate===2,m=f.baseTexture,b=m.resolution,O=this.tilePosition.x/this.tileScale.x%f.orig.width*b,S=this.tilePosition.y/this.tileScale.y%f.orig.height*b;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var R=new o.CanvasRenderTarget(f.orig.width,f.orig.height,b);if(this.tint!==16777215)this.tintedTexture=E.default.getTintedTexture(this,this.tint),R.context.drawImage(this.tintedTexture,0,0);else{var A=f._frame.x*b,G=f._frame.y*b,U=f._frame.width*b,B=f._frame.height*b,P=(f.trim?f.trim.width:f.orig.width)*b,X=(f.trim?f.trim.height:f.orig.height)*b,M=(f.trim?f.trim.x:0)*b,D=(f.trim?f.trim.y:0)*b;g?(R.context.rotate(-Math.PI/2),R.context.translate(-X,0),R.context.drawImage(m.source,A,G,U,B,-D,M,X,P)):R.context.drawImage(m.source,A,G,U,B,M,D,P,X)}this.cachedTint=this.tint,this._canvasPattern=R.context.createPattern(R.canvas,"repeat")}u.globalAlpha=this.worldAlpha,u.setTransform(p.a*y,p.b*y,p.c*y,p.d*y,p.tx*y,p.ty*y),c.setBlendMode(this.blendMode),u.fillStyle=this._canvasPattern,u.scale(this.tileScale.x/b,this.tileScale.y/b);var N=this.anchor.x*-this._width*b,L=this.anchor.y*-this._height*b;this.uvRespectAnchor?(u.translate(O,S),u.fillRect(-O+N,-S+L,this._width/this.tileScale.x*b,this._height/this.tileScale.y*b)):(u.translate(O+N,S+L),u.fillRect(-O,-S,this._width/this.tileScale.x*b,this._height/this.tileScale.y*b))}},r.prototype._calculateBounds=function(){var c=this._width*-this._anchor._x,f=this._height*-this._anchor._y,u=this._width*(1-this._anchor._x),p=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,c,f,u,p)},r.prototype.getLocalBounds=function(c){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),c||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),c=this._localBoundsRect),this._bounds.getRectangle(c)):t.prototype.getLocalBounds.call(this,c)},r.prototype.containsPoint=function(c){this.worldTransform.applyInverse(c,e);var f=this._width,u=this._height,p=-f*this.anchor._x;if(e.x>=p&&e.x<p+f){var y=-u*this.anchor._y;if(e.y>=y&&e.y<y+u)return!0}return!1},r.prototype.destroy=function(c){t.prototype.destroy.call(this,c),this.tileTransform=null,this.uvTransform=null},r.from=function(c,f,u){return new r(o.Texture.from(c),f,u)},r.fromFrame=function(c,f,u){var p=o.utils.TextureCache[c];if(!p)throw new Error('The frameId "'+c+'" does not exist in the texture cache '+this);return new r(p,f,u)},r.fromImage=function(c,f,u,p,y){return new r(o.Texture.fromImage(c,p,y),f,u)},T(r,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(c){this.uvTransform.clampMargin=c,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(c){this.tileTransform.scale.copy(c)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(c){this.tileTransform.position.copy(c)}},{key:"width",get:function(){return this._width},set:function(c){this._width=c}},{key:"height",get:function(){return this._height},set:function(c){this._height=c}}]),r}(o.Sprite);_.default=i},52881:function(Y,_,v){"use strict";var T=v(92321),w=l(T),o=v(52631),x=h(o),E=v(99067),d=h(E),a=v(97768);function h(r){return r&&r.__esModule?r:{default:r}}function l(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s.default=r,s}function n(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}var e=w.DisplayObject,i=new w.Matrix;e.prototype._cacheAsBitmap=!1,e.prototype._cacheData=!1;var t=function r(){n(this,r),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(e.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(s){if(this._cacheAsBitmap!==s){this._cacheAsBitmap=s;var c=void 0;s?(this._cacheData||(this._cacheData=new t),c=this._cacheData,c.originalRenderWebGL=this.renderWebGL,c.originalRenderCanvas=this.renderCanvas,c.originalUpdateTransform=this.updateTransform,c.originalCalculateBounds=this._calculateBounds,c.originalGetLocalBounds=this.getLocalBounds,c.originalDestroy=this.destroy,c.originalContainsPoint=this.containsPoint,c.originalMask=this._mask,c.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(c=this._cacheData,c.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=c.originalRenderWebGL,this.renderCanvas=c.originalRenderCanvas,this._calculateBounds=c.originalCalculateBounds,this.getLocalBounds=c.originalGetLocalBounds,this.destroy=c.originalDestroy,this.updateTransform=c.originalUpdateTransform,this.containsPoint=c.originalContainsPoint,this._mask=c.originalMask,this.filterArea=c.originalFilterArea)}}}}),e.prototype._renderCachedWebGL=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(s))},e.prototype._initCachedDisplayObject=function(s){if(!(this._cacheData&&this._cacheData.sprite)){var c=this.alpha;this.alpha=1,s.currentRenderer.flush();var f=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var u=this._filters[0].padding;f.pad(u)}var p=s._activeRenderTarget,y=s.filterManager.filterStack,g=w.RenderTexture.create(f.width|0,f.height|0),m="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=m,d.default.addToCache(g.baseTexture,m),x.default.addToCache(g,m);var b=i;b.tx=-f.x,b.ty=-f.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,s.render(this,g,!0,b,!0),s.bindRenderTarget(p),s.filterManager.filterStack=y,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var O=new w.Sprite(g);O.transform.worldTransform=this.transform.worldTransform,O.anchor.x=-(f.x/f.width),O.anchor.y=-(f.y/f.height),O.alpha=c,O._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=O,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=O.containsPoint.bind(O)}},e.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(s))},e.prototype._initCachedDisplayObjectCanvas=function(s){if(!(this._cacheData&&this._cacheData.sprite)){var c=this.getLocalBounds(),f=this.alpha;this.alpha=1;var u=s.context,p=w.RenderTexture.create(c.width|0,c.height|0),y="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=y,d.default.addToCache(p.baseTexture,y),x.default.addToCache(p,y);var g=i;this.transform.localTransform.copy(g),g.invert(),g.tx-=c.x,g.ty-=c.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,p,!0,g,!1),s.context=u,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var m=new w.Sprite(p);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(c.x/c.width),m.anchor.y=-(c.y/c.height),m._bounds=this._bounds,m.alpha=f,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=m,this.containsPoint=m.containsPoint.bind(m)}},e.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},e.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},e.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d.default.removeFromCache(this._cacheData.textureCacheId),x.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},e.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)}},22077:function(Y,_,v){"use strict";var T=v(92321),w=o(T);function o(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var d in x)Object.prototype.hasOwnProperty.call(x,d)&&(E[d]=x[d]);return E.default=x,E}w.DisplayObject.prototype.name=null,w.Container.prototype.getChildByName=function(E){for(var d=0;d<this.children.length;d++)if(this.children[d].name===E)return this.children[d];return null}},83559:function(Y,_,v){"use strict";var T=v(92321),w=o(T);function o(x){if(x&&x.__esModule)return x;var E={};if(x!=null)for(var d in x)Object.prototype.hasOwnProperty.call(x,d)&&(E[d]=x[d]);return E.default=x,E}w.DisplayObject.prototype.getGlobalPosition=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new w.Point,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.parent?this.parent.toGlobal(this.position,E,d):(E.x=this.position.x,E.y=this.position.y),E}},94601:function(Y,_,v){"use strict";_.__esModule=!0,_.BitmapText=_.TilingSpriteRenderer=_.TilingSprite=_.AnimatedSprite=void 0;var T=v(54888);Object.defineProperty(_,"AnimatedSprite",{enumerable:!0,get:function(){return E(T).default}});var w=v(4459);Object.defineProperty(_,"TilingSprite",{enumerable:!0,get:function(){return E(w).default}});var o=v(45518);Object.defineProperty(_,"TilingSpriteRenderer",{enumerable:!0,get:function(){return E(o).default}});var x=v(22307);Object.defineProperty(_,"BitmapText",{enumerable:!0,get:function(){return E(x).default}}),v(52881),v(22077),v(83559);function E(d){return d&&d.__esModule?d:{default:d}}},45518:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=E(T),o=v(84633),x=v(26470);function E(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i.default=e,i}function d(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function a(e,i){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:e}function h(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(e,i):e.__proto__=i)}var l=new w.Matrix,n=function(e){h(i,e);function i(t){d(this,i);var r=a(this,e.call(this,t));return r.shader=null,r.simpleShader=null,r.quad=null,r}return i.prototype.onContextChange=function(){var r=this.renderer.gl;this.shader=new w.Shader(r,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`),this.simpleShader=new w.Shader(r,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`),this.renderer.bindVao(null),this.quad=new w.Quad(r,this.renderer.state.attribState),this.quad.initVao(this.shader)},i.prototype.render=function(r){var s=this.renderer,c=this.quad;s.bindVao(c.vao);var f=c.vertices;f[0]=f[6]=r._width*-r.anchor.x,f[1]=f[3]=r._height*-r.anchor.y,f[2]=f[4]=r._width*(1-r.anchor.x),f[5]=f[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(f=c.uvs,f[0]=f[6]=-r.anchor.x,f[1]=f[3]=-r.anchor.y,f[2]=f[4]=1-r.anchor.x,f[5]=f[7]=1-r.anchor.y),c.upload();var u=r._texture,p=u.baseTexture,y=r.tileTransform.localTransform,g=r.uvTransform,m=p.isPowerOfTwo&&u.frame.width===p.width&&u.frame.height===p.height;m&&(p._glTextures[s.CONTEXT_UID]?m=p.wrapMode!==o.WRAP_MODES.CLAMP:p.wrapMode===o.WRAP_MODES.CLAMP&&(p.wrapMode=o.WRAP_MODES.REPEAT));var b=m?this.simpleShader:this.shader;s.bindShader(b);var O=u.width,S=u.height,R=r._width,A=r._height;l.set(y.a*O/R,y.b*O/A,y.c*S/R,y.d*S/A,y.tx/R,y.ty/A),l.invert(),m?l.prepend(g.mapCoord):(b.uniforms.uMapCoord=g.mapCoord.toArray(!0),b.uniforms.uClampFrame=g.uClampFrame,b.uniforms.uClampOffset=g.uClampOffset),b.uniforms.uTransform=l.toArray(!0),b.uniforms.uColor=w.utils.premultiplyTintToRgba(r.tint,r.worldAlpha,b.uniforms.uColor,p.premultipliedAlpha),b.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),b.uniforms.uSampler=s.bindTexture(u),s.setBlendMode(w.utils.correctBlendMode(r.blendMode,p.premultipliedAlpha)),c.vao.draw(this.renderer.gl.TRIANGLES,6,0)},i}(w.ObjectRenderer);_.default=n,w.WebGLRenderer.registerPlugin("tilingSprite",n)},15541:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(92321),o=E(w),x=v(26470);function E(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d(this,e);var t=a(this,n.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`));return t.alpha=i,t.glShaderKey="alpha",t}return T(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(o.Filter);_.default=l},79216:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function r(s,c){for(var f=0;f<c.length;f++){var u=c[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,c,f){return c&&r(s.prototype,c),f&&r(s,f),s}}(),w=v(92321),o=l(w),x=v(88966),E=h(x),d=v(17623),a=h(d);function h(r){return r&&r.__esModule?r:{default:r}}function l(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s.default=r,s}function n(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function e(r,s){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:r}function i(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(r,s):r.__proto__=s)}var t=function(r){i(s,r);function s(c,f,u,p){n(this,s);var y=e(this,r.call(this));return y.blurXFilter=new E.default(c,f,u,p),y.blurYFilter=new a.default(c,f,u,p),y.padding=0,y.resolution=u||o.settings.RESOLUTION,y.quality=f||4,y.blur=c||8,y}return s.prototype.apply=function(f,u,p){var y=f.getRenderTarget(!0);this.blurXFilter.apply(f,u,y,!0),this.blurYFilter.apply(f,y,p,!1),f.returnRenderTarget(y)},T(s,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(f){this.blurXFilter.blur=this.blurYFilter.blur=f,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(f){this.blurXFilter.quality=this.blurYFilter.quality=f}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(f){this.blurXFilter.blur=f,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(f){this.blurYFilter.blur=f,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(f){this.blurYFilter._blendMode=f}}]),s}(o.Filter);_.default=t},88966:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function c(f,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,u,p){return u&&c(f.prototype,u),p&&c(f,p),f}}(),w=v(92321),o=e(w),x=v(77923),E=n(x),d=v(14576),a=n(d),h=v(59449),l=n(h);function n(c){return c&&c.__esModule?c:{default:c}}function e(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(f[u]=c[u]);return f.default=c,f}function i(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function t(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function r(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var s=function(c){r(f,c);function f(u,p,y,g){i(this,f),g=g||5;var m=(0,E.default)(g,!0),b=(0,a.default)(g),O=t(this,c.call(this,m,b));return O.resolution=y||o.settings.RESOLUTION,O._quality=0,O.quality=p||4,O.strength=u||8,O.firstRun=!0,O}return f.prototype.apply=function(p,y,g,m){if(this.firstRun){var b=p.renderer.gl,O=(0,l.default)(b);this.vertexSrc=(0,E.default)(O,!0),this.fragmentSrc=(0,a.default)(O),this.firstRun=!1}if(this.uniforms.strength=1/g.size.width*(g.size.width/y.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)p.applyFilter(this,y,g,m);else{for(var S=p.getRenderTarget(!0),R=y,A=S,G=0;G<this.passes-1;G++){p.applyFilter(this,R,A,!0);var U=A;A=R,R=U}p.applyFilter(this,R,g,m),p.returnRenderTarget(S)}},T(f,[{key:"blur",get:function(){return this.strength},set:function(p){this.padding=Math.abs(p)*2,this.strength=p}},{key:"quality",get:function(){return this._quality},set:function(p){this._quality=p,this.passes=p}}]),f}(o.Filter);_.default=s},17623:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function c(f,u){for(var p=0;p<u.length;p++){var y=u[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,u,p){return u&&c(f.prototype,u),p&&c(f,p),f}}(),w=v(92321),o=e(w),x=v(77923),E=n(x),d=v(14576),a=n(d),h=v(59449),l=n(h);function n(c){return c&&c.__esModule?c:{default:c}}function e(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(f[u]=c[u]);return f.default=c,f}function i(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function t(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function r(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var s=function(c){r(f,c);function f(u,p,y,g){i(this,f),g=g||5;var m=(0,E.default)(g,!1),b=(0,a.default)(g),O=t(this,c.call(this,m,b));return O.resolution=y||o.settings.RESOLUTION,O._quality=0,O.quality=p||4,O.strength=u||8,O.firstRun=!0,O}return f.prototype.apply=function(p,y,g,m){if(this.firstRun){var b=p.renderer.gl,O=(0,l.default)(b);this.vertexSrc=(0,E.default)(O,!1),this.fragmentSrc=(0,a.default)(O),this.firstRun=!1}if(this.uniforms.strength=1/g.size.height*(g.size.height/y.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)p.applyFilter(this,y,g,m);else{for(var S=p.getRenderTarget(!0),R=y,A=S,G=0;G<this.passes-1;G++){p.applyFilter(this,R,A,!0);var U=A;A=R,R=U}p.applyFilter(this,R,g,m),p.returnRenderTarget(S)}},T(f,[{key:"blur",get:function(){return this.strength},set:function(p){this.padding=Math.abs(p)*2,this.strength=p}},{key:"quality",get:function(){return this._quality},set:function(p){this._quality=p,this.passes=p}}]),f}(o.Filter);_.default=s},14576:function(Y,_){"use strict";_.__esModule=!0,_.default=w;var v={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},T=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function w(o){for(var x=v[o],E=x.length,d=T,a="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",l=void 0,n=0;n<o;n++){var e=h.replace("%index%",n);l=n,n>=E&&(l=o-n-1),e=e.replace("%value%",x[l]),a+=e,a+=`
`}return d=d.replace("%blur%",a),d=d.replace("%size%",o),d}},77923:function(Y,_){"use strict";_.__esModule=!0,_.default=T;var v=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`);function T(w,o){var x=Math.ceil(w/2),E=v,d="",a=void 0;o?a="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var h=0;h<w;h++){var l=a.replace("%index%",h);l=l.replace("%sampleIndex%",h-(x-1)+".0"),d+=l,d+=`
`}return E=E.replace("%blur%",d),E=E.replace("%size%",w),E}},59449:function(Y,_){"use strict";_.__esModule=!0,_.default=v;function v(T){for(var w=T.getParameter(T.MAX_VARYING_VECTORS),o=15;o>w;)o-=2;return o}},7750:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(92321),o=E(w),x=v(26470);function E(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){d(this,e);var i=a(this,n.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`));return i.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],i.alpha=1,i}return e.prototype._loadMatrix=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=t;r&&(this._multiply(s,this.uniforms.m,t),s=this._colorMatrix(s)),this.uniforms.m=s},e.prototype._multiply=function(t,r,s){return t[0]=r[0]*s[0]+r[1]*s[5]+r[2]*s[10]+r[3]*s[15],t[1]=r[0]*s[1]+r[1]*s[6]+r[2]*s[11]+r[3]*s[16],t[2]=r[0]*s[2]+r[1]*s[7]+r[2]*s[12]+r[3]*s[17],t[3]=r[0]*s[3]+r[1]*s[8]+r[2]*s[13]+r[3]*s[18],t[4]=r[0]*s[4]+r[1]*s[9]+r[2]*s[14]+r[3]*s[19]+r[4],t[5]=r[5]*s[0]+r[6]*s[5]+r[7]*s[10]+r[8]*s[15],t[6]=r[5]*s[1]+r[6]*s[6]+r[7]*s[11]+r[8]*s[16],t[7]=r[5]*s[2]+r[6]*s[7]+r[7]*s[12]+r[8]*s[17],t[8]=r[5]*s[3]+r[6]*s[8]+r[7]*s[13]+r[8]*s[18],t[9]=r[5]*s[4]+r[6]*s[9]+r[7]*s[14]+r[8]*s[19]+r[9],t[10]=r[10]*s[0]+r[11]*s[5]+r[12]*s[10]+r[13]*s[15],t[11]=r[10]*s[1]+r[11]*s[6]+r[12]*s[11]+r[13]*s[16],t[12]=r[10]*s[2]+r[11]*s[7]+r[12]*s[12]+r[13]*s[17],t[13]=r[10]*s[3]+r[11]*s[8]+r[12]*s[13]+r[13]*s[18],t[14]=r[10]*s[4]+r[11]*s[9]+r[12]*s[14]+r[13]*s[19]+r[14],t[15]=r[15]*s[0]+r[16]*s[5]+r[17]*s[10]+r[18]*s[15],t[16]=r[15]*s[1]+r[16]*s[6]+r[17]*s[11]+r[18]*s[16],t[17]=r[15]*s[2]+r[16]*s[7]+r[17]*s[12]+r[18]*s[17],t[18]=r[15]*s[3]+r[16]*s[8]+r[17]*s[13]+r[18]*s[18],t[19]=r[15]*s[4]+r[16]*s[9]+r[17]*s[14]+r[18]*s[19]+r[19],t},e.prototype._colorMatrix=function(t){var r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function(t,r){var s=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(s,r)},e.prototype.greyscale=function(t,r){var s=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(s,r)},e.prototype.blackAndWhite=function(t){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.hue=function(t,r){t=(t||0)/180*Math.PI;var s=Math.cos(t),c=Math.sin(t),f=Math.sqrt,u=1/3,p=f(u),y=s+(1-s)*u,g=u*(1-s)-p*c,m=u*(1-s)+p*c,b=u*(1-s)+p*c,O=s+u*(1-s),S=u*(1-s)-p*c,R=u*(1-s)-p*c,A=u*(1-s)+p*c,G=s+u*(1-s),U=[y,g,m,0,0,b,O,S,0,0,R,A,G,0,0,0,0,0,1,0];this._loadMatrix(U,r)},e.prototype.contrast=function(t,r){var s=(t||0)+1,c=-.5*(s-1),f=[s,0,0,0,c,0,s,0,0,c,0,0,s,0,c,0,0,0,1,0];this._loadMatrix(f,r)},e.prototype.saturate=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments[1],s=t*2/3+1,c=(s-1)*-.5,f=[s,c,c,0,0,c,s,c,0,0,c,c,s,0,0,0,0,0,1,0];this._loadMatrix(f,r)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.sepia=function(t){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.technicolor=function(t){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.polaroid=function(t){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.toBGR=function(t){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.kodachrome=function(t){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.browni=function(t){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.vintage=function(t){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.colorTone=function(t,r,s,c,f){t=t||.2,r=r||.15,s=s||16770432,c=c||3375104;var u=(s>>16&255)/255,p=(s>>8&255)/255,y=(s&255)/255,g=(c>>16&255)/255,m=(c>>8&255)/255,b=(c&255)/255,O=[.3,.59,.11,0,0,u,p,y,t,0,g,m,b,r,0,u-g,p-m,y-b,0,0];this._loadMatrix(O,f)},e.prototype.night=function(t,r){t=t||.1;var s=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(s,r)},e.prototype.predator=function(t,r){var s=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(s,r)},e.prototype.lsd=function(t){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},T(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(o.Filter);_.default=l,l.prototype.grayscale=l.prototype.greyscale},43276:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(92321),o=E(w),x=v(26470);function E(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(i,t){d(this,e);var r=new o.Matrix;i.renderable=!1;var s=a(this,n.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy *= scale / filterArea.xy;

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`));return s.maskSprite=i,s.maskMatrix=r,s.uniforms.mapSampler=i._texture,s.uniforms.filterMatrix=r,s.uniforms.scale={x:1,y:1},t==null&&(t=20),s.scale=new o.Point(t,t),s}return e.prototype.apply=function(t,r,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,r,s)},T(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(o.Filter);_.default=l},52113:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=x(T),o=v(26470);function x(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n.default=l,n}function E(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function d(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function a(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var h=function(l){a(n,l);function n(){return E(this,n),d(this,l.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return n}(w.Filter);_.default=h},33430:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(52113);Object.defineProperty(_,"FXAAFilter",{enumerable:!0,get:function(){return l(T).default}});var w=v(65107);Object.defineProperty(_,"NoiseFilter",{enumerable:!0,get:function(){return l(w).default}});var o=v(43276);Object.defineProperty(_,"DisplacementFilter",{enumerable:!0,get:function(){return l(o).default}});var x=v(79216);Object.defineProperty(_,"BlurFilter",{enumerable:!0,get:function(){return l(x).default}});var E=v(88966);Object.defineProperty(_,"BlurXFilter",{enumerable:!0,get:function(){return l(E).default}});var d=v(17623);Object.defineProperty(_,"BlurYFilter",{enumerable:!0,get:function(){return l(d).default}});var a=v(7750);Object.defineProperty(_,"ColorMatrixFilter",{enumerable:!0,get:function(){return l(a).default}});var h=v(15541);Object.defineProperty(_,"AlphaFilter",{enumerable:!0,get:function(){return l(h).default}});function l(n){return n&&n.__esModule?n:{default:n}}},65107:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(92321),o=E(w),x=v(26470);function E(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();d(this,e);var r=a(this,n.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`));return r.noise=i,r.seed=t,r}return T(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(o.Filter);_.default=l},58687:function(Y,_,v){"use strict";_.__esModule=!0,_.loader=_.prepare=_.particles=_.mesh=_.loaders=_.interaction=_.filters=_.extras=_.extract=_.accessibility=void 0;var T=v(30381);Object.keys(T).forEach(function(R){R==="default"||R==="__esModule"||Object.defineProperty(_,R,{enumerable:!0,get:function(){return T[R]}})});var w=v(92321);Object.keys(w).forEach(function(R){R==="default"||R==="__esModule"||Object.defineProperty(_,R,{enumerable:!0,get:function(){return w[R]}})});var o=v(16910),x=O(o),E=v(46807),d=b(E),a=v(74855),h=b(a),l=v(94601),n=b(l),e=v(33430),i=b(e),t=v(15798),r=b(t),s=v(23893),c=b(s),f=v(67601),u=b(f),p=v(54728),y=b(p),g=v(79878),m=b(g);function b(R){if(R&&R.__esModule)return R;var A={};if(R!=null)for(var G in R)Object.prototype.hasOwnProperty.call(R,G)&&(A[G]=R[G]);return A.default=R,A}function O(R){return R&&R.__esModule?R:{default:R}}w.utils.mixins.performMixins();var S=c.shared||null;_.accessibility=d,_.extract=h,_.extras=n,_.filters=i,_.interaction=r,_.loaders=c,_.mesh=u,_.particles=y,_.prepare=m,_.loader=S,typeof x.default=="function"&&(0,x.default)(_),v.g.PIXI=_},91422:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function a(h,l){for(var n=0;n<l.length;n++){var e=l[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(h,e.key,e)}}return function(h,l,n){return l&&a(h.prototype,l),n&&a(h,n),h}}(),w=v(92321),o=x(w);function x(a){if(a&&a.__esModule)return a;var h={};if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(h[l]=a[l]);return h.default=a,h}function E(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(){E(this,a),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return a.prototype.getLocalPosition=function(l,n,e){return l.worldTransform.applyInverse(e||this.global,n)},a.prototype.copyEvent=function(l){l.isPrimary&&(this.isPrimary=!0),this.button=l.button,this.buttons=Number.isInteger(l.buttons)?l.buttons:l.which,this.width=l.width,this.height=l.height,this.tiltX=l.tiltX,this.tiltY=l.tiltY,this.pointerType=l.pointerType,this.pressure=l.pressure,this.rotationAngle=l.rotationAngle,this.twist=l.twist||0,this.tangentialPressure=l.tangentialPressure||0},a.prototype.reset=function(){this.isPrimary=!1},T(a,[{key:"pointerId",get:function(){return this.identifier}}]),a}();_.default=d},27308:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(){v(this,w),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return w.prototype.stopPropagation=function(){this.stopped=!0},w.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},w}();_.default=T},74515:function(Y,_,v){"use strict";_.__esModule=!0;var T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},w=v(92321),o=s(w),x=v(91422),E=r(x),d=v(27308),a=r(d),h=v(16793),l=r(h),n=v(26729),e=r(n),i=v(65262),t=r(i);function r(m){return m&&m.__esModule?m:{default:m}}function s(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var O in m)Object.prototype.hasOwnProperty.call(m,O)&&(b[O]=m[O]);return b.default=m,b}function c(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function f(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function u(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}o.utils.mixins.delayMixin(o.DisplayObject.prototype,t.default);var p=1,y={target:null,data:{global:null}},g=function(m){u(b,m);function b(O,S){c(this,b);var R=f(this,m.call(this));return S=S||{},R.renderer=O,R.autoPreventDefault=S.autoPreventDefault!==void 0?S.autoPreventDefault:!0,R.interactionFrequency=S.interactionFrequency||10,R.mouse=new E.default,R.mouse.identifier=p,R.mouse.global.set(-999999),R.activeInteractionData={},R.activeInteractionData[p]=R.mouse,R.interactionDataPool=[],R.eventData=new a.default,R.interactionDOMElement=null,R.moveWhenInside=!1,R.eventsAdded=!1,R.mouseOverRenderer=!1,R.supportsTouchEvents="ontouchstart"in window,R.supportsPointerEvents=!!window.PointerEvent,R.onPointerUp=R.onPointerUp.bind(R),R.processPointerUp=R.processPointerUp.bind(R),R.onPointerCancel=R.onPointerCancel.bind(R),R.processPointerCancel=R.processPointerCancel.bind(R),R.onPointerDown=R.onPointerDown.bind(R),R.processPointerDown=R.processPointerDown.bind(R),R.onPointerMove=R.onPointerMove.bind(R),R.processPointerMove=R.processPointerMove.bind(R),R.onPointerOut=R.onPointerOut.bind(R),R.processPointerOverOut=R.processPointerOverOut.bind(R),R.onPointerOver=R.onPointerOver.bind(R),R.cursorStyles={default:"inherit",pointer:"pointer"},R.currentCursorMode=null,R.cursor=null,R._tempPoint=new o.Point,R.resolution=1,R.setTargetElement(R.renderer.view,R.renderer.resolution),R}return b.prototype.hitTest=function(S,R){return y.target=null,y.data.global=S,R||(R=this.renderer._lastObjectRendered),this.processInteractive(y,R,null,!0),y.target},b.prototype.setTargetElement=function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=S,this.resolution=R,this.addEvents()},b.prototype.addEvents=function(){!this.interactionDOMElement||(o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},b.prototype.removeEvents=function(){!this.interactionDOMElement||(o.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},b.prototype.update=function(S){if(this._deltaTime+=S,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var R in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(R)){var A=this.activeInteractionData[R];if(A.originalEvent&&A.pointerType!=="touch"){var G=this.configureInteractionEventForDOMEvent(this.eventData,A.originalEvent,A);this.processInteractive(G,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},b.prototype.setCursorMode=function(S){if(S=S||"default",this.currentCursorMode!==S){this.currentCursorMode=S;var R=this.cursorStyles[S];if(R)switch(typeof R=="undefined"?"undefined":T(R)){case"string":this.interactionDOMElement.style.cursor=R;break;case"function":R(S);break;case"object":Object.assign(this.interactionDOMElement.style,R);break}else typeof S=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,S)&&(this.interactionDOMElement.style.cursor=S)}},b.prototype.dispatchEvent=function(S,R,A){A.stopped||(A.currentTarget=S,A.type=R,S.emit(R,A),S[R]&&S[R](A))},b.prototype.mapPositionToPoint=function(S,R,A){var G=void 0;this.interactionDOMElement.parentElement?G=this.interactionDOMElement.getBoundingClientRect():G={x:0,y:0,width:0,height:0};var U=navigator.isCocoonJS?this.resolution:1/this.resolution;S.x=(R-G.left)*(this.interactionDOMElement.width/G.width)*U,S.y=(A-G.top)*(this.interactionDOMElement.height/G.height)*U},b.prototype.processInteractive=function(S,R,A,G,U){if(!R||!R.visible)return!1;var B=S.data.global;U=R.interactive||U;var P=!1,X=U,M=!0;if(R.hitArea?(G&&(R.worldTransform.applyInverse(B,this._tempPoint),R.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?P=!0:(G=!1,M=!1)),X=!1):R._mask&&G&&(R._mask.containsPoint(B)||(G=!1,M=!1)),M&&R.interactiveChildren&&R.children)for(var D=R.children,N=D.length-1;N>=0;N--){var L=D[N],k=this.processInteractive(S,L,A,G,X);if(k){if(!L.parent)continue;X=!1,k&&(S.target&&(G=!1),P=!0)}}return U&&(G&&!S.target&&!R.hitArea&&R.containsPoint&&R.containsPoint(B)&&(P=!0),R.interactive&&(P&&!S.target&&(S.target=R),A&&A(S,R,!!P))),P},b.prototype.onPointerDown=function(S){if(!(this.supportsTouchEvents&&S.pointerType==="touch")){var R=this.normalizeToPointerData(S);this.autoPreventDefault&&R[0].isNormalized&&S.preventDefault();for(var A=R.length,G=0;G<A;G++){var U=R[G],B=this.getInteractionDataForPointerId(U),P=this.configureInteractionEventForDOMEvent(this.eventData,U,B);if(P.data.originalEvent=S,this.processInteractive(P,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",P),U.pointerType==="touch")this.emit("touchstart",P);else if(U.pointerType==="mouse"||U.pointerType==="pen"){var X=U.button===2;this.emit(X?"rightdown":"mousedown",this.eventData)}}}},b.prototype.processPointerDown=function(S,R,A){var G=S.data,U=S.data.identifier;if(A){if(R.trackedPointers[U]||(R.trackedPointers[U]=new l.default(U)),this.dispatchEvent(R,"pointerdown",S),G.pointerType==="touch")this.dispatchEvent(R,"touchstart",S);else if(G.pointerType==="mouse"||G.pointerType==="pen"){var B=G.button===2;B?R.trackedPointers[U].rightDown=!0:R.trackedPointers[U].leftDown=!0,this.dispatchEvent(R,B?"rightdown":"mousedown",S)}}},b.prototype.onPointerComplete=function(S,R,A){for(var G=this.normalizeToPointerData(S),U=G.length,B=S.target!==this.interactionDOMElement?"outside":"",P=0;P<U;P++){var X=G[P],M=this.getInteractionDataForPointerId(X),D=this.configureInteractionEventForDOMEvent(this.eventData,X,M);if(D.data.originalEvent=S,this.processInteractive(D,this.renderer._lastObjectRendered,A,R||!B),this.emit(R?"pointercancel":"pointerup"+B,D),X.pointerType==="mouse"||X.pointerType==="pen"){var N=X.button===2;this.emit(N?"rightup"+B:"mouseup"+B,D)}else X.pointerType==="touch"&&(this.emit(R?"touchcancel":"touchend"+B,D),this.releaseInteractionDataForPointerId(X.pointerId,M))}},b.prototype.onPointerCancel=function(S){this.supportsTouchEvents&&S.pointerType==="touch"||this.onPointerComplete(S,!0,this.processPointerCancel)},b.prototype.processPointerCancel=function(S,R){var A=S.data,G=S.data.identifier;R.trackedPointers[G]!==void 0&&(delete R.trackedPointers[G],this.dispatchEvent(R,"pointercancel",S),A.pointerType==="touch"&&this.dispatchEvent(R,"touchcancel",S))},b.prototype.onPointerUp=function(S){this.supportsTouchEvents&&S.pointerType==="touch"||this.onPointerComplete(S,!1,this.processPointerUp)},b.prototype.processPointerUp=function(S,R,A){var G=S.data,U=S.data.identifier,B=R.trackedPointers[U],P=G.pointerType==="touch",X=G.pointerType==="mouse"||G.pointerType==="pen",M=!1;if(X){var D=G.button===2,N=l.default.FLAGS,L=D?N.RIGHT_DOWN:N.LEFT_DOWN,k=B!==void 0&&B.flags&L;A?(this.dispatchEvent(R,D?"rightup":"mouseup",S),k&&(this.dispatchEvent(R,D?"rightclick":"click",S),M=!0)):k&&this.dispatchEvent(R,D?"rightupoutside":"mouseupoutside",S),B&&(D?B.rightDown=!1:B.leftDown=!1)}A?(this.dispatchEvent(R,"pointerup",S),P&&this.dispatchEvent(R,"touchend",S),B&&((!X||M)&&this.dispatchEvent(R,"pointertap",S),P&&(this.dispatchEvent(R,"tap",S),B.over=!1))):B&&(this.dispatchEvent(R,"pointerupoutside",S),P&&this.dispatchEvent(R,"touchendoutside",S)),B&&B.none&&delete R.trackedPointers[U]},b.prototype.onPointerMove=function(S){if(!(this.supportsTouchEvents&&S.pointerType==="touch")){var R=this.normalizeToPointerData(S);(R[0].pointerType==="mouse"||R[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var A=R.length,G=0;G<A;G++){var U=R[G],B=this.getInteractionDataForPointerId(U),P=this.configureInteractionEventForDOMEvent(this.eventData,U,B);P.data.originalEvent=S;var X=U.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(P,this.renderer._lastObjectRendered,this.processPointerMove,X),this.emit("pointermove",P),U.pointerType==="touch"&&this.emit("touchmove",P),(U.pointerType==="mouse"||U.pointerType==="pen")&&this.emit("mousemove",P)}R[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},b.prototype.processPointerMove=function(S,R,A){var G=S.data,U=G.pointerType==="touch",B=G.pointerType==="mouse"||G.pointerType==="pen";B&&this.processPointerOverOut(S,R,A),(!this.moveWhenInside||A)&&(this.dispatchEvent(R,"pointermove",S),U&&this.dispatchEvent(R,"touchmove",S),B&&this.dispatchEvent(R,"mousemove",S))},b.prototype.onPointerOut=function(S){if(!(this.supportsTouchEvents&&S.pointerType==="touch")){var R=this.normalizeToPointerData(S),A=R[0];A.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var G=this.getInteractionDataForPointerId(A),U=this.configureInteractionEventForDOMEvent(this.eventData,A,G);U.data.originalEvent=A,this.processInteractive(U,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",U),A.pointerType==="mouse"||A.pointerType==="pen"?this.emit("mouseout",U):this.releaseInteractionDataForPointerId(G.identifier)}},b.prototype.processPointerOverOut=function(S,R,A){var G=S.data,U=S.data.identifier,B=G.pointerType==="mouse"||G.pointerType==="pen",P=R.trackedPointers[U];A&&!P&&(P=R.trackedPointers[U]=new l.default(U)),P!==void 0&&(A&&this.mouseOverRenderer?(P.over||(P.over=!0,this.dispatchEvent(R,"pointerover",S),B&&this.dispatchEvent(R,"mouseover",S)),B&&this.cursor===null&&(this.cursor=R.cursor)):P.over&&(P.over=!1,this.dispatchEvent(R,"pointerout",this.eventData),B&&this.dispatchEvent(R,"mouseout",S),P.none&&delete R.trackedPointers[U]))},b.prototype.onPointerOver=function(S){var R=this.normalizeToPointerData(S),A=R[0],G=this.getInteractionDataForPointerId(A),U=this.configureInteractionEventForDOMEvent(this.eventData,A,G);U.data.originalEvent=A,A.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",U),(A.pointerType==="mouse"||A.pointerType==="pen")&&this.emit("mouseover",U)},b.prototype.getInteractionDataForPointerId=function(S){var R=S.pointerId,A=void 0;return R===p||S.pointerType==="mouse"?A=this.mouse:this.activeInteractionData[R]?A=this.activeInteractionData[R]:(A=this.interactionDataPool.pop()||new E.default,A.identifier=R,this.activeInteractionData[R]=A),A.copyEvent(S),A},b.prototype.releaseInteractionDataForPointerId=function(S){var R=this.activeInteractionData[S];R&&(delete this.activeInteractionData[S],R.reset(),this.interactionDataPool.push(R))},b.prototype.configureInteractionEventForDOMEvent=function(S,R,A){return S.data=A,this.mapPositionToPoint(A.global,R.clientX,R.clientY),navigator.isCocoonJS&&R.pointerType==="touch"&&(A.global.x=A.global.x/this.resolution,A.global.y=A.global.y/this.resolution),R.pointerType==="touch"&&(R.globalX=A.global.x,R.globalY=A.global.y),A.originalEvent=R,S.reset(),S},b.prototype.normalizeToPointerData=function(S){var R=[];if(this.supportsTouchEvents&&S instanceof TouchEvent)for(var A=0,G=S.changedTouches.length;A<G;A++){var U=S.changedTouches[A];typeof U.button=="undefined"&&(U.button=S.touches.length?1:0),typeof U.buttons=="undefined"&&(U.buttons=S.touches.length?1:0),typeof U.isPrimary=="undefined"&&(U.isPrimary=S.touches.length===1&&S.type==="touchstart"),typeof U.width=="undefined"&&(U.width=U.radiusX||1),typeof U.height=="undefined"&&(U.height=U.radiusY||1),typeof U.tiltX=="undefined"&&(U.tiltX=0),typeof U.tiltY=="undefined"&&(U.tiltY=0),typeof U.pointerType=="undefined"&&(U.pointerType="touch"),typeof U.pointerId=="undefined"&&(U.pointerId=U.identifier||0),typeof U.pressure=="undefined"&&(U.pressure=U.force||.5),U.twist=0,U.tangentialPressure=0,typeof U.layerX=="undefined"&&(U.layerX=U.offsetX=U.clientX),typeof U.layerY=="undefined"&&(U.layerY=U.offsetY=U.clientY),U.isNormalized=!0,R.push(U)}else S instanceof MouseEvent&&(!this.supportsPointerEvents||!(S instanceof window.PointerEvent))&&(typeof S.isPrimary=="undefined"&&(S.isPrimary=!0),typeof S.width=="undefined"&&(S.width=1),typeof S.height=="undefined"&&(S.height=1),typeof S.tiltX=="undefined"&&(S.tiltX=0),typeof S.tiltY=="undefined"&&(S.tiltY=0),typeof S.pointerType=="undefined"&&(S.pointerType="mouse"),typeof S.pointerId=="undefined"&&(S.pointerId=p),typeof S.pressure=="undefined"&&(S.pressure=.5),S.twist=0,S.tangentialPressure=0,S.isNormalized=!0),R.push(S);return R},b.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},b}(e.default);_.default=g,o.WebGLRenderer.registerPlugin("interaction",g),o.CanvasRenderer.registerPlugin("interaction",g)},16793:function(Y,_){"use strict";_.__esModule=!0;var v=function(){function o(x,E){for(var d=0;d<E.length;d++){var a=E[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(x,a.key,a)}}return function(x,E,d){return E&&o(x.prototype,E),d&&o(x,d),x}}();function T(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}var w=function(){function o(x){T(this,o),this._pointerId=x,this._flags=o.FLAGS.NONE}return o.prototype._doSet=function(E,d){d?this._flags=this._flags|E:this._flags=this._flags&~E},v(o,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(E){this._flags=E}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!=0},set:function(E){this._doSet(this.constructor.FLAGS.OVER,E)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!=0},set:function(E){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,E)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!=0},set:function(E){this._doSet(this.constructor.FLAGS.LEFT_DOWN,E)}}]),o}();_.default=w,w.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})},15798:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(91422);Object.defineProperty(_,"InteractionData",{enumerable:!0,get:function(){return d(T).default}});var w=v(74515);Object.defineProperty(_,"InteractionManager",{enumerable:!0,get:function(){return d(w).default}});var o=v(65262);Object.defineProperty(_,"interactiveTarget",{enumerable:!0,get:function(){return d(o).default}});var x=v(16793);Object.defineProperty(_,"InteractionTrackingData",{enumerable:!0,get:function(){return d(x).default}});var E=v(27308);Object.defineProperty(_,"InteractionEvent",{enumerable:!0,get:function(){return d(E).default}});function d(a){return a&&a.__esModule?a:{default:a}}},65262:function(Y,_){"use strict";_.__esModule=!0,_.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(v){v?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},77916:function(Y,_,v){"use strict";_.__esModule=!0,_.parse=d,_.default=function(){return function(h,l){if(!h.data||h.type!==o.Resource.TYPE.XML){l();return}if(h.data.getElementsByTagName("page").length===0||h.data.getElementsByTagName("info").length===0||h.data.getElementsByTagName("info")[0].getAttribute("face")===null){l();return}var n=h.isDataUrl?"":w.dirname(h.url);h.isDataUrl&&(n==="."&&(n=""),this.baseUrl&&n&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(this.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/");for(var e=h.data.getElementsByTagName("page"),i={},t=function(m){i[m.metadata.pageFile]=m.texture,Object.keys(i).length===e.length&&(d(h,i),l())},r=0;r<e.length;++r){var s=e[r].getAttribute("file"),c=n+s,f=!1;for(var u in this.resources){var p=this.resources[u];if(p.url===c){p.metadata.pageFile=s,p.texture?t(p):p.onAfterMiddleware.add(t),f=!0;break}}if(!f){var y={crossOrigin:h.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:s},h.metadata.imageMetadata),parentResource:h};this.add(c,y,t)}}}};var T=v(26470),w=E(T),o=v(89755),x=v(94601);function E(a){if(a&&a.__esModule)return a;var h={};if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(h[l]=a[l]);return h.default=a,h}function d(a,h){a.bitmapFont=x.BitmapText.registerFont(a.data,h)}},23893:function(Y,_,v){"use strict";_.__esModule=!0,_.shared=_.Resource=_.textureParser=_.getResourcePath=_.spritesheetParser=_.parseBitmapFontData=_.bitmapFontParser=_.Loader=void 0;var T=v(77916);Object.defineProperty(_,"bitmapFontParser",{enumerable:!0,get:function(){return l(T).default}}),Object.defineProperty(_,"parseBitmapFontData",{enumerable:!0,get:function(){return T.parse}});var w=v(84951);Object.defineProperty(_,"spritesheetParser",{enumerable:!0,get:function(){return l(w).default}}),Object.defineProperty(_,"getResourcePath",{enumerable:!0,get:function(){return w.getResourcePath}});var o=v(57681);Object.defineProperty(_,"textureParser",{enumerable:!0,get:function(){return l(o).default}});var x=v(89755);Object.defineProperty(_,"Resource",{enumerable:!0,get:function(){return x.Resource}});var E=v(45328),d=l(E),a=v(18185),h=l(a);function l(i){return i&&i.__esModule?i:{default:i}}_.Loader=h.default;var n=new h.default;n.destroy=function(){},_.shared=n;var e=d.default.prototype;e._loader=null,Object.defineProperty(e,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?n:new h.default}return this._loader}}),e._parentDestroy=e.destroy,e.destroy=function(t,r){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,r)}},18185:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(89755),w=i(T),o=v(21395),x=v(26729),E=i(x),d=v(57681),a=i(d),h=v(84951),l=i(h),n=v(77916),e=i(n);function i(p){return p&&p.__esModule?p:{default:p}}function t(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function r(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function s(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var c=function(p){s(y,p);function y(g,m){t(this,y);var b=r(this,p.call(this,g,m));E.default.call(b);for(var O=0;O<y._pixiMiddleware.length;++O)b.use(y._pixiMiddleware[O]());return b.onStart.add(function(S){return b.emit("start",S)}),b.onProgress.add(function(S,R){return b.emit("progress",S,R)}),b.onError.add(function(S,R,A){return b.emit("error",S,R,A)}),b.onLoad.add(function(S,R){return b.emit("load",S,R)}),b.onComplete.add(function(S,R){return b.emit("complete",S,R)}),b}return y.addPixiMiddleware=function(m){y._pixiMiddleware.push(m)},y.prototype.destroy=function(){this.removeAllListeners(),this.reset()},y}(w.default);_.default=c;for(var f in E.default.prototype)c.prototype[f]=E.default.prototype[f];c._pixiMiddleware=[o.blobMiddlewareFactory,a.default,l.default,e.default];var u=w.default.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},84951:function(Y,_,v){"use strict";_.__esModule=!0,_.default=function(){return function(h,l){var n=h.name+"_image";if(!h.data||h.type!==T.Resource.TYPE.JSON||!h.data.frames||this.resources[n]){l();return}var e={crossOrigin:h.crossOrigin,metadata:h.metadata.imageMetadata,parentResource:h},i=d(h,this.baseUrl);this.add(n,i,e,function(r){if(r.error){l(r.error);return}var s=new x.Spritesheet(r.texture.baseTexture,h.data,h.url);s.parse(function(){h.spritesheet=s,h.textures=s.textures,l()})})}},_.getResourcePath=d;var T=v(89755),w=v(8575),o=E(w),x=v(92321);function E(a){return a&&a.__esModule?a:{default:a}}function d(a,h){return a.isDataUrl?a.data.meta.image:o.default.resolve(a.url.replace(h,""),a.data.meta.image)}},57681:function(Y,_,v){"use strict";_.__esModule=!0,_.default=function(){return function(d,a){d.data&&d.type===T.Resource.TYPE.IMAGE&&(d.texture=o.default.fromLoader(d.data,d.url,d.name)),a()}};var T=v(89755),w=v(52631),o=x(w);function x(E){return E&&E.__esModule?E:{default:E}}},20863:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function r(s,c){for(var f=0;f<c.length;f++){var u=c[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,c,f){return c&&r(s.prototype,c),f&&r(s,f),s}}(),w=v(92321),o=a(w),x=v(52631),E=d(x);function d(r){return r&&r.__esModule?r:{default:r}}function a(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s.default=r,s}function h(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function l(r,s){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:r}function n(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(r,s):r.__proto__=s)}var e=new o.Point,i=new o.Polygon,t=function(r){n(s,r);function s(c,f,u,p,y){h(this,s);var g=l(this,r.call(this));return g._texture=c||E.default.EMPTY,g.uvs=u||new Float32Array([0,0,1,0,1,1,0,1]),g.vertices=f||new Float32Array([0,0,100,0,100,100,0,100]),g.indices=p||new Uint16Array([0,1,3,2]),g.dirty=0,g.indexDirty=0,g.vertexDirty=0,g.autoUpdate=!0,g.blendMode=o.BLEND_MODES.NORMAL,g.canvasPadding=o.settings.MESH_CANVAS_PADDING,g.drawMode=y||s.DRAW_MODES.TRIANGLE_MESH,g.shader=null,g.tintRgb=new Float32Array([1,1,1]),g._glDatas={},g._uvTransform=new o.TextureMatrix(g._texture),g.uploadUvTransform=!1,g.pluginName="mesh",g}return s.prototype._renderWebGL=function(f){this.refresh(),f.setObjectRenderer(f.plugins[this.pluginName]),f.plugins[this.pluginName].render(this)},s.prototype._renderCanvas=function(f){this.refresh(),f.plugins[this.pluginName].render(this)},s.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},s.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},s.prototype.refresh=function(f){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(f)&&this._refresh()},s.prototype._refresh=function(){},s.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},s.prototype.containsPoint=function(f){if(!this.getBounds().contains(f.x,f.y))return!1;this.worldTransform.applyInverse(f,e);for(var u=this.vertices,p=i.points,y=this.indices,g=this.indices.length,m=this.drawMode===s.DRAW_MODES.TRIANGLES?3:1,b=0;b+2<g;b+=m){var O=y[b]*2,S=y[b+1]*2,R=y[b+2]*2;if(p[0]=u[O],p[1]=u[O+1],p[2]=u[S],p[3]=u[S+1],p[4]=u[R],p[5]=u[R+1],i.contains(e.x,e.y))return!0}return!1},s.prototype.destroy=function(f){for(var u in this._glDatas){var p=this._glDatas[u];p.destroy?p.destroy():(p.vertexBuffer&&(p.vertexBuffer.destroy(),p.vertexBuffer=null),p.indexBuffer&&(p.indexBuffer.destroy(),p.indexBuffer=null),p.uvBuffer&&(p.uvBuffer.destroy(),p.uvBuffer=null),p.vao&&(p.vao.destroy(),p.vao=null))}this._glDatas=null,r.prototype.destroy.call(this,f)},T(s,[{key:"texture",get:function(){return this._texture},set:function(f){this._texture!==f&&(this._texture=f,f&&(f.baseTexture.hasLoaded?this._onTextureUpdate():f.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(f){this.tintRgb=o.utils.hex2rgb(f,this.tintRgb)}}]),s}(o.Container);_.default=t,t.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},52715:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(27660),o=x(w);function x(n){return n&&n.__esModule?n:{default:n}}function E(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function d(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function a(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var h=10,l=function(n){a(e,n);function e(i,t,r,s,c){E(this,e);var f=d(this,n.call(this,i,4,4));return f._origWidth=i.orig.width,f._origHeight=i.orig.height,f._width=f._origWidth,f._height=f._origHeight,f._leftWidth=typeof t!="undefined"?t:h,f._rightWidth=typeof s!="undefined"?s:h,f._topHeight=typeof r!="undefined"?r:h,f._bottomHeight=typeof c!="undefined"?c:h,f.refresh(!0),f}return e.prototype.updateHorizontalVertices=function(){var t=this.vertices,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;t[9]=t[11]=t[13]=t[15]=this._topHeight*s,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*s,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,r=this._leftWidth+this._rightWidth,s=this._width>r?1:this._width/r;t[2]=t[10]=t[18]=t[26]=this._leftWidth*s,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*s,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var r=t.context;r.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var s=this.worldTransform,c=t.resolution;t.roundPixels?r.setTransform(s.a*c,s.b*c,s.c*c,s.d*c,s.tx*c|0,s.ty*c|0):r.setTransform(s.a*c,s.b*c,s.c*c,s.d*c,s.tx*c,s.ty*c);var f=this._texture.baseTexture,u=f.source,p=f.width*f.resolution,y=f.height*f.resolution;this.drawSegment(r,u,p,y,0,1,10,11),this.drawSegment(r,u,p,y,2,3,12,13),this.drawSegment(r,u,p,y,4,5,14,15),this.drawSegment(r,u,p,y,8,9,18,19),this.drawSegment(r,u,p,y,10,11,20,21),this.drawSegment(r,u,p,y,12,13,22,23),this.drawSegment(r,u,p,y,16,17,26,27),this.drawSegment(r,u,p,y,18,19,28,29),this.drawSegment(r,u,p,y,20,21,30,31)},e.prototype.drawSegment=function(t,r,s,c,f,u,p,y){var g=this.uvs,m=this.vertices,b=(g[p]-g[f])*s,O=(g[y]-g[u])*c,S=m[p]-m[f],R=m[y]-m[u];b<1&&(b=1),O<1&&(O=1),S<1&&(S=1),R<1&&(R=1),t.drawImage(r,g[f]*s,g[u]*c,b,O,m[f],m[u],S,R)},e.prototype._refresh=function(){n.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var s=1/this._origWidth,c=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=s*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-s*this._rightWidth,t[9]=t[11]=t[13]=t[15]=c*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-c*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},T(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(o.default);_.default=l},27660:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(20863),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(n,e,i){x(this,l);var t=E(this,h.call(this,n));return t._ready=!0,t.verticesX=e||10,t.verticesY=i||10,t.drawMode=w.default.DRAW_MODES.TRIANGLES,t.refresh(),t}return l.prototype._refresh=function(){for(var e=this._texture,i=this.verticesX*this.verticesY,t=[],r=[],s=[],c=[],f=this.verticesX-1,u=this.verticesY-1,p=e.width/f,y=e.height/u,g=0;g<i;g++){var m=g%this.verticesX,b=g/this.verticesX|0;t.push(m*p,b*y),s.push(m/f,b/u)}for(var O=f*u,S=0;S<O;S++){var R=S%f,A=S/f|0,G=A*this.verticesX+R,U=A*this.verticesX+R+1,B=(A+1)*this.verticesX+R,P=(A+1)*this.verticesX+R+1;c.push(G,U,B),c.push(U,P,B)}this.vertices=new Float32Array(t),this.uvs=new Float32Array(s),this.colors=new Float32Array(r),this.indices=new Uint16Array(c),this.dirty++,this.indexDirty++,this.multiplyUvs()},l.prototype._onTextureUpdate=function(){w.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},l}(w.default);_.default=a},35010:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(20863),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(n,e){x(this,l);var i=E(this,h.call(this,n));return i.points=e,i.vertices=new Float32Array(e.length*4),i.uvs=new Float32Array(e.length*4),i.colors=new Float32Array(e.length*2),i.indices=new Uint16Array(e.length*2),i.autoUpdate=!0,i.refresh(),i}return l.prototype._refresh=function(){var e=this.points;if(!(e.length<1||!this._texture._uvs)){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(e.length*4),this.uvs=new Float32Array(e.length*4),this.colors=new Float32Array(e.length*2),this.indices=new Uint16Array(e.length*2));var i=this.uvs,t=this.indices,r=this.colors;i[0]=0,i[1]=0,i[2]=0,i[3]=1,r[0]=1,r[1]=1,t[0]=0,t[1]=1;for(var s=e.length,c=1;c<s;c++){var f=c*4,u=c/(s-1);i[f]=u,i[f+1]=0,i[f+2]=u,i[f+3]=1,f=c*2,r[f]=1,r[f+1]=1,f=c*2,t[f]=f,t[f+1]=f+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},l.prototype.refreshVertices=function(){var e=this.points;if(!(e.length<1))for(var i=e[0],t=void 0,r=0,s=0,c=this.vertices,f=e.length,u=0;u<f;u++){var p=e[u],y=u*4;u<e.length-1?t=e[u+1]:t=p,s=-(t.x-i.x),r=t.y-i.y;var g=(1-u/(f-1))*10;g>1&&(g=1);var m=Math.sqrt(r*r+s*s),b=this._texture.height/2;r/=m,s/=m,r*=b,s*=b,c[y]=p.x+r,c[y+1]=p.y+s,c[y+2]=p.x-r,c[y+3]=p.y-s,i=p}},l.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},l}(w.default);_.default=a},80266:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=d(T),o=v(20863),x=E(o);function E(l){return l&&l.__esModule?l:{default:l}}function d(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n.default=l,n}function a(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function(){function l(n){a(this,l),this.renderer=n}return l.prototype.render=function(e){var i=this.renderer,t=i.context,r=e.worldTransform,s=i.resolution;i.roundPixels?t.setTransform(r.a*s,r.b*s,r.c*s,r.d*s,r.tx*s|0,r.ty*s|0):t.setTransform(r.a*s,r.b*s,r.c*s,r.d*s,r.tx*s,r.ty*s),i.context.globalAlpha=e.worldAlpha,i.setBlendMode(e.blendMode),e.drawMode===x.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},l.prototype._renderTriangleMesh=function(e){for(var i=e.vertices.length/2,t=0;t<i-2;t++){var r=t*2;this._renderDrawTriangle(e,r,r+2,r+4)}},l.prototype._renderTriangles=function(e){for(var i=e.indices,t=i.length,r=0;r<t;r+=3){var s=i[r]*2,c=i[r+1]*2,f=i[r+2]*2;this._renderDrawTriangle(e,s,c,f)}},l.prototype._renderDrawTriangle=function(e,i,t,r){var s=this.renderer.context,c=e.uvs,f=e.vertices,u=e._texture;if(!!u.valid){var p=u.baseTexture,y=p.source,g=p.width,m=p.height,b=void 0,O=void 0,S=void 0,R=void 0,A=void 0,G=void 0;if(e.uploadUvTransform){var U=e._uvTransform.mapCoord;b=(c[i]*U.a+c[i+1]*U.c+U.tx)*p.width,O=(c[t]*U.a+c[t+1]*U.c+U.tx)*p.width,S=(c[r]*U.a+c[r+1]*U.c+U.tx)*p.width,R=(c[i]*U.b+c[i+1]*U.d+U.ty)*p.height,A=(c[t]*U.b+c[t+1]*U.d+U.ty)*p.height,G=(c[r]*U.b+c[r+1]*U.d+U.ty)*p.height}else b=c[i]*p.width,O=c[t]*p.width,S=c[r]*p.width,R=c[i+1]*p.height,A=c[t+1]*p.height,G=c[r+1]*p.height;var B=f[i],P=f[t],X=f[r],M=f[i+1],D=f[t+1],N=f[r+1],L=e.canvasPadding/this.renderer.resolution;if(L>0){var k=L/Math.abs(e.worldTransform.a),F=L/Math.abs(e.worldTransform.d),I=(B+P+X)/3,C=(M+D+N)/3,z=B-I,Z=M-C,W=Math.sqrt(z*z+Z*Z);B=I+z/W*(W+k),M=C+Z/W*(W+F),z=P-I,Z=D-C,W=Math.sqrt(z*z+Z*Z),P=I+z/W*(W+k),D=C+Z/W*(W+F),z=X-I,Z=N-C,W=Math.sqrt(z*z+Z*Z),X=I+z/W*(W+k),N=C+Z/W*(W+F)}s.save(),s.beginPath(),s.moveTo(B,M),s.lineTo(P,D),s.lineTo(X,N),s.closePath(),s.clip();var V=b*A+R*S+O*G-A*S-R*O-b*G,H=B*A+R*X+P*G-A*X-R*P-B*G,Q=b*P+B*S+O*X-P*S-B*O-b*X,q=b*A*X+R*P*S+B*O*G-B*A*S-R*O*X-b*P*G,$=M*A+R*N+D*G-A*N-R*D-M*G,j=b*D+M*S+O*N-D*S-M*O-b*N,J=b*A*N+R*D*S+M*O*G-M*A*S-R*O*N-b*D*G;s.transform(H/V,$/V,Q/V,j/V,q/V,J/V),s.drawImage(y,0,0,g*p.resolution,m*p.resolution,0,0,g,m),s.restore(),this.renderer.invalidateBlendMode()}},l.prototype.renderMeshFlat=function(e){var i=this.renderer.context,t=e.vertices,r=t.length/2;i.beginPath();for(var s=1;s<r-2;++s){var c=s*2,f=t[c],u=t[c+1],p=t[c+2],y=t[c+3],g=t[c+4],m=t[c+5];i.moveTo(f,u),i.lineTo(p,y),i.lineTo(g,m)}i.fillStyle="#FF0000",i.fill(),i.closePath()},l.prototype.destroy=function(){this.renderer=null},l}();_.default=h,w.CanvasRenderer.registerPlugin("mesh",h)},67601:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(20863);Object.defineProperty(_,"Mesh",{enumerable:!0,get:function(){return a(T).default}});var w=v(71324);Object.defineProperty(_,"MeshRenderer",{enumerable:!0,get:function(){return a(w).default}});var o=v(80266);Object.defineProperty(_,"CanvasMeshRenderer",{enumerable:!0,get:function(){return a(o).default}});var x=v(27660);Object.defineProperty(_,"Plane",{enumerable:!0,get:function(){return a(x).default}});var E=v(52715);Object.defineProperty(_,"NineSlicePlane",{enumerable:!0,get:function(){return a(E).default}});var d=v(35010);Object.defineProperty(_,"Rope",{enumerable:!0,get:function(){return a(d).default}});function a(h){return h&&h.__esModule?h:{default:h}}},71324:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=l(T),o=v(53070),x=h(o),E=v(20863),d=h(E),a=v(26470);function h(s){return s&&s.__esModule?s:{default:s}}function l(s){if(s&&s.__esModule)return s;var c={};if(s!=null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(c[f]=s[f]);return c.default=s,c}function n(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function e(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function i(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var t=w.Matrix.IDENTITY,r=function(s){i(c,s);function c(f){n(this,c);var u=e(this,s.call(this,f));return u.shader=null,u}return c.prototype.onContextChange=function(){var u=this.renderer.gl;this.shader=new w.Shader(u,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`)},c.prototype.render=function(u){var p=this.renderer,y=p.gl,g=u._texture;if(!!g.valid){var m=u._glDatas[p.CONTEXT_UID];m||(p.bindVao(null),m={shader:this.shader,vertexBuffer:x.default.GLBuffer.createVertexBuffer(y,u.vertices,y.STREAM_DRAW),uvBuffer:x.default.GLBuffer.createVertexBuffer(y,u.uvs,y.STREAM_DRAW),indexBuffer:x.default.GLBuffer.createIndexBuffer(y,u.indices,y.STATIC_DRAW),vao:null,dirty:u.dirty,indexDirty:u.indexDirty,vertexDirty:u.vertexDirty},m.vao=new x.default.VertexArrayObject(y).addIndex(m.indexBuffer).addAttribute(m.vertexBuffer,m.shader.attributes.aVertexPosition,y.FLOAT,!1,2*4,0).addAttribute(m.uvBuffer,m.shader.attributes.aTextureCoord,y.FLOAT,!1,2*4,0),u._glDatas[p.CONTEXT_UID]=m),p.bindVao(m.vao),u.dirty!==m.dirty&&(m.dirty=u.dirty,m.uvBuffer.upload(u.uvs)),u.indexDirty!==m.indexDirty&&(m.indexDirty=u.indexDirty,m.indexBuffer.upload(u.indices)),u.vertexDirty!==m.vertexDirty&&(m.vertexDirty=u.vertexDirty,m.vertexBuffer.upload(u.vertices)),p.bindShader(m.shader),m.shader.uniforms.uSampler=p.bindTexture(g),p.state.setBlendMode(w.utils.correctBlendMode(u.blendMode,g.baseTexture.premultipliedAlpha)),m.shader.uniforms.uTransform&&(u.uploadUvTransform?m.shader.uniforms.uTransform=u._uvTransform.mapCoord.toArray(!0):m.shader.uniforms.uTransform=t.toArray(!0)),m.shader.uniforms.translationMatrix=u.worldTransform.toArray(!0),m.shader.uniforms.uColor=w.utils.premultiplyRgba(u.tintRgb,u.worldAlpha,m.shader.uniforms.uColor,g.baseTexture.premultipliedAlpha);var b=u.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?y.TRIANGLE_STRIP:y.TRIANGLES;m.vao.draw(b,u.indices.length,0)}},c}(w.ObjectRenderer);_.default=r,w.WebGLRenderer.registerPlugin("mesh",r)},62268:function(Y,_,v){"use strict";_.__esModule=!0;var T=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),w=v(92321),o=E(w),x=v(97768);function E(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e.default=n,e}function d(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function h(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var l=function(n){h(e,n);function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,t=arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;d(this,e);var c=a(this,n.call(this)),f=16384;return r>f&&(r=f),r>i&&(r=i),c._properties=[!1,!0,!1,!1,!1],c._maxSize=i,c._batchSize=r,c._glBuffers={},c._bufferUpdateIDs=[],c._updateID=0,c.interactiveChildren=!1,c.blendMode=o.BLEND_MODES.NORMAL,c.autoResize=s,c.roundPixels=!0,c.baseTexture=null,c.setProperties(t),c._tint=0,c.tintRgb=new Float32Array(4),c.tint=16777215,c}return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var r=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},e.prototype.renderCanvas=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var r=t.context,s=this.worldTransform,c=!0,f=0,u=0,p=0,y=0;t.setBlendMode(this.blendMode),r.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var g=0;g<this.children.length;++g){var m=this.children[g];if(!!m.visible){var b=m._texture.frame;if(r.globalAlpha=this.worldAlpha*m.alpha,m.rotation%(Math.PI*2)==0)c&&(r.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution),c=!1),f=m.anchor.x*(-b.width*m.scale.x)+m.position.x+.5,u=m.anchor.y*(-b.height*m.scale.y)+m.position.y+.5,p=b.width*m.scale.x,y=b.height*m.scale.y;else{c||(c=!0),m.displayObjectUpdateTransform();var O=m.worldTransform;t.roundPixels?r.setTransform(O.a,O.b,O.c,O.d,O.tx*t.resolution|0,O.ty*t.resolution|0):r.setTransform(O.a,O.b,O.c,O.d,O.tx*t.resolution,O.ty*t.resolution),f=m.anchor.x*-b.width+.5,u=m.anchor.y*-b.height+.5,p=b.width,y=b.height}var S=m._texture.baseTexture.resolution;r.drawImage(m._texture.baseTexture.source,b.x*S,b.y*S,b.width*S,b.height*S,f*t.resolution,u*t.resolution,p*t.resolution,y*t.resolution)}}}},e.prototype.destroy=function(t){if(n.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},T(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,x.hex2rgb)(t,this.tintRgb)}}]),e}(o.Container);_.default=l},54728:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(62268);Object.defineProperty(_,"ParticleContainer",{enumerable:!0,get:function(){return o(T).default}});var w=v(96856);Object.defineProperty(_,"ParticleRenderer",{enumerable:!0,get:function(){return o(w).default}});function o(x){return x&&x.__esModule?x:{default:x}}},10809:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(53070),w=E(T),o=v(94014),x=E(o);function E(h){return h&&h.__esModule?h:{default:h}}function d(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function h(l,n,e,i){d(this,h),this.gl=l,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var t=0;t<n.length;++t){var r=n[t];r={attribute:r.attribute,size:r.size,uploadFunction:r.uploadFunction,unsignedByte:r.unsignedByte,offset:r.offset},e[t]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return h.prototype.initBuffers=function(){var n=this.gl,e=0;this.indices=(0,x.default)(this.size),this.indexBuffer=w.default.GLBuffer.createIndexBuffer(n,this.indices,n.STATIC_DRAW),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var t=this.dynamicProperties[i];t.offset=e,e+=t.size,this.dynamicStride+=t.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=w.default.GLBuffer.createVertexBuffer(n,r,n.STREAM_DRAW);var s=0;this.staticStride=0;for(var c=0;c<this.staticProperties.length;++c){var f=this.staticProperties[c];f.offset=s,s+=f.size,this.staticStride+=f.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=w.default.GLBuffer.createVertexBuffer(n,u,n.STATIC_DRAW),this.vao=new w.default.VertexArrayObject(n).addIndex(this.indexBuffer);for(var p=0;p<this.dynamicProperties.length;++p){var y=this.dynamicProperties[p];y.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,y.attribute,n.UNSIGNED_BYTE,!0,this.dynamicStride*4,y.offset*4):this.vao.addAttribute(this.dynamicBuffer,y.attribute,n.FLOAT,!1,this.dynamicStride*4,y.offset*4)}for(var g=0;g<this.staticProperties.length;++g){var m=this.staticProperties[g];m.unsignedByte?this.vao.addAttribute(this.staticBuffer,m.attribute,n.UNSIGNED_BYTE,!0,this.staticStride*4,m.offset*4):this.vao.addAttribute(this.staticBuffer,m.attribute,n.FLOAT,!1,this.staticStride*4,m.offset*4)}},h.prototype.uploadDynamic=function(n,e,i){for(var t=0;t<this.dynamicProperties.length;t++){var r=this.dynamicProperties[t];r.uploadFunction(n,e,i,r.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},h.prototype.uploadStatic=function(n,e,i){for(var t=0;t<this.staticProperties.length;t++){var r=this.staticProperties[t];r.uploadFunction(n,e,i,r.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},h.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},h}();_.default=a},96856:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=l(T),o=v(77326),x=h(o),E=v(10809),d=h(E),a=v(97768);function h(r){return r&&r.__esModule?r:{default:r}}function l(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s.default=r,s}function n(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function e(r,s){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:r}function i(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(r,s):r.__proto__=s)}var t=function(r){i(s,r);function s(c){n(this,s);var f=e(this,r.call(this,c));return f.shader=null,f.indexBuffer=null,f.properties=null,f.tempMatrix=new w.Matrix,f.CONTEXT_UID=0,f}return s.prototype.onContextChange=function(){var f=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new x.default(f),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},s.prototype.start=function(){this.renderer.bindShader(this.shader)},s.prototype.render=function(f){var u=f.children,p=f._maxSize,y=f._batchSize,g=this.renderer,m=u.length;if(m!==0){m>p&&(m=p);var b=f._glBuffers[g.CONTEXT_UID];b||(b=f._glBuffers[g.CONTEXT_UID]=this.generateBuffers(f));var O=u[0]._texture.baseTexture;this.renderer.setBlendMode(w.utils.correctBlendMode(f.blendMode,O.premultipliedAlpha));var S=g.gl,R=f.worldTransform.copy(this.tempMatrix);R.prepend(g._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=R.toArray(!0),this.shader.uniforms.uColor=w.utils.premultiplyRgba(f.tintRgb,f.worldAlpha,this.shader.uniforms.uColor,O.premultipliedAlpha),this.shader.uniforms.uSampler=g.bindTexture(O);for(var A=!1,G=0,U=0;G<m;G+=y,U+=1){var B=m-G;if(B>y&&(B=y),U>=b.length){if(!f.autoResize)break;b.push(this._generateOneMoreBuffer(f))}var P=b[U];P.uploadDynamic(u,G,B);var X=f._bufferUpdateIDs[U]||0;A=A||P._updateID<X,A&&(P._updateID=f._updateID,P.uploadStatic(u,G,B)),g.bindVao(P.vao),P.vao.draw(S.TRIANGLES,B*6)}}},s.prototype.generateBuffers=function(f){for(var u=this.renderer.gl,p=[],y=f._maxSize,g=f._batchSize,m=f._properties,b=0;b<y;b+=g)p.push(new d.default(u,this.properties,m,g));return p},s.prototype._generateOneMoreBuffer=function(f){var u=this.renderer.gl,p=f._batchSize,y=f._properties;return new d.default(u,this.properties,y,p)},s.prototype.uploadVertices=function(f,u,p,y,g,m){for(var b=0,O=0,S=0,R=0,A=0;A<p;++A){var G=f[u+A],U=G._texture,B=G.scale.x,P=G.scale.y,X=U.trim,M=U.orig;X?(O=X.x-G.anchor.x*M.width,b=O+X.width,R=X.y-G.anchor.y*M.height,S=R+X.height):(b=M.width*(1-G.anchor.x),O=M.width*-G.anchor.x,S=M.height*(1-G.anchor.y),R=M.height*-G.anchor.y),y[m]=O*B,y[m+1]=R*P,y[m+g]=b*B,y[m+g+1]=R*P,y[m+g*2]=b*B,y[m+g*2+1]=S*P,y[m+g*3]=O*B,y[m+g*3+1]=S*P,m+=g*4}},s.prototype.uploadPosition=function(f,u,p,y,g,m){for(var b=0;b<p;b++){var O=f[u+b].position;y[m]=O.x,y[m+1]=O.y,y[m+g]=O.x,y[m+g+1]=O.y,y[m+g*2]=O.x,y[m+g*2+1]=O.y,y[m+g*3]=O.x,y[m+g*3+1]=O.y,m+=g*4}},s.prototype.uploadRotation=function(f,u,p,y,g,m){for(var b=0;b<p;b++){var O=f[u+b].rotation;y[m]=O,y[m+g]=O,y[m+g*2]=O,y[m+g*3]=O,m+=g*4}},s.prototype.uploadUvs=function(f,u,p,y,g,m){for(var b=0;b<p;++b){var O=f[u+b]._texture._uvs;O?(y[m]=O.x0,y[m+1]=O.y0,y[m+g]=O.x1,y[m+g+1]=O.y1,y[m+g*2]=O.x2,y[m+g*2+1]=O.y2,y[m+g*3]=O.x3,y[m+g*3+1]=O.y3,m+=g*4):(y[m]=0,y[m+1]=0,y[m+g]=0,y[m+g+1]=0,y[m+g*2]=0,y[m+g*2+1]=0,y[m+g*3]=0,y[m+g*3+1]=0,m+=g*4)}},s.prototype.uploadTint=function(f,u,p,y,g,m){for(var b=0;b<p;++b){var O=f[u+b],S=O._texture.baseTexture.premultipliedAlpha,R=O.alpha,A=R<1&&S?(0,a.premultiplyTint)(O._tintRGB,R):O._tintRGB+(R*255<<24);y[m]=A,y[m+g]=A,y[m+g*2]=A,y[m+g*3]=A,m+=g*4}},s.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},s}(w.ObjectRenderer);_.default=t,w.WebGLRenderer.registerPlugin("particle",t)},77326:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(72916),w=o(T);function o(h){return h&&h.__esModule?h:{default:h}}function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:h}function d(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}var a=function(h){d(l,h);function l(n){return x(this,l),E(this,h.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join(`
`)))}return l}(w.default);_.default=a},83495:function(){"use strict";Math.sign||(Math.sign=function(_){return _=Number(_),_===0||isNaN(_)?_:_>0?1:-1})},98778:function(){"use strict";Number.isInteger||(Number.isInteger=function(_){return typeof _=="number"&&isFinite(_)&&Math.floor(_)===_})},78705:function(Y,_,v){"use strict";var T=v(27418),w=o(T);function o(x){return x&&x.__esModule?x:{default:x}}Object.assign||(Object.assign=w.default)},30381:function(Y,_,v){"use strict";v(78705),v(81430),v(83495),v(98778),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},81430:function(Y,_,v){"use strict";var T=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(v.g.performance&&v.g.performance.now)){var w=Date.now();v.g.performance||(v.g.performance={}),v.g.performance.now=function(){return Date.now()-w}}for(var o=Date.now(),x=["ms","moz","webkit","o"],E=0;E<x.length&&!v.g.requestAnimationFrame;++E){var d=x[E];v.g.requestAnimationFrame=v.g[d+"RequestAnimationFrame"],v.g.cancelAnimationFrame=v.g[d+"CancelAnimationFrame"]||v.g[d+"CancelRequestAnimationFrame"]}v.g.requestAnimationFrame||(v.g.requestAnimationFrame=function(a){if(typeof a!="function")throw new TypeError(a+"is not a function");var h=Date.now(),l=T+o-h;return l<0&&(l=0),o=h,setTimeout(function(){o=Date.now(),a(performance.now())},l)}),v.g.cancelAnimationFrame||(v.g.cancelAnimationFrame=function(a){return clearTimeout(a)})},29176:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=d(T),o=v(37311),x=E(o);function E(f){return f&&f.__esModule?f:{default:f}}function d(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p]);return u.default=f,u}function a(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}var h=w.ticker.shared;w.settings.UPLOADS_PER_FRAME=4;var l=function(){function f(u){var p=this;a(this,f),this.limiter=new x.default(w.settings.UPLOADS_PER_FRAME),this.renderer=u,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!p.queue||p.prepareItems()},this.registerFindHook(s),this.registerFindHook(c),this.registerFindHook(n),this.registerFindHook(e),this.registerFindHook(i),this.registerUploadHook(t),this.registerUploadHook(r)}return f.prototype.upload=function(p,y){typeof p=="function"&&(y=p,p=null),p&&this.add(p),this.queue.length?(y&&this.completes.push(y),this.ticking||(this.ticking=!0,h.addOnce(this.tick,this,w.UPDATE_PRIORITY.UTILITY))):y&&y()},f.prototype.tick=function(){setTimeout(this.delayedTick,0)},f.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var p=this.queue[0],y=!1;if(p&&!p._destroyed){for(var g=0,m=this.uploadHooks.length;g<m;g++)if(this.uploadHooks[g](this.uploadHookHelper,p)){this.queue.shift(),y=!0;break}}y||this.queue.shift()}if(this.queue.length)h.addOnce(this.tick,this,w.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var b=this.completes.slice(0);this.completes.length=0;for(var O=0,S=b.length;O<S;O++)b[O]()}},f.prototype.registerFindHook=function(p){return p&&this.addHooks.push(p),this},f.prototype.registerUploadHook=function(p){return p&&this.uploadHooks.push(p),this},f.prototype.add=function(p){for(var y=0,g=this.addHooks.length;y<g&&!this.addHooks[y](p,this.queue);y++);if(p instanceof w.Container)for(var m=p.children.length-1;m>=0;m--)this.add(p.children[m]);return this},f.prototype.destroy=function(){this.ticking&&h.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},f}();_.default=l;function n(f,u){var p=!1;if(f&&f._textures&&f._textures.length){for(var y=0;y<f._textures.length;y++)if(f._textures[y]instanceof w.Texture){var g=f._textures[y].baseTexture;u.indexOf(g)===-1&&(u.push(g),p=!0)}}return p}function e(f,u){return f instanceof w.BaseTexture?(u.indexOf(f)===-1&&u.push(f),!0):!1}function i(f,u){if(f._texture&&f._texture instanceof w.Texture){var p=f._texture.baseTexture;return u.indexOf(p)===-1&&u.push(p),!0}return!1}function t(f,u){return u instanceof w.Text?(u.updateText(!0),!0):!1}function r(f,u){if(u instanceof w.TextStyle){var p=u.toFontString();return w.TextMetrics.measureFont(p),!0}return!1}function s(f,u){if(f instanceof w.Text){u.indexOf(f.style)===-1&&u.push(f.style),u.indexOf(f)===-1&&u.push(f);var p=f._texture.baseTexture;return u.indexOf(p)===-1&&u.push(p),!0}return!1}function c(f,u){return f instanceof w.TextStyle?(u.indexOf(f)===-1&&u.push(f),!0):!1}},39208:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=d(T),o=v(29176),x=E(o);function E(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r.default=t,r}function a(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function h(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function l(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var n=16,e=function(t){l(r,t);function r(s){a(this,r);var c=h(this,t.call(this,s));return c.uploadHookHelper=c,c.canvas=document.createElement("canvas"),c.canvas.width=n,c.canvas.height=n,c.ctx=c.canvas.getContext("2d"),c.registerUploadHook(i),c}return r.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},r}(x.default);_.default=e;function i(t,r){if(r instanceof w.BaseTexture){var s=r.source,c=s.width===0?t.canvas.width:Math.min(t.canvas.width,s.width),f=s.height===0?t.canvas.height:Math.min(t.canvas.height,s.height);return t.ctx.drawImage(s,0,0,c,f,0,0,t.canvas.width,t.canvas.height),!0}return!1}w.CanvasRenderer.registerPlugin("prepare",e)},79878:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(64468);Object.defineProperty(_,"webgl",{enumerable:!0,get:function(){return d(T).default}});var w=v(39208);Object.defineProperty(_,"canvas",{enumerable:!0,get:function(){return d(w).default}});var o=v(29176);Object.defineProperty(_,"BasePrepare",{enumerable:!0,get:function(){return d(o).default}});var x=v(37311);Object.defineProperty(_,"CountLimiter",{enumerable:!0,get:function(){return d(x).default}});var E=v(686);Object.defineProperty(_,"TimeLimiter",{enumerable:!0,get:function(){return d(E).default}});function d(a){return a&&a.__esModule?a:{default:a}}},37311:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o){v(this,w),this.maxItemsPerFrame=o,this.itemsLeft=0}return w.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},w.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},w}();_.default=T},686:function(Y,_){"use strict";_.__esModule=!0;function v(w,o){if(!(w instanceof o))throw new TypeError("Cannot call a class as a function")}var T=function(){function w(o){v(this,w),this.maxMilliseconds=o,this.frameStart=0}return w.prototype.beginFrame=function(){this.frameStart=Date.now()},w.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},w}();_.default=T},64468:function(Y,_,v){"use strict";_.__esModule=!0;var T=v(92321),w=d(T),o=v(29176),x=E(o);function E(r){return r&&r.__esModule?r:{default:r}}function d(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c]);return s.default=r,s}function a(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function h(r,s){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:r}function l(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(r,s):r.__proto__=s)}var n=function(r){l(s,r);function s(c){a(this,s);var f=h(this,r.call(this,c));return f.uploadHookHelper=f.renderer,f.registerFindHook(t),f.registerUploadHook(e),f.registerUploadHook(i),f}return s}(x.default);_.default=n;function e(r,s){return s instanceof w.BaseTexture?(s._glTextures[r.CONTEXT_UID]||r.textureManager.updateTexture(s),!0):!1}function i(r,s){return s instanceof w.Graphics?((s.dirty||s.clearDirty||!s._webGL[r.plugins.graphics.CONTEXT_UID])&&r.plugins.graphics.updateGraphics(s),!0):!1}function t(r,s){return r instanceof w.Graphics?(s.push(r),!0):!1}w.WebGLRenderer.registerPlugin("prepare",n)},70131:function(Y,_,v){"use strict";v.d(_,{df:function(){return r}});var T=v(12924),w=v.n(T);function o(){return o=Object.assign||function(f){for(var u=1;u<arguments.length;u++){var p=arguments[u];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(f[y]=p[y])}return f},o.apply(this,arguments)}function x(f,u){f.prototype=Object.create(u.prototype),f.prototype.constructor=f,f.__proto__=u}function E(f,u){if(f==null)return{};var p={},y=Object.keys(f),g,m;for(m=0;m<y.length;m++)g=y[m],!(u.indexOf(g)>=0)&&(p[g]=f[g]);return p}var d=new Map,a=new WeakMap,h=0;function l(f){return f?(a.has(f)||(h+=1,a.set(f,h.toString())),a.get(f)):"0"}function n(f){return Object.keys(f).sort().filter(function(u){return f[u]!==void 0}).map(function(u){return u+"_"+(u==="root"?l(f.root):f[u])}).toString()}function e(f){var u=n(f),p=d.get(u);if(!p){var y=new Map,g,m=new IntersectionObserver(function(b){b.forEach(function(O){var S,R=O.isIntersecting&&g.some(function(A){return O.intersectionRatio>=A});f.trackVisibility&&typeof O.isVisible=="undefined"&&(O.isVisible=R),(S=y.get(O.target))==null||S.forEach(function(A){A(R,O)})})},f);g=m.thresholds||(Array.isArray(f.threshold)?f.threshold:[f.threshold||0]),p={id:u,observer:m,elements:y},d.set(u,p)}return p}function i(f,u,p){if(p===void 0&&(p={}),!f)return function(){};var y=e(p),g=y.id,m=y.observer,b=y.elements,O=b.get(f)||[];return b.has(f)||b.set(f,O),O.push(u),m.observe(f),function(){O.splice(O.indexOf(u),1),O.length===0&&(b.delete(f),m.unobserve(f)),b.size===0&&(m.disconnect(),d.delete(g))}}function t(f){return typeof f.children!="function"}var r=function(f){x(u,f);function u(y){var g;return g=f.call(this,y)||this,g.node=null,g._unobserveCb=null,g.handleNode=function(m){g.node&&(g.unobserve(),!m&&!g.props.triggerOnce&&!g.props.skip&&g.setState({inView:!!g.props.initialInView,entry:void 0})),g.node=m||null,g.observeNode()},g.handleChange=function(m,b){m&&g.props.triggerOnce&&g.unobserve(),t(g.props)||g.setState({inView:m,entry:b}),g.props.onChange&&g.props.onChange(m,b)},g.state={inView:!!y.initialInView,entry:void 0},g}var p=u.prototype;return p.componentDidUpdate=function(g){(g.rootMargin!==this.props.rootMargin||g.root!==this.props.root||g.threshold!==this.props.threshold||g.skip!==this.props.skip||g.trackVisibility!==this.props.trackVisibility||g.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},p.componentWillUnmount=function(){this.unobserve(),this.node=null},p.observeNode=function(){if(!(!this.node||this.props.skip)){var g=this.props,m=g.threshold,b=g.root,O=g.rootMargin,S=g.trackVisibility,R=g.delay;this._unobserveCb=i(this.node,this.handleChange,{threshold:m,root:b,rootMargin:O,trackVisibility:S,delay:R})}},p.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},p.render=function(){if(!t(this.props)){var g=this.state,m=g.inView,b=g.entry;return this.props.children({inView:m,entry:b,ref:this.handleNode})}var O=this.props,S=O.children,R=O.as,A=O.tag,G=E(O,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,T.createElement)(R||A||"div",o({ref:this.handleNode},G),S)},u}(T.Component);r.displayName="InView",r.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function s(f){var u=f===void 0?{}:f,p=u.threshold,y=u.delay,g=u.trackVisibility,m=u.rootMargin,b=u.root,O=u.triggerOnce,S=u.skip,R=u.initialInView,A=useRef(),G=useState({inView:!!R}),U=G[0],B=G[1],P=useCallback(function(M){A.current!==void 0&&(A.current(),A.current=void 0),!S&&M&&(A.current=i(M,function(D,N){B({inView:D,entry:N}),N.isIntersecting&&O&&A.current&&(A.current(),A.current=void 0)},{root:b,rootMargin:m,threshold:p,trackVisibility:g,delay:y}))},[Array.isArray(p)?p.toString():p,b,m,O,S,g,y]);useEffect(function(){!A.current&&U.entry&&!O&&!S&&B({inView:!!R})});var X=[P,U.inView,U.entry];return X.ref=X[0],X.inView=X[1],X.entry=X[2],X}var c=null},77069:function(Y){"use strict";Y.exports=function(v,T,w){var o,x=v.length;if(!(T>=x||w===0)){w=T+w>x?x-T:w;var E=x-w;for(o=T;o<E;++o)v[o]=v[o+w];v.length=E}}},8078:function(Y,_,v){"use strict";var T;T=!0,_.a=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=function(){function f(u,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,p,y){return p&&f(u.prototype,p),y&&f(u,y),u}}(),x=v(82940),E=i(x),d=v(55784),a=i(d),h=v(33994),l=e(h),n=v(27979);function e(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p]);return u.default=f,u}function i(f){return f&&f.__esModule?f:{default:f}}function t(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}var r=100,s=/(#[\w-]+)?$/,c=_.a=function(){function f(){var u=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;t(this,f),this.baseUrl=p,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(b,O){return u._loadResource(b,O)},this._queue=l.queue(this._boundLoadResource,y),this._queue.pause(),this.resources={},this.onProgress=new E.default,this.onError=new E.default,this.onLoad=new E.default,this.onStart=new E.default,this.onComplete=new E.default;for(var g=0;g<f._defaultBeforeMiddleware.length;++g)this.pre(f._defaultBeforeMiddleware[g]);for(var m=0;m<f._defaultAfterMiddleware.length;++m)this.use(f._defaultAfterMiddleware[m])}return f.prototype.add=function(p,y,g,m){if(Array.isArray(p)){for(var b=0;b<p.length;++b)this.add(p[b]);return this}if((typeof p=="undefined"?"undefined":w(p))==="object"&&(m=y||p.callback||p.onComplete,g=p,y=p.url,p=p.name||p.key||p.url),typeof y!="string"&&(m=g,g=y,y=p),typeof y!="string")throw new Error("No url passed to add resource to loader.");if(typeof g=="function"&&(m=g,g=null),this.loading&&(!g||!g.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[p])throw new Error('Resource named "'+p+'" already exists.');if(y=this._prepareUrl(y),this.resources[p]=new n.Resource(p,y,g),typeof m=="function"&&this.resources[p].onAfterMiddleware.once(m),this.loading){for(var O=g.parentResource,S=[],R=0;R<O.children.length;++R)O.children[R].isComplete||S.push(O.children[R]);var A=O.progressChunk*(S.length+1),G=A/(S.length+2);O.children.push(this.resources[p]),O.progressChunk=G;for(var U=0;U<S.length;++U)S[U].progressChunk=G;this.resources[p].progressChunk=G}return this._queue.push(this.resources[p]),this},f.prototype.pre=function(p){return this._beforeMiddleware.push(p),this},f.prototype.use=function(p){return this._afterMiddleware.push(p),this},f.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var p in this.resources){var y=this.resources[p];y._onLoadBinding&&y._onLoadBinding.detach(),y.isLoading&&y.abort()}return this.resources={},this},f.prototype.load=function(p){if(typeof p=="function"&&this.onComplete.once(p),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var y=this._queue._tasks.length,g=r/y,m=0;m<this._queue._tasks.length;++m)this._queue._tasks[m].data.progressChunk=g;this._onStart(),this._queue.resume()}return this},f.prototype._prepareUrl=function(p){var y=(0,a.default)(p,{strictMode:!0}),g=void 0;if(y.protocol||!y.path||p.indexOf("//")===0?g=p:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&p.charAt(0)!=="/"?g=this.baseUrl+"/"+p:g=this.baseUrl+p,this.defaultQueryString){var m=s.exec(g)[0];g=g.substr(0,g.length-m.length),g.indexOf("?")!==-1?g+="&"+this.defaultQueryString:g+="?"+this.defaultQueryString,g+=m}return g},f.prototype._loadResource=function(p,y){var g=this;p._dequeue=y,l.eachSeries(this._beforeMiddleware,function(m,b){m.call(g,p,function(){b(p.isComplete?{}:null)})},function(){p.isComplete?g._onLoad(p):(p._onLoadBinding=p.onComplete.once(g._onLoad,g),p.load())},!0)},f.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},f.prototype._onComplete=function(){this.progress=r,this.loading=!1,this.onComplete.dispatch(this,this.resources)},f.prototype._onLoad=function(p){var y=this;p._onLoadBinding=null,this._resourcesParsing.push(p),p._dequeue(),l.eachSeries(this._afterMiddleware,function(g,m){g.call(y,p,m)},function(){p.onAfterMiddleware.dispatch(p),y.progress=Math.min(r,y.progress+p.progressChunk),y.onProgress.dispatch(y,p),p.error?y.onError.dispatch(p.error,y,p):y.onLoad.dispatch(y,p),y._resourcesParsing.splice(y._resourcesParsing.indexOf(p),1),y._queue.idle()&&y._resourcesParsing.length===0&&y._onComplete()},!0)},o(f,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(p){this._queue.concurrency=p}}]),f}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(u){return c._defaultBeforeMiddleware.push(u),c},c.use=function(u){return c._defaultAfterMiddleware.push(u),c}},27979:function(Y,_,v){"use strict";_.__esModule=!0,_.Resource=void 0;var T=function(){function p(y,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,m){return g&&p(y.prototype,g),m&&p(y,m),y}}(),w=v(55784),o=d(w),x=v(82940),E=d(x);function d(p){return p&&p.__esModule?p:{default:p}}function a(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}var h=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),l=null,n=0,e=200,i=204,t=1223,r=2;function s(){}var c=_.Resource=function(){p.setExtensionLoadType=function(g,m){f(p._loadTypeMap,g,m)},p.setExtensionXhrType=function(g,m){f(p._xhrTypeMap,g,m)};function p(y,g,m){if(a(this,p),typeof y!="string"||typeof g!="string")throw new Error("Both name and url are required for constructing a resource.");m=m||{},this._flags=0,this._setFlag(p.STATUS_FLAGS.DATA_URL,g.indexOf("data:")===0),this.name=y,this.url=g,this.extension=this._getExtension(),this.data=null,this.crossOrigin=m.crossOrigin===!0?"anonymous":m.crossOrigin,this.timeout=m.timeout||0,this.loadType=m.loadType||this._determineLoadType(),this.xhrType=m.xhrType,this.metadata=m.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=p.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=s,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new E.default,this.onProgress=new E.default,this.onComplete=new E.default,this.onAfterMiddleware=new E.default}return p.prototype.complete=function(){this._clearEvents(),this._finish()},p.prototype.abort=function(g){if(!this.error){if(this.error=new Error(g),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=p.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},p.prototype.load=function(g){var m=this;if(!this.isLoading){if(this.isComplete){g&&setTimeout(function(){return g(m)},1);return}else g&&this.onComplete.once(g);switch(this._setFlag(p.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case p.LOAD_TYPE.IMAGE:this.type=p.TYPE.IMAGE,this._loadElement("image");break;case p.LOAD_TYPE.AUDIO:this.type=p.TYPE.AUDIO,this._loadSourceElement("audio");break;case p.LOAD_TYPE.VIDEO:this.type=p.TYPE.VIDEO,this._loadSourceElement("video");break;case p.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},p.prototype._hasFlag=function(g){return(this._flags&g)!=0},p.prototype._setFlag=function(g,m){this._flags=m?this._flags|g:this._flags&~g},p.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},p.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(p.STATUS_FLAGS.COMPLETE,!0),this._setFlag(p.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},p.prototype._loadElement=function(g){this.metadata.loadElement?this.data=this.metadata.loadElement:g==="image"&&typeof window.Image!="undefined"?this.data=new Image:this.data=document.createElement(g),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},p.prototype._loadSourceElement=function(g){if(this.metadata.loadElement?this.data=this.metadata.loadElement:g==="audio"&&typeof window.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(g),this.data===null){this.abort("Unsupported element: "+g);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var m=this.metadata.mimeType,b=0;b<this.url.length;++b)this.data.appendChild(this._createSource(g,this.url[b],Array.isArray(m)?m[b]:m));else{var O=this.metadata.mimeType;this.data.appendChild(this._createSource(g,this.url,Array.isArray(O)?O[0]:O))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},p.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var g=this.xhr=new XMLHttpRequest;g.open("GET",this.url,!0),g.timeout=this.timeout,this.xhrType===p.XHR_RESPONSE_TYPE.JSON||this.xhrType===p.XHR_RESPONSE_TYPE.DOCUMENT?g.responseType=p.XHR_RESPONSE_TYPE.TEXT:g.responseType=this.xhrType,g.addEventListener("error",this._boundXhrOnError,!1),g.addEventListener("timeout",this._boundXhrOnTimeout,!1),g.addEventListener("abort",this._boundXhrOnAbort,!1),g.addEventListener("progress",this._boundOnProgress,!1),g.addEventListener("load",this._boundXhrOnLoad,!1),g.send()},p.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var g=this.xhr=new XDomainRequest;g.timeout=this.timeout||5e3,g.onerror=this._boundXhrOnError,g.ontimeout=this._boundXhrOnTimeout,g.onprogress=this._boundOnProgress,g.onload=this._boundXhrOnLoad,g.open("GET",this.url,!0),setTimeout(function(){return g.send()},1)},p.prototype._createSource=function(g,m,b){b||(b=g+"/"+this._getExtension(m));var O=document.createElement("source");return O.src=m,O.type=b,O},p.prototype._onError=function(g){this.abort("Failed to load element using: "+g.target.nodeName)},p.prototype._onProgress=function(g){g&&g.lengthComputable&&this.onProgress.dispatch(this,g.loaded/g.total)},p.prototype._onTimeout=function(){this.abort("Load timed out.")},p.prototype._xhrOnError=function(){var g=this.xhr;this.abort(u(g)+" Request failed. Status: "+g.status+', text: "'+g.statusText+'"')},p.prototype._xhrOnTimeout=function(){var g=this.xhr;this.abort(u(g)+" Request timed out.")},p.prototype._xhrOnAbort=function(){var g=this.xhr;this.abort(u(g)+" Request was aborted by the user.")},p.prototype._xhrOnLoad=function(){var g=this.xhr,m="",b=typeof g.status=="undefined"?e:g.status;(g.responseType===""||g.responseType==="text"||typeof g.responseType=="undefined")&&(m=g.responseText),b===n&&(m.length>0||g.responseType===p.XHR_RESPONSE_TYPE.BUFFER)?b=e:b===t&&(b=i);var O=b/100|0;if(O===r)if(this.xhrType===p.XHR_RESPONSE_TYPE.TEXT)this.data=m,this.type=p.TYPE.TEXT;else if(this.xhrType===p.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(m),this.type=p.TYPE.JSON}catch(A){this.abort("Error trying to parse loaded json: "+A);return}else if(this.xhrType===p.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var S=new DOMParser;this.data=S.parseFromString(m,"text/xml")}else{var R=document.createElement("div");R.innerHTML=m,this.data=R}this.type=p.TYPE.XML}catch(A){this.abort("Error trying to parse loaded xml: "+A);return}else this.data=g.response||m;else{this.abort("["+g.status+"] "+g.statusText+": "+g.responseURL);return}this.complete()},p.prototype._determineCrossOrigin=function(g,m){if(g.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";m=m||window.location,l||(l=document.createElement("a")),l.href=g,g=(0,o.default)(l.href,{strictMode:!0});var b=!g.port&&m.port===""||g.port===m.port,O=g.protocol?g.protocol+":":"";return g.host!==m.hostname||!b||O!==m.protocol?"anonymous":""},p.prototype._determineXhrType=function(){return p._xhrTypeMap[this.extension]||p.XHR_RESPONSE_TYPE.TEXT},p.prototype._determineLoadType=function(){return p._loadTypeMap[this.extension]||p.LOAD_TYPE.XHR},p.prototype._getExtension=function(){var g=this.url,m="";if(this.isDataUrl){var b=g.indexOf("/");m=g.substring(b+1,g.indexOf(";",b))}else{var O=g.indexOf("?"),S=g.indexOf("#"),R=Math.min(O>-1?O:g.length,S>-1?S:g.length);g=g.substring(0,R),m=g.substring(g.lastIndexOf(".")+1)}return m.toLowerCase()},p.prototype._getMimeFromXhrType=function(g){switch(g){case p.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case p.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case p.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case p.XHR_RESPONSE_TYPE.JSON:return"application/json";case p.XHR_RESPONSE_TYPE.DEFAULT:case p.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},T(p,[{key:"isDataUrl",get:function(){return this._hasFlag(p.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(p.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(p.STATUS_FLAGS.LOADING)}}]),p}();c.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function f(p,y,g){y&&y.indexOf(".")===0&&(y=y.substring(1)),!!y&&(p[y]=g)}function u(p){return p.toString().replace("object ","")}Y.exports.default=c},33994:function(Y,_){"use strict";_.__esModule=!0,_.eachSeries=T,_.queue=o;function v(){}function T(x,E,d,a){var h=0,l=x.length;(function n(e){if(e||h===l){d&&d(e);return}a?setTimeout(function(){E(x[h++],n)},1):E(x[h++],n)})()}function w(x){return function(){if(x===null)throw new Error("Callback was already called.");var d=x;x=null,d.apply(this,arguments)}}function o(x,E){if(E==null)E=1;else if(E===0)throw new Error("Concurrency must not be zero");var d=0,a={_tasks:[],concurrency:E,saturated:v,unsaturated:v,buffer:E/4,empty:v,drain:v,error:v,started:!1,paused:!1,push:function(e,i){h(e,!1,i)},kill:function(){d=0,a.drain=v,a.started=!1,a._tasks=[]},unshift:function(e,i){h(e,!0,i)},process:function(){for(;!a.paused&&d<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();a._tasks.length===0&&a.empty(),d+=1,d===a.concurrency&&a.saturated(),x(e.data,w(l(e)))}},length:function(){return a._tasks.length},running:function(){return d},idle:function(){return a._tasks.length+d===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var e=1;e<=a.concurrency;e++)a.process()}}};function h(n,e,i){if(i!=null&&typeof i!="function")throw new Error("task callback must be a function");if(a.started=!0,n==null&&a.idle()){setTimeout(function(){return a.drain()},1);return}var t={data:n,callback:typeof i=="function"?i:v};e?a._tasks.unshift(t):a._tasks.push(t),setTimeout(function(){return a.process()},1)}function l(n){return function(){d-=1,n.callback.apply(n,arguments),arguments[0]!=null&&a.error(arguments[0],n.data),d<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}return a}},31599:function(Y,_){"use strict";_.__esModule=!0,_.encodeBinary=T;var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T(w){for(var o="",x=0;x<w.length;){for(var E=[0,0,0],d=[0,0,0,0],a=0;a<E.length;++a)x<w.length?E[a]=w.charCodeAt(x++)&255:E[a]=0;d[0]=E[0]>>2,d[1]=(E[0]&3)<<4|E[1]>>4,d[2]=(E[1]&15)<<2|E[2]>>6,d[3]=E[2]&63;var h=x-(w.length-1);switch(h){case 2:d[3]=64,d[2]=64;break;case 1:d[3]=64;break;default:break}for(var l=0;l<d.length;++l)o+=v.charAt(d[l])}return o}Y.exports.default=T},89755:function(Y,_,v){"use strict";var T=v(8078).a,w=v(27979).Resource,o=v(33994),x=v(31599);T.Resource=w,T.async=o,T.encodeBinary=x,T.base64=x,Y.exports=T,Y.exports.Loader=T,Y.exports.default=T},21395:function(Y,_,v){"use strict";_.__esModule=!0,_.blobMiddlewareFactory=x;var T=v(27979),w=v(31599),o=window.URL||window.webkitURL;function x(){return function(d,a){if(!d.data){a();return}if(d.xhr&&d.xhrType===T.Resource.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof d.data=="string"){var h=d.xhr.getResponseHeader("content-type");if(h&&h.indexOf("image")===0){d.data=new Image,d.data.src="data:"+h+";base64,"+(0,w.encodeBinary)(d.xhr.responseText),d.type=T.Resource.TYPE.IMAGE,d.data.onload=function(){d.data.onload=null,a()};return}}else if(d.data.type.indexOf("image")===0){var l=o.createObjectURL(d.data);d.blob=d.data,d.data=new Image,d.data.src=l,d.type=T.Resource.TYPE.IMAGE,d.data.onload=function(){o.revokeObjectURL(l),d.data.onload=null,a()};return}}a()}}},52511:function(Y,_,v){Y=v.nmd(Y);var T;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(w){var o=_&&!_.nodeType&&_,x=Y&&!Y.nodeType&&Y,E=typeof v.g=="object"&&v.g;(E.global===E||E.window===E||E.self===E)&&(w=E);var d,a=2147483647,h=36,l=1,n=26,e=38,i=700,t=72,r=128,s="-",c=/^xn--/,f=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=h-l,g=Math.floor,m=String.fromCharCode,b;function O(L){throw RangeError(p[L])}function S(L,k){for(var F=L.length,I=[];F--;)I[F]=k(L[F]);return I}function R(L,k){var F=L.split("@"),I="";F.length>1&&(I=F[0]+"@",L=F[1]),L=L.replace(u,".");var C=L.split("."),z=S(C,k).join(".");return I+z}function A(L){for(var k=[],F=0,I=L.length,C,z;F<I;)C=L.charCodeAt(F++),C>=55296&&C<=56319&&F<I?(z=L.charCodeAt(F++),(z&64512)==56320?k.push(((C&1023)<<10)+(z&1023)+65536):(k.push(C),F--)):k.push(C);return k}function G(L){return S(L,function(k){var F="";return k>65535&&(k-=65536,F+=m(k>>>10&1023|55296),k=56320|k&1023),F+=m(k),F}).join("")}function U(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:h}function B(L,k){return L+22+75*(L<26)-((k!=0)<<5)}function P(L,k,F){var I=0;for(L=F?g(L/i):L>>1,L+=g(L/k);L>y*n>>1;I+=h)L=g(L/y);return g(I+(y+1)*L/(L+e))}function X(L){var k=[],F=L.length,I,C=0,z=r,Z=t,W,V,H,Q,q,$,j,J,K;for(W=L.lastIndexOf(s),W<0&&(W=0),V=0;V<W;++V)L.charCodeAt(V)>=128&&O("not-basic"),k.push(L.charCodeAt(V));for(H=W>0?W+1:0;H<F;){for(Q=C,q=1,$=h;H>=F&&O("invalid-input"),j=U(L.charCodeAt(H++)),(j>=h||j>g((a-C)/q))&&O("overflow"),C+=j*q,J=$<=Z?l:$>=Z+n?n:$-Z,!(j<J);$+=h)K=h-J,q>g(a/K)&&O("overflow"),q*=K;I=k.length+1,Z=P(C-Q,I,Q==0),g(C/I)>a-z&&O("overflow"),z+=g(C/I),C%=I,k.splice(C++,0,z)}return G(k)}function M(L){var k,F,I,C,z,Z,W,V,H,Q,q,$=[],j,J,K,ee;for(L=A(L),j=L.length,k=r,F=0,z=t,Z=0;Z<j;++Z)q=L[Z],q<128&&$.push(m(q));for(I=C=$.length,C&&$.push(s);I<j;){for(W=a,Z=0;Z<j;++Z)q=L[Z],q>=k&&q<W&&(W=q);for(J=I+1,W-k>g((a-F)/J)&&O("overflow"),F+=(W-k)*J,k=W,Z=0;Z<j;++Z)if(q=L[Z],q<k&&++F>a&&O("overflow"),q==k){for(V=F,H=h;Q=H<=z?l:H>=z+n?n:H-z,!(V<Q);H+=h)ee=V-Q,K=h-Q,$.push(m(B(Q+ee%K,0))),V=g(ee/K);$.push(m(B(V,0))),z=P(F,J,I==C),F=0,++I}++F,++k}return $.join("")}function D(L){return R(L,function(k){return c.test(k)?X(k.slice(4).toLowerCase()):k})}function N(L){return R(L,function(k){return f.test(k)?"xn--"+M(k):k})}d={version:"1.3.2",ucs2:{decode:A,encode:G},decode:X,encode:M,toASCII:N,toUnicode:D},T=function(){return d}.call(_,v,_,Y),T!==void 0&&(Y.exports=T)})(this)},8575:function(Y,_,v){"use strict";var T=v(52511),w=v(62502);_.parse=p,_.resolve=g,_.resolveObject=m,_.format=y,_.Url=o;function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var x=/^([a-z0-9.+-]+:)/i,E=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(a),l=["'"].concat(h),n=["%","/","?",";","#"].concat(l),e=["/","?","#"],i=255,t=/^[+a-z0-9A-Z_-]{0,63}$/,r=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,s={javascript:!0,"javascript:":!0},c={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u=v(17673);function p(b,O,S){if(b&&w.isObject(b)&&b instanceof o)return b;var R=new o;return R.parse(b,O,S),R}o.prototype.parse=function(b,O,S){if(!w.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var R=b.indexOf("?"),A=R!==-1&&R<b.indexOf("#")?"?":"#",G=b.split(A),U=/\\/g;G[0]=G[0].replace(U,"/"),b=G.join(A);var B=b;if(B=B.trim(),!S&&b.split("#").length===1){var P=d.exec(B);if(P)return this.path=B,this.href=B,this.pathname=P[1],P[2]?(this.search=P[2],O?this.query=u.parse(this.search.substr(1)):this.query=this.search.substr(1)):O&&(this.search="",this.query={}),this}var X=x.exec(B);if(X){X=X[0];var M=X.toLowerCase();this.protocol=M,B=B.substr(X.length)}if(S||X||B.match(/^\/\/[^@\/]+@[^@\/]+/)){var D=B.substr(0,2)==="//";D&&!(X&&c[X])&&(B=B.substr(2),this.slashes=!0)}if(!c[X]&&(D||X&&!f[X])){for(var N=-1,L=0;L<e.length;L++){var k=B.indexOf(e[L]);k!==-1&&(N===-1||k<N)&&(N=k)}var F,I;N===-1?I=B.lastIndexOf("@"):I=B.lastIndexOf("@",N),I!==-1&&(F=B.slice(0,I),B=B.slice(I+1),this.auth=decodeURIComponent(F)),N=-1;for(var L=0;L<n.length;L++){var k=B.indexOf(n[L]);k!==-1&&(N===-1||k<N)&&(N=k)}N===-1&&(N=B.length),this.host=B.slice(0,N),B=B.slice(N),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var z=this.hostname.split(/\./),L=0,Z=z.length;L<Z;L++){var W=z[L];if(!!W&&!W.match(t)){for(var V="",H=0,Q=W.length;H<Q;H++)W.charCodeAt(H)>127?V+="x":V+=W[H];if(!V.match(t)){var q=z.slice(0,L),$=z.slice(L+1),j=W.match(r);j&&(q.push(j[1]),$.unshift(j[2])),$.length&&(B="/"+$.join(".")+B),this.hostname=q.join(".");break}}}this.hostname.length>i?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=T.toASCII(this.hostname));var J=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+J,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),B[0]!=="/"&&(B="/"+B))}if(!s[M])for(var L=0,Z=l.length;L<Z;L++){var ee=l[L];if(B.indexOf(ee)!==-1){var te=encodeURIComponent(ee);te===ee&&(te=escape(ee)),B=B.split(ee).join(te)}}var ne=B.indexOf("#");ne!==-1&&(this.hash=B.substr(ne),B=B.slice(0,ne));var ie=B.indexOf("?");if(ie!==-1?(this.search=B.substr(ie),this.query=B.substr(ie+1),O&&(this.query=u.parse(this.query)),B=B.slice(0,ie)):O&&(this.search="",this.query={}),B&&(this.pathname=B),f[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",oe=this.search||"";this.path=J+oe}return this.href=this.format(),this};function y(b){return w.isString(b)&&(b=p(b)),b instanceof o?b.format():o.prototype.format.call(b)}o.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var O=this.protocol||"",S=this.pathname||"",R=this.hash||"",A=!1,G="";this.host?A=b+this.host:this.hostname&&(A=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&w.isObject(this.query)&&Object.keys(this.query).length&&(G=u.stringify(this.query));var U=this.search||G&&"?"+G||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||f[O])&&A!==!1?(A="//"+(A||""),S&&S.charAt(0)!=="/"&&(S="/"+S)):A||(A=""),R&&R.charAt(0)!=="#"&&(R="#"+R),U&&U.charAt(0)!=="?"&&(U="?"+U),S=S.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),U=U.replace("#","%23"),O+A+S+U+R};function g(b,O){return p(b,!1,!0).resolve(O)}o.prototype.resolve=function(b){return this.resolveObject(p(b,!1,!0)).format()};function m(b,O){return b?p(b,!1,!0).resolveObject(O):O}o.prototype.resolveObject=function(b){if(w.isString(b)){var O=new o;O.parse(b,!1,!0),b=O}for(var S=new o,R=Object.keys(this),A=0;A<R.length;A++){var G=R[A];S[G]=this[G]}if(S.hash=b.hash,b.href==="")return S.href=S.format(),S;if(b.slashes&&!b.protocol){for(var U=Object.keys(b),B=0;B<U.length;B++){var P=U[B];P!=="protocol"&&(S[P]=b[P])}return f[S.protocol]&&S.hostname&&!S.pathname&&(S.path=S.pathname="/"),S.href=S.format(),S}if(b.protocol&&b.protocol!==S.protocol){if(!f[b.protocol]){for(var X=Object.keys(b),M=0;M<X.length;M++){var D=X[M];S[D]=b[D]}return S.href=S.format(),S}if(S.protocol=b.protocol,!b.host&&!c[b.protocol]){for(var Z=(b.pathname||"").split("/");Z.length&&!(b.host=Z.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),S.pathname=Z.join("/")}else S.pathname=b.pathname;if(S.search=b.search,S.query=b.query,S.host=b.host||"",S.auth=b.auth,S.hostname=b.hostname||b.host,S.port=b.port,S.pathname||S.search){var N=S.pathname||"",L=S.search||"";S.path=N+L}return S.slashes=S.slashes||b.slashes,S.href=S.format(),S}var k=S.pathname&&S.pathname.charAt(0)==="/",F=b.host||b.pathname&&b.pathname.charAt(0)==="/",I=F||k||S.host&&b.pathname,C=I,z=S.pathname&&S.pathname.split("/")||[],Z=b.pathname&&b.pathname.split("/")||[],W=S.protocol&&!f[S.protocol];if(W&&(S.hostname="",S.port=null,S.host&&(z[0]===""?z[0]=S.host:z.unshift(S.host)),S.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(Z[0]===""?Z[0]=b.host:Z.unshift(b.host)),b.host=null),I=I&&(Z[0]===""||z[0]==="")),F)S.host=b.host||b.host===""?b.host:S.host,S.hostname=b.hostname||b.hostname===""?b.hostname:S.hostname,S.search=b.search,S.query=b.query,z=Z;else if(Z.length)z||(z=[]),z.pop(),z=z.concat(Z),S.search=b.search,S.query=b.query;else if(!w.isNullOrUndefined(b.search)){if(W){S.hostname=S.host=z.shift();var V=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;V&&(S.auth=V.shift(),S.host=S.hostname=V.shift())}return S.search=b.search,S.query=b.query,(!w.isNull(S.pathname)||!w.isNull(S.search))&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S}if(!z.length)return S.pathname=null,S.search?S.path="/"+S.search:S.path=null,S.href=S.format(),S;for(var H=z.slice(-1)[0],Q=(S.host||b.host||z.length>1)&&(H==="."||H==="..")||H==="",q=0,$=z.length;$>=0;$--)H=z[$],H==="."?z.splice($,1):H===".."?(z.splice($,1),q++):q&&(z.splice($,1),q--);if(!I&&!C)for(;q--;q)z.unshift("..");I&&z[0]!==""&&(!z[0]||z[0].charAt(0)!=="/")&&z.unshift(""),Q&&z.join("/").substr(-1)!=="/"&&z.push("");var j=z[0]===""||z[0]&&z[0].charAt(0)==="/";if(W){S.hostname=S.host=j?"":z.length?z.shift():"";var V=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;V&&(S.auth=V.shift(),S.host=S.hostname=V.shift())}return I=I||S.host&&z.length,I&&!j&&z.unshift(""),z.length?S.pathname=z.join("/"):(S.pathname=null,S.path=null),(!w.isNull(S.pathname)||!w.isNull(S.search))&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.auth=b.auth||S.auth,S.slashes=S.slashes||b.slashes,S.href=S.format(),S},o.prototype.parseHost=function(){var b=this.host,O=E.exec(b);O&&(O=O[0],O!==":"&&(this.port=O.substr(1)),b=b.substr(0,b.length-O.length)),b&&(this.hostname=b)}},62502:function(Y){"use strict";Y.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}}}]);
