(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6070],{4408:function(ye,q,t){"use strict";var v=t(12924),m=t.n(v),i=t(28216),T=t(17780),K=t(38642),D=f=>({userInfo:f.user}),_=f=>{var a=f.title;return(0,T.xX)()&&setTimeout(()=>{document.title=a},0),(0,v.useEffect)(()=>{if(a&&document.title!==a&&setTimeout(()=>{document.title=a},0),(0,K.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var e=document.querySelector(".zoom-report");e&&(e.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[a]),m().createElement(m().Fragment,null)};_.defautProps={title:""},q.Z=(0,i.$j)(D)(_)},1164:function(ye,q,t){"use strict";var v=t(12924),m=t.n(v),i=t(76651),T=t(38642),K=t(91302),D=_=>{var f=navigator.userAgent.toLocaleLowerCase(),a=localStorage.getItem("enterpriseId"),e=(0,T.lz)(a,_.projectType),n=localStorage.getItem("dingPersonnel"),y=K.bl.includes(n),Z=_.target;function P(w){if(Z==="self"&&(w.preventDefault(),i.m8.push(_.to)),y){if(_.projectType==="student"){window.location.href="".concat(e,"/").concat(_.to);return}i.m8.push(_.to);return}if(dd.version){w.preventDefault();var M="";_.to.includes("?")?M="".concat(e).concat(_.to,"&ddtab=true"):M="".concat(e).concat(_.to,"?ddtab=true"),dd.biz.util.openLink({url:M})}else f.indexOf("lark")!==-1&&(window.location.href="".concat(e).concat(_.to))}return m().createElement("a",{rel:"noreferrer",href:"".concat(_.projectType==="student"?"".concat(e).concat(_.to):"#".concat(_.to)),className:"".concat(_.wrapCls," cl-pointer"),target:f.indexOf("lark")!==-1||y?"_self":_.target||"_blank",onClick:P},_.children)};D.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},D.targetTo=_=>{var f=_.path,a=_.from,e=_.isExternalLink,n=e===void 0?!1:e,y=_.isAsync,Z=y===void 0?!1:y,P=_.openName,w=P===void 0?"_blank":P,M=_.projectType,Y=M===void 0?"manage":M,A=_.ddTab,L=A===void 0?!0:A,C,x=localStorage.getItem("dingPersonnel"),U=K.bl.includes(x),V=navigator.userAgent.toLocaleLowerCase(),H=localStorage.getItem("enterpriseId"),j=(0,T.lz)(H,Y),R=localStorage.getItem("appType"),W=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var G="";if(C=n?"":j,U&&!n){if(Y==="student"){window.location.href="".concat(j).concat(f);return}i.m8.push(f);return}f.includes("?")?G="".concat(C).concat(f,"&ddtab=").concat(L):G="".concat(C).concat(f,"?ddtab=").concat(L),dd.biz.util.openLink({url:G})}else if(V.indexOf("lark")!==-1)C=n?"":j,window.location.href="".concat(C).concat(f);else if(R==="wx_app"&&W&&n&&a==="imgText")C=n?"":Y==="student"?"".concat(j):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(f)});else if(C=n?"":Y==="student"?"".concat(j):"#",Z){var X=window.open("","_blank");setTimeout(()=>{X.location="".concat(C).concat(f)},100)}else window.open("".concat(C).concat(f),w)},q.Z=D},36202:function(ye,q,t){"use strict";t.d(q,{f:function(){return A}});var v=t(62029),m=t(57361),i=t(33565),T=t(9754),K=t.n(T),D=t(12924),_=t.n(D),f=t(28175),a=t(41647),e=t(93485);function n(L){var C={};if(L.length===0)return C;var x=(0,e.Z)(L),U;try{for(x.s();!(U=x.n()).done;){var V=U.value,H=V,j=H.field,R=H.fixed,W=H.order,G=H.show;G?G==="true"||G===!0?C[j]={fixed:R,order:W,show:!0}:C[j]={fixed:R,order:W,show:!1}:C[j]={fixed:R,order:W,show:!0}}}catch(X){x.e(X)}finally{x.f()}return C}function y(L){var C=[],x=Object.entries(L);if(x.length===0)return C;for(var U=0,V=x;U<V.length;U++){var H=V[U],j=(0,i.Z)(H,2),R=j[0],W=j[1],G=W.fixed,X=W.order,pe=W.show;C.push({field:R,show:pe,fixed:G,order:X})}return C}var Z=t(38642),P=(L,C)=>{var x=(0,D.useState)(L),U=(0,i.Z)(x,2),V=U[0],H=U[1];return(0,D.useEffect)(()=>{var j=setTimeout(()=>{H(L)},C);return()=>{clearTimeout(j)}},[L,C]),V},w=P;function M(L,C){var x=useRef(C);useEffect(()=>{x.current=C},[C]),useEffect(()=>{var U=V=>{var H,j;console.warn(L.current,"node.current",V.target),!((H=(j=L.current)===null||j===void 0?void 0:j.contains(V.target))!==null&&H!==void 0?H:!1)&&x.current&&x.current()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[L])}var Y=!1;function A(L){var C=(0,D.useState)({}),x=(0,i.Z)(C,2),U=x[0],V=x[1],H=L.prefixCls,j=L.rowKey,R=L.columnEmptyText,W=L.pagination,G=L.headerTitle,X=L.toolBarRender,pe=L.size,ie=L.loading,ve=ie===void 0?!1:ie,le=L.tableUUID;le||console.error("tableUUID is required!!!"),(0,D.useEffect)(()=>{function Se(ke){return De.apply(this,arguments)}function De(){return De=(0,m.Z)(K().mark(function ke(Oe){var _e,Re,Me,We,ze,o,I,B;return K().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,(0,Z.Kb)((0,a.U)(Oe));case 2:if(_e=ee.sent,Re=(0,i.Z)(_e,2),Me=Re[0],We=Re[1],!Me){ee.next=8;break}return ee.abrupt("return");case 8:ze=We.data,o=ze.data,I=o.fields,B=n(I)||{},B&&(Y=!1,V(B));case 13:case"end":return ee.stop()}},ke)})),De.apply(this,arguments)}return le&&Se(le),()=>{Y=!1}},[le]);var ne=w(U,1e3);(0,D.useEffect)(()=>{!Y||(0,a.I)(le,y(U))},[ne]);function we(Se){Y=!0,V(Se)}return _().createElement("div",{className:"SampleProTable_container ".concat(L.className)},_().createElement(f.ZP,(0,v.Z)({size:pe||"middle",rowKey:j||"id",columnEmptyText:R||!1,pagination:W||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:ve,headerTitle:G||"",toolBarRender:X||null,columnsStateMap:U,onColumnsStateChange:we},L,{className:"".concat(H,"-table")})))}},41647:function(ye,q,t){"use strict";t.d(q,{I:function(){return i},U:function(){return T}});var v=t(37055),m=t(10237);function i(K){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=v.ZP.tableHeader.save(),f={fields:D,key:K};return m.WY.post({url:_,data:f})}function T(K){var D=v.ZP.tableHeader.get(K);return m.WY.get({url:D})}},99891:function(ye,q,t){"use strict";var v=t(12924),m=t.n(v),i=t(28216),T=t(91768),K=t(37055),D=t(10237),_=t(60667);class f extends m().PureComponent{constructor(n){super(n);this.getWaterMarkText=y=>{var Z=this.props.userInfo,P=Z.jobNumber,w=localStorage.getItem("waterMarkPostName"),M=[],Y=y.find(L=>L.type==="content_setting"),A=y.find(L=>L.type==="content_custom");return Y.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),A.param.checked==="true"&&A.param.comment[0]!==""&&this.setState({commentText:A.param.comment[0]}),Y.param.comment.indexOf("position")!==-1&&w&&w!==""&&M.push("".concat(w)),Y.param.comment.indexOf("jobnumber")!==-1&&P&&P!==""&&M.push("".concat(P)),M.join("-")},this.getWaterMarkApplication=y=>{var Z=this.props.scenes,P=y.find(w=>w.type==="application_scenario");P.param.comment.indexOf(Z)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=y=>{var Z=y.find(P=>P.type==="dispersive");this.setState({isDispersive:Z.param.checked==="true"})},this.getDynamicSet=()=>{var y=K.ZP.advancedSetting.dynamicWaterMarkNew(),Z={access_token:window.localStorage.getItem("token")};D.WY.get({url:y,params:Z}).then(P=>{var w=JSON.parse(P.data.actions);this.setState({waterMarkText:this.getWaterMarkText(w),actions:w}),this.getWaterMarkApplication(w),this.getWaterIsDispersive(w)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var n=localStorage.getItem("waterMarkPostName");n===""||n===null?this.getPostName():this.getDynamicSet()}getPostName(){var n=K.ZP.advancedSetting.getPostName();D.WY.get({url:n}).then(y=>{localStorage.setItem("waterMarkPostName",y.data.post_names[0]||""),this.getDynamicSet()})}render(){var n=this.state,y=n.showWaterMark,Z=n.waterMarkCount,P=n.isUserName,w=n.isDispersive,M=n.waterMarkText,Y=n.actions,A=n.commentText,L=this.props.userInfo,C=L.name,x=L.unionid,U=L.sourceType;return m().createElement("div",{className:"common-watermark"},y&&new Array(Z).fill(0).map((V,H)=>m().createElement("div",{key:H,className:"common-watermark-item ".concat(w?"isDispersive":"")},m().createElement("span",{className:"common-watermark-item-content"},A!==""&&m().createElement("span",{className:"item-part"},A),P&&m().createElement("span",null,A!==""&&m().createElement("span",null,"-"),m().createElement(_.Z,{dataType:"userName",value:x,name:C,type:U})),m().createElement("span",{className:"item-part"},(P||A!=="")&&M!==""&&m().createElement("span",null,"-"),M)))))}}var a=e=>({userInfo:e.user});q.Z=(0,i.$j)(a)((0,T.Z)()(f))},60667:function(ye,q,t){"use strict";t.d(q,{Z:function(){return f}});var v=t(33565),m=t(12924),i=t.n(m),T=t(28216);function K(a){var e=a.type,n=a.openid,y=a.from,Z=(0,m.useRef)(null);return(0,m.useLayoutEffect)(()=>{y==="vue"?window.parent.WWOpenData.bind(Z.current):WWOpenData.bind(Z.current)}),i().createElement("ww-open-data",{ref:Z,type:e,openid:n})}var D=a=>{var e=a.wxWorkApiFlag,n=a.appType,y=a.from,Z=(0,m.useState)(!1),P=(0,v.Z)(Z,2),w=P[0],M=P[1];(0,m.useEffect)(()=>{var L=localStorage.getItem("qyWechatBook");(n!=="wx_app"||e||L==="false"||y==="vue"||y==="taro")&&M(!0)},[e,n,y]);var Y=(0,m.useCallback)(()=>{var L=a.type,C=a.value,x=a.name,U=x===void 0?"":x;switch(console.warn(a,"props"),L){case"wx_sync":{var V=a.dataType;return C?i().createElement(K,{from:y,type:V,openid:C}):U}default:return U}},[a]),A=()=>{var L=a.name,C=a.dataType,x=localStorage.getItem("qyWechatBook");if(C===""||x==="false")return L;if(y==="vue"||y==="taro")return Y();switch(a.appType){case"wx_app":return Y();default:return L}};return w?A():a.name};D.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var _=a=>({appType:a.user.appType,wxWorkApiFlag:a.user.wxWorkApiFlag}),f=(0,T.$j)(_)(D)},48479:function(ye,q,t){"use strict";var v=t(62029),m=t(57361),i=t(47673),T=t(4107),K=t(9754),D=t.n(K),_=t(12924),f=t.n(_),a=t(91768),e=t(94184),n=t.n(e),y=t(28216),Z=t(84874),P=t(67222),w=t(2396),M=T.Z.Search;class Y extends f().Component{constructor(L){var C;super(L);C=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>f().createElement(Z.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var x=(0,m.Z)(D().mark(function U(V){var H,j,R,W,G,X,pe,ie,ve;return D().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(H=C.props,j=H.appType,R=H.exChange,W=H.appId,G=localStorage.getItem("qyWechatBook"),X="",pe=j==="wx_app"&&G==="true"&&R&&W==="9005",!(V&&pe)){ne.next=17;break}return ne.prev=5,ne.next=8,(0,P.F_)(V);case 8:ie=ne.sent,ve=ie.data,ve.success?X=ve.data:X="",ne.next=17;break;case 13:ne.prev=13,ne.t0=ne.catch(5),console.error(ne.t0),X="";case 17:C.props.onSearch(V,X);case 18:case"end":return ne.stop()}},U,null,[[5,13]])}));return function(U){return x.apply(this,arguments)}}(),this.handleChange=x=>{var U=x.target.value,V=x.type,H=U;this.props.LimitLength&&(0,w.$s)(U)>this.props.LimitLength&&(H=U.substring(0,(0,w.rw)(U,this.props.LimitLength))),this.setState({searchValue:H});var j=!1;this.props.onSearch&&(V==="click"&&(j=!0),this.props.immediate&&V==="change"&&(j=!0)),j&&this.handleSearch(U)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(L){L.onRef&&L.onRef(this)}render(){var L=this.state.searchValue,C=this.props,x=C.prefixCls,U=C.placeholder,V=C.width,H=C.maxLength,j=H===void 0?400:H,R=C.height,W=C.immediate,G=C.value,X=n()(["".concat(x)]),pe={width:V,height:R},ie={};return G&&(ie.value=G),f().createElement(M,(0,v.Z)({className:X,style:pe,value:L,placeholder:U,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:j,allowClear:!0,defaultValue:G,immediate:W.toString()},ie))}}Y.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},q.Z=(0,y.$j)(A=>({appType:A.user.appType,appId:A.user.appId}))((0,a.Z)()(Y))},71068:function(ye,q,t){"use strict";var v=t(66456),m=t(55313),i=t(12924),T=t.n(i),K=t(57119),D=t(91768),_=t(18329);class f extends T().Component{constructor(e){super(e);this.onOk=()=>{this.props.delete(),this.props.cancel()},this.onCancel=()=>{this.props.cancel()},this.state={}}render(){var e=this.props,n=e.record,y=e.columns,Z=e.title,P=e.desc,w=e.visible,M=e.t;return T().createElement(_.ZP,{title:Z,visible:w,pagination:!1,onOk:this.onOk,onCancel:this.onCancel},T().createElement("div",{className:"delete-list-tip"},T().createElement("div",{className:"icon-left"},T().createElement(K.Z,{style:{fontSize:"40px",color:"#faad14"}})),T().createElement("div",{className:"title-info"},T().createElement("span",null,M("personnelDevelope.deleteTitleInfo")),T().createElement("span",null,P))),T().createElement(m.Z,{columns:y,dataSource:n,pagination:!1}))}}q.Z=(0,D.Z)()(f)},76466:function(ye,q,t){"use strict";t.d(q,{Z:function(){return He}});var v=t(20228),m=t(11382),i=t(57663),T=t(71577),K=t(62029),D=t(57361),_=t(9754),f=t.n(_),a=t(12924),e=t.n(a),n=t(91512),y=t(68654),Z=t(91768),P=t(4412),w=t.n(P);class M extends e().Component{render(){var l=this.props.t;return e().createElement("div",{className:"net-preview"},e().createElement("div",{className:"net-preview-center"},e().createElement("img",{src:w(),alt:"picture"}),e().createElement("h2",null,l("localStorage.tip")),e().createElement("p",null,l("localStorage.banPreview"))))}}var Y=(0,Z.Z)()(M),A=t(88986),L=t(34792),C=t(48086),x=t(28216),U=t(21594),V=t(41225),H=t(10237),j=(te,l)=>(0,A.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),R=j;class W extends a.Component{constructor(){super(...arguments);this.setupPlayer=l=>{var c=this.props,s=c.onVideoReady,r=s===void 0?()=>{}:s,p=c.playerConfig,u=c.contentType;l&&l==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,A.Z)((0,A.Z)({},p),{},{contentType:u==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:p.source,autoplay:p.autoplay,width:p.width,id:p.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:d=>{d.on("sourceloaded",g=>{var h=g.paramData,b=h.desc,O=h.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(b,O,p.id)}),d.on("ready",()=>{r()}),this.playerInstance=d,this.setPlayerConfig()}}))}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(l){this.player&&this.player.seek(l)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(l){this.player.setSpeed(l)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var l=this.props,c=l.onPlay,s=c===void 0?()=>{}:c,r=l.onTimeUpDate,p=r===void 0?()=>{}:r,u=l.onEnd,d=u===void 0?()=>{}:u,g=l.onPause,h=g===void 0?()=>{}:g,b=l.onError,O=b===void 0?()=>{}:b,N=this.playerInstance;N.on("play",()=>{s()}),N.on("pause",()=>{h()}),N.on("timeupdate",E=>{p(E)}),N.on("ended",()=>{d()}),N.on("error",(0,D.Z)(f().mark(function E(){return f().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:O();case 1:case"end":return Q.stop()}},E)})))}render(){var l=this.props.playerConfig;return e().createElement("div",{className:"common-video-player-container"},e().createElement("div",{id:l.id}))}}W.playerInstance=null,W.defaultProps={playerConfig:R(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var G=W,X=(te,l)=>(0,A.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),pe=X;class ie extends a.Component{constructor(){super(...arguments);this.setupPlayer=l=>{l&&l==="resetPlayer"&&this.player.dispose();var c=this.props,s=c.playerConfig,r=c.onVideoReady,p=r===void 0?()=>{}:r;this.player=new Aliplayer(s,u=>{u.on("sourceloaded",d=>{var g=d.paramData,h=g.desc,b=g.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(h,b,s.id)})}),this.player.on("ready",()=>{p()})},this.setPlayerConfig=()=>{var l=this.props,c=l.onPlay,s=c===void 0?()=>{}:c,r=l.onTimeUpDate,p=r===void 0?()=>{}:r,u=l.onEnd,d=u===void 0?()=>{}:u,g=l.onPause,h=g===void 0?()=>{}:g,b=l.onError,O=b===void 0?()=>{}:b;this.player.on("play",()=>{s()}),this.player.on("pause",()=>{h()}),this.player.on("timeupdate",N=>{p(N)}),this.player.on("ended",()=>{d()}),this.player.on("error",(0,D.Z)(f().mark(function N(){return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:O();case 1:case"end":return k.stop()}},N)})))},this.getPlayerContent=l=>{this.playerContainer=l}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(l){this.player.seek(l)}exitFull(){var l=this.player.fullscreenService;l&&l.isFullScreen&&l.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var l=this.props.playerConfig;return e().createElement("div",{className:"common-video-player-container"},e().createElement("div",{id:l.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}ie.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:pe()};var ve=ie;class le{constructor(l){this.hasCreated=!1,this.definition="",this.getQuality=l}createEl(l,c){var s=c._options&&c._options.language,r=c._el.id;this.isEn=s&&s==="en-us";var p=(0,U.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),u=(0,U.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),d=document.querySelector("#".concat(r," .prism-controlbar"));d.appendChild(p),l.appendChild(u)}setCurrentQuality(l,c,s){var r=document.querySelector("#".concat(s," .current-quality"));r.innerText=l,r.dataset.def=c,this.definition=c;var p=document.querySelector("#".concat(s," .quality-list")),u=p.querySelector(".current");u&&(u.className="");var d=p.querySelector('li[data-def="'.concat(c,'"]'));d&&(d.className="current")}created(l){this._urls=l._urls;var c=l._el.id,s=document.querySelector("#".concat(c," .current-quality")),r=document.querySelector("#".concat(c," .quality-list")),p=document.querySelector("#".concat(c," .quality-modal")),u=this._urls.map(h=>'<li data-def="'.concat(h.definition,'">').concat(h.desc,"</li>"));if(r.innerHTML=u.join(""),this.hasCreated==!1&&this.definition){var d=r.querySelector('li[data-def="'.concat(this.definition,'"]'));d.className="current"}this.hasCreated=!0;var g=null;s.onclick=()=>{r.style.display="block"},s.onmouseleave=()=>{g=setTimeout(()=>{r.style.display="none"},100)},r.onmouseenter=()=>{clearTimeout(g)},r.onmouseleave=()=>{r.style.display="none"},r.onclick=h=>{var b=h.target,O=b.dataset.def,N=b.innerText;if(O&&b.className!=="current"){var E=this._urls.find(k=>k.definition===O);l.loadByUrl(E.Url,l.getCurrentTime(),!0,!0),this.setCurrentQuality(E.desc,E.definition,c),p.style.display="block",p.querySelector("span.current-quality-tag").innerText=E.desc}this.getQuality(O,N)}}ready(l){var c=l._el.id,s=document.querySelector("#".concat(c," .quality-modal"));s.style.display="none";var r=document.querySelector("#".concat(c," .prism-setting-item.prism-setting-quality"));r&&r.classList.add("player-hidden")}}class ne{createEl(l,c){var s=c._el.id,r=(0,U.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),p=document.querySelector("#".concat(s," .prism-controlbar"));p.appendChild(r)}ready(l){var c=l._el.id,s=document.querySelector("#".concat(c," .current-rate")),r=document.querySelector("#".concat(c," .rate-list")),p=null,u=document.querySelector("#".concat(c," .prism-setting-item.prism-setting-speed"));u&&u.classList.add("player-hidden"),s.onclick=()=>{r.style.display="block"},s.onmouseleave=()=>{p=setTimeout(()=>{r.style.display="none"},100)},r.onmouseenter=()=>{clearTimeout(p)},r.onmouseleave=()=>{r.style.display="none"},r.onclick=d=>{var g=d.target,h=g.dataset.rate;if(h){if(l.setSpeed(h),g.className!=="current"){var b=r.querySelector(".current");b&&(b.className=""),g.className="current"}r.style.display="none",s.innerText="".concat(h,"x")}}}}var we=t(69164),Se=t(37055);function De(te){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=Se.ZP.local.getLocalUrl(te);return H.WY.get({url:c,params:l})}var ke=t(91648),Oe=t(18329),_e=t(38642),Re=t(9849),Me=t(99891);class We extends a.Component{constructor(l){super();this.WaterMarkText=l,this.html=document.getElementsByClassName("common-watermark")}createEl(l){setTimeout(()=>{l.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var ze=We,o=te=>({userInfo:te.user});class I extends a.Component{constructor(l){var c;super(l);c=this,this.onVideoReady=s=>{var r=this.props,p=r.resourceInfo,u=r.mode,d=r.autoPlay,g=r.t,h=p.storageType;s==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(s),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(u==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),u==="preview"&&d&&this.play.play()):h==="ALIBABA_PRIVATE"||h==="LOCAL"?this.updateSource("resetPlayer"):(H.WY.logger({keyword:"video",moduleName:"video-play",msg:g("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var s=this.props,r=s.draggable,p=s.mode,u=s.t,d=s.studyInfo,g=s.needCurrentTime,h=s.onCurrentTime,b=h===void 0?()=>{}:h,O=d.studyType,N=d.studyId,E=d.resourceId,k=this.state,Q=k.showPreventHang,re=k.dragSwitch,me=k.showRandomAlert,he=k.randomAlertDialogVisible,$=this.playingVideo,Le=$.oneTime,xe=$.popupWindowCount,Ze=$.maxPlayTime,$e=$.progress,je=$.auditionLength,Fe=$.auditionType,Ke=$.duration,Ye=$.recentStart,Ce=this.play.getCurrentTime(),Ee=(Q==="OPEN"||me==="OPEN")&&xe>0;if(g&&b(Ce),je>0&&Fe===2&&Ce>je&&(this.play.seek(je),C.default.warning(u("component.haveALookOverTip")),this.play.pause()),p==="learn"&&Ee){var et=Ke-Le*xe;if(xe>0&&Ce>et)if(this.play.pause(),me==="OPEN"){if(!he){var Qe=(0,ke.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Qe},()=>{(0,V.qp)({popupId:Qe,planId:N,resourceId:E,type:"popup_start"})}),this.play.exitFull()}}else Q==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((r||$e===100)&&(Ce>0&&(this.playingVideo.recentStart=Ce),!((O==="enterprise"||O==="studyProject")&&re==="OPEN")))return!1;Ce>Ze?Ce-Ye>2?(this.playingVideo.recentStart=Ze,this.play.seek(Ze),C.default.warning(u("component.preventFastWatchTip"))):(this.playingVideo.recentStart=Ce,this.playingVideo.maxPlayTime=Ce):Ce>0&&Ce>this.playingVideo.recentStart&&(this.playingVideo.recentStart=Ce)},this.onPlay=()=>{var s=this.props,r=s.mode,p=s.onPlay,u=p===void 0?()=>{}:p;u();var d=this;r==="learn"&&!d.timer&&(d.timer=setTimeout(function g(){d.saveProgress(),clearTimeout(d.timer),d.timer=setTimeout(g,2e4)},2e4))},this.onPause=()=>{var s=this.props,r=s.studyInfo,p=s.mode,u=r.studyType;clearTimeout(this.timer),this.timer=null,p==="learn"&&(u==="platform"||u==="enterprise"||u==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var s=this.props.mode;s==="learn"&&this.saveProgress()},this.onError=s=>{var r=this.props.resourceInfo,p=r.storageType;(p==="ALIBABA_PRIVATE"||p==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var s=this.props.mode;this.initPlayVideo(),s==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var s=this.state,r=s.showPreventHang,p=s.showRandomAlert,u=this.props,d=u.t,g=u.playingVideo,h=u.studyInfo,b=u.autoPlay,O=g.recentStart,N=g.duration,E=g.progress,k=h.studyType,Q=(r==="OPEN"||p==="OPEN")&&(k==="studyTask"||k==="enterprise"||k==="studyProject")&&E<100;Q?(p==="OPEN"?this.setState({promptMessage:d("component.preventAlertTip"),dialogVisible:!0}):r==="OPEN"&&this.setState({promptMessage:d("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):b&&(this.play.play(),Math.ceil(O)<parseInt(N)&&this.play.seek(O))},this.playerShowPreventHang=()=>{var s=this.playingVideo,r=s.duration,p=s.recentStart,u=0;r>0&&r<180?(u=r/2,this.playingVideo.oneTime=u,p>=u?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):r>=180&&r<600?(u=r/3,this.playingVideo.oneTime=u,p>=2*u?this.playingVideo.popupWindowCount=0:p>=u?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(u=r/4,this.playingVideo.oneTime=u,p>=3*u?this.playingVideo.popupWindowCount=0:p>=2*u?this.playingVideo.popupWindowCount=1:p>=u?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var s=this.props,r=s.playingVideo,p=s.mode;if(p==="learn"){this.playingVideo=(0,A.Z)({},r);var u=r.duration,d=r.progress;this.playingVideo.hasFinished=parseInt(d)===100,this.playingVideo.maxPlayTime=parseInt(u)*parseInt(d)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,D.Z)(f().mark(function s(){var r,p,u,d,g,h,b,O,N,E,k,Q,re,me,he,$,Le,xe,Ze,$e,je,Fe,Ke,Ye;return f().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(r=c.state,p=r.speedSwitch,u=r.dragSwitch,d=r.whiteList,g=c.props,h=g.resourceInfo,b=g.showQuality,O=h.contentType,N=h.storageType,E=h.source,k=h.playId,Q=h.playerId,re=h.showFullScreen,me=re===void 0?!0:re,he=pe(Q),he.components=[],$=typeof E=="object"&&E.hasOwnProperty("FD")&&E.FD.indexOf("m3u8")===-1,b&&$&&O!=="mp3"&&(N&&N==="PUBLIC_CLOUD"||!N)&&he.components.push({name:"VideoQuality",type:le,args:[()=>{c.play.pause(),c.playingVideo.readyCount=0}]}),p==="OPEN"&&he.components.push({name:"VideoRate",type:ne}),me&&(Le=he.skinLayout.find(et=>et.name==="controlBar"),Le&&Le.children.splice(Le.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),he.components.push({name:"VideoWaterMark",type:ze}),xe=E.FD,Ze=E.OD,xe.indexOf("http://")>-1&&(xe=xe.replace("http://","https://")),Ze.indexOf("http://")>-1&&(Ze=Ze.replace("http://","https://")),$e=d.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",E.OD=Ze&&Ze.indexOf($e)>-1&&Ze.indexOf(".mp4")>-1?Ze:xe,E.FD=xe,je=typeof E!="string"?JSON.stringify(E):E,he.source=je,u==="OPEN"&&(he.disableSeek=!0),N!=="ALIBABA_PRIVATE"){Ee.next=32;break}return Ee.next=22,(0,V.BR)(k);case 22:if(Fe=Ee.sent,!Fe){Ee.next=28;break}he.source=Fe,he.vodRetry=1,Ee.next=30;break;case 28:return c.setState({showPrivateVodError:!0}),Ee.abrupt("return");case 30:Ee.next=38;break;case 32:if(N!=="LOCAL"){Ee.next=38;break}return Ee.next=35,De(k);case 35:Ke=Ee.sent,Ye=Ke.data,Ye.code===0&&(he.source="".concat(E.FD,"?auth_key=").concat(Ye.data.auth_key),he.vodRetry=1);case 38:c.setState({playerConfig:he});case 39:case"end":return Ee.stop()}},s)})),this.updateSource=function(){var s=(0,D.Z)(f().mark(function r(p){var u,d,g,h,b,O,N,E;return f().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(u=c.state.playerConfig,d=c.props.resourceInfo,g=d.storageType,h=d.source,b=d.playId,c.playingVideo.readyCount=0,g!=="ALIBABA_PRIVATE"){Q.next=16;break}return Q.next=7,(0,V.BR)(b);case 7:if(O=Q.sent,!O){Q.next=12;break}Object.assign(u,{source:O,vodRetry:1}),Q.next=14;break;case 12:return c.setState({showPrivateVodError:!0}),Q.abrupt("return");case 14:Q.next=22;break;case 16:if(g!=="LOCAL"){Q.next=22;break}return Q.next=19,De(b);case 19:N=Q.sent,E=N.data,E.code===0&&Object.assign(u,{source:"".concat(h.FD,"?auth_key=").concat(E.data.auth_key),vodRetry:1});case 22:c.setState({playerConfig:u},()=>{c.play.setupPlayer(p)});case 23:case"end":return Q.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),this.saveProgress=()=>{var s=this.props,r=s.studyInfo,p=s.userInfo,u=p.isLogin,d=p.enterpriseId,g=p.id,h=this.playingVideo,b=h.recentStart,O=h.duration,N=h.hasFinished,E=Math.ceil(+b);E>Number(O)&&(E=Number(O));var k=Math.ceil(E/+O*100);if((k>100||N)&&(k=100),u){var Q=this.playingVideo,re=Q.auditionType,me=Q.auditionLength;if(me>0&&re===2){var he=Math.ceil(me/O*100);he<=k&&(k=he,E=me)}(0,V.sH)({studyInfo:r,progress:k,recent_start:E,enterpriseId:d,userId:g}).then($=>{$&&$.data&&(0,we.Z)($.data.integral_info||"")})}},this.getInfoFromSettings=(0,D.Z)(f().mark(function s(){var r,p,u,d,g,h,b,O,N;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return r=c.props.studyInfo,p=r.studyType,u=r.projectId,k.next=4,(0,V.Gw)();case 4:if(d=k.sent,g=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],h=(0,U.RG)(d,g),p!=="studyProject"){k.next=14;break}return k.next=10,(0,Re.NU)({id:u});case 10:b=k.sent,O=b.status,N=b.data,O===200&&(h.showPreventHang=N.prevent_cut_screen?"OPEN":"CLOSED",h.speedSwitch=N.speed_play?"OPEN":"CLOSED",h.dragSwitch=N.prevent_drag?"OPEN":"CLOSED");case 14:c.setState(h,()=>{c.dealVideoConfig()});case 15:case"end":return k.stop()}},s)})),this.dealAudioPoster=()=>{var s=this.props.resourceInfo.contentType,r=s===void 0?"":s;this.setState({showAudioPoster:r==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var s=this.state.showAudioPoster,r=this.play.playerContainer;s&&r&&(r.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),r.style.backgroundSize="cover")},this.getPlayInstance=s=>{this.play=s},this.handleOk=()=>{this.setState({dialogVisible:!1});var s=this.state.btnType,r=this.playingVideo.recentStart,p=this.props.t;s==="know"?(this.play.play(),this.play.seek(r),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:p("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,D.Z)(f().mark(function s(){var r,p,u,d;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:r=c.props.studyInfo,p=r.studyId,u=r.resourceId,d=c.state.randomAlertUUID,(0,V.qp)({popupId:d,planId:p,resourceId:u,type:"popup_end"}).then(()=>{c.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),c.playingVideo.popupWindowCount-=1,c.play.play();case 6:case"end":return h.stop()}},s)})),this.renderFooter=()=>{var s=this.state.btnType,r=this.props.t;return e().createElement(T.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(s)},r(s==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var s=this.props.t;return e().createElement(T.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},s("common.ok"))},this.state={playerConfig:pe(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:l.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:l.t("component.randomAlertTip"),randomAlertModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,_e.UI)("CL_VIDEO_BAIYING_COM_CN")}},l.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(l){var c=typeof l.resourceInfo.source!="string"?JSON.stringify(l.resourceInfo.source):l.resourceInfo.source,s=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;c!==s&&s!==""&&this.initInfo()}componentWillUnmount(){var l=this.props.mode;l==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var l=this.state,c=l.playerConfig,s=l.showPrivateVodError,r=l.dialogVisible,p=l.dialogModal,u=l.promptMessage,d=l.randomAlertDialogVisible,g=l.randomAlertModal,h=l.randomAlertTip,b=l.encryptedSwitch,O=this.props,N=O.resourceInfo,E=O.t,k=b==="OPEN"?G:ve;return e().createElement(a.Fragment,null,e().createElement(k,(0,K.Z)({ref:this.getPlayInstance},N,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:c,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),e().createElement(Oe.ZP,(0,K.Z)({visible:r},p,{footer:this.renderFooter()}),e().createElement("div",{className:"video-business-prompt"},u)),e().createElement(Oe.ZP,(0,K.Z)({visible:d},g,{footer:this.renderRandomFooter()}),e().createElement("div",{className:"video-player-container__prompt"},h)),s&&e().createElement("div",{className:"video-business-vod-error"},E("privateCloud.docReadError")),e().createElement(Me.Z,{scenes:"video"}))}}var B=(0,x.$j)(o,null,null,{forwardRef:!0})((0,Z.Z)("translation",{withRef:!0})(I)),J=t(94184),ee=t.n(J),ce=t(84874),ge=te=>({userInfo:te.user}),fe={getPravateDocUrl:Se.ZP.localStorage.getPravateDocUrl};function Ne(te){return JSON.stringify(te,(l,c)=>(typeof c=="function"&&(c=c.toString()),c))}function Ge(te){var l=parseInt(parseInt(te,10)/60,10),c=parseInt(parseInt(te,10)%60,10);return l<10&&(l="0".concat(l)),c<10&&(c="0".concat(c)),"".concat(l,":").concat(c)}class Xe extends a.Component{constructor(l){var c;super(l);c=this,this.messageFun=s=>{var r=this.props,p=r.docType,u=r.progress,d=r.studyTimeLimit,g=r.studyTime,h=this.state,b=h.jumpPageTag,O=h.totalTime,N=h.timeRemaining,E=this.state.previewDocData,k={};try{k=JSON.parse(s.data)}catch(Q){return}switch(k.action){case"preview.ready":this.initDocData();break;case"preview.meta":E.totalPage=k.data.pc||1,E.currentPage=1,this.setState({previewDocData:E},()=>{this.reportStatusInterval()}),d>0?(this.saveProgress(u,g||"1",k.data.pc||1),this.setState({showCountDownContainer:!0})):p==="xlsx"||p==="xls"||E.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(u,g||"1",k.data.pc||1),d>0&&u<100?(this.setState({showCountDown:!0}),p==="xlsx"||p==="xls"?O=d:O=d*k.data.pc,N=parseInt(O*(1-u/100),10),this.setState({timeRemaining:N,totalTime:O},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(b){b=!1,this.setState({jumpPageTag:b});return}E.currentPage=k.data.pageIndex+1,this.setState({previewDocData:E}),d||this.saveProgress(Math.ceil(E.currentPage/E.totalPage*100),E.currentPage,E.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(k.data.result);break;default:break}},this.initDocData=(0,D.Z)(f().mark(function s(){var r,p,u,d,g,h,b,O,N,E,k,Q,re,me;return f().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(c.setState({isShowPrivateError:!1}),r=c.props,p=r.docType,u=r.userInfo,d=r.documentWatermarkSettings,g=r.storageType,h=r.privateDocId,b=u.name,O=u.jobNumber,N=u.position,E="",k={},g!=="ALIBABA_PRIVATE"){$.next=18;break}return $.prev=6,Q=fe.getPravateDocUrl(h),$.next=10,H.WY.get({url:Q});case 10:re=$.sent,me=re.data,me.code===0?k=me.data||{}:c.setState({isShowPrivateError:!0}),$.next=18;break;case 15:$.prev=15,$.t0=$.catch(6),c.setState({isShowPrivateError:!0});case 18:if(d.indexOf("name")>-1&&(E="".concat(E+b," ")),d.indexOf("position")>-1&&(E="".concat(E+N," ")),d.indexOf("jobnumber")>-1&&(E+=O),E.length>0?window.sendMessage("preview.init",(0,A.Z)({wmType:1,wmValue:E,wmColor:"rgba(192, 192, 192, 0.4)"},k)):window.sendMessage("preview.init",(0,A.Z)({},k)),p!=="xlsx"&&p!=="ppt"&&p!=="pptx"&&p!=="xls"?c.setState({pageOperateContainerVisible:!0}):c.setState({pageOperateContainerVisible:!1}),!(p==="ppt"||p==="pptx")){$.next=29;break}$.t1=window,$.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},$.t1.sendMessage.call($.t1,"setConfig",$.t2),$.next=32;break;case 29:$.t3=window,$.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},$.t3.sendMessage.call($.t3,"setConfig",$.t4);case 32:case"end":return $.stop()}},s,null,[[6,15]])})),this.handleJumpPage=s=>{var r=this.state.previewDocData;r.currentPage=s,this.setState({jumpPageTag:!0,previewDocData:r});var p=s/r.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(p),s,r.totalPage),window.sendMessage("logic.toPage",{pageIndex:s-1})},this.redirectPage=()=>{var s=this.props,r=s.studyTimeLimit,p=s.studyTime,u=0;r===0&&(u=p-1>0?p-1:0),window.sendMessage("logic.toPage",{pageIndex:u})},this.docCountDown=()=>{var s=this.state.timeRemaining,r=this.state,p=r.totalTime,u=r.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{s-=1,this.setState({timeRemaining:s}),s<1&&(this.saveProgress(100,0,u.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var d=(p-s)/p*100;s<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(d),s,u.totalPage)},2e4)},this.saveProgress=(s,r,p)=>{var u=this.props.onSaveProgress;u&&u(s,r,p)},this.reportStatusInterval=()=>{var s=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var r=this.state.previewDocData.currentPage;s&&s({currentPage:r})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=s=>{this.docReader=s},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(l,c)=>{var s=this.docReader.contentWindow;s.postMessage(Ne({action:l,data:c}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var l=this.props,c=l.t,s=l.storageType,r=l.privateDocId,p=this.props.aliUrl,u=this.state,d=u.previewDocData,g=u.pageOperateContainerVisible,h=u.timeRemaining,b=u.showCountDown,O=u.showCountDownContainer,N=u.showPageOperateContainer,E=u.isShowPrivateError;return s==="ALIBABA_PRIVATE"&&(p="https://preview.imm.aliyuncs.com/index.html?docId=".concat(r)),e().createElement("div",{className:"doc-reader-container"},e().createElement("div",{className:"ali-doc-container",style:{paddingBottom:g?"56px":"0"}},e().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:p,id:"aliyunPreview",ref:this.dealPreviewRef}),O?e().createElement("div",{className:"ali-doc-container__countdown"},b?e().createElement("div",null,e().createElement(ce.Z,{iconClass:"iconf-tipe",size:"16px"}),c("component.docStillStudy"),e().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Ge(h)," "),c("component.canDone")):e().createElement("div",null,e().createElement(ce.Z,{iconClass:"iconf-tipe",size:"16px"}),c("component.docHasFinish"))):null,g?e().createElement("div",{className:"ali-doc__operate"},e().createElement("div",{className:ee()(["ali-doc__operate__content",N?"":"ali-doc__operate__hide-content"])},e().createElement("div",{className:"ali-doc__operate__pagination"},e().createElement("div",{className:"ali-doc__operate__pagination__pages"},d.currentPage," / ",d.totalPage),e().createElement("div",{className:"ali-doc__operate__pagination__toggle"},e().createElement("div",{className:"ali-doc__operate__pagination__choose"},e().createElement("span",null,c("component.choosePage"),e().createElement(ce.Z,{iconClass:"iconf-arrow-under",size:"14px"})),e().createElement("div",{className:"ali-doc__operate__page-list-container"},e().createElement("div",{className:"ali-doc__operate__choose-page"},c("component.fastChoosePage")),e().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:d.totalPage})).map((k,Q)=>e().createElement("li",{key:k,onClick:()=>this.handleJumpPage(Q+1)},Q+1))))),e().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},c("common.collapse"))))),e().createElement("div",{className:ee()("ali-doc__operate__unfold",N?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},c("common.expand"))):null,E&&e().createElement("div",{className:"ali-doc__error"},c("privateCloud.docReadError"))),e().createElement(Me.Z,{scenes:"document"}))}}Xe.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var tt=(0,x.$j)(ge)((0,Z.Z)()(Xe)),at=te=>({userInfo:te.user}),rt="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Je="".concat("https://doc.coolcollege.cn");class nt extends e().Component{constructor(l){var c;super(l);c=this,this.onSaveProgress=(s,r,p)=>{var u=this.props,d=u.mode,g=u.studyInfo,h=u.userInfo,b=h.enterpriseId,O=h.id;d==="learn"&&(0,V.sH)({studyInfo:g,progress:s,page_count:p,recent_start:r,enterpriseId:b,userId:O}).then(N=>{N&&N.data&&(0,we.Z)(N.data.integral_info||"")})},this.messageFun=function(){var s=(0,D.Z)(f().mark(function r(p){var u,d,g,h,b,O;return f().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(p.data!=="local-resource"){E.next=9;break}if(u=c.props.resourceInfo,d=u.storageType,g=u.playId,!(d&&d==="LOCAL")){E.next=9;break}return E.next=6,De(g);case 6:h=E.sent,b=h.data,b.code===0&&(O=document.getElementById("local-resource-box"),O.contentWindow.postMessage({msg:"local-auth-key",authKey:b.data.auth_key},"*"));case 9:case"end":return E.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),this.getInfoFromSettings=(0,D.Z)(f().mark(function s(){var r,p,u;return f().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,V.Gw)();case 2:r=g.sent,p=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],u=(0,U.RG)(r,p),c.setState(u,()=>{c.initDocPage(c.props)});case 6:case"end":return g.stop()}},s)})),this.initDocPage=(0,D.Z)(f().mark(function s(){var r,p,u,d,g,h,b,O,N,E,k,Q,re,me,he,$,Le,xe,Ze,$e,je,Fe,Ke,Ye,Ce,Ee,et,Qe,vt,ct,pt,ut,dt,ht,mt=arguments;return f().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(r=mt.length>0&&mt[0]!==void 0?mt[0]:{},p=r.resourceInfo,u=r.mode,d=r.studyInfo,g=r.userInfo,h=c.state.documentPlayerMode,b=p.docType,O=p.docTitle,N=p.url,E=p.studyTimeLimit,k=p.studyTime,Q=p.aliUrl,re=p.progress,me=p.storageType,he=p.playId,$=d.studyType,Le=d.courseId,xe=d.studyId,Ze=d.resourceId,$e=g.enterpriseId,je=g.id,Fe=g.isLogin,Ke=g.token,Ye=h==="compat"&&Q.indexOf("preview.imm.aliyun")>-1||me==="ALIBABA_PRIVATE",!Ye){Ve.next=11;break}c.setState({showAliReader:!0}),Ve.next=31;break;case 11:if(Ce=(0,V.sH)({enterpriseId:$e,userId:je,token:Ke,studyInfo:d},!0),Ee=$==="studyTask"?2:1,et=Se.ZP.SaveProgress.reportStatusInterval(d),Qe={isSaveProgress:Fe&&u==="learn"&&Ce,isSaveRecord:!1,access_token:Ke,userId:je,hostUrl:rt,courseId:Le,resourceId:Ze,courseType:1,planId:xe,studyTimeLimit:E,studyTime:k,saveProgressUrl:Ce,type:"eapp",progress:re,saveRecordProgressUrl:et,actionType:Ee},!(me&&me==="LOCAL")){Ve.next=26;break}return Ve.next=18,De(he);case 18:if(vt=Ve.sent,ct=vt.data,ct.code!==0){Ve.next=25;break}Qe.auth_key=ct.data.auth_key,Qe.url=N,Ve.next=26;break;case 25:return Ve.abrupt("return");case 26:pt=JSON.stringify(Qe),ut="".concat(O,".").concat(b).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),dt="".concat(Je,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(pt),"&furl=").concat(N,"?attname=").concat(ut),me&&me==="LOCAL"&&(ht="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),dt="".concat(ht,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(pt),"&furl=").concat(N,"?attname=").concat(ut)),c.setState({encodeUrl:dt});case 31:case"end":return Ve.stop()}},s)})),this.handleReportStatusInterval=s=>{var r=s.currentPage,p=this.props,u=p.resourceInfo,d=p.mode,g=p.studyInfo,h=p.userInfo,b=u.type,O=g.courseId,N=g.studyId,E=g.resourceId,k=h.enterpriseId,Q=h.id,re=h.isLogin,me="",he="",$=0,Le=!1;switch(b){case"enterprise":$=1,Le=!0;break;case"study":me=N,$=2,Le=!0;break;case"project":he=N,$=1,Le=!0;break;default:break}if(!(!Le||!re)){var xe={plan_id:me,enterprise_id:k,user_id:Q,course_id:O,project_course_id:he,resource_id:E,current_page:r,action_type:$,send_time:Date.parse(new Date)};d==="learn"&&(0,V.Xc)(g,xe)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(l){this.initDocPage(l)}render(){var l=this.props.resourceInfo,c=this.state,s=c.encodeUrl,r=c.documentWatermarkSettings,p=c.showAliReader,u=l.docType,d=l.type,g=l.studyTimeLimit,h=l.studyTime,b=l.aliUrl,O=l.progress,N=l.storageType,E=l.playId;return p?e().createElement(tt,{privateDocId:E,storageType:N,aliUrl:b,docType:u,progress:O,studyTime:h,studyTimeLimit:g,documentWatermarkSettings:r,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:d}):e().createElement("div",{className:"doc-reader-container"},e().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:s,frameBorder:"0",allowFullScreen:!0}),e().createElement(Me.Z,{scenes:"document"}))}}var Ie=(0,x.$j)(at)(nt),se=t(38979),S=t(90706),z=t(12968),F=t(44208),ae=t(60667),de=te=>({userInfo:te.user});class Ae extends e().Component{constructor(){var l;super(...arguments);l=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var c=this.props,s=c.studyInfo,r=c.mode,p=c.userInfo,u=p.enterpriseId,d=p.id;r==="learn"&&(0,U.Gp)({studyInfo:s,enterpriseId:u,userId:d})},this.getInfoFromSettings=(0,D.Z)(f().mark(function c(){var s,r,p;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,V.Gw)();case 2:s=d.sent,r=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],p=(0,U.RG)(s,r),l.setState(p,()=>{l.renderWatermark()});case 6:case"end":return d.stop()}},c)})),this.renderWatermark=()=>{var c=this.props.userInfo,s=this.state.imageWatermark,r=c.name,p=c.unionid,u=c.sourceType,d=c.jobNumber,g=c.position,h=[];s.indexOf("name")>-1&&h.push(e().createElement(ae.Z,{dataType:"userName",value:p,name:r,type:u})),s.indexOf("position")>-1&&h.push(e().createElement("span",null,g)),s.indexOf("jobnumber")>-1&&h.push(e().createElement("span",null,d)),s.length>0&&this.setState({watermark:h.map((b,O)=>e().createElement("span",{key:O},b))})},this.handleError=c=>{var s=this.props.onError;s&&s(c)},this.getImageUrl=(0,D.Z)(f().mark(function c(){var s,r,p,u,d,g,h,b,O,N;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(s=l.props,r=s.resourceInfo,p=s.t,u=r.playId,d=r.url,g=r.storageType,h=d,!g){k.next=21;break}if(g!=="ALIBABA_PRIVATE"){k.next=15;break}return k.next=7,(0,V.J7)(u);case 7:if(b=k.sent,!b){k.next=12;break}h=b,k.next=13;break;case 12:return k.abrupt("return",C.default.info(p("privateCloud.docReadError")));case 13:k.next=21;break;case 15:if(g!=="LOCAL"){k.next=21;break}return k.next=18,De(u);case 18:O=k.sent,N=O.data,N.code===0&&(h="".concat(d,"?auth_key=").concat(N.data.auth_key));case 21:l.setState({imageUrl:[h]},()=>{var Q=l.state.imageUrl,re="image-business",me=document.querySelectorAll(".".concat(re,"-image img"));me.forEach((he,$)=>{he.onerror=()=>{l.handleError(Q[$])}})});case 22:case"end":return k.stop()}},c)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var l="image-business",c=this.props.resourceInfo,s=c.preview,r=s===void 0?!1:s,p=this.state,u=p.watermark,d=p.imageUrl;return e().createElement("div",{className:l},e().createElement(Me.Z,{scenes:"image"}),e().createElement(S.Z,{className:"".concat(l,"-carousel")},d.map((g,h)=>e().createElement("div",{className:"".concat(l,"-image"),key:h.toString()},e().createElement(F.Z,{src:g,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:r})))))}}Ae.defaultProps={prefixCls:"watch-image-page"};var Ue=(0,x.$j)(de)((0,Z.Z)()(Ae)),Be=te=>({userInfo:te.user});class Pe extends e().Component{constructor(){var l;super(...arguments);l=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,D.Z)(f().mark(function c(){var s,r,p;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,V.Gw)();case 2:s=d.sent,r=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],p=(0,U.RG)(s,r),l.setState(p,()=>{l.renderWatermark()});case 6:case"end":return d.stop()}},c)})),this.renderWatermark=()=>{var c=this.props.userInfo,s=this.state.htmlWatermark,r=c.name,p=c.unionid,u=c.sourceType,d=c.jobNumber,g=c.position,h=[];s.indexOf("name")>-1&&h.push(e().createElement(ae.Z,{dataType:"userName",value:p,name:r,type:u})),s.indexOf("position")>-1&&h.push(e().createElement("span",null,g)),s.indexOf("jobnumber")>-1&&h.push(e().createElement("span",null,d)),s.length>0&&this.setState({watermark:h.map((b,O)=>e().createElement("span",{key:O},b))})},this.saveProgress=()=>{var c=this.props,s=c.studyInfo,r=c.mode,p=c.userInfo,u=p.enterpriseId,d=p.id;r==="learn"&&(0,U.Gp)({studyInfo:s,enterpriseId:u,userId:d})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var l="html-business",c=this.props.resourceInfo,s=c.url,r=this.state.watermark;return e().createElement("div",{className:l},e().createElement("div",{className:"".concat(l,"__html-watermark")},r),e().createElement("iframe",{title:"html",className:"".concat(l,"_iframe"),src:s}))}}var be=(0,x.$j)(Be)((0,Z.Z)()(Pe)),qe=t(57068),st=t(1164),ot=te=>({userInfo:te.user});class it extends e().PureComponent{constructor(){super(...arguments);this.getHost=l=>{var c=l.split("//"),s=c[1].split("/");return[c[0],s[0]].join("//")},this.getScormUrl=()=>{var l=this.props,c=l.studyInfo,s=l.mode,r=l.userInfo,p=l.resourceInfo,u=l.from,d=r.enterpriseId,g=r.id,h=p.url,b=this.getHost(h);if(s==="learn"){var O=(0,A.Z)({userId:g,enterpriseId:d,access_token:localStorage.token,from:u,scormUrl:encodeURIComponent(h),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},c);return"".concat(b).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(qe.stringify(O))}return"".concat(b,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(h))},this.handleOpenScormLink=l=>{st.Z.targetTo({path:l,isExternalLink:!0})}}render(){var l=this.props.t,c="scorm-business",s=this.getScormUrl(),r=(0,_e.UI)("SCORM_EXTERNAL_WATCH");return e().createElement("div",{className:c},r?e().createElement("div",{className:"".concat(c,"_scorm")},e().createElement("img",{className:"".concat(c,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),e().createElement("h5",null,l("resourcePlay.scormTip")),e().createElement(T.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(s)},l("resourceLibrary.h5LinkPlayButton"))):e().createElement("iframe",{title:"scorm",className:"".concat(c,"_iframe"),src:s}))}}var lt=(0,x.$j)(ot)((0,Z.Z)()(it));class ue extends e().Component{render(){var l=this.props,c=l.visible,s=l.title,r=l.onCancel,p=l.t,u=e().createElement("span",null,s);return e().createElement(Oe.ZP,{visible:c,title:u,onCancel:r,footer:null},e().createElement("div",{className:"ban-preview"},e().createElement("div",{className:"ban-preview-center"},e().createElement("img",{src:w(),alt:"picture"}),e().createElement("h2",null,p("localStorage.tip")),e().createElement("p",null,p("localStorage.banPreview"))),e().createElement("hr",null),e().createElement(T.Z,{type:"primary",className:"know",onClick:r},p("localStorage.onKnow"))))}}var oe=(0,Z.Z)()(ue);class Te extends a.Component{constructor(){var l;super(...arguments);l=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=c=>{var s=this.props.previewInfo,r=s.onCancel;this.onCancel(),r(c)},this.onGetVideoBusiness=c=>{var s=this.props.onRef,r=s===void 0?()=>{}:s;this.videoBusiness=c,r(c)},this.onFullScreen=()=>{var c=this.state.fullScreen;this.setState({fullScreen:!c})},this.handleJudgeNetwork=(0,D.Z)(f().mark(function c(){var s,r,p,u,d,g,h,b,O,N,E,k=arguments;return f().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(s=k.length>0&&k[0]!==void 0?k[0]:null,r=l.props,p=r.resourceInfo,u=r.watchType,d=p.storageType,g=p.playId,h=p.originUrl,b=u==="image"||u==="video"||u==="doc",O=null,s?O=s:h?O=h:O=p.url,!(b&&O&&g&&d&&d==="LOCAL")){re.next=22;break}return re.prev=7,re.next=10,(0,V.NY)(g);case 10:return N=re.sent,re.next=13,(0,V.Hy)(O,N);case 13:E=re.sent,E?l.setState({showBan:"no"}):l.setState({showBan:"yes"}),re.next=20;break;case 17:re.prev=17,re.t0=re.catch(7),l.setState({showBan:"yes"});case 20:re.next=23;break;case 22:l.setState({showBan:"no"});case 23:case"end":return re.stop()}},c,null,[[7,17]])})),this.renderOuter=()=>{var c=this.props,s=c.prefixCls,r=c.watchType,p=c.onCurrentTime,u=p===void 0?()=>{}:p;return e().createElement("div",{className:"".concat(s,"-outer")},r==="video"&&e().createElement(B,(0,K.Z)({onCurrentTime:u,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),r==="doc"&&e().createElement(Ie,this.props),r==="image"&&e().createElement(Ue,(0,K.Z)({onError:this.handleJudgeNetwork},this.props)),r==="html"&&e().createElement(be,this.props),r==="scorm"&&e().createElement(lt,this.props))},this.renderFooter=()=>{var c=this.props,s=c.resourceInfo.storageType,r=c.t,p=this.state.showBan,u=p!==""&&p==="yes";return s&&s!=="PUBLIC_CLOUD"&&u?e().createElement(T.Z,{type:"primary",className:"know",onClick:this.onCancelModel},r("localStorage.onKnow")):null}}componentDidMount(){var l=this.props.mode;l==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(l){l.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var l=this.state,c=l.showBan,s=l.fullScreen,r=this.props,p=r.mode,u=r.previewWay,d=r.previewInfo,g=r.prefixCls,h=r.t,b=r.showEnlarge,O=r.footer,N=O===void 0?null:O,E=d.visible,k=d.destroyOnClose,Q=d.title,re=c!==""&&c==="yes",me=c!==""&&c==="no";return e().createElement(a.Fragment,null,p==="preview"&&u==="popups"&&e().createElement(Oe.ZP,{destroyOnClose:k,visible:E,title:Q,onCancel:this.onCancelModel,footer:N||this.renderFooter(),wrapClassName:"".concat(g,"-resource ").concat(s?"".concat(g,"-full"):"")},b&&e().createElement("div",{className:"".concat(g,"-resource-out-icon"),onClick:this.onFullScreen},s?e().createElement(n.Z,{className:"".concat(g,"-resource-icon")}):e().createElement(y.Z,{className:"".concat(g,"-resource-icon")})),e().createElement("div",{className:"".concat(g,"-inner")},!E&&e().createElement(m.Z,{size:"large"}),E&&me&&this.renderOuter(),re&&e().createElement(Y,null))),(p==="learn"||u==="page")&&me&&this.renderOuter(),(p==="learn"||u==="page")&&e().createElement(oe,{visible:re,title:Q||h("questionn.warmHint"),onCancel:this.onCancel}))}}Te.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var He=(0,Z.Z)("translation",{withRef:!0})(Te)},41225:function(ye,q,t){"use strict";t.d(q,{Hy:function(){return D},NY:function(){return _},Gw:function(){return f},sH:function(){return n},BR:function(){return a},qp:function(){return y},Xc:function(){return Z},J7:function(){return e}});var v=t(57361),m=t(9754),i=t.n(m),T=t(10237),K=t(37055),D=function(){var P=(0,v.Z)(i().mark(function w(){var M,Y,A,L,C,x,U,V=arguments;return i().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return M=V.length>0&&V[0]!==void 0?V[0]:"",Y=V.length>1&&V[1]!==void 0?V[1]:"",A="",M.startsWith("http")?(L=M.split("//")[1].trim(),C=L.split("/")[0],A="https://".concat(C,"/cms/ticket")):(x=M.split("/")[0],A="https://".concat(x,"/cms/ticket")),j.prev=4,j.next=7,T.ZQ.get({url:A,params:{ticket:Y}});case 7:if(U=j.sent,!(U.status===200||U.status===403)){j.next=10;break}return j.abrupt("return",Promise.resolve(!0));case 10:return j.abrupt("return",Promise.resolve(!1));case 13:return j.prev=13,j.t0=j.catch(4),j.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return j.stop()}},w,null,[[4,13]])}));return function(){return P.apply(this,arguments)}}(),_=function(){var P=(0,v.Z)(i().mark(function w(M){var Y,A;return i().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,T.ZQ.get({url:K.ZP.local.getTicket(M)});case 2:if(Y=C.sent,A=Y.data,A.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(A.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},w)}));return function(M){return P.apply(this,arguments)}}(),f=function(){var P=(0,v.Z)(i().mark(function w(){var M;return i().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,T.WY.get({url:K.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return M=A.sent,A.abrupt("return",M.data.list);case 4:case"end":return A.stop()}},w)}));return function(){return P.apply(this,arguments)}}(),a=function(){var P=(0,v.Z)(i().mark(function w(M){var Y,A,L;return i().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,T.WY.get({url:K.ZP.localStorage.getPravateVideoUrl(M)});case 2:if(Y=x.sent,Y.data.code!==0){x.next=6;break}return A=Y.data.data.videoPlayInfo,L=A===void 0?"":A,x.abrupt("return",L);case 6:return x.abrupt("return","");case 7:case"end":return x.stop()}},w)}));return function(M){return P.apply(this,arguments)}}(),e=function(){var P=(0,v.Z)(i().mark(function w(M){var Y,A,L;return i().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return Y=K.ZP.localStorage.getPravateDocUrl(M),x.prev=1,x.next=4,T.WY.get({url:Y});case 4:if(A=x.sent,L=A.data,!(L.code===0&&L.data)){x.next=8;break}return x.abrupt("return",L.data.docResourceDownloadUrl||"");case 8:return x.abrupt("return","");case 11:return x.prev=11,x.t0=x.catch(1),x.abrupt("return","");case 14:case"end":return x.stop()}},w,null,[[1,11]])}));return function(M){return P.apply(this,arguments)}}(),n=function(w){var M=w.studyInfo,Y=w.progress,A=w.recent_start,L=w.page_count,C=w.enterpriseId,x=w.userId,U=w.token,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H,j=M.studyType;if(j==="studyTask"&&(H=K.ZP.SaveProgress.studySaveProgress(M)),(j==="course"||j==="enterprise")&&(H=K.ZP.SaveProgress.enterpriseCourseSaveProgress(M)),j==="studyProject"&&(H=K.ZP.SaveProgress.projectSaveProgress(M)),j==="platform"&&(H="".concat(K.ZP.SaveProgress.platformCourseSaveProgress(M))),(V||j==="platform")&&(H+="?enterprise_id=".concat(C,"&user_id=").concat(x)),V)return H+="&access_token=".concat(U||localStorage.getItem("token")),H;var R={progress:Y,recent_start:A,tempTime:Date.parse(new Date)};return L&&(R.page_count=L),M.evaluationId&&(R.evaluation_id=M.evaluationId),T.WY.post({url:H,data:R})},y=P=>{var w=P.popupId,M=P.planId,Y=P.resourceId,A=P.type;return T.WY.post({url:K.ZP.TaskStudyRecord.setRandomPopupRecord(M),data:{course_id:Y,terminal_type:"PC",popup_id:w,type:A}})},Z=(P,w)=>{var M=K.ZP.SaveProgress.reportStatusInterval(P);return T.WY.post({url:M,data:w})}},21594:function(ye,q,t){"use strict";t.d(q,{pu:function(){return K},RG:function(){return D},Gp:function(){return _},O8:function(){return f}});var v=t(88986),m=t(69164),i=t(38642),T=t(41225),K=a=>{var e="";switch(a){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":e="studyTask";break;case"enterprise":e="enterprise";break;case"courseProject":e="studyProject";break;case"platform":case"purchased":e="platform";break;default:break}return e},D=(a,e)=>{var n={};return e.forEach(y=>{var Z=a.find(A=>A.type===y.type);if(Z)if(y.type==="document_duration_limit"){var P=Z.action_list,w=P.find(A=>A.type==="random_popup_verification");!(0,i.UI)("RANDOM_POPUP_VERIFY")||!w?n[y.name]="CLOSE":n[y.name]=w.param.checked==="true"?"OPEN":"CLOSE"}else if(y.type==="document_player"){var M=JSON.parse(Z.actions);M.forEach(A=>{A.param.checked==="true"&&(n[y.name]=A.type)})}else if(y.type==="dynamic_watermark"){var Y=Z.action_list;Y.forEach(A=>{A.type===y.resourceType&&A.param.checked==="true"&&(n[y.name]=A.param.comment)})}else n[y.name]=Z.switch_status}),n},_=a=>{(0,T.sH)((0,v.Z)({progress:100,recent_start:1},a)).then(e=>{e&&e.data&&(0,m.Z)(e.data.integral_info||"")})},f=a=>{var e=document.createElement("div");return e.innerHTML=a,e.childNodes[0]}},11449:function(ye,q,t){"use strict";t.d(q,{Z:function(){return G}});var v=t(88986),m=t(33565),i=t(12924),T=t.n(i),K=t(3115),D=t(49111),_=t(19650),f=t(62029),a=t(57663),e=t(71577),n=t(91768),y=t(28216),Z=t(37055),P=t(10237);function w(X){var pe=Z.ZP.getHelpContentByMenuKey(),ie={key:X};return P.WY.get({url:pe,params:ie})}var M=t(74228),Y=t.n(M),A=t(1164),L=t(76466),C=t(38642);class x extends T().Component{constructor(pe){var ie;super(pe);ie=this,this.getHelpContentByMenuKey=()=>{var ve=this.props.defaultMenuKey;w(ve).then(le=>{var ne=le.data,we=ne.help_url,Se=ne.video_url;this.setState({videoUrl:Se,helpUrl:we})})},this.handleOpenHelpUrl=ve=>{if((0,C.ve)()){window.open(ve,"_blank");return}A.Z.targetTo({path:ve,isExternalLink:!0})},this.handleOpenVideo=function(ve){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ie.props.t("helpCenter.video");ie.setState(ne=>({resourcePlayInfo:(0,v.Z)((0,v.Z)({},ne.resourcePlayInfo),{},{resourceInfo:{originUrl:ve,source:{FD:ve,OD:ve},contentType:"mp4"}}),previewInfo:(0,v.Z)((0,v.Z)({},ne.previewInfo),{},{title:le,visible:!0,onCancel:ie.handleCancelPreview})}))},this.handleCancelPreview=()=>{var ve=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,v.Z)((0,v.Z)({},ve),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:pe.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var pe=this.state,ie=pe.helpUrl,ve=pe.resourcePlayInfo,le=pe.previewInfo,ne=pe.videoUrl,we=this.props.t;return T().createElement("div",{className:Y().helpCenter},ne&&T().createElement(e.Z,{type:"link",className:Y()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ne)},we("helpCenter.video")),ie&&T().createElement(e.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(ie)},we("helpCenter.tutorial")),T().createElement(L.Z,(0,f.Z)({},ve,{previewInfo:le})))}}var U=X=>({defaultMenuKey:X.currentRoute.menuKey});x.defaultProps={defaultMenuKey:""};var V=(0,y.$j)(U)((0,n.Z)()(x));function H(X){var pe=X.extra,ie=localStorage.getItem("dingPersonnel"),ve=sessionStorage.getItem("dingPersonnel");return T().createElement(_.Z,null,pe,ie!=="dingPersonnel"&&ve!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&T().createElement(V,null))}var j=H,R=t(4408);function W(X){var pe=(0,i.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),ie=(0,m.Z)(pe,1),ve=ie[0],le=X.pageContainerParams,ne=le===void 0?{}:le,we=X.noPadding,Se=we===void 0?!1:we,De=X.isPersonal,ke=De===void 0?!1:De,Oe=X.pageTitle,_e=X.className,Re=_e===void 0?"":_e,Me={extra:ve.helpCenter?T().createElement(j,{extra:ne.extra}):ne.extra},We=(0,v.Z)((0,v.Z)({},ne),Me);return T().createElement("div",{className:"page-container-content ".concat(Se?"page-container-noPadding":""," ").concat(ke?"page-container-content_personal_background":""," ").concat(Re)},Oe&&T().createElement(R.Z,{title:Oe}),ke?T().createElement(K.Z,null,X.children):T().createElement(K.Z,We,X.children))}var G=W},25814:function(ye,q,t){"use strict";t.r(q),t.d(q,{default:function(){return nt}});var v=t(71194),m=t(57016),i=t(57663),T=t(71577),K=t(49111),D=t(19650),_=t(88983),f=t(47933),a=t(88986),e=t(12924),n=t.n(e),y=t(28216),Z=t(91768),P=t(76651),w=t(57068),M=t(37055),Y=t(10237);function A(){var Ie=CONFIG.personnelDevelope.getPostGroupTree();return request.get({url:Ie,params:{show_leaf_node:!0}})}function L(Ie){var se=Ie.app_id,S=se===void 0?"zInt":se,z=Ie.post_name,F=Ie.class_status,ae=Ie.post_group_id,de=Ie.page_number,Ae=Ie.page_size,Ue=M.ZP.personnelDevelope.getAbilityModelList();return Y.WY.post({url:Ue,data:{app_id:S,post_name:z,class_status:F,post_group_id:ae,page_number:de,page_size:Ae,enterprise_id:M.ZP.enterpriseId}})}function C(Ie){var se=M.ZP.personnelDevelope.deleteAllocation(Ie);return Y.WY.delete({url:se})}var x=t(14781),U=t(53431),V=t(62029),H=t(59250),j=t(13013),R=t(48736),W=t(27049),G=t(34792),X=t(48086),pe=t(30887),ie=t(99210),ve=t(22385),le=t(31097),ne=t(57254),we=t(71068),Se=t(56075),De=t(36202),ke=t(1164),Oe=t(6793);class _e extends n().Component{constructor(se){super(se);this.handleTableChange=(S,z)=>{this.props.onTableChange({current:S,pageSize:z})},this.selectChange=S=>{this.setState({selectedRowKeys:S}),this.props.oneHeaderTitleChange(S)},this.renderAllocationDeleteTip=S=>{var z=this.props.t,F="";return S.status===-1?F=z("personnelDevelope.postNotSetLearnPlan"):S.post_model_name&&(F=z("personnelDevelope.postHasEvaluationModel")),F},this.moreOperate=S=>{var z=this.props.t;return n().createElement(ie.Z,{onClick:()=>{this.beforeDeleteAllocation(S)}},n().createElement(ie.Z.Item,null,n().createElement(le.Z,{placement:"top",title:this.renderAllocationDeleteTip(S)},n().createElement("p",{className:S.status===-1||S.post_model_name?"cl-dropdown-menuitem cl-disabled":"cl-dropdown-menuitem"},z("personnelDevelope.deleteLearningScheme")))))},this.renderDeleteTip=S=>{var z=S.title,F=S.desc,ae=S.type,de=S.record;ae!=="del"?X.default.error(F):this.setState({deleteListTipInfo:{title:z,desc:F,record:de,visible:!0}})},this.deleteAllocation=()=>{var S=this.props.t,z=this.state.currentPostId;C(z).then(F=>{F.data.data?X.default.success(S("common.deleteSuccess")):X.default.error(S("common.deleteFailure")),this.props.initList()})},this.beforeDeleteAllocation=S=>{if(!(S.status===-1||S.post_model_name)){var z=this.props.t;this.setState({currentPostId:S.post_id},()=>{(0,Se.DF)(this.state.currentPostId).then(F=>{if(F.data.code===0){var ae={};F.data.data===1?ae={desc:z("personnelDevelope.deleteAllocationBindDescTip")}:F.data.data===0&&(ae={title:z("personnelDevelope.deleteAllocationTitleTip"),desc:z("personnelDevelope.deleteAllocationDescTip"),type:"del",record:S}),this.renderDeleteTip(ae)}else X.default.error(z("common.deleteFailure"))})})}},this.getUrl=(S,z)=>{var F;switch(S){case"post_model":F="/talentedDevelopment/abilityEvaluation/evaluationModel";break;case"qualification":F="/talentedDevelopment/postTrainPlan/postQualifications";break;case"study_project":F="/knowledgeBase/learningResources/studyProject";break;default:break}var ae=encodeURIComponent(z),de="".concat(F,"?").concat(S,"=").concat(ae);return de},this.cancelList=()=>{this.setState({deleteListTipInfo:(0,a.Z)((0,a.Z)({},this.state.deleteListTipInfo),{},{visible:!1})})},this.state={selectedRowKeys:[],currentPostId:"",deleteListTipInfo:{visible:!1}}}componentDidUpdate(se){se.list!==this.props.list&&this.selectChange([])}render(){var se=this.props,S=se.list,z=S===void 0?[]:S,F=se.loading,ae=se.paginationParams,de=ae===void 0?{}:ae,Ae=se.headerTitle,Ue=se.toolBarRender,Be=se.actionChange,Pe=se.t,be=(0,a.Z)((0,a.Z)({},M.XE.INITIAL_PAGINATION),de),qe=this.state.deleteListTipInfo,st=[{title:this.props.t("personnelDevelope.postName"),key:"post_name",width:140,fixed:"left",textWrap:"word-break",ellipsis:!0,render:(ue,oe)=>n().createElement(le.Z,{placement:"top",title:oe.post_name},n().createElement("div",{className:"allocation-list-name"},oe.status===1?n().createElement(ke.Z,{to:"/talentedDevelopment/postTrainPlan/postCollocation/add?post_id=".concat(oe.post_id,"&view=true&postFromPage=postCollocation")},oe.post_name):oe.post_name))},{title:this.props.t("personnelDevelope.employeeNum"),dataIndex:"user_count",key:"user_count",width:100},{title:this.props.t("personnelDevelope.learningPlan"),dataIndex:"status",key:"status",width:100,render:ue=>this.props.statusList.reduce((oe,Te)=>ue===Te.value?oe+Te.name:oe,"")},{title:this.props.t("personnelDevelope.PostCapabilityModel"),dataIndex:"post_model_name",key:"post_model_name",width:200,textWrap:"word-break",ellipsis:!0,render:(ue,oe)=>{var Te;if(!oe.post_model_name)Te="---";else{var He=this.getUrl("post_model",oe.post_model_name);Te=n().createElement(le.Z,{placement:"top",title:oe.post_model_name},n().createElement("div",{className:"course-allocation-target"},n().createElement(ke.Z,{to:"".concat(He)},oe.post_model_name)))}return Te}},{title:this.props.t("personnelDevelope.setQualificationInfo"),dataIndex:"qualification_name",key:"qualification_name",width:200,textWrap:"word-break",ellipsis:!0,render:(ue,oe)=>{var Te;if(!oe.qualification_name)Te="---";else{var He=this.getUrl("qualification",oe.qualification_name);Te=n().createElement(le.Z,{placement:"top",title:oe.qualification_name},n().createElement("div",{className:"post-allocation-qualification-name course-allocation-target"},n().createElement(ke.Z,{to:"".concat(He)},oe.qualification_name)))}return Te}},{title:this.props.t("personnelDevelope.setProjectItem"),dataIndex:"study_project_name",key:"study_project_name",width:200,textWrap:"word-break",ellipsis:!0,render:(ue,oe)=>{var Te;if(!oe.study_project_name)Te="---";else{var He=this.getUrl("study_project",oe.study_project_name);Te=n().createElement(le.Z,{placement:"top",title:oe.study_project_name},n().createElement("div",{className:"course-allocation-target"},n().createElement(ke.Z,{to:"".concat(He)},oe.study_project_name)))}return Te}},{title:this.props.t("personnelDevelope.updateTime"),key:"update_time",width:140,render:(ue,oe)=>oe.update_time?(0,Oe.p6)(Number(oe.update_time),"yyyy-MM-dd hh:mm"):"--"},{title:this.props.t("personnelDevelope.operator"),dataIndex:"update_user_mame",key:"update_user_mame",width:100,render:ue=>ue||"--"}];Be&&st.push({title:this.props.t("personnelDevelope.operate"),width:180,key:"operate",fixed:"right",render:(ue,oe)=>n().createElement(n().Fragment,null,n().createElement("span",{className:"post-operate-allocation-plan"},n().createElement(ke.Z,{to:"/talentedDevelopment/postTrainPlan/postCollocation/add?post_id=".concat(oe.post_id,"&postFromPage=postCollocation")},this.props.t("personnelDevelope.allocationplan"))),n().createElement(n().Fragment,null,n().createElement(W.Z,{type:"vertical"}),n().createElement(j.Z,{overlay:this.moreOperate(oe)},n().createElement("a",null,this.props.t("common.more")," ",n().createElement(ne.Z,null)))))});var ot=this.state.selectedRowKeys,it={selectedRowKeys:ot,onChange:this.selectChange},lt=[{title:Pe("personnelDevelope.postName"),dataIndex:"post_name",key:"post_name",textWrap:"word-break",ellipsis:!0,render:ue=>n().createElement(le.Z,{placement:"top",title:ue},n().createElement("div",{className:"post-lists-name"},ue))},{title:Pe("personnelDevelope.PostCapabilityModel"),dataIndex:"post_model_name",key:"post_model_name",render:ue=>ue?n().createElement(le.Z,{placement:"top",title:ue},n().createElement("div",{className:!0},ue)):ue||"---"},{title:Pe("personnelDevelope.setQualificationInfo"),dataIndex:"qualification_name",key:"qualification_name",textWrap:"word-break",ellipsis:!0,render:ue=>ue||"---"},{title:Pe("personnelDevelope.setProjectItem"),dataIndex:"study_project_name",key:"study_project_name",render:ue=>ue?n().createElement(le.Z,{placement:"top",title:ue},n().createElement("div",{className:"post-lists-name post-allocation-list-ellipsis"},ue)):ue||"---"},{title:Pe("personnelDevelope.studyProjectStatus"),dataIndex:"status",key:"status",render:ue=>Pe(ue===1?"courseManage.published":ue===0?"personal.draft":"personnelDevelope.notConfiguration")}];return n().createElement("section",{className:"allocation-manage__content__table"},n().createElement("div",null,n().createElement(De.f,{headExtra:this.headExtra,columns:st,dataSource:z,loading:F,headerTitle:Ae(),toolBarRender:Ue,pagination:!1,tableUUID:"cf93bc8d-85cf-4019-8106-be03838aa220",rowSelection:it,rowKey:"post_id",scroll:{x:"max-content",y:"100%"}})),n().createElement("div",{className:"allocation-manage-pagination-wrapper"},n().createElement(U.Z,(0,V.Z)({},be,{onChange:this.handleTableChange,className:"allocation-manage-pagination"}))),n().createElement(we.Z,{title:qe.title,visible:qe.visible,record:[qe.record],columns:lt,desc:qe.desc,delete:this.deleteAllocation,cancel:this.cancelList}))}}var Re=(0,Z.Z)()(_e),Me=t(13254),We=t(14277),ze=t(47673),o=t(4107),I=t(32157),B=t(75869),J=t(73218),ee=t(76570),ce=B.Z.TreeNode;class ge extends n().Component{constructor(se){super(se);this.onClearSearch=()=>{this.setState({post_group_name:""},()=>{this.initTableList()})},this.onSearch=()=>{this.initTableList(!0)},this.onSelect=(S,z)=>{this.props.postTreeCb(z.node)},this.onExpand=S=>{this.setState({expandedKeys:S})},this.onInputSearchText=S=>{this.setState({post_group_name:S.target.value})},this.mapExpandedKey=S=>{var z=[];function F(ae){ae.forEach(de=>{de.children&&(z.push(de.id),F(de.children))})}return F(S),z},this.initTableList=S=>{var z=this.props.t,F=M.ZP.personnelDevelope.getPostGroupTree(),ae=this.state,de=ae.post_group_name,Ae=ae.init,Ue={post_group_name:de,show_leaf_node:!0,is_all:0};Y.WY.get({url:F,params:Ue}).then(Be=>{if(S)this.setState({tree:this.resetData(Be.data.post_groups)},()=>{this.setState({expandedKeys:this.mapExpandedKey(Be.data.post_groups)})});else{var Pe=[{key:"0-0",title:z("personnelDevelope.allPostGroups"),children:this.resetData(Be.data.post_groups)}];Ae?this.setState({init:!1},()=>{this.setState({tree:Pe},()=>{this.setState({expandedKeys:Pe.map(be=>be.children&&be.children.length>0&&be.key)})}),this.props.postTreeCb(Pe[0])}):this.setState({tree:Pe},()=>{this.setState({expandedKeys:Pe.map(be=>be.children&&be.children.length>0&&be.key)})})}})},this.resetData=S=>{var z=[];return S.forEach((F,ae)=>{z[ae]={},z[ae].key=F.id,z[ae].title=F.post_group_name,F.children&&(z[ae].children=this.resetData(F.children))}),z},this.renderTreeNodes=S=>{var z=[];return z=S.map(F=>F.children?n().createElement(ce,{key:F.key,title:n().createElement("div",{className:"allocation-treeNode-title"},n().createElement(le.Z,{title:F.title},F.title))},this.renderTreeNodes(F.children)):n().createElement(ce,{key:F.key,title:n().createElement("div",{className:"allocation-treeNode-title"},n().createElement(le.Z,{title:F.title},F.title))})),z},this.state={post_group_name:"",tree:[],init:!0,expandedKeys:[]}}componentDidMount(){this.initTableList()}render(){var se=this.state,S=se.post_group_name,z=se.tree,F=se.expandedKeys,ae=this.props.t,de=()=>this.state.post_group_name.length>0?n().createElement(J.Z,{onClick:this.onClearSearch}):n().createElement(ee.Z,{onClick:this.onSearch});return n().createElement(n().Fragment,null,n().createElement(o.Z,{className:"post-tree-search",value:S,placeholder:ae("personnelDevelope.searchByPosts"),onChange:this.onInputSearchText,onPressEnter:this.onSearch,suffix:de()}),n().createElement("div",{className:"allocation-post-group-padding-tree"},z.length>0?n().createElement(B.Z,{showLine:{showLeafIcon:!1},showIcon:!1,onSelect:this.onSelect,onExpand:this.onExpand,showLeafIcon:!1,defaultSelectedKeys:["0-0"],expandedKeys:F},this.renderTreeNodes(z)):n().createElement(We.Z,{image:We.Z.PRESENTED_IMAGE_SIMPLE})))}}var fe=(0,Z.Z)()(ge),Ne=t(11449),Ge=t(86726),Xe=t(4408),tt=t(48479),at=t(84874),rt=t(97593);class Je extends n().Component{constructor(se){super(se);this.handleStatusChange=S=>{this.setState({params:(0,a.Z)((0,a.Z)({},this.state.params),{},{class_status:S.target.value,page_number:1})},()=>{this.initTableList()})},this.renderProTableToolBarRender=()=>{var S=this.state.params,z=this.props.t,F=w.parse(P.m8.location.search),ae=F.post_name;return n().createElement("div",{className:"search"},n().createElement(D.Z,null,n().createElement(f.ZP.Group,{size:"default",value:S.class_status,onChange:this.handleStatusChange},this.state.radioList.map((de,Ae)=>n().createElement(f.ZP.Button,{key:Ae.toString(),value:de.value},de.name))),n().createElement(tt.Z,{value:ae,onSearch:this.handleSearch,width:"272px",placeholder:z("personnelDevelope.searchByPostName"),maxLength:50})))},this.handleSearch=S=>{this.setState({params:(0,a.Z)((0,a.Z)({},this.state.params),{},{post_name:S,page_number:1})},()=>{this.initTableList()})},this.initTableList=()=>{this.setState({tableLoading:!0});var S=this.state.params;L(S).then(z=>{this.setState({tableLoading:!1,tableList:z.data.data.list,tableTotal:z.data.data.total})}).catch(()=>{this.setState({tableLoading:!1})})},this.handleChangePagination=S=>{this.setState({params:(0,a.Z)((0,a.Z)({},this.state.params),{},{page_number:S.current,page_size:S.pageSize})},()=>{this.initTableList()})},this.postTreeCb=S=>{var z=w.parse(P.m8.location.search),F=z.post_name;this.setState({params:(0,a.Z)((0,a.Z)({},this.state.params),{},{post_group_id:S.key==="0-0"?"":S.key,page_number:1}),headerTitle:S.title},()=>{F?this.handleSearch(F):this.initTableList()})},this.renderProTableHeaderTitle=()=>{var S=this.props.t;return n().createElement("div",null,n().createElement(T.Z,{type:"primary",onClick:this.handleExport},n().createElement(at.Z,{iconClass:"icon-icon_exportx1"}),S("common.exportData")))},this.handleExport=()=>{var S=this.props.t,z=this.state.params;m.Z.confirm({title:S("common.tip"),content:S("personnelDevelope.confirmToExport"),onOk:()=>{var F="?".concat(Object.entries(z).reduce((ae,de)=>"".concat(ae).concat(de[0],"=").concat(de[1],"&"),""));(0,rt.N)({page:"abilityModelListExport",props:this.props,query:F})}})},this.headerTitleChange=S=>{this.setState({params:(0,a.Z)((0,a.Z)({},this.state.params),{},{post_ids:S.join(",")})})},this.state={actions:(0,Ge.V9)("postCollocation",se.modules),params:{post_name:"",page_number:1,page_size:20,class_status:2,post_group_id:"",sort:"desc",post_ids:""},tableLoading:!1,tableList:[],headerTitle:"",radioList:[{name:"".concat(this.props.t("common.all")),value:2},{name:"".concat(this.props.t("personnelDevelope.notConfiguration")),value:-1},{name:"".concat(this.props.t("personal.draft")),value:0},{name:"".concat(this.props.t("personal.published")),value:1}]}}render(){var se=this.props,S=se.prefixCls,z=se.t,F=this.state,ae=F.tableTotal,de=F.params,Ae=F.tableLoading,Ue=F.tableList,Be=F.headerTitle,Pe={total:ae,current:de.page_number,pageSize:de.page_size};return n().createElement(Ne.Z,{pageContainerParams:{header:{title:n().createElement("div",null,n().createElement("div",null,z("personnelDevelope.jobsWithClass")),n().createElement("div",{className:"course-allocation-header-desc"},z("personnelDevelope.jobWithClassDesc")))}}},n().createElement(Xe.Z,{title:z("documentTitle.learningProgramList")}),n().createElement("div",{className:S},n().createElement("div",{className:"".concat(S,"__content ")},n().createElement("div",{className:"".concat(S,"-left")},n().createElement(fe,{postTreeCb:this.postTreeCb})),n().createElement("div",{className:"".concat(S,"-right")},n().createElement("div",{className:"header-title"},n().createElement("div",null,Be)),n().createElement(Re,{headerTitle:this.renderProTableHeaderTitle,toolBarRender:this.renderProTableToolBarRender,loading:Ae,paginationParams:Pe,list:Ue,onTableChange:this.handleChangePagination,deleteReport:this.deleteReport,scroll:{y:"100%",x:"max-content"},onOpenViewData:this.handleOpenViewData,statusList:this.state.radioList,oneHeaderTitleChange:this.headerTitleChange,actionChange:(0,Ge.H3)("configuration_scheme",this.state.actions),initList:this.initTableList})))))}}Je.defaultProps={prefixCls:"postCollocation"};var nt=(0,y.$j)(Ie=>({modules:Ie.user.modules}))((0,Z.Z)()(Je))},56075:function(ye,q,t){"use strict";t.d(q,{lf:function(){return i},wp:function(){return T},IT:function(){return K},Ty:function(){return D},UN:function(){return _},tb:function(){return f},el:function(){return a},K:function(){return e},yx:function(){return y},aB:function(){return P},VI:function(){return w},B5:function(){return M},M5:function(){return Y},di:function(){return A},b9:function(){return L},tQ:function(){return x},hB:function(){return U},DK:function(){return V},y4:function(){return H},Ys:function(){return j},sG:function(){return R},jh:function(){return W},h4:function(){return G},sE:function(){return X},lo:function(){return pe},zG:function(){return ie},Yy:function(){return ve},xX:function(){return le},m_:function(){return ne},$t:function(){return we},Sh:function(){return Se},$s:function(){return De},Ne:function(){return ke},B:function(){return Oe},TK:function(){return _e},_u:function(){return Re},DF:function(){return Me},Mq:function(){return We},Kx:function(){return ze}});var v=t(37055),m=t(10237);function i(o){var I=o.page_number,B=o.page_size,J=o.keyword,ee=J===void 0?"":J,ce=v.ZP.evaluateManage.getEvaluateTools();return m.WY.get({url:ce,params:{page_number:I,page_size:B,keyword:ee}})}function T(o){var I=o.modelId,B=o.productId,J=v.ZP.evaluateManage.getEvaluateTool();return m.WY.get({url:J,params:{modelId:I,productId:B}})}function K(){var o=v.ZP.evaluateManage.getEvaluateType();return m.WY.get({url:o})}function D(o){var I=o.evaluation_tools,B=v.ZP.evaluateManage.addEvaluateTools();return m.WY.post({url:B,data:{evaluation_tools:I}})}function _(o){var I=o.keyword,B=I===void 0?"":I,J=o.industry,ee=v.ZP.evaluateManage.queryEvaluateTools();return m.WY.get({url:ee,params:{keyword:B,industry:J}})}function f(o){var I=o.ids,B=o.visible_range,J=o.department_ids,ee=o.group_ids,ce=o.post_ids,ge=o.user_ids,fe=v.ZP.evaluateManage.setEmployRange();return m.WY.post({url:fe,data:{ids:I,visible_range:B,department_ids:J,group_ids:ee,post_ids:ce,user_ids:ge}})}function a(o){var I=o.id,B=v.ZP.evaluateManage.deleteEvaluateTool({id:I});return m.WY.post({url:B})}function e(o){var I=o.id,B=v.ZP.evaluateManage.queryVisible({toolId:I});return m.WY.get({url:B})}function n(o){var I=o.page_number,B=o.page_size,J=o.name,ee=o.ability_type,ce=o.source,ge=o.evaluation_tool_id,fe=CONFIG.evaluateManage.getAbilityList();return request.get({url:fe,params:{page_number:I,page_size:B,name:J,ability_type:ee,source:ce,evaluation_tool_id:ge}})}function y(o){var I=o.id,B=v.ZP.evaluateManage.getToolsListByAbility({abilityId:I});return m.WY.get({url:B})}function Z(o){var I=o.ids,B=o.training_courses,J=o.isBatchOperation,ee=CONFIG.evaluateManage.batchSetCase();return request.post({url:ee,data:{ids:I,training_courses:B,isBatchOperation:J}})}function P(o){var I=o.id,B=o.source,J=v.ZP.evaluateManage.queryTrainingCase({abilityId:I});return m.WY.get({url:J,params:{source:B}})}function w(o){var I=o.page_number,B=o.page_size,J=o.only_see_me,ee=o.keyword,ce=o.status,ge=o.product_id,fe=o.plan_type,Ne=v.ZP.PostTalentEvaluation.getList();return m.WY.get({url:Ne,params:{page_number:I,page_size:B,only_see_me:J,keyword:ee,status:ce,product_id:ge,plan_type:fe}})}function M(o){var I=o.title,B=o.product_id,J=o.term_type,ee=o.start_time,ce=o.end_time,ge=o.open_result,fe=o.supervisor_Id,Ne=o.source,Ge=o.user_ids,Xe=o.department_ids,tt=o.group_ids,at=o.post_ids,rt=o.authority_range,Je=o.status,nt=o.model_id,Ie=o.finish_promote,se=o.certificate_id,S=o.is_get_score,z=o.finish_score,F=o.isEdit,ae=o.editId,de=o.evaluation_tool_type,Ae=o.evaluation_way_self,Ue=o.evaluation_way_superior,Be=o.evaluation_rule_result_vo,Pe=o.personnel_echo_request_list,be=F?v.ZP.PostTalentEvaluation.edit(ae):v.ZP.PostTalentEvaluation.add();return m.WY.post({url:be,data:{title:I,product_id:B,term_type:J,start_time:ee,end_time:ce,open_result:ge,supervisor_Id:fe,source:Ne,user_ids:Ge,department_ids:Xe,group_ids:tt,post_ids:at,authority_range:rt,status:Je,model_id:nt,finish_promote:Ie,certificate_id:se,is_get_score:S,study_score:{finish_score:z},evaluation_tool_type:de,evaluation_way_self:Ae,evaluation_way_superior:Ue,evaluation_rule_result_vo:Be,personnel_echo_request_list:Pe}})}function Y(o){var I=o.taskId,B=v.ZP.PostTalentEvaluation.publish(I);return m.WY.post({url:B})}function A(o){var I=o.taskId,B=v.ZP.PostTalentEvaluation.unPublish(I);return m.WY.post({url:B})}function L(o){var I=o.id,B=v.ZP.evaluateManage.isReferenceWithOther({id:I});return m.WY.get({url:B})}function C(o){var I=o.type,B=CONFIG.deleteResource.check();return request.get({url:B,params:{type:I}})}function x(o){var I=v.ZP.PostTalentEvaluation.delete(o);return m.WY.post({url:I,data:{}})}function U(o){var I=v.ZP.PostTalentEvaluation.getInfo(o);return m.WY.get({url:I,params:{}})}function V(){var o=v.ZP.PostTalentEvaluation.getEvaluationAbilityLevel();return m.WY.get({url:o,params:{}})}function H(o){var I=o.id,B=o.name,J=v.ZP.PostTalentEvaluation.editEvaluationAbilityLevel();return m.WY.post({url:J,data:{id:I,name:B}})}function j(o){var I=v.ZP.PostTalentEvaluation.queryAbilityRange(o);return m.WY.get({url:I})}function R(o){var I=o.ability_ids,B=o.visible_range,J=o.department_ids,ee=o.group_ids,ce=o.post_ids,ge=o.user_ids,fe=o.userId,Ne=v.ZP.PostTalentEvaluation.setAbilityRange(fe);return m.WY.post({url:Ne,data:{ability_ids:I,visible_range:B,department_ids:J,group_ids:ee,post_ids:ce,user_ids:ge}})}function W(o){var I=o.only_see_me,B=o.key_word,J=o.page_number,ee=o.page_size,ce=o.model_type,ge=v.ZP.PostTalentEvaluation.getEvaluationModel();return m.WY.get({url:ge,params:{only_see_me:I,key_word:B,page_number:J,page_size:ee,model_type:ce}})}function G(o){var I=o.ids,B=o.visible_range,J=o.department_ids,ee=o.group_ids,ce=o.user_ids,ge=o.post_ids,fe=v.ZP.PostTalentEvaluation.settingEvaluationModalRange();return m.WY.post({url:fe,data:{ids:I,visible_range:B,department_ids:J,group_ids:ee,user_ids:ce,post_ids:ge}})}function X(o){var I=v.ZP.PostTalentEvaluation.saveEditEvaluationModal();return m.WY.post({url:I,data:o})}function pe(o){var I=v.ZP.PostTalentEvaluation.getEvaluationModal(o);return m.WY.get({url:I})}function ie(o){var I=o.abilityName,B=o.abilityType,J=o.source,ee=o.description,ce=o.abilityLevels,ge=o.visibleRange,fe=v.ZP.PostTalentEvaluation.addEvaluationAbility();return m.WY.post({url:fe,data:{abilityName:I,abilityType:B,source:J,description:ee,abilityLevels:ce,visibleRange:ge}})}function ve(o){var I=v.ZP.PostTalentEvaluation.queryEvaluationAbility(o);return m.WY.get({url:I})}function le(o){var I=o.id,B=o.abilityName,J=o.abilityType,ee=o.source,ce=o.description,ge=o.abilityLevels,fe=o.visibleRange,Ne=v.ZP.PostTalentEvaluation.editEvaluationAbility({});return m.WY.post({url:Ne,data:{id:I,abilityName:B,abilityType:J,source:ee,description:ce,abilityLevels:ge,visibleRange:fe}})}function ne(o){var I=o.page_number,B=o.page_size,J=o.name,ee=o.ability_type,ce=o.source,ge=o.evaluation_tool_id,fe=v.ZP.PostTalentEvaluation.getEvaluateList();return m.WY.get({url:fe,params:{page_number:I,page_size:B,name:J,ability_type:ee,source:ce,evaluation_tool_id:ge}})}function we(o){var I=v.ZP.PostTalentEvaluation.deleteAbilityOption();return m.WY.post({url:I,params:{ability_ids:o}})}function Se(o){var I=v.ZP.PostTalentEvaluation.refEvaluationModel(o);return m.WY.get({url:I})}function De(o){var I=v.ZP.PostTalentEvaluation.deleteModel(o);return m.WY.post({url:I})}function ke(o){var I=o.is_batch_operation,B=o.ids,J=o.training_courses,ee=o.source,ce=v.ZP.PostTalentEvaluation.setImprove();return m.WY.post({url:ce,data:{is_batch_operation:I,ids:B,training_courses:J},params:{source:ee}})}function Oe(o,I,B){var J=v.ZP.PostTalentEvaluation.viewModelReport(I,o);return m.WY.get({url:J,params:{platformType:B}})}function _e(o){var I=v.ZP.PostTalentEvaluation.checkAbilitiesDelete(o);return m.WY.post({url:I})}function Re(o){var I=v.ZP.personnelDevelope.getPostAbility();return m.WY.post({url:I,data:o})}function Me(o){var I=v.ZP.personnelDevelope.checkPostModal(o);return m.WY.get({url:I})}function We(o,I){var B=v.ZP.personnelDevelope.getPostAssessList(I);return m.WY.get({url:B,params:o})}function ze(o){var I=v.ZP.personnelDevelope.importTaskSubmit();return m.WY.get({url:I,params:{new_file_name:o}})}},9849:function(ye,q,t){"use strict";t.d(q,{Ej:function(){return K},kL:function(){return D},T:function(){return _},NU:function(){return f},FL:function(){return a},fn:function(){return e},bm:function(){return n},jY:function(){return y},Vs:function(){return Z},li:function(){return P},Nl:function(){return w},YF:function(){return M},Q6:function(){return Y},zW:function(){return A},Zv:function(){return L},Qg:function(){return C},qc:function(){return x},Ve:function(){return V},rS:function(){return H},Rh:function(){return j}});var v=t(10237),m=t(37055),i=t(38642),T={zaraFlag:(0,i.UI)("ZARA_H5")};function K(R,W){var G=m.ZP.StudyProjectList.startStudy(R);return v.WY.post({url:G,data:W})}function D(R){var W=m.ZP.Common.enroll(R);return v.WY.post({url:W})}function _(R,W){var G=R.courseId,X=m.ZP.StudyProjectList.studyProject(G);return v.WY.get({url:X,params:W})}function f(R){var W=R.id,G=T.zaraFlag?m.m1.getAssessmentProjectInfo(W):m.m1.getProjectInfo(W);return v.WY.get({url:G})}function a(R){var W=R.courseId,G=m.ZP.EnterpriseCourse.addScanCount(W);return v.WY.post({url:G})}function e(){var R=m.ZP.StudyProjectList.getAccountInfo();return v.WY.get({url:R})}function n(R){var W=m.ZP.StudyProjectList.projectCertiUrl(R);return v.WY.get({url:W})}function y(R){var W=R.courseId,G=m.ZP.Courses.like(W);return v.WY.post({url:G})}function Z(R){var W=m.ZP.EnterpriseCourse.addCommentAndScore();return v.qg.post({url:W,data:R})}function P(R){var W=m.ZP.EnterpriseCourse.getCourseComments();return v.WY.get({url:W,params:R})}function w(R){var W=m.ZP.EnterpriseCourse.addCommentAndScore();return v.qg.post({url:W,data:R})}function M(R){var W=m.ZP.EnterpriseCourse.deleteComment();return v.qg.post({url:W,data:R})}function Y(R,W){var G=m.ZP.StudyProjectList.projectStudyRecord(R);return v.WY.get({url:G,params:W})}function A(R){var W=m.ZP.DingSpaceId.getSpaceId();return v.WY.get({url:W,params:R})}function L(R,W){var G=m.ZP.PlatformCourse.learningUrl(R);return v.WY.get({url:G,params:W})}function C(R){var W=m.ZP.MyExamTask.examIntro({examId:R});return v.WY.get({url:W})}function x(R){var W=m.ZP.MyExamTask.examCheckStatus({examId:R});return v.WY.get({url:W})}function U(R,W){var G=CONFIG.Common.getOperateLog(R);return formDataRequest.get({url:G,params:W})}function V(R,W){var G=T.zaraFlag?m.ZP.StudyProjectList.changeCustomStatus(R):m.ZP.StudyProjectList.changeStatus(R);return v.WY.post({url:G,data:W})}function H(R){var W=m.ZP.StudyProjectList.getProjectReward(R);return v.WY.get({url:W})}function j(R){var W=m.ZP.subsidyGz.subsidyCourseSetting(R);return v.WY.get({url:W})}},97593:function(ye,q,t){"use strict";t.d(q,{N:function(){return f}});var v=t(34792),m=t(48086),i=t(37055),T={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:a=>{var e=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(e,"/report/list_report")},pkReportDetailsDetails:a=>{var e=a.competitionId,n=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(n,"/pk/").concat(e,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(i.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(i.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(i.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/youjia_list_export"),authInfo:a=>{var e=a.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(e,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:a=>{var e=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/user/").concat(e,"/integral_export")},teacherImportPoints:a=>{var e=a.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecture/").concat(e,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(i.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(i.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(a,"/sign-analysis-export"),signAnalysisDetailExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(a.id,"/sign-detail-export"),studyProjectMonitorExport:a=>{var e=a.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_projects/").concat(e,"/user_monitors_export")},studyProjectPaymentList:a=>{var e=a.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_project/").concat(e,"/study_project_transaction_export")},study_project_transaction_export:a=>{var e=a.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_project/").concat(e,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(i.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:a=>{var e=a.projectId,n=a.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(i.ZP.enterpriseId,"/study_project/").concat(e,"/course/").concat(n,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificates_export"),certificatePeople:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificates/").concat(a.certificateId,"/users/export?type=").concat(a.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/plan_study_export"),learningMonitor:a=>{var e=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/plans/").concat(e,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/investigates/").concat(a.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:a=>{var e=a.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/operations/").concat(e,"/user_monitors_export")},huaLaiShiWorkUserData:a=>{var e=a.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/operations/").concat(e,"/user_monitors_export")},learningFaceMonitor:a=>{var e=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/user-recognition/course/").concat(e,"/export")},learningDetailMonitor:a=>{var e=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/user-recognition/v2/course/").concat(e,"/export")},classLearningMonitor:a=>{var e=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/study-record/plan/").concat(e,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/investigates/").concat(a.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(a.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(a.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(a.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(i.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:a=>{var e=a.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/practices/").concat(e,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(i.ZP.userId,"/list/export"),exportPkMonitor:a=>{var e=a.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/").concat(e,"/user/list/export")},exportPostMap:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/post_maps/").concat(a.mapId,"/users_export"),exportPowerMonitor:a=>{var e=a.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/qualifications/").concat(e,"/monitors_export")},exportQuestionnaire:a=>{var e=a.taskId,n=a.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/studies/").concat(e,"/investigates/").concat(n,"/statistics_export")},exportGoodsExchangeDetail:a=>{var e=a.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/").concat(e,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:a=>{var e=a.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecturer/").concat(e,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(i.ZP.enterpriseId,"/export/plan/").concat(e,"/model")},offlineCrouseCheckIn:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(a,"/sign-analysis-export"),monitorUserExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(a,"/monitors-export"),evaluateAnalyzeExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(i.ZP.enterpriseId,"/course/").concat(a,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(i.ZP.enterpriseId,"/plan/").concat(a.planId,"/tutorials/").concat(a.tutorialsId,"/evaluation_export"),offlineCourseListExport:a=>{var e=a.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/").concat(e,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(i.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(i.ZP.enterpriseId,"/users/").concat(i.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(i.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/").concat(a,"/courses-export"),studyProjectCourseExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/study_projects/").concat(a,"/courses-export"),studyProjectPracticeExport:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/study_projects/").concat(a,"/practice-export"),trainingTandardsDetail:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(i.ZP.enterpriseId,"/objective/").concat(a,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/annual-plans/").concat(e,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/exam_details/export"),medalDetailsExportData:a=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/medal/group/").concat(a,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/export-user-task")},exportNewExamAnswerList:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/export_student_detail")},exportNewExamAnswerListPDF:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(i.ZP.enterpriseId,"/exams/").concat(e,"/download")},exportQuestionAnswerDetails:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/export_question_answer")},exportAnswerDataList:a=>{var e=a.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/export-question-analysis")},exportSubmitList:a=>{var e=a.planId,n=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/user-id/").concat(n,"/export_user_submit")},exportFaceRecognitionRecord:a=>{var e=a.userId,n=a.examId,y=a.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/users/").concat(e,"/exams/").concat(n,"/submit-id/").concat(y,"/export_face-info")},exportQuestionDetails:a=>{var e=a.planId,n=a.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(e,"/export-question-user-result/").concat(n)},exportPointsDetail:a=>{var e=a.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/user/").concat(e,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:a=>{var e=a.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/").concat(e,"/export_orders")},exportLotteryOverview:a=>{var e=a.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/lottery/").concat(e,"/prizeOverview/export")},exportLotteryDetailList:a=>{var e=a.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/lottery/").concat(e,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(i.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(i.ZP.enterpriseId,"/users/").concat(i.ZP.userId,"/group/export_address_book")},K=T,D=t(10237),_=t(31457),f=a=>{var e=a.page,n=a.props,y=a.query,Z=y===void 0?"":y,P=a.rest,w=a.sendType,M=w===void 0?"get":w,Y=a.success,A=a.fail,L=A===void 0?"":A,C=K[e](P)+(M==="get"?Z:""),x=D.WY[M];x.call(D.WY,M==="get"?{url:C}:{url:C,data:Z}).then(U=>{if(C.includes("/v3/")&&U.success==="true"||U.data.code===0||U.data.code===200||U.data.code===2e5||U.data.code==="200000"||U.data.resultCode==="200"||U.data.result_code==="200")(0,_.Pp)(n),m.default.success(n.t("study.compoundSucceed")),Y&&Y({code:200});else{if(L){L(U);return}m.default.error(n.t("community.isError"))}})}},91648:function(ye,q,t){"use strict";t.d(q,{Z:function(){return v}});function v(m,i){var T,K,D,_,T;if(K="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),T=[],D=void 0,i=i||K.length,m)for(D=0;D<m;)T[D]=K[0|Math.random()*i],D++;else for(_=void 0,T[8]=T[13]=T[18]=T[23]="-",T[14]="4",D=0;D<36;)T[D]||(_=0|Math.random()*16,T[D]=K[D===19?_&3|8:_]),D++;return T.join("")}},86726:function(ye,q,t){"use strict";t.d(q,{V9:function(){return m},H3:function(){return i},e:function(){return T},F:function(){return K}});var v=t(93485);function m(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=[];function a(e,n){var y=(0,v.Z)(n),Z;try{for(y.s();!(Z=y.n()).done;){var P=Z.value;if(P.key===e){f=P.actions;break}P.children instanceof Array&&P.children.length&&a(D,P.children)}}catch(w){y.e(w)}finally{y.f()}}return a(D,_),f}function i(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=_.find(a=>a.key===D)||{};return f.checked||!1}function T(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=!1;function a(e,n){var y=(0,v.Z)(n),Z;try{for(y.s();!(Z=y.n()).done;){var P=Z.value;if(P.key===e){f=P.checked;break}P.children instanceof Array&&P.children.length&&a(D,P.children)}}catch(w){y.e(w)}finally{y.f()}}return a(D,_),f}function K(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f="";function a(e,n){var y=(0,v.Z)(n),Z;try{for(y.s();!(Z=y.n()).done;){var P=Z.value;if(P.key===e){f=P.id;break}P.children instanceof Array&&P.children.length&&a(D,P.children)}}catch(w){y.e(w)}finally{y.f()}}return a(D,_),f}},69164:function(ye,q,t){"use strict";var v=t(34792),m=t(48086);function i(T){T&&T.length>0&&m.default.success(T)}q.Z=i},2396:function(ye,q,t){"use strict";t.d(q,{fA:function(){return i},kh:function(){return T},kR:function(){return K},rw:function(){return _},$s:function(){return f},q_:function(){return a},QK:function(){return e}});var v=t(6793),m={limitWords(n,y){return{rules:[{max:n,message:"\u6700\u591A\u8F93\u5165".concat(n,"\u4E2A\u5B57")},{required:!0,message:y||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(n){return{rules:[{max:n,message:"\u6700\u591A\u8F93\u5165".concat(n,"\u4E2A\u6807\u7B7E")}]}},required(n){return{rules:[{required:!0,message:n||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(n,y){return{rules:[{required:!0,message:n||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:y}]}}},i={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},T=n=>isNaN(n)||!n||!(n>=0&&n<1e3)||!i.score.test(n),K=n=>isNaN(n)||!n||!(n>-1e3&&n<1e3),D=n=>isNaN(n)||!n||!(n>=0&&n<1e3)||!i.examScore.test(n),_=(n,y)=>{for(var Z=0,P=0;P<n.length;P++){var w=n.charAt(P);if(w.match(/[^\x00-\xff]/ig)!=null?Z+=1:Z+=.5,Z>y)return P}return 0},f=n=>{for(var y=0,Z=0;Z<n.length;Z++){var P=n.charAt(Z);P.match(/[^\x00-\xff]/ig)!=null?y+=1:y+=.5}return y},a=(n,y)=>{var Z=n.target.value,P=n.target.dataset.originLength;if(n.target.dataset.originLength||(P=y,n.target.dataset.originLength=P),!!P){var w=f(Z);w*1<y*1?n.target.setAttribute("maxLength",y*2):n.target.setAttribute("maxLength",y)}},e=(n,y)=>{var Z="";return(!n||!(0,v.fy)(n))&&(Z=y),Z}},4412:function(ye){ye.exports="data:image/png;base64,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"}}]);
