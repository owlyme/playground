(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6994],{26096:function(ce,ee,a){"use strict";var Z=a(30887),e=a(99210),W=a(62029),M=a(22385),_=a(31097),A=a(12924),g=a.n(A),T=a(71967),P=a.n(T),l=a(1164),b=h=>h.type==="more"?h.disabled?g().createElement(e.Z.Item,(0,W.Z)({},h,{key:h.key,disabled:!0}),h.tooltip?g().createElement(_.Z,{title:h.tooltip},g().createElement("p",{className:"cl-dropdown-menuitem"},h.title)):g().createElement("p",{className:"cl-dropdown-menuitem"},h.title)):h.link?g().createElement(e.Z.Item,(0,W.Z)({},h,{key:h.key}),g().createElement(l.Z,{to:h.link},g().createElement("p",{className:"cl-dropdown-menuitem"},h.title))):g().createElement(e.Z.Item,(0,W.Z)({},h,{key:h.key}),g().createElement("p",{className:"cl-dropdown-menuitem",onClick:h.click},h.title)):h.disabled?h.tooltip?g().createElement(g().Fragment,{key:h.key},g().createElement(_.Z,{title:h.tooltip},g().createElement("span",{className:"".concat(P().pointer," ").concat(P().disabled)},h.title))):g().createElement(g().Fragment,{key:h.key},g().createElement("span",{className:"".concat(P().pointer," ").concat(P().disabled)},h.title)):h.link?g().createElement(g().Fragment,{key:h.key},g().createElement(l.Z,{to:h.link},g().createElement("span",{className:"cl-pointer ".concat(P().pointer)},h.title))):g().createElement(g().Fragment,{key:h.key},g().createElement("span",{className:"cl-pointer ".concat(P().pointer),onClick:h.click},h.title));ee.Z=b},4408:function(ce,ee,a){"use strict";var Z=a(12924),e=a.n(Z),W=a(28216),M=a(17780),_=a(38642),A=T=>({userInfo:T.user}),g=T=>{var P=T.title;return(0,M.xX)()&&setTimeout(()=>{document.title=P},0),(0,Z.useEffect)(()=>{if(P&&document.title!==P&&setTimeout(()=>{document.title=P},0),(0,_.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var l=document.querySelector(".zoom-report");l&&(l.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[P]),e().createElement(e().Fragment,null)};g.defautProps={title:""},ee.Z=(0,W.$j)(A)(g)},1164:function(ce,ee,a){"use strict";var Z=a(12924),e=a.n(Z),W=a(76651),M=a(38642),_=a(91302),A=g=>{var T=navigator.userAgent.toLocaleLowerCase(),P=localStorage.getItem("enterpriseId"),l=(0,M.lz)(P,g.projectType),b=localStorage.getItem("dingPersonnel"),h=_.bl.includes(b),B=g.target;function D(O){if(B==="self"&&(O.preventDefault(),W.m8.push(g.to)),h){if(g.projectType==="student"){window.location.href="".concat(l,"/").concat(g.to);return}W.m8.push(g.to);return}if(dd.version){O.preventDefault();var N="";g.to.includes("?")?N="".concat(l).concat(g.to,"&ddtab=true"):N="".concat(l).concat(g.to,"?ddtab=true"),dd.biz.util.openLink({url:N})}else T.indexOf("lark")!==-1&&(window.location.href="".concat(l).concat(g.to))}return e().createElement("a",{rel:"noreferrer",href:"".concat(g.projectType==="student"?"".concat(l).concat(g.to):"#".concat(g.to)),className:"".concat(g.wrapCls," cl-pointer"),target:T.indexOf("lark")!==-1||h?"_self":g.target||"_blank",onClick:D},g.children)};A.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},A.targetTo=g=>{var T=g.path,P=g.from,l=g.isExternalLink,b=l===void 0?!1:l,h=g.isAsync,B=h===void 0?!1:h,D=g.openName,O=D===void 0?"_blank":D,N=g.projectType,F=N===void 0?"manage":N,U=g.ddTab,L=U===void 0?!0:U,C,y=localStorage.getItem("dingPersonnel"),G=_.bl.includes(y),z=navigator.userAgent.toLocaleLowerCase(),X=localStorage.getItem("enterpriseId"),K=(0,M.lz)(X,F),x=localStorage.getItem("appType"),R=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var te="";if(C=b?"":K,G&&!b){if(F==="student"){window.location.href="".concat(K).concat(T);return}W.m8.push(T);return}T.includes("?")?te="".concat(C).concat(T,"&ddtab=").concat(L):te="".concat(C).concat(T,"?ddtab=").concat(L),dd.biz.util.openLink({url:te})}else if(z.indexOf("lark")!==-1)C=b?"":K,window.location.href="".concat(C).concat(T);else if(x==="wx_app"&&R&&b&&P==="imgText")C=b?"":F==="student"?"".concat(K):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(T)});else if(C=b?"":F==="student"?"".concat(K):"#",B){var ae=window.open("","_blank");setTimeout(()=>{ae.location="".concat(C).concat(T)},100)}else window.open("".concat(C).concat(T),O)},ee.Z=A},36202:function(ce,ee,a){"use strict";a.d(ee,{f:function(){return U}});var Z=a(62029),e=a(57361),W=a(33565),M=a(9754),_=a.n(M),A=a(12924),g=a.n(A),T=a(28175),P=a(41647),l=a(93485);function b(L){var C={};if(L.length===0)return C;var y=(0,l.Z)(L),G;try{for(y.s();!(G=y.n()).done;){var z=G.value,X=z,K=X.field,x=X.fixed,R=X.order,te=X.show;te?te==="true"||te===!0?C[K]={fixed:x,order:R,show:!0}:C[K]={fixed:x,order:R,show:!1}:C[K]={fixed:x,order:R,show:!0}}}catch(ae){y.e(ae)}finally{y.f()}return C}function h(L){var C=[],y=Object.entries(L);if(y.length===0)return C;for(var G=0,z=y;G<z.length;G++){var X=z[G],K=(0,W.Z)(X,2),x=K[0],R=K[1],te=R.fixed,ae=R.order,ie=R.show;C.push({field:x,show:ie,fixed:te,order:ae})}return C}var B=a(38642),D=(L,C)=>{var y=(0,A.useState)(L),G=(0,W.Z)(y,2),z=G[0],X=G[1];return(0,A.useEffect)(()=>{var K=setTimeout(()=>{X(L)},C);return()=>{clearTimeout(K)}},[L,C]),z},O=D;function N(L,C){var y=useRef(C);useEffect(()=>{y.current=C},[C]),useEffect(()=>{var G=z=>{var X,K;console.warn(L.current,"node.current",z.target),!((X=(K=L.current)===null||K===void 0?void 0:K.contains(z.target))!==null&&X!==void 0?X:!1)&&y.current&&y.current()};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[L])}var F=!1;function U(L){var C=(0,A.useState)({}),y=(0,W.Z)(C,2),G=y[0],z=y[1],X=L.prefixCls,K=L.rowKey,x=L.columnEmptyText,R=L.pagination,te=L.headerTitle,ae=L.toolBarRender,ie=L.size,oe=L.loading,ne=oe===void 0?!1:oe,de=L.tableUUID;de||console.error("tableUUID is required!!!"),(0,A.useEffect)(()=>{function pe(Ne){return ge.apply(this,arguments)}function ge(){return ge=(0,e.Z)(_().mark(function Ne(Ie){var Te,Ae,Se,Oe,Re,Ze,xe,We;return _().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,(0,B.Kb)((0,P.U)(Ie));case 2:if(Te=we.sent,Ae=(0,W.Z)(Te,2),Se=Ae[0],Oe=Ae[1],!Se){we.next=8;break}return we.abrupt("return");case 8:Re=Oe.data,Ze=Re.data,xe=Ze.fields,We=b(xe)||{},We&&(F=!1,z(We));case 13:case"end":return we.stop()}},Ne)})),ge.apply(this,arguments)}return de&&pe(de),()=>{F=!1}},[de]);var le=O(G,1e3);(0,A.useEffect)(()=>{!F||(0,P.I)(de,h(G))},[le]);function Ee(pe){F=!0,z(pe)}return g().createElement("div",{className:"SampleProTable_container ".concat(L.className)},g().createElement(T.ZP,(0,Z.Z)({size:ie||"middle",rowKey:K||"id",columnEmptyText:x||!1,pagination:R||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:ne,headerTitle:te||"",toolBarRender:ae||null,columnsStateMap:G,onColumnsStateChange:Ee},L,{className:"".concat(X,"-table")})))}},41647:function(ce,ee,a){"use strict";a.d(ee,{I:function(){return W},U:function(){return M}});var Z=a(37055),e=a(10237);function W(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=Z.ZP.tableHeader.save(),T={fields:A,key:_};return e.WY.post({url:g,data:T})}function M(_){var A=Z.ZP.tableHeader.get(_);return e.WY.get({url:A})}},16598:function(ce,ee,a){"use strict";var Z=a(59250),e=a(13013),W=a(30887),M=a(99210),_=a(62029),A=a(12924),g=a.n(A),T=a(57254),P=a(91768),l=a(26096),b=(B,D)=>{var O=B.map(N=>g().createElement(l.Z,(0,_.Z)({},N,{type:D,key:N.key||N.type})));return D==="more"?g().createElement(M.Z,null,O):O},h=B=>{var D=B.buttons,O=B.t,N=B.visibleNum,F=D.filter(y=>y.visible),U=N||1,L=[],C=[];if(F.length<=U)C=[...F];else if(F.length>U)C=[...F.slice(0,U)],L=[...F.slice(U)];else return"/";return g().createElement("div",{className:"cl-table__cell-action"},b(C),C.some(y=>y.visible)&&L.some(y=>y.visible)?g().createElement(g().Fragment,null,g().createElement("span",{className:"cl-pointer-divide"}),g().createElement(e.Z,{overlay:b(L,"more")},g().createElement("span",{className:"cl-pointer"},O("common.more")," ",g().createElement(T.Z,null)))):null)};h.defaultProps={visibleNum:1},ee.Z=(0,P.Z)()(h)},99891:function(ce,ee,a){"use strict";var Z=a(12924),e=a.n(Z),W=a(28216),M=a(91768),_=a(37055),A=a(10237),g=a(60667);class T extends e().PureComponent{constructor(b){super(b);this.getWaterMarkText=h=>{var B=this.props.userInfo,D=B.jobNumber,O=localStorage.getItem("waterMarkPostName"),N=[],F=h.find(L=>L.type==="content_setting"),U=h.find(L=>L.type==="content_custom");return F.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),U.param.checked==="true"&&U.param.comment[0]!==""&&this.setState({commentText:U.param.comment[0]}),F.param.comment.indexOf("position")!==-1&&O&&O!==""&&N.push("".concat(O)),F.param.comment.indexOf("jobnumber")!==-1&&D&&D!==""&&N.push("".concat(D)),N.join("-")},this.getWaterMarkApplication=h=>{var B=this.props.scenes,D=h.find(O=>O.type==="application_scenario");D.param.comment.indexOf(B)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=h=>{var B=h.find(D=>D.type==="dispersive");this.setState({isDispersive:B.param.checked==="true"})},this.getDynamicSet=()=>{var h=_.ZP.advancedSetting.dynamicWaterMarkNew(),B={access_token:window.localStorage.getItem("token")};A.WY.get({url:h,params:B}).then(D=>{var O=JSON.parse(D.data.actions);this.setState({waterMarkText:this.getWaterMarkText(O),actions:O}),this.getWaterMarkApplication(O),this.getWaterIsDispersive(O)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var b=localStorage.getItem("waterMarkPostName");b===""||b===null?this.getPostName():this.getDynamicSet()}getPostName(){var b=_.ZP.advancedSetting.getPostName();A.WY.get({url:b}).then(h=>{localStorage.setItem("waterMarkPostName",h.data.post_names[0]||""),this.getDynamicSet()})}render(){var b=this.state,h=b.showWaterMark,B=b.waterMarkCount,D=b.isUserName,O=b.isDispersive,N=b.waterMarkText,F=b.actions,U=b.commentText,L=this.props.userInfo,C=L.name,y=L.unionid,G=L.sourceType;return e().createElement("div",{className:"common-watermark"},h&&new Array(B).fill(0).map((z,X)=>e().createElement("div",{key:X,className:"common-watermark-item ".concat(O?"isDispersive":"")},e().createElement("span",{className:"common-watermark-item-content"},U!==""&&e().createElement("span",{className:"item-part"},U),D&&e().createElement("span",null,U!==""&&e().createElement("span",null,"-"),e().createElement(g.Z,{dataType:"userName",value:y,name:C,type:G})),e().createElement("span",{className:"item-part"},(D||U!=="")&&N!==""&&e().createElement("span",null,"-"),N)))))}}var P=l=>({userInfo:l.user});ee.Z=(0,W.$j)(P)((0,M.Z)()(T))},60667:function(ce,ee,a){"use strict";a.d(ee,{Z:function(){return T}});var Z=a(33565),e=a(12924),W=a.n(e),M=a(28216);function _(P){var l=P.type,b=P.openid,h=P.from,B=(0,e.useRef)(null);return(0,e.useLayoutEffect)(()=>{h==="vue"?window.parent.WWOpenData.bind(B.current):WWOpenData.bind(B.current)}),W().createElement("ww-open-data",{ref:B,type:l,openid:b})}var A=P=>{var l=P.wxWorkApiFlag,b=P.appType,h=P.from,B=(0,e.useState)(!1),D=(0,Z.Z)(B,2),O=D[0],N=D[1];(0,e.useEffect)(()=>{var L=localStorage.getItem("qyWechatBook");(b!=="wx_app"||l||L==="false"||h==="vue"||h==="taro")&&N(!0)},[l,b,h]);var F=(0,e.useCallback)(()=>{var L=P.type,C=P.value,y=P.name,G=y===void 0?"":y;switch(console.warn(P,"props"),L){case"wx_sync":{var z=P.dataType;return C?W().createElement(_,{from:h,type:z,openid:C}):G}default:return G}},[P]),U=()=>{var L=P.name,C=P.dataType,y=localStorage.getItem("qyWechatBook");if(C===""||y==="false")return L;if(h==="vue"||h==="taro")return F();switch(P.appType){case"wx_app":return F();default:return L}};return O?U():P.name};A.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var g=P=>({appType:P.user.appType,wxWorkApiFlag:P.user.wxWorkApiFlag}),T=(0,M.$j)(g)(A)},76466:function(ce,ee,a){"use strict";a.d(ee,{Z:function(){return ve}});var Z=a(20228),e=a(11382),W=a(57663),M=a(71577),_=a(62029),A=a(57361),g=a(9754),T=a.n(g),P=a(12924),l=a.n(P),b=a(91512),h=a(68654),B=a(91768),D=a(4412),O=a.n(D);class N extends l().Component{render(){var n=this.props.t;return l().createElement("div",{className:"net-preview"},l().createElement("div",{className:"net-preview-center"},l().createElement("img",{src:O(),alt:"picture"}),l().createElement("h2",null,n("localStorage.tip")),l().createElement("p",null,n("localStorage.banPreview"))))}}var F=(0,B.Z)()(N),U=a(88986),L=a(34792),C=a(48086),y=a(28216),G=a(21594),z=a(41225),X=a(10237),K=($,n)=>(0,U.Z)({id:$||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),x=K;class R extends P.Component{constructor(){super(...arguments);this.setupPlayer=n=>{var i=this.props,s=i.onVideoReady,t=s===void 0?()=>{}:s,o=i.playerConfig,c=i.contentType;n&&n==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,U.Z)((0,U.Z)({},o),{},{contentType:c==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:p=>{p.on("sourceloaded",f=>{var v=f.paramData,k=v.desc,S=v.definition;p.getComponent("VideoQuality")&&p.getComponent("VideoQuality").setCurrentQuality(k,S,o.id)}),p.on("ready",()=>{t()}),this.playerInstance=p,this.setPlayerConfig()}}))}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(n){this.player&&this.player.seek(n)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(n){this.player.setSpeed(n)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var n=this.props,i=n.onPlay,s=i===void 0?()=>{}:i,t=n.onTimeUpDate,o=t===void 0?()=>{}:t,c=n.onEnd,p=c===void 0?()=>{}:c,f=n.onPause,v=f===void 0?()=>{}:f,k=n.onError,S=k===void 0?()=>{}:k,V=this.playerInstance;V.on("play",()=>{s()}),V.on("pause",()=>{v()}),V.on("timeupdate",E=>{o(E)}),V.on("ended",()=>{p()}),V.on("error",(0,A.Z)(T().mark(function E(){return T().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:S();case 1:case"end":return Y.stop()}},E)})))}render(){var n=this.props.playerConfig;return l().createElement("div",{className:"common-video-player-container"},l().createElement("div",{id:n.id}))}}R.playerInstance=null,R.defaultProps={playerConfig:x(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var te=R,ae=($,n)=>(0,U.Z)({id:$||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),ie=ae;class oe extends P.Component{constructor(){super(...arguments);this.setupPlayer=n=>{n&&n==="resetPlayer"&&this.player.dispose();var i=this.props,s=i.playerConfig,t=i.onVideoReady,o=t===void 0?()=>{}:t;this.player=new Aliplayer(s,c=>{c.on("sourceloaded",p=>{var f=p.paramData,v=f.desc,k=f.definition;c.getComponent("VideoQuality")&&c.getComponent("VideoQuality").setCurrentQuality(v,k,s.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var n=this.props,i=n.onPlay,s=i===void 0?()=>{}:i,t=n.onTimeUpDate,o=t===void 0?()=>{}:t,c=n.onEnd,p=c===void 0?()=>{}:c,f=n.onPause,v=f===void 0?()=>{}:f,k=n.onError,S=k===void 0?()=>{}:k;this.player.on("play",()=>{s()}),this.player.on("pause",()=>{v()}),this.player.on("timeupdate",V=>{o(V)}),this.player.on("ended",()=>{p()}),this.player.on("error",(0,A.Z)(T().mark(function V(){return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:S();case 1:case"end":return w.stop()}},V)})))},this.getPlayerContent=n=>{this.playerContainer=n}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(n){this.player.seek(n)}exitFull(){var n=this.player.fullscreenService;n&&n.isFullScreen&&n.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var n=this.props.playerConfig;return l().createElement("div",{className:"common-video-player-container"},l().createElement("div",{id:n.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}oe.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:ie()};var ne=oe;class de{constructor(n){this.hasCreated=!1,this.definition="",this.getQuality=n}createEl(n,i){var s=i._options&&i._options.language,t=i._el.id;this.isEn=s&&s==="en-us";var o=(0,G.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),c=(0,G.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),p=document.querySelector("#".concat(t," .prism-controlbar"));p.appendChild(o),n.appendChild(c)}setCurrentQuality(n,i,s){var t=document.querySelector("#".concat(s," .current-quality"));t.innerText=n,t.dataset.def=i,this.definition=i;var o=document.querySelector("#".concat(s," .quality-list")),c=o.querySelector(".current");c&&(c.className="");var p=o.querySelector('li[data-def="'.concat(i,'"]'));p&&(p.className="current")}created(n){this._urls=n._urls;var i=n._el.id,s=document.querySelector("#".concat(i," .current-quality")),t=document.querySelector("#".concat(i," .quality-list")),o=document.querySelector("#".concat(i," .quality-modal")),c=this._urls.map(v=>'<li data-def="'.concat(v.definition,'">').concat(v.desc,"</li>"));if(t.innerHTML=c.join(""),this.hasCreated==!1&&this.definition){var p=t.querySelector('li[data-def="'.concat(this.definition,'"]'));p.className="current"}this.hasCreated=!0;var f=null;s.onclick=()=>{t.style.display="block"},s.onmouseleave=()=>{f=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(f)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=v=>{var k=v.target,S=k.dataset.def,V=k.innerText;if(S&&k.className!=="current"){var E=this._urls.find(w=>w.definition===S);n.loadByUrl(E.Url,n.getCurrentTime(),!0,!0),this.setCurrentQuality(E.desc,E.definition,i),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=E.desc}this.getQuality(S,V)}}ready(n){var i=n._el.id,s=document.querySelector("#".concat(i," .quality-modal"));s.style.display="none";var t=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class le{createEl(n,i){var s=i._el.id,t=(0,G.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(s," .prism-controlbar"));o.appendChild(t)}ready(n){var i=n._el.id,s=document.querySelector("#".concat(i," .current-rate")),t=document.querySelector("#".concat(i," .rate-list")),o=null,c=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));c&&c.classList.add("player-hidden"),s.onclick=()=>{t.style.display="block"},s.onmouseleave=()=>{o=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(o)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=p=>{var f=p.target,v=f.dataset.rate;if(v){if(n.setSpeed(v),f.className!=="current"){var k=t.querySelector(".current");k&&(k.className=""),f.className="current"}t.style.display="none",s.innerText="".concat(v,"x")}}}}var Ee=a(69164),pe=a(37055);function ge($){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=pe.ZP.local.getLocalUrl($);return X.WY.get({url:i,params:n})}var Ne=a(91648),Ie=a(18329),Te=a(38642),Ae=a(9849),Se=a(99891);class Oe extends P.Component{constructor(n){super();this.WaterMarkText=n,this.html=document.getElementsByClassName("common-watermark")}createEl(n){setTimeout(()=>{n.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Re=Oe,Ze=$=>({userInfo:$.user});class xe extends P.Component{constructor(n){var i;super(n);i=this,this.onVideoReady=s=>{var t=this.props,o=t.resourceInfo,c=t.mode,p=t.autoPlay,f=t.t,v=o.storageType;s==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(s),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(c==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),c==="preview"&&p&&this.play.play()):v==="ALIBABA_PRIVATE"||v==="LOCAL"?this.updateSource("resetPlayer"):(X.WY.logger({keyword:"video",moduleName:"video-play",msg:f("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var s=this.props,t=s.draggable,o=s.mode,c=s.t,p=s.studyInfo,f=s.needCurrentTime,v=s.onCurrentTime,k=v===void 0?()=>{}:v,S=p.studyType,V=p.studyId,E=p.resourceId,w=this.state,Y=w.showPreventHang,q=w.dragSwitch,re=w.showRandomAlert,se=w.randomAlertDialogVisible,H=this.playingVideo,Ce=H.oneTime,fe=H.popupWindowCount,ye=H.maxPlayTime,Me=H.progress,ke=H.auditionLength,Ue=H.auditionType,be=H.duration,Le=H.recentStart,he=this.play.getCurrentTime(),ue=(Y==="OPEN"||re==="OPEN")&&fe>0;if(f&&k(he),ke>0&&Ue===2&&he>ke&&(this.play.seek(ke),C.default.warning(c("component.haveALookOverTip")),this.play.pause()),o==="learn"&&ue){var Be=be-Ce*fe;if(fe>0&&he>Be)if(this.play.pause(),re==="OPEN"){if(!se){var Ve=(0,Ne.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Ve},()=>{(0,z.qp)({popupId:Ve,planId:V,resourceId:E,type:"popup_start"})}),this.play.exitFull()}}else Y==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||Me===100)&&(he>0&&(this.playingVideo.recentStart=he),!((S==="enterprise"||S==="studyProject")&&q==="OPEN")))return!1;he>ye?he-Le>2?(this.playingVideo.recentStart=ye,this.play.seek(ye),C.default.warning(c("component.preventFastWatchTip"))):(this.playingVideo.recentStart=he,this.playingVideo.maxPlayTime=he):he>0&&he>this.playingVideo.recentStart&&(this.playingVideo.recentStart=he)},this.onPlay=()=>{var s=this.props,t=s.mode,o=s.onPlay,c=o===void 0?()=>{}:o;c();var p=this;t==="learn"&&!p.timer&&(p.timer=setTimeout(function f(){p.saveProgress(),clearTimeout(p.timer),p.timer=setTimeout(f,2e4)},2e4))},this.onPause=()=>{var s=this.props,t=s.studyInfo,o=s.mode,c=t.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(c==="platform"||c==="enterprise"||c==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var s=this.props.mode;s==="learn"&&this.saveProgress()},this.onError=s=>{var t=this.props.resourceInfo,o=t.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var s=this.props.mode;this.initPlayVideo(),s==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var s=this.state,t=s.showPreventHang,o=s.showRandomAlert,c=this.props,p=c.t,f=c.playingVideo,v=c.studyInfo,k=c.autoPlay,S=f.recentStart,V=f.duration,E=f.progress,w=v.studyType,Y=(t==="OPEN"||o==="OPEN")&&(w==="studyTask"||w==="enterprise"||w==="studyProject")&&E<100;Y?(o==="OPEN"?this.setState({promptMessage:p("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:p("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):k&&(this.play.play(),Math.ceil(S)<parseInt(V)&&this.play.seek(S))},this.playerShowPreventHang=()=>{var s=this.playingVideo,t=s.duration,o=s.recentStart,c=0;t>0&&t<180?(c=t/2,this.playingVideo.oneTime=c,o>=c?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(c=t/3,this.playingVideo.oneTime=c,o>=2*c?this.playingVideo.popupWindowCount=0:o>=c?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(c=t/4,this.playingVideo.oneTime=c,o>=3*c?this.playingVideo.popupWindowCount=0:o>=2*c?this.playingVideo.popupWindowCount=1:o>=c?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var s=this.props,t=s.playingVideo,o=s.mode;if(o==="learn"){this.playingVideo=(0,U.Z)({},t);var c=t.duration,p=t.progress;this.playingVideo.hasFinished=parseInt(p)===100,this.playingVideo.maxPlayTime=parseInt(c)*parseInt(p)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,A.Z)(T().mark(function s(){var t,o,c,p,f,v,k,S,V,E,w,Y,q,re,se,H,Ce,fe,ye,Me,ke,Ue,be,Le;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(t=i.state,o=t.speedSwitch,c=t.dragSwitch,p=t.whiteList,f=i.props,v=f.resourceInfo,k=f.showQuality,S=v.contentType,V=v.storageType,E=v.source,w=v.playId,Y=v.playerId,q=v.showFullScreen,re=q===void 0?!0:q,se=ie(Y),se.components=[],H=typeof E=="object"&&E.hasOwnProperty("FD")&&E.FD.indexOf("m3u8")===-1,k&&H&&S!=="mp3"&&(V&&V==="PUBLIC_CLOUD"||!V)&&se.components.push({name:"VideoQuality",type:de,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),o==="OPEN"&&se.components.push({name:"VideoRate",type:le}),re&&(Ce=se.skinLayout.find(Be=>Be.name==="controlBar"),Ce&&Ce.children.splice(Ce.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),se.components.push({name:"VideoWaterMark",type:Re}),fe=E.FD,ye=E.OD,fe.indexOf("http://")>-1&&(fe=fe.replace("http://","https://")),ye.indexOf("http://")>-1&&(ye=ye.replace("http://","https://")),Me=p.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",E.OD=ye&&ye.indexOf(Me)>-1&&ye.indexOf(".mp4")>-1?ye:fe,E.FD=fe,ke=typeof E!="string"?JSON.stringify(E):E,se.source=ke,c==="OPEN"&&(se.disableSeek=!0),V!=="ALIBABA_PRIVATE"){ue.next=32;break}return ue.next=22,(0,z.BR)(w);case 22:if(Ue=ue.sent,!Ue){ue.next=28;break}se.source=Ue,se.vodRetry=1,ue.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),ue.abrupt("return");case 30:ue.next=38;break;case 32:if(V!=="LOCAL"){ue.next=38;break}return ue.next=35,ge(w);case 35:be=ue.sent,Le=be.data,Le.code===0&&(se.source="".concat(E.FD,"?auth_key=").concat(Le.data.auth_key),se.vodRetry=1);case 38:i.setState({playerConfig:se});case 39:case"end":return ue.stop()}},s)})),this.updateSource=function(){var s=(0,A.Z)(T().mark(function t(o){var c,p,f,v,k,S,V,E;return T().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(c=i.state.playerConfig,p=i.props.resourceInfo,f=p.storageType,v=p.source,k=p.playId,i.playingVideo.readyCount=0,f!=="ALIBABA_PRIVATE"){Y.next=16;break}return Y.next=7,(0,z.BR)(k);case 7:if(S=Y.sent,!S){Y.next=12;break}Object.assign(c,{source:S,vodRetry:1}),Y.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),Y.abrupt("return");case 14:Y.next=22;break;case 16:if(f!=="LOCAL"){Y.next=22;break}return Y.next=19,ge(k);case 19:V=Y.sent,E=V.data,E.code===0&&Object.assign(c,{source:"".concat(v.FD,"?auth_key=").concat(E.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:c},()=>{i.play.setupPlayer(o)});case 23:case"end":return Y.stop()}},t)}));return function(t){return s.apply(this,arguments)}}(),this.saveProgress=()=>{var s=this.props,t=s.studyInfo,o=s.userInfo,c=o.isLogin,p=o.enterpriseId,f=o.id,v=this.playingVideo,k=v.recentStart,S=v.duration,V=v.hasFinished,E=Math.ceil(+k);E>Number(S)&&(E=Number(S));var w=Math.ceil(E/+S*100);if((w>100||V)&&(w=100),c){var Y=this.playingVideo,q=Y.auditionType,re=Y.auditionLength;if(re>0&&q===2){var se=Math.ceil(re/S*100);se<=w&&(w=se,E=re)}(0,z.sH)({studyInfo:t,progress:w,recent_start:E,enterpriseId:p,userId:f}).then(H=>{H&&H.data&&(0,Ee.Z)(H.data.integral_info||"")})}},this.getInfoFromSettings=(0,A.Z)(T().mark(function s(){var t,o,c,p,f,v,k,S,V;return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return t=i.props.studyInfo,o=t.studyType,c=t.projectId,w.next=4,(0,z.Gw)();case 4:if(p=w.sent,f=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],v=(0,G.RG)(p,f),o!=="studyProject"){w.next=14;break}return w.next=10,(0,Ae.NU)({id:c});case 10:k=w.sent,S=k.status,V=k.data,S===200&&(v.showPreventHang=V.prevent_cut_screen?"OPEN":"CLOSED",v.speedSwitch=V.speed_play?"OPEN":"CLOSED",v.dragSwitch=V.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(v,()=>{i.dealVideoConfig()});case 15:case"end":return w.stop()}},s)})),this.dealAudioPoster=()=>{var s=this.props.resourceInfo.contentType,t=s===void 0?"":s;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var s=this.state.showAudioPoster,t=this.play.playerContainer;s&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=s=>{this.play=s},this.handleOk=()=>{this.setState({dialogVisible:!1});var s=this.state.btnType,t=this.playingVideo.recentStart,o=this.props.t;s==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,A.Z)(T().mark(function s(){var t,o,c,p;return T().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:t=i.props.studyInfo,o=t.studyId,c=t.resourceId,p=i.state.randomAlertUUID,(0,z.qp)({popupId:p,planId:o,resourceId:c,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return v.stop()}},s)})),this.renderFooter=()=>{var s=this.state.btnType,t=this.props.t;return l().createElement(M.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(s)},t(s==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var s=this.props.t;return l().createElement(M.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},s("common.ok"))},this.state={playerConfig:ie(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:n.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:n.t("component.randomAlertTip"),randomAlertModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Te.UI)("CL_VIDEO_BAIYING_COM_CN")}},n.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(n){var i=typeof n.resourceInfo.source!="string"?JSON.stringify(n.resourceInfo.source):n.resourceInfo.source,s=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==s&&s!==""&&this.initInfo()}componentWillUnmount(){var n=this.props.mode;n==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var n=this.state,i=n.playerConfig,s=n.showPrivateVodError,t=n.dialogVisible,o=n.dialogModal,c=n.promptMessage,p=n.randomAlertDialogVisible,f=n.randomAlertModal,v=n.randomAlertTip,k=n.encryptedSwitch,S=this.props,V=S.resourceInfo,E=S.t,w=k==="OPEN"?te:ne;return l().createElement(P.Fragment,null,l().createElement(w,(0,_.Z)({ref:this.getPlayInstance},V,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),l().createElement(Ie.ZP,(0,_.Z)({visible:t},o,{footer:this.renderFooter()}),l().createElement("div",{className:"video-business-prompt"},c)),l().createElement(Ie.ZP,(0,_.Z)({visible:p},f,{footer:this.renderRandomFooter()}),l().createElement("div",{className:"video-player-container__prompt"},v)),s&&l().createElement("div",{className:"video-business-vod-error"},E("privateCloud.docReadError")),l().createElement(Se.Z,{scenes:"video"}))}}var We=(0,y.$j)(Ze,null,null,{forwardRef:!0})((0,B.Z)("translation",{withRef:!0})(xe)),je=a(94184),we=a.n(je),$e=a(84874),Je=$=>({userInfo:$.user}),dt={getPravateDocUrl:pe.ZP.localStorage.getPravateDocUrl};function Xe($){return JSON.stringify($,(n,i)=>(typeof i=="function"&&(i=i.toString()),i))}function ze($){var n=parseInt(parseInt($,10)/60,10),i=parseInt(parseInt($,10)%60,10);return n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),"".concat(n,":").concat(i)}class Ke extends P.Component{constructor(n){var i;super(n);i=this,this.messageFun=s=>{var t=this.props,o=t.docType,c=t.progress,p=t.studyTimeLimit,f=t.studyTime,v=this.state,k=v.jumpPageTag,S=v.totalTime,V=v.timeRemaining,E=this.state.previewDocData,w={};try{w=JSON.parse(s.data)}catch(Y){return}switch(w.action){case"preview.ready":this.initDocData();break;case"preview.meta":E.totalPage=w.data.pc||1,E.currentPage=1,this.setState({previewDocData:E},()=>{this.reportStatusInterval()}),p>0?(this.saveProgress(c,f||"1",w.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||E.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(c,f||"1",w.data.pc||1),p>0&&c<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?S=p:S=p*w.data.pc,V=parseInt(S*(1-c/100),10),this.setState({timeRemaining:V,totalTime:S},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(k){k=!1,this.setState({jumpPageTag:k});return}E.currentPage=w.data.pageIndex+1,this.setState({previewDocData:E}),p||this.saveProgress(Math.ceil(E.currentPage/E.totalPage*100),E.currentPage,E.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(w.data.result);break;default:break}},this.initDocData=(0,A.Z)(T().mark(function s(){var t,o,c,p,f,v,k,S,V,E,w,Y,q,re;return T().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(i.setState({isShowPrivateError:!1}),t=i.props,o=t.docType,c=t.userInfo,p=t.documentWatermarkSettings,f=t.storageType,v=t.privateDocId,k=c.name,S=c.jobNumber,V=c.position,E="",w={},f!=="ALIBABA_PRIVATE"){H.next=18;break}return H.prev=6,Y=dt.getPravateDocUrl(v),H.next=10,X.WY.get({url:Y});case 10:q=H.sent,re=q.data,re.code===0?w=re.data||{}:i.setState({isShowPrivateError:!0}),H.next=18;break;case 15:H.prev=15,H.t0=H.catch(6),i.setState({isShowPrivateError:!0});case 18:if(p.indexOf("name")>-1&&(E="".concat(E+k," ")),p.indexOf("position")>-1&&(E="".concat(E+V," ")),p.indexOf("jobnumber")>-1&&(E+=S),E.length>0?window.sendMessage("preview.init",(0,U.Z)({wmType:1,wmValue:E,wmColor:"rgba(192, 192, 192, 0.4)"},w)):window.sendMessage("preview.init",(0,U.Z)({},w)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){H.next=29;break}H.t1=window,H.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},H.t1.sendMessage.call(H.t1,"setConfig",H.t2),H.next=32;break;case 29:H.t3=window,H.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},H.t3.sendMessage.call(H.t3,"setConfig",H.t4);case 32:case"end":return H.stop()}},s,null,[[6,15]])})),this.handleJumpPage=s=>{var t=this.state.previewDocData;t.currentPage=s,this.setState({jumpPageTag:!0,previewDocData:t});var o=s/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),s,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:s-1})},this.redirectPage=()=>{var s=this.props,t=s.studyTimeLimit,o=s.studyTime,c=0;t===0&&(c=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:c})},this.docCountDown=()=>{var s=this.state.timeRemaining,t=this.state,o=t.totalTime,c=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{s-=1,this.setState({timeRemaining:s}),s<1&&(this.saveProgress(100,0,c.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var p=(o-s)/o*100;s<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(p),s,c.totalPage)},2e4)},this.saveProgress=(s,t,o)=>{var c=this.props.onSaveProgress;c&&c(s,t,o)},this.reportStatusInterval=()=>{var s=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;s&&s({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=s=>{this.docReader=s},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(n,i)=>{var s=this.docReader.contentWindow;s.postMessage(Xe({action:n,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var n=this.props,i=n.t,s=n.storageType,t=n.privateDocId,o=this.props.aliUrl,c=this.state,p=c.previewDocData,f=c.pageOperateContainerVisible,v=c.timeRemaining,k=c.showCountDown,S=c.showCountDownContainer,V=c.showPageOperateContainer,E=c.isShowPrivateError;return s==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),l().createElement("div",{className:"doc-reader-container"},l().createElement("div",{className:"ali-doc-container",style:{paddingBottom:f?"56px":"0"}},l().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),S?l().createElement("div",{className:"ali-doc-container__countdown"},k?l().createElement("div",null,l().createElement($e.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),l().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",ze(v)," "),i("component.canDone")):l().createElement("div",null,l().createElement($e.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,f?l().createElement("div",{className:"ali-doc__operate"},l().createElement("div",{className:we()(["ali-doc__operate__content",V?"":"ali-doc__operate__hide-content"])},l().createElement("div",{className:"ali-doc__operate__pagination"},l().createElement("div",{className:"ali-doc__operate__pagination__pages"},p.currentPage," / ",p.totalPage),l().createElement("div",{className:"ali-doc__operate__pagination__toggle"},l().createElement("div",{className:"ali-doc__operate__pagination__choose"},l().createElement("span",null,i("component.choosePage"),l().createElement($e.Z,{iconClass:"iconf-arrow-under",size:"14px"})),l().createElement("div",{className:"ali-doc__operate__page-list-container"},l().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),l().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:p.totalPage})).map((w,Y)=>l().createElement("li",{key:w,onClick:()=>this.handleJumpPage(Y+1)},Y+1))))),l().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),l().createElement("div",{className:we()("ali-doc__operate__unfold",V?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,E&&l().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),l().createElement(Se.Z,{scenes:"document"}))}}Ke.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var qe=(0,y.$j)(Je)((0,B.Z)()(Ke)),ut=$=>({userInfo:$.user}),He="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Fe="".concat("https://doc.coolcollege.cn");class _e extends l().Component{constructor(n){var i;super(n);i=this,this.onSaveProgress=(s,t,o)=>{var c=this.props,p=c.mode,f=c.studyInfo,v=c.userInfo,k=v.enterpriseId,S=v.id;p==="learn"&&(0,z.sH)({studyInfo:f,progress:s,page_count:o,recent_start:t,enterpriseId:k,userId:S}).then(V=>{V&&V.data&&(0,Ee.Z)(V.data.integral_info||"")})},this.messageFun=function(){var s=(0,A.Z)(T().mark(function t(o){var c,p,f,v,k,S;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(o.data!=="local-resource"){E.next=9;break}if(c=i.props.resourceInfo,p=c.storageType,f=c.playId,!(p&&p==="LOCAL")){E.next=9;break}return E.next=6,ge(f);case 6:v=E.sent,k=v.data,k.code===0&&(S=document.getElementById("local-resource-box"),S.contentWindow.postMessage({msg:"local-auth-key",authKey:k.data.auth_key},"*"));case 9:case"end":return E.stop()}},t)}));return function(t){return s.apply(this,arguments)}}(),this.getInfoFromSettings=(0,A.Z)(T().mark(function s(){var t,o,c;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,z.Gw)();case 2:t=f.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],c=(0,G.RG)(t,o),i.setState(c,()=>{i.initDocPage(i.props)});case 6:case"end":return f.stop()}},s)})),this.initDocPage=(0,A.Z)(T().mark(function s(){var t,o,c,p,f,v,k,S,V,E,w,Y,q,re,se,H,Ce,fe,ye,Me,ke,Ue,be,Le,he,ue,Be,Ve,ht,nt,it,ot,lt,vt,ct=arguments;return T().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(t=ct.length>0&&ct[0]!==void 0?ct[0]:{},o=t.resourceInfo,c=t.mode,p=t.studyInfo,f=t.userInfo,v=i.state.documentPlayerMode,k=o.docType,S=o.docTitle,V=o.url,E=o.studyTimeLimit,w=o.studyTime,Y=o.aliUrl,q=o.progress,re=o.storageType,se=o.playId,H=p.studyType,Ce=p.courseId,fe=p.studyId,ye=p.resourceId,Me=f.enterpriseId,ke=f.id,Ue=f.isLogin,be=f.token,Le=v==="compat"&&Y.indexOf("preview.imm.aliyun")>-1||re==="ALIBABA_PRIVATE",!Le){De.next=11;break}i.setState({showAliReader:!0}),De.next=31;break;case 11:if(he=(0,z.sH)({enterpriseId:Me,userId:ke,token:be,studyInfo:p},!0),ue=H==="studyTask"?2:1,Be=pe.ZP.SaveProgress.reportStatusInterval(p),Ve={isSaveProgress:Ue&&c==="learn"&&he,isSaveRecord:!1,access_token:be,userId:ke,hostUrl:He,courseId:Ce,resourceId:ye,courseType:1,planId:fe,studyTimeLimit:E,studyTime:w,saveProgressUrl:he,type:"eapp",progress:q,saveRecordProgressUrl:Be,actionType:ue},!(re&&re==="LOCAL")){De.next=26;break}return De.next=18,ge(se);case 18:if(ht=De.sent,nt=ht.data,nt.code!==0){De.next=25;break}Ve.auth_key=nt.data.auth_key,Ve.url=V,De.next=26;break;case 25:return De.abrupt("return");case 26:it=JSON.stringify(Ve),ot="".concat(S,".").concat(k).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),lt="".concat(Fe,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(it),"&furl=").concat(V,"?attname=").concat(ot),re&&re==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),lt="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(it),"&furl=").concat(V,"?attname=").concat(ot)),i.setState({encodeUrl:lt});case 31:case"end":return De.stop()}},s)})),this.handleReportStatusInterval=s=>{var t=s.currentPage,o=this.props,c=o.resourceInfo,p=o.mode,f=o.studyInfo,v=o.userInfo,k=c.type,S=f.courseId,V=f.studyId,E=f.resourceId,w=v.enterpriseId,Y=v.id,q=v.isLogin,re="",se="",H=0,Ce=!1;switch(k){case"enterprise":H=1,Ce=!0;break;case"study":re=V,H=2,Ce=!0;break;case"project":se=V,H=1,Ce=!0;break;default:break}if(!(!Ce||!q)){var fe={plan_id:re,enterprise_id:w,user_id:Y,course_id:S,project_course_id:se,resource_id:E,current_page:t,action_type:H,send_time:Date.parse(new Date)};p==="learn"&&(0,z.Xc)(f,fe)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(n){this.initDocPage(n)}render(){var n=this.props.resourceInfo,i=this.state,s=i.encodeUrl,t=i.documentWatermarkSettings,o=i.showAliReader,c=n.docType,p=n.type,f=n.studyTimeLimit,v=n.studyTime,k=n.aliUrl,S=n.progress,V=n.storageType,E=n.playId;return o?l().createElement(qe,{privateDocId:E,storageType:V,aliUrl:k,docType:c,progress:S,studyTime:v,studyTimeLimit:f,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:p}):l().createElement("div",{className:"doc-reader-container"},l().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:s,frameBorder:"0",allowFullScreen:!0}),l().createElement(Se.Z,{scenes:"document"}))}}var et=(0,y.$j)(ut)(_e),pt=a(38979),tt=a(90706),mt=a(12968),Pe=a(44208),Ye=a(60667),at=$=>({userInfo:$.user});class Ge extends l().Component{constructor(){var n;super(...arguments);n=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,s=i.studyInfo,t=i.mode,o=i.userInfo,c=o.enterpriseId,p=o.id;t==="learn"&&(0,G.Gp)({studyInfo:s,enterpriseId:c,userId:p})},this.getInfoFromSettings=(0,A.Z)(T().mark(function i(){var s,t,o;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,z.Gw)();case 2:s=p.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,G.RG)(s,t),n.setState(o,()=>{n.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,s=this.state.imageWatermark,t=i.name,o=i.unionid,c=i.sourceType,p=i.jobNumber,f=i.position,v=[];s.indexOf("name")>-1&&v.push(l().createElement(Ye.Z,{dataType:"userName",value:o,name:t,type:c})),s.indexOf("position")>-1&&v.push(l().createElement("span",null,f)),s.indexOf("jobnumber")>-1&&v.push(l().createElement("span",null,p)),s.length>0&&this.setState({watermark:v.map((k,S)=>l().createElement("span",{key:S},k))})},this.handleError=i=>{var s=this.props.onError;s&&s(i)},this.getImageUrl=(0,A.Z)(T().mark(function i(){var s,t,o,c,p,f,v,k,S,V;return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=n.props,t=s.resourceInfo,o=s.t,c=t.playId,p=t.url,f=t.storageType,v=p,!f){w.next=21;break}if(f!=="ALIBABA_PRIVATE"){w.next=15;break}return w.next=7,(0,z.J7)(c);case 7:if(k=w.sent,!k){w.next=12;break}v=k,w.next=13;break;case 12:return w.abrupt("return",C.default.info(o("privateCloud.docReadError")));case 13:w.next=21;break;case 15:if(f!=="LOCAL"){w.next=21;break}return w.next=18,ge(c);case 18:S=w.sent,V=S.data,V.code===0&&(v="".concat(p,"?auth_key=").concat(V.data.auth_key));case 21:n.setState({imageUrl:[v]},()=>{var Y=n.state.imageUrl,q="image-business",re=document.querySelectorAll(".".concat(q,"-image img"));re.forEach((se,H)=>{se.onerror=()=>{n.handleError(Y[H])}})});case 22:case"end":return w.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var n="image-business",i=this.props.resourceInfo,s=i.preview,t=s===void 0?!1:s,o=this.state,c=o.watermark,p=o.imageUrl;return l().createElement("div",{className:n},l().createElement(Se.Z,{scenes:"image"}),l().createElement(tt.Z,{className:"".concat(n,"-carousel")},p.map((f,v)=>l().createElement("div",{className:"".concat(n,"-image"),key:v.toString()},l().createElement(Pe.Z,{src:f,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Ge.defaultProps={prefixCls:"watch-image-page"};var rt=(0,y.$j)(at)((0,B.Z)()(Ge)),Qe=$=>({userInfo:$.user});class st extends l().Component{constructor(){var n;super(...arguments);n=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,A.Z)(T().mark(function i(){var s,t,o;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,z.Gw)();case 2:s=p.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,G.RG)(s,t),n.setState(o,()=>{n.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,s=this.state.htmlWatermark,t=i.name,o=i.unionid,c=i.sourceType,p=i.jobNumber,f=i.position,v=[];s.indexOf("name")>-1&&v.push(l().createElement(Ye.Z,{dataType:"userName",value:o,name:t,type:c})),s.indexOf("position")>-1&&v.push(l().createElement("span",null,f)),s.indexOf("jobnumber")>-1&&v.push(l().createElement("span",null,p)),s.length>0&&this.setState({watermark:v.map((k,S)=>l().createElement("span",{key:S},k))})},this.saveProgress=()=>{var i=this.props,s=i.studyInfo,t=i.mode,o=i.userInfo,c=o.enterpriseId,p=o.id;t==="learn"&&(0,G.Gp)({studyInfo:s,enterpriseId:c,userId:p})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var n="html-business",i=this.props.resourceInfo,s=i.url,t=this.state.watermark;return l().createElement("div",{className:n},l().createElement("div",{className:"".concat(n,"__html-watermark")},t),l().createElement("iframe",{title:"html",className:"".concat(n,"_iframe"),src:s}))}}var me=(0,y.$j)(Qe)((0,B.Z)()(st)),u=a(57068),r=a(1164),d=$=>({userInfo:$.user});class m extends l().PureComponent{constructor(){super(...arguments);this.getHost=n=>{var i=n.split("//"),s=i[1].split("/");return[i[0],s[0]].join("//")},this.getScormUrl=()=>{var n=this.props,i=n.studyInfo,s=n.mode,t=n.userInfo,o=n.resourceInfo,c=n.from,p=t.enterpriseId,f=t.id,v=o.url,k=this.getHost(v);if(s==="learn"){var S=(0,U.Z)({userId:f,enterpriseId:p,access_token:localStorage.token,from:c,scormUrl:encodeURIComponent(v),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(k).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(u.stringify(S))}return"".concat(k,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(v))},this.handleOpenScormLink=n=>{r.Z.targetTo({path:n,isExternalLink:!0})}}render(){var n=this.props.t,i="scorm-business",s=this.getScormUrl(),t=(0,Te.UI)("SCORM_EXTERNAL_WATCH");return l().createElement("div",{className:i},t?l().createElement("div",{className:"".concat(i,"_scorm")},l().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),l().createElement("h5",null,n("resourcePlay.scormTip")),l().createElement(M.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(s)},n("resourceLibrary.h5LinkPlayButton"))):l().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:s}))}}var I=(0,y.$j)(d)((0,B.Z)()(m));class j extends l().Component{render(){var n=this.props,i=n.visible,s=n.title,t=n.onCancel,o=n.t,c=l().createElement("span",null,s);return l().createElement(Ie.ZP,{visible:i,title:c,onCancel:t,footer:null},l().createElement("div",{className:"ban-preview"},l().createElement("div",{className:"ban-preview-center"},l().createElement("img",{src:O(),alt:"picture"}),l().createElement("h2",null,o("localStorage.tip")),l().createElement("p",null,o("localStorage.banPreview"))),l().createElement("hr",null),l().createElement(M.Z,{type:"primary",className:"know",onClick:t},o("localStorage.onKnow"))))}}var Q=(0,B.Z)()(j);class J extends P.Component{constructor(){var n;super(...arguments);n=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var s=this.props.previewInfo,t=s.onCancel;this.onCancel(),t(i)},this.onGetVideoBusiness=i=>{var s=this.props.onRef,t=s===void 0?()=>{}:s;this.videoBusiness=i,t(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,A.Z)(T().mark(function i(){var s,t,o,c,p,f,v,k,S,V,E,w=arguments;return T().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(s=w.length>0&&w[0]!==void 0?w[0]:null,t=n.props,o=t.resourceInfo,c=t.watchType,p=o.storageType,f=o.playId,v=o.originUrl,k=c==="image"||c==="video"||c==="doc",S=null,s?S=s:v?S=v:S=o.url,!(k&&S&&f&&p&&p==="LOCAL")){q.next=22;break}return q.prev=7,q.next=10,(0,z.NY)(f);case 10:return V=q.sent,q.next=13,(0,z.Hy)(S,V);case 13:E=q.sent,E?n.setState({showBan:"no"}):n.setState({showBan:"yes"}),q.next=20;break;case 17:q.prev=17,q.t0=q.catch(7),n.setState({showBan:"yes"});case 20:q.next=23;break;case 22:n.setState({showBan:"no"});case 23:case"end":return q.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,s=i.prefixCls,t=i.watchType,o=i.onCurrentTime,c=o===void 0?()=>{}:o;return l().createElement("div",{className:"".concat(s,"-outer")},t==="video"&&l().createElement(We,(0,_.Z)({onCurrentTime:c,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&l().createElement(et,this.props),t==="image"&&l().createElement(rt,(0,_.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&l().createElement(me,this.props),t==="scorm"&&l().createElement(I,this.props))},this.renderFooter=()=>{var i=this.props,s=i.resourceInfo.storageType,t=i.t,o=this.state.showBan,c=o!==""&&o==="yes";return s&&s!=="PUBLIC_CLOUD"&&c?l().createElement(M.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var n=this.props.mode;n==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(n){n.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var n=this.state,i=n.showBan,s=n.fullScreen,t=this.props,o=t.mode,c=t.previewWay,p=t.previewInfo,f=t.prefixCls,v=t.t,k=t.showEnlarge,S=t.footer,V=S===void 0?null:S,E=p.visible,w=p.destroyOnClose,Y=p.title,q=i!==""&&i==="yes",re=i!==""&&i==="no";return l().createElement(P.Fragment,null,o==="preview"&&c==="popups"&&l().createElement(Ie.ZP,{destroyOnClose:w,visible:E,title:Y,onCancel:this.onCancelModel,footer:V||this.renderFooter(),wrapClassName:"".concat(f,"-resource ").concat(s?"".concat(f,"-full"):"")},k&&l().createElement("div",{className:"".concat(f,"-resource-out-icon"),onClick:this.onFullScreen},s?l().createElement(b.Z,{className:"".concat(f,"-resource-icon")}):l().createElement(h.Z,{className:"".concat(f,"-resource-icon")})),l().createElement("div",{className:"".concat(f,"-inner")},!E&&l().createElement(e.Z,{size:"large"}),E&&re&&this.renderOuter(),q&&l().createElement(F,null))),(o==="learn"||c==="page")&&re&&this.renderOuter(),(o==="learn"||c==="page")&&l().createElement(Q,{visible:q,title:Y||v("questionn.warmHint"),onCancel:this.onCancel}))}}J.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ve=(0,B.Z)("translation",{withRef:!0})(J)},41225:function(ce,ee,a){"use strict";a.d(ee,{Hy:function(){return A},NY:function(){return g},Gw:function(){return T},sH:function(){return b},BR:function(){return P},qp:function(){return h},Xc:function(){return B},J7:function(){return l}});var Z=a(57361),e=a(9754),W=a.n(e),M=a(10237),_=a(37055),A=function(){var D=(0,Z.Z)(W().mark(function O(){var N,F,U,L,C,y,G,z=arguments;return W().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return N=z.length>0&&z[0]!==void 0?z[0]:"",F=z.length>1&&z[1]!==void 0?z[1]:"",U="",N.startsWith("http")?(L=N.split("//")[1].trim(),C=L.split("/")[0],U="https://".concat(C,"/cms/ticket")):(y=N.split("/")[0],U="https://".concat(y,"/cms/ticket")),K.prev=4,K.next=7,M.ZQ.get({url:U,params:{ticket:F}});case 7:if(G=K.sent,!(G.status===200||G.status===403)){K.next=10;break}return K.abrupt("return",Promise.resolve(!0));case 10:return K.abrupt("return",Promise.resolve(!1));case 13:return K.prev=13,K.t0=K.catch(4),K.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return K.stop()}},O,null,[[4,13]])}));return function(){return D.apply(this,arguments)}}(),g=function(){var D=(0,Z.Z)(W().mark(function O(N){var F,U;return W().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,M.ZQ.get({url:_.ZP.local.getTicket(N)});case 2:if(F=C.sent,U=F.data,U.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(U.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},O)}));return function(N){return D.apply(this,arguments)}}(),T=function(){var D=(0,Z.Z)(W().mark(function O(){var N;return W().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,M.WY.get({url:_.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return N=U.sent,U.abrupt("return",N.data.list);case 4:case"end":return U.stop()}},O)}));return function(){return D.apply(this,arguments)}}(),P=function(){var D=(0,Z.Z)(W().mark(function O(N){var F,U,L;return W().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,M.WY.get({url:_.ZP.localStorage.getPravateVideoUrl(N)});case 2:if(F=y.sent,F.data.code!==0){y.next=6;break}return U=F.data.data.videoPlayInfo,L=U===void 0?"":U,y.abrupt("return",L);case 6:return y.abrupt("return","");case 7:case"end":return y.stop()}},O)}));return function(N){return D.apply(this,arguments)}}(),l=function(){var D=(0,Z.Z)(W().mark(function O(N){var F,U,L;return W().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return F=_.ZP.localStorage.getPravateDocUrl(N),y.prev=1,y.next=4,M.WY.get({url:F});case 4:if(U=y.sent,L=U.data,!(L.code===0&&L.data)){y.next=8;break}return y.abrupt("return",L.data.docResourceDownloadUrl||"");case 8:return y.abrupt("return","");case 11:return y.prev=11,y.t0=y.catch(1),y.abrupt("return","");case 14:case"end":return y.stop()}},O,null,[[1,11]])}));return function(N){return D.apply(this,arguments)}}(),b=function(O){var N=O.studyInfo,F=O.progress,U=O.recent_start,L=O.page_count,C=O.enterpriseId,y=O.userId,G=O.token,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X,K=N.studyType;if(K==="studyTask"&&(X=_.ZP.SaveProgress.studySaveProgress(N)),(K==="course"||K==="enterprise")&&(X=_.ZP.SaveProgress.enterpriseCourseSaveProgress(N)),K==="studyProject"&&(X=_.ZP.SaveProgress.projectSaveProgress(N)),K==="platform"&&(X="".concat(_.ZP.SaveProgress.platformCourseSaveProgress(N))),(z||K==="platform")&&(X+="?enterprise_id=".concat(C,"&user_id=").concat(y)),z)return X+="&access_token=".concat(G||localStorage.getItem("token")),X;var x={progress:F,recent_start:U,tempTime:Date.parse(new Date)};return L&&(x.page_count=L),N.evaluationId&&(x.evaluation_id=N.evaluationId),M.WY.post({url:X,data:x})},h=D=>{var O=D.popupId,N=D.planId,F=D.resourceId,U=D.type;return M.WY.post({url:_.ZP.TaskStudyRecord.setRandomPopupRecord(N),data:{course_id:F,terminal_type:"PC",popup_id:O,type:U}})},B=(D,O)=>{var N=_.ZP.SaveProgress.reportStatusInterval(D);return M.WY.post({url:N,data:O})}},21594:function(ce,ee,a){"use strict";a.d(ee,{pu:function(){return _},RG:function(){return A},Gp:function(){return g},O8:function(){return T}});var Z=a(88986),e=a(69164),W=a(38642),M=a(41225),_=P=>{var l="";switch(P){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":l="studyTask";break;case"enterprise":l="enterprise";break;case"courseProject":l="studyProject";break;case"platform":case"purchased":l="platform";break;default:break}return l},A=(P,l)=>{var b={};return l.forEach(h=>{var B=P.find(U=>U.type===h.type);if(B)if(h.type==="document_duration_limit"){var D=B.action_list,O=D.find(U=>U.type==="random_popup_verification");!(0,W.UI)("RANDOM_POPUP_VERIFY")||!O?b[h.name]="CLOSE":b[h.name]=O.param.checked==="true"?"OPEN":"CLOSE"}else if(h.type==="document_player"){var N=JSON.parse(B.actions);N.forEach(U=>{U.param.checked==="true"&&(b[h.name]=U.type)})}else if(h.type==="dynamic_watermark"){var F=B.action_list;F.forEach(U=>{U.type===h.resourceType&&U.param.checked==="true"&&(b[h.name]=U.param.comment)})}else b[h.name]=B.switch_status}),b},g=P=>{(0,M.sH)((0,Z.Z)({progress:100,recent_start:1},P)).then(l=>{l&&l.data&&(0,e.Z)(l.data.integral_info||"")})},T=P=>{var l=document.createElement("div");return l.innerHTML=P,l.childNodes[0]}},11449:function(ce,ee,a){"use strict";a.d(ee,{Z:function(){return te}});var Z=a(88986),e=a(33565),W=a(12924),M=a.n(W),_=a(3115),A=a(49111),g=a(19650),T=a(62029),P=a(57663),l=a(71577),b=a(91768),h=a(28216),B=a(37055),D=a(10237);function O(ae){var ie=B.ZP.getHelpContentByMenuKey(),oe={key:ae};return D.WY.get({url:ie,params:oe})}var N=a(74228),F=a.n(N),U=a(1164),L=a(76466),C=a(38642);class y extends M().Component{constructor(ie){var oe;super(ie);oe=this,this.getHelpContentByMenuKey=()=>{var ne=this.props.defaultMenuKey;O(ne).then(de=>{var le=de.data,Ee=le.help_url,pe=le.video_url;this.setState({videoUrl:pe,helpUrl:Ee})})},this.handleOpenHelpUrl=ne=>{if((0,C.ve)()){window.open(ne,"_blank");return}U.Z.targetTo({path:ne,isExternalLink:!0})},this.handleOpenVideo=function(ne){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe.props.t("helpCenter.video");oe.setState(le=>({resourcePlayInfo:(0,Z.Z)((0,Z.Z)({},le.resourcePlayInfo),{},{resourceInfo:{originUrl:ne,source:{FD:ne,OD:ne},contentType:"mp4"}}),previewInfo:(0,Z.Z)((0,Z.Z)({},le.previewInfo),{},{title:de,visible:!0,onCancel:oe.handleCancelPreview})}))},this.handleCancelPreview=()=>{var ne=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,Z.Z)((0,Z.Z)({},ne),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:ie.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var ie=this.state,oe=ie.helpUrl,ne=ie.resourcePlayInfo,de=ie.previewInfo,le=ie.videoUrl,Ee=this.props.t;return M().createElement("div",{className:F().helpCenter},le&&M().createElement(l.Z,{type:"link",className:F()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(le)},Ee("helpCenter.video")),oe&&M().createElement(l.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(oe)},Ee("helpCenter.tutorial")),M().createElement(L.Z,(0,T.Z)({},ne,{previewInfo:de})))}}var G=ae=>({defaultMenuKey:ae.currentRoute.menuKey});y.defaultProps={defaultMenuKey:""};var z=(0,h.$j)(G)((0,b.Z)()(y));function X(ae){var ie=ae.extra,oe=localStorage.getItem("dingPersonnel"),ne=sessionStorage.getItem("dingPersonnel");return M().createElement(g.Z,null,ie,oe!=="dingPersonnel"&&ne!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&M().createElement(z,null))}var K=X,x=a(4408);function R(ae){var ie=(0,W.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),oe=(0,e.Z)(ie,1),ne=oe[0],de=ae.pageContainerParams,le=de===void 0?{}:de,Ee=ae.noPadding,pe=Ee===void 0?!1:Ee,ge=ae.isPersonal,Ne=ge===void 0?!1:ge,Ie=ae.pageTitle,Te=ae.className,Ae=Te===void 0?"":Te,Se={extra:ne.helpCenter?M().createElement(K,{extra:le.extra}):le.extra},Oe=(0,Z.Z)((0,Z.Z)({},le),Se);return M().createElement("div",{className:"page-container-content ".concat(pe?"page-container-noPadding":""," ").concat(Ne?"page-container-content_personal_background":""," ").concat(Ae)},Ie&&M().createElement(x.Z,{title:Ie}),Ne?M().createElement(_.Z,null,ae.children):M().createElement(_.Z,Oe,ae.children))}var te=R},70784:function(ce,ee,a){"use strict";a.r(ee),a.d(ee,{default:function(){return st}});var Z=a(12924),e=a.n(Z),W=a(91768),M=a(11449),_=a(4408),A=a(47673),g=a(4107),T=a(22385),P=a(31097),l=a(34792),b=a(48086),h=a(28216),B=a(73218),D=a(76570),O=a(49101),N=a(86726),F=a(88986),U=a(32157),L=a(75869),C=a(10237),y=a(37055);class G extends e().Component{constructor(u){super(u);this.loadChildren=r=>new Promise(d=>{if(r.props.children){d();return}var m=y.ZP.market.getConcatTree(),I={parent_id:r.props.dataRef.id,search_key:""};C.WY.get({url:m,params:I}).then(j=>{if(j.data.data){var Q=j.data.data.map(J=>({group_name:J.group_name,id:J.id,user_count:J.user_count,selected:J.selected,has_children:J.has_children,parent_id:J.parent_id,level:J.level}));r.props.dataRef.children=Q,this.setState({treeData:[...this.state.treeData]})}else r.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});d()})}),this.handleMove=(r,d,m)=>{var I={id:r,type:d,name:m,access_token:window.localStorage.getItem("token")},j=y.ZP.market.updateGroup({deptId:r});C.WY.post({url:j,data:I}).then(Q=>{Q.data.message==="success"?this.onMoveCbk("success"):Q.data.msg&&b.default.error(Q.data.msg)})},this.onMoveCbk=r=>{this.props.onMoveCbk(r)},this.state={treeData:[]}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(u){u.refresh!==this.props.refresh&&this.setState({treeData:[]},()=>{this.getDeptTree(this.props.parentId)})}getDeptTree(u){var r=y.ZP.market.getConcatTree(),d={parent_id:u,search_key:""};C.WY.get({url:r,params:d}).then(m=>{this.setState({treeData:[...m.data.data]})})}renderTreeNodes(u){return u.map((r,d)=>r.children?e().createElement(L.Z.TreeNode,{title:this.renderTitle(r,d,u.length),key:r.id,value:r.id,isLeaf:r.has_children!=="true",switcherIcon:r.children.length===0?e().createElement("span",null):null,dataRef:r,selected:r.selected==="true"},this.renderTreeNodes(r.children)):e().createElement(L.Z.TreeNode,{title:this.renderTitle(r,d,u.length),dataRef:r,value:r.id,key:r.id,isLeaf:r.has_children!=="true",switcherIcon:this.props.asyncLoad?null:e().createElement("span",null),selected:r.selected==="true"}))}renderTitle(u,r,d){var m=this.props,I=m.showTitleToolTip,j=m.showUserCount,Q=m.DeptTreeNodeTitle,J=m.titleOperateProps,ve=J===void 0?{}:J,$=j?"".concat(u.group_name,"(").concat(u.user_count,")"):u.group_name;return Q?e().createElement(Q,{title:$,titleOperateProps:(0,F.Z)((0,F.Z)({},ve),{},{handleMove:this.handleMove}),index:r,deptId:u.id,item:u,len:d,deptName:u.group_name}):I?e().createElement(P.Z,{title:$},e().createElement("span",null,$)):$}renderTree(){var u={showLine:{showLeafIcon:!1},onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(u.loadData=this.loadChildren),this.state.treeData.length>0?e().createElement(L.Z,u,this.renderTreeNodes(this.state.treeData)):null}render(){return e().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.renderTree())}}G.defaultProps={parentId:"",asyncLoad:!1,querySelectedUserId:"",showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,filterAuth:!0,organizationType:"",disabled:!1,handleSelect:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:()=>{}};var z=(0,W.Z)("",{withRef:!0})(G),X=a(59250),K=a(13013),x=a(57663),R=a(71577),te=a(30887),ae=a(99210),ie=a(71194),oe=a(57016),ne=a(84874),de=me=>({userInfo:me.user});class le extends Z.Component{constructor(u){super(u);this.showDeleteDeptTip=()=>{this.state.hasClickDelete||(this.setState({hasClickDelete:!0}),oe.Z.confirm({title:this.props.t("common.delete"),content:this.props.t("marketing.deleteGroup"),onOk:()=>{var r=this.props,d=r.titleOperateProps,m=r.deptId;d.remove(m),this.setState({hasClickDelete:!1})},onCancel:()=>{this.setState({hasClickDelete:!1})}}))},this.editDept=()=>{var r=this.props,d=r.titleOperateProps,m=r.deptId,I=r.deptName;d.edit(m,I)},this.addDept=()=>{var r=this.props,d=r.titleOperateProps,m=r.deptId;d.edit(m,"")},this.handleMenuClick=r=>{var d=r.key;switch(d){case"edit":this.editDept();break;case"delete":this.showDeleteDeptTip();break;case"add":this.addDept();break;case"moveUp":this.moveUp();break;case"moveDown":this.moveDown();break;default:break}},this.state={hasClickDelete:!1,allowActions:(0,N.V9)("contact_training",u.userInfo.modules)||[]}}moveUp(){var u=this.props,r=u.titleOperateProps,d=u.deptId,m=u.deptName;r.handleMove(d,"up",m)}moveDown(){var u=this.props,r=u.titleOperateProps,d=u.deptId,m=u.deptName;r.handleMove(d,"down",m)}render(){var u=this.props,r=u.t,d=u.index,m=u.len,I=u.item,j=this.state.allowActions,Q=j===void 0?[]:j,J=e().createElement(ae.Z,{onClick:this.handleMenuClick},(0,N.H3)("edit_group",Q)&&e().createElement(ae.Z.Item,{key:"edit"},r("common.edit")),(0,N.H3)("delete_group",Q)&&e().createElement(ae.Z.Item,{key:"delete"},r("common.delete")),(0,N.H3)("add_child_group",Q)&&I.level<5&&e().createElement(ae.Z.Item,{key:"add"},r("marketing.addNextGroup")),d!==0&&e().createElement(ae.Z.Item,{key:"moveUp"},r("marketing.moveUp")),d!==m-1&&e().createElement(ae.Z.Item,{key:"moveDown"},r("marketing.moveDown")));return e().createElement("div",{className:"contact-tree-node-title"},e().createElement(P.Z,{title:this.props.title},e().createElement("span",{className:"tooltip-span"},this.props.title)),e().createElement(K.Z,{overlay:J},e().createElement(R.Z,{className:"tree-node-operate"},e().createElement(ne.Z,{iconClass:"icon-icon_morex"}))))}}le.defaultProps={};var Ee=(0,h.$j)(de)((0,W.Z)()(le)),pe=a(62029),ge=a(59239),Ne=a(55446),Ie=a(18329);class Te extends e().Component{constructor(u){super(u);this.inputDeptName=d=>{var m=d.target.value;this.setState({deptName:m.trim()})},this.cancelAddDept=()=>{this.props.onAddCbk("cancel")},this.saveAddDept=()=>{var d=this.props,m=d.t,I=d.deptId;if(this.state.deptName.trim().length===0){b.default.error(m("setting.addDeptTip"));return}var j=this.props.type==="add"?y.ZP.market.createGroup():y.ZP.market.updateGroup({deptId:I}),Q={access_token:window.localStorage.getItem("token"),name:this.state.deptName};this.props.type==="add"?Q.parent_id=I:(Q.id=I,Q.type=""),C.WY.post({url:j,data:Q}).then(J=>{J.data.code===2e5||J.data.code==="200000"?(this.props.onAddCbk("success"),b.default.success(this.props.type==="add"?m("common.addSuccess"):m("common.editSuccess"))):(J.data.code===282013||J.data.code==="282013")&&b.default.error(J.data.message)})};var r=e().createElement(R.Z,{key:"submit",type:"primary",onClick:this.saveAddDept},u.t("common.ok"));this.state={deptName:this.props.initValue,addDeptModal:{mask:!0,size:"small",footer:r,onCancel:this.cancelAddDept}}}render(){var u=this.props.t;return e().createElement(Ie.ZP,(0,pe.Z)({},this.state.addDeptModal,{visible:this.props.visible,title:this.props.type==="add"?u("common.add"):u("common.edit")}),e().createElement("div",{className:"contact-add-user-group-body"},e().createElement(ge.Z,null,e().createElement(ge.Z.Item,{label:u("setting.deptLabel"),className:"add-user-group-label"},e().createElement(g.Z,{placeholder:u("setting.addDeptTip"),value:this.state.deptName,onInput:this.inputDeptName,className:"add-user-group-input",maxLength:10})))))}}Te.defaultProps={type:"add",initValue:"",deptId:"",visible:!1,onAddCbk:()=>{}};var Ae=(0,W.Z)()(Te),Se=me=>({userInfo:me.user});class Oe extends Z.Component{constructor(u){super(u);this.loadedRoot=r=>{this.props.onSelectNode&&this.props.onSelectNode(r.id,r.group_name)},this.onSearch=(r,d)=>{var m=typeof d!="undefined"?d:r.target.value;if(m.trim().length===0){this.clearSearch();return}var I=y.ZP.market.getConcatTree(),j={search_key:m,parent_id:""};C.WY.get({url:I,params:j}).then(Q=>{this.setState({searchDeptResult:Q.data.data,isSearch:!0})})},this.inputSearchText=r=>{var d=r.target.value;this.setState({searchText:d})},this.clearSearch=()=>{this.setState({searchDeptResult:[],searchText:"",isSearch:!1})},this.treeNodeClick=(r,d)=>{var m=d.node;this.setState({activeDeptId:r[0]}),this.props.onSelectNode&&this.props.onSelectNode(r[0],"".concat(m.dataRef.group_name,"(").concat(m.dataRef.user_count,")"))},this.alltreeNodeClick=(r,d)=>{this.setState({activeDeptId:r}),this.props.onSelectNode&&this.props.onSelectNode(r,d)},this.removeDept=r=>{var d=y.ZP.market.deleteGroup(),m={id:r};C.WY.post({url:d,data:m}).then(I=>{I.data.code===2e5||I.data.code==="200000"?(b.default.success(this.props.t("common.deleteSuccess")),this.setState({refresh:this.state.refresh+1})):b.default.error(I.data.message)})},this.showAddDept=(r,d)=>{this.setState({showAddDept:!0,currentDeptId:r,editDeptName:d})},this.addUserGroup=()=>{this.showAddDept("","")},this.onAddDeptCbk=r=>{this.setState({showAddDept:!1}),r==="success"&&this.setState({refresh:this.state.refresh+1})},this.onMoveCbk=r=>{r==="success"&&this.setState({refresh:this.state.refresh+1})},this.state={searchDeptResult:[],isSearch:!1,searchText:"",activeDeptId:"",showAddDept:!1,editDeptName:"",currentDeptId:"",refresh:0,allowActions:(0,N.V9)("contact_training",u.userInfo.modules)||[]}}componentDidMount(){}renderTree(){var u=this.props,r=u.organizationType,d=u.t,m=this.state.allowActions,I=m===void 0?[]:m,j={remove:this.removeDept,edit:this.showAddDept};return e().createElement("div",{className:"contact-org-tree-padding-wrapper",style:(0,N.H3)("add_group",I)?{}:{height:"calc(100vh - 286px)"}},e().createElement("div",{className:"contact-org-tree-item",onClick:()=>this.alltreeNodeClick("root","".concat(d("common.all")).concat(d("marketing.contactTitle")))},e().createElement("span",null,"".concat(d("common.all")).concat(d("marketing.contactTitle")))),e().createElement("div",{className:"contact-org-tree-item",onClick:()=>this.alltreeNodeClick("default",d("marketing.unclassified"))},e().createElement("span",null,d("marketing.unclassified"))),e().createElement(z,{parentId:"",asyncLoad:!0,showUserCount:!0,showTitleToolTip:!0,refresh:this.state.refresh,DeptTreeNodeTitle:Ee,titleOperateProps:j,handleSelect:this.treeNodeClick,handleLoadedCbk:this.loadedRoot,organizationType:r,onMoveCbk:this.onMoveCbk}))}renderSearchResult(){var u=this.props.t,r=this.state.searchDeptResult.map(d=>e().createElement(P.Z,{title:"".concat(d.group_name,"(").concat(d.user_count).concat(u("common.userUnit"),")"),key:d.id},e().createElement("div",{className:this.state.activeDeptId===d.id?"contact-org-tree-search-one active":"contact-org-tree-search-one",key:d.id,onClick:()=>this.treeNodeClick([d.id],{node:{dataRef:{group_name:d.group_name,user_count:d.user_count}}})},"".concat(d.group_name,"(").concat(d.user_count).concat(u("common.userUnit"),")"))));return e().createElement("div",{className:"contact-org-tree-search-result"},r)}render(){var u=this.props.t,r=this.state.allowActions,d=r===void 0?[]:r,m=this.state.searchText.length>0?e().createElement(B.Z,{onClick:this.clearSearch}):e().createElement(D.Z,{onClick:I=>this.onSearch(I,this.state.searchText)});return e().createElement("div",{className:"contact-org-tree-container"},e().createElement(g.Z,{className:"contact-org-tree-search",value:this.state.searchText,placeholder:u("searchInputPlaceholder.department"),onInput:this.inputSearchText,onPressEnter:this.onSearch,suffix:m}),(0,N.H3)("add_group",d)&&e().createElement("div",{className:"contact-org-tree-operate"},e().createElement("div",{className:"contact-add-user-group",onClick:this.addUserGroup},e().createElement(O.Z,null)," ",u("marketing.addGroup"))),this.state.isSearch?this.renderSearchResult():this.renderTree(),this.state.showAddDept?e().createElement(Ae,{visible:this.state.showAddDept,initValue:this.state.editDeptName,deptId:this.state.currentDeptId,type:this.state.editDeptName.length>0?"edit":"add",onAddCbk:this.onAddDeptCbk}):null)}}Oe.defaultProps={onSelectNode:()=>{}};var Re=(0,h.$j)(Se)((0,W.Z)()(Oe));class Ze extends Z.Component{constructor(){super(...arguments);this.state={},this.handleDeptNode=(u,r)=>{this.props.onSelectNode({activeId:u,title:r})}}render(){var u=this.props.organizationType;return e().createElement("div",{className:"contact-orgbox-container"},e().createElement("div",{className:"contact-orgbox-title"},this.props.t("marketing.contactGroup")),e().createElement(Re,{onSelectNode:this.handleDeptNode,organizationType:u}))}}Ze.defaultProps={onSelectNode:()=>{}};var xe=(0,W.Z)()(Ze),We=a(14781),je=a(53431),we=a(90631),$e=a(66456),Je=a(55313),dt=a(43185),Xe=a(53251),ze={downloadTemplate:y.ZP.Organization.downloadTemplateContact,uploadTemplate:y.ZP.Organization.uploadTemplateContact};class Ke extends Z.Component{constructor(u){super(u);this.cancelExportUser=()=>{var r=this.props.onHideModal;r&&r()},this.fileUpload=r=>{var d=this.props.t;r.file&&r.file.response&&(r.file.response.error_messages?this.setState({checkTemplate:r.file.response.check,importedList:[r.file.response],uploadErrMsg:r.file.response.error_messages}):b.default.error(d("upload.typeError")))},this.onOk=()=>{var r=this.props.t,d=this.state,m=d.importedList,I=d.checkTemplate;if(I==="false"){b.default.error(r("upload.typeError"));return}var j={access_token:window.localStorage.getItem("token"),new_file_name:m.map(Q=>Q.new_file_name).join(",")};this.props.onCreate(j)},this.downloadAddressBook=()=>{window.location.href="".concat(ze.downloadTemplate(),"?access_token=").concat(window.localStorage.getItem("token"))},this.state={exportUserConfirmConfig:{title:u.t("setting.zdImportUser"),size:"large",cancelText:u.t("common.cancel"),okText:u.t("common.ok"),okButtonProps:{disabled:!1}},importedList:[],showLibErrorTip:!1,uploadConfig:{name:"file",action:"".concat(ze.uploadTemplate()),showUploadList:!1,headers:{"Enterprise-Id":localStorage.getItem("enterpriseId")},data:{access_token:window.localStorage.getItem("token")},onChange:this.fileUpload},uploadErrMsg:[],checkTemplate:""}}componentDidUpdate(u){u.exportUserModalVisible!==this.props.exportUserModalVisible&&this.props.exportUserModalVisible&&this.setState({importedList:[],showLibErrorTip:!1,uploadErrMsg:[]})}render(){var u=this.state,r=u.exportUserConfirmConfig,d=u.uploadConfig,m=u.importedList,I=u.uploadErrMsg,j=this.props,Q=j.exportUserModalVisible,J=j.t,ve=[{title:J("setting.fileName"),dataIndex:"file_name",key:"id"},{title:J("setting.successLabel"),dataIndex:"success_count",width:100},{title:J("setting.failLabel"),dataIndex:"failed_count",width:100,className:"last-column"}];return e().createElement(Ie.ZP,(0,pe.Z)({},r,{visible:Q,onCancel:this.cancelExportUser,onOk:this.onOk}),e().createElement("div",{className:"export-user-modal"},e().createElement("div",{className:"opreate-area"},e().createElement("div",{className:"download"},e().createElement(R.Z,{type:"default",className:"delete-user-btn",onClick:this.downloadAddressBook},e().createElement(ne.Z,{iconClass:"iconf-download"}),J("evaluationManage.downLoadTemplate")),e().createElement("span",{className:"tips"},J("setting.importUserTipOfJob"))),e().createElement(Xe.Z,(0,pe.Z)({className:"upload-excel"},d),e().createElement(R.Z,{className:"export-user-btn",type:"primary"},e().createElement(ne.Z,{iconClass:"iconf-upload-folder"}),m.length===0?J("component.importLabel"):J("employeeSummary.reImport")))),e().createElement("div",{className:"display-area"},e().createElement(Je.Z,{key:"group-table",dataSource:m,columns:ve,bordered:!0,rowKey:$=>$.new_file_name,size:"middle",pagination:!1}),I&&I.length>0?e().createElement("div",{className:"import-score-tip"},e().createElement("p",null,e().createElement(ne.Z,{iconClass:"icon-tishi"}),J("component.errorTips"),":"),I.map(($,n)=>e().createElement("p",{key:n},$))):null)))}}var qe=(0,h.$j)()((0,W.Z)()(Ke)),ut=a(43358),He=a(34041),Fe=a(6793),_e=He.Z.Option;class et extends e().Component{constructor(u){super(u);this.cancelAddUser=()=>{this.props.onCancel()};var r=e().createElement(R.Z,{key:"submit",type:"primary",onClick:()=>this.saveAddUser()},u.t("common.ok"));this.state={addUserFieldModal:{mask:!0,size:"small",footer:r,destroyOnClose:!0,onCancel:this.cancelAddUser},editField:{}}}componentDidUpdate(u){if(u.visible!==this.props.visible&&this.props.visible){var r=this.props.userInfo,d={name:{error:"",value:r.name||""},phone_num:{error:"",value:r.phone_num||""},gender:{error:"",value:r.gender||""},position:{error:"",value:r.position||""},email:{error:"",value:r.email||""},wechat_id:{error:"",value:r.wechat_id||""}};this.setState({editField:d})}}saveAddUser(){var u=this.state.editField,r=this.props,d=r.type,m=r.userInfo,I=r.t,j=r.deptId,Q=/^[0-9-]+$/,J=/^\w+@[a-z0-9]+\.[a-z]{2,4}$/,ve=!1;if(u.name.value.trim()===""&&(u.name.error=I("marketing.nameError"),ve=!0),u.phone_num.value.trim()===""&&(u.phone_num.error=I("marketing.phoneError"),ve=!0),(0,Fe.fy)(u.phone_num.value)!==""&&!u.phone_num.value.match(Q)&&(u.phone_num.error=I("marketing.phoneErrorOk"),ve=!0),(0,Fe.fy)(u.email.value)!==""&&!u.email.value.match(J)&&(u.email.error=I("marketing.emailError"),ve=!0),this.setState({editField:u}),!ve){var $=d==="edit"?y.ZP.market.updateConcatPersonInfo():y.ZP.market.addConcatPersonInfo(),n={name:u.name.value,phone_num:u.phone_num.value,gender:u.gender.value,position:u.position.value,email:u.email.value,wechat_id:u.wechat_id.value,source:"normal",group_ids:j==="root"||j==="default"?d==="edit"?[]:["default"]:[j]};d==="edit"&&(n.id=m.id,n.status="pass"),C.WY.post({url:$,data:n}).then(i=>{i.data.code===2e5||i.data.code==="200000"?(b.default.success(I(d==="edit"?"common.editSuccess":"common.addSuccess")),this.props.onOk()):i.data.code===582001&&b.default.error(i.data.message)}).catch(i=>{console.log(i)})}}handleInput(u,r){var d=this.state.editField;d[r].value=u.target.value,d[r].error="",this.setState({editField:d})}handleGenderSelectChange(u){var r=this.state.editField;r.gender.value=u,r.gender.error="",this.setState({editField:r})}render(){var u=this.props,r=u.t,d=u.type,m=this.state.editField;return m.name?e().createElement(Ie.ZP,(0,pe.Z)({},this.state.addUserFieldModal,{visible:this.props.visible,title:d==="edit"?"".concat(r("common.edit")).concat(r("marketing.contactTitle")):"".concat(r("common.add")).concat(r("marketing.contactTitle"))}),e().createElement("div",{className:"contact-add-user"},e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label required name"},r("marketing.contactName"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(g.Z,{placeholder:r("marketing.userNameDesc"),value:m.name.value,maxLength:20,onInput:I=>this.handleInput(I,"name")}),m.name&&m.name.error&&e().createElement("p",{className:"field-item-value-tip"},m.name.error))),e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label required phone"},r("setting.phoneLabel"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(g.Z,{placeholder:r("marketing.phonePlaceholder"),value:m.phone_num.value,maxLength:20,onInput:I=>this.handleInput(I,"phone_num")}),m.phone_num&&m.phone_num.error&&e().createElement("p",{className:"field-item-value-tip"},m.phone_num.error))),e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label"},r("lecturerPage.sex"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(He.Z,{style:{width:"100%"},defaultValue:m.gender.value,onChange:I=>this.handleGenderSelectChange(I)},e().createElement(_e,{value:"male"},r("lecturerPage.male")),e().createElement(_e,{value:"female"},r("lecturerPage.female")),e().createElement(_e,{value:"unknown"},r("marketing.unknown"))),m.gender&&m.gender.error&&e().createElement("p",{className:"field-item-value-tip"},m.gender.error))),e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label"},r("common.post"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(g.Z,{placeholder:"",value:m.position.value,maxLength:20,onInput:I=>this.handleInput(I,"position")}),m.position&&m.position.error&&e().createElement("p",{className:"field-item-value-tip"},m.position.error))),e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label"},r("marketing.email"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(g.Z,{placeholder:"",value:m.email.value,maxLength:100,onInput:I=>this.handleInput(I,"email")}),m.email&&m.email.error&&e().createElement("p",{className:"field-item-value-tip"},m.email.error))),e().createElement("div",{className:"field-item"},e().createElement("div",{className:"field-item-label"},r("setting.weChatAccount"),":"),e().createElement("div",{className:"field-item-value"},e().createElement(g.Z,{placeholder:"",value:m.wechat_id.value,maxLength:64,onInput:I=>this.handleInput(I,"wechat_id")}),m.wechat_id&&m.wechat_id.error&&e().createElement("p",{className:"field-item-value-tip"},m.wechat_id.error))))):null}}var pt=(0,W.Z)()(et),tt=a(16598),mt=a(36202),Pe={pageNumber:1,pageSize:20},Ye=me=>({modules:me.user.modules,appType:me.user.appType}),at=g.Z.Search;class Ge extends Z.Component{constructor(u){super(u);this.handleSearch=r=>{var d=this.state.searchStaus,m=d===void 0?"":d;Pe.pageNumber=1,this.setState({searchValue:r}),this.getUserList(this.props.deptId,r,m)},this.searchChange=r=>{var d=r.target.value;this.setState({searchValue:d})},this.changeType=r=>{var d=r.target.value;Pe.pageNumber=1;var m=this.state.searchValue,I=m===void 0?"":m;this.setState({searchStaus:d}),this.getUserList(this.props.deptId,I,d)},this.pageChange=r=>{var d=this.state,m=d.searchStaus,I=m===void 0?"":m,j=d.searchValue,Q=j===void 0?"":j;Pe.pageNumber=r,this.getUserList(this.props.deptId,Q,I)},this.pageSizeChange=(r,d)=>{var m=this.state,I=m.searchStaus,j=I===void 0?"":I,Q=m.searchValue,J=Q===void 0?"":Q;Pe.pageNumber=1,Pe.pageSize=d,this.getUserList(this.props.deptId,J,j)},this.importUser=()=>{this.setState({exportUserModalVisible:!0})},this.hideExportUserModal=()=>{var r=this.state,d=r.searchStaus,m=d===void 0?"":d,I=r.searchValue,j=I===void 0?"":I;this.setState({exportUserModalVisible:!1}),this.getUserList(this.props.deptId,j,m)},this.handleTemplateOk=r=>{var d=this.props.t,m=y.ZP.Organization.importSubmitContact();C.qg.post({url:m,data:r}).then(I=>{I.data.result==="true"?(b.default.success(d("employeeSummary.succeedImportContactPerson")),this.hideExportUserModal(),this.getUserList("root")):b.default.error(d("employeeSummary.importFail"))})},this.showEditField=r=>{this.setState({showAddUser:!0,currentUser:(0,F.Z)({},r)})},this.sureEditField=()=>{var r=this.state,d=r.searchStaus,m=d===void 0?"":d,I=r.searchValue,j=I===void 0?"":I;this.hiddenEditField(),this.getUserList(this.props.deptId,j,m)},this.addUser=()=>{this.setState({showAddUser:!0,currentUser:{name:"",phone_num:"",gender:"",position:"",email:"",wechat_id:""}})},this.sureAddUser=()=>{var r=this.state,d=r.searchStaus,m=d===void 0?"":d,I=r.searchValue,j=I===void 0?"":I;this.hiddenAddUser(),this.getUserList(this.props.deptId,j,m)},this.hiddenAddUser=()=>{this.setState({showAddUser:!1})},this.renderLeftRow=()=>{var r=this.props.t,d=this.state.allowActions,m=d===void 0?[]:d;return e().createElement("div",{className:"contact-top-operate-btn-wrapper"},e().createElement("div",{className:"contact-top-operate-btn"},(0,N.H3)("add_contacts",m)&&e().createElement(R.Z,{type:"primary",className:"contact-top-operate-btn-btn",onClick:this.addUser},e().createElement(O.Z,null),r("setting.zdAddUSer"))),e().createElement("div",{className:"contact-top-operate-btn"},e().createElement(R.Z,{type:"primary",ghost:!0,className:"contact-top-operate-btn-btn",onClick:this.importUser},e().createElement(we.Z,null),r("setting.zdImportUser"))))},this.renderRightRow=()=>{var r=this.props.t;return e().createElement("div",{className:"contact-top-operate-right"},e().createElement(at,{className:"contact-top-operate-search",placeholder:r("marketing.concatDesc"),onSearch:this.handleSearch,onChange:this.searchChange,maxLength:400,allowClear:!0}))},this.state={userList:[],userTotal:0,exportUserModalVisible:!1,currentUser:{},showAddUser:!1,searchStaus:"all",searchValue:"",allowActions:(0,N.V9)("contact_training",u.modules)||[]}}componentDidMount(){this.getUserList("root")}UNSAFE_componentWillUpdate(u){if(!!u.deptId&&u.deptId!==this.props.deptId){Pe.pageNumber=1;var r=this.state,d=r.searchStaus,m=d===void 0?"":d,I=r.searchValue,j=I===void 0?"":I;this.getUserList(u.deptId,j,m)}}componentWillUnmount(){Pe.pageNumber=1,Pe.pageSize=20}getUserList(u){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",m=y.ZP.market.getListConcatPersonInfo({deptId:u}),I={search_key:r,page_num:Pe.pageNumber,page_size:Pe.pageSize,status:d==="all"?"":d};C.WY.get({url:m,params:I}).then(j=>{j.data.data.list&&j.data.data.list.forEach(Q=>{Q.timeLabel=(0,Fe.p6)(Number(Q.create_time),"yyyy-MM-dd")}),this.setState({userList:j.data.data.list||[],userTotal:j.data.data.total})})}operateClick(u,r){var d=this.props.t,m=this.state,I=m.searchStaus,j=I===void 0?"":I,Q=m.searchValue,J=Q===void 0?"":Q;oe.Z.confirm({title:d(r==="delete"?"common.tip":"common.approved"),content:d(r==="delete"?"marketing.delContactDesc":"marketing.approved"),okText:d("common.ok"),cancelText:d("common.cancel"),onOk:()=>{if(r==="delete"){var ve=y.ZP.market.deleteConcatPersonInfo(),$={id_list:[u.id]};C.WY.post({url:ve,data:$}).then(()=>{b.default.success("".concat(d("common.delete")).concat(d("component.successLabel"))),this.getUserList(this.props.deptId,J,j)}).catch(s=>{console.log(s)})}else if(r==="approved"){var n=y.ZP.market.statusPass(),i={id:u.id,status:"pass"};C.WY.post({url:n,data:i}).then(()=>{this.getUserList(this.props.deptId,J,j)}).catch(s=>{console.log(s)})}}})}render(){var u=this.props,r=u.t,d=u.deptId,m=u.tabStatus,I=m===void 0?"":m,j=this.state,Q=j.currentUser,J=j.showAddUser,ve=j.exportUserModalVisible,$=j.allowActions,n=$===void 0?[]:$,i=(0,F.Z)((0,F.Z)({},y.XE.INITIAL_PAGINATION),{},{current:Pe.pageNumber,pageSize:Pe.pageSize,defaultPageSize:20,total:Number(this.state.userTotal),onChange:this.pageChange,onShowSizeChange:this.pageSizeChange}),s=[{title:r("marketing.contactName"),dataIndex:"name",key:"name",width:100,fixed:this.props.appType==="wx_app"?!1:"left"},{title:r("marketing.telPhone"),dataIndex:"phone_num",key:"phone_num",width:100},{title:r("marketing.belongingToTheGroup"),dataIndex:"group_name",key:"group_name",width:200},{title:r("component.belongPost"),dataIndex:"position",key:"position",width:200},{title:r("lecturerPage.sex"),dataIndex:"gender",key:"gender",render:t=>{var o="";return t==="male"?o=r("lecturerPage.male"):t==="female"?o=r("lecturerPage.female"):o=r("marketing.unknown"),o},width:120},{title:r("common.createTime"),dataIndex:"timeLabel",key:"timeLabel",width:120},{title:this.props.t("common.operate"),key:"operate",width:100,fixed:"right",render:(t,o)=>{var c=[{visible:(0,N.H3)("edit_contacts",n),title:r("common.edit"),click:()=>this.showEditField(o)},{visible:o.source==="invite"&&(0,N.H3)("pass",n),title:r("common.approved"),click:()=>this.operateClick(o,"approved")},{visible:(0,N.H3)("delete_contacts",n),title:r("common.delete"),click:()=>this.operateClick(o,"delete")}];return e().createElement(tt.Z,{buttons:c})}}];return e().createElement("div",{className:"contact-display-table"},e().createElement("span",{className:"contact-name"},this.props.deptTitle),e().createElement("div",{className:"contact-user-table"},e().createElement("div",{className:"contact-user-content-list",style:I?{minHeight:"calc(100vh - 412px"}:{}},e().createElement(mt.f,{key:"contact-table",dataSource:this.state.userList,columns:s,rowKey:t=>t.id,pagination:!1,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"e481d5b1-d1cc-4000-839c-961a7f1fdee3"})),e().createElement("div",{className:"contact-user-pagination-wrapper"},e().createElement(je.Z,(0,pe.Z)({},i,{className:"contact-user-pagination"})))),ve?e().createElement(qe,{onHideModal:this.hideExportUserModal,onCreate:this.handleTemplateOk,exportUserModalVisible:ve,groupId:"",deptId:d}):null,e().createElement(pt,{visible:J,deptId:d,type:Q.id?"edit":"add",userInfo:Q,onOk:this.sureAddUser,onCancel:this.hiddenAddUser}))}}var rt=(0,W.Z)()((0,h.$j)(Ye)(Ge));class Qe extends e().Component{constructor(u){super(u);this.onSelectNode=r=>{var d=r.activeId,m=r.title;this.setState({activeDeptId:d,activeDeptTitle:m})},this.state={activeDeptId:"root",activeDeptTitle:"".concat(this.props.t("common.all")).concat(this.props.t("marketing.contactTitle"))}}renderDisplayTable(){var u=this.props.organizationType;return e().createElement("div",{className:"contact-organization-table-container"},e().createElement("div",{className:"contact-organization-table-one"},e().createElement(rt,{deptId:this.state.activeDeptId,deptTitle:this.state.activeDeptTitle,organizationType:u})))}render(){var u=this.props,r=u.prefixCls,d=u.prefixClsContent,m=u.organizationType,I=u.t;return e().createElement(M.Z,{pageContainerParams:{header:{title:this.props.t("marketing.contactManagement")}}},e().createElement(_.Z,{title:I("marketing.contactManagement")}),e().createElement("div",{className:r},e().createElement("div",{className:"".concat(r,"__content ").concat(d)},e().createElement("div",{className:"contact-organization-left"},e().createElement(xe,{onSelectNode:this.onSelectNode,organizationType:m})),e().createElement("div",{className:"contact-organization-right"},this.renderDisplayTable()))))}}Qe.defaultProps={prefixCls:"contact-organization-container-wrapper",prefixClsContent:"contact-organization-container"};var st=(0,W.Z)()(Qe)},9849:function(ce,ee,a){"use strict";a.d(ee,{Ej:function(){return _},kL:function(){return A},T:function(){return g},NU:function(){return T},FL:function(){return P},fn:function(){return l},bm:function(){return b},jY:function(){return h},Vs:function(){return B},li:function(){return D},Nl:function(){return O},YF:function(){return N},Q6:function(){return F},zW:function(){return U},Zv:function(){return L},Qg:function(){return C},qc:function(){return y},Ve:function(){return z},rS:function(){return X},Rh:function(){return K}});var Z=a(10237),e=a(37055),W=a(38642),M={zaraFlag:(0,W.UI)("ZARA_H5")};function _(x,R){var te=e.ZP.StudyProjectList.startStudy(x);return Z.WY.post({url:te,data:R})}function A(x){var R=e.ZP.Common.enroll(x);return Z.WY.post({url:R})}function g(x,R){var te=x.courseId,ae=e.ZP.StudyProjectList.studyProject(te);return Z.WY.get({url:ae,params:R})}function T(x){var R=x.id,te=M.zaraFlag?e.m1.getAssessmentProjectInfo(R):e.m1.getProjectInfo(R);return Z.WY.get({url:te})}function P(x){var R=x.courseId,te=e.ZP.EnterpriseCourse.addScanCount(R);return Z.WY.post({url:te})}function l(){var x=e.ZP.StudyProjectList.getAccountInfo();return Z.WY.get({url:x})}function b(x){var R=e.ZP.StudyProjectList.projectCertiUrl(x);return Z.WY.get({url:R})}function h(x){var R=x.courseId,te=e.ZP.Courses.like(R);return Z.WY.post({url:te})}function B(x){var R=e.ZP.EnterpriseCourse.addCommentAndScore();return Z.qg.post({url:R,data:x})}function D(x){var R=e.ZP.EnterpriseCourse.getCourseComments();return Z.WY.get({url:R,params:x})}function O(x){var R=e.ZP.EnterpriseCourse.addCommentAndScore();return Z.qg.post({url:R,data:x})}function N(x){var R=e.ZP.EnterpriseCourse.deleteComment();return Z.qg.post({url:R,data:x})}function F(x,R){var te=e.ZP.StudyProjectList.projectStudyRecord(x);return Z.WY.get({url:te,params:R})}function U(x){var R=e.ZP.DingSpaceId.getSpaceId();return Z.WY.get({url:R,params:x})}function L(x,R){var te=e.ZP.PlatformCourse.learningUrl(x);return Z.WY.get({url:te,params:R})}function C(x){var R=e.ZP.MyExamTask.examIntro({examId:x});return Z.WY.get({url:R})}function y(x){var R=e.ZP.MyExamTask.examCheckStatus({examId:x});return Z.WY.get({url:R})}function G(x,R){var te=CONFIG.Common.getOperateLog(x);return formDataRequest.get({url:te,params:R})}function z(x,R){var te=M.zaraFlag?e.ZP.StudyProjectList.changeCustomStatus(x):e.ZP.StudyProjectList.changeStatus(x);return Z.WY.post({url:te,data:R})}function X(x){var R=e.ZP.StudyProjectList.getProjectReward(x);return Z.WY.get({url:R})}function K(x){var R=e.ZP.subsidyGz.subsidyCourseSetting(x);return Z.WY.get({url:R})}},91648:function(ce,ee,a){"use strict";a.d(ee,{Z:function(){return Z}});function Z(e,W){var M,_,A,g,M;if(_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),M=[],A=void 0,W=W||_.length,e)for(A=0;A<e;)M[A]=_[0|Math.random()*W],A++;else for(g=void 0,M[8]=M[13]=M[18]=M[23]="-",M[14]="4",A=0;A<36;)M[A]||(g=0|Math.random()*16,M[A]=_[A===19?g&3|8:g]),A++;return M.join("")}},86726:function(ce,ee,a){"use strict";a.d(ee,{V9:function(){return e},H3:function(){return W},e:function(){return M},F:function(){return _}});var Z=a(93485);function e(A){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=[];function P(l,b){var h=(0,Z.Z)(b),B;try{for(h.s();!(B=h.n()).done;){var D=B.value;if(D.key===l){T=D.actions;break}D.children instanceof Array&&D.children.length&&P(A,D.children)}}catch(O){h.e(O)}finally{h.f()}}return P(A,g),T}function W(A){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=g.find(P=>P.key===A)||{};return T.checked||!1}function M(A){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=!1;function P(l,b){var h=(0,Z.Z)(b),B;try{for(h.s();!(B=h.n()).done;){var D=B.value;if(D.key===l){T=D.checked;break}D.children instanceof Array&&D.children.length&&P(A,D.children)}}catch(O){h.e(O)}finally{h.f()}}return P(A,g),T}function _(A){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T="";function P(l,b){var h=(0,Z.Z)(b),B;try{for(h.s();!(B=h.n()).done;){var D=B.value;if(D.key===l){T=D.id;break}D.children instanceof Array&&D.children.length&&P(A,D.children)}}catch(O){h.e(O)}finally{h.f()}}return P(A,g),T}},69164:function(ce,ee,a){"use strict";var Z=a(34792),e=a(48086);function W(M){M&&M.length>0&&e.default.success(M)}ee.Z=W},4412:function(ce){ce.exports="data:image/png;base64,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"}}]);
