(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4276],{41194:function(Ue,oe,a){"use strict";var ee=a(47673),H=a(4107),Ee=a(57663),D=a(71577),de=a(34792),I=a(48086),T=a(12924),l=a.n(T),U=a(91768),b=a(92592),w=a(87797),h=a.n(w);class Y extends l().Component{constructor(e){super(e);this.handleDownload=()=>{var f=document.getElementById("code_canvas"),P=this.state.codeUrl,W=new Image;W.crossOrigin="anonymous",W.src=P,W.onload=()=>{var X=f.getContext("2d");X.textAlign="center",X.fillStyle="#fff",X.fillRect(0,0,750,886),X.drawImage(W,185,217,381,381),X.font="42px bold serif",X.fillStyle="#4F4F4F";var re=f.toDataURL("image/jpeg"),N=document.createElement("a");N.setAttribute("href",re),N.setAttribute("download","".concat(this.props.t("setting.Qrcode"),".jpg")),document.body.insertAdjacentElement("beforeend",N),N.click(),N.remove()}},this.handleCopy=()=>{var f=this.props.id,P=document.getElementById(f||"visitor-link");P.select(),document.execCommand("Copy"),I.default.success(this.props.t("live.copySuccess"))},this.state={codeUrl:""}}componentDidMount(){this.props.shareUrl&&b.toDataURL(this.props.shareUrl,{width:500}).then(e=>{this.setState({codeUrl:e})}).catch(()=>{I.default.error(this.props.t("integralMall.qrCodeFailed"))})}componentDidUpdate(e){e.shareUrl!==this.props.shareUrl&&this.props.shareUrl&&b.toDataURL(this.props.shareUrl,{width:500}).then(f=>{this.setState({codeUrl:f})}).catch(()=>{I.default.error(this.props.t("integralMall.qrCodeFailed"))})}render(){var e=this.props,f=e.shareUrl,P=e.t,W=e.notShowQrCode,X=e.urlLabel,re=e.id,N=this.state.codeUrl;return l().createElement(T.Fragment,null,W?null:l().createElement("div",{className:h()["visitor-qrCode-share"]},l().createElement("label",null,P("setting.Qrcode"),":"),l().createElement("div",{className:h()["qrCode-section"]},l().createElement("img",{className:h()["qrCode-img"],src:N,alt:""}),l().createElement("canvas",{className:h()["code-canvas"],id:"code_canvas",width:750,height:886}),l().createElement(D.Z,{type:"primary",className:h()["download-btn"],onClick:this.handleDownload},P("shareInfo.downloadCode")))),l().createElement("div",{className:h()["visitor-url-share"]},l().createElement("label",null,X||P("common.urlAddress"),":"),l().createElement("div",{className:h()["right-content"]},l().createElement(H.Z,{className:h()["share-url-input"],readOnly:!0,value:f,id:re||"visitor-link"}),l().createElement(D.Z,{type:"primary",className:h()["copy-btn"],onClick:this.handleCopy},P("registerLogin.copyLink")),l().createElement("span",{className:h()["share-tip"]},P("common.shareTip")))))}}Y.defaultProps={shareUrl:"",notShowQrCode:!1,urlLabel:"",id:"visitor-link"},oe.Z=(0,U.Z)()(Y)},99946:function(Ue,oe,a){"use strict";var ee=a(12924),H=a.n(ee),Ee=a(91768),D=a(40847),de=a(41194),I=a(51431),T=a.n(I);class l extends H().Component{constructor(b){super(b);this.handleVisitorTabs=w=>{var h=this.props.handleVisitorTabs;h&&h(w)},this.state={shareUrl:"",excludeDomains:["localhost","127.0.0.1"]}}componentDidMount(){var b=this.state.excludeDomains,w=this.props,h=w.option,Y=w.pcDomain,p=Y||window.location.hostname||document.domain||"",e=window.location.port,f=localStorage.getItem("enterpriseId");p&&b.indexOf(p)<0?this.setState({shareUrl:"https://".concat(p,"/#/visitor?").concat(h.scene,"&enterpriseId=").concat(f)}):this.setState({shareUrl:"http://".concat(p,":").concat(e,"/#/visitor?").concat(h.scene,"&enterpriseId=").concat(f)})}render(){var b=this.props,w=b.t,h=b.tip,Y=b.onlyUrl,p=b.urlLabel,e=b.id,f=this.state.shareUrl;return H().createElement("div",{className:T()["visitor-share-content"]},H().createElement("p",{className:T()["share-tip"]},H().createElement(D.Z,{className:T()["info-icon"]}),h||w("common.visitorShareTip")),H().createElement(de.Z,{id:e,shareUrl:Y||f,urlLabel:p}))}}l.defaultProps={record:{},shareUrl:"",tip:"",urlLabel:"",id:""},oe.Z=(0,Ee.Z)()(l)},11449:function(Ue,oe,a){"use strict";a.d(oe,{Z:function(){return Oe}});var ee=a(88986),H=a(33565),Ee=a(12924),D=a.n(Ee),de=a(3115),I=a(49111),T=a(19650),l=a(62029),U=a(57663),b=a(71577),w=a(91768),h=a(28216),Y=a(37055),p=a(10237);function e(y){var E=Y.ZP.getHelpContentByMenuKey(),J={key:y};return p.WY.get({url:E,params:J})}var f=a(74228),P=a.n(f),W=a(1164),X=a(76466),re=a(38642);class N extends D().Component{constructor(E){var J;super(E);J=this,this.getHelpContentByMenuKey=()=>{var _=this.props.defaultMenuKey;e(_).then(R=>{var B=R.data,ae=B.help_url,q=B.video_url;this.setState({videoUrl:q,helpUrl:ae})})},this.handleOpenHelpUrl=_=>{if((0,re.ve)()){window.open(_,"_blank");return}W.Z.targetTo({path:_,isExternalLink:!0})},this.handleOpenVideo=function(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J.props.t("helpCenter.video");J.setState(B=>({resourcePlayInfo:(0,ee.Z)((0,ee.Z)({},B.resourcePlayInfo),{},{resourceInfo:{originUrl:_,source:{FD:_,OD:_},contentType:"mp4"}}),previewInfo:(0,ee.Z)((0,ee.Z)({},B.previewInfo),{},{title:R,visible:!0,onCancel:J.handleCancelPreview})}))},this.handleCancelPreview=()=>{var _=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,ee.Z)((0,ee.Z)({},_),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:E.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var E=this.state,J=E.helpUrl,_=E.resourcePlayInfo,R=E.previewInfo,B=E.videoUrl,ae=this.props.t;return D().createElement("div",{className:P().helpCenter},B&&D().createElement(b.Z,{type:"link",className:P()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(B)},ae("helpCenter.video")),J&&D().createElement(b.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(J)},ae("helpCenter.tutorial")),D().createElement(X.Z,(0,l.Z)({},_,{previewInfo:R})))}}var Ce=y=>({defaultMenuKey:y.currentRoute.menuKey});N.defaultProps={defaultMenuKey:""};var te=(0,h.$j)(Ce)((0,w.Z)()(N));function G(y){var E=y.extra,J=localStorage.getItem("dingPersonnel"),_=sessionStorage.getItem("dingPersonnel");return D().createElement(T.Z,null,E,J!=="dingPersonnel"&&_!=="dingPersonnel"&&(0,re.eY)("COMMONEXTRA_HELP_CENTER")&&D().createElement(te,null))}var A=G,K=a(4408);function ie(y){var E=(0,Ee.useState)({helpCenter:(0,re.eY)("HEAD_HELP_CENTER_BUT")}),J=(0,H.Z)(E,1),_=J[0],R=y.pageContainerParams,B=R===void 0?{}:R,ae=y.noPadding,q=ae===void 0?!1:ae,fe=y.isPersonal,F=fe===void 0?!1:fe,Pe=y.pageTitle,ne=y.className,m=ne===void 0?"":ne,ce={extra:_.helpCenter?D().createElement(A,{extra:B.extra}):B.extra},Ne=(0,ee.Z)((0,ee.Z)({},B),ce);return D().createElement("div",{className:"page-container-content ".concat(q?"page-container-noPadding":""," ").concat(F?"page-container-content_personal_background":""," ").concat(m)},Pe&&D().createElement(K.Z,{title:Pe}),F?D().createElement(de.Z,null,y.children):D().createElement(de.Z,Ne,y.children))}var Oe=ie},85116:function(Ue,oe,a){"use strict";a.d(oe,{GP:function(){return Ee},IY:function(){return D},tS:function(){return de}});var ee=a(10237),H=a(37055),Ee=()=>ee.WY.get({url:H.ZP.visitors.getCourseClass(),params:{parentId:0}});function D(I){var T=I.scope_id,l=T===void 0?localStorage.getItem("enterpriseId"):T,U=I.scope,b=U===void 0?2:U,w=I.component_types,h=I.type,Y=I.page_id,p=Y===void 0?0:Y,e=H.ZP.CMSApi.getComponentData();return ee.WY.get({url:e,params:{scope_id:l,component_types:w.join(","),page_id:p,type:h,scope:b}})}function de(I){var T=H.ZP.Courses.getCourseList();return ee.WY.get({url:T,params:I})}},73141:function(Ue,oe,a){"use strict";var ee=a(48736),H=a(27049),Ee=a(57361),D=a(33565),de=a(9754),I=a.n(de),T=a(12924),l=a.n(T),U=a(85116),b=a(37055),w=a(10237),h=a(1164),Y="https://oss.coolcollege.cn/1794889942485307392.png",p=e=>{var f=e.isRender,P=e.footerData,W=(0,T.useState)(Y),X=(0,D.Z)(W,2),re=X[0],N=X[1],Ce=(0,T.useState)({}),te=(0,D.Z)(Ce,2),G=te[0],A=te[1],K=(0,T.useState)({}),ie=(0,D.Z)(K,2),Oe=ie[0],y=ie[1];(0,T.useEffect)(()=>{P?(A(P.params),y(P.models),N(P.logo)):J()},[P]),(0,T.useEffect)(()=>{if(f){var R=window.location.host;w.WY.post({url:b.ZP.pcCustomize.getLoginImage(),data:{domain:R}}).then(B=>{B.data.code===200&&B.data.data.logo&&N(B.data.data.logo)})}},[f]);var E=R=>{h.Z.targetTo({path:R,isExternalLink:!0})},J=function(){var R=(0,Ee.Z)(I().mark(function B(){var ae,q,fe,F,Pe,ne,m,ce,Ne;return I().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ae={params:{bgColor:"dark",title:"\u8BA9\u4E16\u754C\u638C\u63E1\u77E5\u8BC6\u66F4\u9AD8\u6548",firstText:"\u5730\u5740\uFF1A\u5317\u4EAC\u5E02\u660C\u5E73\u533A\u56DE\u9F99\u89C2\u9547\u9F99\u57DF\u4E2D\u88571\u53F7\u96621\u53F7\u697C1\u5355\u5143545",secondText:"\u8054\u7CFB\u7535\u8BDD\uFF1A4000 967 877",thirdText:"\u4F20\u771F\uFF1A+88-0571-28863666",recodeInfo:"",recodeNum:"",jumpUrl:"",recodeNum2:"",jumpUrl2:""},models:{picList:[{id:1,url:"https://oss.coolcollege.cn/1794908640189222912.png",content:"\u5173\u6CE8\u5B98\u65B9\u5FAE\u4FE1"},{id:2,url:"https://oss.coolcollege.cn/1794908640189222912.png",content:"\u8BF7\u5173\u6CE8\u5B98\u5FAE"}]}},ue.prev=1,ue.next=4,(0,U.IY)({component_types:["VisitorPageFooter"],type:"pc"});case 4:q=ue.sent,q.data[0].feature?(fe=JSON.parse(q.data[0].feature),F=fe.params,Pe=fe.models,A(F),y(Pe)):(ne=ae.params,m=ae.models,A(ne),y(m)),ue.next=13;break;case 8:ue.prev=8,ue.t0=ue.catch(1),ce=ae.params,Ne=ae.models,A(ce),y(Ne);case 13:case"end":return ue.stop()}},B,null,[[1,8]])}));return function(){return R.apply(this,arguments)}}(),_=Oe.picList;return l().createElement("div",{className:"cfooter ".concat(G.bgColor)},l().createElement("div",{className:"cfooter-content"},l().createElement("div",{className:"cfooter-content-top"},l().createElement("div",{className:"top-left"},l().createElement("div",{className:"top-logo"},l().createElement("img",{src:re,alt:"logo"}),l().createElement("p",{className:"top-logo-title",title:G.title},G.title)),l().createElement("div",{className:"top-text"},l().createElement("p",null,G.firstText),l().createElement("p",null,G.secondText),l().createElement("p",null,G.thirdText))),l().createElement("div",{className:"top-right"},_&&_.length>0&&_.map(R=>l().createElement("div",{key:R.id,className:"right-item"},l().createElement("img",{src:R.url,alt:R.content,className:"right-pic"}),l().createElement("p",{title:R.content,className:"right-content"},R.content))))),l().createElement("div",{className:"cfooter-content-bottom"},l().createElement("img",{src:re,alt:"logo",style:{width:"40px",height:"20px"}}),l().createElement("p",null,G.recodeInfo),l().createElement(H.Z,{type:"vertical",style:{backgroundColor:G.bgColor==="light"?"rgba(0, 0, 0, .09)":"rgba(255, 255, 255, 0.85)"}}),l().createElement("p",{className:"recodeNum"},l().createElement("span",{title:G.recodeNum,onClick:()=>E(G.jumpUrl)},G.recodeNum)," ",l().createElement("span",{title:G.recodeNum2,onClick:()=>E(G.jumpUrl2)},G.recodeNum2)))))};oe.Z=p},50670:function(Ue,oe,a){"use strict";var ee=a(59250),H=a(13013),Ee=a(57361),D=a(33565),de=a(9754),I=a.n(de),T=a(12924),l=a.n(T),U=a(57254),b=a(96486),w=a.n(b),h=a(47166),Y=a.n(h),p=a(76651),e=a(85116),f=a(95967),P=a.n(f),W=Y().bind(P()),X=re=>{var N=re.isBanner,Ce=re.level,te=re.t,G=re.themeColor,A=(0,T.useState)([]),K=(0,D.Z)(A,2),ie=K[0],Oe=K[1],y=(0,T.useState)([]),E=(0,D.Z)(y,2),J=E[0],_=E[1],R=(0,T.useState)(!1),B=(0,D.Z)(R,2),ae=B[0],q=B[1],fe=(0,T.useState)(0),F=(0,D.Z)(fe,2),Pe=F[0],ne=F[1],m=(0,T.useState)(!1),ce=(0,D.Z)(m,2),Ne=ce[0],Ie=ce[1];(0,T.useEffect)(()=>{ue()},[]),(0,T.useEffect)(()=>{!N&&Ce>1&&Ie(!0)},[N,Ce]);var ue=function(){var x=(0,Ee.Z)(I().mark(function De(){var se,ve;return I().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,e.GP)();case 2:se=z.sent,se.status===200&&(ve=se.data&&se.data.classify||[],Oe(ve),_(ve[0].children||[]),ne(ve[0].id));case 4:case"end":return z.stop()}},De)}));return function(){return x.apply(this,arguments)}}(),be=x=>{ne(x.id),p.m8.push("/course/management/visitors?classifyId=".concat(x.id,"&classifyName=").concat(x.name))},Ae=x=>{Ie(!0),_(x.children||[])},Be=()=>{N?Ie(!1):q(!1)},We=l().createElement("div",{onMouseLeave:Be,className:W(N?"banner-menu-part":"menu-part")},l().createElement("ul",{className:W("first-menu")},!(0,b.isEmpty)(ie)&&ie.map(x=>l().createElement("li",{className:x.id===Pe?W("seled"):"",onMouseEnter:()=>Ae(x),onClick:()=>be(x),key:x.id},x.name))),Ne&&Ce>1&&l().createElement("div",{style:{display:"".concat((0,b.isEmpty)(J)?"none":"block"," ")},className:W("right-content")},l().createElement("ul",{className:W("right-item")},J.map(x=>l().createElement("li",{key:x.id},l().createElement("div",{onClick:()=>be(x),className:W("second-menu")},x.name),Ce>2&&x.children&&x.children.map(De=>l().createElement("div",{onClick:()=>be(De),className:W("third-menu"),key:De.id},De.name)))))));return N?We:l().createElement(H.Z,{placement:"bottomLeft",visible:ae,overlay:We},l().createElement("a",{style:{color:G},className:"ant-dropdown-link",onClick:x=>{x.preventDefault(),q(!0)}},te("course.courseDetailCategory")," ",l().createElement(U.Z,null)))};oe.Z=X},17412:function(Ue,oe,a){"use strict";var ee=a(20136),H=a(55241),Ee=a(57663),D=a(71577),de=a(57361),I=a(33565),T=a(47673),l=a(4107),U=a(9754),b=a.n(U),w=a(12924),h=a.n(w),Y=a(29985),p=a(76651),e=a(10237),f=a(37055),P=a(50670),W=a(85116),X=l.Z.Search,re=N=>{var Ce=N.navData,te=N.t,G=(0,w.useState)(!1),A=(0,I.Z)(G,2),K=A[0],ie=A[1],Oe=(0,w.useState)(!0),y=(0,I.Z)(Oe,2),E=y[0],J=y[1],_=(0,w.useState)({}),R=(0,I.Z)(_,2),B=R[0],ae=R[1],q=(0,w.useState)({}),fe=(0,I.Z)(q,2),F=fe[0],Pe=fe[1],ne=(0,w.useState)("#465DCD"),m=(0,I.Z)(ne,2),ce=m[0],Ne=m[1];(0,w.useEffect)(()=>{Ce?Pe(Ce):(Ie(),be()),ue()},[Ce]);var Ie=()=>{e.WY.get({url:f.ZP.Login.registerType(),params:{domain_url:window.location.host}}).then(se=>{if(se.data.code===200){var ve=se.data.data.registration,k=se.data.data.enterprise_id;ve===0&&J(!1),ae({registerType:ve,enterpriseId:k})}})},ue=function(){var se=(0,de.Z)(b().mark(function ve(){var k,z;return b().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.prev=0,pe.next=3,(0,W.IY)({component_types:["VisitorPageColor"],type:"pc"});case 3:k=pe.sent,k.data.length>0&&k.data[0].feature&&(z=JSON.parse(k.data[0].feature),Ne(z.colour||"#465DCD"),sessionStorage.setItem("themeColor",z.colour||"#465DCD")),pe.next=10;break;case 7:pe.prev=7,pe.t0=pe.catch(0),console.log(pe.t0);case 10:case"end":return pe.stop()}},ve,null,[[0,7]])}));return function(){return se.apply(this,arguments)}}(),be=function(){var se=(0,de.Z)(b().mark(function ve(){var k,z,$e,pe,Ke,Fe;return b().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return k={params:{bgColor:"darkBlue",logoUrl:"https://oss.coolcollege.cn/1794889942485307392.png",isShow:!0,name:"\u79FB\u52A8\u7AEF",qrcode:"https://oss.coolcollege.cn/1794889942485307392.png",desc:"\u626B\u63CF\u4E0B\u8F7DAPP",showSearch:!0,showClassSelect:!0,classLevel:1}},Se.prev=1,Se.next=4,(0,W.IY)({component_types:["VisitorPageHeader"],type:"pc"});case 4:z=Se.sent,z.data[0].feature?($e=JSON.parse(z.data[0].feature),pe=$e.params,Pe(pe)):(Ke=k.params,Pe(Ke)),Se.next=12;break;case 8:Se.prev=8,Se.t0=Se.catch(1),Fe=k.params,Pe(Fe);case 12:case"end":return Se.stop()}},ve,null,[[1,8]])}));return function(){return se.apply(this,arguments)}}(),Ae={background:F.bgColor==="white"?"#fff":"rgb(6, 24, 69)",color:F.bgColor==="white"?"#000":"#fff"},Be=se=>{p.m8.push("/course/management/visitors?keywords=".concat(se))},We=()=>{p.m8.push("/index-auth-login-new")},x=()=>{p.m8.push({pathname:"/register",query:{registerType:B.registerType,enterpriseId:B.enterpriseId}})},De=se=>{ie(se)};return h().createElement("div",{className:"nav",style:Ae},h().createElement("div",{className:"nav-container",style:Ae},h().createElement("div",{className:"nav-logo"},h().createElement("img",{alt:"logo",src:F.logoUrl}),F.showClassSelect&&h().createElement(P.Z,{themeColor:ce,level:F.classLevel,t:te})),h().createElement("div",{className:"nav-new-action"},F.showSearch&&h().createElement(X,{placeholder:te("visitorPage.searchInterCourse"),allowClear:!0,style:{width:300,marginRight:20},size:"middle",enterButton:h().createElement(D.Z,{style:{background:ce,borderColor:ce},type:"primary"},te("course.search")),onSearch:Be}),F.isShow&&h().createElement("div",{className:"nav-new-action-mobile"},h().createElement(H.Z,{content:h().createElement("img",{className:"nav-action-img",src:F.qrcode,alt:F.desc,title:F.desc}),title:F.desc||null,placement:"bottom",visible:K,trigger:"hover",onVisibleChange:De},h().createElement(Y.Z,null),h().createElement("span",{title:F.name},F.name))),h().createElement("div",{onClick:We},te("registerLogin.login")),E&&h().createElement(D.Z,{style:{background:ce,borderColor:ce},type:"primary",onClick:x},te("registerLogin.registered")))))};oe.Z=re},53928:function(Ue,oe,a){"use strict";a.r(oe),a.d(oe,{default:function(){return ea}});var ee=a(13254),H=a(14277),Ee=a(77576),D=a(59314),de=a(17462),I=a(1474),T=a(34792),l=a(48086),U=a(33565),b=a(18106),w=a(88108),h=a(71194),Y=a(57016),p=a(12924),e=a.n(p),f=a(28216),P=a(91768),W=a(76651),X=a(57119),re=a(13062),N=a(71230),Ce=a(57663),te=a(71577),G=a(89032),A=a(15746),K=a(62029),ie=a(57361),Oe=a(9754),y=a.n(Oe),E=a(80991),J=a(62615),_=a(43859),R=a(17412),B=r=>{var t=r.navData,s=r.t;return e().createElement("div",{className:"preview-nav"},e().createElement(R.Z,{navData:t,models:{courseClassData:null},t:s}))},ae=(0,_.Z)((0,f.$j)()((0,P.Z)()(B))),q=a(24144),fe=r=>{var t=r.value,s=r.t,n=r.onChange,o=i=>{i.fileList&&i.fileList.length?n(i.fileList[0].url):n("")};return e().createElement("div",{className:"company-pic"},e().createElement(q.ZM,{fileList:t?[t]:[],uploadConfig:{listType:"picture",accept:".png, .jpg, .jpeg",showUploadList:!1,maxCount:1},size:{value:300,unit:"kb"},onUploadedListChange:o,changeTip:s("setting.change"),renderClassName:"enterprise_logo_upload",render:i=>(0,q.vx)(i)}),e().createElement("span",{className:"company-pic-tips"},s("visitorPage.sizeLimit")))},F=(0,_.Z)((0,f.$j)()((0,P.Z)()(fe))),Pe=a(47673),ne=a(4107),m=a(88986),ce=a(14011),Ne=r=>{var t=r.value,s=r.onChange,n=r.t,o=[{title:n("domainSettings.show"),value:!0},{title:n("domainSettings.noShow"),value:!1}],i=d=>{s((0,m.Z)((0,m.Z)({},t),{},{show:d}))},u=d=>{d.fileList&&d.fileList.length?s((0,m.Z)((0,m.Z)({},t),{},{qrcodeUrl:d.fileList[0].url})):s("")};return e().createElement("div",{className:"mobile-config"},e().createElement(ce.Z,{value:t.show,onChange:i,radioList:o}),t.show?e().createElement(e().Fragment,null,e().createElement(N.Z,{className:"mobile-config-row"},e().createElement("span",{className:"mobile-config-row-label"},n("resourceLibrary.rename"),":"),e().createElement(ne.Z,{value:t.name,maxLength:16,placeholder:n("community.pleaseInput"),onChange:d=>s((0,m.Z)((0,m.Z)({},t),{},{name:d.target.value}))})),e().createElement(N.Z,{className:"mobile-config-row"},e().createElement("span",{className:"mobile-config-row-label"}),e().createElement("div",{className:"mobile-config-row-pic"},e().createElement(q.ZM,{fileList:t.qrcodeUrl?[t.qrcodeUrl]:[],uploadConfig:{listType:"picture",accept:".png, .jpg, .jpeg",showUploadList:!1,maxCount:1},size:{value:300,unit:"kb"},onUploadedListChange:u,changeTip:n("setting.change"),renderClassName:"enterprise_logo_upload",render:d=>(0,q.vx)(d)}),e().createElement("span",{className:"mobile-config-row-pic-tips"},n("visitorPage.imageSizeLimit")))),e().createElement(N.Z,{className:"mobile-config-row"},e().createElement("span",{className:"mobile-config-row-label"},n("visitorPage.desc"),":"),e().createElement(ne.Z,{value:t.desc,maxLength:32,placeholder:n("community.pleaseInput"),onChange:d=>s((0,m.Z)((0,m.Z)({},t),{},{desc:d.target.value}))}))):null)},Ie=(0,_.Z)((0,f.$j)()((0,P.Z)()(Ne))),ue=a(77883),be=a(21888),Ae=r=>{var t=r.value,s=r.onChange,n=r.t,o=[{title:n("domainSettings.show"),value:!0},{title:n("domainSettings.noShow"),value:!1}],i=O=>{s((0,m.Z)((0,m.Z)({},t),{},{showClassSelect:O}))},u=O=>{s((0,m.Z)((0,m.Z)({},t),{},{classLevel:O||1}))},d=O=>O&&O.toString().replace(/^(0+)|[^\d]+/g,"");return e().createElement("div",{className:"classify-show"},e().createElement(ce.Z,{value:t.showClassSelect,onChange:i,radioList:o}),t.showClassSelect?e().createElement(N.Z,{className:"classify-show-row"},e().createElement("span",{className:"classify-show-row-label"},n("visitorPage.showLevel"),":"),e().createElement(be.Z,{min:1,max:3,value:t.classLevel,formatter:d,parser:d,onChange:u}),e().createElement("span",{className:"classify-show-row-left"},n("visitorPage.supportClass"))):null)},Be=(0,_.Z)((0,f.$j)()((0,P.Z)()(Ae))),We=a(43358),x=a(34041),De=x.Z.Option,se=r=>{var t=r.value,s=r.t,n=r.onChange,o=i=>{n(i)};return e().createElement("div",{className:"record-num"},e().createElement(x.Z,{value:t,style:{width:192},onChange:o},e().createElement(De,{value:"white"},s("visitorPage.white")),e().createElement(De,{value:"darkBlue"},s("visitorPage.blue"))))},ve=(0,_.Z)((0,f.$j)()((0,P.Z)()(se))),k=a(37055),z=a(10237);function $e(r){var t=r.checked,s=CONFIG.CMSApi.updatePage();return request.post({url:s,data:{businessType:"visitor",feature:JSON.stringify({open:!t})}})}function pe(){var r=CONFIG.CMSApi.checkFeature({enterpriseId:localStorage.getItem("enterpriseId")});return request.get({url:r,params:{businessType:"visitor"}})}function Ke(r){var t=k.ZP.CMSApi.createEditVisitorPage();return z.WY.post({url:t,data:r})}function Fe(r){var t=r.page_num,s=r.page_size,n=k.ZP.CMSApi.getVisitorList();return z.WY.get({url:n,params:{page_num:t,page_size:s}})}function qe(r){var t=k.ZP.CMSApi.removeVisitorPage(r);return z.WY.post({url:t})}function Se(r){var t=r.pageId,s=r.type,n=r.status,o=k.ZP.CMSApi.updateVisitorStatus(t);return z.WY.post({url:o,params:{type:s,status:n}})}function ct(r){var t=r.type,s=k.ZP.CMSApi.openCloseVisitorPage(t);return z.WY.post({url:s})}function mt(){var r=k.ZP.CMSApi.getVisitorPageNewStatus();return z.WY.get({url:r,params:{enterprise_id:localStorage.getItem("enterpriseId")}})}function dt(){var r=k.ZP.CMSApi.getVisitorPageStatus();return z.WY.get({url:r,params:{enterprise_id:localStorage.getItem("enterpriseId")}})}function He(r){var t=r.scope_id,s=t===void 0?localStorage.getItem("enterpriseId"):t,n=r.scope,o=n===void 0?2:n,i=r.component_types,u=r.type,d=r.page_id,O=d===void 0?0:d,S=k.ZP.CMSApi.getComponentData();return z.WY.get({url:S,params:{scope_id:s,component_types:i.join(","),page_id:O,type:u,scope:o}})}function Ye(r){var t=k.ZP.CMSApi.saveComponentData();return z.WY.post({url:t,data:r})}function Je(r){var t=k.ZP.CMSApi.updateComponentData();return z.WY.post({url:t,data:r})}var xe={labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:22}}},ut=r=>{var t=r.t,s=r.enterpriseName,n=r.enterpriseLogo,o="nav-setting",i=(0,p.useRef)(null),u=(0,p.useState)(""),d=(0,U.Z)(u,2),O=d[0],S=d[1],M=(0,p.useState)({logoUrl:n||"https://oss.coolcollege.cn/1794889942485307392.png",classify:{showClassSelect:0,classLevel:1},showSearch:1,mobileInfo:{show:1,name:"",qrcodeUrl:"",desc:""}}),Q=(0,U.Z)(M,1),c=Q[0],v=[{title:t("domainSettings.show"),value:!0},{title:t("domainSettings.noShow"),value:!1}];(0,p.useEffect)(()=>{j()},[]);var j=function(){var Z=(0,ie.Z)(y().mark(function ye(){var V,me,C,Ze,L,le;return y().wrap(function($){for(;;)switch($.prev=$.next){case 0:return V={params:{bgColor:"darkBlue",logoUrl:n||"https://oss.coolcollege.cn/1794889942485307392.png",isShow:!0,name:"\u79FB\u52A8\u7AEF",qrcode:"https://oss.coolcollege.cn/1794889942485307392.png",desc:"\u626B\u63CF\u4E0B\u8F7DAPP",showSearch:!0,showClassSelect:!0,classLevel:1}},$.prev=1,$.next=4,He({component_types:["VisitorPageHeader"],type:"pc"});case 4:me=$.sent,me.data&&me.data.length&&me.data[0].feature?(C=JSON.parse(me.data[0].feature),Ze=C.params,S(me.data[0].id),ge(Ze)):(L=V.params,ge(L)),$.next=12;break;case 8:$.prev=8,$.t0=$.catch(1),le=V.params,ge(le);case 12:case"end":return $.stop()}},ye,null,[[1,8]])}));return function(){return Z.apply(this,arguments)}}(),ge=Z=>{i.current&&i.current.setValues({bgColor:Z.bgColor||"darkBlue",logoUrl:Z.logoUrl,classify:{showClassSelect:Z.showClassSelect==null?!0:Z.showClassSelect,classLevel:Z.classLevel||1},showSearch:Z.showSearch==null?!0:Z.showSearch,mobileInfo:{show:Z.isShow,name:Z.name,qrcodeUrl:Z.qrcode,desc:Z.desc}},!1)},Me=function(){var Z=(0,ie.Z)(y().mark(function ye(V){var me,C;return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(me={params:Le(V)},C={feature:JSON.stringify(me),type:"pc",component_type:"VisitorPageHeader",scope:2,scope_name:s,component_title:"VisitorPageHeader",scope_id:localStorage.getItem("enterpriseId"),page_position:"VisitorPageHeader_H5sdaow",id:O},L.prev=2,!O){L.next=8;break}return L.next=6,Je(C);case 6:L.next=10;break;case 8:return L.next=10,Ye(C);case 10:i.current.setSubmitting(!1),l.default.success(t("common.saveSuccess")),L.next=17;break;case 14:L.prev=14,L.t0=L.catch(2),i.current.setSubmitting(!1);case 17:case"end":return L.stop()}},ye,null,[[2,14]])}));return function(V){return Z.apply(this,arguments)}}(),Le=Z=>({bgColor:Z.bgColor,logoUrl:Z.logoUrl,isShow:Z.mobileInfo.show,name:Z.mobileInfo.name,qrcode:Z.mobileInfo.qrcodeUrl,desc:Z.mobileInfo.desc,showSearch:Z.showSearch,showClassSelect:Z.classify.showClassSelect,classLevel:Z.classify.classLevel});return e().createElement("div",{className:o},e().createElement(E.J9,{ref:i,initialValues:c,onSubmit:Me,render:Z=>e().createElement(E.l0,{className:"cl-form"},e().createElement(E.gN,(0,K.Z)({label:t("visitorPage.navPreview"),component:ae,navData:Le(Z.values)},xe)),e().createElement(E.gN,(0,K.Z)({name:"logoUrl",label:t("visitorPage.companyLogo"),component:F},xe)),e().createElement(E.gN,(0,K.Z)({name:"bgColor",label:t("visitorPage.bgColor"),component:ve},xe)),e().createElement(E.gN,(0,K.Z)({name:"classify",label:t("course.courseDetailCategory"),component:Be},xe)),e().createElement(E.gN,(0,K.Z)({name:"showSearch",label:t("course.search"),radioList:v,component:J.xm},xe)),e().createElement(E.gN,(0,K.Z)({name:"mobileInfo",label:t("setting.mobile"),component:Ie},xe)),e().createElement(N.Z,null,e().createElement(A.Z,{span:2}),e().createElement(A.Z,{span:22},e().createElement(te.Z,{className:"form-page-container-bottom-btn",loading:Z.isSubmitting,onClick:Z.submitForm,type:"primary"},t("pcCustomize.applyNow")))))}))},vt=(0,f.$j)(r=>({enterpriseName:r.user.enterpriseName,enterpriseLogo:r.user.enterpriseLogo}))((0,P.Z)()(ut)),pt=a(39098),va=a(17780),je=a(6793),ke=a(84874),gt=r=>({userInfo:r.user,corpId:r.user.corpId});class et extends p.Component{constructor(){var t;super(...arguments);t=this,this.state={displayColorPicker:!1,primaryColor:"#465DCD",isDefaultColor:!0,componentId:"",defaultColor:[{label:"#465DCD",url:"https://oss.coolcollege.cn/1789887872111874048.png"},{label:this.props.t("setting.greenColor"),value:"#55B09E",url:"https://oss.coolcollege.cn/1789887872116068352.png"},{label:this.props.t("setting.redColor"),value:"#BF3227",url:"https://oss.coolcollege.cn/1789887872229314560.png"},{label:this.props.t("setting.orangeColor"),value:"#FF8132",url:"https://oss.coolcollege.cn/1789887872132845568.png"}]},this.componentDidMount=()=>{this.getThemeColor()},this.onSave=(0,ie.Z)(y().mark(function s(){var n,o,i,u,d,O,S,M;return y().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.props,o=n.t,i=n.userInfo.enterpriseName,u=t.state,d=u.primaryColor,O=u.isDefaultColor,S=u.componentId,M={feature:JSON.stringify({colour:d,default_check:O?1:0}),id:S,type:"pc",component_type:"VisitorPageColor",scope:2,component_title:"VisitorPageColor",scope_name:i,scope_id:localStorage.getItem("enterpriseId"),page_position:"VisitorPageColor_dasd4321d"},!S){c.next=8;break}return c.next=6,Je(M);case 6:c.next=10;break;case 8:return c.next=10,Ye(M);case 10:l.default.success((0,je.ZT)(o("setting.saveSuccessTips"),o("pcCustomize.themeColorSeting")));case 11:case"end":return c.stop()}},s)})),this.getThemeColor=(0,ie.Z)(y().mark(function s(){var n,o;return y().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,He({component_types:["VisitorPageColor"],type:"pc"});case 2:n=u.sent,n.data.length>0&&n.data[0].feature&&(o=JSON.parse(n.data[0].feature),t.setState({primaryColor:o.colour||"#465DCD",isDefaultColor:o.default_check===1,componentId:n.data[0].id}));case 4:case"end":return u.stop()}},s)})),this.handleDefaultColorChange=s=>{this.setState({primaryColor:s,isDefaultColor:!0})},this.showSelectColorContainer=()=>{var s=this.props.prefixCls,n=this.state.primaryColor;return e().createElement("div",{className:"".concat(s,"__select-color-container")},e().createElement("div",{className:"".concat(s,"__select-color-masker"),onClick:this.hideSelectColorContainer}),e().createElement(pt.xS,{color:n,onChange:this.handleCustomColorChange}))},this.hideSelectColorContainer=()=>{this.setState({displayColorPicker:!1})},this.handleToggleColorPicker=()=>{this.setState({displayColorPicker:!0})},this.handleCustomColorChange=s=>{s.hex&&this.setState({primaryColor:s.hex,isDefaultColor:!1})}}render(){var t=this.props,s=t.t,n=t.prefixCls,o=this.state,i=o.defaultColor,u=o.primaryColor,d=o.isDefaultColor,O=o.displayColorPicker,S=localStorage.getItem("themeColor")||"#465dcd";return e().createElement("div",{className:"".concat(n)},e().createElement("div",{className:"".concat(n,"__example")},e().createElement("div",{className:"".concat(n,"__example__navigation")},e().createElement("div",{className:"".concat(n,"__example__title")},e().createElement("div",{className:"line",style:{backgroundColor:S}}),s("setting.themeColors")),e().createElement("div",{className:"".concat(n,"__example__navigation__color")},i.map(M=>e().createElement("div",{key:M.value,className:"".concat(n,"__example__navigation__color__box"),onClick:()=>this.handleDefaultColorChange(M.value)},e().createElement("img",{alt:"",src:M.url}),e().createElement("span",null,M.label),u===M.value?e().createElement(ke.Z,{iconClass:"icon-f-ok1",color:"#fff",size:"15px"}):null)),e().createElement("div",{className:"".concat(n,"__example__navigation__color__box"),onClick:this.handleToggleColorPicker},e().createElement("img",{alt:"",src:"https://oss.coolcollege.cn/1789887871910547456.png"}),e().createElement("span",null,s("setting.customColor")),d?null:e().createElement(ke.Z,{iconClass:"icon-f-ok1",color:"#fff",size:"15px"})),O?this.showSelectColorContainer():null))),e().createElement("div",{className:"".concat(n,"__preview")},e().createElement("div",{className:"".concat(n,"__preview__container")},e().createElement("div",{className:"title"},s("pcCustomize.pcEffect")),e().createElement("div",{className:"".concat(n,"__preview__container__pc")},e().createElement("div",{className:"pcImg",style:{backgroundColor:u,width:500}},e().createElement("img",{src:"https://sdn.coolcollege.cn/assets/kuxueyuan/theme/visitor-pc-header.png",style:{width:"100%"}})),e().createElement("div",{className:"pcImg",style:{backgroundColor:u,width:500}},e().createElement("img",{src:"https://sdn.coolcollege.cn/assets/kuxueyuan/theme/visitor-pc-main.png",style:{width:"100%"}})))),e().createElement("div",{className:"".concat(n,"__preview__container")},e().createElement("div",{className:"title"},s("pcCustomize.mobileEffect")),e().createElement("div",{className:"".concat(n,"__preview__mobile")},e().createElement("div",{className:"".concat(n,"__preview__mobile__inner")},e().createElement("div",{className:"".concat(n,"__preview__mobile__inner__scale")},e().createElement("div",{className:"mobile-img",style:{backgroundColor:u}},e().createElement("img",{src:"https://sdn.coolcollege.cn/assets/kuxueyuan/theme/visitor-mobile-main.png",style:{width:"100%"}})),e().createElement("div",{className:"mobile-img-grid",style:{backgroundColor:u}},e().createElement("img",{src:"https://sdn.coolcollege.cn/assets/kuxueyuan/theme/visitor-mobile-grid.png",style:{width:"100%"}}))))))),e().createElement("div",null,e().createElement(te.Z,{type:"primary",className:"commit-btn",onClick:this.onSave},s("pcCustomize.applyNow"))))}}et.defaultProps={prefixCls:"visitor-home-color-show-set"};var ht=(0,f.$j)(gt)((0,P.Z)()(et)),Et=a(7145),tt=a.n(Et),Ct=a(94184),at=a.n(Ct),ft=a(49101),Pt=a(58491),St=a(57254),yt=a(73171),Zt=r=>{var t=r.value,s=r.t,n=r.onChange,o=(c,v)=>{var j="";c.fileList&&c.fileList.length&&(j=c.fileList[0].url);var ge=[...t];ge[v].url=j,n(ge)},i=(c,v)=>{var j=[...t];j[v].content=c.target.value,n(j)},u=(c,v)=>{if(c!==0){var j=tt()(t,{$splice:[[c,1],[c-1,0,v]]});n(j)}},d=(c,v)=>{if(c!==t.length-1){var j=tt()(t,{$splice:[[c,1],[c+1,0,v]]});n(j)}},O=c=>{t.splice(c,1),n(t)},S=()=>e().createElement("div",{className:"pic-footer-add-img"},e().createElement(ft.Z,null),e().createElement("span",null,s("learning.addImage"))),M=()=>t.length===2?(l.default.info((0,je.ZT)("".concat(s("customFields.mulPic")),2)),!1):!0,Q=c=>{if(t.length!==2){var v="";c.fileList&&c.fileList.length&&(v=c.fileList[0].url),t.push({id:new Date().getTime().toString(),url:v,content:""}),n(t)}};return e().createElement("div",{className:"pic-footer"},e().createElement("p",null,s("visitorPage.picTips")),t.map((c,v)=>e().createElement(e().Fragment,null,e().createElement("div",{className:"pic-footer-row"},e().createElement("span",{className:"pic-footer-row-label"},s(v===0?"visitorPage.picOne":"visitorPage.picTwo"),":"),e().createElement(q.ZM,{fileList:c.url?[c.url]:[],uploadConfig:{listType:"picture",accept:".png, .jpg, .jpeg",showUploadList:!1,maxCount:1},size:{value:300,unit:"kb"},onUploadedListChange:j=>o(j,v),changeTip:s("setting.change"),renderClassName:"enterprise_logo_upload",render:j=>(0,q.vx)(j)}),e().createElement("div",{className:"pic-footer-row-right-btn"},e().createElement(Pt.Z,{onClick:()=>u(v,c),className:at()({disabled:v===0})}),e().createElement(St.Z,{onClick:()=>d(v,c),className:at()({disabled:v===t.length-1})}),e().createElement(yt.Z,{onClick:()=>O(v)}))),e().createElement("div",{className:"pic-footer-row"},e().createElement("span",{className:"pic-footer-row-label"},s(v===0?"visitorPage.textOne":"visitorPage.textTwo"),":"),e().createElement("div",{className:"pic-footer-row-content"},e().createElement(ne.Z,{maxLength:30,value:c.content,placeholder:s("validation.pleaseEnter"),onChange:j=>i(j,v)}))))),e().createElement(q.ZM,{fileList:[],uploadConfig:{listType:"picture",accept:".png, .jpg, .jpeg",showUploadList:!1,maxCount:1},size:{value:300,unit:"kb"},onBeforeUpload:M,onUploadedListChange:c=>Q(c),changeTip:s("setting.change"),renderClassName:"enterprise_logo_upload",render:()=>S()}))},Dt=(0,_.Z)((0,f.$j)()((0,P.Z)()(Zt))),Nt=a(73141),_t=r=>{var t=r.footerData,s=r.visitorActive,n=r.t,o="preview-footer",i=()=>{var u=t.models,d=t.params,O=t.logo;return e().createElement(e().Fragment,null,e().createElement("div",{className:"".concat(o,"-footer ").concat(d.bgColor)},e().createElement("div",{className:"".concat(o,"-footer-line-1")},e().createElement("img",{fit:"cover",src:O,alt:"logo",className:"".concat(o,"-logo-image")}),e().createElement("span",{className:"".concat(o,"-title")},d.title)),e().createElement("div",{className:"".concat(o,"-footer-line-2")},e().createElement("div",{className:"".concat(o,"-text-1")},d.firstText),e().createElement("div",{className:"".concat(o,"-text-2")},d.secondText," "),e().createElement("div",{className:"".concat(o,"-text-3")},d.thirdText)),e().createElement("div",{className:"".concat(o,"-footer-line-3")},u.picList.map((S,M)=>e().createElement("div",{key:M.toString(),className:"".concat(o,"-pic-item")},e().createElement("img",{fit:"cover",src:S.url,alt:"qrcode",className:"".concat(o,"-image")}),e().createElement("div",{className:"".concat(o,"-pic-text")},S.content)))),e().createElement("div",{className:"".concat(o,"-footer-line-4")},e().createElement("div",null," ",d.recodeInfo," ")),e().createElement("div",{className:"".concat(o,"-footer-line-4")},e().createElement("div",null," ",d.recodeNum," "),e().createElement("div",null," ",d.recodeNum2," "))))};return e().createElement("div",{className:"".concat(o," ").concat(s==="pc"?"preview-footer-width":"")},s==="mobile"?i():e().createElement(Nt.Z,{t:n,footerData:t}))},Ot=(0,_.Z)((0,f.$j)()((0,P.Z)()(_t))),Lt=r=>{var t=r.value,s=r.t,n=r.onChange;return e().createElement("div",{className:"record-num"},e().createElement(ne.Z,{value:t.recodeNum,maxLength:50,onChange:o=>n((0,m.Z)((0,m.Z)({},t),{},{recodeNum:o.target.value})),placeholder:s("validation.pleaseEnter")+s("visitorPage.internetProvider")}),e().createElement(ne.Z,{value:t.jumpUrl,maxLength:100,onChange:o=>n((0,m.Z)((0,m.Z)({},t),{},{jumpUrl:o.target.value})),placeholder:s("validation.pleaseEnter")+s("visitorPage.jumpUrl")}))},rt=(0,_.Z)((0,f.$j)()((0,P.Z)()(Lt))),nt=x.Z.Option,Tt=r=>{var t=r.value,s=r.t,n=r.onChange,o=i=>{n(i)};return e().createElement("div",{className:"record-num"},e().createElement(x.Z,{value:t,style:{width:192},onChange:o},e().createElement(nt,{value:"dark"},s("visitorPage.dark")),e().createElement(nt,{value:"light"},s("visitorPage.light"))))},It=(0,_.Z)((0,f.$j)()((0,P.Z)()(Tt))),Ve=a(7584),st=w.Z.TabPane,_e={labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:22}}},Mt=r=>{var t=r.t,s=r.enterpriseName,n=r.enterpriseLogo,o="footer-setting",i=(0,p.useRef)(null),u=(0,p.useState)({title:"",firstText:"",secondText:"",thirdText:"",picList:[],recodeInfo:"",recode:{recodeNum:"",jumpUrl:""},recode2:{recodeNum:"",jumpUrl:""}}),d=(0,U.Z)(u,1),O=d[0],S=(0,p.useState)("pc"),M=(0,U.Z)(S,2),Q=M[0],c=M[1],v=(0,p.useState)(""),j=(0,U.Z)(v,2),ge=j[0],Me=j[1];(0,p.useEffect)(()=>{Le()},[Q]);var Le=function(){var C=(0,ie.Z)(y().mark(function Ze(){var L,le;return y().wrap(function($){for(;;)switch($.prev=$.next){case 0:return L={params:{bgColor:"dark",title:"\u8BA9\u4E16\u754C\u638C\u63E1\u77E5\u8BC6\u66F4\u9AD8\u6548",firstText:"\u5730\u5740\uFF1A\u5317\u4EAC\u5E02\u660C\u5E73\u533A\u56DE\u9F99\u89C2\u9547\u9F99\u57DF\u4E2D\u88571\u53F7\u96621\u53F7\u697C1\u5355\u5143545",secondText:"\u8054\u7CFB\u7535\u8BDD\uFF1A4000 967 877",thirdText:"\u4F20\u771F\uFF1A+88-0571-28863666",recodeInfo:"",recodeNum:"",jumpUrl:"",recodeNum2:"",jumpUrl2:""},models:{picList:[{id:1,url:"https://oss.coolcollege.cn/1794908640189222912.png",content:"\u5173\u6CE8\u5B98\u65B9\u5FAE\u4FE1"},{id:2,url:"https://oss.coolcollege.cn/1794908640189222912.png",content:"\u8BF7\u5173\u6CE8\u5B98\u5FAE"}]}},$.prev=1,$.next=4,He({component_types:["VisitorPageFooter"],type:Q});case 4:le=$.sent,le.data&&le.data.length&&le.data[0].feature?(Z(JSON.parse(le.data[0].feature)),Me(le.data[0].id)):(Me(""),Z(L)),$.next=11;break;case 8:$.prev=8,$.t0=$.catch(1),Z(L);case 11:case"end":return $.stop()}},Ze,null,[[1,8]])}));return function(){return C.apply(this,arguments)}}(),Z=C=>{i.current&&i.current.setValues({bgColor:C.params.bgColor||"dark",title:C.params.title,firstText:C.params.firstText,secondText:C.params.secondText,thirdText:C.params.thirdText,picList:C.models.picList,recodeInfo:C.params.recodeInfo||"",recode:{recodeNum:C.params.recodeNum||"",jumpUrl:C.params.jumpUrl||""},recode2:{recodeNum:C.params.recodeNum2||"",jumpUrl:C.params.jumpUrl2||""}},!1)},ye=function(){var C=(0,ie.Z)(y().mark(function Ze(L){var le,we;return y().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(le=V(L),we={feature:JSON.stringify(le),type:Q,component_type:"VisitorPageFooter",scope:2,scope_name:s,component_title:"VisitorPageFooter",scope_id:localStorage.getItem("enterpriseId"),page_position:"VisitorPageFooter_".concat(Q),id:ge},he.prev=2,!ge){he.next=8;break}return he.next=6,Je(we);case 6:he.next=10;break;case 8:return he.next=10,Ye(we);case 10:i.current.setSubmitting(!1),l.default.success(t("common.saveSuccess")),he.next=17;break;case 14:he.prev=14,he.t0=he.catch(2),i.current.setSubmitting(!1);case 17:case"end":return he.stop()}},Ze,null,[[2,14]])}));return function(L){return C.apply(this,arguments)}}(),V=C=>({params:{bgColor:C.bgColor,title:C.title,firstText:C.firstText,secondText:C.secondText,thirdText:C.thirdText,recodeInfo:C.recodeInfo,recodeNum:C.recode.recodeNum,jumpUrl:C.recode.jumpUrl,recodeNum2:C.recode2.recodeNum,jumpUrl2:C.recode2.jumpUrl},models:{picList:C.picList}}),me=C=>{c(C)};return e().createElement("div",{className:o},e().createElement("div",{className:"".concat(o,"-tab")},e().createElement(w.Z,{value:Q,onChange:me,type:"card",tabBarGutter:"0"},e().createElement(st,{tab:t("visitorPage.pcFooter"),key:"pc"}),e().createElement(st,{tab:t("visitorPage.mobileFooter"),key:"mobile"}))),e().createElement(E.J9,{ref:i,initialValues:O,onSubmit:ye,render:C=>e().createElement(E.l0,{className:"cl-form"},e().createElement(E.gN,(0,K.Z)({label:t("visitorPage.footerPreview"),component:Ot,visitorActive:Q,footerData:(0,m.Z)((0,m.Z)({},V(C.values)),{},{logo:n||"https://oss.coolcollege.cn/1794889942485307392.png"})},_e)),e().createElement(E.gN,(0,K.Z)({name:"bgColor",label:t("visitorPage.bgColor"),component:It},_e)),e().createElement(E.gN,(0,K.Z)({name:"title",label:t("help.title"),component:Ve.Z,maxLength:50,displayType:"Custom",className:"".concat(o,"-input")},_e)),e().createElement(E.gN,(0,K.Z)({name:"firstText",label:t("visitorPage.textOne"),component:Ve.Z,maxLength:50,displayType:"Custom",className:"".concat(o,"-input")},_e)),e().createElement(E.gN,(0,K.Z)({name:"secondText",label:t("visitorPage.textTwo"),component:Ve.Z,maxLength:50,displayType:"Custom",className:"".concat(o,"-input")},_e)),e().createElement(E.gN,(0,K.Z)({name:"thirdText",label:t("visitorPage.textThree"),component:Ve.Z,displayType:"Custom",maxLength:50,className:"".concat(o,"-input")},_e)),e().createElement("div",{className:"".concat(o,"-line")}),e().createElement(E.gN,(0,K.Z)({name:"picList",label:t("common.image"),component:Dt},_e)),e().createElement("div",{className:"".concat(o,"-line")}),e().createElement(E.gN,(0,K.Z)({name:"recodeInfo",label:t("visitorPage.archivalInfo"),component:Ve.Z,maxLength:50,displayType:"Custom",placeholder:t("validation.pleaseEnter"),className:"".concat(o,"-input")},_e)),e().createElement(E.gN,(0,K.Z)({name:"recode",label:t("visitorPage.internetProvider"),component:rt},_e)),e().createElement(E.gN,(0,K.Z)({name:"recode2",label:"".concat(t("visitorPage.internetProvider"),"2"),component:rt},_e)),e().createElement(N.Z,null,e().createElement(A.Z,{span:2}),e().createElement(A.Z,{span:22},e().createElement(te.Z,{className:"form-page-container-bottom-btn",loading:C.isSubmitting,onClick:C.submitForm,type:"primary"},t("pcCustomize.applyNow")))))}))},Ut=(0,f.$j)(r=>({enterpriseName:r.user.enterpriseName,enterpriseLogo:r.user.enterpriseLogo}))((0,P.Z)()(Mt)),pa=a(20228),bt=a(11382),ga=a(63185),wt=a(9676),ha=a(14781),At=a(53431),Ea=a(59250),xt=a(13013),Ca=a(30887),ze=a(99210),Rt=a(17673),Bt=a(43123),Wt=a(18329),fa=a(57338),lt=a(83107),ot=a(54549),Ge=ne.Z.TextArea,Kt=r=>{var t=r.t,s=r.visible,n=r.editData,o=r.onClose,i=o===void 0?()=>{}:o,u="seo-setting-drawer",d=(0,p.useState)({title:"",keywords:"",desc:""}),O=(0,U.Z)(d,2),S=O[0],M=O[1];(0,p.useEffect)(()=>{n.feature?M((0,m.Z)({title:n.page_name},JSON.parse(n.feature))):M((0,m.Z)((0,m.Z)({},S),{},{title:n.page_name}))},[n]);var Q=()=>e().createElement("div",{className:"".concat(u,"-header")},e().createElement("span",{className:"".concat(u,"-header-title")},t("visitorPage.seoOptimize")),e().createElement("div",{className:"".concat(u,"-header-close-btn"),onClick:()=>i()},e().createElement(ot.Z,null))),c=()=>{if(!S.title||S.title&&S.title.trim().length===0){l.default.error(t("visitorPage.pageTitle")+t("visitorPage.notEmpty"));return}Ke((0,m.Z)((0,m.Z)({},n),{},{feature:JSON.stringify(S)})).then(v=>{v.data.code===2e5&&(l.default.success(t("common.saveSuccess")),i(!0))})};return e().createElement(lt.Z,{title:Q(),placement:"right",width:560,className:"".concat(u,"-drawer"),closable:!1,destroyOnClose:!0,onClose:()=>i(),visible:s},e().createElement("div",{className:u},e().createElement("p",null,t("visitorPage.seoTip")),e().createElement(N.Z,{className:"".concat(u,"-row")},e().createElement(A.Z,{span:3,className:"".concat(u,"-row-required")},t("visitorPage.pageTitle"),":"),e().createElement(A.Z,{span:21},e().createElement(Ge,{value:S.title,maxLength:60,placeholder:"".concat((0,je.ZT)(t("visitorPage.notRequired"),60)),onChange:v=>M((0,m.Z)((0,m.Z)({},S),{},{title:v.target.value}))}))),e().createElement(N.Z,{className:"".concat(u,"-row")},e().createElement(A.Z,{span:3},t("examing.describeLabel"),":"),e().createElement(A.Z,{span:21},e().createElement(Ge,{value:S.keywords,maxLength:100,placeholder:"".concat((0,je.ZT)(t("visitorPage.notRequired"),100)),onChange:v=>M((0,m.Z)((0,m.Z)({},S),{},{keywords:v.target.value}))}))),e().createElement(N.Z,{className:"".concat(u,"-row")},e().createElement(A.Z,{span:3},t("visitorPage.desc"),":"),e().createElement(A.Z,{span:21},e().createElement(Ge,{value:S.desc,maxLength:100,placeholder:"".concat((0,je.ZT)(t("visitorPage.notRequired"),100)),onChange:v=>M((0,m.Z)((0,m.Z)({},S),{},{desc:v.target.value}))}))),e().createElement(N.Z,{className:"".concat(u,"-row")},e().createElement(A.Z,{span:3}),e().createElement(A.Z,{span:21},e().createElement(te.Z,{type:"primary",onClick:c},t("common.save"))))))},jt=(0,f.$j)(r=>({themeColor:r.advancedSetting.themeColor}))((0,P.Z)()(Kt)),Vt=a(41194),$t=a(99946),Ft=r=>{var t=r.t,s=r.visible,n=r.domain,o=r.editData,i=r.onClose,u=i===void 0?()=>{}:i,d="share-drawer",O=(0,p.useState)({title:""}),S=(0,U.Z)(O,1),M=S[0];(0,p.useEffect)(()=>{},[]);var Q=()=>{W.m8.push("/enterprise/systemSetup/themeStyle/DomainSettings")},c=()=>e().createElement("div",{className:"".concat(d,"-header")},e().createElement("span",{className:"".concat(d,"-header-title")},t("common.share")),e().createElement("div",{className:"".concat(d,"-header-close-btn"),onClick:u},e().createElement(ot.Z,null))),v=()=>n.pcDomain?e().createElement("div",{className:"share-tip"},e().createElement(Vt.Z,{urlLabel:"".concat(t("setting.pcEnd")," Url"),notShowQrCode:!0,shareUrl:"".concat(n.pcDomain,"/#/landing?pageId=").concat(o.id)})):e().createElement("div",{className:"share-tip"},e().createElement(I.Z,{message:e().createElement("div",null,e().createElement("span",null,t("cmsText.unSetShared",{name:"PC"})),e().createElement("a",{onClick:Q},t("cmsText.domainSetting"))),type:"warning",showIcon:!0})),j=()=>n.mobileDomain?e().createElement("div",{className:"share-tip"},e().createElement($t.Z,{id:"mobileShare",record:M,option:{scene:""},onlyUrl:"".concat(n.mobileDomain,"/#/pages/visitor/index?enterpriseId=").concat(localStorage.getItem("enterpriseId"),"&pageId=").concat(o.id,"&type=home"),tip:t("visitorPage.shareDesc"),urlLabel:"".concat(t("setting.mobile")," Url")})):e().createElement(I.Z,{message:e().createElement("div",null,e().createElement("span",null,t("cmsText.unSetShared",{name:t("exam.move")})),e().createElement("a",{onClick:Q},t("cmsText.domainSetting"))),type:"warning",showIcon:!0});return e().createElement(lt.Z,{title:c(),placement:"right",width:560,className:"".concat(d,"-drawer"),closable:!1,destroyOnClose:!0,onClose:u,visible:s},e().createElement("div",{className:d},j(),v()))},zt=(0,f.$j)(r=>({themeColor:r.advancedSetting.themeColor}))((0,P.Z)()(Ft)),Ht=Y.Z.confirm,Yt=r=>{var t=r.t,s=r.themeColor,n=r.userInfo,o=r.domain,i="page-setting",u=(0,p.useState)([]),d=(0,U.Z)(u,2),O=d[0],S=d[1],M=(0,p.useState)({id:"",page_name:"",visible:!1}),Q=(0,U.Z)(M,2),c=Q[0],v=Q[1],j=(0,p.useState)(!1),ge=(0,U.Z)(j,2),Me=ge[0],Le=ge[1],Z=(0,p.useState)(!1),ye=(0,U.Z)(Z,2),V=ye[0],me=ye[1],C=(0,p.useState)({page_num:1,page_size:20,total:0}),Ze=(0,U.Z)(C,2),L=Ze[0],le=Ze[1],we=(0,p.useState)(!1),$=(0,U.Z)(we,2),he=$[0],Qe=$[1],ta={okText:t("common.ok"),cancelText:t("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1};(0,p.useEffect)(()=>{Re()},[L.page_num]);var Re=()=>{Qe(!0),Fe((0,m.Z)({},L)).then(g=>{Qe(!1),g.data.code===2e5&&(S(g.data.data.list),le((0,m.Z)((0,m.Z)({},L),{},{total:g.data.data.total})))}).catch(()=>{Qe(!1)})},aa=()=>{if(!c.page_name||c.page_name&&c.page_name.trim().length===0){l.default.error(t("validation.pleaseEnter")+t("visitorPage.pageName"));return}Ke(c).then(g=>{g.data.code===2e5&&(l.default.success(c.id?t("lecturerPage.editSuccess"):t("lecturerPage.addSuccess")),v({id:"",page_name:"",visible:!1}),c.id||L.page_num===1?Re():le((0,m.Z)((0,m.Z)({},L),{},{page_num:1})))})},it=g=>{var Te=g||{id:"",page_name:"",is_main_page:"false"};v((0,m.Z)((0,m.Z)({},Te),{},{visible:!0}))},ra=g=>{Y.Z.confirm({title:t("common.tip"),content:t("course.sureToDelete"),cancelText:t("upload.cancel"),okText:t("upload.ok"),onOk:()=>{qe(g).then(Te=>{Te.data.code===2e5&&(l.default.success(t("common.deleteSuccess")),L.page_num===1?Re():le((0,m.Z)((0,m.Z)({},L),{},{page_num:1})))})}})},na=(g,Te)=>{var Xe=!Te;Ht({title:t("common.tip"),icon:e().createElement(X.Z,null),content:t(Xe?"visitorPage.singleOpenVisitorBtn":"visitorPage.singleCloseVisitorBtn"),onOk(){var da=t(Xe?"common.open":"common.close");Se({pageId:g,type:"switch_status",status:Xe}).then(ua=>{ua.data.code===2e5&&(l.default.success(da+t("historicRecords.success")),Re())})}})},sa=g=>{Y.Z.confirm({title:t("common.tip"),content:t("visitorPage.isSetMainPage"),cancelText:t("upload.cancel"),okText:t("upload.ok"),onOk:()=>{Se({pageId:g,type:"set_main_page",status:!0}).then(Te=>{Te.data.code===2e5&&(l.default.success(t("setting.setUpSucceed")),Re())})}})},la=g=>e().createElement(ze.Z,null,e().createElement(ze.Z.Item,{onClick:()=>ca(g)},t("common.share")),e().createElement(ze.Z.Item,{onClick:()=>it(g)},t("resourceLibrary.rename")),e().createElement(ze.Z.Item,{disabled:g.is_main_page==="true",onClick:()=>ra(g.id)},t("common.delete"))),oa=g=>{var Te={id:"visitor",pageId:g.id,access_token:n.token,userId:n.id,corpId:n.corpId,scopeId:n.enterpriseId,scopeName:n.enterpriseName,newVisitor:!0};W.m8.push("/decorate/pageRender?".concat((0,Rt.stringify)(Te)))},Pa=g=>{me(!0),v(g)},ia=g=>{g&&Re(),me(!1)},ca=g=>{Le(!0),v(g)},ma=g=>{le((0,m.Z)((0,m.Z)({},L),{},{page_num:g}))};return e().createElement(bt.Z,{spinning:he},e().createElement("div",{className:"".concat(i)},e().createElement("div",{className:"".concat(i,"-add-item resource-item"),onClick:()=>it(),style:{borderColor:s,color:s}},"+ ".concat(t("visitorPage.addPage"))),O.map(g=>e().createElement("div",{className:"".concat(i,"-list-item resource-item"),key:g.id},e().createElement("div",{className:"".concat(i,"-list-item-profile")},g.is_main_page==="true"?e().createElement("div",{className:"".concat(i,"-list-item-profile-home"),style:{background:s}},e().createElement(ke.Z,{iconClass:"icon-ic_home",size:"10px"}),t("visitorPage.home")):null,g.page_name),e().createElement("div",{className:"".concat(i,"-list-item-controls")},e().createElement("div",{className:"".concat(i,"-list-item-controls-left")},e().createElement(D.Z,{checked:g.status==="true",disabled:g.status==="true"&&g.is_main_page==="true",checkedChildren:t("customFields.open"),unCheckedChildren:t("customFields.close"),onClick:()=>na(g.id,g.status==="true")}),e().createElement(te.Z,{type:"link",onClick:()=>oa(g)},t("visitorPage.pageDecorate")),g.is_main_page!=="true"?e().createElement(te.Z,{type:"link",disabled:g.status!=="true",onClick:()=>sa(g.id)},t("visitorPage.setMainPage")):null),e().createElement("div",{className:"".concat(i,"-list-item-controls-right")},e().createElement(xt.Z,{overlay:la(g)},e().createElement(Bt.Z,{style:{color:s}}))))))),e().createElement("div",{className:"".concat(i,"-bottom")},e().createElement(At.Z,{total:L.total,current:L.page_num,onChange:ma,defaultPageSize:20,showSizeChanger:!1})),e().createElement(Wt.ZP,(0,K.Z)({title:c.id?t("visitorPage.editPage"):t("visitorPage.addPage")},ta,{visible:c.visible,onCancel:()=>v({visible:!1}),onOk:aa}),e().createElement(N.Z,{className:"".concat(i,"-model-row")},e().createElement(A.Z,{span:5,className:"".concat(i,"-model-row-label-style")},e().createElement("span",{className:"".concat(i,"-model-row-required")},t("visitorPage.pageName"),"\uFF1A")),e().createElement(A.Z,{span:16},e().createElement(ne.Z,{value:c.page_name,maxLength:60,placeholder:t("evaluation.write")+t("visitorPage.pageName"),onChange:g=>v((0,m.Z)((0,m.Z)({},c),{},{page_name:g.target.value}))}))),c.id?null:e().createElement(N.Z,{className:"".concat(i,"-model-row")},e().createElement(A.Z,{span:5}),e().createElement(A.Z,{span:16},e().createElement(wt.Z,{checked:c.is_main_page==="true",onChange:g=>v((0,m.Z)((0,m.Z)({},c),{},{is_main_page:g.target.checked?"true":"false"}))},t("visitorPage.setMainPage"))))),e().createElement(zt,{editData:c,domain:o,visible:Me,onClose:()=>Le(!1)}),e().createElement(jt,{editData:c,visible:V,onClose:ia}))},Jt=(0,f.$j)(r=>({themeColor:r.advancedSetting.themeColor,userInfo:r.user}))((0,P.Z)()(Yt)),kt=a(11449),Gt=a(4408),Qt=Y.Z.confirm,Xt=w.Z.TabPane,qt=r=>{var t=r.t,s="visitor-setting",n=(0,p.useState)(!1),o=(0,U.Z)(n,2),i=o[0],u=o[1],d=(0,p.useState)("pageSet"),O=(0,U.Z)(d,2),S=O[0],M=O[1],Q=(0,p.useState)({pcDomain:"",mobileDomain:""}),c=(0,U.Z)(Q,2),v=c[0],j=c[1],ge=[{tab:t("visitorPage.pageSet"),key:"pageSet"},{tab:t("visitorPage.navSet"),key:"navSet"},{tab:t("visitorPage.footerSet"),key:"footerSet"},{tab:t("visitorPage.colorThemeSet"),key:"colorThemeSet"}];(0,p.useEffect)(()=>{sessionStorage.clear(),mt().then(V=>{u(V.data.data.open_visitor_page==="true")}),dt().then(V=>{j({pcDomain:V.data.pc_domain?"https://".concat(V.data.pc_domain):"",mobileDomain:V.data.mobile_domain?"https://".concat(V.data.mobile_domain):""})})},[]);var Me=()=>{Qt({title:t("common.tip"),icon:e().createElement(X.Z,null),content:t(i?"visitorPage.closeVisitorBtn":"visitorPage.openVisitorBtn"),onOk(){u(!i),ct({type:i?"close":"open"}).then(V=>{if(V.data.code===200){var me=t(i?"cmsText.close":"cmsText.open");l.default.success(me,3)}})}})},Le=()=>{W.m8.push("/enterprise/systemSetup/themeStyle/DomainSettings")},Z=()=>!v.pcDomain&&!v.mobileDomain?e().createElement("div",{className:"".concat(s,"-header-message")},e().createElement(I.Z,{message:e().createElement("div",null,e().createElement("span",null,t("cmsText.unSet")),e().createElement("a",{onClick:Le},t("cmsText.domainSetting"))),type:"warning",showIcon:!0})):e().createElement("div",{className:"".concat(s,"-header")},e().createElement(D.Z,{checked:i,onClick:Me}),e().createElement("span",null,t("domainSettings.openVisitorPage"))),ye=V=>{M(V)};return e().createElement(kt.Z,{pageContainerParams:{header:{title:t("domainSettings.visitorPageSet")},content:Z(),className:s}},e().createElement(Gt.Z,{title:t("domainSettings.visitorPageSet")}),!v.pcDomain&&!v.mobileDomain||!i?e().createElement("div",{className:"".concat(s,"-content-empty")},e().createElement(H.Z,{image:H.Z.PRESENTED_IMAGE_SIMPLE})):e().createElement("div",{className:"".concat(s,"-content")},e().createElement(w.Z,{activeKey:S,onChange:ye},ge.map(V=>e().createElement(Xt,{tab:V.tab,key:V.key}))),S==="pageSet"?e().createElement(Jt,{domain:v}):null,S==="navSet"?e().createElement(vt,null):null,S==="footerSet"?e().createElement(Ut,null):null,S==="colorThemeSet"?e().createElement(ht,null):null))},ea=(0,f.$j)()((0,P.Z)()(qt))}}]);
