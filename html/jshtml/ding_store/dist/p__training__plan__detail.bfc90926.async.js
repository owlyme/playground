(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[365],{54624:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return se}});var Q=e(47673),x=e(4107),Y=e(12924),s=e.n(Y),L=e(91768),O=e(80991),a=e(54549),T=e(49101),I=e(62029),h=e(59250),v=e(13013),l=e(30887),i=e(99210),o=e(43185),K=e(53251),P=e(57663),M=e(71577),j=e(88986),g=e(57361),A=e(34792),f=e(48086),t=e(9754),r=e.n(t),m=e(28216),p=e(73566),c=e(49146),E=e(74262),N=e(40938),d=e(6793),V=e(54531),w=e(10237),B=e(84874),X=e(1164),J=e(37055),H=e(10780),ee=e(43967),ge=e(76466),me=5,te=z=>({uploaderList:z.uploader.list,uploadSucceedItem:z.uploader.uploadSucceedItem,uploadComponentType:z.uploader.uploadComponentType,appType:z.user.appType,dingUserId:z.user.account,corpId:z.user.corpId}),Z=z=>{if(z.icon)return z.icon;var W=z.name.split(".").pop(),$=J.e1[W];return $||"iconf-matter-picture"};class R extends s().Component{constructor(W){var $;super(W);$=this,this.handleBeforeUpload=C=>{var y=this.props,D=y.t,U=y.value;if(C.type.indexOf("image")<0)return f.default.warning(D("component.stageAddFileFormatTip")),!1;this.props.onChange(U.concat(C))},this.handleOnChange=C=>{var y=C.file,D=this.props,U=D.value,re=D.t;y.status==="done"?this.props.onChange(U.filter(k=>k.id!==y.id).concat(y.response.data)):y.status==="error"&&(f.default.error("".concat(y.name," ").concat(re("course.courseDetailCoverFailure"))),this.props.onChange(U.filter(k=>k.id!==y.id)))},this.handleRemove=C=>{var y=this.props.value;this.props.onChange(y.filter(D=>D.id!==C.id))},this.handleUploadFile=()=>{this.setState({showFileSelector:!0})},this.handleSelectedCancel=()=>{this.setState({showFileSelector:!1})},this.handleSelectedAttachment=C=>{var y=this.props,D=y.t,U=y.value,re=U.map(ie=>ie.id),k=C.filter(ie=>!re.includes(ie.id)),ae=U.length;if(k.length>me-ae){f.default.warning((0,d.ZT)(D("component.stageAddFileTip"),5));return}this.handleSelectedCancel(),k=k.map(ie=>(ie.size=ie.data.size,ie)),this.props.onChange(U.concat(k))},this.handleChooseFiles=C=>{var y=this.props,D=y.t,U=y.value,re=y.uploaderList,k=y.uploadComponentId,ae=y.notLibrary,ie=y.hasZip,pe=ie===void 0?"":ie,De=(0,ee.Y5)(re);if(C.target.files.length+De.length+U.length>5){f.default.warning((0,d.ZT)(D("component.stageAddFileTip"),5));return}this.props.dispatch({type:"uploader/chooseFiles",payload:{choosedFiles:C.target.files,dispatch:this.props.dispatch,uploadComponentType:k,notLibrary:ae,hasZip:pe==="true"}}),C.target.value=null,C.target.files=null},this.handlePreview=C=>{var y=this.props.t;if(!dd.version&&C.biz_type===3){f.default.info(y("practiceOperation.dingFileTip"));return}if(C.biz_type!==3){this.handlePreviewSystemFile(C);return}var D=J.ZP.DingSpaceId.getSpaceId(),U={corpId:this.props.corpId,userId:this.props.account,fileids:C.url,timeStamp:Date.parse(new Date)};w.WY.get({url:D,params:U}).then(re=>{re.data.code===0?this.ddSpacePreview(C):f.default.info(re.data.msg)}).catch(re=>{f.default.error(re.data)})},this.handlePreviewDingFile=(0,g.Z)(r().mark(function C(){var y,D,U,re,k,ae,ie,pe;return r().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return y=$.props,D=y.corpId,U=y.dingUserId,re=y.value,k=y.t,Oe.next=3,(0,V.Cz)({corpId:D,userId:U});case 3:ae=Oe.sent,ie=Me=>{(0,c.jz)(Me,3).then(Te=>{if(Te.data.code===0){var Ne=(0,c.GY)(Te.data,$.props);Ne&&Ne.length>0&&$.props.onChange(re.concat(Ne))}}).catch(Te=>console.error(Te))},pe=Me=>{f.default.warn("".concat(k("learning.dingSelectError"),": ").concat(JSON.parse(Me)))},(0,V.yZ)({space:{spaceId:ae,corpId:D,max:5},types:["space"],onSuccess:ie,onFail:pe});case 7:case"end":return Oe.stop()}},C)})),this.dealWatchType=C=>{var y=J.Yq.findIndex(De=>C.type.toLowerCase().includes(De))>-1,D=C.content_type.indexOf("video")>-1,U=J.Ss.indexOf(C.content_type)>-1,re=C.type.indexOf("image")>-1||C.type.indexOf("picture")>-1||C.content_type.indexOf("image")>-1||C.content_type.indexOf("picture")>-1,k=C.content_type.indexOf("html")>-1,ae=C.content_type.indexOf("scorm")>-1,ie=C.content_type.indexOf("h5")>-1,pe="";return ie?pe="article":y?pe="doc":D||U?pe="video":re?pe="image":k?pe="html":ae&&(pe="scorm"),pe},this.handlePreviewSystemFile=C=>{var y=this.state.previewInfo,D=this.dealWatchType(C),U=J.Ss.indexOf(C.content_type)>-1;if(D==="scorm"){var re=C.url.split("//"),k=re[1].split("/"),ae=[re[0],k[0]].join("//"),ie="".concat(ae,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(C.url));X.Z.targetTo({path:ie,isExternalLink:!0});return}if(D==="article"){var pe=C.content_type,De=C.url,Oe=pe==="h5/link";Oe?X.Z.targetTo({path:De,isExternalLink:!0}):X.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(C.id)});return}var Me={mode:"preview",watchType:D};D==="doc"?Object.assign(Me,{resourceInfo:{type:"",docType:C.type,aliUrl:C.path,url:C.url,docTitle:C.name,playId:C.videoId||C.video_id,storageType:C.storage_type}}):D==="image"?Object.assign(Me,{resourceInfo:{url:C.url,playId:C.videoId||C.video_id,storageType:C.storage_type}}):D==="html"?Object.assign(Me,{resourceInfo:{url:C.url}}):Object.assign(Me,{resourceInfo:{source:{FD:C.url,OD:C.path},originUrl:C.url,contentType:U?"mp3":C.type,playId:C.videoId||C.video_id,storageType:C.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:Me,previewInfo:(0,j.Z)((0,j.Z)({},y),{},{title:C.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var C=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,j.Z)((0,j.Z)({},C),{},{visible:!1})})},this.ddSpacePreview=C=>{var y={spaceId:C.path,fileId:C.url,fileName:C.name,fileSize:C.size,fileType:C.type};(0,V.DR)(y)},this.renderFileListItem=(C,y,D)=>s().createElement("div",{className:"file-list-item-coach",key:C.id||C.uid},s().createElement("span",{className:"file-list-item-coach__index"},D+1),s().createElement(B.Z,{iconClass:Z(C),size:"16px"}),s().createElement("div",{className:"file-list-item-coach__info"},s().createElement("span",{className:"name"},C.name),C.id&&s().createElement("span",{className:"size"},C.size/1e3,"KB"),!C.id&&s().createElement("span",{className:"size"},"\u4E0A\u4F20\u4E2D")),y?s().createElement(M.Z,{type:"link",className:"file-list-item-coach__remove-btn",onClick:()=>{this.handleRemove(C)}},s().createElement(B.Z,{iconClass:"icon-icon_close",size:"12px"})):s().createElement("div",{style:{width:12}})),this.handleCancelUpload=()=>{this.setState({uploadVisible:!1})},this.uploadSuccess=C=>{var y=this.props,D=y.t,U=y.value;if(C.length+U.length>5){f.default.warning((0,d.ZT)(D("component.stageAddFileTip"),5));return}var re=C.map(k=>{var ae=J.Ss.indexOf(k.originalType)>-1;return{id:k.id,name:k.name,duration:k.duration,type:k.type,originalType:k.type,icon:J.e1[ae?"mp3":k.type],status:k.status,size:k.size}});this.props.onChange(this.props.value.concat(re)),this.setState({uploadVisible:!1})},this.state={showFileSelector:!1,UploadConfig:{data:{access_token:localStorage.token},action:J.ZP.PostAbility.operateAttachmentUpload(),beforeUpload:this.handleBeforeUpload,accept:".jpg,.jpeg,.png,.gif",showUploadList:!1,onChange:this.handleOnChange},uploadVisible:!1,resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},isDingDiskChoose:!1,previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){var W=this;return(0,g.Z)(r().mark(function $(){var C;return r().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return(0,V.TN)(),D.next=3,(0,c.uj)("operation");case 3:C=D.sent,W.setState({isDingDiskChoose:C});case 5:case"end":return D.stop()}},$)}))()}UNSAFE_componentWillReceiveProps(W){if((0,ee.Of)(W,this.props)){var $=W.uploadSucceedItem,C=$.id,y=$.name,D=$.contentType,U=$.type,re=$.duration,k=$.status,ae=$.size;if(W.uploadComponentType!==W.uploadComponentId)return;var ie=J.Ss.indexOf(D)>-1,pe={id:C,name:y,duration:re,type:U,originalType:U,icon:J.e1[ie?"mp3":U],status:k,size:ae};this.props.onChange(this.props.value.concat([pe]))}}render(){var W=this.props,$=W.t,C=W.value,y=W.removeable,D=W.preview,U=W.resourceTip,re=W.canSelectCourse,k=W.notLibrary,ae=W.hasZip,ie=ae===void 0?"":ae,pe=this.state,De=pe.UploadConfig,Oe=pe.showFileSelector,Me=pe.uploadVisible,Te=pe.isDingDiskChoose,Ne=pe.resourcePlayInfo,Ze=pe.previewInfo,Le=s().createElement(i.Z,null,s().createElement(i.Z.Item,null,s().createElement(K.Z,De,$("component.practiceUploadPicBtnText"))),s().createElement(i.Z.Item,null,k?s().createElement("div",{className:"practice-attachment__upload__button"},$("component.practiceUploadFileBtnText"),s().createElement("input",{className:"file-input",multiple:!0,type:"file",onChange:this.handleChooseFiles})):s().createElement("div",{className:"practice-attachment__upload__button",onClick:()=>this.setState({uploadVisible:!0})},$("component.practiceUploadFileBtnText"))));return s().createElement("div",{className:"practice-attachment"},!D&&s().createElement("div",null,s().createElement(H.Z,{visible:Oe,defaultChecked:C,onCancel:this.handleSelectedCancel,onOk:this.handleSelectedAttachment,excludeType:"h5",showPrivate:!1}),s().createElement("div",{className:"practice-attachment-row"},s().createElement("span",null,$("component.practiceAttachment"),":"),s().createElement("div",null,s().createElement("div",null,s().createElement(v.Z,{overlay:Le,disabled:C.length===5},s().createElement(M.Z,{disabled:C.length===5,icon:s().createElement(T.Z,null)},$("component.localUpload"))),re?s().createElement(M.Z,{className:"practice-attachment__choose-courseware",icon:s().createElement(T.Z,null),disabled:C.length===5,onClick:this.handleUploadFile},$("component.coursewareLibSelect")):null,dd&&dd.version&&Te?s().createElement(M.Z,{className:"practice-attachment__ding-upload-button",icon:s().createElement(p.Z,null),disabled:C.length===5,onClick:this.handlePreviewDingFile},$("learning.dingSelect")):null),s().createElement("div",{className:"tip"},U||$(ie==="true"?"component.practiceUploadTipZip":"component.practiceUploadTipRange"))))),s().createElement("div",{className:"file-list"},C.map((S,n)=>this.renderFileListItem(S,y,n))),k?s().createElement(N.Z,{params:{classifyId:0,bizType:1},hasZip:ie}):s().createElement(E.Z,{visible:Me,title:this.props.t("common.storage"),onCancel:this.handleCancelUpload,onSuccess:S=>this.uploadSuccess(S),params:{classifyId:0,bizType:0},notLibrary:k,hasZip:ie}),s().createElement(ge.Z,(0,I.Z)({},Ne,{previewInfo:Ze})))}}R.defaultProps={removeable:!1,attachment:[],preview:!1,resourceTip:"",canSelectCourse:!0,notLibrary:!1};var le=(0,m.$j)(te)((0,L.Z)()(R)),fe=e(43859),Ee=x.Z.TextArea;class ve extends s().Component{constructor(){super(...arguments);this.handleChange=W=>{var $=W.target.value;this.props.onFieldChange($)},this.changContent=(W,$)=>{var C=W.target.value,y=[...this.props.value];y[$].content=C,this.props.onFieldChange(y)},this.changeFile=(W,$)=>{for(var C=[...this.props.value],y=0,D=C;y<D.length;y++){var U=D[y];if($===U.id){U.resources=W;break}}this.props.onFieldChange(C)},this.addStep=()=>{var W=this.props.value;this.props.onFieldChange(W.concat([{content:"",resources:[],id:new Date().getTime()}]))},this.delItem=W=>{var $=[...this.props.value];$.splice(W,1),this.props.onFieldChange($)}}render(){var W=this.props,$=W.value,C=W.t,y=W.formik,D=W.canEdit,U=W.maxLength,re=W.areaPlaceHolder,k=W.resourceTip,ae=W.canSelectCourse,ie=W.notLibrary,pe=W.hasZip,De=pe===void 0?"":pe,Oe=y.errors;return s().createElement("div",{className:"radio-mentor-form"},$.map((Me,Te)=>s().createElement("div",{key:Me.id,className:"step-item"},s().createElement("div",{className:"step-title"},s().createElement("p",{className:"step-content"},(0,d.ZT)("".concat(C("practiceOperation.stepByStep")),Te+1)),$.length>1&&s().createElement(a.Z,{onClick:()=>this.delItem(Te)})),s().createElement(Ee,{maxLength:U,disabled:!D,rows:4,placeholder:re||C("tutorial.textDesc"),value:Me.content,onChange:Ne=>this.changContent(Ne,Te)}),s().createElement(le,{notLibrary:ie,canSelectCourse:ae,resourceTip:k,uploadComponentId:Me.id,removeable:D,hasZip:De,preview:!D,onChange:Ne=>this.changeFile(Ne,Me.id),value:Me.resources}),Oe&&Oe.stepList&&Oe.stepList[Te]&&s().createElement("p",{className:"step-content-error"},C("tutorial.textDescRequire")))),D?s().createElement("div",{className:"step-add-btn",onClick:this.addStep},s().createElement(T.Z,null),s().createElement("span",null,C("tutorial.addSteps"))):null)}}ve.defaultProps={maxLength:800,areaPlaceHolder:"",resourceTip:"",canSelectCourse:!0,notLibrary:!1};var se=(0,fe.Z)((0,O.$j)((0,L.Z)()(ve)))},42837:function(Ie,ne,e){"use strict";var Q=e(12924),x=e.n(Q),Y=e(91768),s=e(28216),L=e(66708),O=e(18329);class a extends x().Component{render(){var I=this.props,h=I.visible,v=I.onCancel,l=I.title,i=I.t;return h?x().createElement(O.ZP,{visible:h,width:"400",footer:null,title:l||i("common.QRCodeScan"),bodyStyle:{minWidth:430},onCancel:v,destroyOnClose:!0},x().createElement(L.Z,this.props)):null}}ne.Z=(0,s.$j)()((0,Y.Z)()(a))},74525:function(Ie,ne,e){"use strict";var Q=e(57361),x=e(34792),Y=e(48086),s=e(9754),L=e.n(s),O=e(12924),a=e.n(O),T=e(91768),I=e(28216),h=e(92592),v=e(5430),l=e(10237),i=e(84874),o=e(16239),K=e(38642),P=e(28963);class M extends a().Component{constructor(g){var A;super(g);A=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var f=this.props,t=f.type,r=f.isProjectShare,m=f.isCommodityExchange,p=f.userInfo;["wx","weixin"].includes(t)?t==="weixin"&&p.appId==="9005"?this.initOtherCode():this.initWXCode():r&&t==="ding"?this.getProjectShareUrl():m&&t==="ding"?this.getCommodityExchangeUrl():t==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var f=this.props,t=f.t,r=f.appType,m=f.orderId,p=this.props.option.scene,c=localStorage.getItem("uid");if(!o.Z[(0,o.c)()].showCl||r!=="e_app"){var E={deliverUserId:c,orderId:m,flag:"exchange"};h.toDataURL(JSON.stringify(E),{width:500}).then(w=>{this.setState({img:w})}).catch(()=>{Y.default.error(t("integralMall.qrCodeFailed"))})}else{var N="/pages/messageRedirect/messageRedirect?".concat(p),d=encodeURIComponent(N),V="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(d,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(V).then(w=>{h.toDataURL(w.data.short_link,{width:500}).then(B=>{this.setState({img:B})}).catch(()=>{Y.default.error(t("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var f=this.props.option.scene,t=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(f)),r="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(t);this.getShortLink(r).then(m=>{this.initOtherCode(m.data.short_link)})},this.getShortLink=f=>l.WY.post({url:v.ZP.Common.getQrUrl(),data:{link:f}}),this.initWXCode=(0,Q.Z)(L().mark(function f(){var t,r,m,p;return L().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return t=A.props.option,r=t.scene,m=t.flag,E.next=3,l.WY.post({url:v.ZP.createWxCode(),data:{flag:m,scene:"".concat(r,"&enterpriseId=").concat(v.ZP.enterpriseId),enterprise_id:v.ZP.enterpriseId}});case 3:p=E.sent,A.setState({img:p.data.wx_code,linkUrl:"data:image/png;base64,".concat(p.data.wx_code)});case 5:case"end":return E.stop()}},f)})),this.initOtherCode=function(){var f=(0,Q.Z)(L().mark(function t(r){var m,p,c,E;return L().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(m=A.props,p=m.type,c=m.fsUrl,d.t0=r,d.t0){d.next=6;break}return d.next=5,A.handleScanCode();case 5:d.t0=d.sent;case 6:E=d.t0,p==="fs"&&c&&(E=c),A.setState({linkUrl:E}),h.toDataURL(E,{width:500}).then(V=>{A.setState({img:V})}).catch(()=>{Y.default.error(A.props.t("personal.failedGenerateCode"))});case 10:case"end":return d.stop()}},t)}));return function(t){return f.apply(this,arguments)}}(),this.handleScanCode=(0,Q.Z)(L().mark(function f(){var t,r,m,p,c,E,N,d,V,w,B,X,J,H,ee,ge,me,te;return L().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(t=A.props,r=t.type,m=t.userInfo,p=t.universalFn,c=A.state.wxH5Url,E=A.props.option,N=E.scene,d=E.pc_url,V=d===void 0?"":d,w=E.mobile_url,B=w===void 0?"":w,X=E.pc_type,J=X===void 0?"":X,H=E.mobile_type,ee=H===void 0?"":H,ge=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),me=encodeURIComponent(N),!p){R.next=12;break}return R.next=8,A.getShortLink((0,K.jr)({pc_url:V,mobile_url:B,pc_type:J,mobile_type:ee}));case 8:return te=R.sent,R.abrupt("return",(0,P.fZ)(te.data.short_link));case 12:R.t0=r,R.next=R.t0==="app"?15:R.t0==="ding"?16:R.t0==="fs"?17:R.t0==="weixin"?18:19;break;case 15:return R.abrupt("return","".concat(N,"&fromApp=true"));case 16:return R.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(m.corpId,"&appId=").concat(A.appId,"&miniAppId=").concat(A.miniAppId,"&packageType=1&pVersion=1&page=").concat(ge+me));case 17:return R.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(N,"&appType=lark"));case 18:return R.abrupt("return","".concat(c,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(m.corpId,"&").concat(N));case 19:return R.abrupt("return","");case 20:case"end":return R.stop()}},f)})),this.saveQrcode=()=>{var f=this.state.img,t=this.props,r=t.type,m=t.t,p=t.userInfo,c=document.createElement("a");c.download=m("setting.Qrcode")+new Date().getTime(),c.href=r==="wx"||r==="weixin"&&p.appId!=="9005"?"data:image/png;base64,".concat(f):f,document.body.appendChild(c),c.click(),document.body.removeChild(c)},this.generatePoster=f=>{var t=f.linkUrl,r=f.type,m=f.activeKey,p=f.option,c=this.props.universalFn;typeof c=="function"&&c({linkUrl:t,type:r,activeKey:m,option:p})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(g){g.option.scene!==this.props.option.scene&&this.initCode()}render(){var g=this.props,A=g.type,f=g.tip,t=g.extraTip,r=g.t,m=g.canSave,p=g.refreshQrCode,c=g.label,E=g.saveText,N=E===void 0?"":E,d=g.downloadAsBtn,V=g.userInfo,w=g.universalFn,B=g.activeKey,X=g.option,J=this.state,H=J.img,ee=J.linkUrl,ge=localStorage.getItem("themeColor")||"#465dcd";return H?a().createElement("div",{className:"qr-code-content"},c?a().createElement("div",{className:"label-text"},c,":"):null,a().createElement("div",{className:"qr-code-div ".concat(c?"left":"")},A==="wx"||A==="weixin"&&V.appId!=="9005"?a().createElement("img",{src:"data:image/png;base64,".concat(H),alt:""}):a().createElement("img",{src:H,alt:""}),f?a().createElement("div",{className:"tip-text"},f):null,t?a().createElement("div",{className:"tip-text"},t):null,m?a().createElement("div",{className:"save_qrcode ".concat(d?"save-btn":""),style:{color:ge},onClick:()=>this.saveQrcode()},d?null:a().createElement(i.Z,{iconClass:"icon-f-download",size:"14px"}),N||r("personal.saveCode")):null,w&&!p?a().createElement("div",{className:"save_qrcode",style:{color:ge},onClick:()=>this.generatePoster({linkUrl:ee,type:A,activeKey:B,option:X})},r("personal.saveCodePoster")):null,p?a().createElement("div",{className:"save_qrcode",style:{color:ge},onClick:()=>p()},a().createElement(i.Z,{iconClass:"iconf-switch",size:"14px"}),r("personal.refreshCodeTip")):null)):a().createElement("div",{className:"qr-code-placeholder"})}}ne.Z=(0,I.$j)(j=>{var g=j.user;return{userInfo:g,appType:g.appType,corpId:g.corpId}})((0,T.Z)()(M))},66708:function(Ie,ne,e){"use strict";var Q=e(93485),x=e(33565),Y=e(57361),s=e(18106),L=e(88108),O=e(9754),a=e.n(O),T=e(12924),I=e.n(T),h=e(91768),v=e(28216),l=e(89366),i=e(48194),o=e(74525),K=e(77779),P=e.n(K),M=e(6793),j=L.Z.TabPane;class g extends I().Component{constructor(t){var r;super(t);r=this,this.initAppTypeScan=(0,Y.Z)(a().mark(function p(){var c,E,N,d,V,w,B,X,J,H,ee;return a().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Promise.all([(0,i.q)(),(0,i.$)()]);case 2:c=me.sent,E=(0,x.Z)(c,2),N=E[0],d=E[1],V=N.data.sync_organizes,w=d.data.list,B=!1,X=(0,Q.Z)(w),me.prev=10,X.s();case 12:if((J=X.n()).done){me.next=19;break}if(H=J.value,H.type!=="wechat_applet_setting"){me.next=17;break}return B=H.switch_status==="OPEN",me.abrupt("break",19);case 17:me.next=12;break;case 19:me.next=24;break;case 21:me.prev=21,me.t0=me.catch(10),X.e(me.t0);case 24:return me.prev=24,X.f(),me.finish(24);case 27:ee=r.props.universalFn?r.filterOrganizes(V):r.filterCode(V),B&&ee.push("wx"),r.setState({scanTypes:ee});case 30:case"end":return me.stop()}},p,null,[[10,21,24,27]])})),this.filterCode=p=>{var c=[...p],E=this.props.option;return c=c.map(N=>["third_oa_app","seeyon_app"].includes(N)?"ding":N),E&&E.flag==="exam_task"?[...new Set([...c])].filter(N=>N==="fs"):[...new Set([...c,"app"])]},this.filterOrganizes=p=>{var c=[...p],E=this.props.option;c=c.map(d=>["third_oa_app","seeyon_app"].includes(d)?"ding":d);var N=new Set([...c]);return N.size===1&&N.has("app")?E&&E.flag==="exam_task"?[...N].filter(d=>d==="fs"):[...N]:(N.delete("app"),E&&E.flag==="exam_task"?[...N].filter(d=>d==="fs"):[...N])};var m=t.t;this.state={scanTypes:[],commonTitle:{ding:m("common.sanCodeCommon"),fs:m("common.sanCodeCommon"),weixin:m("common.sanCodeCommon"),app:m("common.sanCodeCommon"),wx:m("common.weChatApplets")},tabTitle:{ding:m("common.dingDingSanCode"),fs:m("common.fsScanCode"),weixin:m("common.WeComSanCode"),app:m("common.appScanCode"),wx:m("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var t=this.state,r=t.tabTitle,m=t.commonTitle,p=t.scanTypes,c=this.props,E=c.option,N=c.tip,d=c.t,V=c.extraTip,w=c.canSave,B=c.refreshQrCode,X=c.isCommodityExchange,J=c.type,H=c.center,ee=H===void 0?!0:H,ge=c.label,me=ge===void 0?"":ge,te=c.saveText,Z=c.downloadAsBtn,R=Z===void 0?!1:Z,le=c.transfer,fe=le===void 0?!1:le,Ee=c.source_type,ve=c.universalFn,se=c.activeKey;return I().createElement("div",{className:"".concat(P()["scan-code-box"]," ").concat(J==="card"?P()["card-tabs"]:"")},p.length===1?I().createElement(o.Z,{universalFn:ve,activeKey:se,type:p[0],option:E,tip:(0,M.ZT)(d(N),ve?m[p[0]]:r[p[0]]),extraTip:V,canSave:w,fsUrl:E.fsUrl,refreshQrCode:B,isCommodityExchange:X,label:me,saveText:te,downloadAsBtn:R}):I().createElement(L.Z,{defaultActiveKey:"1",centered:ee,type:J},p.map((z,W)=>{var $=W+1;return I().createElement(j,{tab:ve?m[z]:r[z],key:$},fe&&I().createElement("div",{className:P()["scan-code-transfer"]},I().createElement(l.Z,null),I().createElement("span",null,d("course.onlyScope",{source_type:d(Ee==="study_project"?"lineClass.project":"lineClass.task")}))),I().createElement(o.Z,{universalFn:ve,activeKey:se,type:z,option:E,tip:(0,M.ZT)(d(N),ve?m[z]:r[z]),extraTip:V,canSave:w,fsUrl:E.fsUrl,refreshQrCode:B,isCommodityExchange:X,label:me,saveText:te,downloadAsBtn:R}))})))}}g.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var A=f=>({appType:f.user.appType});ne.Z=(0,v.$j)(A)((0,h.Z)()(g))},61981:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return o}});var Q=e(88983),x=e(47933),Y=e(93485),s=e(57663),L=e(71577),O=e(12924),a=e.n(O),T=e(91768),I=e(18329),h=e(10237),v=e(37055);function l(K){var P=v.ZP.tutor.listTutor();return h.WY.get({url:P,params:{filter_user_quit:"true",user_id:K,filter_user_tutor:"true",status:"on"}})}class i extends a().Component{constructor(P){super(P);this.initTutorData=M=>{l(M.userId).then(j=>{j.data.data.list&&this.setState({tutorList:j.data.data.list,selectTutorId:M.value||""})})},this.renderFooter=()=>a().createElement(L.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit")),this.changeTutor=M=>{this.setState({selectTutorId:M.target.value})},this.onOk=()=>{var M=this.props.onOk,j=this.state,g=j.selectTutorId,A=j.tutorList,f="",t=(0,Y.Z)(A),r;try{for(t.s();!(r=t.n()).done;){var m=r.value;if(m.user_id===g){f=m.user_name;break}}}catch(p){t.e(p)}finally{t.f()}M&&M(g,f)},this.onCancel=()=>{var M=this.props.onCancel;this.setState({tutorList:[],selectTutorId:""}),M&&M()},this.renderTip=()=>{var M=this.state.tutorList,j=this.props,g=j.t,A=j.model;if(M.length===0)return g("tutorial.noTutor");if(A==="resource_evaluation")return g("tutorial.noEvaluation");if(A==="evaluation")return g("tutorial.tutorCommitAssess");if(A==="operation")return g("tutorial.noApproverEvaluation")},this.state={prefixCls:"coach-tutor-modal",tutorList:[],selectTutorId:""}}UNSAFE_componentWillReceiveProps(P){P.visible!==this.props.visible&&P.visible&&this.initTutorData(P),P.visible!==this.props.visible&&!P.visible&&this.setState({tutorList:[],selectTutorId:""})}render(){var P=this.state,M=P.prefixCls,j=P.tutorList,g=P.selectTutorId,A=this.props,f=A.t,t=A.visible,r=A.title;return a().createElement(I.ZP,{className:"".concat(M),visible:t,title:r||f("tutorial.chooseTutor"),size:"small",onCancel:this.onCancel,onOk:this.onOk},a().createElement("div",{className:"choose-tutor-content"},a().createElement("div",{className:"tutor-list"},a().createElement("div",{className:"tutor-tip"},this.renderTip()),j.length>0?a().createElement(x.ZP.Group,{onChange:this.changeTutor,value:g},j.map(m=>a().createElement(x.ZP,{value:m.user_id,key:m.user_id},a().createElement("div",{className:"radio-item"},a().createElement("img",{src:m.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""}),a().createElement("div",{className:"radio-item-text"},a().createElement("div",{className:"radio-item-name"},a().createElement("span",{title:m.user_name,className:"user-name"},m.user_name),a().createElement("img",{src:m.gender==="female"?"".concat("https://oss.coolcollege.cn","/1790706776073703424.png"):"".concat("https://oss.coolcollege.cn","/1790706775494889472.png"),alt:"",className:"user-name__sex-img"})),a().createElement("span",{title:m.department_name,className:"user-post"},m.department_name)))))):null)))}}i.defaultProps={visible:!1,onCancel:()=>{},onOk:()=>{},value:""};var o=(0,T.Z)()(i)},47503:function(Ie,ne,e){"use strict";var Q=e(13062),x=e(71230),Y=e(89032),s=e(15746),L=e(12924),O=e.n(L),a=e(91768),T=e(84874),I=e(75876),h=e.n(I),v=e(97256),l=e.n(v);function i(o){var K=o.t,P=o.list,M=P===void 0?[]:P,j=o.isFold,g=j===void 0?!1:j,A=o.isMust,f=A===void 0?!0:A,t=o.joint,r=t===void 0?!0:t,m=o.signType,p=m===void 0?"":m,c=o.max,E=c===void 0?2:c,N=o.edit,d=N===void 0?!0:N,V=o.onAll,w=o.onAdd,B=o.onRemove;function X(H){return H==="all"?"+":H==="any"?"/":">"}function J(H){if(H){var ee=H.name||H.user_name;if(ee)return ee.substring(ee.length-2)}return"--"}return O().createElement(x.Z,{className:"".concat(l().approver," ").concat(g?l().fold:null),gutter:[0,20]},g&&M.length>E&&O().createElement(s.Z,{className:l().all,onClick:()=>V()},O().createElement("div",{className:l().top},O().createElement("div",{className:l().left},O().createElement("div",{className:l().head},O().createElement(T.Z,{className:l().friendsIcon,iconClass:"iconf-group",size:"22px",color:"#fff"}))),O().createElement("div",{className:l().right},O().createElement("span",{className:l().joint},X(p)))),O().createElement("div",{className:l().bottom},O().createElement("p",{className:l().name},K("personnelDevelope.LookAtAll")))),M&&M.map((H,ee)=>O().createElement(s.Z,{className:g&&M.length>E&&ee<M.length-E?l().hide:null,key:H.id,title:H.name||H.user_name},O().createElement("div",{className:l().top},O().createElement("div",{className:l().left},H.avatar?O().createElement("img",{className:l().avatar,width:"36",height:"36",src:H.avatar,alt:""}):O().createElement("div",{className:l().head},d&&O().createElement("div",{className:l().remove,onClick:()=>B(ee)},O().createElement("img",{src:h(),width:"100%",height:"100%"})),J(H))),d||!d&&M.length>1&&ee!==M.length-1?O().createElement("div",{className:l().right},r&&O().createElement("span",{className:l().joint},X(p))):null),O().createElement("div",{className:l().bottom},O().createElement("p",{className:l().name},H.name||H.user_name)))),d&&O().createElement(s.Z,{className:l().add,onClick:()=>w(M)},O().createElement("div",{className:l().top},O().createElement("div",{className:l().left},O().createElement("div",{className:l().head},g&&f&&M.length===0&&O().createElement("div",{className:l().remove,style:{backgroundColor:"#fff"}},O().createElement("span",{className:l().must},"*")),O().createElement(T.Z,{iconClass:"iconf-add",className:l().plusIcon,size:"18px"}))))))}ne.Z=(0,a.Z)()(i)},72711:function(Ie,ne,e){"use strict";var Q=e(77883),x=e(21888),Y=e(12924),s=e.n(Y),L=e(43859),O=a=>s().createElement(x.Z,a);ne.Z=(0,L.Z)(O)},64303:function(Ie,ne,e){"use strict";var Q=e(62029),x=e(43358),Y=e(34041),s=e(12924),L=e.n(s),O=e(91768),a=Y.Z.Option;function T(I){var h=I.t,v=I.isPreview,l=I.showAll,i=l===void 0?!0:l,o=[{value:"1\u6708",name:h("month.January")},{value:"2\u6708",name:h("month.February")},{value:"3\u6708",name:h("month.March")},{value:"4\u6708",name:h("month.April")},{value:"5\u6708",name:h("month.May")},{value:"6\u6708",name:h("month.June")},{value:"7\u6708",name:h("month.July")},{value:"8\u6708",name:h("month.August")},{value:"9\u6708",name:h("month.September")},{value:"10\u6708",name:h("month.October")},{value:"11\u6708",name:h("month.November")},{value:"12\u6708",name:h("month.December")}];function K(j){I.onChange&&I.onChange(j)}var P={value:"",name:h("internationalizationDate.month")},M=i?[P].concat(o):o;return L().createElement(Y.Z,(0,Q.Z)({className:"month-select",defaultValue:I.defaultValue||"",style:{minWidth:98}},I,{disabled:v,onChange:K}),M.map(j=>{var g=j.value,A=j.name;return L().createElement(a,{key:g,value:g},A)}))}ne.Z=(0,O.Z)()(T)},8473:function(Ie,ne,e){"use strict";var Q=e(62029),x=e(96433),Y=e(33304),s=e(57663),L=e(71577),O=e(12924),a=e.n(O),T=e(91768),I=e(18329);class h extends a().Component{constructor(l){super(l);this.handleChangeRate=i=>{this.setState({myScore:i})},this.handleOk=()=>{this.props.onOk(this.state.myScore)},this.handleCancel=()=>{this.props.onCancel()},this.renderFooter=()=>{var i=this.props.disabled;return i?null:a().createElement(L.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit"))},this.state={prefixCls:"score-course-modal",giveMarkModal:{title:l.title||l.t("common.tip"),mask:!0,size:"small",onCancel:this.handleCancel},myScore:5,starsArray:[l.t("course.bad"),l.t("course.better"),l.t("course.good"),l.t("course.perfect"),l.t("course.great")]}}componentDidUpdate(l){l.visible!==this.props.visible&&this.props.visible&&this.setState({myScore:this.props.disabled?this.props.score:5})}render(){var l=this.state,i=l.prefixCls,o=l.giveMarkModal,K=l.myScore,P=l.starsArray,M=this.props,j=M.t,g=M.visible,A=M.disabled;return a().createElement(I.ZP,(0,Q.Z)({className:"".concat(i)},o,{visible:g,footer:this.renderFooter()}),a().createElement("div",{className:"".concat(i,"__content")},a().createElement("div",{className:"".concat(i,"__title")},j("course.myScore")),a().createElement("div",{className:"".concat(i,"__score-container")},a().createElement("span",{className:"".concat(i,"__score")},K),a().createElement("span",{className:"".concat(i,"__point")},j("course.points"))),a().createElement(Y.Z,{className:"".concat(i,"__rate"),value:K,disabled:A,style:{color:"#FFC563"},onChange:this.handleChangeRate,allowClear:!1}),a().createElement("div",{className:"".concat(i,"__desc")},P[K-1])))}}h.defaultProps={visible:!1,score:0,disabled:!1,title:"",onCancel:()=>{},onOk:()=>{}},ne.Z=(0,T.Z)()(h)},11449:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return N}});var Q=e(88986),x=e(33565),Y=e(12924),s=e.n(Y),L=e(3115),O=e(49111),a=e(19650),T=e(62029),I=e(57663),h=e(71577),v=e(91768),l=e(28216),i=e(37055),o=e(10237);function K(d){var V=i.ZP.getHelpContentByMenuKey(),w={key:d};return o.WY.get({url:V,params:w})}var P=e(74228),M=e.n(P),j=e(1164),g=e(76466),A=e(38642);class f extends s().Component{constructor(V){var w;super(V);w=this,this.getHelpContentByMenuKey=()=>{var B=this.props.defaultMenuKey;K(B).then(X=>{var J=X.data,H=J.help_url,ee=J.video_url;this.setState({videoUrl:ee,helpUrl:H})})},this.handleOpenHelpUrl=B=>{if((0,A.ve)()){window.open(B,"_blank");return}j.Z.targetTo({path:B,isExternalLink:!0})},this.handleOpenVideo=function(B){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.props.t("helpCenter.video");w.setState(J=>({resourcePlayInfo:(0,Q.Z)((0,Q.Z)({},J.resourcePlayInfo),{},{resourceInfo:{originUrl:B,source:{FD:B,OD:B},contentType:"mp4"}}),previewInfo:(0,Q.Z)((0,Q.Z)({},J.previewInfo),{},{title:X,visible:!0,onCancel:w.handleCancelPreview})}))},this.handleCancelPreview=()=>{var B=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,Q.Z)((0,Q.Z)({},B),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:V.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var V=this.state,w=V.helpUrl,B=V.resourcePlayInfo,X=V.previewInfo,J=V.videoUrl,H=this.props.t;return s().createElement("div",{className:M().helpCenter},J&&s().createElement(h.Z,{type:"link",className:M()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(J)},H("helpCenter.video")),w&&s().createElement(h.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(w)},H("helpCenter.tutorial")),s().createElement(g.Z,(0,T.Z)({},B,{previewInfo:X})))}}var t=d=>({defaultMenuKey:d.currentRoute.menuKey});f.defaultProps={defaultMenuKey:""};var r=(0,l.$j)(t)((0,v.Z)()(f));function m(d){var V=d.extra,w=localStorage.getItem("dingPersonnel"),B=sessionStorage.getItem("dingPersonnel");return s().createElement(a.Z,null,V,w!=="dingPersonnel"&&B!=="dingPersonnel"&&(0,A.eY)("COMMONEXTRA_HELP_CENTER")&&s().createElement(r,null))}var p=m,c=e(4408);function E(d){var V=(0,Y.useState)({helpCenter:(0,A.eY)("HEAD_HELP_CENTER_BUT")}),w=(0,x.Z)(V,1),B=w[0],X=d.pageContainerParams,J=X===void 0?{}:X,H=d.noPadding,ee=H===void 0?!1:H,ge=d.isPersonal,me=ge===void 0?!1:ge,te=d.pageTitle,Z=d.className,R=Z===void 0?"":Z,le={extra:B.helpCenter?s().createElement(p,{extra:J.extra}):J.extra},fe=(0,Q.Z)((0,Q.Z)({},J),le);return s().createElement("div",{className:"page-container-content ".concat(ee?"page-container-noPadding":""," ").concat(me?"page-container-content_personal_background":""," ").concat(R)},te&&s().createElement(c.Z,{title:te}),me?s().createElement(L.Z,null,d.children):s().createElement(L.Z,fe,d.children))}var N=E},73704:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return C}});var Q=e(13062),x=e(71230),Y=e(87593),s=e(37636),L=e(89032),O=e(15746),a=e(34792),T=e(48086),I=e(93485),h=e(33565),v=e(43358),l=e(34041),i=e(12924),o=e.n(i),K=e(91768),P=e(7145),M=e.n(P),j=e(5105),g=e(54421),A=e(38272),f=e(94233),t=e(67869),r=e(48736),m=e(27049),p=e(63185),c=e(9676),E=e(17998),N=e.n(E),d=e(18329),V=e(56932),w=e.n(V);function B(y){var D=y.t,U=y.visible,re=U===void 0?!1:U,k=y.pickedUsers,ae=k===void 0?[]:k,ie=y.maxUsers,pe=ie===void 0?20:ie,De=y.templateId,Oe=y.version,Me=y.nodeNo,Te=y.onOk,Ne=y.onCancel,Ze=(0,i.useState)(ae),Le=(0,h.Z)(Ze,2),S=Le[0],n=Le[1],u=(0,i.useState)(ae.length),F=(0,h.Z)(u,2),b=F[0],G=F[1],q=(0,i.useState)([]),oe=(0,h.Z)(q,2),de=oe[0],ye=oe[1],_=(0,i.useState)(!1),ce=(0,h.Z)(_,2),he=ce[0],_e=ce[1];(0,i.useEffect)(()=>{b===0&&de.length===0?_e(!1):_e(b===de.length)},[b,de]),(0,i.useEffect)(()=>{function Ae(){(0,j.m1)({templateId:De,version:Oe,nodeNo:Me}).then(xe=>{var Ke=xe.data,we=Ke.data;we.forEach(Fe=>{Fe.isChecked=S.some(je=>Fe.id===je.id)}),we.length===S.length&&G(we.length),ye(we)})}Ae()},[De,Oe,Me,S]);function Ce(){if(!he&&de.length>pe)return T.default.warning(D("approval.limitTips",{maxUsers:pe})),!1;var Ae=[];return de.forEach(xe=>{xe.isChecked=!he,Ae.push(xe)}),he?(G(0),n([])):(G(0),n(Ae)),_e(!he),!0}function Se(Ae,xe){if(Ae.isChecked)G(b-1),_e(!1);else{if(pe===1)G(0),_e(!1),ye(de.map(Ke=>(Ke.isChecked=!1,Ke)));else if(b+1>pe)return T.default.warning(D("approval.limitTips",{maxUsers:pe})),!1;G(b+1),_e(de.length===b+1)}return ye(M()(de,{[xe]:{isChecked:{$set:!Ae.isChecked}}})),!0}function ue(){if(b===0){T.default.warning(D("approval.noDirectorsTip"));return}Te({user:de.filter(Ae=>Ae.isChecked)})}return o().createElement(d.ZP,{className:N().chooseUserSingle,visible:re,size:"small",title:D("authentication.abilityDetailApprover"),onCancel:Ne,onOk:()=>ue()},o().createElement("div",null,pe>1&&o().createElement(o().Fragment,null,o().createElement(c.Z,{onChange:()=>Ce(),checked:he},D("cart.allCheck")),o().createElement(m.Z,{style:{margin:"12px 0 0 0"}})),o().createElement(A.ZP,{itemLayout:"horizontal",dataSource:de,renderItem:(Ae,xe)=>o().createElement(A.ZP.Item,{onClick:()=>Se(Ae,xe)},o().createElement(A.ZP.Item.Meta,{avatar:o().createElement("div",null,o().createElement(c.Z,{checked:Ae.isChecked}),o().createElement(t.C,{className:N().avatar,src:w()})),title:Ae.name}))})))}var X=(0,K.Z)()(B),J=e(66663),H=e(81423),ee=e.n(H),ge=e(88311),me=e(47503),te=e(91511),Z=e.n(te),R=e(37055),le=e(10237),fe=l.Z.Option;function Ee(y){var D=(0,i.useState)([]),U=(0,h.Z)(D,2),re=U[0],k=U[1],ae=(0,i.useState)(""),ie=(0,h.Z)(ae,2),pe=ie[0],De=ie[1],Oe=y.t,Me=y.onComplete;(0,i.useEffect)(()=>{Te()},[]);var Te=()=>{le.WY.get({url:R.ZP.Organization.getUserDept()}).then(Ze=>{Ze.code==="200000"&&(k(Ze.data),Me(Ze.data[0].id),De(Ze.data[0].id))})},Ne=Ze=>{De(Ze),Me(Ze)};return o().createElement("div",null,o().createElement("span",{className:Z().labels},Oe("approval.approvalDept"),":  "),o().createElement(l.Z,{placeholder:Oe("component.chooseDeptTip"),style:{width:260},onChange:(Ze,Le)=>Ne(Ze,Le),value:pe},re.map(Ze=>o().createElement(fe,{value:Ze.id,key:Ze.id,name:Ze.name},Ze.name))))}var ve=(0,K.Z)()(Ee),se=l.Z.Option,z=[{name:"1",lang:"approval.specifiedMember"},{name:"2",lang:"approval.multistageDirector"},{name:"3",lang:"approval.departmentManager"},{name:"4",lang:"searchInputPlaceholder.roles"},{name:"5",lang:"approval.byMyself"}],W=[{name:"all",lang:"approval.allApproval",moreLang:"approval.moreAllApproval"},{name:"any",lang:"approval.anyApproval",moreLang:"approval.moreAnyApproval"}];function $(y){var D=y.t,U=y.bizType,re=y.title,k=re===void 0?"":re,ae=y.businessId,ie=ae===void 0?"":ae,pe=y.content,De=y.show,Oe=y.setShow,Me=y.submitRefresh,Te=Me===void 0?()=>{}:Me,Ne=y.haveContent,Ze=Ne===void 0?!0:Ne,Le=y.defaultTemplate,S=Le===void 0?{}:Le,n=y.isBatch,u=(0,i.useState)([]),F=(0,h.Z)(u,2),b=F[0],G=F[1],q=(0,i.useState)(""),oe=(0,h.Z)(q,2),de=oe[0],ye=oe[1],_=(0,i.useState)({template_id:S.template_id?S.template_id:"",version:S.template_id?S.template_version:""}),ce=(0,h.Z)(_,2),he=ce[0],_e=ce[1],Ce=(0,i.useState)([]),Se=(0,h.Z)(Ce,2),ue=Se[0],Ae=Se[1],xe=(0,i.useState)({}),Ke=(0,h.Z)(xe,2),we=Ke[0],Fe=Ke[1],je=(0,i.useState)(!1),Ue=(0,h.Z)(je,2),ke=Ue[0],Ye=Ue[1],$e=(0,i.useState)(!1),Re=(0,h.Z)($e,2),ze=Re[0],Ge=Re[1],et=(0,i.useState)(!1),He=(0,h.Z)(et,2),Je=He[0],Qe=He[1],tt=(0,i.useState)([]),Xe=(0,h.Z)(tt,2),nt=Xe[0],dt=Xe[1],ct=(0,i.useState)("true"),rt=(0,h.Z)(ct,2),ut=rt[0],mt=rt[1],pt=(0,i.useState)(!1),st=(0,h.Z)(pt,2),vt=st[0],Ve=st[1];(0,i.useEffect)(()=>{function Pe(){(0,j.A8)(U).then(We=>{var Be=We.data,be=Be.data;G(be),_e({template_id:be.length?be[0].template_id:0,version:be.length?be[0].version:0})})}S.template_id||Pe()},[U]),(0,i.useEffect)(()=>{he.template_id&&he.version&&de&&ht(he)},[he,de]);function ht(Pe){(0,j.sB)({templateId:Pe.template_id,version:Pe.version,dept_id:de}).then(We=>{var Be=We.data;Ae(Be.data.map(be=>(be.approval_type==="2"?be.approvers=[{id:be.node_id,name:D("approval.multistageDirector")}]:be.approval_type==="3"&&(be.approvers=[{id:be.node_id,name:D("approval.departmentManager")}]),be)))})}function ft(Pe,We){_e({template_id:Pe,version:We.version})}var gt=(0,i.useCallback)((Pe,We)=>{var Be=y.t;return Be(We===0?"approval.createUser":z.filter(be=>be.name===Pe)[0].lang)},[D]);function Et(Pe,We,Be){if(Be>0){var be=(0,I.Z)(W),qe;try{for(be.s();!(qe=be.n()).done;){var at=qe.value;if(at.name===Pe)return We==="1"||We==="5"?D(at.lang,{param:Be}):D(at.moreLang)}}catch(Pt){be.e(Pt)}finally{be.f()}}return""}function yt(Pe){Fe(Pe),Ye(!0)}function it(Pe){mt(Pe.is_all_company),Fe(Pe),new Promise(We=>{dt(()=>(We(Pe.approvers),Pe.approvers))}).then(()=>{Pe.is_all_company==="true"?Ge(!0):Qe(!0)})}function lt(Pe,We){var Be=ue.findIndex(qe=>qe.node_no===Pe.node_no),be=M()(ue,{[Be]:{approvers:{$splice:[[We,1]]}}});Ae(be),Fe(be[Be])}function ot(Pe){ue.forEach(We=>{We.node_id===we.node_id&&(We.approvers=Pe.user)}),ut==="true"?Ge(!1):Qe(!1)}function _t(){if(!vt){Ve(!0);var Pe=ue.filter(Be=>Be.approval_type==="5");if(Pe.length>0&&Pe.some(Be=>Be.approvers.length===0)){T.default.error(D("approval.approverTip")),Ve(!1);return}if(n){var We={dept_id:de,template_id:he.template_id,template_version:he.version,assign_node_list:Pe.map(Be=>({node_id:Be.node_id,user_list:Be.approvers.map(be=>be.id)})),business_info_list:pe.business_info_list||[],merge_message:!1};(0,j.f9)(We).then(()=>{T.default.success(D("common.submitSuccess")),Te(),Ve(!1)}).catch(()=>{T.default.error(D("common.submitFailure")),Ve(!1)});return}(0,j.UE)({dept_id:de,templateId:he.template_id,version:he.version,assignNodeList:Pe.map(Be=>({node_id:Be.node_id,user_list:Be.approvers.map(be=>be.id)})),title:k,dataId:ie,content:pe}).then(()=>{T.default.success(D("common.submitSuccess")),Te(),Ve(!1)}).catch(()=>{Ve(!1)})}}function Ct(Pe){ye(Pe)}return o().createElement(d.ZP,{className:ee().approvalProcess,visible:De,title:D("practiceOperation.initiateApproval"),okText:D("common.submit"),size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},onCancel:()=>Oe(!1),onOk:_t},o().createElement(x.Z,null,Ze&&o().createElement(O.Z,{span:24,style:{borderRight:"1px solid #ebecf3"}},o().createElement("div",{className:ee().approvalBox},o().createElement(J.Z,{content:pe,biz_type:U}))),o().createElement(O.Z,null,o().createElement("div",{className:ee().deptWrap},o().createElement(ve,{onComplete:Ct}))),o().createElement(O.Z,{span:24},o().createElement("div",{className:ee().approvalBox},o().createElement("h5",null,D("approval.flow")),!S.template_id&&o().createElement(l.Z,{showSearch:!0,optionFilterProp:"children",className:ee().approvalBoxSelect,placeholder:D("approval.templatePlaceholder"),value:he.template_id,onChange:ft},b.map(Pe=>o().createElement(se,{key:Pe.template_id,version:Pe.version,value:Pe.template_id},Pe.name))),o().createElement(s.Z,{current:ue.length-1,direction:"vertical"},ue.map((Pe,We)=>o().createElement(s.Z.Item,{key:Pe.node_id},o().createElement("div",{className:ee().flowStep},o().createElement("div",null,o().createElement("p",{className:ee().title},gt(Pe.approval_type,We)),o().createElement("p",{className:ee().subTitle},Et(Pe.sign_type,Pe.approval_type,Pe.approvers.length))),o().createElement(me.Z,{isFold:!0,list:Pe.approvers,edit:Pe.approval_type==="5",signType:Pe.sign_type,max:7,onAll:()=>yt(Pe),onAdd:()=>it(Pe),onRemove:Be=>lt(Pe,Be)}))))),o().createElement(d.ZP,{visible:ke,title:D("authentication.abilityDetailApprover"),footer:null,onCancel:()=>Ye(!1)},ue.length>0&&o().createElement(me.Z,{isFold:!1,list:we.approvers,edit:we.approval_type==="5",signType:we.sign_type,onAdd:()=>it(we),onRemove:Pe=>lt(we,Pe)})),o().createElement(ge.Z,{className:"offline-train-form-org",visible:ze,onlyUser:!0,filterAuthOpen:!0,single:we.submit_assign_type==="one",maxUserCount:20,beyondLimitTip:D("approval.limitDirectorsTip"),initData:{user:nt},onOk:Pe=>ot(Pe),onCancel:()=>Ge(!1)}),Je&&o().createElement(X,{visible:Je,pickedUsers:nt,maxUsers:we.submit_assign_type==="one"?1:20,templateId:he.template_id,version:he.version,nodeNo:we.node_no,onOk:Pe=>ot(Pe),onCancel:()=>Qe(!1)})))))}var C=(0,K.Z)()($)},63532:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return r}});var Q=e(88983),x=e(47933),Y=e(57663),s=e(71577),L=e(96433),O=e(33304),a=e(34792),T=e(48086),I=e(12924),h=e.n(I),v=e(91768),l=e(28216);class i extends h().Component{constructor(p){super(p);this.state={}}render(){var p=this.props.formMessages;return h().createElement("div",{id:"aliPay",dangerouslySetInnerHTML:{__html:p}})}}var o=m=>{var p=m.user;return{userInfo:p}},K=(0,l.$j)(o)((0,v.Z)()(i)),P=e(38642),M=e(10237),j=e(37055),g=e(84874),A=e(18329);class f extends h().Component{constructor(p){super(p);this.onChange=c=>{this.setState({payType:c.target.value})},this.handleCancel=()=>{this.props.handleCancel()},this.toPay=()=>{var c=this.state.payType,E=this.props,N=E.t,d=E.payInfo,V=E.type;if(c==="all"){T.default.info(N("payment.paymentMethod"));return}var w=c==="ali"?"ALIPAY":"WXPAY",B=d.id,X=d.price,J=V==="project"?"STUDY_PROJECT":"STUDY_TASK";M.WY.post({url:j.ZP.StudyProjectList.createOrder(),data:{terminal_type:"pc",pay_channel:w,goods_id:B,goods_type:J,domain:window.location.origin}}).then(H=>{c==="ali"?this.setState({formMessages:H.data.data},()=>{var ee="";document.forms.length>1&&document.forms.forEach(ge=>{ge.name==="punchout_form"&&(ee=ge)}),ee&&ee.submit()}):(0,P.eJ)({url:"/course/project/wxPay?payStr=".concat(H.data.data,"&price=").concat(X,"&goodsId=").concat(B)})})},this.renderProjectInfo=()=>{var c=this.props.payInfo;return h().createElement("div",{className:"bottom_tips"},h().createElement("div",{className:"left"},h().createElement("img",{src:c.cover,alt:""})),h().createElement("div",{className:"middle"},h().createElement("div",{className:"title"},c.title),h().createElement(O.Z,{className:"rate",disabled:!0,value:c.score===0?5:c.score,style:{color:"#FFC563",fontSize:"10px"}})),h().createElement("div",{className:"right"},"\uFFE5",c.price))},this.renderGoodsInfo=()=>{var c=this.props,E=c.payInfo,N=c.t;return h().createElement("div",{className:"pay-goods-info"},h().createElement("div",{className:"pay-goods-info__title"},h().createElement("div",{className:"pay-goods-info__item"},N("common.name")),h().createElement("div",{className:"pay-goods-info__item"},N("learning.aiTrainPrice"))),h().createElement("div",{className:"pay-goods-info__body"},h().createElement("div",{className:"pay-goods-info__item"},E.title),h().createElement("div",{className:"pay-goods-info__item"},"\uFFE5",E.price)))},this.state={payType:"ali"}}componentWillReceiveProps(p){this.setState({payType:p.showPayType})}render(){var p=this.props,c=p.visible,E=p.t,N=p.showPayType,d=p.type,V=this.state,w=V.payType,B=V.formMessages,X=h().createElement(s.Z,{type:"primary",onClick:this.toPay},E("payment.pay"));return h().createElement(A.ZP,{title:E("payment.purchaseCourse"),visible:c,onCancel:this.handleCancel,width:560,footer:X},h().createElement("div",{className:"wx-or-ali-pay"},h().createElement("p",null," ",E("payment.choosePayType")),h().createElement(x.ZP.Group,{onChange:this.onChange,value:w},(N==="ali"||N==="all")&&h().createElement(x.ZP,{value:"ali"},h().createElement(g.Z,{iconClass:"icon-zhifubaozhifu",size:"20px"}),h().createElement("span",{className:"pay-type"},E("payment.aliPay"))),(N==="wx"||N==="all")&&h().createElement(x.ZP,{value:"wx"},h().createElement(g.Z,{iconClass:"icon-weixinzhifu",size:"20px"}),h().createElement("span",{className:"pay-type"},E("payment.wxPay")))),h().createElement("p",{className:"scan-tips"},E("payment.ConfirmOrder")),d==="project"?this.renderProjectInfo():this.renderGoodsInfo()),h().createElement(K,{formMessages:B}))}}f.defaultProps={visible:!1,handleCancel:()=>{},type:"project"};var t=m=>{var p=m.user;return{userInfo:p}},r=(0,l.$j)(t)((0,v.Z)()(f))},85725:function(Ie,ne,e){"use strict";e.d(ne,{Zv:function(){return Y},t2:function(){return s},ew:function(){return L}});var Q=e(37055),x=e(10237);function Y(a,T){var I=Q.ZP.PlatformCourse.learningUrl(a);return x.WY.get({url:I,params:T})}function s(a){var T=a.planId,I=Q.ZP.EnterpriseCourse.playCountStatistics();x.qg.post({url:I,data:{courseId:T}})}var L=a=>{var T=Q.ZP.Common.addDownloadLog(),I={param:a};return x.WY.get({url:T,params:I})},O=a=>{var T=CONFIG.visitors.shouldGoToCourseDetails(),I={setting_type:a};return request.get({url:T,params:I})}},66663:function(Ie,ne,e){"use strict";e.d(ne,{B:function(){return M},Z:function(){return g}});var Q=e(12924),x=e.n(Q),Y=e(91768),s=e(96486),L=e(33565),O=e(44586),a=e(36202),T=e(70880),I=e(57482),h=e(29555),v=e.n(h),l=A=>{var f=A.t,t=A.plan_id,r=(0,Q.useState)(!1),m=(0,L.Z)(r,2),p=m[0],c=m[1],E=(0,Q.useState)([]),N=(0,L.Z)(E,2),d=N[0],V=N[1];(0,Q.useEffect)(()=>{t&&w()},[t]);var w=()=>{c(!0),(0,I.DM)("month",t).then(X=>{(X.data.code==="200000"||X.data.code===2e5)&&(V([X.data.data]),c(!1))})},B=(0,T.L)({t:f});return x().createElement(x().Fragment,null,x().createElement("div",{className:v().common_detail},x().createElement("div",{className:v().headerTitle},x().createElement("div",{className:v().title},f("training.plan_details"))),x().createElement(a.f,{scroll:{y:"100%",x:"max-content"},loading:p,dataSource:(0,s.size)(d)?d:[],columns:B,rowKey:X=>X.id,pagination:!1,options:{setting:!1,density:!1,fullScreen:!1,reload:!1},tableUUID:(0,O.Z)()})))},i=(0,Y.Z)()(l),o=e(23529),K=e(88315),P=e(30847),M={ANNUAL_PLAN:"training_annual_plan",DEMAND:"training_demand",MONTH_PLAN:"training_month_plan",STUDY_TASK:"training_task",TEMP_PLAN:"training_temp_plan",EXEC:"training_exec"};function j(A){var f=A.biz_type,t=()=>{var p=A.content;return p&&((0,s.isString)(A.content)?p=JSON.parse(A.content):p=A.content),p},r=p=>{var c=t();return x().createElement(x().Fragment,null,x().createElement(K.Z,{type:p,content:c,from:A.from}))};function m(){var p=t(),c=(0,s.get)(p,"plan_id")||(0,s.get)(p,"0.task_id");switch(f){case M.ANNUAL_PLAN:return r(M.ANNUAL_PLAN);case M.DEMAND:return x().createElement(x().Fragment,null,x().createElement(P.Z,{content:p,from:A.from}));case M.MONTH_PLAN:return r(M.MONTH_PLAN);case M.STUDY_TASK:return x().createElement(x().Fragment,null,c&&x().createElement(x().Fragment,null,((0,s.get)(p,"plan_id")||(0,s.get)(p,"0.plan_id"))&&x().createElement(i,{plan_id:(0,s.get)(p,"plan_id")||(0,s.get)(p,"0.plan_id")}),x().createElement(o.Z,{type:o.w.PREVIEW,planId:c})));case M.TEMP_PLAN:return r(M.TEMP_PLAN);default:return x().createElement(x().Fragment,null)}}return x().createElement("div",{className:"business-component"},m())}var g=(0,Y.Z)()(j)},17762:function(Ie,ne,e){"use strict";var Q=e(66456),x=e(55313),Y=e(62029),s=e(88986),L=e(34792),O=e(48086),a=e(12924),T=e.n(a),I=e(91768),h=e(28216),v=e(37055),l=e(10237),i=e(18329),o=e(87312),K=e(84874),P=e(1164),M=e(76466),j=e(54531),g=e(6793);class A extends T().Component{constructor(t){super(t);this.onCancel=()=>{this.props.onCancel()},this.dealWatchType=r=>{var m=r.contentType||r.content_type,p=v.Yq.findIndex(X=>r.type.toLowerCase().includes(X))>-1,c=m.indexOf("video")>-1,E=v.Ss.indexOf(m)>-1,N=m.indexOf("image")>-1||r.type.indexOf("image")>-1||m.indexOf("picture")>-1||r.type.indexOf("picture")>-1,d=m.indexOf("html")>-1,V=m.indexOf("scorm")>-1,w=m.indexOf("h5")>-1,B="";return w?B="article":p?B="doc":c||E?B="video":N?B="image":d?B="html":V&&(B="scorm"),B},this.handlePreviewSystemFile=r=>{var m=this.state.previewInfo,p=r.status===1||r.status===2;if(p){O.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var c=r.contentType||r.content_type,E=this.dealWatchType(r),N=v.Ss.indexOf(c)>-1;if(E==="article"){var d=r.contentType,V=r.url,w=d==="h5/link";w?P.Z.targetTo({path:V,isExternalLink:!0}):P.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(r.id)});return}if(E==="scorm"){var B=r.url.split("//"),X=B[1].split("/"),J=[B[0],X[0]].join("//"),H="".concat(J,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(r.url));P.Z.targetTo({path:H,isExternalLink:!0});return}var ee={mode:"preview",watchType:E};E==="doc"?Object.assign(ee,{resourceInfo:{type:"",docType:r.type,aliUrl:r.path,url:r.url,docTitle:r.name,playId:r.videoId||r.video_id,storageType:r.storage_type}}):E==="image"?Object.assign(ee,{resourceInfo:{url:r.url,playId:r.videoId||r.video_id,storageType:r.storage_type}}):E==="html"?Object.assign(ee,{resourceInfo:{url:r.url}}):Object.assign(ee,{resourceInfo:{source:{FD:r.url,OD:r.path},originUrl:r.url,contentType:N?"mp3":r.type,playId:r.videoId||r.video_id,storageType:r.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:ee,previewInfo:(0,s.Z)((0,s.Z)({},m),{},{title:r.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var r=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,s.Z)((0,s.Z)({},r),{},{visible:!1})})},this.funGetList=()=>{var r=this.props,m=r.fileId,p=r.fileList;m?l.WY.get({url:v.ZP.lineClassStudy.getResource(),params:{id:m}}).then(c=>{this.setState({files:c.data})}):this.setState({files:p||[]})},this.handlePreview=r=>{var m=this.props,p=m.appType,c=m.t,E=r.biz_type||r.bizType;if(p==="wx_app"&&E===3){O.default.info(c("lineClassStudy.ddFileNoSee"));return}if(p==="app"){this.handlePreviewSystemFile(r);return}if(!((r.type==="zip"||r.type==="rar")&&r.storage_type!=="DING_PAN")){if(!dd.version&&E===3){O.default.info(c("practiceOperation.dingFileTip"));return}if(E!==3){this.handlePreviewSystemFile(r);return}var N=v.ZP.DingSpaceId.getSpaceId(),d={corpId:this.props.corpId,userId:this.props.account,fileids:r.url,timeStamp:Date.parse(new Date)};l.WY.get({url:N,params:d}).then(V=>{V.data.code===0?this.ddSpacePreview(r):O.default.info(V.data.msg)}).catch(V=>{O.default.error(V.data)})}},this.ddSpacePreview=r=>{var m={spaceId:r.path,fileId:r.url,fileName:r.name,fileSize:r.size,fileType:r.type};(0,j.DR)(m)},this.getIconType=r=>{var m=v.e1[r.type];return m||"iconf-matter-picture"},this.renderModalPreview=()=>{var r=this.state,m=r.resourcePlayInfo,p=r.previewInfo;return T().createElement(M.Z,(0,Y.Z)({},m,{previewInfo:p}))},this.renderCard=r=>{var m=this.props,p=m.prefixCls,c=m.t,E="".concat(p,"__file"),N=r.type;return N.indexOf("image")!==-1&&(N="png"),T().createElement(T().Fragment,null,T().createElement("div",{key:r.id,className:E},T().createElement("span",{className:"".concat(E,"__item")},T().createElement("span",{style:{"vertical-align":"middle"}},T().createElement(K.Z,{iconClass:v.e1[N],size:"16px"}))," ",T().createElement("span",{className:"".concat(E,"__name")},r.name),T().createElement("span",{className:"cl-pointer",style:{marginLeft:"15px","vertical-align":"middle"},onClick:()=>this.handlePreview(r)},c("common.preview")))))},this.renderTable=()=>{var r=this.props,m=r.t,p=r.useLocalList,c=r.fileList,E=this.state.files,N=p?c:E,d=[{title:m("common.number"),dataIndex:"id",width:80,key:"id",render:(V,w,B)=>T().createElement("span",null,B+1)},{title:m("practiceOperation.annex"),dataIndex:"name",key:"name",ellipsis:!0,render:(V,w)=>T().createElement("div",null,T().createElement(K.Z,{iconClass:this.getIconType(w),size:"16px"}),T().createElement("span",{style:{marginLeft:"8px"}},V))},{title:m("common.operate"),width:130,fixed:"right",render:(V,w)=>T().createElement("div",null,T().createElement("span",{className:"cl-pointer",onClick:()=>this.handlePreview(w)},m("common.preview")))}];return T().createElement(x.Z,{style:{minHeight:"400px"},columns:d,dataSource:N,pagination:!1})},this.renderFileList=()=>{var r=this.props,m=r.t,p=r.isComponent,c=r.isCard,E=r.fileList,N=r.useLocalList,d=r.prefixCls,V=r.title,w=this.state.files,B=N?E:w;if(p&&!c)return this.renderTable();if(c)return T().createElement(T().Fragment,null,B.length?T().createElement("div",{className:"file-list-item-card"},B.map(H=>this.renderCard(H))):T().createElement(o.Z,{tipText:m("lineClassStudy.noResult")}));var X=T().createElement("div",null,w.length>0?T().createElement("div",{className:"".concat(d,"_page")},T().createElement("div",{className:"".concat(d,"_page_num")},(0,g.ZT)(m("lineClassStudy.pageTotal"),w.length))):null),J={okText:m("common.ok"),cancelText:m("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:X};return T().createElement(i.ZP,(0,Y.Z)({title:V||m("practiceOperation.annex")},J,{visible:this.props.visible,onCancel:this.onCancel}),T().createElement("div",{className:d},this.renderTable()))},this.state={files:[],resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.funGetList()}componentDidUpdate(t){t.fileId!==this.props.fileId&&this.props.fileId&&this.funGetList()}render(){var t=this.state,r=t.resourcePlayInfo,m=t.previewInfo;return T().createElement("div",null,this.renderFileList(),T().createElement(M.Z,(0,Y.Z)({},r,{previewInfo:m})))}}A.defaultProps={prefixCls:"file-list-line-class",title:"",fileId:"",isComponent:!1,fileList:[],useLocalList:!1,isCard:""},ne.Z=(0,h.$j)(f=>({corpId:f.user.corpId,account:f.user.account}))((0,I.Z)()(A))},99359:function(Ie,ne,e){"use strict";var Q=e(62029),x=e(20228),Y=e(11382),s=e(81211),L=e(12924),O=e.n(L),a=e(91768),T=e(76651),I=e(80991),h=e(10237),v=e(37055),l=e(50603);class i extends O().Component{constructor(){super(...arguments);this.state={infos:{},questions:[],initialParams:{},isLoading:!1},this.initData=()=>{var K=this.props,P=K.questionnaire_result_vo,M=K.questionId;if(P&&this.setState({questions:P.questions,infos:P,initialParams:this.initFormParams(P.questions),isLoading:!1}),M){var j=v.ZP.EditQuestionnaire.getQuestionnaireInfo(this.props.questionId);h.WY.get({url:j}).then(g=>{var A=g.data,f=A.questions,t=(0,s.Z)(A,["questions"]);this.setState({questions:f,infos:t,initialParams:this.initFormParams(f),isLoading:!1})})}},this.initFormParams=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P={};return K.forEach(M=>{var j=M.type==="input"&&M.multiple_rows?"textarea":M.type;P["".concat(M.type,"_").concat(M.id)]={id:M.id,solution:{hasOtherOption:!1,options:"",otherAnswer:""},options:M.options,type:j,isRequired:M.is_must==="true"}}),P},this.handleSubmit=K=>{var P=[];Object.keys(K).forEach(M=>{var j=K[M],g=j.id,A=j.solution,f={};f.options=A.options,A.hasOtherOption&&(f.other_answer=A.otherAnswer),P.push({id:g,solution:f})}),this.props.onSubmit(P)},this.handleCancel=()=>{T.m8.goBack()},this.initRef=K=>{this.props.initRef(K)}}componentDidMount(){this.initData()}render(){var K=this.props.prefixCls,P=!1,M=this.state,j=M.initialParams,g=M.isLoading,A=M.questions,f=M.infos;return g?O().createElement(Y.Z,{size:"large"}):O().createElement("div",{className:K},O().createElement("div",{className:"".concat(K,"__content")},A.length?O().createElement(I.J9,{ref:this.initRef,initialValues:j,onSubmit:this.handleSubmit,render:t=>O().createElement(l.Z,(0,Q.Z)({showFooter:P},t,{questions:A,title:f.title,description:f.description,onCancel:this.handleCancel}))}):null))}}i.defaultProps={prefixCls:"participate-in-investigate-offline"},ne.Z=(0,a.Z)()(i)},39383:function(Ie,ne,e){"use strict";var Q=e(62029),x=e(57361),Y=e(9754),s=e.n(Y),L=e(12924),O=e.n(L),a=e(91768),T=e(38394),I=e.n(T),h=e(72358),v=e(99359),l=e(87312),i=e(44970),o=e(18329),K=e(37055);class P extends O().Component{constructor(j){var g;super(j);g=this,this.onCancel=()=>{this.setState({evaluateDetail:{}});var A=this.props.onCancel;A()},this.onOk=()=>{this.state.formRef.submitForm()},this.onSubmit=A=>{this.setState({evaluateDetail:{}});var f=this.props.onSubmit;f(A)},this.getMyEvaluateInfo=(0,x.Z)(s().mark(function A(){var f,t,r,m,p,c;return s().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:f=g.props,t=f.operateColumn,r=f.type,m=f.typeQuestionnaire,p="",N.t0=r,N.next=N.t0==="lecturer"?5:N.t0==="course"?7:N.t0==="student"?9:11;break;case 5:return p=t.id,N.abrupt("break",13);case 7:return p=t.id,N.abrupt("break",13);case 9:return p=K.ZP.userId,N.abrupt("break",13);case 11:return p=t.id,N.abrupt("break",13);case 13:return N.next=15,(0,h.K5)(t.id,{evaluate_id:t.evaluate_id,is_evaluated:m==="check",evaluate_object_id:p});case 15:c=N.sent,I()(c,"data.data")&&c.data.code==="200000"&&g.setState({evaluateDetail:c.data.data},()=>{});case 17:case"end":return N.stop()}},A)})),this.getEvaluateMyInfo=(0,x.Z)(s().mark(function A(){var f,t,r,m;return s().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return f=g.props,t=f.operateColumn,r=f.type,c.next=3,(0,h.RZ)(t.id,{evaluate_id:t.evaluate_id,type:r,evaluate_user_id:K.ZP.userId});case 3:m=c.sent,I()(m,"data.data")&&m.data.code==="200000"&&g.setState({evaluateDetail:m.data.data});case 5:case"end":return c.stop()}},A)})),this.initRef=A=>{this.setState({formRef:A})},this.state={evaluateDetail:{},formRef:null}}componentDidUpdate(j){var g=this.props.type;j.visible!==this.props.visible&&this.props.visible&&(g==="student"?this.getEvaluateMyInfo():this.getMyEvaluateInfo())}render(){var j=this.props,g=j.prefixCls,A=j.t,f=j.visible,t=j.typeQuestionnaire,r=j.title,m=this.state.evaluateDetail,p=m.evaluate_vo,c=m.questionnaire_result_vo,E={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:null};return t!=="check"&&delete E.footer,O().createElement(o.ZP,(0,Q.Z)({},E,{title:r||A("common.questionnaire"),visible:f,onCancel:this.onCancel,onOk:this.onOk}),O().createElement("div",{className:g},O().createElement("div",{className:"modal-content"},O().createElement("div",{className:"list-wrap all-list-wrap"},t==="check"?O().createElement(O().Fragment,null,c?O().createElement(i.Z,{isPreview:!0,questionnaireInfo:c}):O().createElement(l.Z,{tipText:A("lineClassStudy.noResult")})):O().createElement(O().Fragment,null,p?O().createElement(v.Z,{questionId:p.questionnaire_id,initRef:this.initRef,onSubmit:this.onSubmit}):null)))))}}P.defaultProps={prefixCls:"questionnaire",rate:3,typeQuestionnaire:"edit"},ne.Z=(0,a.Z)()(P)},72358:function(Ie,ne,e){"use strict";e.d(ne,{g3:function(){return Y},hR:function(){return s},ZQ:function(){return L},HM:function(){return O},RZ:function(){return a},K5:function(){return T},az:function(){return I},_C:function(){return h},p_:function(){return v}});var Q=e(37055),x=e(10237);function Y(l){return x.WY.get({url:Q.ZP.lineClassStudy.getMyEvaluate(),params:l})}function s(l,i){return x.WY.post({url:Q.ZP.lineClassStudy.evaluateSubmit(l),data:i})}function L(l,i){return x.WY.post({url:Q.ZP.lineClassStudy.scoreSubmit(l),data:i})}function O(l,i){return x.WY.post({url:Q.ZP.lineClassStudy.approvalSubmit(l),data:i})}function a(l,i){return x.WY.get({url:Q.ZP.lineClassStudy.getEvaluateMyInfo(l),params:i})}function T(l,i){return x.WY.get({url:Q.ZP.lineClassStudy.getMyEvaluateInfo(l),params:i})}function I(l,i){return x.WY.get({url:Q.ZP.lineClassStudy.getMyEvaluateInfoManage(l),params:i})}function h(l,i){return x.WY.get({url:Q.ZP.lineClassStudy.userEvaluateLecturerList(l),params:i})}function v(l){return x.WY.get({url:Q.ZP.lineClassStudy.getEvaluateCount(),params:l})}},74927:function(Ie,ne,e){"use strict";e.d(ne,{E:function(){return s}});var Q=e(88986),x=e(57068),Y=e(38642);function s(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Y.eJ)({url:"/personal/profile?".concat(x.stringify((0,Q.Z)((0,Q.Z)({},L),{},{tab:"trainingPlan"})))})}},47745:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return c}});var Q=e(34792),x=e(48086),Y=e(88986),s=e(57663),L=e(71577),O=e(71153),a=e(60331),T=e(12924),I=e.n(T),h=e(91768),v=e(76651),l=e(87722);class i extends I().Component{constructor(){super(...arguments);this.handleTimeRange=N=>{var d=N.startTime,V=N.endTime,w=N.dateStrings;if(!w.filter(X=>X).length){this.props.handleChangeDataRange({startTime:"",endTime:""});return}var B={startTime:d,endTime:V};this.props.handleChangeDataRange(B)}}render(){return I().createElement("div",{className:"exam-grades__query"},I().createElement(l.Z,{timestamp:!0,showTime:!0,format:"YYYY-MM-DD HH:mm",onCustomChange:this.handleTimeRange}))}}var o=(0,h.Z)()(i),K=e(84391),P=E=>{var N=E.t,d=E.shouldRenderExport;return I().createElement("div",{className:"exam-grades__query"},d&&I().createElement(L.Z,{type:"primary",onClick:E.handleExport},I().createElement(K.Z,null),N("common.exportData")))},M=(0,h.Z)()(P),j=e(38642),g=e(10237),A=e(37055),f=e(6793),t=e(18329),r=e(95664),m=e(36202);class p extends I().Component{constructor(N){super(N);this.getTableColumns=()=>{var d=[{title:this.props.t("personal.submitTime"),dataIndex:"planId",key:"planId",width:160,render:(X,J)=>I().createElement("span",{className:"exam-grades__table__cell"},(0,f.p6)(J.commit_time,"yyyy-MM-dd hh:mm:ss"),J.score_rule===1?I().createElement(a.Z,{color:"#CF3C3C"},this.props.t("myExamTask.highest")):null,J.score_rule===2?I().createElement(a.Z,{color:"#FFA000"},this.props.t("myExamTask.newest")):null)},{title:this.props.t("examing.examTotalScore"),dataIndex:"total_score",key:"total_score",width:100},{title:this.props.t("myExamTask.score"),dataIndex:"score",key:"score",width:100,render:(X,J)=>J.status===5?"--":X},{title:this.props.t("exam.examTime"),dataIndex:"duration",key:"duration",width:100,render:X=>(0,f.xj)(X)},{title:this.props.t("exam.examResult"),dataIndex:"result",key:"result",width:120},{title:this.props.t("common.operate"),width:100,key:"operate",render:X=>this.props.type==="user"?this.userOperation(X):this.adminOperation(X)}],V={title:this.props.t("exam.marker"),width:100,dataIndex:"marker_name",key:"marker_name"},w=this.props.type,B=w===void 0?"admin":w;return B==="admin"&&d.splice(4,0,V),d},this.userOperation=d=>I().createElement(T.Fragment,null,d.view_rule===0&&I().createElement(L.Z,{type:"link",size:"small",disabled:!0},this.props.t("common.viewDetails")),d.view_rule===1&&I().createElement(L.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(d)},this.props.t("myExamTask.answerAnalytics")),d.view_rule===2&&I().createElement(L.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(d)},this.props.t("exam.viewRightAndWrong"))),this.adminOperation=d=>I().createElement(T.Fragment,null,d.status===5?I().createElement("div",{className:"cl-table__cell-action"},I().createElement("span",{className:"cl-pointer cl-disabled"}," ",this.props.t("common.viewDetails"))):I().createElement("div",{className:"cl-table__cell-action",onClick:()=>this.viewDetails(d)},I().createElement("span",{className:"cl-pointer"}," ",this.props.t("common.viewDetails")))),this.viewDetails=d=>{var V=d.user_id,w=d.plan_id,B=d.makeup_count,X=this.props,J=X.pageFrom,H=X.taskId,ee=X.type,ge=ee===void 0?"admin":ee,me="";ge==="admin"?me="/training/examination/result?pageFrom=examMonitor&id=".concat(w,"&userId=").concat(V,"&makeupCount=").concat(B):J==="myObligatoryTask"?me="/training/examination/result/personal?fromPage=myObligatoryTask&id=".concat(w,"&userId=").concat(V,"&taskId=").concat(H,"&makeupCount=").concat(B):J==="myExamTask"?me="/training/examination/result/personal?pageFrom=myExamTask&id=".concat(w,"&userId=").concat(V,"&makeupCount=").concat(B):me="/training/examination/result/personal?id=".concat(w,"&userId=").concat(V,"&makeupCount=").concat(B),ge==="admin"?v.m8.push(me):(0,j.eJ)({url:me})},this.initTableList=()=>{var d=this.props.planId;g.WY.get({url:A.ZP.ExaminationPlanMonitor.getExamAllGrades(d),params:(0,Y.Z)({},this.state.params)}).then(V=>{setTimeout(()=>{this.setState({showList:!0,loading:!1,tableList:V.data.list,tableTotal:Number(V.data.total),tableTotalPages:V.data.pages})},300)}).catch(()=>{this.setState({showList:!1,loading:!1}),this.props.hideEveryExamGrade()})},this.handleTableChange=d=>{var V=this.state.params;V.page_number=d,this.setState({params:V},()=>{this.initTableList()})},this.handleChangeDataRange=d=>{this.setState(V=>({params:(0,Y.Z)((0,Y.Z)({},V.params),{},{commit_time_start:d.startTime,commit_time_end:d.endTime})}),()=>{this.initTableList()})},this.handleExport=()=>{var d=this.props,V=d.t,w=d.planId,B=A.ZP.ExaminationPlanMonitor.exportExamAllGrades(w),X=this.state.params,J=X.commit_time_start,H=X.commit_time_end,ee=X.user_id;B+="?access_token=".concat(window.localStorage.getItem("token"),"&commit_time_start=").concat(J,"&commit_time_end=").concat(H)+"&user_id=".concat(ee),window.location.href=B,x.default.success(V("study.exportSucceed"))},this.onCancel=()=>{this.props.hideEveryExamGrade()},this.renderFooter=()=>{var d=this.props.t;return I().createElement(L.Z,{type:"primary",onClick:this.onCancel},d("common.cancel"))},this.renderLeftRow=()=>I().createElement(o,{handleChangeDataRange:this.handleChangeDataRange}),this.renderRightRow=()=>{var d=this.props.type,V=d===void 0?"admin":d;return I().createElement(M,{shouldRenderExport:V==="admin",handleExport:this.handleExport})},this.state={loading:!0,params:{commit_time_start:"",commit_time_end:"",user_id:"",page_number:1,page_size:10},tableList:[],tableTotal:0,tableTotalPages:0,showList:!1}}componentDidUpdate(N){this.props.visible&&this.props.visible!==N.visible&&this.props.userId&&this.setState({params:{commit_time_start:"",commit_time_end:"",user_id:this.props.userId,page_number:1,page_size:10,task_id:this.props.taskId},tableList:[],tableTotal:0,tableTotalPages:0},()=>{this.initTableList()})}render(){var N=this.props,d=N.visible,V=N.t,w=N.planTitle,B=this.state,X=B.showList,J=B.loading,H=B.params,ee=B.tableList,ge=B.tableTotal,me=B.tableTotalPages;return I().createElement("div",null,d&&X?I().createElement(t.ZP,{size:"large",visible:d,title:V("exam.examDetails"),onCancel:this.onCancel,onOk:this.onCancel,footer:this.renderFooter()},I().createElement("div",{className:"exam-grades"},I().createElement("div",{className:"exam-grades__title"},w),I().createElement(m.f,{bordered:!0,columns:this.getTableColumns(),rowKey:"makeup_count",dataSource:ee,pagination:!1,loading:J,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"a7d5cb8a-163d-4795-953e-ae47d83ee50d"}),I().createElement(r.Z,{defaultPageSize:10,totalNum:ge,totalPage:me,current:H.page_number,showRenderRefresh:!1,onChange:this.handleTableChange}))):null)}}var c=(0,h.Z)()(p)},59842:function(Ie,ne,e){"use strict";var Q=e(71194),x=e(57016),Y=e(12924),s=e.n(Y),L=e(91768),O=e(68628),a=e(6793);class T extends s().Component{constructor(){super(...arguments);this.handleOk=()=>{this.props.onOk()},this.handleCancel=()=>{this.props.onCancel()}}render(){var h=this.props,v=h.t,l=h.visible,i=h.examInfo;return s().createElement(x.Z,{visible:l,width:493,className:"exam-item-info-modal",maskClosable:!1,title:v("exam.examInstructions"),cancelText:v("common.cancel"),okText:v("exam.enterExam"),onOk:this.handleOk,onCancel:this.handleCancel},s().createElement("div",{className:"exam-item-info"},dd.version&&i.cut_screen_count!==-1&&s().createElement("div",{className:"warn_tip_container"},(0,a.ZT)("".concat(v("exam.cutScreenExamTip")),"Edge\u3001 Firefox\u3001 Chrome\u3001 Opera\u3001 sogou \u3001360 ")),s().createElement("div",{className:"exam-item-info__title"},i.title),i.begin_time?s().createElement("div",{className:"exam-item-info__date"},(0,a.p6)(i.begin_time,"yyyy-MM-dd hh:mm")," ~"," ",(0,a.p6)(i.end_time,"yyyy-MM-dd hh:mm")):null,s().createElement("div",{className:"exam-item-info__detail"},s().createElement("div",{className:"exam-item-info__detail__row"},s().createElement("div",{className:"exam-item-info__detail__column"},s().createElement("div",{className:"exam-item-info__detail__column__value"},s().createElement("div",{className:"exam-duration"},i.exam_duration/60),s().createElement("div",{className:"exam-duration-label"},v("common.minutes"))),s().createElement("div",{className:"exam-item-info__detail__column__text"},v("exam.examTotalTime"))),s().createElement("div",{className:"exam-item-info__detail__column"},s().createElement("div",{className:"exam-item-info__detail__column__value"},i.total_score),s().createElement("div",{className:"exam-item-info__detail__column__text"}," ",v("exam.examTotalScore"))),s().createElement("div",{className:"exam-item-info__detail__column"},s().createElement("div",{className:"exam-item-info__detail__column__value"},i.passing_score),s().createElement("div",{className:"exam-item-info__detail__column__text"},v("exam.passingScore")))),s().createElement("div",{className:"exam-item-info__detail__row"},s().createElement("div",{className:"exam-item-info__detail__column"},i.exam_count>=0?s().createElement("div",{className:"exam-item-info__detail__column__value"},i.exam_count):s().createElement("div",{className:"exam-item-info__detail__column__value"}," ",v("exam.unlimited")),s().createElement("div",{className:"exam-item-info__detail__column__text"},v("exam.examTimes"))),s().createElement("div",{className:"exam-item-info__detail__column"},i.score>=0?s().createElement("div",{className:"exam-item-info__detail__column__value"},i.score):s().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),s().createElement("div",{className:"exam-item-info__detail__column__text"},v("exam.credits"))),s().createElement("div",{className:"exam-item-info__detail__column"},i.certificate_count>0?s().createElement("div",{className:"exam-item-info__detail__column__value"},i.certificate_count):s().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),s().createElement("div",{className:"exam-item-info__detail__column__text"}," ",v("exam.certificate"))))),s().createElement("div",{className:"exam-item-info__tips"},s().createElement(O.Z,null),i.cut_screen_count>=0?(0,a.ZT)(v("exam.examScreenTips"),i.cut_screen_count):v("exam.examTips"))))}}ne.Z=(0,L.Z)()(T)},41285:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return me}});var Q=e(62029),x=e(57663),Y=e(71577),s=e(34792),L=e(48086),O=e(12924),a=e.n(O),T=e(91768),I=e(55446),h=e(28216),v=e(88986),l=e(93485),i=e(33565),o=e(80991),K=e(2287),P=e(2323),M=e(49101),j=e(43859),g=e(61981);class A extends a().Component{constructor(){super(...arguments);this.state={coachModel:"operation",showSelectCoachTutorDialog:!1},this.selectCoachTutorPeople=(Z,R)=>{this.setState({showSelectCoachTutorDialog:!1}),this.props.onFieldChange({tutor_user_id:Z,tutor_user_name:R})}}render(){var Z=this.props,R=Z.value,le=Z.t,fe=Z.userId,Ee=Z.otherUserId,ve=this.state,se=ve.showSelectCoachTutorDialog,z=ve.coachModel,W=Ee||fe;return a().createElement("div",null,R.tutor_user_id?a().createElement("span",{className:"select-tutor-approver-name"},R.tutor_user_name||""):null,a().createElement(Y.Z,{onClick:()=>this.setState({showSelectCoachTutorDialog:!0}),icon:a().createElement(M.Z,null)}),a().createElement(g.Z,{model:z,value:R.tutor_user_id,title:le("authentication.abilityDetailSecAddApprover"),userId:W,visible:se,onOk:this.selectCoachTutorPeople,onCancel:()=>this.setState({showSelectCoachTutorDialog:!1})}))}}var f=te=>{var Z=te.user;return{lng:Z.lng,userId:Z.id}},t=(0,h.$j)(f)((0,j.Z)((0,o.$j)((0,T.Z)()(A)))),r=e(6793),m=e(10237),p=e(37055),c=e(1164),E=e(76466),N=e(54531),d=e(84874),V=e(54624),w={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}},B=te=>{var Z=p.Ss.indexOf(te.content_type)>-1,R=te.type;te.content_type==="scorm"&&(R="scorm"),Z&&(R="mp3");var le=p.e1[R];return le||"iconf-matter-picture"};class X extends a().Component{constructor(){super(...arguments);this.state={resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}},this.initRef=Z=>{this.formRef=Z},this.validate=Z=>{var R={},le=(0,l.Z)(Z.entries()),fe;try{for(le.s();!(fe=le.n()).done;){var Ee=fe.value,ve=(0,i.Z)(Ee,2),se=ve[0],z=ve[1];(!z.content||(0,r.fy)(z.content).length===0)&&(z.resources&&z.resources.filter(W=>W.id).length===0||!z.resources)&&(R[se]=!0)}}catch(W){le.e(W)}finally{le.f()}return Object.keys(R).length?R:""},this.validateApprover=Z=>{var R=this.props.t,le="";return Z.tutor_user_id||(le=R("tutorial.selectApprover")),le},this.handlePreview=Z=>{var R=this.props,le=R.appType,fe=R.t;if(le==="wx_app"&&Z.biz_type===3){L.default.info("\u8BE5\u9644\u4EF6\u7531\u9489\u76D8\u4E0A\u4F20\uFF0C\u65E0\u6CD5\u9884\u89C8\uFF0C\u8BF7\u5728\u9489\u9489\u5BA2\u6237\u7AEF\u6253\u5F00\u9884\u89C8");return}if(Z.status!==3){L.default.info(fe("resourceLibrary.transcodingPlayerTip"));return}if(!((Z.type==="zip"||Z.type==="rar")&&Z.storage_type!=="DING_PAN")){if(le==="app"){this.handlePreviewSystemFile(Z);return}if(!dd.version&&Z.biz_type===3){L.default.info(fe("practiceOperation.dingFileTip"));return}if(Z.biz_type!==3){this.handlePreviewSystemFile(Z);return}var Ee=p.ZP.DingSpaceId.getSpaceId(),ve={corpId:this.props.corpId,userId:this.props.account,fileids:Z.url,timeStamp:Date.parse(new Date)};m.WY.get({url:Ee,params:ve}).then(se=>{se.data.code===0?this.ddSpacePreview(Z):L.default.info(se.data.msg)}).catch(se=>{L.default.error(se.data)})}},this.dealWatchType=Z=>{var R=p.Yq.findIndex($=>Z.type.toLowerCase().includes($))>-1,le=Z.content_type.indexOf("video")>-1,fe=p.Ss.indexOf(Z.content_type)>-1,Ee=Z.content_type.indexOf("image")>-1||Z.type.indexOf("image")>-1||Z.content_type.indexOf("picture")>-1||Z.type.indexOf("picture")>-1,ve=Z.content_type.indexOf("h5")>-1,se=Z.content_type==="html",z=Z.content_type==="scorm",W="";return ve?W="article":R?W="doc":le||fe?W="video":Ee?W="image":se?W="html":z&&(W="scorm"),W},this.handlePreviewSystemFile=Z=>{var R=this.state.previewInfo,le=this.dealWatchType(Z),fe=p.Ss.indexOf(Z.content_type)>-1;if(le==="article"){var Ee=Z.content_type,ve=Z.url,se=Ee==="h5/link";se?c.Z.targetTo({path:ve,isExternalLink:!0}):c.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(Z.id)});return}if(le==="scorm"){var z=Z.url.split("//"),W=z[1].split("/"),$=[z[0],W[0]].join("//"),C="".concat($,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(Z.url));c.Z.targetTo({path:C,isExternalLink:!0});return}var y={mode:"preview",watchType:le};le==="doc"?Object.assign(y,{resourceInfo:{type:"",docType:Z.type,aliUrl:Z.path,url:Z.url,docTitle:Z.name,playId:Z.videoId||Z.video_id,storageType:Z.storage_type}}):le==="image"?Object.assign(y,{resourceInfo:{url:Z.url,playId:Z.videoId||Z.video_id,storageType:Z.storage_type}}):le==="html"?Object.assign(y,{resourceInfo:{url:Z.url}}):Object.assign(y,{resourceInfo:{source:{FD:Z.url,OD:Z.path},originUrl:Z.url,contentType:fe?"mp3":Z.type,playId:Z.videoId||Z.video_id,storageType:Z.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:y,previewInfo:(0,v.Z)((0,v.Z)({},R),{},{title:Z.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var Z=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,v.Z)((0,v.Z)({},Z),{},{visible:!1})})},this.ddSpacePreview=Z=>{var R={spaceId:Z.path,fileId:Z.url,fileName:Z.name,fileSize:Z.size,fileType:Z.type};(0,N.DR)(R)},this.renderItemView=Z=>a().createElement("div",{className:"file-list-item-resource",key:Z.id||Z.uid,onClick:()=>{this.handlePreview(Z)}},a().createElement(d.Z,{iconClass:B(Z),size:"22px"}),a().createElement("div",{className:"info"},a().createElement("span",{className:"name"},Z.name),a().createElement("div",{className:"size-and-download"},Z.id&&a().createElement("span",{className:"size"},Z.size/1024>1024?"".concat((Z.size/1024/1024).toFixed(1),"MB"):"".concat((Z.size/1024).toFixed(1),"KB")),(0,K.a)(Z)&&a().createElement("span",{className:"download-text"},a().createElement(P.Z,{item:Z})))))}componentDidMount(){this.props.onFormMounted(this.formRef),(0,N.TN)()}render(){var Z=this.props,R=Z.initData,le=Z.t,fe=Z.canEdit,Ee=Z.otherUserId,ve=this.state,se=ve.resourcePlayInfo,z=ve.previewInfo;return a().createElement("div",{className:"coach-task-form"},a().createElement("div",{className:"step-title-content"},a().createElement("p",{className:"step-title"},R.title),a().createElement("div",{className:"step-content-text"},a().createElement("p",{className:"task-desc"},le("component.practiceRequire"),"\uFF1A"),a().createElement("p",{className:"more-text"},R.content)),R.resourceList.length===0?null:a().createElement("div",{className:"step-content-text"},a().createElement("p",{className:"task-desc"},le("practiceOperation.annex"),"\uFF1A"),a().createElement("div",{className:"content-resource"},R.resourceList.map(W=>this.renderItemView(W))))),a().createElement(o.J9,{ref:this.initRef,initialValues:R,onSubmit:this.props.onSubmit,render:W=>a().createElement(o.l0,null,R.approval_type==="tutor"?a().createElement(o.gN,(0,Q.Z)({name:"tutor",label:le("authentication.abilityDetailApprover"),defaultValue:W.values.tutor,validate:this.validateApprover,component:t,displayType:"Custom",otherUserId:Ee},w)):null,a().createElement(o.gN,(0,Q.Z)({name:"stepList",label:"",required:!0,defaultValue:W.values.stepList,validate:this.validate,component:V.Z,notLibrary:!0,hasZip:"true",canSelectCourse:!1,maxLength:1200,areaPlaceHolder:le("tutorial.textDescOperationIndustry"),resourceTip:le("tutorial.resourceTip"),displayType:"Custom",canEdit:fe,customError:!0},w)))}),a().createElement(E.Z,(0,Q.Z)({},se,{previewInfo:z})))}}X.defaultProps={initData:{},onFormMounted:()=>{},canEdit:!0};var J=(0,h.$j)(te=>({corpId:te.user.corpId,account:te.user.account}))((0,T.Z)()(X)),H=e(18329);class ee extends a().Component{constructor(Z){super(Z);this.getInitData=R=>{var le=this.props.userInfo,fe=R.otherUserId?p.ZP.operationInfo.getOperationCustomByUserAndTaskId({userId:R.otherUserId,operations:R.operationsId}):p.ZP.operationInfo.getOperationInfoByUserAndTaskId({userId:le.id,operations:R.operationsId});m.WY.get({url:fe}).then(Ee=>{Ee.data.code===0?this.setState({initData:{title:Ee.data.data.title,content:Ee.data.data.content,operation_source:Ee.data.data.operation_source,resourceList:Ee.data.data.resources||[],stepList:Ee.data.data.steps&&Ee.data.data.steps.length>0?Ee.data.data.steps:[{content:"",resources:[],id:new Date().getTime()}],approval_type:Ee.data.data.approval_type,tutor:{tutor_user_id:Ee.data.data.tutor_user_id||"",tutor_user_name:Ee.data.data.tutor_user_name||""}},showForm:!0}):L.default.error(Ee.data.msg)})},this.onCancel=()=>{this.setState({showForm:!1}),this.props.onCancel&&this.props.onCancel()},this.onOk=R=>{var le=this.props.canEdit;if(!le){this.setState({showForm:!1}),this.props.onOk&&this.props.onOk();return}this.setState({commitStatus:R},()=>{this.AddFormInstance.submitForm()})},this.onFormMounted=R=>{this.AddFormInstance=R},this.onSubmit=R=>{var le=this.props,fe=le.userInfo,Ee=le.t,ve=le.otherUserId,se=this.state,z=se.isLoading,W=se.commitStatus,$=se.initData;if(!z){var C={steps:R.stepList.map((D,U)=>({content:D.content?(0,r.fy)(D.content):D.content,step:U+1,resources:D.resources.filter(re=>re.id).map((re,k)=>({resourceId:re.id,sort:k+1}))}))};if(R.approval_type==="tutor"&&!R.tutor.tutor_user_id){L.default.error(Ee("tutorial.selectApprover"));return}var y=ve?p.ZP.operationInfo.saveOperationCustomContent({userId:ve,operations:this.props.operationsId}):p.ZP.operationInfo.saveOperationIndustryContent({userId:fe.id,operations:this.props.operationsId});this.setState({isLoading:!0}),m.WY.post({url:y,data:{approval_user:R.approval_type==="tutor"?R.tutor.tutor_user_id:"",operation:C.steps,operation_source:$.operation_source},params:{status:W==="save"?"0":"1"}}).then(D=>{this.setState({isLoading:!1}),D.data.code===0&&(L.default.success(Ee(W==="save"?"common.saveSuccess":"common.submitSuccess")),this.setState({showForm:!1}),this.props.onOk&&this.props.onOk(W!=="save"))}).catch(()=>{this.setState({isLoading:!1})})}},this.renderModalFooter=()=>{var R=this.props,le=R.t,fe=R.onlyCommit,Ee=this.props.canEdit;return a().createElement("div",{className:"coach-task-modal-footer"},a().createElement(Y.Z,{onClick:this.onCancel},le("common.cancel")),Ee?a().createElement(a().Fragment,null,fe?null:a().createElement(Y.Z,{type:"primary",onClick:()=>this.onOk("save")},le("common.save")),a().createElement(Y.Z,{type:"primary",onClick:()=>this.onOk("submit")},le("common.submit"))):null)},this.state={showForm:!1,initData:{resourceList:[],operation_source:"study",stepList:[{content:"",resources:[],id:new Date().getTime()}],tutor:{tutor_user_id:"",tutor_user_name:""}},isLoading:!1,commitStatus:"save"},this.formRef=null}UNSAFE_componentWillReceiveProps(Z){Z.visible!==this.props.visible&&Z.visible&&this.getInitData(Z)}render(){var Z=this.props,R=Z.t,le=Z.visible,fe=Z.canEdit,Ee=Z.title,ve=Z.otherUserId,se={title:Ee||R("common.submit")+R("component.practiceExam"),okText:R("common.ok"),cancelText:R("common.cancel"),size:"medium",destroyOnClose:!0,maskClosable:!1,footerType:"custom"};return a().createElement(H.ZP,(0,Q.Z)({},se,{visible:le,onCancel:this.onCancel,onOk:this.onOk,renderCustomFooter:this.renderModalFooter}),a().createElement("div",{className:"add-task-coaching operation-industry"},this.state.showForm?a().createElement(J,{onFormMounted:this.onFormMounted,onSubmit:this.onSubmit,initData:this.state.initData,canEdit:fe,otherUserId:ve}):null))}}var ge=te=>({userInfo:te.user}),me=(0,h.$j)(ge)((0,T.Z)()(ee))},2323:function(Ie,ne,e){"use strict";var Q=e(22385),x=e(31097),Y=e(12924),s=e.n(Y),L=e(91768),O=e(90631),a=e(65202),T=e(2287);function I(h){var v=(0,a.p)(),l=h.item,i=h.t;return s().createElement(x.Z,{title:i("course.courseDetailDownload")},s().createElement(O.Z,{onClick:o=>(0,T.F)(o,l,h),style:{color:v,fontSize:"16px"}}))}ne.Z=(0,L.Z)()(I)},19151:function(Ie,ne,e){"use strict";var Q=e(88986),x=e(34669),Y=e(82833),s=e(22385),L=e(31097),O=e(87593),a=e(37636),T=e(57361),I=e(33565),h=e(9754),v=e.n(h),l=e(12924),i=e.n(l),o=e(91768),K=e(78138),P=e.n(K),M=e(57068),j=e(38642),g=e(65202),A=e(10237),f=e(56932),t=e.n(f),r=e(84874),m=e(37055),p=e(8473),c=e(17762),E=e(72358),N=e(39383),d=e(60667);function V(w){var B=w.t,X=w.refresh,J=w.isStart,H=w.startStudy,ee=w.isPreview,ge=(0,g.p)(),me=(0,l.useState)({}),te=(0,I.Z)(me,2),Z=te[0],R=te[1],le=(0,l.useState)(!1),fe=(0,I.Z)(le,2),Ee=fe[0],ve=fe[1],se=(0,l.useState)(!1),z=(0,I.Z)(se,2),W=z[0],$=z[1],C=(0,l.useState)({}),y=(0,I.Z)(C,2),D=y[0],U=y[1],re=(0,l.useState)(""),k=(0,I.Z)(re,2),ae=k[0],ie=k[1],pe={missing:B("lineClass.missing"),normal:B("marketing.normal"),leaved:B("lineClass.leave"),late:B("lineClassStudy.late"),leaveEarly:B("lineClassStudy.leaveEarly"),noIn:B("lineClassStudy.noIn"),noOut:B("lineClassStudy.noOut")};function De(_,ce){H&&H(ce==="course"?Ne(_):Le(_)),ce==="course"?Ne(_):Le(_)}function Oe(_){var ce;if(_.data_type===13){if(_.sign_detail.sign_info.director.length){var he=[];_.sign_detail.sign_info.director.forEach(xe=>{he.push(i().createElement(d.Z,{dataType:"userName",value:xe.sync_user_id,name:xe.userName,type:xe.sync_source_type}))}),ce=he.length?i().createElement("span",null,he.map((xe,Ke)=>i().createElement("span",{key:Ke},xe,"".concat(Ke<he.length-1?"\u3001":"")))):i().createElement("span",null,"--")}}else if(_.data_type===7&&_.offline_course_vo){var _e=_.offline_course_vo,Ce=_e.lecturer_name,Se=_e.teacher_sync_type,ue=_e.teacher_sync_source_type,Ae=_e.teacher_sync_user_id;ce=i().createElement("span",null,Se==="inside"?i().createElement(d.Z,{dataType:"userName",value:Ae,name:Ce,type:ue}):Ce||"--")}return ce}function Me(_){if(_.data_type===13){var ce=_.sign_detail.sign_record;if(ce){var he=_.sign_type==="sign_in"?ce.signInStatus:ce.signOutStatus;return he==="abnormal"&&(he=_.sign_type==="sign_in"?"late":"leaveEarly"),he==="missing"&&(he=_.sign_type==="sign_in"?"noIn":"noOut"),i().createElement("span",{className:he},pe[he])}return i().createElement("span",{className:"sign-btn no-sign-btn"},_.sign_type==="sign_in"?B("lineClassStudy.noIn"):B("lineClassStudy.noOut"))}if(_.data_type===7)return i().createElement(i().Fragment,null,_.offline_course_vo.is_student_course_evaluate&&i().createElement("span",{className:"sign-btn",onClick:()=>{Te(_.offline_course_vo)}},_.offline_course_vo.student_course_evaluated?B("lineClass.courseView"):B("lineClassStudy.evaluationOfCourse")))}function Te(_){if(!J){De(_,"course");return}Ne(_)}function Ne(_){if(!!_){ie("course"),R(_);var ce=_.student_course_evaluate_content.evaluate_type;ce==="star"?_.student_course_evaluated?S(_,"course"):ve(!0):$(!0)}}function Ze(_){if(!J){De(_,"lecturer");return}Le(_)}function Le(_){if(!!_){ie("lecturer"),R(_);var ce=_.student_lecturer_evaluate_content.evaluate_type;ce==="star"?_.student_lecturer_evaluated?S(_,"lecturer"):ve(!0):$(!0)}}function S(_,ce){return n.apply(this,arguments)}function n(){return n=(0,T.Z)(v().mark(function _(ce,he){var _e;return v().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,E.K5)(ce.id,{evaluate_id:he==="course"?ce.student_course_evaluate_id:ce.student_lecturer_evaluate_id,is_evaluated:!0,evaluate_object_id:ce.id});case 2:_e=Se.sent,_e.data.code==="200000"&&(U(_e.data.data.evaluate_vo),ve(!0));case 4:case"end":return Se.stop()}},_)})),n.apply(this,arguments)}function u(_){var ce=ae==="course"?Z.student_course_evaluate_content:Z.student_lecturer_evaluate_content,he=ce.evaluate_type;A.WY.post({url:m.ZP.lineClassStudy.evaluateSubmit(Z.id),data:{evaluate_object_id:Z.id,evaluate_type:he,evaluate_id:ae==="course"?Z.student_course_evaluate_id:Z.student_lecturer_evaluate_id,evaluateContentVo:{evaluateVo:{star:_}}}}).then(()=>{ve(!1),R({}),X()}).catch(()=>{})}function F(_){return b.apply(this,arguments)}function b(){return b=(0,T.Z)(v().mark(function _(ce){var he,_e,Ce,Se;return v().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return he=ae==="course"?Z.student_course_evaluate_content:Z.student_lecturer_evaluate_content,_e=he.evaluate_type,Ce=he.questionnaire_id,Ae.next=3,(0,E.hR)(Z.id,{evaluate_object_id:Z.id,evaluate_type:_e,evaluate_id:ae==="course"?Z.student_course_evaluate_id:Z.student_lecturer_evaluate_id,evaluate_content_vo:{questions:ce,evaluate_vo:{questionnaire_id:Ce}}});case 3:Se=Ae.sent,Se.data.code==="200000"&&($(!1),R({}),X());case 5:case"end":return Ae.stop()}},_)})),b.apply(this,arguments)}function G(_){return i().createElement("div",null,_.address?i().createElement("div",{className:"task-address task-item"},i().createElement("span",{className:"address-icon"},i().createElement(r.Z,{iconClass:"icon-xianxiaqiandao",size:"12px",color:"rgba(0, 0, 0, 0.35)"})),_.address):null,_.introduction?i().createElement("div",{className:"task-introduction task-item"},B("learning.taskSummary"),"\uFF1A",_.introduction):null,_.attachment&&_.attachment.length?i().createElement("div",{className:"training-attachment"},i().createElement(c.Z,{isCard:!0,isComponent:!0,useLocalList:!0,fileList:_.attachment})):null,_.is_open_offline_assessment&&i().createElement("div",{className:"task-score task-item"},B("lineClassStudy.auditScore"),"\uFF1A",_.course_monitor&&_.course_monitor.status==="scoring"||!_.course_monitor?_.lecturer_name?B("lineClass.waitScore"):B("lineClass.waitSignScore"):_.course_monitor.score))}function q(_,ce){var he=ce,_e=w.from===13?_.sign_list:_.data_list,Ce=_.timestamp;if(w.from===13&&_.sign_list&&_.sign_list.length){var Se=_.sign_list[0];Se.sign_type==="sign_in"?Ce=Se.sign_detail.sign_info.signInBeginTime*1:Ce=Se.sign_detail.sign_info.signOutBeginTime*1,P()(Ce).format("HH")*1<13?he=B("lineClass.antemeridian"):he=B("lineClass.afternoon")}return i().createElement("div",{className:"line-class-arrange"},i().createElement("div",{className:"title-date"},P()(Ce).format("YYYY-MM-DD"),he),i().createElement(a.Z,{mode:"left"},_e.map((ue,Ae)=>i().createElement(a.Z.Item,{key:Ae,label:de(ue)},oe(ue)))))}function oe(_){return i().createElement("div",{className:"right-content"},ye(_),i().createElement("div",{className:"timeline-item"},i().createElement("div",{className:"timeline-item-top"},i().createElement("span",{className:"task-name"},i().createElement(L.Z,{title:_.data_type===7?_.offline_course_vo.title:_.sign_detail.sign_info.name},i().createElement("span",null,_.data_type===7?_.offline_course_vo.title:_.sign_detail.sign_info.name)),_.data_type===7&&_.offline_course_vo.course_monitor&&_.offline_course_vo.course_monitor.signStatus==="leaved"&&i().createElement("span",{className:"leaved"},pe.leaved)),ee?null:i().createElement("span",null,i().createElement("span",{className:"progress-content"},_.data_type===7&&!ee&&i().createElement(Y.Z,{size:"small",percent:_.study_progress,format:ce=>i().createElement("span",{className:"circle-blue-value",style:{color:"rgba(0, 0, 0, 0.45)"}},ce,"% ")})),i().createElement("span",{className:"status-operate"},Me(_)))),ee?null:i().createElement("div",{className:"task-user task-item"},i().createElement("span",null,_.data_type===7?B("component.lecturer"):B("component.signCharge")," \uFF1A",Oe(_)),_.data_type===7&&_.offline_course_vo.is_student_lecturer_evaluate&&i().createElement("span",{className:"sign-btn",onClick:()=>{Ze(_.offline_course_vo)}},_.offline_course_vo.student_lecturer_evaluated?B("lineClass.lecturerView"):B("lineClassStudy.evaluationOfLecturer"))),_.data_type===7&&G(_.offline_course_vo)))}function de(_){var ce="",he="";return _.data_type===7&&(ce=_.offline_course_vo.begin_time,he=_.offline_course_vo.end_time),_.data_type===13&&(_.sign_type==="sign_in"?(ce=_.sign_detail.sign_info.signInBeginTime*1,he=_.sign_detail.sign_info.signInEndTime*1):(ce=_.sign_detail.sign_info.signOutBeginTime*1,he=_.sign_detail.sign_info.signOutEndTime*1)),i().createElement(i().Fragment,null,i().createElement("div",{className:"time-arrangement"},"".concat(P()(ce).format("HH:mm"),"-").concat(P()(he).format("HH:mm"))),i().createElement("div",{className:"time-total"},(0,j.hj)(ce,he,"timeStamp")))}function ye(_){var ce="";if(_.data_type===13)_.sign_type==="sign_in"?ce=B("personal.checkInLabel"):ce=B("lineClassStudy.signOut");else if(_.data_type===7){if(_.offline_course_vo.lecturer_avatar)return i().createElement("img",{className:"avatar-name",src:_.offline_course_vo.lecturer_avatar});ce=_.offline_course_vo.lecturer_name}return ce?i().createElement("span",{className:"avatar-name"},ce.substring(ce.length-2)):i().createElement("img",{className:"avatar-name",src:t()})}return w.from===13?i().createElement(i().Fragment,null,q(w.detail)):i().createElement("div",null,w.detail.map((_,ce)=>i().createElement("div",{key:ce},_.am_data&&q(_.am_data,B("lineClass.antemeridian")),_.pm_data&&q(_.pm_data,B("lineClass.afternoon")))),i().createElement(p.Z,{title:B("lineClass.starRate"),disabled:ae==="course"?Z.student_course_evaluated:Z.student_lecturer_evaluated,visible:Ee,score:Number(D.star),onCancel:()=>{ve(!1)},onOk:u}),i().createElement(N.Z,{typeQuestionnaire:ae==="course"&&Z.student_course_evaluated||ae==="lecturer"&&Z.student_lecturer_evaluated?"check":"edit",operateColumn:(0,Q.Z)((0,Q.Z)({},Z),{},{evaluate_id:ae==="course"?Z.student_course_evaluate_id:Z.student_lecturer_evaluate_id}),showList:!1,type:ae,visible:W,onCancel:()=>{$(!1)},onSubmit:F}))}ne.Z=(0,o.Z)()(V)},23529:function(Ie,ne,e){"use strict";e.d(ne,{w:function(){return Te},Z:function(){return Ze}});var Q=e(20228),x=e(11382),Y=e(13254),s=e(14277),L=e(62029),O=e(34669),a=e(82833),T=e(71153),I=e(60331),h=e(22385),v=e(31097),l=e(57663),i=e(71577),o=e(34792),K=e(48086),P=e(57361),M=e(88986),j=e(81211),g=e(9754),A=e.n(g),f=e(12924),t=e.n(f),r=e(91768),m=e(76651),p=e(57068),c=e(23538),E=e(28216),N=e(66456),d=e(55313),V=e(48736),w=e(27049),B=e(71194),X=e(57016),J=e(93485),H=e(47745),ee=e(59842),ge=e(41285),me=e(19151),te=e(38642),Z=e(84874),R=e(37055),le=e(42837),fe=e(1164),Ee=e(61981),ve=e(10237),se=e(6793),z=e(65202),W=e(54531),$=e(70517),C=e(85725);class y extends t().Component{constructor(){super(...arguments);this.state={wei:{visible:!1,option:{flag:"",scene:""}},examInfoModalVisible:!1,examInfo:{},currentExamRecord:{},showFaceQrCode:!1,examQrCode:{examId:"",studyId:"",originType:""},getExamAllGradesProps:{visible:!1,planId:"",userId:"",planTitle:"",taskId:"",pageFrom:""},columns:[],showSelectCoachTutorDialog:!1,coachTaskId:"",coachPlanId:"",showSelectCoachTutorReview:!1,evaluateQrCodeVisible:!1,coachModel:"",operationIndustryProps:{visible:!1,operationsId:""},evaluateOption:{flag:"",scene:""}},this.getRecordUIType=S=>{var n=S.record,u="";return n.type==="mp4"?u=n.contentType.indexOf("audio")>-1?"mp3":"mp4":n.type==="imageText"?u="h5":(0,$.ZG)(n.source)?u="crs":u=n.type,u},this.judgeColumns=()=>{var S=p.parse(m.m8.location.search),n=S.userId,u=[{title:this.props.t("learning.learningElectiveAddContent"),dataIndex:"title",key:"title",className:"taskTitle",render:(F,b)=>{var G=this.props.subPrefixCls,q=b.canStartStudy==="false",oe=b.courseId&&b.index&&!(0,$.ZG)(b.source),de=oe?"".concat(G,"__table__columncontent"):"".concat(G,"__table__columncontent ").concat(G,"__table__columncontent-absolute"),ye=q&&b.type!=="xx"?t().createElement("span",{className:"".concat(G,"__table__columncontent__lockicon")},t().createElement(Z.Z,{iconClass:"icon-icon_clockx"})):null,_=this.getRecordUIType({record:b}),ce=oe?"".concat(b.index,"."):t().createElement(Z.Z,{iconClass:R.e1[_],size:"16px"}),he=b.type==="ex"?b.examName:F,_e=parseInt(b.status,10)!==3&&(R.iH.indexOf(b.type.toLowerCase())>-1||R.Yq.indexOf(b.type.toLowerCase())>-1),Ce=q&&!oe&&b.unlockingTime?t().createElement("div",{className:"lock_time"},this.props.t("assgin.unLockTimeLabel"),"\uFF1A",(0,se.p6)(b.unlockingTime,"yyyy-MM-dd hh:mm")):null;return t().createElement(f.Fragment,null,t().createElement("span",{className:de},ye,ce," ",b.type==="xx"?this.props.t("common.offline"):he," ",_e?t().createElement(I.Z,{color:"gold"},this.props.t("common.transcoding")):null,this.renderDuration({record:b})),Ce)}}];this.props.isPreview||u.push({title:this.props.t("component.learningProgress"),dataIndex:"studyProgress",key:"studyProgress",width:200,render:(F,b)=>this.renderProgress({record:b})},{title:this.props.t("common.operate"),width:this.props.lng==="en_us"?210:160,dataIndex:"type",key:"type",render:(F,b,G)=>this.renderAction({str:F,record:b,index:G})}),n&&u.splice(u.length-1,1),this.setState({columns:u})},this.checkBeforeEnter=S=>{var n=S.record,u=S.type,F=u===void 0?"":u,b=this.props,G=b.status,q=b.item,oe=b.t,de=b.versionType,ye=b.stateInfos,_=b.taskIsBought,ce=ye.process,he=ye.free,_e=ye.official_price_str,Ce=n.canStartStudy,Se=n.studyProgress,ue=n.unlockingTime,Ae=n.replenish_exam,xe=Ce==="false",Ke=G==="unstarted",we=G==="overdue";return new Promise(Fe=>{_e&&!he&&!_?K.default.warning(oe("study.paymentTips")):ce>=100?Fe():Ke?K.default.warning(oe("study.beginStudyNotStarted")):we?F==="ex"&&Ae==="true"?Fe():K.default.warning(oe("study.beginStudyOverdue")):xe?K.default.warning(oe(ue?"study.beginStudyLockTip":"study.beginStudyBreakThroughTip")):F==="quiz"?q.isOrder&&Se<100?K.default.warning(oe("study.beginStudyBreakThroughTip")):Fe():de==="platform"&&(F==="report"||F==="liftingScheme")?this.getShouldViewReport(n.courseId).then(je=>{je.data.look==="true"?Fe():K.default.warning(oe("questionn.viewReportTips"))}):Fe()})},this.getShouldViewReport=S=>{var n=R.ZP.PostTalentEvaluation.shouldViewReport(S);return ve.WY.get({url:n})},this.handleGoToInvestigate=S=>{var n=S.record;this.checkBeforeEnter({record:n}).then(()=>{var u=this.props.planId;(0,te.eJ)({url:"/training/learning/task/participateInInvestigate?".concat(p.stringify({planId:u,investigateId:n.courseId}))})})},this.handleGoToEvaluation=S=>{var n=S.record,u=S.type,F=n.courseId,b=this.props,G=b.planId,q=b.stateInfos;this.checkBeforeEnter({record:n,type:u}).then(()=>{u==="open"?(0,te.eJ)({url:"/training/questionn/evaluation/response?".concat(p.stringify({evaluationId:F,type:u,id:G}))}):(0,te.eJ)({url:"/training/questionn/postTalentAssessment/myEvaluationReport?".concat(p.stringify({type:u,isBeta:!1,evaluationId:F,isOpen:q.openEvaluationResult,id:G}))})})},this.handleGoToVideo=S=>{var n=S.record;this.checkBeforeEnter({record:n}).then(()=>{var u=n.status;if(n.resourceSourceType&&n.resourceSourceType===8){this.ddSpacePreview(n);return}parseInt(u,10)!==3?K.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:n,watchType:"video",projectType:"student"})})},this.targetToWatch=S=>{var n=S.path,u=S.record,F=S.watchType,b=S.projectType,G=b===void 0?"":b,q=p.parse(this.props.location.search),oe=q.id,de=q.fromPage,ye=de===void 0?"myObligatoryTask":de,_=u.courseId&&u.index&&!u.courseInfo;if(_){var ce=u.parentCourseId?{courseId:u.parentCourseId}:this.getParentRecord(u.courseId,u.type);(0,te.eJ)({url:"".concat(n,"?").concat(p.stringify({watchType:F,planId:oe,courseId:ce.courseId,resourceId:u.courseId,fromPage:ye,storage_type:u.storage_type,CSCECSource:u.source,videoId:u.videoId||u.video_id})),actionType:"replace",projectType:G})}else(0,te.eJ)({url:"".concat(n,"?").concat(p.stringify({watchType:F,planId:oe,courseId:u.courseId,resourceId:u.courseId,fromPage:ye,storage_type:u.storage_type,CSCECSource:u.source,videoId:u.videoId||u.video_id})),actionType:"replace",projectType:G})},this.handleGoToMicroCourse=S=>{var n=S.record;this.checkBeforeEnter({record:n}).then(()=>{var u=p.parse(this.props.location.search),F=u.id,b=u.fromPage,G=b===void 0?"myObligatoryTask":b,q=n.resource_type==="video";q?(0,te.eJ)({url:"/training/learning/task/watchTask?".concat(p.stringify({watchType:"video",planId:F,courseId:n.courseId,resourceId:n._courseInfo[0].courseId,fromPage:G}))}):this.setState({wei:{visible:!0,option:{flag:"study",scene:"planId=".concat(F,"&flag=study")}}})})},this.handleGoToDoc=S=>{var n=S.record;this.checkBeforeEnter({record:n}).then(()=>{var u=n.status;if(n.resourceSourceType&&n.resourceSourceType===8){this.ddSpacePreview(n);return}parseInt(u,10)!==3?K.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:n,watchType:"doc",projectType:"student"})})},this.handleGoToCommon=S=>{var n=S.record,u=S.type;this.checkBeforeEnter({record:n}).then(()=>{var F=n.status;parseInt(F,10)!==3?K.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:n,watchType:u,projectType:"student"})})},this.showEveryExamGrade=S=>{var n=S.record,u=this.props,F=u.userId,b=u.planId;!n.show_result||this.setState(G=>({getExamAllGradesProps:(0,M.Z)((0,M.Z)({},G.getExamAllGradesProps),{},{visible:!0,planId:n.examId,userId:F,planTitle:n.examName,type:"user",taskId:b,pageFrom:"myObligatoryTask"})}))},this.hideEveryExamGrade=()=>{this.setState(S=>({getExamAllGradesProps:(0,M.Z)((0,M.Z)({},S.getExamAllGradesProps),{},{visible:!1,planId:"",userId:"",planTitle:"",type:"",taskId:"",pageFrom:""})}))},this.handleGoToExam=S=>{var n=S.record,u=S.type,F=this.props.planId;if(u==="viewResults")(0,te.eJ)({url:"/training/examination/result/personal?".concat(p.stringify({id:n.examId,taskId:F}))});else{if(n.faceRecognition==="on"){var b="";this.setState({showFaceQrCode:!0,examQrCode:{flag:"exam_messages",scene:"flag=exam_messages&examId=".concat(n.examId,"&studyId=").concat(this.props.planId,"&originType=").concat(b)}});return}var G=R.ZP.MyExamTask.examIntro({examId:n.examId});ve.WY.get({url:G}).then(q=>{this.setState({examInfoModalVisible:!0,examInfo:q.data,currentExamRecord:n})})}},this.handleGoToLatoja=S=>{var n=S.record;(0,te.eJ)({url:"/course/lineClassDetail?courseId=".concat(n.offline_course_vo.id,"&showSignStatus=true")})},this.handleGoToQuiz=S=>{var n=S.record;this.checkBeforeEnter({record:n,type:"quiz"}).then(()=>{var u=p.parse(this.props.location.search),F=u.id,b=u.fromPage,G=n.resource_quiz_vo,q=G.answer_record_count,oe=G.resource_id,de=G.course_id,ye=q===0?"/course/quiz":"/course/quizParse";(0,te.eJ)({url:"".concat(ye,"?").concat(p.stringify({courseId:de,resourceId:oe,planId:F,source:b}))})})},this.handleHiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})},this.getParentRecord=(S,n)=>{var u={};if(R.iH.indexOf(n.toLowerCase())>-1||R.Yq.indexOf(n.toLowerCase())>-1||n.toLowerCase()==="h5"){var F=(0,J.Z)(this.props.list),b;try{for(F.s();!(b=F.n()).done;){var G=b.value,q=G.courseInfo,oe=-1;if(q&&q instanceof Array&&q.length&&(oe=q.findIndex(de=>de.courseId===S)),oe>-1){u=G;break}}}catch(de){F.e(de)}finally{F.f()}}return u},this.ddSpacePreview=S=>{if(!dd.version){X.Z.warning({title:this.props.t("upload.tip"),content:this.props.t("study.dingSpaceTip")});return}var n=R.ZP.DingSpaceId.getSpaceId(),u={corpId:this.props.corpId,userId:this.props.account,fileids:S.url,timeStamp:Date.parse(new Date)};ve.WY.get({url:n,params:u}).then(b=>{if(b.data.code===0){var G={spaceId:S.path,fileId:S.url,fileName:S.name,fileSize:S.size,fileType:S.type};(0,W.DR)(G)}else K.default.info(b.data.msg)}).catch(b=>{K.default.error(b.data)});var F=this.props.onSaveProgress;F&&F(S.courseId,S.courseId)},this.renderDuration=S=>{var n=S.record,u=n.type,F=n.status,b=n.duration,G="";return b!=="0"&&(F===3&&(u==="mp4"||u==="mp3")||u==="crs"||u==="wei"||u==="ex")&&(G=(0,se.xj)(b)),G},this.renderProgress=S=>{var n=S.record,u=this.props.t,F=n.type,b=n.status,G=n.statusName,q=n.score,oe=n.studyProgress,de=n.tutorialsStatus,ye=n.show_result,_="";return F==="ex"?b===5?_=G:ye?_="".concat(G,"(").concat(q).concat(u("common.minute"),")"):_="".concat(G):F==="operation"?_=b===0?"".concat(u("common.notStarted")):b===1?"".concat(u("common.pending")):b===2?"".concat(u("common.reject")):"".concat(u("common.completed")):F==="tutor"?(de==="no_tutor"&&(_=u("common.notStarted")),de==="to_be_submitted"&&(_=u("tutorial.waitSubmitTutor")),de==="to_be_evaluated"&&(_=u("tutorial.waitEvaluate")),de==="evaluated"&&(_=u("tutorial.haveEvaluation"))):_=t().createElement(a.Z,{percent:oe,size:"small"}),_},this.gotoDDICourse=S=>{var n=S.record,u=this.props.planId;this.checkBeforeEnter({record:n}).then(()=>{(0,C.Zv)(n.courseId,{is_preview:"false",is_person_purchase:"false",plan_id:u}).then(F=>{fe.Z.targetTo({path:F.data.learning_url,isExternalLink:!0})})})},this.renderAction=S=>{var n=S.record,u=n.type,F=n.originalType,b=n.contentType,G=n.studyProgress,q=n.showReExam,oe=n.resource_quiz_vo,de=n.status,ye=n.evaluation,_=n.tutorialsStatus,ce=n.replenish_exam,he=n.source,_e=(0,z.p)(),Ce,Se=this.props,ue=Se.t,Ae=Se.item,xe=Se.stateInfos,Ke=xe.process,we=n.canStartStudy==="false",Fe=this.props.status==="unstarted",je=this.props.status==="overdue",Ue="cl-primary";Ke>=100?Ue="cl-primary":(je||Fe||we)&&(u==="ex"&&ce==="true"?Ue="cl-primary":Ue="cl-primary cl-disabled");var ke="cl-primary";if(u==="crs"&&((0,$.ZG)(he)?Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.gotoDDICourse({record:n})},ue(G===0?"study.startLearning":"study.continueLearning")):Ce=""),u==="investigate"&&(Ce=G===100?"":t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToInvestigate({record:n})},ue("study.startSurvey"))),u==="tutor"&&(_==="no_tutor"&&(Ce=t().createElement("span",{className:ke,style:{color:_e},onClick:()=>this.selectTutor({record:n})},ue("tutorial.chooseTutor"))),_==="to_be_submitted"&&(Ce=t().createElement("span",{style:{color:_e}},"".concat(ue("tutorial.tutor"),"\uFF1A").concat(n.name))),_==="to_be_evaluated"&&(Ce=t().createElement("span",{className:ke,style:{color:_e},onClick:()=>this.showQrCode({record:n})},ue("tutorial.startReview"))),_==="evaluated"&&(Ce=t().createElement("span",{className:ke,style:{color:_e},onClick:()=>this.showQrCode({record:n})},ue("study.lookStudyRecord")))),u==="evaluation"&&(G===100?Ce=t().createElement(t().Fragment,null,xe.openEvaluationResult==="true"?t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToEvaluation({record:n,type:"report"})},ue("study.viewReport")):t().createElement("span",{className:"".concat(Ue," cl-disabled")},ue("study.viewReport")),ye.status===1&&t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToEvaluation({record:n,type:"liftingScheme"})},ue("questionn.improvePlan"))):G<100&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToEvaluation({record:n,type:"open"})},ue("study.startAssessment")))),u==="operation"&&(Ce=t().createElement(t().Fragment,null,t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToOperation({record:n})},"".concat(de===0?ue("study.startLearning"):de===2?ue("learning.checkReason"):"")),de!==0&&de!==2?t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToOperationView({record:n})},this.props.t("common.viewDetails")):null)),u==="mp4"&&F!=="mp3"&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToVideo({record:n})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),(u==="mp3"||u==="mp4"&&F==="mp3")&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToVideo({record:n})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),R.Yq.indexOf(u.toLowerCase())>-1&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToDoc({record:n})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),u==="wei"&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToMicroCourse({record:n})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),u==="imageText"){var Ye=n.newCouseInfo,$e=Ye===void 0?[]:Ye;Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToCommon({record:$e.length>0?$e[0]:[],type:"graphic"})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))}if(u==="h5"&&(Ce=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToCommon({record:n,type:u})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),(b==="html"||u==="html")&&(Ce=t().createElement("span",{className:Ue,onClick:()=>this.handleGoToCommon({record:n,type:"html"})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),(b==="picture"||R.WB.includes(u))&&(Ce=t().createElement("span",{className:Ue,onClick:()=>this.handleGoToCommon({record:n,type:"picture"})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),(b==="scorm"||u==="scorm")&&(Ce=t().createElement("span",{className:Ue,onClick:()=>this.handleGoToCommon({record:n,type:"scorm"})},"".concat(ue(G===0?"study.startLearning":"study.continueLearning")))),u==="ex"){var Re="";if(G===0||ce==="true")Re=t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToExam({record:n})},this.props.t("study.startTheExam"));else{var ze=n.show_result?t().createElement("span",{className:"cl-primary",style:{color:_e},onClick:()=>this.showEveryExamGrade({record:n})},this.props.t("personal.viewDetails")):t().createElement("span",{className:"cl-disabled",onClick:()=>this.showEveryExamGrade({record:n})},this.props.t("personal.viewDetails")),Ge=q?t().createElement(t().Fragment,null,t().createElement(w.Z,{type:"vertical"}),t().createElement("span",{className:Ue,style:{color:_e},onClick:()=>this.handleGoToExam({record:n,type:"attend"})},ue("myExamTask.reTest"))):null;Re=t().createElement(t().Fragment,null,ze,Ge)}Ce=Re}var et=oe&&oe instanceof Object&&oe.question_count>0;if(et){var He=Ae.isOrder,Je=He?je||Fe||we||G<100:je||Fe||we,Qe=Je?"cl-primary cl-disabled":"cl-primary",tt=t().createElement("span",{className:Qe,style:{color:_e},onClick:()=>this.handleGoToQuiz({record:n})},oe.answer_record_count===0?ue("component.InClassTest"):ue("common.preview")),Xe=t().createElement(t().Fragment,null,Ce,tt);Ce=Xe}return Ce},this.selectTutor=(S,n)=>{var u=S.record;this.setState({showSelectCoachTutorDialog:!0,coachTaskId:u.courseId,coachPlanId:u.planId,showSelectCoachTutorReview:!!n,coachModel:u.tutorialsModel})},this.handleCancelWei=()=>{this.setState({wei:{visible:!1,option:{flag:"",scene:""}}})},this.handleGoToOperation=S=>{var n=S.record;this.checkBeforeEnter({record:n}).then(()=>{if(n.status===2){this.handleGoToOperationView({record:n});return}this.setState({operationIndustryProps:{visible:!0,operationsId:n.courseId}})})},this.handleGoToOperationView=S=>{var n=S.record,u=this.props,F=u.planId,b=u.userId;this.checkBeforeEnter({record:n}).then(()=>{fe.Z.targetTo({path:"/training/operation/info/personal?&taskId=".concat(F,"&userId=").concat(b,"&operationId=").concat(n.courseId,"&taskType=study&page=analysis&isCheckReason=true"),projectType:"student"})})},this.handleCloseExamInfo=()=>{this.setState({examInfoModalVisible:!1})},this.handleEnterExam=()=>{var S=this.props,n=S.t,u=S.fromPage,F=S.planId,b=S.enterpriseId,G=this.state,q=G.currentExamRecord,oe=G.examInfo,de=oe===void 0?{}:oe,ye=de.cut_screen_count,_=ye===void 0?"":ye;this.checkBeforeEnter({record:q,type:"ex"}).then(()=>{var ce=R.ZP.MyExamTask.examCheckStatus({examId:q.examId}),he=window.localStorage.getItem("token"),_e={access_token:he};ve.WY.get({url:ce,params:_e}).then(Ce=>{if(Ce.data.can_exam==="true")if(u==="isPersonal")if(dd.version&&_!==-1){var Se=(0,te.lz)(b,"student"),ue="".concat(Se,"/auth?").concat(p.stringify({accessToken:he,pageFrom:"ding_myExamTask",id:q.examId,taskId:F,cut_screen_count:_,lng:(0,se.me)()}));this.setState({examInfoModalVisible:!1},()=>{window.open(ue,"_blank")})}else(0,te.eJ)({url:"/training/examination/exam/personal?".concat(p.stringify({id:q.examId,taskId:F,cut_screen_count:_}))});else if(dd.version&&_!==-1){var Ae="".concat(window.location.origin,"/#/auth?").concat(p.stringify({accessToken:he,pageFrom:"ding_myExamTask",id:q.examId,cut_screen_count:_}));this.setState({examInfoModalVisible:!1},()=>{window.open(Ae,"_blank")})}else m.m8.push({pathname:"/training/examination/exam",search:p.stringify({id:q.examId,cut_screen_count:_})});else{var xe="";switch(Ce.data.status){case"exam_not_start":xe=n("myExamTask.notStartTip");break;case"exam_finished":xe=n("myExamTask.noTimeHandTip");break;case"makeup_exam_not_start":xe=n("myExamTask.markUpExamTip");break;case"makeup_exam_finished":xe=n("myExamTask.markUpExamOver");break;case"makeup_exam_attend":xe=n("myExamTask.markUpCheckResult");break;case"exam_passed":xe=n("myExamTask.passedAndResult");break;default:xe=n("myExamTask.noRepeatTip");break}K.default.warn(xe)}})})},this.renderTitle=()=>{var S=this.props,n=S.subPrefixCls,u=S.title,F="".concat(n,"__title noWrap");return t().createElement("h1",{className:F},u)},this.renderSubTitle=()=>{var S=this.props,n=S.subPrefixCls,u=S.subTitle;if(!u)return null;var F="".concat(n,"__subtitle noWrap");return t().createElement("h6",{className:F,title:u},u)},this.dealCrsCourseInfo=S=>{var n=[];return S.forEach(u=>{(u.type==="crs"||u.type==="imageText")&&u.unlockingTime&&u.courseInfo&&u.courseInfo.forEach(F=>{F.canStartStudy=u.canStartStudy,F.unlockingTime=u.unlockingTime}),u.type==="imageText"||(0,$.ZG)(u.source)?n=[...n,(0,M.Z)((0,M.Z)({},u),{},{newCouseInfo:u.courseInfo,courseInfo:null})]:n=[...n,(0,M.Z)({},u)]}),n},this.showQrCode=S=>{var n=S.record,u=this.props,F=u.appType,b=u.t;if(F==="app"){var G=b("tutorial.toAssess");n.tutorialsStatus==="evaluated"&&(G=b("tutorial.checkAssess")),K.default.success(G);return}var q="",oe="";n.tutorialsStatus==="to_be_evaluated"&&(oe="flag=student_evaluation_page&tutorUserId=".concat(n.userId,"&tutorialsId=").concat(n.courseId,"&planId=").concat(n.planId),q="student_evaluation_page"),n.tutorialsStatus==="evaluated"&&(oe="flag=student_result_page&tutor_user_id=".concat(n.userId,"&tutorials_id=").concat(n.courseId,"&planId=").concat(n.planId),q="student_result_page"),this.setState({evaluateOption:{flag:q,scene:oe},evaluateQrCodeVisible:!0})},this.handleSelectCoachTutorPeople=S=>{var n=this.props,u=n.userId,F=n.refreshData,b=this.state,G=b.coachPlanId,q=b.coachTaskId,oe=b.showSelectCoachTutorReview;if(oe||!S){this.setState({showSelectCoachTutorDialog:!1});return}var de=R.ZP.tutor.selectTutorByTask({userId:u,planId:G,tutorialsId:q,tutorUserId:S});ve.WY.post({url:de}).then(ye=>{ye.data.code===0&&(this.setState({showSelectCoachTutorDialog:!1}),F&&F())})},this.renderTable=()=>{var S=this.props,n=S.subPrefixCls,u=S.list,F=S.refreshData,b=this.state.columns,G="".concat(n,"__table");return t().createElement("div",{className:G},t().createElement(d.Z,{pagination:!1,columns:b,rowKey:q=>q.id||q.courseId,expandable:{defaultExpandAllRows:!0,expandedRowClassName:q=>q.sourceType!==7&&q.sourceType!==13?"expand-list":"",rowExpandable:q=>q.sourceType===7||q.sourceType===13||q.courseInfo,expandedRowRender:q=>t().createElement("div",null,q.sourceType===7||q.sourceType===13?t().createElement(me.Z,{from:q.sourceType,detail:q.sourceType===7?q.offline_course_details:q,refresh:()=>{F()}}):q.courseInfo?t().createElement(d.Z,{pagination:!1,showHeader:!1,columns:[{width:70}].concat([...b]),rowKey:oe=>oe.id||oe.courseId,expandable:{childrenColumnName:"courseInfo",defaultExpandAllRows:!0},dataSource:this.dealCrsCourseInfo(q.courseInfo)}):null)},dataSource:this.dealCrsCourseInfo(u)}))},this.handleEvaluateCancel=()=>{this.setState({evaluateQrCodeVisible:!1,evaluateOption:{flag:"",scene:""}})},this.handleCloseOperationIndustry=()=>{var S=this.state.operationIndustryProps;this.setState({operationIndustryProps:(0,M.Z)((0,M.Z)({},S),{},{visible:!1})})},this.handleAddOperationIndustry=()=>{this.handleCloseOperationIndustry();var S=this.props.refreshData;S&&S()}}componentDidMount(){this.judgeColumns(),(0,W.TN)()}render(){var S=this.props,n=S.subPrefixCls,u=S.t,F=S.userId,b=this.state,G=b.operationIndustryProps,q=b.evaluateQrCodeVisible,oe=b.showSelectCoachTutorReview,de=b.coachModel,ye=b.wei,_=b.showSelectCoachTutorDialog,ce=b.examInfoModalVisible,he=b.examInfo,_e=b.showFaceQrCode,Ce=b.examQrCode,Se=b.getExamAllGradesProps,ue=b.evaluateOption;return t().createElement("section",{className:"".concat(n," specially-taskView table")},this.renderTitle(),this.renderSubTitle(),this.renderTable(),t().createElement(ee.Z,{visible:ce,examInfo:he,onOk:this.handleEnterExam,onCancel:this.handleCloseExamInfo}),t().createElement(le.Z,(0,L.Z)({title:u("component.microCourseScan")},ye,{onCancel:this.handleCancelWei,tip:"component.useCustom"})),t().createElement(le.Z,{visible:q,title:u("tutorial.evaluate"),option:ue,onCancel:this.handleEvaluateCancel,tip:"component.useCustom"}),t().createElement(le.Z,{visible:_e,title:u("exam.faceKnowQrCodeTitle"),option:Ce,onCancel:this.handleHiddenFaceQrCode,tip:"exam.faceKnowWxQrCodeTipCustom"}),t().createElement(H.Z,(0,L.Z)({},Se,{hideEveryExamGrade:this.hideEveryExamGrade})),t().createElement(Ee.Z,{model:de,userId:F,visible:_,preview:oe,onOk:this.handleSelectCoachTutorPeople,onCancel:()=>this.setState({showSelectCoachTutorDialog:!1})}),t().createElement(ge.Z,{visible:G.visible,onCancel:this.handleCloseOperationIndustry,onOk:this.handleAddOperationIndustry,operationsId:G.operationsId,canEdit:!0}))}}y.defaultProps={subPrefixCls:"cl-taskTable",id:"",title:"",subTile:"",list:[],item:{},status:"unstarted"};var D=Le=>{var S=Le.user;return{lng:S.lng,userId:S.id,corpId:S.corpId,account:S.account,versionType:S.versionType,appType:S.appType,enterpriseId:S.enterpriseId}},U=(0,E.$j)(D)((0,r.Z)()(y)),re=e(18329),k=e(60667),ae=e(69164),ie=e(4408),pe=e(63532),De=e(41222),Oe={studyTaskDetail:R.ZP.LearningTaskView.studyTaskDetail},Me=Le=>({userInfo:Le.user}),Te={PREVIEW:"preview",APPROVE_PREVIEW:"approvePreview"};class Ne extends t().Component{constructor(){var S;super(...arguments);S=this,this.state={isLoading:!0,qrcodeVisible:!1,infos:{},tableList:[],showBuyQrCode:!1,showPayType:"all",taskIsBought:!1},this.initData=()=>{var n=p.parse(m.m8.location.search),u=n.id,F=n.userId;ve.WY.get({url:Oe.studyTaskDetail(),params:{id:u,userId:F}}).then(b=>{(0,ae.Z)(b.data.integral_info||"");var G=b.data.data,q=G.stageList,oe=G.creator_sync_user_id,de=G.creator_source_type,ye=(0,j.Z)(G,["stageList","creator_sync_user_id","creator_source_type"]);b.data.data.official_price_str&&!b.data.data.free&&(this.accountInfoConfigured(),this.getPayResult(u)),this.setState({isLoading:!1,infos:(0,M.Z)((0,M.Z)({},ye),{},{creatorSyncUserId:oe,creatorSourceType:de}),tableList:q})}).catch(()=>{(0,te.eJ)({url:"/personal/profile"})})},this.getPreviewData=n=>{var u=n.planId,F={planId:u},b=R.ZP.EditStudyTask.getTaskInfo();ve.WY.get({url:b,params:F}).then(G=>{var q=G.data,oe=(0,j.Z)(G,["data"]),de=q.stageList,ye=q.planStudyScore,_=(0,j.Z)(q,["stageList","planStudyScore"]),ce=_.bizPlanVo,he=_.supervisorUserName,_e=_.sync_source_type,Ce=_.sync_user_id,Se=_.times,ue=_.studyCount,Ae=_.progress;this.setState({isLoading:!1,infos:(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},oe),_),ce),{},{creatorName:he,creatorSyncUserId:Ce,creatorSourceType:_e,progress:Ae,actualStudyProgress:0,passExamCount:Se,totalExamCount:(0,De.z2)(de,"studyPreview"),aleadyExamCount:0,alreadyOperationCount:0,totalOperationCount:(0,De.GM)(de,"studyPreview"),passOperationCount:Se,free:ce.free,official_price_str:ce.official_price_str==="0.00"?"":ce.official_price_str,show_score:"".concat(!!(ye&&ye.finishScore)),award_score:ye&&ye.finishScore?ye.finishScore:0,studyCount:ue}),tableList:de})})},this.handleShowQrCode=()=>{this.setState({qrcodeVisible:!0})},this.handleCancelQrcode=()=>{this.setState({qrcodeVisible:!1})},this.handleSaveProgress=function(n,u){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,G=S.props.type;if(G!==Te.PREVIEW){var q=p.parse(S.props.location.search),oe=q.id,de=R.ZP.SaveProgress.studySaveProgress({studyId:oe,courseId:n,resourceId:u});ve.WY.post({url:de,data:{progress:F,recent_start:b}}).then(()=>{S.initData()})}},this.handleSetTopic=(0,P.Z)(A().mark(function n(){var u,F,b,G,q;return A().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return u=S.state.infos.title,F=S.props.t,b=R.ZP.community.setTopicData(),de.next=5,ve.WY.post({url:b,data:{tags:[u],type:"question"}});case 5:G=de.sent,q=G.data,q.code===0?(0,te.eJ)({url:"/community/topicDetail?type=QUESTION&tagName=".concat(u)}):K.default.error(q.msg||F("community.isError"));case 8:case"end":return de.stop()}},n)})),this.isDisabled=function(){var n=(0,P.Z)(A().mark(function u(F){var b,G,q,oe;return A().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return b=S.props.t,G=R.ZP.community.getTopicStatus(),ye.next=4,ve.WY.get({url:G,params:{tagName:F}});case 4:if(q=ye.sent,oe=q.data,oe.code!==0){ye.next=8;break}return ye.abrupt("return",oe.data);case 8:return K.default.error(b("community.isError")),ye.abrupt("return",void 0);case 10:case"end":return ye.stop()}},u)}));return function(u){return n.apply(this,arguments)}}(),this.handleLinkToTopic=(0,P.Z)(A().mark(function n(){var u,F,b,G,q,oe,de;return A().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(u=S.props.type,u!==Te.PREVIEW){_.next=3;break}return _.abrupt("return");case 3:return F=S.state.infos.title,b=S.props.t,G=R.ZP.community.searchTargetTag(),_.next=8,ve.WY.get({url:G,params:{tagName:F}});case 8:if(q=_.sent,oe=q.data,oe.code!==0){_.next=24;break}if(!oe.data){_.next=21;break}return _.next=14,S.isDisabled(F);case 14:if(de=_.sent,!de){_.next=18;break}return K.default.info(b("community.tagHadDisabled")),_.abrupt("return");case 18:(0,te.eJ)({url:"/community/topicDetail?type=QUESTION&tagName=".concat(F)}),_.next=22;break;case 21:S.handleSetTopic();case 22:_.next=25;break;case 24:K.default.error(oe.msg||b("community.isError"));case 25:case"end":return _.stop()}},n)})),this.getPayResult=n=>{ve.WY.get({url:R.ZP.StudyProjectList.getAccountPayStatus(),params:{goods_id:n}}).then(u=>{u.data.data==="SUCCESS"&&this.setState({taskIsBought:!0})})},this.accountInfoConfigured=()=>{ve.WY.get({url:R.ZP.StudyProjectList.getAccountInfo()}).then(n=>{var u=n.data.data,F="all";u.wxpay==="false"&&u.alipay==="false"&&(F="noBind"),u.wxpay==="false"&&u.alipay==="true"&&(F="ali"),u.wxpay==="true"&&u.alipay==="false"&&(F="wx"),this.setState({accountConfigured:F})})},this.handleHiddenBuyModal=()=>{this.setState({showBuyQrCode:!1}),this.initData()},this.handleShowBuyModal=()=>{var n=this.props.type;if(n!==Te.PREVIEW){var u=this.props.t,F="all",b=this.state.accountConfigured;if(b==="noBind"){K.default.info(u("payment.notAccount"));return}if(b==="ali"?F="ali":b==="wx"&&(F="wx"),dd.version){if(F="ali",b==="wx"){K.default.info(u("payment.notAliAccount"));return}}else if(localStorage.getItem("loginMode")==="WX_LOGIN"&&(F="wx",b==="ali")){K.default.info(u("payment.notWxAccount"));return}this.setState({showBuyQrCode:!0,showPayType:F})}},this.renderPurchaseButton=()=>{var n=this.state,u=n.taskIsBought,F=n.infos,b=F.endTime,G=new Date().getTime()>b,q=this.props.t;return F.official_price_str&&!F.free?u?null:G?t().createElement(v.Z,{title:q("marketing.taskDueApply")},t().createElement(i.Z,{className:"header-taskView-header__buy",type:"primary",disabled:G,onClick:this.handleShowBuyModal},q("common.register"))):t().createElement(i.Z,{className:"header-taskView-header__buy",type:"primary",disabled:G,onClick:this.handleShowBuyModal},q("common.register")):null},this.renderTitle=()=>{var n=this.state.infos,u=n.title,F=n.show_score,b=n.award_score,G=n.beginTime,q=n.endTime,oe=n.creatorName,de=n.creatorSyncUserId,ye=n.creatorSourceType,_=n.bizType,ce=n.trainner,he=n.aleadyExamCount,_e=n.totalExamCount,Ce=n.passExamCount,Se=n.dingImgUrl,ue=n.process,Ae=n.actualStudyProgress,xe=n.qualified_status,Ke=n.alreadyOperationCount,we=n.totalOperationCount,Fe=n.passOperationCount,je=n.finishEvaluation,Ue=n.summary,ke=n.studyCount,Ye=n.progress,$e=(0,z.p)(),Re=this.props.t;return t().createElement("div",{className:"header-elective-detail-task"},t().createElement("div",{className:"header-taskView"},t().createElement("div",{className:"header-taskView-header"},t().createElement("span",{className:"title"},u,this.renderPurchaseButton()),xe==="true"&&t().createElement(I.Z,{color:"green"},Re("study.employeePass"))),t().createElement("div",{className:"header-taskView-summary"},t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{style:{minWidth:75,display:"inline-block"}},t().createElement("span",{className:"header-taskView-title"},Re("exam.validityPeriod")),"\uFF1A"),(0,se.p6)(G)," ~ ",(0,se.p6)(q)),t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{className:"header-taskView-title"},Re("common.creator")),"\uFF1A",t().createElement(k.Z,{dataType:"userName",value:de,name:oe,type:ye})),_===2&&t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{className:"header-taskView-title"},Re("learning.learningEmployeeAddSecAssignment")),"\uFF1A",ce),je==="true"&&t().createElement("span",{className:"header-taskView-text"},Re("learning.completeJobEvaluation"))),t().createElement("div",{className:"task-view-sub-title",style:{marginBottom:8}},t().createElement("span",{className:"sub-title"},Re("common.passingCriteria"),"\uFF1A"),t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{className:"header-taskView-title"},Re("component.learningProgress")),"\uFF1A",t().createElement("span",{style:{color:$e}},ke===0?"--":"".concat(Ae,"%"),t().createElement("span",{className:"sub-title-value"},"/",Ye,"%"))),_e>0&&t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{className:"header-taskView-title"},Re("component.examProgress")),"\uFF1A",t().createElement("span",{className:"header-taskView-value",style:{color:$e}},he,t().createElement("span",{className:"sub-title-value"},"/",_e,Re("common.examUnit"),"(",Re("study.employeePass"),Ce,Re("common.examUnit"),")"))),we>0&&t().createElement("span",{className:"header-taskView-text"},t().createElement("span",{className:"header-taskView-title"},Re("component.practiceExam"),Re("common.progress")),"\uFF1A",t().createElement("span",{className:"header-taskView-value",style:{color:$e}},Ke,t().createElement("span",{className:"sub-title-value"},"/",we,Re("common.examUnit"),"(",Re("study.employeePass"),Fe,Re("common.examUnit"),")")))),t().createElement("div",{className:"task-summary-wrapper noWrap"},Ue?t().createElement("span",{className:"sub-title-value"},Re("learning.taskSummary"),"\uFF1A",t().createElement("span",null,Ue)):null),F==="true"||Se?t().createElement("div",{className:"header-taskView-summary",style:{marginBottom:16}},F==="true"&&t().createElement("span",{className:"header-taskView-text",style:{color:"rgba(255, 160, 0, 1)"}},"".concat(b).concat(Re("common.credit"))),Se&&t().createElement("span",{className:"cl-primary btn-qr-code",onClick:this.handleShowQrCode},t().createElement(c.Z,null),t().createElement("span",{style:{fontSize:"12px",marginLeft:3}},Re("study.groupCode")))):null),t().createElement("div",{className:"header-elective-task-progress",style:{flexDirection:"column",justifyContent:"center"}},t().createElement(a.Z,{percent:ue,type:"circle",width:67,strokeColor:$e,format:ze=>t().createElement("span",{className:"circle-blue-value",style:{color:$e}},ze,"% ",t().createElement("br",null)," ",t().createElement("span",{className:"circle-blue-label"},Re("authentication.totalProgress")))})))},this.renderQrcodeModal=()=>{var n=this.props,u=n.prefixCls,F=n.t,b=this.state,G=b.qrcodeVisible,q=b.infos,oe="".concat(u,"__qrmodal"),de={display:"block",margin:"0 auto",width:"250px",height:"250px"};return t().createElement(re.ZP,{size:"small",visible:G,footer:null,bodyStyle:{maxHeight:"initial"},title:F("study.groupCode"),onCancel:this.handleCancelQrcode},t().createElement("div",{className:oe},t().createElement("img",{style:de,src:q.dingImgUrl,alt:""})))},this.renderTables=n=>{var u=this.props,F=u.prefixCls,b=u.type,G=this.state,q=G.tableList,oe=G.infos,de=G.taskIsBought,ye=oe.beginTime,_=oe.endTime,ce=p.parse(m.m8.location.search),he=ce.id,_e="".concat(F,"__content__table"),Ce=["unstarted","pending","overdue"],Se=new Date().getTime()<ye?Ce[0]:new Date().getTime()>_?Ce[2]:Ce[1];return q?(q.forEach(ue=>{ue.courseMappingList.forEach(Ae=>{Ae.type==="wei"&&(Ae._courseInfo=(0,M.Z)({},Ae.courseInfo),delete Ae.courseInfo),Ae.courseInfo&&Ae.courseInfo.length&&Ae.courseInfo.forEach(xe=>{xe.parentCourseId=Ae.courseId})})}),t().createElement("div",{className:_e},q.length?q.map(ue=>t().createElement(U,(0,L.Z)({isPreview:b===Te.PREVIEW,fromPage:n,key:ue.id,id:ue.id,title:ue.stageName,subTitle:ue.content,list:b===Te.PREVIEW?this.formateList(ue.courseMappingList):ue.courseMappingList,item:ue,planId:he,status:Se,stateInfos:oe,taskIsBought:de,onSaveProgress:this.handleSaveProgress,refreshData:this.initData},this.props))):t().createElement(s.Z,{image:s.Z.PRESENTED_IMAGE_SIMPLE}))):null},this.formateList=n=>n.map(u=>u.evaluation?(0,M.Z)((0,M.Z)({},u.evaluation),{},{type:"evaluation"}):u)}componentDidMount(){var S=this.props,n=S.type,u=S.planId;n===Te.PREVIEW?this.getPreviewData({planId:u}):this.initData()}render(){var S=this.props,n=S.prefixCls,u=S.t,F=p.parse(m.m8.location.search),b=F.fromPage,G=b===void 0?"":b,q=this.state,oe=q.isLoading,de=q.infos,ye=q.showBuyQrCode,_=q.showPayType,ce=(window.location.hash||"").includes("/training/learning/task/myElectiveTaskView")?u("documentTitle.electiveTaskLearning"):u("documentTitle.trainingTaskLearning");if(oe)return t().createElement("div",{className:"".concat(n,"__loading")},t().createElement(x.Z,{size:"large"}));var he={price:de.official_price_str,title:de.title,id:de.id};return t().createElement(t().Fragment,null,t().createElement(ie.Z,{title:ce}),t().createElement("div",{className:"".concat(n," ").concat(G.indexOf("myObligatoryTask")>-1?"task-view__personal_background":"")},t().createElement("div",{className:"".concat(n,"__content ").concat(G==="myObligatoryTask"?"personal_css":"")},this.renderTitle(),de.sync_progress==="true"?t().createElement("span",{className:"".concat(n,"__sync__tip")},u("trainee.openSync")):t().createElement("div",{className:"".concat(n,"__sync__gap")}),G==="myObligatoryTask"?this.renderTables("isPersonal"):this.renderTables()),this.renderQrcodeModal(),ye&&t().createElement(pe.Z,{type:"study",payInfo:he,visible:ye,showPayType:_,handleCancel:this.handleHiddenBuyModal})))}}Ne.defaultProps={prefixCls:"task-view",type:""};var Ze=(0,E.$j)(Me)((0,r.Z)()(Ne))},2287:function(Ie,ne,e){"use strict";e.d(ne,{a:function(){return T},F:function(){return I}});var Q=e(34792),x=e(48086),Y=e(57361),s=e(9754),L=e.n(s),O=e(37055),a=e(67230),T=h=>{var v=O.Yq.indexOf(h.type.toLowerCase())>-1,l=O.iH.indexOf(h.type.toLowerCase())>-1,i=O.Iq.indexOf(h.type.toLowerCase())>-1,o=h.type.indexOf("image")>-1||h.type.indexOf("picture")>-1||h.content_type.indexOf("image")>-1||h.content_type.indexOf("picture")>-1,K=h.biz_type!==3;return(v||l||o||i)&&K},I=function(){var h=(0,Y.Z)(L().mark(function v(l,i,o){var K,P,M,j,g,A,f,t,r,m,p,c,E;return L().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(l.stopPropagation(),K=o.t,P=i.url,M=i.type,j=i.status,g=i.storage_type,A=i.video_id,f=i.id,t="",r=i.type.indexOf("image")>-1||i.type.indexOf("picture")>-1||i.content_type.indexOf("image")>-1||i.content_type.indexOf("picture")>-1,j!==3){d.next=32;break}if(g!=="ALIBABA_PRIVATE"){d.next=19;break}if(M!=="mp4"){d.next=13;break}return d.next=10,(0,a.y5)(A);case 10:t=d.sent,d.next=16;break;case 13:return d.next=15,(0,a.J7)(A);case 15:t=d.sent;case 16:t?(t.indexOf("http://")>-1&&(t=t.replace("http://","https://")),window.location.href=t):x.default.info(K("personal.fileNoDown")),d.next=30;break;case 19:if(M!=="mp4"){d.next=29;break}return d.next=22,(0,a.km)(f);case 22:m=d.sent,p=m.success,c=m.data,p==="true"&&(t=c),t?(t.indexOf("http://")>-1&&(t=t.replace("http://","https://")),window.location.href=t):x.default.info(K("personal.fileNoDown")),d.next=30;break;case 29:r?(E=new XMLHttpRequest,E.open("GET",i.url,!0),E.responseType="blob",E.onload=V=>{V.stopPropagation();var w=window.URL.createObjectURL(E.response),B=document.createElement("a");B.href=w,B.download=i.name,B.click()},E.send()):window.location.href=P;case 30:d.next=33;break;case 32:x.default.info(K("course.transcodingTips"));case 33:case"end":return d.stop()}},v)}));return function(l,i,o){return h.apply(this,arguments)}}()},50603:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return ve}});var Q=e(57663),x=e(71577),Y=e(12924),s=e.n(Y),L=e(91768),O=e(80991),a=e(88983),T=e(47933),I=e(47673),h=e(4107),v=e(88986);class l extends s().Component{constructor(){super(...arguments);this.handleRadioChange=z=>{var W=this.props,$=W.formik,C=W.name,y=z.target,D=y.isOtherOption,U=D===void 0?!1:D,re=y.value;$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{hasOtherOption:U,options:re})}))},this.handleInputChange=z=>{var W=this.props,$=W.formik,C=W.name;$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{otherAnswer:z.target.value})}))}}render(){var z=this.props.defaultFieldList,W=z.options,$=z.solution;return s().createElement(T.ZP.Group,{onChange:this.handleRadioChange,value:$.options},W.map(C=>{var y=C.id,D=C.title,U=C.other;return U?s().createElement(T.ZP,{key:y,value:y,isOtherOption:!0},D,s().createElement(h.Z,{style:{marginLeft:10,width:210},value:$.otherAnswer,onChange:this.handleInputChange})):s().createElement(T.ZP,{key:y,value:y},D)}))}}var i=(0,O.$j)(l);class o extends s().Component{constructor(){super(...arguments);this.handleChange=z=>{var W=this.props,$=W.formik,C=W.name;$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{options:z.target.value})}))}}render(){var z=this.props.defaultFieldList.solution;return s().createElement(h.Z,{value:z.options,onChange:this.handleChange})}}var K=(0,O.$j)(o);class P extends s().Component{constructor(){super(...arguments);this.handleChange=z=>{var W=this.props,$=W.formik,C=W.name;$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{options:z.target.value})}))}}render(){var z=this.props.defaultFieldList.solution;return s().createElement(h.Z.TextArea,{value:z.options,onChange:this.handleChange})}}var M=(0,O.$j)(P),j=e(96433),g=e(33304),A=e(22385),f=e(31097),t=e(17264),r=e.n(t),m=h.Z.TextArea;class p extends s().Component{constructor(){super(...arguments);this.handleChange=(z,W)=>{var $=this.props,C=$.formik,y=$.name;C.setFieldValue(y,(0,v.Z)((0,v.Z)({},C.values[y]),{},{solution:(0,v.Z)((0,v.Z)({},C.values[y].solution),{},{[W]:z})}))}}render(){var z=this.props.defaultFieldList,W=z.solution,$=z.options,C=W.options?parseInt(W.options):0,y=this.props,D=y.question,U=D.instruction,re=D.instruction_must,k=D.must,ae=y.t;return s().createElement("div",null,s().createElement("div",{className:r()["score-box"]},s().createElement(f.Z,{title:$[0].title},s().createElement("div",{className:r()["score-title"]},$[0].title)),s().createElement("div",{className:r()["score-rate"]},s().createElement(g.Z,{value:C,count:$.length,onChange:ie=>{this.handleChange(ie,"options")},tooltips:$.map(ie=>ie.title)})),s().createElement(f.Z,{title:$[$.length-1].title},s().createElement("div",{className:r()["score-title"]},$[$.length-1].title))),U&&s().createElement(m,{rows:5,maxLength:300,onChange:ie=>{this.handleChange(ie.target.value,"instruction_content")},placeholder:"".concat(ae("learning.scoringExplanation")).concat(k&&re?"\uFF08".concat(ae("learning.required"),"\uFF09"):"")}))}}var c=(0,L.Z)()((0,O.$j)(p)),E=e(63185),N=e(9676);class d extends s().Component{constructor(){super(...arguments);this.handleCheckboxChange=z=>{var W=this.props,$=W.formik,C=W.name,y=$.values[C].options.find(U=>U.other),D=y?y.id:"";$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{hasOtherOption:z.indexOf(D)>-1,options:z.join(",")})}))},this.handleInputChange=z=>{var W=this.props,$=W.formik,C=W.name;$.setFieldValue(C,(0,v.Z)((0,v.Z)({},$.values[C]),{},{solution:(0,v.Z)((0,v.Z)({},$.values[C].solution),{},{otherAnswer:z.target.value})}))}}render(){var z=this.props.defaultFieldList,W=z.options,$=z.solution,C=[];return W.map(y=>{var D=y.id,U=y.title,re=y.other,k=re===void 0?!1:re,ae=k?s().createElement(s().Fragment,null,U,s().createElement(h.Z,{style:{marginLeft:10,width:210},value:$.otherAnswer,onChange:this.handleInputChange})):U;C.push({label:ae,value:D,other:k})}),s().createElement(N.Z.Group,{options:C,value:$.options.split(","),onChange:this.handleCheckboxChange})}}var V=(0,O.$j)(d),w=e(43859),B=(0,w.Z)(i),X=(0,w.Z)(K),J=(0,w.Z)(M),H=(0,w.Z)(c),ee=(0,w.Z)(V),ge=e(3407),me=e(6793),te=(0,me.me)(),Z=ge.Z[te].learning.validation,R=se=>{var z,W=se.solution,$=se.isRequired,C=se.instruction,y=se.instruction_must,D=se.type,U=W.hasOtherOption,re=W.options,k=W.otherAnswer,ae=W.instruction_content;return $&&((!re.toString().length||U&&!k)&&(z=Z.participateInInvestigate),D==="score"&&C&&y&&!ae&&(z=Z.participateInInvestigate)),z},le=e(19256),fe=e.n(le);class Ee extends s().Component{constructor(){super(...arguments);this.handlePropsSubmit=()=>{var z=this.props.handleSubmit;z()},this.renderFooter=()=>{var z=this.props,W=z.isSubmitting,$=W===void 0?!1:W,C=z.onCancel,y=z.t;return s().createElement("footer",{className:"cl-form-fixed-footer"},s().createElement("div",{className:"cl-form-fixed-footer__container"},s().createElement(x.Z,{onClick:C},y("common.cancel")),s().createElement(x.Z,{type:"primary",loading:$,onClick:this.handlePropsSubmit},y("common.submit"))))},this.renderContent=()=>{var z=this.props,W=z.questions,$=z.title,C=z.description;return s().createElement(O.l0,{className:"cl-form"},s().createElement("h1",{className:"cl-form-htitle"},$),s().createElement("h4",{className:fe().investigatesDesc},C),W.map(y=>this.renderField(y)))},this.renderField=z=>{var W=this.props,$=W.values,C=W.t,y="".concat(z.type,"_").concat(z.id),D=$[y],U=D.type,re=D.isRequired,k;switch(U){case"single":k=B;break;case"multiple":k=ee;break;case"input":k=X;break;case"textarea":k=J;break;case"score":k=H;break;default:k=null;break}if(!k)return null;var ae=z.type==="single"?"\u3010".concat(C("learning.questionnaireAddToolSingle"),"\u3011"):z.type==="multiple"?"\u3010".concat(C("learning.questionnaireAddToolMul"),"\u3011"):"",ie="".concat(ae).concat(z.title);return s().createElement(O.gN,{key:y,component:k,label:ie,required:re,displayType:"Custom",name:y,defaultFieldList:D,validate:R,question:z})}}render(){var z=this.props.showFooter;return s().createElement(s().Fragment,null,z?this.renderFooter():null,this.renderContent())}}Ee.defaultProps={showFooter:!0};var ve=(0,L.Z)()(Ee)},56922:function(Ie,ne,e){"use strict";var Q=e(12924),x=e.n(Q),Y=e(51909),s=(L,O)=>{var a=L.forms,T=L.initialValues;return x().createElement(x().Fragment,null,a.map(I=>{var h=I.fields,v=I.title,l=I.category;return x().createElement("div",{key:l},x().createElement("h4",null,v),x().createElement(Y.Z,{ref:O,fields:h,initialValue:T[l]}))}))};ne.Z=(0,Q.forwardRef)(s)},58697:function(Ie,ne,e){"use strict";e.d(ne,{B:function(){return O}});var Q=e(12924),x=e.n(Q),Y=e(23529),s=e(88315),L=e(30847),O={ANNUAL_PLAN:"training_annual_plan",DEMAND:"training_demand",MONTH_PLAN:"training_month_plan",STUDY_TASK:"training_task",TEMP_PLAN:"training_temp_plan",EXEC:"training_exec"};function a(T,I){var h=T.biz_type,v=T.businessId,l=T.fetchTrainData,i=K=>x().createElement(x().Fragment,null,x().createElement(s.Z,{ref:I,type:K,plan_id:v,from:T.from,fetchTrainData:l}));function o(){switch(h){case O.ANNUAL_PLAN:return i(O.ANNUAL_PLAN);case O.DEMAND:return x().createElement(x().Fragment,null,x().createElement(L.Z,{businessId:v}));case O.MONTH_PLAN:return i(O.MONTH_PLAN);case O.STUDY_TASK:return x().createElement(Y.Z,{type:Y.w.PREVIEW,planId:v});case O.TEMP_PLAN:return i(O.TEMP_PLAN);case O.EXEC:return i(O.EXEC);default:return x().createElement(x().Fragment,null)}}return x().createElement("div",{className:"business-component"},o())}ne.Z=(0,Q.forwardRef)(a)},51909:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return me}});var Q=e(13062),x=e(71230),Y=e(89032),s=e(15746),L=e(62029),O=e(12924),a=e.n(O),T=e(80991),I=e(96486),h=e(64303),v=e(64262),l=e(43859),i=e(57663),o=e(71577),K=e(71153),P=e(60331),M=e(88986),j=e(33565),g=e(91768),A=e(88311),f=e(60667),t=te=>{var Z=te.t,R=te.onChange,le=te.value,fe=te.isPreview,Ee=(0,O.useState)(!1),ve=(0,j.Z)(Ee,2),se=ve[0],z=ve[1],W=D=>{R&&R(D),z(!1)},$=(0,M.Z)({visible:se,onOk:W,displayType:["dept"],onCancel:()=>{z(!1)}},te),C=(0,I.reduce)(le,(D,U)=>D.concat(U),[]),y=D=>()=>{var U=(0,I.reduce)(le,(re,k,ae)=>(re[ae]=k.filter(ie=>{var pe=ie.id;return D!==pe}),re),{});R&&R(U)};return a().createElement(a().Fragment,null,a().createElement(A.Z,(0,L.Z)({},$,{initData:le})),C.map(D=>a().createElement(P.Z,{closable:!fe,key:D.id,onClose:y(D.id)},a().createElement(f.Z,{type:D.source_type,value:D.user_id||D.id,name:D.user_name||D.name,dataType:"userName"}))),fe?"":a().createElement(o.Z,{type:"dashed",onClick:()=>z(!0)},Z("training.select_personnel")))},r=(0,g.Z)()(t),m=(0,l.Z)(h.Z),p=(0,l.Z)(v.Z),c=(0,l.Z)(r),E=e(7584),N=e(43358),d=e(34041),V=e(81211),w=te=>{var Z=te.onChange,R=te.disabled,le=te.value,fe=te.placeholder,Ee=te.defaultValue,ve=(0,V.Z)(te,["onChange","disabled","value","placeholder","defaultValue"]);return a().createElement(d.Z,(0,L.Z)({onChange:Z,disabled:R,value:le||Ee,placeholder:fe},ve),te.options.map((se,z)=>a().createElement(d.Z.Option,{key:se.value||se||z,value:se.value||se},se.label||se)))},B=(0,l.Z)(w),X=e(70075),J=e(72711),H=e(31151),ee={text:E.Z,textArea:X.Z,select:B,number:J.Z,month:m,department:p,users:c,TeacherSelector:H.Z},ge=(te,Z)=>{var R=te.fields,le=te.onSubmitCallback,fe=()=>R&&R.reduce((se,z)=>{var W=z.config,$=z.name;return(0,I.get)(W,"defaultValue")&&(se[$]=(0,I.get)(te.initialValue,$)||W.defaultValue),se},te.initialValue||{}),Ee=fe(),ve=se=>{var z=se.type,W=se.placeholder,$=se.label,C=se.name,y=se.required,D=se.validate,U=se.layout,re=se.options,k=se.config,ae=se.disabled,ie=De=>{if(Z&&Z.current){var Oe=De&&De.target?(0,I.trim)(De.target.value):(0,I.trim)(De);Z.current.setFieldValue(C,Oe)}},pe=a().createElement(s.Z,{span:U.span||24,key:C,id:C},a().createElement(T.gN,(0,L.Z)({},U,k,{isPreview:ae,disabled:ae,name:C,label:$,required:y,validate:D,component:ee[z]||E.Z,placeholder:W,options:re,type:"text",onChange:ie,onInput:ie,defaultValue:(0,I.get)(Ee,C)!==void 0?(0,I.get)(Ee,C):(0,I.get)(k,"defaultValue"),handleTreeSelectChange:ie})));return a().createElement(a().Fragment,null,U.offset&&a().createElement(s.Z,{span:U.offset}),pe)};return a().createElement(T.J9,{ref:Z,initialValues:Ee,onSubmit:se=>{le&&le(se)},render:()=>a().createElement(T.l0,null,a().createElement(x.Z,null,R.map(se=>ve(se))))})},me=(0,O.forwardRef)(ge)},94532:function(Ie,ne,e){"use strict";var Q=e(22385),x=e(31097),Y=e(62029),s=e(81211),L=e(48736),O=e(27049),a=e(12924),T=e.n(a),I=e(91768),h=e(40489),v=e.n(h);class l extends T().Component{constructor(){super(...arguments);this.state={isCopy:!1},this.getTitle=()=>{var o=this.props,K=o.title,P=o.copyTitle,M=o.isCoolCopy,j=M===void 0?!1:M,g=o.t,A=this.state.isCopy;return T().createElement("span",null,K,j&&T().createElement(T().Fragment,null,T().createElement(O.Z,{type:"vertical",className:v().divider})))},this.handleClickCopy=o=>(this.setState(o),!1),this.reset=o=>{o&&this.setState({isCopy:!1})}}render(){var o=this.props,K=o.title,P=o.children,M=o.width,j=M===void 0?0:M,g=(0,s.Z)(o,["title","children","width"]),A=P||K;return T().createElement(x.Z,(0,Y.Z)({title:this.getTitle(),onVisibleChange:this.reset},g),j>0?T().createElement("span",{className:v().wdwrap,style:{width:"".concat(j,"px")}},A):A)}}l.defaultProps={title:"",width:0},ne.Z=(0,I.Z)()(l)},79734:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return t}});var Q=e(59250),x=e(13013),Y=e(48736),s=e(27049),L=e(30887),O=e(99210),a=e(22385),T=e(31097),I=e(12924),h=e.n(I),v=e(57254),l=e(91768),i=e(96486),o=e(28216),K=e(57482),P={cancelRelease:"cancelRelease",delete:"delete",publish:"publish",edit:"edit",detail:"detail",summary:"summary",exec:"exec",execDetail:"execDetail",relieve:"relieve"},M=r=>{var m=r.t,p=r.status,c=r.type,E="",N=()=>{};switch(c){case P.cancelRelease:E="".concat(m("training.are_you_sure_you_want_to_cancel"),"\uFF1F"),N=unPublishAnnualPlan;break;case P.delete:E=["published","under_approval "].includes(p)?m("training.please_cancel_publishing_before_attempting_the_operation"):"".concat(m("training.are_you_sure_you_want_to_delete"),"\uFF1F"),N=["published","under_approval "].includes(p)?N:deleteAnnualPlan;break;default:break}return{title:E,method:N}},j=e(86726),g={annual:{published:[P.detail,P.edit,P.delete,P.cancelRelease],unpublished:[P.detail,P.edit,P.delete,P.publish],reject:[P.detail,P.edit,P.delete,P.publish],under_approval:[P.detail,P.edit,P.delete,P.cancelRelease]},exec_detail:{published:[P.delete,P.relieve],unpublished:[P.edit,P.relieve,P.delete],reject:[P.edit,P.relieve,P.delete],under_approval:[P.delete,P.relieve]}};g.month=(0,i.reduce)(g.annual,(r,m,p)=>{var c=[...m];return r[p]=c,r},{});var A=r=>{var m=r.t,p=r.status,c=r.type,E=c===void 0?"annual":c,N=r.source,d=r.onOperation,V=r.canPublished,w=r.canUnpublished,B=r.isHasTask,X=r.superEdit,J=r.superDelete,H=r.showDetail,ee=H===void 0?!0:H,ge=r.showDelete,me=ge===void 0?!0:ge,te=r.userInfo,Z=r.sourceType,R=(k,ae)=>{k||d(ae)},le={[P.publish]:()=>h().createElement("span",{className:V?"":"cl-disabled"},m("common.release")),[P.edit]:()=>{var k=X||["unpublished","reject"].includes(p);return h().createElement("span",{className:k?"":"cl-disabled"},k?m("common.edit"):h().createElement(T.Z,{title:m("training.please_cancel")},m("common.edit")))},[P.exec]:()=>{var k=!B&&p==="published";return h().createElement("span",{className:k?"":"cl-disabled"},m("training.execute"))},[P.execDetail]:()=>h().createElement("span",{className:B?"":"cl-disabled"},m("training.execution_details")),[P.cancelRelease]:()=>h().createElement("span",{className:w?"":"cl-disabled"},m("course.cancelRelease")),[P.delete]:()=>{if(J)return h().createElement("span",null,m("common.delete"));if(me){if(N==="split")return h().createElement("span",{className:"cl-disabled"},m("common.delete"));var k=["unpublished","reject"].includes(p);return h().createElement("span",{className:k?"":"cl-disabled"},k?m("common.delete"):h().createElement(T.Z,{title:m("training.please_cancel")},m("common.delete")))}return""},[P.detail]:()=>h().createElement("span",null,m("common.viewDetails")),[P.summary]:h().createElement("span",null,m("lineClass.summary")),[P.relieve]:h().createElement("span",null,m("training.unbind"))},fe=g[E][p];if(!fe)return"";fe=fe.filter(k=>k===P.detail?ee:!0);var Ee=k=>{var ae=(0,i.isFunction)(le[k])?le[k]():h().createElement("span",null,le[k]);return ae&&h().createElement("span",{className:"operation-item"},ae)},ve=k=>{var ae=k.key;if(ae===P.publish)R(!V,P.publish);else if(ae===P.edit){var ie=X||["unpublished","reject"].includes(p);R(!ie,P.edit)}else if(ae===P.exec){var pe=!B&&p==="published";R(!pe,P.exec)}else if(ae===P.execDetail)R(!B,P.execDetail);else if(ae===P.delete)if(J)R(!1,P.delete);else{var De=["unpublished","reject"].includes(p);R(!De,P.delete)}else ae===P.detail?R(!1,P.detail):ae===P.cancelRelease?w&&d(ae):d(ae)},se=k=>h().createElement(O.Z,{onClick:ve},k.map(ae=>{var ie=Ee(ae);return ie&&h().createElement(O.Z.Item,{key:ae},ie)}));if(fe.length>2){var z=fe[0],W="";Z==="annual"?W="annualPlan":Z==="month"?W="monthPlan":Z==="temp"&&(W="tempPlan");var $;if(W==="")$=fe.slice(1);else{var C=(0,j.V9)(W,te.modules),y=(0,j.H3)("edit",C),D=(0,j.H3)("delete",C),U=(0,j.H3)("release_or_cancelled",C),re={edit:y,delete:D,cancelRelease:U,publish:U};$=fe.slice(1).filter(k=>re[k]===!0)}return h().createElement(h().Fragment,null,h().createElement("span",{className:"operation-item",key:fe[0],onClick:()=>{ve({key:z})}},Ee(fe[0])),$.length!==0?h().createElement(h().Fragment,null,h().createElement(s.Z,{type:"vertical"}),h().createElement(x.Z,{overlay:se($)},h().createElement("a",null,m("common.more"),h().createElement(v.Z,null)))):"")}return fe&&fe.map(k=>h().createElement("span",{className:"operation-item margin-left",key:k,onClick:()=>{ve({key:k})}},Ee(k)))},f=r=>({userInfo:r.user}),t=(0,o.$j)(f)((0,l.Z)()(A))},70880:function(Ie,ne,e){"use strict";e.d(ne,{L:function(){return a}});var Q=e(12924),x=e.n(Q),Y=e(96486),s=e.n(Y),L=e(94532),O=e(65771),a=T=>{var I=T.t,h=[{title:I("training.training_content"),dataIndex:"name",key:"name",width:150,fixed:"left",render:v=>x().createElement(L.Z,{title:v||"--",width:150,placement:"topLeft",isCoolCopy:!0,copyTitle:v||"--"},v||"--")},{title:I("training.training_type"),dataIndex:"category",key:"category",width:80,render:v=>x().createElement(L.Z,{title:v||"--",width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:v||"--"},v||"--")},{title:I("training.training_form"),dataIndex:"form",key:"form",width:80,render:v=>{var l=O.K.filter(o=>o.key===v),i=l.length>0?l[0].title:"--";return x().createElement(L.Z,{title:i,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:i},i)}},{title:I("training.training_purpose"),dataIndex:"target",key:"target",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.planned_number"),dataIndex:"plan_user_quantity",key:"plan_user_quantity",width:80,render:v=>x().createElement(L.Z,{title:v,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:v},v)},{title:I("training.estimated_cost"),dataIndex:"estimated_cost",key:"estimated_cost",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.estimated_class_hours"),dataIndex:"class_hours",key:"class_hours",width:80,render:v=>{var l=v;return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.training_institution_lecturer"),dataIndex:"lecturer",key:"lecturer",width:120,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.training_object"),dataIndex:"training_object",key:"training_object",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.year_of_training"),dataIndex:"training_year",key:"training_year",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.training_month"),dataIndex:"training_month",key:"training_month",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.training_location"),dataIndex:"address",key:"address",width:80,render:v=>{var l=v||"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.executive_department"),dataIndex:"department_name",key:"department_name",width:80,render:v=>x().createElement(L.Z,{title:v||"--",width:80,placement:"topLeft"},v||"--")},{title:I("training.person_in_charge"),dataIndex:"directors",key:"directors",width:80,render:v=>{var l=v&&v.map?v.map(i=>i.name).join(","):"--";return x().createElement(L.Z,{title:l,width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l},l)}},{title:I("training.executor"),dataIndex:"executors",key:"executors",width:80,render:v=>{var l=v&&v.map?v.map(i=>i.name).join(","):"--";return x().createElement(L.Z,{title:l||"--",width:80,placement:"topLeft",isCoolCopy:!0,copyTitle:l||"--"},l||"--")}}].map(v=>(v.render||(v.render=(l,i)=>{var o=(0,Y.get)(i,v.dataIndex);return o===void 0?"--":o}),v));return h}},88315:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return C}});var Q=e(88986),x=e(57361),Y=e(33565),s=e(9754),L=e.n(s),O=e(12924),a=e.n(O),T=e(91768),I=e(96486),h=e(69016),v=e(49324),l=e(94532),i=e(65771),o=y=>{var D=y.t;return[{title:D("training.training_content"),dataIndex:"name",key:"name",width:150,fixed:"left",render:U=>a().createElement(l.Z,{title:U||"-",width:150,placement:"topLeft",isCoolCopy:!0,copyTitle:U||"-"},U||"-")},{title:D("training.training_type"),dataIndex:"category",key:"category",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.training_form"),dataIndex:"form",key:"form",width:80,render:U=>{var re=i.K.filter(k=>k.key===U);return a().createElement(l.Z,{title:re.length>0?re[0].title:"-",width:80,placement:"topLeft"},re.length>0?re[0].title:"-")}},{title:D("training.training_purpose"),dataIndex:"target",key:"target",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.planned_number"),dataIndex:"plan_user_quantity",key:"plan_user_quantity",width:80,render:U=>a().createElement(l.Z,{title:U.toString()||"-",width:80,placement:"topLeft"},U.toString()||"-")},{title:D("training.estimated_cost"),dataIndex:"estimated_cost",key:"estimated_cost",width:80,render:U=>a().createElement(l.Z,{title:U.toString()||"-",width:80,placement:"topLeft"},U.toString()||"-")},{title:D("training.estimated_class_hours"),dataIndex:"class_hours",key:"class_hours",width:80,render:U=>a().createElement(l.Z,{title:U.toString()||"-",width:80,placement:"topLeft"},U.toString()||"-")},{title:D("training.estimated_number_of_sessions"),dataIndex:"session_quantity",key:"session_quantity",width:80,render:U=>a().createElement(l.Z,{title:U.toString()||"-",width:80,placement:"topLeft"},U.toString()||"-")},{title:D("training.training_institution_lecturer"),dataIndex:"lecturer",key:"lecturer",width:100,render:U=>a().createElement(l.Z,{title:U||"-",width:100,placement:"topLeft"},U||"-")},{title:D("training.training_object"),dataIndex:"training_object",key:"training_object",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.year_of_training"),dataIndex:"training_year",key:"training_year",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.expected_training_month"),dataIndex:"training_month",key:"training_month",width:100,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.training_location"),dataIndex:"address",key:"address",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.executive_department"),dataIndex:"department_name",key:"department_name",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.person_in_charge"),dataIndex:"directors",key:"directors",width:120,render:U=>{var re=U.map(k=>{var ae=k.name;return ae}).join(",");return a().createElement(l.Z,{title:re||"-",width:80,placement:"topLeft"},re||"-")}},{title:D("training.executor"),dataIndex:"executors",key:"executors",width:80,render:U=>{var re=U.map(k=>{var ae=k.name;return ae}).join(",");return a().createElement(l.Z,{title:re||"-",width:80,placement:"topLeft"},re||"-")}},{title:D("training.actual_implementation"),dataIndex:"real_quantity",key:"real_quantity",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")},{title:D("training.completion_rate"),dataIndex:"completion_rate",key:"completion_rate",width:80,render:U=>a().createElement(l.Z,{title:U||"-",width:80,placement:"topLeft"},U||"-")}]},K=e(58697),P=e(57663),M=e(71577),j=e(13062),g=e(71230),A=e(89032),f=e(15746),t=e(71153),r=e(60331),m=e(22385),p=e(31097),c=e(402),E=e(99545),N=e(76651),d=e(78138),V=e.n(d),w=e(84391),B=e(97593),X=e(29693),J=e.n(X),H={reject:"error",published:"success",unpublished:"processing",under_approval:"warning"},ee=E.Z.Title,ge=y=>{var D=y.detail,U=y.t,re=y.from,k=(0,O.useState)(!1),ae=(0,Y.Z)(k,2),ie=ae[0],pe=ae[1],De=function(){var Te=(0,x.Z)(L().mark(function Ne(){var Ze;return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return pe(!0),S.prev=1,Ze={page:"exportAnnualPlan",props:y,rest:{planId:D.id}},pe(!1),S.abrupt("return",(0,B.N)(Ze));case 7:S.prev=7,S.t0=S.catch(1),pe(!1);case 10:case"end":return S.stop()}},Ne,null,[[1,7]])}));return function(){return Te.apply(this,arguments)}}(),Oe=(0,i.y)(U).filter(Te=>Te.key===D.status),Me=["approval","personal"].includes(re);return a().createElement(g.Z,{className:J().common_header},a().createElement(f.Z,{span:18},a().createElement(g.Z,null,a().createElement(f.Z,{span:24,className:J().common_status_header},a().createElement(p.Z,null,a().createElement(ee,{level:4,className:J().headerTitle},D.name)),Oe.length>0&&!Me&&a().createElement(r.Z,{className:J().tag,color:H[Oe[0].key]},Oe[0].title)),a().createElement(f.Z,{span:24},a().createElement("span",{className:J().marginRight},U("training.plan_year"),"\uFF1A",D.plan_year),a().createElement("span",{className:J().marginRight},U("training.updater"),"\uFF1A",D.update_user_name),a().createElement("span",null,U("training.update_time"),": ",D.update_time&&V()(parseInt(D.update_time)).format("YYYY-MM-DD HH:mm"))))),a().createElement(f.Z,{span:6,style:{textAlign:"right"}},a().createElement(M.Z,{loading:ie,onClick:De,ghost:!0,type:"primary"},a().createElement(w.Z,null),U("common.exportData"))))},me=y=>{var D=y.detail,U=y.biz_type,re=y.from,k=y.t,ae={[K.B.MONTH_PLAN]:k("training.monthly_plan")},ie=(0,i.y)(k).filter(De=>De.key===D.status),pe=["approval","personal"].includes(re);return a().createElement(g.Z,{className:J().common_header},a().createElement(f.Z,{span:18},a().createElement(g.Z,null,a().createElement(f.Z,{span:24,className:J().common_status_header},a().createElement(p.Z,{title:D.name},a().createElement(ee,{level:4,ellipsis:{tooltip:D.name},className:J().headerTitle},D.name)),ie.length>0&&!pe&&a().createElement(r.Z,{className:J().tag,color:H[ie[0].key]},ie[0].title)),a().createElement(f.Z,{span:24},a().createElement("span",{className:J().marginRight},k("training.training_type"),"\uFF1A",ae[U]||k("training.interim_plan")),a().createElement("span",{className:J().marginRight},k("training.submitter"),"\uFF1A",D.create_user_name),a().createElement("span",null,k("training.submission_time"),": ",D.create_time&&V()(parseInt(D.create_time)).format("YYYY-MM-DD"))))))},te=()=>"",Z=y=>{var D={[K.B.ANNUAL_PLAN]:(0,N.$j)()(ge),[K.B.MONTH_PLAN]:me,[K.B.EXEC]:te},U=y.type,re=y.data,k=y.from,ae=(0,T.Z)()(D[U]||me),ie=(0,I.get)(re,"0")||{};return a().createElement("div",null,a().createElement(ae,{biz_type:U,detail:ie,t:y.t,from:k}))},R=Z,le=e(70880),fe=e(36202),Ee=e(25930),ve=e(64262),se=y=>{var D,U=y.t,re=y.data,k=y.loading,ae=y.type,ie=y.plan_id,pe=((D=re[0])===null||D===void 0?void 0:D.content_list)||[],De=(0,O.useState)(pe),Oe=(0,Y.Z)(De,2),Me=Oe[0],Te=Oe[1],Ne=o({t:U}),Ze=n=>{var u=n.target?n.target.value:n;if(!u){Te(pe);return}var F=pe.filter(b=>b.department_id===u);Te(F)},Le=()=>a().createElement("div",{className:J().common_detail,style:{marginBottom:0}},a().createElement("div",{className:J().headerTitle},a().createElement("div",{className:J().sot}),a().createElement("div",{className:J().title},U("training.plan_details")))),S=()=>a().createElement(ve.Z,{handleTreeSelectChange:Ze,treeSelect:!0});return a().createElement(a().Fragment,null,a().createElement(R,{data:re,type:ae,plan_id:ie,from:y.from}),a().createElement(fe.f,{headerTitle:Le(),toolBarRender:S,scroll:{y:350,x:"max-content"},loading:k,dataSource:Me,columns:Ne,rowKey:n=>n.id,pagination:!1,options:{setting:!1,density:!1,fullScreen:!1,reload:!1},tableUUID:"902f970f-fb0a-4b23-815b-83af52b72334"}))},z=y=>{var D=y.t,U=y.data,re=y.loading,k=y.type,ae=y.fetchData,ie=y.fetchTrainData,pe=y.plan_id,De=(0,O.useState)({}),Oe=(0,Y.Z)(De,2),Me=Oe[0],Te=Oe[1],Ne=function(){var Le=(0,x.Z)(L().mark(function S(){return L().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,ae();case 2:if(!ie){u.next=5;break}return u.next=5,ie();case 5:case"end":return u.stop()}},S)}));return function(){return Le.apply(this,arguments)}}(),Ze=(0,le.L)({t:D});return a().createElement(a().Fragment,null,a().createElement(R,{data:U,type:k,plan_id:pe,from:y.from}),a().createElement("div",{className:J().common_detail},a().createElement("div",{className:J().headerTitle},a().createElement("div",{className:J().sot}),a().createElement("div",{className:J().title},D("training.plan_details"))),a().createElement(fe.f,{scroll:{y:350,x:"max-content"},loading:re,dataSource:(0,I.size)(U)?U:[],columns:Ze,rowKey:Le=>Le.id,pagination:!1,options:{setting:!1,density:!1,fullScreen:!1,reload:!1},tableUUID:"29e66e8a-fe08-46f8-9d91-7625378e135c"}),a().createElement(v.Z,{onCancel:()=>Te((0,Q.Z)((0,Q.Z)({},Me),{},{visible:!1})),visible:Me.visible,source:Me.source,plan_id:Me.plan_id,onSave:Ne,onOk:Ne,biz_plan_type:k})))},W=y=>{var D=y.loading,U=y.data,re=y.plan_id,k=y.fetchData,ae=y.fetchTrainData,ie=y.t,pe=function(){var De=(0,x.Z)(L().mark(function Oe(){return L().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.next=2,k();case 2:if(!ae){Te.next=5;break}return Te.next=5,ae();case 5:case"end":return Te.stop()}},Oe)}));return function(){return De.apply(this,arguments)}}();return a().createElement(a().Fragment,null,a().createElement("div",{className:J().common_detail},a().createElement("div",{className:J().headerTitle},a().createElement("div",{className:J().sot}),a().createElement("div",{className:J().title},ie("training.execution_details"))),a().createElement(Ee.Z,{loading:D,taskList:(0,I.size)(U)?U:[],plan_id:re,fetchData:pe,from:y.from})))};function $(y,D){var U=y.type,re=y.plan_id,k=y.fetchTrainData,ae=y.content,ie=(0,h.useDetail)({biz_type:U,plan_id:re,content:ae}),pe=(0,Y.Z)(ie,2),De=pe[0],Oe=pe[1];(0,O.useImperativeHandle)(D,()=>({fetchData:Oe}));var Me={[K.B.ANNUAL_PLAN]:se,[K.B.MONTH_PLAN]:z,[K.B.EXEC]:W},Te=(0,T.Z)()(Me[U]||z);return a().createElement(Te,{data:(0,I.get)(De,"data")||[],type:U,loading:De.loading,plan_id:re,fetchData:Oe,fetchTrainData:k,from:y.from})}var C=(0,O.forwardRef)($)},69016:function(Ie,ne,e){"use strict";e.r(ne),e.d(ne,{useDetail:function(){return K}});var Q=e(57663),x=e(71577),Y=e(88986),s=e(33565),L=e(12924),O=e.n(L),a=e(91768),T=e(76651),I=e(96486),h=e.n(I),v=e(11449),l=e(57482),i=e(58697),o=e(88315),K=M=>{var j=M.biz_type,g=M.plan_id,A=M.content,f={[i.B.ANNUAL_PLAN]:"annual",[i.B.MONTH_PLAN]:"month",[i.B.EXEC]:"exec"},t=(0,L.useState)({loading:!1,data:[]}),r=(0,s.Z)(t,2),m=r[0],p=r[1],c=()=>{if(A){var E=(0,I.isArray)(A)?A:[A];p({data:E,loading:!1});return}g&&(p((0,Y.Z)((0,Y.Z)({},m),{},{loading:!0})),(0,l.DM)(f[j],g).then(N=>{if((0,I.get)(N,"data.code")===2e5||(0,I.get)(N,"data.code")==="200000"){var d=(0,I.get)(N,"data.data");(0,I.isArray)(d)?d=(0,I.get)(N,"data.data"):d=[(0,I.get)(N,"data.data")],p({loading:!1,data:d})}}).catch(()=>{p((0,Y.Z)((0,Y.Z)({},m),{},{loading:!1}))}))};return(0,L.useEffect)(()=>{c()},[j,g]),[m,c]},P=M=>{var j=M.t,g=T.m8.location.query,A=g.type,f=g.plan_id;return O().createElement(v.Z,{pageTitle:j("leftMenuLists.trainingPlan"),pageContainerParams:{header:{title:j("leftMenuLists.trainingPlan")}}},O().createElement("div",{style:{background:"#fff",padding:10}},O().createElement(o.Z,{plan_id:f,type:A}),O().createElement("div",{className:"cl-form-fixed-footer"},O().createElement("div",{className:"cl-form-fixed-footer__container"},O().createElement(x.Z,{type:"primary",className:"form-page-container-bottom-btn",onClick:()=>T.m8.goBack()},j("common.return"))))))};ne.default=(0,a.Z)()(P)},25930:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return t}});var Q=e(33565),x=e(12924),Y=e.n(x),s=e(91768),L=e(36202),O=e(62350),a=e(75443),T=e(57361),I=e(9754),h=e.n(I),v=e(57068),l=e(78138),i=e.n(l),o=e(76651),K=e(57482),P=e(79734),M=e(65771),j=e(38642),g=e(74927),A=(r,m,p)=>{var c=m.fetchData,E=m.plan_id,N=m.setVisible,d=m.setPopProps,V=m.visible,w=m.popProps,B=m.onChangeDetailListStatus,X=(H,ee)=>function(){var ge=(0,T.Z)(h().mark(function me(te){return h().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:R.t0=te,R.next=R.t0==="edit"?3:R.t0==="delete"?5:R.t0==="relieve"?8:10;break;case 3:return p==="personal"?(0,j.eJ)({url:"/personal/training/learn/management/add?".concat(v.stringify({type:"relation_plan_edit",id:ee.task_id,plan_id:E,from:p}))}):o.m8.push({pathname:"/training/learn/management/add",search:v.stringify({type:"relation_plan_edit",id:ee.task_id,plan_id:E,from:""})}),R.abrupt("break",11);case 5:return N(H),d({title:"".concat(r("training.are_you_sure_you_want_to_delete"),"\uFF1F"),method:K.v7}),R.abrupt("break",11);case 8:try{N(H),d({title:"".concat(r("training.are_you_sure_you_want_to_unbind"),"\uFF1F"),method:K.Uw})}catch(le){console.error(le)}return R.abrupt("break",11);case 10:return R.abrupt("break",11);case 11:case"end":return R.stop()}},me)}));return function(me){return ge.apply(this,arguments)}}(),J=[{title:r("training.learning_tasks"),dataIndex:"title",key:"title",width:200,fixed:"left"},{title:r("training.training_time"),dataIndex:"begin_time",key:"begin_time",width:200,render:(H,ee)=>Y().createElement("div",null,H&&ee.end_time?Y().createElement(Y().Fragment,null,Y().createElement("span",null,i()(parseInt(H)).format("YYYY-MM-DD HH:mm"),"~"),Y().createElement("span",null,i()(parseInt(ee.end_time)).format("YYYY-MM-DD HH:mm"))):"-")},{title:r("training.assigned_number"),dataIndex:"total_num",key:"total_num",width:80},{title:r("training.number_of_participants"),dataIndex:"attend_num",key:"attend_num",width:80},{title:r("training.number_of_people_completed"),dataIndex:"finish_user_count",key:"finish_user_count",width:80},{title:"".concat(r("training.completion_rate"),"(%)"),dataIndex:"finish_percent",key:"finish_percent",width:100,render:H=>{var ee=parseInt(H);return isNaN(ee)?"--":"".concat(parseInt(ee),"%")}},{title:"".concat(r("training.qualified_rate"),"(%)"),dataIndex:"qualified_rate",key:"qualified_rate",width:100,render:H=>{var ee=parseInt(H);return isNaN(ee)?"--":"".concat(parseInt(ee),"%")}},{title:r("training.creator"),dataIndex:"create_user_name",key:"create_user_name",width:80},{title:r("training.creation_time"),dataIndex:"create_time",key:"create_time",width:120,render:H=>i()(parseInt(H)).format("YYYY-MM-DD HH:mm")},{title:r("training.state"),dataIndex:"status",key:"status",width:80,render:H=>{var ee=(0,M.y)(r).find(me=>{var te=me.key;return te===H})||{},ge=ee.title;return Y().createElement("div",{className:"article-title"},ge)}}];return p!=="approval"&&J.push({title:r("common.operate"),dataIndex:"operate",key:"operate",align:"center",render:(H,ee)=>Y().createElement("div",null,Y().createElement(a.Z,{overlayStyle:{minWidth:200},visible:ee.plan_task_id===V,title:w.title,okText:r("common.ok"),cancelText:r("common.cancel"),onConfirm:(0,T.Z)(h().mark(function ge(){return h().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,w.method(ee.plan_task_id);case 2:if(N(""),p!=="personal"){te.next=11;break}if((0,g.E)(),!c){te.next=8;break}return te.next=8,c(E);case 8:B&&B(),te.next=12;break;case 11:c(E);case 12:case"end":return te.stop()}},ge)})),onCancel:()=>N("")},Y().createElement("div",null,Y().createElement(P.Z,{superDelete:!0,status:ee.status,onOperation:X(ee.plan_task_id,ee),type:"exec_detail"}))))}),J};function f(r){var m=r.loading,p=r.taskList,c=r.t,E=r.plan_id,N=r.fetchData,d=r.from,V=r.onChangeDetailListStatus,w=(0,x.useState)(""),B=(0,Q.Z)(w,2),X=B[0],J=B[1],H=(0,x.useState)({}),ee=(0,Q.Z)(H,2),ge=ee[0],me=ee[1],te=A(c,{fetchData:N,plan_id:E,visible:X,setVisible:J,popProps:ge,setPopProps:me,onChangeDetailListStatus:V},d);return Y().createElement(Y().Fragment,null,Y().createElement(L.f,{scroll:{y:"100%",x:"max-content"},loading:m,dataSource:p,columns:te,rowKey:Z=>Z.id,pagination:!1,tableUUID:"be59dfbf-89d4-4f74-b3d2-c9652aa164ab",options:{setting:!1,density:!1,fullScreen:!1,reload:!1}}))}var t=(0,s.Z)()(f)},92954:function(Ie,ne,e){"use strict";e.d(ne,{Gy:function(){return I},eP:function(){return h},ut:function(){return v},hP:function(){return l}});var Q=e(88986),x=e(57361),Y=e(9754),s=e.n(Y),L=e(96486),O=e.n(L),a=e(78138),T=e.n(a),I=i=>new Promise(function(){var o=(0,x.Z)(s().mark(function K(P,M){var j,g;return s().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return i||M(new Error("no ref")),f.next=3,i.validateForm();case 3:j=f.sent,g=(0,L.reduce)(j,(t,r,m)=>(((0,L.isObject)(r)&&(0,L.size)(r)>0||(0,L.isString)(r))&&(t[m]=!0),t),{}),(0,L.size)(g)?(i.setTouched(g),P(!0)):P(!1);case 6:case"end":return f.stop()}},K)}));return function(K,P){return o.apply(this,arguments)}}()),h=(i,o)=>{if(!i)return{};var K=M=>(0,L.reduce)(M,(j,g)=>j.concat(g),[]).map(j=>j.id),P=(M,j)=>{var g=(0,Q.Z)((0,Q.Z)({},M),{},{directors:K(M.directors),executors:K(M.executors),department_id:M.department_id===0?"":M.department_id,sort:j&&j.toString(),biz_plan_type:o});return g.training_month&&(g.training_month=M.training_month.join(",")),g};return i.map?i.map(P):P(i)},v=i=>{var o=P=>({user:P||[]}),K=P=>(0,Q.Z)((0,Q.Z)({},P),{},{department_id:P.department_id==0?"":P.department_id,training_month:P.training_month?P.training_month.replace(/\[|\]|\\|"|'/g,"").replace(/；/g,"").split(",").filter(M=>M):[],directors:o(P.directors),executors:o(P.executors)});return i.map?i.map(K):K(i)},l=i=>{var o=parseInt(T()().format("YYYY")),K=(0,L.map)(new Array(3),(P,M)=>{var j=o+parseInt(M);return{label:"".concat(j).concat(i("internationalizationDate.year")),value:j}});return K}},49324:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return E}});var Q=e(71194),x=e(57016),Y=e(62029),s=e(20228),L=e(11382),O=e(57663),a=e(71577),T=e(57361),I=e(88986),h=e(33565),v=e(9754),l=e.n(v),i=e(12924),o=e.n(i),K=e(91768),P=e(96486),M=e(73704),j=e(66663),g=e(92954),A=e(57482),f=e(56922),t=e(78138),r=e.n(t),m=e(9142),p=function(d){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",w={span:24,labelCol:{xs:{span:8},sm:{span:4}},wrapperCol:{xs:{span:12},sm:{span:16}}},B={span:8,labelCol:{xs:{span:24},sm:{span:12}},wrapperCol:{xs:{span:24},sm:{span:12}}},X=V==="split"||V==="is_my_training",J=[{name:"name",label:d("training.training_content"),type:"text",required:!0,disabled:X,placeholder:d("training.limit_60_characters"),layout:w,config:{maxLength:60},validate:H=>H?(0,m.w)(H,d):d("common.requiredNotBlank")},{name:"category",label:d("training.category"),type:"text",disabled:X,placeholder:d("training.limit_60_characters"),layout:w,config:{maxLength:60}},{name:"form",disabled:X,label:d("training.training_form"),type:"select",placeholder:d("training.please_select_a_category"),config:{getPopupContainer:()=>document.getElementById("form")},options:[{label:d("training.on_line"),value:"online"},{label:d("training.offline"),value:"offline"},{label:d("training.blend"),value:"blend"},{label:d("training.other_training"),value:"other"}],layout:w},{name:"target",disabled:X,label:d("training.training_purpose"),type:"textArea",layout:w,placeholder:d("training.limit_1000_characters"),config:{maxLength:1e3}},{name:"plan_user_quantity",disabled:X,label:d("training.planned_number"),type:"number",validate:H=>H?(0,m.m)(H,d):"",config:{addonAfter:d("training.person_time"),min:0,defaultValue:0,precision:0,max:9999999},layout:B},{name:"estimated_cost",label:d("training.estimated_cost"),config:{addonAfter:d("training.element"),min:0,step:.1,defaultValue:0,precision:1,max:9999999},type:"number",validate:H=>H?(0,m.m)(H,d):"",disabled:X,layout:B},{name:"class_hours",disabled:X,label:d("training.estimated_class_hours"),type:"number",config:{addonAfter:d("training.class_hour"),min:0,defaultValue:0,precision:0,max:9999999},validate:H=>H?(0,m.m)(H,d):"",layout:(0,I.Z)({offset:8},B)},{name:"lecturer",label:d("training.training_institution_lecturer"),type:"text",disabled:X,placeholder:d("training.limit_60_characters"),layout:w,config:{maxLength:60}},{name:"training_object",label:d("training.training_object"),type:"text",disabled:X,placeholder:d("training.limit_60_characters"),layout:w,config:{maxLength:60}},{name:"training_year",label:d("training.year_of_training"),type:"select",placeholder:d("training.please_select_a_year"),config:{getPopupContainer:()=>document.getElementById("training_year"),defaultValue:r()().format("YYYY")},layout:w,required:!0,validate:H=>H?"":d("common.requiredNotBlank"),options:(0,g.hP)(d)},{name:"training_month",label:d("training.training_month"),type:"month",config:{mode:"multiple",showAll:!1,allowClear:!0,showSearch:!1},layout:w},{name:"address",disabled:X,label:d("training.training_location"),layout:w,placeholder:d("training.limit_1000_characters"),type:"textArea",config:{maxLength:1e3}},{name:"department_id",disabled:X,label:d("training.executive_department"),type:"department",config:{treeSelect:!0},layout:w},{name:"directors",label:d("training.person_in_charge"),type:"users",config:{onlyUser:!0},disabled:X,required:!0,validate:H=>(0,P.reduce)(H,(ee,ge)=>ee.concat(ge),[]).length===0?d("common.requiredNotBlank"):"",layout:w},{name:"executors",label:d("training.executor"),type:"users",config:{onlyUser:!0},layout:w}];return[{fields:J,title:"",category:"train_content"}]},c=N=>{var d,V,w=N.t,B=N.onOk,X=N.onSave,J=X===void 0?{}:X,H=N.source,ee=N.initialValue,ge=N.plan_id,me=N.biz_plan_type,te=N.onCancel,Z={okText:w("common.ok"),cancelText:w("common.cancel"),size:"medium",destroyOnClose:!0,maskClosable:!1},R=(0,i.useState)({loading:!1,data:ee}),le=(0,h.Z)(R,2),fe=le[0],Ee=le[1],ve=(0,i.useState)({content:null,isShowApprovalModal:!1,businessId:"",bizType:"",approvalTitle:""}),se=(0,h.Z)(ve,2),z=se[0],W=se[1],$=z.content,C=z.isShowApprovalModal,y=z.businessId,D=z.bizType,U=z.approvalTitle,re=Ze=>{Ze&&(Ee((0,I.Z)((0,I.Z)({},fe),{},{loading:!0})),(0,A.DM)("month",Ze).then(Le=>{try{if(Le.data.code==="200000"||Le.data.code===2e5){var S=Le.data.data,n=S.training_month;n=n?n.replace(/\[|\]|\\|"|'/g,"").replace(/；/g,""):"",Ee({data:(0,g.ut)(Le.data.data),loading:!1})}}catch(u){console.error(u)}}).catch(()=>{Ee((0,I.Z)((0,I.Z)({},fe),{},{loading:!1}))}))},k=Ze=>Ze?A.MM:A.n4,ae=()=>me===j.B.MONTH_PLAN?"month":"temp";(0,i.useEffect)(()=>{ge&&re(ge)},[ge]);var ie=(0,i.useRef)(),pe=p(w,H),De=function(){var Ze=(0,T.Z)(l().mark(function Le(){var S,n,u,F,b,G,q,oe;return l().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,(0,g.Gy)(ie.current);case 2:if(S=ye.sent,S){ye.next=11;break}return n=k(ge),ye.next=7,n((0,I.Z)((0,I.Z)({},(0,g.eP)(ie.current.state.values,me)),{},{plan_id:ge,submit_type:"commit",source_type:ae()}));case 7:u=ye.sent,F=u.data.data,b=F.business_id,G=F.type,q=F.has_flow_template,oe=F.content,q?(W({isShowApprovalModal:!0,businessId:b,bizType:G,approvalTitle:ie.current.state.values.name,content:oe}),N.onCancel()):(re(ge),B&&B(),N.onCancel());case 11:case"end":return ye.stop()}},Le)}));return function(){return Ze.apply(this,arguments)}}(),Oe=function(){var Ze=(0,T.Z)(l().mark(function Le(){var S,n;return l().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,g.Gy)(ie.current);case 2:if(S=F.sent,S){F.next=10;break}return n=k(ge),F.next=7,n((0,I.Z)((0,I.Z)({},(0,g.eP)(ie.current.state.values)),{},{plan_id:ge,submit_type:"save",source_type:ae(),is_my_training:H!=="normal"}));case 7:re(ge),J&&J(),te&&te();case 10:case"end":return F.stop()}},Le)}));return function(){return Ze.apply(this,arguments)}}(),Me=()=>{W({isShowApprovalModal:!1,businessId:"",bizType:"",approvalTitle:"",content:null}),te&&te()},Te=()=>{W({isShowApprovalModal:!1,businessId:"",bizType:"",approvalTitle:"",content:null}),B&&B(),N.onCancel()},Ne=me===j.B.MONTH_PLAN?w("training.create_edit_monthly_plan"):w("training.new_edit_temporary_schedule");return o().createElement(o().Fragment,null,o().createElement(x.Z,(0,Y.Z)({width:"60%",title:Ne,visible:N.visible},Z,{onCancel:N.onCancel,footer:o().createElement("div",{style:{textAlign:"center"}},o().createElement(a.Z,{onClick:N.onCancel},w("common.cancel")),o().createElement(a.Z,{onClick:(0,P.debounce)(Oe,1e3)},w("common.save")),["unpublished","reject"].includes((d=fe.data)===null||d===void 0?void 0:d.status)||!((V=fe.data)!==null&&V!==void 0&&V.status)?o().createElement(a.Z,{onClick:(0,P.debounce)(De,1e3),type:"primary"},w("common.release")):"")}),fe.loading?o().createElement(L.Z,null):o().createElement(f.Z,{initialValues:{train_content:fe.data},forms:pe,ref:ie})),C&&o().createElement(M.Z,{content:$,show:C,setShow:Me,submitRefresh:Te,businessId:y,bizType:D,title:U}))},E=(0,K.Z)()(c)},57482:function(Ie,ne,e){"use strict";e.d(ne,{Wz:function(){return O},B3:function(){return a},um:function(){return T},Lj:function(){return I},S7:function(){return h},n_:function(){return v},Kh:function(){return l},n4:function(){return i},DM:function(){return o},Wg:function(){return K},Uw:function(){return P},Or:function(){return M},XA:function(){return j},v7:function(){return g},MM:function(){return A},qX:function(){return r},Yy:function(){return p}});var Q=e(57361),x=e(9754),Y=e.n(x),s=e(37055),L=e(10237),O=function(){var c=(0,Q.Z)(Y().mark(function E(N){var d;return Y().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return d=s.ZP.trainingConfig.getAnnualPlanList(),w.abrupt("return",L.WY.get({url:d,params:N}));case 2:case"end":return w.stop()}},E)}));return function(N){return c.apply(this,arguments)}}(),a=function(){var c=(0,Q.Z)(Y().mark(function E(N){var d;return Y().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return d=s.ZP.trainingConfig.addAnnualPlan(),w.abrupt("return",L.WY.post({url:d,data:N}));case 2:case"end":return w.stop()}},E)}));return function(N){return c.apply(this,arguments)}}(),T=c=>{var E=s.ZP.trainingConfig.editAnnualPlan();return L.WY.post({url:E,data:c})},I=c=>{var E=s.ZP.trainingConfig.unPublishAnnualPlan(c);return L.WY.put({url:E})},h=c=>{var E=s.ZP.trainingConfig.unPublishPlan(c);return L.WY.put({url:E})},v=c=>{var E=s.ZP.trainingConfig.deleteAnnualPlan(c);return L.WY.delete({url:E})},l=c=>{var E=s.ZP.trainingConfig.deletePlan(c);return L.WY.delete({url:E})},i=c=>{var E=s.ZP.trainingConfig.addPlan();return L.WY.post({url:E,data:c})},o=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"month",N=arguments.length>1?arguments[1]:void 0,d={month:s.ZP.trainingConfig.getPlan(N),annual:s.ZP.trainingConfig.getAnnualPlan(N),exec:s.ZP.trainingConfig.execDetail(N),demand:s.ZP.trainingConfig.getTrainingDemandsDetail(N)};return L.WY.get({url:d[E]||d.month})},K=c=>{var E=s.ZP.trainingConfig.associateTask();return L.WY.post({url:E,data:c})},P=c=>{var E=s.ZP.trainingConfig.unBindPlan(c);return L.WY.post({url:E})},M=c=>{var E=s.ZP.trainingConfig.execDetail(c);return L.WY.get({url:E})},j=c=>{var E=s.ZP.trainingConfig.commitPlan(c);return L.WY.post({url:E})},g=c=>{var E=s.ZP.trainingConfig.deleteDetail(c);return L.WY.delete({url:E})},A=c=>{var E=s.ZP.trainingConfig.editPlan(c.plan_id);return L.WY.post({url:E,data:c})},f=c=>{var E=CONFIG.trainingConfig.exportPlan();return request.get({url:E,params:c})},t=c=>{var E=CONFIG.trainingConfig.exportAnnualPlan(c);return request.get({url:E})};function r(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=s.ZP.trainingConfig.getPlanList();return L.WY.get({url:E,params:c})}var m=c=>{var E=CONFIG.trainingConfig.getBusinessId(c.instanceId);return request.get({url:E,params:c})},p=c=>{var E=s.ZP.trainingConfig.getDepartmentName(c);return L.WY.get({url:E})}},30847:function(Ie,ne,e){"use strict";e.d(ne,{Z:function(){return g}});var Q=e(88986),x=e(71153),Y=e(60331),s=e(34792),L=e(48086),O=e(33565),a=e(12924),T=e.n(a),I=e(91768),h=e(6793),v=e(36202),l=e(65771),i=e(79642),o=e(94532),K=A=>[{title:A("training.trainingNeed"),dataIndex:"name",key:"name",width:150,fixed:"left",render:f=>T().createElement(o.Z,{title:f||"-",width:150,placement:"topLeft",isCoolCopy:!0,copyTitle:f||"-"},f||"-")},{title:A("training.training_type"),dataIndex:"category",key:"category",width:80,render:f=>T().createElement(o.Z,{title:f||"-",width:80,placement:"topLeft"},f||"-")},{title:A("training.training_form"),dataIndex:"form",key:"form",width:80,render:f=>{var t=l.K.filter(r=>r.key===f);return t.length>0?t[0].title:"-"}},{title:A("training.training_object"),dataIndex:"training_object",key:"training_object",width:100,render:f=>T().createElement(o.Z,{title:f||"-",width:100,placement:"topLeft"},f||"-")},{title:A("training.training_purpose"),dataIndex:"target",key:"target",width:120,render:f=>T().createElement(o.Z,{title:f||"-",width:120,placement:"topLeft"},f||"-")},{title:A("training.training_location"),dataIndex:"address",key:"address",width:80,render:f=>T().createElement(o.Z,{width:80,title:f||"-",placement:"topLeft"},f||"-")},{title:A("training.estimated_number_of_sessions"),dataIndex:"session_quantity",key:"session_quantity",width:80,render:f=>T().createElement(o.Z,{title:f.toString()||"-",width:80,placement:"topLeft"},f.toString()||"-")},{title:A("training.estimated_class_hours"),dataIndex:"class_hours",key:"class_hours",width:80,render:f=>T().createElement(o.Z,{title:f.toString()||"-",width:80,placement:"topLeft"},f.toString()||"-")},{title:A("training.estimated_cost"),dataIndex:"estimated_cost",key:"estimated_cost",width:80,render:f=>T().createElement(o.Z,{title:f.toString()||"-",width:80,placement:"topLeft"},f.toString()||"-")},{title:A("training.planned_number"),dataIndex:"plan_user_quantity",key:"plan_user_quantity",width:80,render:f=>T().createElement(o.Z,{title:f.toString()||"-",width:80,placement:"topLeft"},f.toString()||"-")},{title:A("training.executive_department"),dataIndex:"department_name",key:"department_name",width:80,render:f=>T().createElement(o.Z,{title:f||"-",width:80,placement:"topLeft"},f||"-")},{title:A("training.person_in_charge"),dataIndex:"directors",key:"directors",width:80,render:f=>{var t=f.length>0?f.map(r=>r.name).join(","):"";return T().createElement(o.Z,{title:t||"-",width:80,placement:"topLeft"},t||"-")}},{title:A("training.executor"),dataIndex:"executors",key:"executors",width:80,render:f=>{var t=f.length>0?f.map(r=>r.name).join(","):"";return T().createElement(o.Z,{title:t||"-",width:80,placement:"topLeft"},t||"-")}},{title:A("training.expected_training_month"),dataIndex:"training_month",key:"training_month",width:100,render:f=>T().createElement(o.Z,{title:f||"-",width:100,placement:"topLeft"},f||"-")},{title:A("training.lecturer"),dataIndex:"lecturer",key:"lecturer",width:80,render:f=>T().createElement(o.Z,{title:f||"-",width:80,placement:"topLeft"},f||"-")},{title:A("training.creator"),dataIndex:"create_user_name",key:"create_user_name",width:80},{title:A("training.creation_time"),dataIndex:"create_time",key:"create_time",width:150,render:f=>(0,h.p6)(parseInt(f),"yyyy-MM-dd hh:mm")}],P=e(75879),M=e.n(P),j=A=>{var f=A.t,t=A.businessId,r=A.content,m=A.from,p=(0,a.useState)({}),c=(0,O.Z)(p,2),E=c[0],N=c[1],d=(0,a.useState)(!1),V=(0,O.Z)(d,2),w=V[0],B=V[1];(0,a.useEffect)(()=>{if(r){N(r);return}t&&X(t)},[t]);var X=ge=>{var me={demandId:ge};(0,i.vw)(me).then(te=>{te.data.code==="200000"?(N(te.data.data),B(!1)):L.default.error(te.data.message)}).catch(te=>{L.default.error(te.message)})},J={reject:"error",published:"success",unpublished:"processing",under_approval:"warning"},H=(0,l.y)(f).filter(ge=>ge.key===E.status),ee=["approval","personal"].includes(m);return T().createElement("div",{className:M().demandetail},T().createElement("div",{className:M().demandHeader},T().createElement("h3",null,E.training_year,f("training.annual_trainingNeed")),H.length>0&&!ee&&T().createElement(Y.Z,{className:M().tag,color:J[H[0].key]},H[0].title)),T().createElement("div",{className:M().baseInfo},T().createElement("span",null,f("training.updater"),"\uFF1A",E.update_user_name||"-"),T().createElement("span",null,f("training.update_time"),"\uFF1A",(0,h.p6)(parseInt(E.update_time),"yyyy-MM-dd hh:mm")||"-")),T().createElement("div",{className:M().common_detail},T().createElement("div",{className:M().headerTitle},T().createElement("div",{className:M().sot}),T().createElement("div",{className:M().title},f("training.demand_details"))),T().createElement(v.f,{scroll:{y:"100%",x:"max-content"},loading:w,dataSource:[(0,Q.Z)({},E)],columns:K(f),rowKey:ge=>ge.id,pagination:!1,options:{setting:!1,density:!1,fullScreen:!1,reload:!1},tableUUID:"7b6cce00-a35b-4a0b-bead-e8b2a8b6797b"})))},g=(0,I.Z)()(j)},65771:function(Ie,ne,e){"use strict";e.d(ne,{y:function(){return L},K:function(){return O}});var Q=e(6793),x=e(3407),Y=(0,Q.me)(),s=x.Z[Y].training,L=a=>[{key:"published",title:a("training.published")},{key:"unpublished",title:a("training.unpublished")},{key:"reject",title:a("training.reject")},{key:"under_approval",title:a("training.under_approval")}],O=[{key:"online",title:s.on_line},{key:"offline",title:s.offline},{key:"blend",title:s.blend},{key:"other",title:s.other_training}]},79642:function(Ie,ne,e){"use strict";e.d(ne,{pf:function(){return Y},S9:function(){return s},k_:function(){return L},d1:function(){return O},vw:function(){return a},BL:function(){return T},pK:function(){return I},Ji:function(){return h}});var Q=e(37055),x=e(10237),Y=v=>{var l=Q.ZP.trainingConfig.getTrainingDemandsPage();return x.WY.get({url:l,params:v})},s=v=>{var l=Q.ZP.trainingConfig.addTrainingDemandsData();return x.WY.post({url:l,data:v})},L=v=>{var l=Q.ZP.trainingConfig.editTrainingDemandsData();return x.WY.post({url:l,data:v})},O=v=>{var l=Q.ZP.trainingConfig.getTrainingDemandsDetail(v.demandId);return x.WY.delete({url:l})},a=v=>{var l=Q.ZP.trainingConfig.getTrainingDemandsDetail(v.demandId);return x.WY.get({url:l})},T=v=>{var l=Q.ZP.trainingConfig.cancelPublishTraining(v.demandId);return x.WY.put({url:l})},I=v=>{var l=Q.ZP.trainingConfig.getTrainingListForPlan();return x.WY.get({url:l,params:v})},h=(v,l)=>x.WY.post({url:l,params:v})},9142:function(Ie,ne,e){"use strict";e.d(ne,{w:function(){return Q},m:function(){return x}});var Q=(Y,s)=>{var L="",O=/^\S.*\S$|(^\S{0,1}\S$)/;return O.test(Y)||(L=s("training.text_no_blank_space")),L},x=(Y,s)=>{var L=/^[0-9]+.?[0-9]*$/,O="";return L.test(Y)||(O=s("training.only_number")),O}},44970:function(Ie,ne,e){"use strict";var Q=e(49111),x=e(19650),Y=e(96433),s=e(33304),L=e(22385),O=e(31097),a=e(88983),T=e(47933),I=e(63185),h=e(9676),v=e(47673),l=e(4107),i=e(12924),o=e.n(i),K=e(91768),P=l.Z.TextArea;class M extends o().Component{constructor(){super(...arguments);this.setQuestionValue=(g,A)=>{this.props.setQuestionValue(g,A)},this.renderQuestionItem=(g,A)=>{var f=!1,t=this.props,r=t.isPreview,m=t.t;return(g.type==="single"||g.type==="multiple")&&(f=g.options.find(p=>p.is_other==="true")),o().createElement("div",{key:A,className:"questionnaire-view-question"},o().createElement("div",{className:"questionnaire-view-question-title"},g.is_must==="true"?o().createElement("span",{className:"question-must-icon"},"*"):null,g.type==="single"?"\u3010".concat(m("learning.questionnaireAddToolSingle"),"\u3011"):g.type==="multiple"?"\u3010".concat(m("learning.questionnaireAddToolMul"),"\u3011"):null,g.title),g.type==="multiple"?o().createElement("div",{className:"questionnaire-view-question-option"},g.options.map((p,c)=>p.is_other==="true"?null:r?o().createElement(h.Z,{checked:g.answer.normal.indexOf(p.id)!==-1,disabled:r,key:c,className:"option-item"},o().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},p.title)):o().createElement(h.Z,{key:c,className:"option-item"},o().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},p.title))),f?r?o().createElement(h.Z,{disabled:r,checked:!!g.answer.other,className:"option-item"},m("learning.questionnaireAddQusOptionOther"),g.answer.other?o().createElement(l.Z,{value:g.answer.other,disabled:r,className:"other-input"}):o().createElement(l.Z,{disabled:r,className:"other-input"})):o().createElement(h.Z,{className:"option-item"},m("learning.questionnaireAddQusOptionOther"),o().createElement(l.Z,{className:"other-input"})):null):null,g.type==="single"?o().createElement("div",{className:"questionnaire-view-question-option"},g.options.map((p,c)=>p.is_other==="true"?null:r?o().createElement(T.ZP,{disabled:r,key:c,checked:g.answer.normal.indexOf(p.id)!==-1,className:"option-item"},o().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},p.title)):o().createElement(T.ZP,{key:c,checked:c===g.value,onClick:()=>this.setQuestionValue(A,c),className:"option-item"},o().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},p.title))),f?r?o().createElement(T.ZP,{disabled:r,checked:!!g.answer.other,className:"option-item"},m("learning.questionnaireAddQusOptionOther"),g.answer.other?o().createElement(l.Z,{value:g.answer.other,disabled:r,className:"other-input"}):o().createElement(l.Z,{disabled:r,className:"other-input"})):o().createElement(T.ZP,{checked:g.value===-1,onClick:()=>this.setQuestionValue(A,-1),className:"option-item"},m("learning.questionnaireAddQusOptionOther"),o().createElement(l.Z,{className:"other-input"})):null):null,g.type==="score"?o().createElement("div",{className:"questionnaire-view-question-score"},r?o().createElement(x.Z,{direction:"vertical"},o().createElement("div",{className:"questionnaire-view-question-score-box"},o().createElement(O.Z,{title:g.options[0].title},o().createElement("div",{className:"questionnaire-view-question-score-title"},g.options[0].title)),o().createElement("div",{className:"questionnaire-view-question-score-rate"},o().createElement(s.Z,{disabled:!0,value:g.answer.normal[0],tooltips:g.options.map((p,c)=>o().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:c.toString},o().createElement("div",{className:"ellipsis"},p.title),o().createElement("div",null,m("learning.score"),"\uFF1A",p.score))),count:g.options.length})),o().createElement(O.Z,{title:g.options[g.options.length-1].title},o().createElement("div",{className:"questionnaire-view-question-score-title"},g.options[g.options.length-1].title))),g.instruction==!0&&o().createElement(P,{disabled:!0,value:g.answer.instructionContent?g.answer.instructionContent:g.answer.instruction_content,className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(m("learning.scoringExplanation")).concat(g.must&&g.instruction_must?"\uFF08".concat(m("learning.required"),"\uFF09"):""),maxLength:300})):o().createElement(x.Z,{direction:"vertical"},o().createElement("div",{className:"questionnaire-view-question-score-box"},o().createElement(O.Z,{title:g.options[0].title},o().createElement("div",{className:"questionnaire-view-question-score-title"},g.options[0].title)),o().createElement("div",{className:"questionnaire-view-question-score-rate"},o().createElement(s.Z,{tooltips:g.options.map((p,c)=>o().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:c.toString},o().createElement("div",null,p.title),o().createElement("div",null,m("learning.score"),"\uFF1A",p.score))),count:g.options.length})),o().createElement(O.Z,{title:g.options[g.options.length-1].title},o().createElement("div",{className:"questionnaire-view-question-score-title"},g.options[g.options.length-1].title))),g.instruction==!0&&o().createElement(P,{className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(m("learning.scoringExplanation")).concat(g.instruction_must?"\uFF08".concat(m("learning.required"),"\uFF09"):""),maxLength:300}))):null,g.type==="input"?o().createElement("div",{className:"questionnaire-view-question-input"},g.is_multiple_rows==="1"||g.is_multiple_rows==="true"?o().createElement(P,{rows:3,value:r?g.answer.normal[0]:"",disabled:r}):o().createElement(l.Z,{value:r?g.answer.normal[0]:"",disabled:r})):null)}}render(){var g=this.props.questionnaireInfo;return o().createElement("div",null,o().createElement("div",{className:"questionnaire-view-title"},g.title),o().createElement("div",{className:"questionnaire-view-desc"},g.description),o().createElement("div",{className:"questionnaire-view-list"},g.questions.map((A,f)=>this.renderQuestionItem(A,f))))}}ne.Z=(0,K.Z)()(M)},70517:function(Ie,ne,e){"use strict";e.d(ne,{ZG:function(){return a},v8:function(){return T},Yv:function(){return I},$v:function(){return h},yW:function(){return v}});var Q=e(57361),x=e(9754),Y=e.n(x),s=e(91302),L=e(10237),O=e(37055),a=l=>{var i=!1;return s.ch.forEach(o=>{(l||"").indexOf(o)!==-1&&(i=!0)}),i},T=function(){var l=(0,Q.Z)(Y().mark(function i(){var o;return Y().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return o=O.ZP.LibraryList.checkMemberUserBinding(),P.abrupt("return",L.WY.get({url:o,params:{source_type:"lai_hua"}}));case 2:case"end":return P.stop()}},i)}));return function(){return l.apply(this,arguments)}}(),I=function(){var l=(0,Q.Z)(Y().mark(function i(o){var K,P,M,j;return Y().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return K=O.ZP.LibraryList.thirdEditorUrl(),A.next=3,L.WY.get({url:K,params:{source_type:"lai_hua",route_type:o}});case 3:P=A.sent,M=P.data,j=P.success,j==="true"&&window.open(M.url,"_blank");case 7:case"end":return A.stop()}},i)}));return function(o){return l.apply(this,arguments)}}(),h=()=>{localStorage.setItem("openedMemberModal","true")},v=l=>{var i=O.ZP.LibraryList.addTrialMemberBinding();return L.WY.get({url:i,params:{source_type:"lai_hua",route_type:l}})}},56932:function(Ie){Ie.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAhkSURBVHjavJlbbFzFGcd/M+ec3bN71rtex3ac2LkQOy0JudBCCiYJQUKtKkGLipB46VNLeSIVoEptVdqK0oc+QURQWwWkPkeiLQgoD0C4hMaYBGhCcRuIgwlx7NjreL03n90zZ6YPJw6O48supvlLq32Zme8/33z3I0ZGRqgX2kDSNjS7IRiSw2V792DB6T1Tsr9x3rfWFmpypR8KD8C1TCUd06Mr3fDM2pT6oDsd9HV66jCCSt63qCiBFHWLRtRDNDTg2YbmZEhh2up9e9T98ZEx9/sfTcbazlUsSkG0bq5gbaL/lAOrkyFbsrXx3nb/hd0d/jNNibAvX7EoK4EllknUGBACOjxFTckdfx/yfvv8Z8k7Tkw6KA3ZGHiOXlJQaKAcSCZr4EjYmg24a13lxR+sL/8uZuujo2X7kqyGiYYGUrYhk1QcHUk8vn8g/VDfWIyUDW0JjQQMjUEAGhiflpQU9LbX2Lu58MSOVdMPT1VsSotod16ioRGsiIe4ju4+MJD+21MD6W2hgS5PI0SkaQPUQohZXCKtDfgKplX0LwWkYtAUi0jOXGzmjLNliSXggc2FE/dvLtztB3JwomphCbM00dBAmxsiBb2PHGt55eDphNfpGdKOIby435IwHUTExitQ0xGphA0dHqxOQVtSEGj4NG84eQGybvRT+gtZloBCIBguC+7dMF3+/Y0XvqMNR8Z96wrNXkY0NLAirrGluenBvtZ3Xvo8Tnda48gvHAOgUIU1aXjsVkn/OcOneViXga+1QE9W0J6ctbYGLw8a9h2NLtqa4NKFZxww0DBYkNyxpsq+3tzNSov+iaq8jOwlogZIWoaMG3b9or918OBpN7YxM78tns7DL3sFP9pWf3x5bxTue1mTiUPcmt92P5mS3LvBr/3hplz3lG+drYSCGQly9uJMUvH0QOb1g6fdWE/azEvSmMgue7KNOdINHXBnt+DjC2DLOWdeJNKTNhw87caeHsi8nkkqZqtBzjx5h6d4dyTx5P6Bpp5Oz2BJs6BXaxM5TKPYe6NgaxuMla8MRQawpKHTM+wfaOp5dyTxZIenLpmJhCiYV5XY9NRAZm9oIO0YzAIsDZFGs3HRMNH2JPz6FkExuNzmZ7/WjNM+NZDZW1Vik2dHC6U20JxUPDfk/alvzKHL05cZ+1zkq7ClDW5cxZfCrjWCTSugWF04OXR5mr4xh+eGvD83JxXagEzahsK0vf35z1J7UjYspadSDa5taSxPz8XGLBRriyeGlA3Pf5a6tTBtb0/aBtnshrw96j704aRNm6uXzDbaQLPLstDhRTF2wdQNtLmaDydt3h51H2p2QySG2JGx+D2BBinrS4OhXh7RuL10/pUyiq9HxuL3YIjJ4bKz56PJuJeNsaADzYYtYaRklkW0UF28AJlxrGwMPpqMe8NlZ48cLNi3natYeE59wmMWnC02XpDMxskLhoSz9DrPMZyrWAwW7NvkmZKzrRQwbyEw3y0DDd/dIJal0e3tgiBcep0lDKUAzpScbfL8tFxfrwBzkeym1qWjw2K4dkVUedWL89NyvSwEsrXeUCNFJODYyPKc6ejIlWl0MZmFQLbKaiiSjQhpTcKzJw3V8MuRPF+GF0+ZyyqspVANRVI2Kqg5DiNF+NkhPW8aXAzlAB58VVMNIek0tlfGLVNpZIM2sLoJnvsE3j/fGNM3zhgOnYkK67CBrXHLVGTa0blGNGMuVuYJO3rCRvCPQUNbor54PVsxaUfn5MqEHmr0+Q3Q1QR/PQknxuqT+sqQ4bWhSJuNxuCVCT0k16aCEyknaugagWtFwX/vq4aPLyy+9l/nDT9/3ZB1o36rXoRGkHJgbSo4IbvT6o3VyZBy0BjRqNiO2pI/frCwji5Mw8OHDIGGlgQNOWA5EKxOhnSn1Ruy0wvevC5bLU/Wls6/c6E0ZOIsOoCo6ojc3A50yeJHwGQNrstWy51e8KZEULulvfqsI0E3WBVZAsq1K5u1ueHMllANG8tmWkdTlVvaq88iqMm8b7Grw39ia1Yx7su6DhMicogzhSj3375IEk7YsGeN4OOJqDsQLE1YAOO+ZGtWsavDfyLvW8iKEqQT6vhd60pvlRSLNnQVFWWWUxdguAgbW+AvdwhuX7e46Ed2Ch7dLfAc+HQqsutcJdKyWSCqlBTcta70VjqhjleUiPp61zIkbL3pJ4fbB97LOaxLRZW+0jAxHbUfcRtWerA+A1taBTtWwc6uxow6X4V/njUcH4P/ThiGpiLC4UUbbnYjcxoqSm5oDTiwe2yzr+R//PAi0dBAZ0rx7nn3yfsOt+5tcQ0qNExVo378ho6ozf16i2BViq8MQ1MwkDOcGIP+kSjMZVxBRQkO7Mrt/9ZK/6fDJRtLzBnpdDQFPP3v5k9+daypZ0OT5rHdgm9fI7gaqCjYf8zw2DuCx3uLp+7fkt84WnQWGenEw64fvrZi8OZrErEHrueq48Axv3Z3V67HsazPZ490rhiSZRxNsWZuSre0veO5savLMqxhSuM3T/iiv6ovH5LJuXFxKpAkbPprhfGdvu9XrhZH3/crw6PjO0fL9Ctz5dhRzhfEq8ZmWokjuVxuW7FYPP7/JlksFk/kcrntQogj0pq/l5bzN3EGKSWWZQ3m8/nrJyYm9gVB8JUTDIKAiYmJffl8frtlWaeklJgFasC6vooopZBS7vA87zee591p2/ayCCqlKJfLL5XL5Ue11kfrOU/U+53JGINSCtu2e13Xvc913e/F4/E2Keur27TWVKvVcd/3X/B9/xmlVJ9t24g6KyHRyAexGcJhGAIkbdve7ThOr+M437Qsa41lWR1CRM2iMaYShuFoGIafB0HwfhAEfUqpw0DFsqy6Cc7gfwMAF5nrFJBUDSgAAAAASUVORK5CYII="},75876:function(Ie){Ie.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAADN0lEQVRYCc2YW2sTQRTHZ8c0zaUJtAbTNMVn8fLgg6B4S+0Wa0EKIqhPfgk/ht9DfRFEqBVXE/RBwQcfvOCzNLaR2kLSXJrGXfPfMstkMjuz5mbmZXdnzjn/XyZnZ+asQXpsa9bbk/ZB6wQxnOOO7cwjjEGNDeIYP+hE6PuKeeVbL6GNf3Fat/LLtfr+vUZjf7HZbGZVvuFwuBiJTL6ORScfLZsL6ypbfiwQ0ItXb66XK9WH9XrjNO8c9D4ajXxJJuIPbixde6nzUQJZ1of0bmX7cbVWz+kCBRmPx6KF6UTqrmmeL/nZ+wJZVuHc1s7us9ZBK+Pn3Et/aCK0OTszvWqauY8yfyrrXLPyt39u/y4MGgZaiInY0JBpd80QZgYO9h87JnMYVB89QmtzqaM5caY6gJAzWzubn4YxM7Ifcvj3Zc7yOdXxlyGBRwUDQGhBk4f1gPBqD+pt4gV099CENrPzgLDOsE6/63w2Q5LJhN9wVz9ss3OzXf1iB6/tAmEF1i16gFm8epGsriwR3OsabGBr5i5poaANBsR0gbAd6ATKlT1i2zahlJKFyxeUUICBDWzhU9mr6sITxuACYW/SeZTLFZJ/914LJcLAB766xhgM7Nq/SqWvOgc2LhPcKG66w6ox5q+6HkunT1H3CKGyEsYgLpupfmEgA5YQzjOCpvaRQbE8wRWN5QyA2axpg/EGbRbKDld8f5B7BsUSvW+YtihYvHUoCMSwbRziONQ9dvagJOYMmyndkqCSas9ykeIMrDKSjYkwyBlZost8lX04j+NArjQSBmUwyCcxp3qZKbBQVAc4kAu60kc/GGbcDxQYwOImNaoDFtTvio2SvebIF79XWwYVZENmDC4QShU/ENafTEwFXmdEqMRUnIXxvTIG78T45Onzz0F2fGyyQfYmKGNm8EMAqGook+7cunkGNt46hLpJ5YQxBA4KA3vY6mBgx2t7QCjiUDfBYJQNmnwB6QEBAkUcDt6jAoIWNHm9DiCc/lHEoUThjYZxD43DgrGziu0AgjDqpFRq5v4woRAbGmJNBn3vLcMD3/5XKe0LBLix+tjAz9bYfI7hoXA/Nh+sRDA8D+uT3l/AsANQDiRx1QAAAABJRU5ErkJggg=="}}]);
