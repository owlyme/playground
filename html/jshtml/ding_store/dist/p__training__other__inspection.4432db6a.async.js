(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8161],{97882:function(ce,J,e){"use strict";var L=e(57361),o=e(43358),F=e(34041),P=e(9754),x=e.n(P),O=e(12924),N=e.n(O),E=e(91768),C=e(28216),s=e(67222),c=e(10237),y=e(37055),k=e(60667),W=F.Z.Option;class d extends N().Component{constructor(){var b;super(...arguments);b=this,this.state={data:[],value:void 0},this.handleSearch=function(){var m=(0,L.Z)(x().mark(function g(h){var p,A,I,K,R,S,M,w;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(p=b.props,A=p.appType,I=p.appId,K=localStorage.getItem("qyWechatBook"),R="",S=A==="wx_app"&&K==="true"&&I==="9005",!(h&&S)){$.next=17;break}return $.prev=5,$.next=8,(0,s.F_)(h);case 8:M=$.sent,w=M.data,w.success?R=w.data:R="",$.next=17;break;case 13:$.prev=13,$.t0=$.catch(5),console.error($.t0),R="";case 17:h?b.getUserList(h,R):b.setState({data:[]});case 18:case"end":return $.stop()}},g,null,[[5,13]])}));return function(g){return m.apply(this,arguments)}}(),this.handleChange=m=>{this.setState({value:m}),this.props.onSearch(m)},this.renderSearch=()=>{var m=this.props,g=m.t,h=m.width,p=h===void 0?360:h,A=this.state.data.map(I=>N().createElement(W,{key:I.id},N().createElement(k.Z,{dataType:"userName",value:I.user_id,name:I.user_name,type:I.source_type}),"(",N().createElement("span",{style:{color:"#939393",fontSize:"12px",marginBottom:"15px"}},I.department_names.join("/")),")"));return N().createElement(F.Z,{showSearch:!0,value:this.state.value,placeholder:g("personal.searchByName"),style:{width:p},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleSearch,onChange:this.handleChange,notFoundContent:null,allowClear:!0},A)},this.getUserList=(m,g)=>{var h=y.ZP.OrgDialog.getUserByName(),p={user_name:g===""?m:"",filter_auth:!1,user_type:"active",userIds:g};c.WY.get({url:h,params:p}).then(A=>{this.setState({data:A.data.users})})}}render(){return N().createElement("span",null,this.renderSearch())}}J.Z=(0,C.$j)(D=>({appType:D.user.appType,appId:D.user.appId}))((0,E.Z)()(d))},87722:function(ce,J,e){"use strict";var L=e(62029),o=e(81211),F=e(14965),P=e(11448),x=e(12924),O=e.n(x),N=e(91768),E=e(78138),C=e.n(E),s=e(6793),c=e(37055),y=P.Z.RangePicker;class k extends O().Component{constructor(){super(...arguments);this.state={value:[]},this.handleChange=(d,D)=>{var b=this.props,m=b.onCustomChange,g=b.timestamp;if(!d||!d.length){this.setState({value:[]},()=>{m({startTime:null,endTime:null,value:d,dateStrings:D})});return}var h=this.props,p=h.startTimeFormatter,A=p===void 0?c.XE.INITIAL_DATE_FMT.PARAMS:p,I=h.endTimeFormatter,K=I===void 0?c.XE.INITIAL_DATE_FMT.PARAMS:I,R=g?d[0].valueOf():d[0].format(A),S=g?d[1].valueOf():d[1].format(K),M=(0,s.jZ)(D[0])>(0,s.jZ)(D[1]);M&&D.reverse(),this.setState({value:M?[d[1],d[0]]:d},()=>{m({startTime:R,endTime:S,value:d,dateStrings:D})})},this.clearTime=()=>{this.setState({value:[]})}}componentDidMount(){var d=this.props.defaultValue;if(d&&d[0]&&d[1]){var D=d.map(b=>C()(b));this.setState({value:D})}}UNSAFE_componentWillReceiveProps(d){if(d.defaultValue&&this.props.defaultValue&&(d.defaultValue[0]!==this.props.defaultValue[0]||d.defaultValue[1]!==this.props.defaultValue[1]))if(d.defaultValue[0]&&d.defaultValue[1]){var D=d.defaultValue.map(b=>C()(b));this.setState({value:D})}else this.setState({value:[]})}render(){var d=this.props,D=d.t,b=d.showTime,m=b===void 0?!0:b,g=d.disabledDate,h=d.noRange,p=d.ranges,A=d.customerShowTime,I=A===void 0?!1:A,K=(0,o.Z)(d,["t","showTime","disabledDate","noRange","ranges","customerShowTime"]),R=this.state.value,S=p&&JSON.stringify(p)!="{}"?p:{["".concat(D("component.lastWeek"))]:[C()().subtract("day",7),C()()],["".concat(D("component.lastMonth"))]:[C()().subtract("day",30),C()()],["".concat(D("component.lastThreeMonth"))]:[C()().subtract("month",3),C()()]};return O().createElement(y,(0,L.Z)({value:R,showTime:m?I?m:{format:c.XE.INITIAL_TIME_FMT.VIEW,defaultValue:[C()("00:00:00","HH:mm:ss"),C()("23:59:59","HH:mm:ss")]}:!1,format:c.XE.INITIAL_DATE_FMT.PARAMS,ranges:h?{}:S,disabledDate:g||s.tI,onChange:this.handleChange},K))}}k.defaultProps={showTime:!0,disabledDate:null,noRange:!1,ranges:{},rest:{},timestamp:!1},J.Z=(0,N.Z)("translation",{withRef:!0})(k)},4408:function(ce,J,e){"use strict";var L=e(12924),o=e.n(L),F=e(28216),P=e(17780),x=e(38642),O=E=>({userInfo:E.user}),N=E=>{var C=E.title;return(0,P.xX)()&&setTimeout(()=>{document.title=C},0),(0,L.useEffect)(()=>{if(C&&document.title!==C&&setTimeout(()=>{document.title=C},0),(0,x.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var s=document.querySelector(".zoom-report");s&&(s.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[C]),o().createElement(o().Fragment,null)};N.defautProps={title:""},J.Z=(0,F.$j)(O)(N)},1164:function(ce,J,e){"use strict";var L=e(12924),o=e.n(L),F=e(76651),P=e(38642),x=e(91302),O=N=>{var E=navigator.userAgent.toLocaleLowerCase(),C=localStorage.getItem("enterpriseId"),s=(0,P.lz)(C,N.projectType),c=localStorage.getItem("dingPersonnel"),y=x.bl.includes(c),k=N.target;function W(d){if(k==="self"&&(d.preventDefault(),F.m8.push(N.to)),y){if(N.projectType==="student"){window.location.href="".concat(s,"/").concat(N.to);return}F.m8.push(N.to);return}if(dd.version){d.preventDefault();var D="";N.to.includes("?")?D="".concat(s).concat(N.to,"&ddtab=true"):D="".concat(s).concat(N.to,"?ddtab=true"),dd.biz.util.openLink({url:D})}else E.indexOf("lark")!==-1&&(window.location.href="".concat(s).concat(N.to))}return o().createElement("a",{rel:"noreferrer",href:"".concat(N.projectType==="student"?"".concat(s).concat(N.to):"#".concat(N.to)),className:"".concat(N.wrapCls," cl-pointer"),target:E.indexOf("lark")!==-1||y?"_self":N.target||"_blank",onClick:W},N.children)};O.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},O.targetTo=N=>{var E=N.path,C=N.from,s=N.isExternalLink,c=s===void 0?!1:s,y=N.isAsync,k=y===void 0?!1:y,W=N.openName,d=W===void 0?"_blank":W,D=N.projectType,b=D===void 0?"manage":D,m=N.ddTab,g=m===void 0?!0:m,h,p=localStorage.getItem("dingPersonnel"),A=x.bl.includes(p),I=navigator.userAgent.toLocaleLowerCase(),K=localStorage.getItem("enterpriseId"),R=(0,P.lz)(K,b),S=localStorage.getItem("appType"),M=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var w="";if(h=c?"":R,A&&!c){if(b==="student"){window.location.href="".concat(R).concat(E);return}F.m8.push(E);return}E.includes("?")?w="".concat(h).concat(E,"&ddtab=").concat(g):w="".concat(h).concat(E,"?ddtab=").concat(g),dd.biz.util.openLink({url:w})}else if(I.indexOf("lark")!==-1)h=c?"":R,window.location.href="".concat(h).concat(E);else if(S==="wx_app"&&M&&c&&C==="imgText")h=c?"":b==="student"?"".concat(R):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(h).concat(E)});else if(h=c?"":b==="student"?"".concat(R):"#",k){var Y=window.open("","_blank");setTimeout(()=>{Y.location="".concat(h).concat(E)},100)}else window.open("".concat(h).concat(E),d)},J.Z=O},36202:function(ce,J,e){"use strict";e.d(J,{f:function(){return m}});var L=e(62029),o=e(57361),F=e(33565),P=e(9754),x=e.n(P),O=e(12924),N=e.n(O),E=e(28175),C=e(41647),s=e(93485);function c(g){var h={};if(g.length===0)return h;var p=(0,s.Z)(g),A;try{for(p.s();!(A=p.n()).done;){var I=A.value,K=I,R=K.field,S=K.fixed,M=K.order,w=K.show;w?w==="true"||w===!0?h[R]={fixed:S,order:M,show:!0}:h[R]={fixed:S,order:M,show:!1}:h[R]={fixed:S,order:M,show:!0}}}catch(Y){p.e(Y)}finally{p.f()}return h}function y(g){var h=[],p=Object.entries(g);if(p.length===0)return h;for(var A=0,I=p;A<I.length;A++){var K=I[A],R=(0,F.Z)(K,2),S=R[0],M=R[1],w=M.fixed,Y=M.order,$=M.show;h.push({field:S,show:$,fixed:w,order:Y})}return h}var k=e(38642),W=(g,h)=>{var p=(0,O.useState)(g),A=(0,F.Z)(p,2),I=A[0],K=A[1];return(0,O.useEffect)(()=>{var R=setTimeout(()=>{K(g)},h);return()=>{clearTimeout(R)}},[g,h]),I},d=W;function D(g,h){var p=useRef(h);useEffect(()=>{p.current=h},[h]),useEffect(()=>{var A=I=>{var K,R;console.warn(g.current,"node.current",I.target),!((K=(R=g.current)===null||R===void 0?void 0:R.contains(I.target))!==null&&K!==void 0?K:!1)&&p.current&&p.current()};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[g])}var b=!1;function m(g){var h=(0,O.useState)({}),p=(0,F.Z)(h,2),A=p[0],I=p[1],K=g.prefixCls,R=g.rowKey,S=g.columnEmptyText,M=g.pagination,w=g.headerTitle,Y=g.toolBarRender,$=g.size,H=g.loading,Q=H===void 0?!1:H,q=g.tableUUID;q||console.error("tableUUID is required!!!"),(0,O.useEffect)(()=>{function se(me){return de.apply(this,arguments)}function de(){return de=(0,o.Z)(x().mark(function me(ve){var he,pe,U,V,re,ee,ue,ne;return x().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,(0,k.Kb)((0,C.U)(ve));case 2:if(he=De.sent,pe=(0,F.Z)(he,2),U=pe[0],V=pe[1],!U){De.next=8;break}return De.abrupt("return");case 8:re=V.data,ee=re.data,ue=ee.fields,ne=c(ue)||{},ne&&(b=!1,I(ne));case 13:case"end":return De.stop()}},me)})),de.apply(this,arguments)}return q&&se(q),()=>{b=!1}},[q]);var z=d(A,1e3);(0,O.useEffect)(()=>{!b||(0,C.I)(q,y(A))},[z]);function le(se){b=!0,I(se)}return N().createElement("div",{className:"SampleProTable_container ".concat(g.className)},N().createElement(E.ZP,(0,L.Z)({size:$||"middle",rowKey:R||"id",columnEmptyText:S||!1,pagination:M||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:Q,headerTitle:w||"",toolBarRender:Y||null,columnsStateMap:A,onColumnsStateChange:le},g,{className:"".concat(K,"-table")})))}},41647:function(ce,J,e){"use strict";e.d(J,{I:function(){return F},U:function(){return P}});var L=e(37055),o=e(10237);function F(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=L.ZP.tableHeader.save(),E={fields:O,key:x};return o.WY.post({url:N,data:E})}function P(x){var O=L.ZP.tableHeader.get(x);return o.WY.get({url:O})}},99891:function(ce,J,e){"use strict";var L=e(12924),o=e.n(L),F=e(28216),P=e(91768),x=e(37055),O=e(10237),N=e(60667);class E extends o().PureComponent{constructor(c){super(c);this.getWaterMarkText=y=>{var k=this.props.userInfo,W=k.jobNumber,d=localStorage.getItem("waterMarkPostName"),D=[],b=y.find(g=>g.type==="content_setting"),m=y.find(g=>g.type==="content_custom");return b.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),m.param.checked==="true"&&m.param.comment[0]!==""&&this.setState({commentText:m.param.comment[0]}),b.param.comment.indexOf("position")!==-1&&d&&d!==""&&D.push("".concat(d)),b.param.comment.indexOf("jobnumber")!==-1&&W&&W!==""&&D.push("".concat(W)),D.join("-")},this.getWaterMarkApplication=y=>{var k=this.props.scenes,W=y.find(d=>d.type==="application_scenario");W.param.comment.indexOf(k)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=y=>{var k=y.find(W=>W.type==="dispersive");this.setState({isDispersive:k.param.checked==="true"})},this.getDynamicSet=()=>{var y=x.ZP.advancedSetting.dynamicWaterMarkNew(),k={access_token:window.localStorage.getItem("token")};O.WY.get({url:y,params:k}).then(W=>{var d=JSON.parse(W.data.actions);this.setState({waterMarkText:this.getWaterMarkText(d),actions:d}),this.getWaterMarkApplication(d),this.getWaterIsDispersive(d)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var c=localStorage.getItem("waterMarkPostName");c===""||c===null?this.getPostName():this.getDynamicSet()}getPostName(){var c=x.ZP.advancedSetting.getPostName();O.WY.get({url:c}).then(y=>{localStorage.setItem("waterMarkPostName",y.data.post_names[0]||""),this.getDynamicSet()})}render(){var c=this.state,y=c.showWaterMark,k=c.waterMarkCount,W=c.isUserName,d=c.isDispersive,D=c.waterMarkText,b=c.actions,m=c.commentText,g=this.props.userInfo,h=g.name,p=g.unionid,A=g.sourceType;return o().createElement("div",{className:"common-watermark"},y&&new Array(k).fill(0).map((I,K)=>o().createElement("div",{key:K,className:"common-watermark-item ".concat(d?"isDispersive":"")},o().createElement("span",{className:"common-watermark-item-content"},m!==""&&o().createElement("span",{className:"item-part"},m),W&&o().createElement("span",null,m!==""&&o().createElement("span",null,"-"),o().createElement(N.Z,{dataType:"userName",value:p,name:h,type:A})),o().createElement("span",{className:"item-part"},(W||m!=="")&&D!==""&&o().createElement("span",null,"-"),D)))))}}var C=s=>({userInfo:s.user});J.Z=(0,F.$j)(C)((0,P.Z)()(E))},55285:function(ce,J,e){"use strict";e.d(J,{Z:function(){return M}});var L=e(20228),o=e(11382),F=e(62029),P=e(88986),x=e(22385),O=e(31097),N=e(57361),E=e(33565),C=e(9754),s=e.n(C),c=e(12924),y=e.n(c),k=e(91768),W=e(28216),d=e(93485),D=e(38642);function b(w){var Y={};if(w)for(var $=0,H=Object.entries(w);$<H.length;$++){var Q=H[$],q=(0,E.Z)(Q,2),z=q[0],le=q[1];Y["user_info_".concat((0,D.FI)(z))]=le}return Y}function m(w){if(!Array.isArray(w))return[];var Y=w.map($=>{var H=$.user_info,Q=$.userInfo,q={},z=H||Q;if(z){var le=z.extendList,se=z.extend_list,de=le||se||[];if(de.length>0){var me=(0,d.Z)(de),ve;try{for(me.s();!(ve=me.n()).done;){var he=ve.value,pe=he.columnKey,U=he.column_key,V=he.extendValue,re=he.extend_value;q["user_info_".concat((0,D.FI)(pe||U))]=V||re}}catch(ee){me.e(ee)}finally{me.f()}}}return(0,P.Z)((0,P.Z)((0,P.Z)({},$),q),b(z))});return Y}function g(w,Y){for(var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",H=w.slice(0).reverse(),Q=0;Q<H.length;Q+=1)for(var q=Q+1;q<H.length;q+=1)H[Q][Y]===H[q][Y]&&(H.splice(q,1),q-=1);return $==="right"?H.reverse():H}var h=e(17215),p=e(36202),A=e(6793),I=e(9925),K=e(6934),R=w=>({userInfo:w.user}),S=(0,c.forwardRef)((w,Y)=>{var $=w.tableUUID,H=w.withLoginPhoneNumber,Q=w.withCustomField,q=w.withLoginEmail,z=w.withJoinTime,le=w.onlyShowCurrentDept,se=(0,c.useState)([]),de=(0,E.Z)(se,2),me=de[0],ve=de[1],he=(0,c.useState)([]),pe=(0,E.Z)(he,2),U=pe[0],V=pe[1],re=(0,c.useState)(!1),ee=(0,E.Z)(re,2),ue=ee[0],ne=ee[1];$||console.error("tableUUID is required!!!"),(0,c.useImperativeHandle)(Y,()=>({getColumns:()=>me})),(0,c.useEffect)(()=>{function De(){return Re.apply(this,arguments)}function Re(){return Re=(0,N.Z)(s().mark(function xe(){var Se,Le,_e,fe,Ce;return s().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return ne(!0),Pe.next=3,(0,D.Kb)((0,h.h)());case 3:if(Se=Pe.sent,Le=(0,E.Z)(Se,2),_e=Le[0],fe=Le[1],!_e){Pe.next=10;break}return ne(!1),Pe.abrupt("return");case 10:Ce=fe.data,Q||(Ce=Ce.filter(Me=>Object.keys(Me)[0].indexOf("column")===-1)),q||(Ce=Ce.filter(Me=>Object.keys(Me)[0].indexOf("loginEmail")===-1)),z||(Ce=Ce.filter(Me=>Object.keys(Me)[0].indexOf("joinTime")===-1)),ne(!1),V(Ce);case 16:case"end":return Pe.stop()}},xe)})),Re.apply(this,arguments)}De()},[]),(0,c.useEffect)(()=>{var De=U.map((Se,Le)=>{var _e=(0,E.Z)(Array.from(Object.entries(Se))[0],2),fe=_e[0],Ce=_e[1];return w.nameColumn&&Le===0?w.nameColumn:fe==="name"?{title:Ce,dataIndex:"user_info_".concat(fe),key:"user_info_".concat(fe),width:150,fixed:"left",render:(Ee,Pe)=>y().createElement(O.Z,{title:y().createElement(I.Z,{userId:Pe.user_info.id,userName:Ee})},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Pe.user_info&&y().createElement(I.Z,{userId:Pe.user_info.id,userName:Ee}),!Pe.user_info&&Ee))}:fe==="deptName"||fe==="dept_name"?{title:Ce,dataIndex:"user_info_".concat(fe),key:"user_info_".concat(fe),width:150,fixed:"left",render:(Ee,Pe)=>{var Me=Pe.user_info,Ve=Me.department_infos,Fe=Me.department_info;return Ee?y().createElement(O.Z,{title:y().createElement(K.P,{allDepartmentsList:Ve||[]})},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},y().createElement(K.P,{allDepartmentsList:(le?Fe:Ve)||[]}))):"--"}}:fe==="joinTime"?{title:Ce,dataIndex:"user_info_".concat(fe),key:"user_info_".concat(fe),width:150,render:Ee=>y().createElement(O.Z,{title:Ee?(0,A.p6)(Ee,"yyyy-MM-dd hh:mm:ss"):"--"},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ee?(0,A.p6)(Ee,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:Ce,dataIndex:"user_info_".concat(fe),key:"user_info_".concat(fe),width:150,render:Ee=>y().createElement(O.Z,{title:Ee},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ee||"--"))}}),Re=w.columns.map(Se=>Se.dataIndex==="creator_user_name"?(0,P.Z)((0,P.Z)({},Se),{},{render:(Le,_e)=>y().createElement(O.Z,{title:y().createElement(I.Z,{userId:_e.creator_sync_user_id,userName:Le})},y().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},y().createElement(I.Z,{userId:_e.creator_sync_user_id,userName:Le})))}):Se),xe=w.headExtra.concat(De).concat(H?[{title:w.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:Se=>Se||"--"}]:[]).concat(Re);ve(xe)},[w.headExtra,w.columns,w.nameColumn,U,w.userInfo.appType]);var Oe=(0,c.useMemo)(()=>m(w.dataSource),[w.dataSource]);return y().createElement(o.Z,{spinning:ue},y().createElement(p.f,(0,F.Z)({scroll:{y:w.y||"100%",x:w.x||"max-content"}},w,{columns:me,dataSource:Oe})))});S.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var M=(0,W.$j)(R,null,null,{forwardRef:!0})((0,k.Z)("translation",{withRef:!0})(S))},17215:function(ce,J,e){"use strict";e.d(J,{h:function(){return F}});var L=e(37055),o=e(10237);function F(){var P=L.ZP.getUserInfoColumnConfig();return o.WY.get({url:P})}},60667:function(ce,J,e){"use strict";e.d(J,{Z:function(){return E}});var L=e(33565),o=e(12924),F=e.n(o),P=e(28216);function x(C){var s=C.type,c=C.openid,y=C.from,k=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{y==="vue"?window.parent.WWOpenData.bind(k.current):WWOpenData.bind(k.current)}),F().createElement("ww-open-data",{ref:k,type:s,openid:c})}var O=C=>{var s=C.wxWorkApiFlag,c=C.appType,y=C.from,k=(0,o.useState)(!1),W=(0,L.Z)(k,2),d=W[0],D=W[1];(0,o.useEffect)(()=>{var g=localStorage.getItem("qyWechatBook");(c!=="wx_app"||s||g==="false"||y==="vue"||y==="taro")&&D(!0)},[s,c,y]);var b=(0,o.useCallback)(()=>{var g=C.type,h=C.value,p=C.name,A=p===void 0?"":p;switch(console.warn(C,"props"),g){case"wx_sync":{var I=C.dataType;return h?F().createElement(x,{from:y,type:I,openid:h}):A}default:return A}},[C]),m=()=>{var g=C.name,h=C.dataType,p=localStorage.getItem("qyWechatBook");if(h===""||p==="false")return g;if(y==="vue"||y==="taro")return b();switch(C.appType){case"wx_app":return b();default:return g}};return d?m():C.name};O.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var N=C=>({appType:C.user.appType,wxWorkApiFlag:C.user.wxWorkApiFlag}),E=(0,P.$j)(N)(O)},6934:function(ce,J,e){"use strict";e.d(J,{P:function(){return b}});var L=e(12924),o=e.n(L),F=e(18446),P=e.n(F),x=e(57361),O=e(33565),N=e(9754),E=e.n(N),C=e(28216);function s(m){var g=m.openid,h=(0,L.useRef)(null);return(0,L.useLayoutEffect)(()=>{var p=window.parent.WWOpenData;p&&p.bind(h.current)}),o().createElement("ww-open-data",{ref:h,type:"departmentName",openid:g})}var c=e(14441),y=m=>{var g=m.separator,h=m.departmentIds,p=m.departmentNames,A=m.appType,I=(0,L.useState)([]),K=(0,O.Z)(I,2),R=K[0],S=K[1];(0,L.useEffect)(()=>{A==="wx_app"&&M()},[h]);function M(){return w.apply(this,arguments)}function w(){return w=(0,x.Z)(E().mark(function H(){var Q,q,z;return E().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,c.t)(h);case 2:Q=se.sent,q=Q.code,z=Q.data,q==="200000"&&z&&S(z);case 5:case"end":return se.stop()}},H)})),w.apply(this,arguments)}function Y(){return R.length?o().createElement(o().Fragment,null,R.map((H,Q)=>H.hasName?o().createElement(o().Fragment,null,H.name,Q===p.length-1?"":g):o().createElement(o().Fragment,null,o().createElement(s,{openid:H.thirdId}),Q===p.length-1?"":g," "))):null}function $(){var H="";return p.forEach((Q,q)=>{H+=Q+(q===p.length-1?"":g)}),o().createElement(o().Fragment,null,H)}switch(A){case"wx_app":return Y();default:return $()}};y.defaultProps={departmentIds:[],departmentNames:[],separator:","};var k=m=>({appType:m.user.appType}),W=o().memo((0,C.$j)(k)(y)),d=m=>{var g=m.allDepartmentsList,h=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},I=A.department_ids.split("/"),K=A.department_names.split("/");return o().createElement(W,{departmentNames:K,departmentIds:I,separator:"/"})};return g.length?o().createElement(o().Fragment,null,g.map((p,A)=>o().createElement("span",{key:p.department_ids},h(p),A===g.length-1?"":"\uFF0C"))):null};d.defaultProps={allDepartmentsList:[]};function D(m,g){return P()(m,g)}var b=o().memo(d,D)},48479:function(ce,J,e){"use strict";var L=e(62029),o=e(57361),F=e(47673),P=e(4107),x=e(9754),O=e.n(x),N=e(12924),E=e.n(N),C=e(91768),s=e(94184),c=e.n(s),y=e(28216),k=e(84874),W=e(67222),d=e(2396),D=P.Z.Search;class b extends E().Component{constructor(g){var h;super(g);h=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>E().createElement(k.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var p=(0,o.Z)(O().mark(function A(I){var K,R,S,M,w,Y,$,H,Q;return O().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(K=h.props,R=K.appType,S=K.exChange,M=K.appId,w=localStorage.getItem("qyWechatBook"),Y="",$=R==="wx_app"&&w==="true"&&S&&M==="9005",!(I&&$)){z.next=17;break}return z.prev=5,z.next=8,(0,W.F_)(I);case 8:H=z.sent,Q=H.data,Q.success?Y=Q.data:Y="",z.next=17;break;case 13:z.prev=13,z.t0=z.catch(5),console.error(z.t0),Y="";case 17:h.props.onSearch(I,Y);case 18:case"end":return z.stop()}},A,null,[[5,13]])}));return function(A){return p.apply(this,arguments)}}(),this.handleChange=p=>{var A=p.target.value,I=p.type,K=A;this.props.LimitLength&&(0,d.$s)(A)>this.props.LimitLength&&(K=A.substring(0,(0,d.rw)(A,this.props.LimitLength))),this.setState({searchValue:K});var R=!1;this.props.onSearch&&(I==="click"&&(R=!0),this.props.immediate&&I==="change"&&(R=!0)),R&&this.handleSearch(A)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(g){g.onRef&&g.onRef(this)}render(){var g=this.state.searchValue,h=this.props,p=h.prefixCls,A=h.placeholder,I=h.width,K=h.maxLength,R=K===void 0?400:K,S=h.height,M=h.immediate,w=h.value,Y=c()(["".concat(p)]),$={width:I,height:S},H={};return w&&(H.value=w),E().createElement(D,(0,L.Z)({className:Y,style:$,value:g,placeholder:A,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:R,allowClear:!0,defaultValue:w,immediate:M.toString()},H))}}b.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},J.Z=(0,y.$j)(m=>({appType:m.user.appType,appId:m.user.appId}))((0,C.Z)()(b))},9925:function(ce,J,e){"use strict";var L=e(57361),o=e(33565),F=e(9754),P=e.n(F),x=e(12924),O=e.n(x),N=e(28216),E=e(14441),C=c=>{var y=c.userId,k=c.userName,W=c.appType,d=(0,x.useRef)(null),D=(0,x.useState)(""),b=(0,o.Z)(D,2),m=b[0],g=b[1],h=(0,x.useState)(""),p=(0,o.Z)(h,2),A=p[0],I=p[1],K=(0,x.useState)(!0),R=(0,o.Z)(K,2),S=R[0],M=R[1];(0,x.useEffect)(()=>{W==="wx_app"&&(y?w():(console.warn("userId is required"),I(k)))},[y]);function w(){return Y.apply(this,arguments)}function Y(){return Y=(0,L.Z)(P().mark(function H(){var Q,q,z,le,se,de,me,ve,he,pe;return P().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,(0,E.v)(y);case 3:Q=V.sent,q=Q.code,z=Q.data,q==="200000"&&z&&(le=z.hasName,se=le===void 0?!0:le,de=z.sourceType,me=z.name,ve=me===void 0?"":me,he=z.thirdId,M(se),se?I(ve):de==="wx_sync"&&(g(he),pe=window.parent.WWOpenData,pe&&pe.bind(d.current))),V.next=12;break;case 8:V.prev=8,V.t0=V.catch(0),console.error(V.t0,"error"),I(k);case 12:case"end":return V.stop()}},H,null,[[0,8]])})),Y.apply(this,arguments)}function $(){return S?A:O().createElement("ww-open-data",{ref:d,type:"userName",openid:m})}switch(W){case"wx_app":return $();default:return k}};C.defaultProps={userName:""};var s=c=>({appType:c.user.appType});J.Z=O().memo((0,N.$j)(s)(C))},76466:function(ce,J,e){"use strict";e.d(J,{Z:function(){return mt}});var L=e(20228),o=e(11382),F=e(57663),P=e(71577),x=e(62029),O=e(57361),N=e(9754),E=e.n(N),C=e(12924),s=e.n(C),c=e(91512),y=e(68654),k=e(91768),W=e(4412),d=e.n(W);class D extends s().Component{render(){var r=this.props.t;return s().createElement("div",{className:"net-preview"},s().createElement("div",{className:"net-preview-center"},s().createElement("img",{src:d(),alt:"picture"}),s().createElement("h2",null,r("localStorage.tip")),s().createElement("p",null,r("localStorage.banPreview"))))}}var b=(0,k.Z)()(D),m=e(88986),g=e(34792),h=e(48086),p=e(28216),A=e(21594),I=e(41225),K=e(10237),R=(te,r)=>(0,m.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},r),S=R;class M extends C.Component{constructor(){super(...arguments);this.setupPlayer=r=>{var n=this.props,a=n.onVideoReady,t=a===void 0?()=>{}:a,i=n.playerConfig,l=n.contentType;r&&r==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,m.Z)((0,m.Z)({},i),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:i.source,autoplay:i.autoplay,width:i.width,id:i.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:u=>{u.on("sourceloaded",f=>{var v=f.paramData,B=v.desc,Z=v.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(B,Z,i.id)}),u.on("ready",()=>{t()}),this.playerInstance=u,this.setPlayerConfig()}}))}}componentDidUpdate(r){r.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(r){this.player&&this.player.seek(r)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(r){this.player.setSpeed(r)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var r=this.props,n=r.onPlay,a=n===void 0?()=>{}:n,t=r.onTimeUpDate,i=t===void 0?()=>{}:t,l=r.onEnd,u=l===void 0?()=>{}:l,f=r.onPause,v=f===void 0?()=>{}:f,B=r.onError,Z=B===void 0?()=>{}:B,j=this.playerInstance;j.on("play",()=>{a()}),j.on("pause",()=>{v()}),j.on("timeupdate",T=>{i(T)}),j.on("ended",()=>{u()}),j.on("error",(0,O.Z)(E().mark(function T(){return E().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:Z();case 1:case"end":return X.stop()}},T)})))}render(){var r=this.props.playerConfig;return s().createElement("div",{className:"common-video-player-container"},s().createElement("div",{id:r.id}))}}M.playerInstance=null,M.defaultProps={playerConfig:S(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var w=M,Y=(te,r)=>(0,m.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},r),$=Y;class H extends C.Component{constructor(){super(...arguments);this.setupPlayer=r=>{r&&r==="resetPlayer"&&this.player.dispose();var n=this.props,a=n.playerConfig,t=n.onVideoReady,i=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",u=>{var f=u.paramData,v=f.desc,B=f.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(v,B,a.id)})}),this.player.on("ready",()=>{i()})},this.setPlayerConfig=()=>{var r=this.props,n=r.onPlay,a=n===void 0?()=>{}:n,t=r.onTimeUpDate,i=t===void 0?()=>{}:t,l=r.onEnd,u=l===void 0?()=>{}:l,f=r.onPause,v=f===void 0?()=>{}:f,B=r.onError,Z=B===void 0?()=>{}:B;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{v()}),this.player.on("timeupdate",j=>{i(j)}),this.player.on("ended",()=>{u()}),this.player.on("error",(0,O.Z)(E().mark(function j(){return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:Z();case 1:case"end":return _.stop()}},j)})))},this.getPlayerContent=r=>{this.playerContainer=r}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(r){r.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(r){this.player.seek(r)}exitFull(){var r=this.player.fullscreenService;r&&r.isFullScreen&&r.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var r=this.props.playerConfig;return s().createElement("div",{className:"common-video-player-container"},s().createElement("div",{id:r.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}H.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:$()};var Q=H;class q{constructor(r){this.hasCreated=!1,this.definition="",this.getQuality=r}createEl(r,n){var a=n._options&&n._options.language,t=n._el.id;this.isEn=a&&a==="en-us";var i=(0,A.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,A.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),u=document.querySelector("#".concat(t," .prism-controlbar"));u.appendChild(i),r.appendChild(l)}setCurrentQuality(r,n,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=r,t.dataset.def=n,this.definition=n;var i=document.querySelector("#".concat(a," .quality-list")),l=i.querySelector(".current");l&&(l.className="");var u=i.querySelector('li[data-def="'.concat(n,'"]'));u&&(u.className="current")}created(r){this._urls=r._urls;var n=r._el.id,a=document.querySelector("#".concat(n," .current-quality")),t=document.querySelector("#".concat(n," .quality-list")),i=document.querySelector("#".concat(n," .quality-modal")),l=this._urls.map(v=>'<li data-def="'.concat(v.definition,'">').concat(v.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var u=t.querySelector('li[data-def="'.concat(this.definition,'"]'));u.className="current"}this.hasCreated=!0;var f=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{f=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(f)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=v=>{var B=v.target,Z=B.dataset.def,j=B.innerText;if(Z&&B.className!=="current"){var T=this._urls.find(_=>_.definition===Z);r.loadByUrl(T.Url,r.getCurrentTime(),!0,!0),this.setCurrentQuality(T.desc,T.definition,n),i.style.display="block",i.querySelector("span.current-quality-tag").innerText=T.desc}this.getQuality(Z,j)}}ready(r){var n=r._el.id,a=document.querySelector("#".concat(n," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(n," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class z{createEl(r,n){var a=n._el.id,t=(0,A.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),i=document.querySelector("#".concat(a," .prism-controlbar"));i.appendChild(t)}ready(r){var n=r._el.id,a=document.querySelector("#".concat(n," .current-rate")),t=document.querySelector("#".concat(n," .rate-list")),i=null,l=document.querySelector("#".concat(n," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{i=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(i)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=u=>{var f=u.target,v=f.dataset.rate;if(v){if(r.setSpeed(v),f.className!=="current"){var B=t.querySelector(".current");B&&(B.className=""),f.className="current"}t.style.display="none",a.innerText="".concat(v,"x")}}}}var le=e(69164),se=e(37055);function de(te){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=se.ZP.local.getLocalUrl(te);return K.WY.get({url:n,params:r})}var me=e(91648),ve=e(18329),he=e(38642),pe=e(9849),U=e(99891);class V extends C.Component{constructor(r){super();this.WaterMarkText=r,this.html=document.getElementsByClassName("common-watermark")}createEl(r){setTimeout(()=>{r.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var re=V,ee=te=>({userInfo:te.user});class ue extends C.Component{constructor(r){var n;super(r);n=this,this.onVideoReady=a=>{var t=this.props,i=t.resourceInfo,l=t.mode,u=t.autoPlay,f=t.t,v=i.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&u&&this.play.play()):v==="ALIBABA_PRIVATE"||v==="LOCAL"?this.updateSource("resetPlayer"):(K.WY.logger({keyword:"video",moduleName:"video-play",msg:f("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,i=a.mode,l=a.t,u=a.studyInfo,f=a.needCurrentTime,v=a.onCurrentTime,B=v===void 0?()=>{}:v,Z=u.studyType,j=u.studyId,T=u.resourceId,_=this.state,X=_.showPreventHang,ae=_.dragSwitch,ie=_.showRandomAlert,oe=_.randomAlertDialogVisible,G=this.playingVideo,we=G.oneTime,Ie=G.popupWindowCount,Te=G.maxPlayTime,We=G.progress,Ne=G.auditionLength,Ue=G.auditionType,Ze=G.duration,ke=G.recentStart,ye=this.play.getCurrentTime(),ge=(X==="OPEN"||ie==="OPEN")&&Ie>0;if(f&&B(ye),Ne>0&&Ue===2&&ye>Ne&&(this.play.seek(Ne),h.default.warning(l("component.haveALookOverTip")),this.play.pause()),i==="learn"&&ge){var be=Ze-we*Ie;if(Ie>0&&ye>be)if(this.play.pause(),ie==="OPEN"){if(!oe){var Be=(0,me.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Be},()=>{(0,I.qp)({popupId:Be,planId:j,resourceId:T,type:"popup_start"})}),this.play.exitFull()}}else X==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||We===100)&&(ye>0&&(this.playingVideo.recentStart=ye),!((Z==="enterprise"||Z==="studyProject")&&ae==="OPEN")))return!1;ye>Te?ye-ke>2?(this.playingVideo.recentStart=Te,this.play.seek(Te),h.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ye,this.playingVideo.maxPlayTime=ye):ye>0&&ye>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ye)},this.onPlay=()=>{var a=this.props,t=a.mode,i=a.onPlay,l=i===void 0?()=>{}:i;l();var u=this;t==="learn"&&!u.timer&&(u.timer=setTimeout(function f(){u.saveProgress(),clearTimeout(u.timer),u.timer=setTimeout(f,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,i=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,i==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,i=t.storageType;(i==="ALIBABA_PRIVATE"||i==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,i=a.showRandomAlert,l=this.props,u=l.t,f=l.playingVideo,v=l.studyInfo,B=l.autoPlay,Z=f.recentStart,j=f.duration,T=f.progress,_=v.studyType,X=(t==="OPEN"||i==="OPEN")&&(_==="studyTask"||_==="enterprise"||_==="studyProject")&&T<100;X?(i==="OPEN"?this.setState({promptMessage:u("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:u("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):B&&(this.play.play(),Math.ceil(Z)<parseInt(j)&&this.play.seek(Z))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,i=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,i>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,i>=2*l?this.playingVideo.popupWindowCount=0:i>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,i>=3*l?this.playingVideo.popupWindowCount=0:i>=2*l?this.playingVideo.popupWindowCount=1:i>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,i=a.mode;if(i==="learn"){this.playingVideo=(0,m.Z)({},t);var l=t.duration,u=t.progress;this.playingVideo.hasFinished=parseInt(u)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(u)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,O.Z)(E().mark(function a(){var t,i,l,u,f,v,B,Z,j,T,_,X,ae,ie,oe,G,we,Ie,Te,We,Ne,Ue,Ze,ke;return E().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(t=n.state,i=t.speedSwitch,l=t.dragSwitch,u=t.whiteList,f=n.props,v=f.resourceInfo,B=f.showQuality,Z=v.contentType,j=v.storageType,T=v.source,_=v.playId,X=v.playerId,ae=v.showFullScreen,ie=ae===void 0?!0:ae,oe=$(X),oe.components=[],G=typeof T=="object"&&T.hasOwnProperty("FD")&&T.FD.indexOf("m3u8")===-1,B&&G&&Z!=="mp3"&&(j&&j==="PUBLIC_CLOUD"||!j)&&oe.components.push({name:"VideoQuality",type:q,args:[()=>{n.play.pause(),n.playingVideo.readyCount=0}]}),i==="OPEN"&&oe.components.push({name:"VideoRate",type:z}),ie&&(we=oe.skinLayout.find(be=>be.name==="controlBar"),we&&we.children.splice(we.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),oe.components.push({name:"VideoWaterMark",type:re}),Ie=T.FD,Te=T.OD,Ie.indexOf("http://")>-1&&(Ie=Ie.replace("http://","https://")),Te.indexOf("http://")>-1&&(Te=Te.replace("http://","https://")),We=u.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",T.OD=Te&&Te.indexOf(We)>-1&&Te.indexOf(".mp4")>-1?Te:Ie,T.FD=Ie,Ne=typeof T!="string"?JSON.stringify(T):T,oe.source=Ne,l==="OPEN"&&(oe.disableSeek=!0),j!=="ALIBABA_PRIVATE"){ge.next=32;break}return ge.next=22,(0,I.BR)(_);case 22:if(Ue=ge.sent,!Ue){ge.next=28;break}oe.source=Ue,oe.vodRetry=1,ge.next=30;break;case 28:return n.setState({showPrivateVodError:!0}),ge.abrupt("return");case 30:ge.next=38;break;case 32:if(j!=="LOCAL"){ge.next=38;break}return ge.next=35,de(_);case 35:Ze=ge.sent,ke=Ze.data,ke.code===0&&(oe.source="".concat(T.FD,"?auth_key=").concat(ke.data.auth_key),oe.vodRetry=1);case 38:n.setState({playerConfig:oe});case 39:case"end":return ge.stop()}},a)})),this.updateSource=function(){var a=(0,O.Z)(E().mark(function t(i){var l,u,f,v,B,Z,j,T;return E().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(l=n.state.playerConfig,u=n.props.resourceInfo,f=u.storageType,v=u.source,B=u.playId,n.playingVideo.readyCount=0,f!=="ALIBABA_PRIVATE"){X.next=16;break}return X.next=7,(0,I.BR)(B);case 7:if(Z=X.sent,!Z){X.next=12;break}Object.assign(l,{source:Z,vodRetry:1}),X.next=14;break;case 12:return n.setState({showPrivateVodError:!0}),X.abrupt("return");case 14:X.next=22;break;case 16:if(f!=="LOCAL"){X.next=22;break}return X.next=19,de(B);case 19:j=X.sent,T=j.data,T.code===0&&Object.assign(l,{source:"".concat(v.FD,"?auth_key=").concat(T.data.auth_key),vodRetry:1});case 22:n.setState({playerConfig:l},()=>{n.play.setupPlayer(i)});case 23:case"end":return X.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,i=a.userInfo,l=i.isLogin,u=i.enterpriseId,f=i.id,v=this.playingVideo,B=v.recentStart,Z=v.duration,j=v.hasFinished,T=Math.ceil(+B);T>Number(Z)&&(T=Number(Z));var _=Math.ceil(T/+Z*100);if((_>100||j)&&(_=100),l){var X=this.playingVideo,ae=X.auditionType,ie=X.auditionLength;if(ie>0&&ae===2){var oe=Math.ceil(ie/Z*100);oe<=_&&(_=oe,T=ie)}(0,I.sH)({studyInfo:t,progress:_,recent_start:T,enterpriseId:u,userId:f}).then(G=>{G&&G.data&&(0,le.Z)(G.data.integral_info||"")})}},this.getInfoFromSettings=(0,O.Z)(E().mark(function a(){var t,i,l,u,f,v,B,Z,j;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return t=n.props.studyInfo,i=t.studyType,l=t.projectId,_.next=4,(0,I.Gw)();case 4:if(u=_.sent,f=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],v=(0,A.RG)(u,f),i!=="studyProject"){_.next=14;break}return _.next=10,(0,pe.NU)({id:l});case 10:B=_.sent,Z=B.status,j=B.data,Z===200&&(v.showPreventHang=j.prevent_cut_screen?"OPEN":"CLOSED",v.speedSwitch=j.speed_play?"OPEN":"CLOSED",v.dragSwitch=j.prevent_drag?"OPEN":"CLOSED");case 14:n.setState(v,()=>{n.dealVideoConfig()});case 15:case"end":return _.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,i=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:i("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,O.Z)(E().mark(function a(){var t,i,l,u;return E().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:t=n.props.studyInfo,i=t.studyId,l=t.resourceId,u=n.state.randomAlertUUID,(0,I.qp)({popupId:u,planId:i,resourceId:l,type:"popup_end"}).then(()=>{n.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),n.playingVideo.popupWindowCount-=1,n.play.play();case 6:case"end":return v.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return s().createElement(P.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return s().createElement(P.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:$(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:r.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:r.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:r.t("component.randomAlertTip"),randomAlertModal:{title:r.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,he.UI)("CL_VIDEO_BAIYING_COM_CN")}},r.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(r){var n=typeof r.resourceInfo.source!="string"?JSON.stringify(r.resourceInfo.source):r.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;n!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var r=this.props.mode;r==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var r=this.state,n=r.playerConfig,a=r.showPrivateVodError,t=r.dialogVisible,i=r.dialogModal,l=r.promptMessage,u=r.randomAlertDialogVisible,f=r.randomAlertModal,v=r.randomAlertTip,B=r.encryptedSwitch,Z=this.props,j=Z.resourceInfo,T=Z.t,_=B==="OPEN"?w:Q;return s().createElement(C.Fragment,null,s().createElement(_,(0,x.Z)({ref:this.getPlayInstance},j,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:n,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),s().createElement(ve.ZP,(0,x.Z)({visible:t},i,{footer:this.renderFooter()}),s().createElement("div",{className:"video-business-prompt"},l)),s().createElement(ve.ZP,(0,x.Z)({visible:u},f,{footer:this.renderRandomFooter()}),s().createElement("div",{className:"video-player-container__prompt"},v)),a&&s().createElement("div",{className:"video-business-vod-error"},T("privateCloud.docReadError")),s().createElement(U.Z,{scenes:"video"}))}}var ne=(0,p.$j)(ee,null,null,{forwardRef:!0})((0,k.Z)("translation",{withRef:!0})(ue)),Oe=e(94184),De=e.n(Oe),Re=e(84874),xe=te=>({userInfo:te.user}),Se={getPravateDocUrl:se.ZP.localStorage.getPravateDocUrl};function Le(te){return JSON.stringify(te,(r,n)=>(typeof n=="function"&&(n=n.toString()),n))}function _e(te){var r=parseInt(parseInt(te,10)/60,10),n=parseInt(parseInt(te,10)%60,10);return r<10&&(r="0".concat(r)),n<10&&(n="0".concat(n)),"".concat(r,":").concat(n)}class fe extends C.Component{constructor(r){var n;super(r);n=this,this.messageFun=a=>{var t=this.props,i=t.docType,l=t.progress,u=t.studyTimeLimit,f=t.studyTime,v=this.state,B=v.jumpPageTag,Z=v.totalTime,j=v.timeRemaining,T=this.state.previewDocData,_={};try{_=JSON.parse(a.data)}catch(X){return}switch(_.action){case"preview.ready":this.initDocData();break;case"preview.meta":T.totalPage=_.data.pc||1,T.currentPage=1,this.setState({previewDocData:T},()=>{this.reportStatusInterval()}),u>0?(this.saveProgress(l,f||"1",_.data.pc||1),this.setState({showCountDownContainer:!0})):i==="xlsx"||i==="xls"||T.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,f||"1",_.data.pc||1),u>0&&l<100?(this.setState({showCountDown:!0}),i==="xlsx"||i==="xls"?Z=u:Z=u*_.data.pc,j=parseInt(Z*(1-l/100),10),this.setState({timeRemaining:j,totalTime:Z},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(B){B=!1,this.setState({jumpPageTag:B});return}T.currentPage=_.data.pageIndex+1,this.setState({previewDocData:T}),u||this.saveProgress(Math.ceil(T.currentPage/T.totalPage*100),T.currentPage,T.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":h.default.error(_.data.result);break;default:break}},this.initDocData=(0,O.Z)(E().mark(function a(){var t,i,l,u,f,v,B,Z,j,T,_,X,ae,ie;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(n.setState({isShowPrivateError:!1}),t=n.props,i=t.docType,l=t.userInfo,u=t.documentWatermarkSettings,f=t.storageType,v=t.privateDocId,B=l.name,Z=l.jobNumber,j=l.position,T="",_={},f!=="ALIBABA_PRIVATE"){G.next=18;break}return G.prev=6,X=Se.getPravateDocUrl(v),G.next=10,K.WY.get({url:X});case 10:ae=G.sent,ie=ae.data,ie.code===0?_=ie.data||{}:n.setState({isShowPrivateError:!0}),G.next=18;break;case 15:G.prev=15,G.t0=G.catch(6),n.setState({isShowPrivateError:!0});case 18:if(u.indexOf("name")>-1&&(T="".concat(T+B," ")),u.indexOf("position")>-1&&(T="".concat(T+j," ")),u.indexOf("jobnumber")>-1&&(T+=Z),T.length>0?window.sendMessage("preview.init",(0,m.Z)({wmType:1,wmValue:T,wmColor:"rgba(192, 192, 192, 0.4)"},_)):window.sendMessage("preview.init",(0,m.Z)({},_)),i!=="xlsx"&&i!=="ppt"&&i!=="pptx"&&i!=="xls"?n.setState({pageOperateContainerVisible:!0}):n.setState({pageOperateContainerVisible:!1}),!(i==="ppt"||i==="pptx")){G.next=29;break}G.t1=window,G.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},G.t1.sendMessage.call(G.t1,"setConfig",G.t2),G.next=32;break;case 29:G.t3=window,G.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},G.t3.sendMessage.call(G.t3,"setConfig",G.t4);case 32:case"end":return G.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var i=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(i),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,i=a.studyTime,l=0;t===0&&(l=i-1>0?i-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,i=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var u=(i-a)/i*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(u),a,l.totalPage)},2e4)},this.saveProgress=(a,t,i)=>{var l=this.props.onSaveProgress;l&&l(a,t,i)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(r,n)=>{var a=this.docReader.contentWindow;a.postMessage(Le({action:r,data:n}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var r=this.props,n=r.t,a=r.storageType,t=r.privateDocId,i=this.props.aliUrl,l=this.state,u=l.previewDocData,f=l.pageOperateContainerVisible,v=l.timeRemaining,B=l.showCountDown,Z=l.showCountDownContainer,j=l.showPageOperateContainer,T=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(i="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),s().createElement("div",{className:"doc-reader-container"},s().createElement("div",{className:"ali-doc-container",style:{paddingBottom:f?"56px":"0"}},s().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:i,id:"aliyunPreview",ref:this.dealPreviewRef}),Z?s().createElement("div",{className:"ali-doc-container__countdown"},B?s().createElement("div",null,s().createElement(Re.Z,{iconClass:"iconf-tipe",size:"16px"}),n("component.docStillStudy"),s().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",_e(v)," "),n("component.canDone")):s().createElement("div",null,s().createElement(Re.Z,{iconClass:"iconf-tipe",size:"16px"}),n("component.docHasFinish"))):null,f?s().createElement("div",{className:"ali-doc__operate"},s().createElement("div",{className:De()(["ali-doc__operate__content",j?"":"ali-doc__operate__hide-content"])},s().createElement("div",{className:"ali-doc__operate__pagination"},s().createElement("div",{className:"ali-doc__operate__pagination__pages"},u.currentPage," / ",u.totalPage),s().createElement("div",{className:"ali-doc__operate__pagination__toggle"},s().createElement("div",{className:"ali-doc__operate__pagination__choose"},s().createElement("span",null,n("component.choosePage"),s().createElement(Re.Z,{iconClass:"iconf-arrow-under",size:"14px"})),s().createElement("div",{className:"ali-doc__operate__page-list-container"},s().createElement("div",{className:"ali-doc__operate__choose-page"},n("component.fastChoosePage")),s().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:u.totalPage})).map((_,X)=>s().createElement("li",{key:_,onClick:()=>this.handleJumpPage(X+1)},X+1))))),s().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},n("common.collapse"))))),s().createElement("div",{className:De()("ali-doc__operate__unfold",j?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},n("common.expand"))):null,T&&s().createElement("div",{className:"ali-doc__error"},n("privateCloud.docReadError"))),s().createElement(U.Z,{scenes:"document"}))}}fe.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Ce=(0,p.$j)(xe)((0,k.Z)()(fe)),Ee=te=>({userInfo:te.user}),Pe="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Me="".concat("https://doc.coolcollege.cn");class Ve extends s().Component{constructor(r){var n;super(r);n=this,this.onSaveProgress=(a,t,i)=>{var l=this.props,u=l.mode,f=l.studyInfo,v=l.userInfo,B=v.enterpriseId,Z=v.id;u==="learn"&&(0,I.sH)({studyInfo:f,progress:a,page_count:i,recent_start:t,enterpriseId:B,userId:Z}).then(j=>{j&&j.data&&(0,le.Z)(j.data.integral_info||"")})},this.messageFun=function(){var a=(0,O.Z)(E().mark(function t(i){var l,u,f,v,B,Z;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(i.data!=="local-resource"){T.next=9;break}if(l=n.props.resourceInfo,u=l.storageType,f=l.playId,!(u&&u==="LOCAL")){T.next=9;break}return T.next=6,de(f);case 6:v=T.sent,B=v.data,B.code===0&&(Z=document.getElementById("local-resource-box"),Z.contentWindow.postMessage({msg:"local-auth-key",authKey:B.data.auth_key},"*"));case 9:case"end":return T.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,O.Z)(E().mark(function a(){var t,i,l;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,I.Gw)();case 2:t=f.sent,i=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,A.RG)(t,i),n.setState(l,()=>{n.initDocPage(n.props)});case 6:case"end":return f.stop()}},a)})),this.initDocPage=(0,O.Z)(E().mark(function a(){var t,i,l,u,f,v,B,Z,j,T,_,X,ae,ie,oe,G,we,Ie,Te,We,Ne,Ue,Ze,ke,ye,ge,be,Be,Je,je,Ke,$e,He,Xe,Ye=arguments;return E().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(t=Ye.length>0&&Ye[0]!==void 0?Ye[0]:{},i=t.resourceInfo,l=t.mode,u=t.studyInfo,f=t.userInfo,v=n.state.documentPlayerMode,B=i.docType,Z=i.docTitle,j=i.url,T=i.studyTimeLimit,_=i.studyTime,X=i.aliUrl,ae=i.progress,ie=i.storageType,oe=i.playId,G=u.studyType,we=u.courseId,Ie=u.studyId,Te=u.resourceId,We=f.enterpriseId,Ne=f.id,Ue=f.isLogin,Ze=f.token,ke=v==="compat"&&X.indexOf("preview.imm.aliyun")>-1||ie==="ALIBABA_PRIVATE",!ke){Ae.next=11;break}n.setState({showAliReader:!0}),Ae.next=31;break;case 11:if(ye=(0,I.sH)({enterpriseId:We,userId:Ne,token:Ze,studyInfo:u},!0),ge=G==="studyTask"?2:1,be=se.ZP.SaveProgress.reportStatusInterval(u),Be={isSaveProgress:Ue&&l==="learn"&&ye,isSaveRecord:!1,access_token:Ze,userId:Ne,hostUrl:Pe,courseId:we,resourceId:Te,courseType:1,planId:Ie,studyTimeLimit:T,studyTime:_,saveProgressUrl:ye,type:"eapp",progress:ae,saveRecordProgressUrl:be,actionType:ge},!(ie&&ie==="LOCAL")){Ae.next=26;break}return Ae.next=18,de(oe);case 18:if(Je=Ae.sent,je=Je.data,je.code!==0){Ae.next=25;break}Be.auth_key=je.data.auth_key,Be.url=j,Ae.next=26;break;case 25:return Ae.abrupt("return");case 26:Ke=JSON.stringify(Be),$e="".concat(Z,".").concat(B).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),He="".concat(Me,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Ke),"&furl=").concat(j,"?attname=").concat($e),ie&&ie==="LOCAL"&&(Xe="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),He="".concat(Xe,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(Ke),"&furl=").concat(j,"?attname=").concat($e)),n.setState({encodeUrl:He});case 31:case"end":return Ae.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,i=this.props,l=i.resourceInfo,u=i.mode,f=i.studyInfo,v=i.userInfo,B=l.type,Z=f.courseId,j=f.studyId,T=f.resourceId,_=v.enterpriseId,X=v.id,ae=v.isLogin,ie="",oe="",G=0,we=!1;switch(B){case"enterprise":G=1,we=!0;break;case"study":ie=j,G=2,we=!0;break;case"project":oe=j,G=1,we=!0;break;default:break}if(!(!we||!ae)){var Ie={plan_id:ie,enterprise_id:_,user_id:X,course_id:Z,project_course_id:oe,resource_id:T,current_page:t,action_type:G,send_time:Date.parse(new Date)};u==="learn"&&(0,I.Xc)(f,Ie)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(r){this.initDocPage(r)}render(){var r=this.props.resourceInfo,n=this.state,a=n.encodeUrl,t=n.documentWatermarkSettings,i=n.showAliReader,l=r.docType,u=r.type,f=r.studyTimeLimit,v=r.studyTime,B=r.aliUrl,Z=r.progress,j=r.storageType,T=r.playId;return i?s().createElement(Ce,{privateDocId:T,storageType:j,aliUrl:B,docType:l,progress:Z,studyTime:v,studyTimeLimit:f,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:u}):s().createElement("div",{className:"doc-reader-container"},s().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),s().createElement(U.Z,{scenes:"document"}))}}var Fe=(0,p.$j)(Ee)(Ve),ht=e(38979),qe=e(90706),vt=e(12968),et=e(44208),ze=e(60667),tt=te=>({userInfo:te.user});class Qe extends s().Component{constructor(){var r;super(...arguments);r=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var n=this.props,a=n.studyInfo,t=n.mode,i=n.userInfo,l=i.enterpriseId,u=i.id;t==="learn"&&(0,A.Gp)({studyInfo:a,enterpriseId:l,userId:u})},this.getInfoFromSettings=(0,O.Z)(E().mark(function n(){var a,t,i;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,I.Gw)();case 2:a=u.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],i=(0,A.RG)(a,t),r.setState(i,()=>{r.renderWatermark()});case 6:case"end":return u.stop()}},n)})),this.renderWatermark=()=>{var n=this.props.userInfo,a=this.state.imageWatermark,t=n.name,i=n.unionid,l=n.sourceType,u=n.jobNumber,f=n.position,v=[];a.indexOf("name")>-1&&v.push(s().createElement(ze.Z,{dataType:"userName",value:i,name:t,type:l})),a.indexOf("position")>-1&&v.push(s().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&v.push(s().createElement("span",null,u)),a.length>0&&this.setState({watermark:v.map((B,Z)=>s().createElement("span",{key:Z},B))})},this.handleError=n=>{var a=this.props.onError;a&&a(n)},this.getImageUrl=(0,O.Z)(E().mark(function n(){var a,t,i,l,u,f,v,B,Z,j;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a=r.props,t=a.resourceInfo,i=a.t,l=t.playId,u=t.url,f=t.storageType,v=u,!f){_.next=21;break}if(f!=="ALIBABA_PRIVATE"){_.next=15;break}return _.next=7,(0,I.J7)(l);case 7:if(B=_.sent,!B){_.next=12;break}v=B,_.next=13;break;case 12:return _.abrupt("return",h.default.info(i("privateCloud.docReadError")));case 13:_.next=21;break;case 15:if(f!=="LOCAL"){_.next=21;break}return _.next=18,de(l);case 18:Z=_.sent,j=Z.data,j.code===0&&(v="".concat(u,"?auth_key=").concat(j.data.auth_key));case 21:r.setState({imageUrl:[v]},()=>{var X=r.state.imageUrl,ae="image-business",ie=document.querySelectorAll(".".concat(ae,"-image img"));ie.forEach((oe,G)=>{oe.onerror=()=>{r.handleError(X[G])}})});case 22:case"end":return _.stop()}},n)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var r="image-business",n=this.props.resourceInfo,a=n.preview,t=a===void 0?!1:a,i=this.state,l=i.watermark,u=i.imageUrl;return s().createElement("div",{className:r},s().createElement(U.Z,{scenes:"image"}),s().createElement(qe.Z,{className:"".concat(r,"-carousel")},u.map((f,v)=>s().createElement("div",{className:"".concat(r,"-image"),key:v.toString()},s().createElement(et.Z,{src:f,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Qe.defaultProps={prefixCls:"watch-image-page"};var at=(0,p.$j)(tt)((0,k.Z)()(Qe)),rt=te=>({userInfo:te.user});class nt extends s().Component{constructor(){var r;super(...arguments);r=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,O.Z)(E().mark(function n(){var a,t,i;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,I.Gw)();case 2:a=u.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],i=(0,A.RG)(a,t),r.setState(i,()=>{r.renderWatermark()});case 6:case"end":return u.stop()}},n)})),this.renderWatermark=()=>{var n=this.props.userInfo,a=this.state.htmlWatermark,t=n.name,i=n.unionid,l=n.sourceType,u=n.jobNumber,f=n.position,v=[];a.indexOf("name")>-1&&v.push(s().createElement(ze.Z,{dataType:"userName",value:i,name:t,type:l})),a.indexOf("position")>-1&&v.push(s().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&v.push(s().createElement("span",null,u)),a.length>0&&this.setState({watermark:v.map((B,Z)=>s().createElement("span",{key:Z},B))})},this.saveProgress=()=>{var n=this.props,a=n.studyInfo,t=n.mode,i=n.userInfo,l=i.enterpriseId,u=i.id;t==="learn"&&(0,A.Gp)({studyInfo:a,enterpriseId:l,userId:u})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var r="html-business",n=this.props.resourceInfo,a=n.url,t=this.state.watermark;return s().createElement("div",{className:r},s().createElement("div",{className:"".concat(r,"__html-watermark")},t),s().createElement("iframe",{title:"html",className:"".concat(r,"_iframe"),src:a}))}}var st=(0,p.$j)(rt)((0,k.Z)()(nt)),it=e(57068),ot=e(1164),lt=te=>({userInfo:te.user});class ut extends s().PureComponent{constructor(){super(...arguments);this.getHost=r=>{var n=r.split("//"),a=n[1].split("/");return[n[0],a[0]].join("//")},this.getScormUrl=()=>{var r=this.props,n=r.studyInfo,a=r.mode,t=r.userInfo,i=r.resourceInfo,l=r.from,u=t.enterpriseId,f=t.id,v=i.url,B=this.getHost(v);if(a==="learn"){var Z=(0,m.Z)({userId:f,enterpriseId:u,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(v),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},n);return"".concat(B).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(it.stringify(Z))}return"".concat(B,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(v))},this.handleOpenScormLink=r=>{ot.Z.targetTo({path:r,isExternalLink:!0})}}render(){var r=this.props.t,n="scorm-business",a=this.getScormUrl(),t=(0,he.UI)("SCORM_EXTERNAL_WATCH");return s().createElement("div",{className:n},t?s().createElement("div",{className:"".concat(n,"_scorm")},s().createElement("img",{className:"".concat(n,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),s().createElement("h5",null,r("resourcePlay.scormTip")),s().createElement(P.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},r("resourceLibrary.h5LinkPlayButton"))):s().createElement("iframe",{title:"scorm",className:"".concat(n,"_iframe"),src:a}))}}var ct=(0,p.$j)(lt)((0,k.Z)()(ut));class dt extends s().Component{render(){var r=this.props,n=r.visible,a=r.title,t=r.onCancel,i=r.t,l=s().createElement("span",null,a);return s().createElement(ve.ZP,{visible:n,title:l,onCancel:t,footer:null},s().createElement("div",{className:"ban-preview"},s().createElement("div",{className:"ban-preview-center"},s().createElement("img",{src:d(),alt:"picture"}),s().createElement("h2",null,i("localStorage.tip")),s().createElement("p",null,i("localStorage.banPreview"))),s().createElement("hr",null),s().createElement(P.Z,{type:"primary",className:"know",onClick:t},i("localStorage.onKnow"))))}}var pt=(0,k.Z)()(dt);class Ge extends C.Component{constructor(){var r;super(...arguments);r=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=n=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(n)},this.onGetVideoBusiness=n=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=n,t(n)},this.onFullScreen=()=>{var n=this.state.fullScreen;this.setState({fullScreen:!n})},this.handleJudgeNetwork=(0,O.Z)(E().mark(function n(){var a,t,i,l,u,f,v,B,Z,j,T,_=arguments;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a=_.length>0&&_[0]!==void 0?_[0]:null,t=r.props,i=t.resourceInfo,l=t.watchType,u=i.storageType,f=i.playId,v=i.originUrl,B=l==="image"||l==="video"||l==="doc",Z=null,a?Z=a:v?Z=v:Z=i.url,!(B&&Z&&f&&u&&u==="LOCAL")){ae.next=22;break}return ae.prev=7,ae.next=10,(0,I.NY)(f);case 10:return j=ae.sent,ae.next=13,(0,I.Hy)(Z,j);case 13:T=ae.sent,T?r.setState({showBan:"no"}):r.setState({showBan:"yes"}),ae.next=20;break;case 17:ae.prev=17,ae.t0=ae.catch(7),r.setState({showBan:"yes"});case 20:ae.next=23;break;case 22:r.setState({showBan:"no"});case 23:case"end":return ae.stop()}},n,null,[[7,17]])})),this.renderOuter=()=>{var n=this.props,a=n.prefixCls,t=n.watchType,i=n.onCurrentTime,l=i===void 0?()=>{}:i;return s().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&s().createElement(ne,(0,x.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&s().createElement(Fe,this.props),t==="image"&&s().createElement(at,(0,x.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&s().createElement(st,this.props),t==="scorm"&&s().createElement(ct,this.props))},this.renderFooter=()=>{var n=this.props,a=n.resourceInfo.storageType,t=n.t,i=this.state.showBan,l=i!==""&&i==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?s().createElement(P.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var r=this.props.mode;r==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(r){r.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var r=this.state,n=r.showBan,a=r.fullScreen,t=this.props,i=t.mode,l=t.previewWay,u=t.previewInfo,f=t.prefixCls,v=t.t,B=t.showEnlarge,Z=t.footer,j=Z===void 0?null:Z,T=u.visible,_=u.destroyOnClose,X=u.title,ae=n!==""&&n==="yes",ie=n!==""&&n==="no";return s().createElement(C.Fragment,null,i==="preview"&&l==="popups"&&s().createElement(ve.ZP,{destroyOnClose:_,visible:T,title:X,onCancel:this.onCancelModel,footer:j||this.renderFooter(),wrapClassName:"".concat(f,"-resource ").concat(a?"".concat(f,"-full"):"")},B&&s().createElement("div",{className:"".concat(f,"-resource-out-icon"),onClick:this.onFullScreen},a?s().createElement(c.Z,{className:"".concat(f,"-resource-icon")}):s().createElement(y.Z,{className:"".concat(f,"-resource-icon")})),s().createElement("div",{className:"".concat(f,"-inner")},!T&&s().createElement(o.Z,{size:"large"}),T&&ie&&this.renderOuter(),ae&&s().createElement(b,null))),(i==="learn"||l==="page")&&ie&&this.renderOuter(),(i==="learn"||l==="page")&&s().createElement(pt,{visible:ae,title:X||v("questionn.warmHint"),onCancel:this.onCancel}))}}Ge.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var mt=(0,k.Z)("translation",{withRef:!0})(Ge)},41225:function(ce,J,e){"use strict";e.d(J,{Hy:function(){return O},NY:function(){return N},Gw:function(){return E},sH:function(){return c},BR:function(){return C},qp:function(){return y},Xc:function(){return k},J7:function(){return s}});var L=e(57361),o=e(9754),F=e.n(o),P=e(10237),x=e(37055),O=function(){var W=(0,L.Z)(F().mark(function d(){var D,b,m,g,h,p,A,I=arguments;return F().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return D=I.length>0&&I[0]!==void 0?I[0]:"",b=I.length>1&&I[1]!==void 0?I[1]:"",m="",D.startsWith("http")?(g=D.split("//")[1].trim(),h=g.split("/")[0],m="https://".concat(h,"/cms/ticket")):(p=D.split("/")[0],m="https://".concat(p,"/cms/ticket")),R.prev=4,R.next=7,P.ZQ.get({url:m,params:{ticket:b}});case 7:if(A=R.sent,!(A.status===200||A.status===403)){R.next=10;break}return R.abrupt("return",Promise.resolve(!0));case 10:return R.abrupt("return",Promise.resolve(!1));case 13:return R.prev=13,R.t0=R.catch(4),R.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return R.stop()}},d,null,[[4,13]])}));return function(){return W.apply(this,arguments)}}(),N=function(){var W=(0,L.Z)(F().mark(function d(D){var b,m;return F().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,P.ZQ.get({url:x.ZP.local.getTicket(D)});case 2:if(b=h.sent,m=b.data,m.code!==0){h.next=6;break}return h.abrupt("return",Promise.resolve(m.data.ticket));case 6:return h.abrupt("return",Promise.resolve(""));case 7:case"end":return h.stop()}},d)}));return function(D){return W.apply(this,arguments)}}(),E=function(){var W=(0,L.Z)(F().mark(function d(){var D;return F().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,P.WY.get({url:x.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return D=m.sent,m.abrupt("return",D.data.list);case 4:case"end":return m.stop()}},d)}));return function(){return W.apply(this,arguments)}}(),C=function(){var W=(0,L.Z)(F().mark(function d(D){var b,m,g;return F().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,P.WY.get({url:x.ZP.localStorage.getPravateVideoUrl(D)});case 2:if(b=p.sent,b.data.code!==0){p.next=6;break}return m=b.data.data.videoPlayInfo,g=m===void 0?"":m,p.abrupt("return",g);case 6:return p.abrupt("return","");case 7:case"end":return p.stop()}},d)}));return function(D){return W.apply(this,arguments)}}(),s=function(){var W=(0,L.Z)(F().mark(function d(D){var b,m,g;return F().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return b=x.ZP.localStorage.getPravateDocUrl(D),p.prev=1,p.next=4,P.WY.get({url:b});case 4:if(m=p.sent,g=m.data,!(g.code===0&&g.data)){p.next=8;break}return p.abrupt("return",g.data.docResourceDownloadUrl||"");case 8:return p.abrupt("return","");case 11:return p.prev=11,p.t0=p.catch(1),p.abrupt("return","");case 14:case"end":return p.stop()}},d,null,[[1,11]])}));return function(D){return W.apply(this,arguments)}}(),c=function(d){var D=d.studyInfo,b=d.progress,m=d.recent_start,g=d.page_count,h=d.enterpriseId,p=d.userId,A=d.token,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,R=D.studyType;if(R==="studyTask"&&(K=x.ZP.SaveProgress.studySaveProgress(D)),(R==="course"||R==="enterprise")&&(K=x.ZP.SaveProgress.enterpriseCourseSaveProgress(D)),R==="studyProject"&&(K=x.ZP.SaveProgress.projectSaveProgress(D)),R==="platform"&&(K="".concat(x.ZP.SaveProgress.platformCourseSaveProgress(D))),(I||R==="platform")&&(K+="?enterprise_id=".concat(h,"&user_id=").concat(p)),I)return K+="&access_token=".concat(A||localStorage.getItem("token")),K;var S={progress:b,recent_start:m,tempTime:Date.parse(new Date)};return g&&(S.page_count=g),D.evaluationId&&(S.evaluation_id=D.evaluationId),P.WY.post({url:K,data:S})},y=W=>{var d=W.popupId,D=W.planId,b=W.resourceId,m=W.type;return P.WY.post({url:x.ZP.TaskStudyRecord.setRandomPopupRecord(D),data:{course_id:b,terminal_type:"PC",popup_id:d,type:m}})},k=(W,d)=>{var D=x.ZP.SaveProgress.reportStatusInterval(W);return P.WY.post({url:D,data:d})}},21594:function(ce,J,e){"use strict";e.d(J,{pu:function(){return x},RG:function(){return O},Gp:function(){return N},O8:function(){return E}});var L=e(88986),o=e(69164),F=e(38642),P=e(41225),x=C=>{var s="";switch(C){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":s="studyTask";break;case"enterprise":s="enterprise";break;case"courseProject":s="studyProject";break;case"platform":case"purchased":s="platform";break;default:break}return s},O=(C,s)=>{var c={};return s.forEach(y=>{var k=C.find(m=>m.type===y.type);if(k)if(y.type==="document_duration_limit"){var W=k.action_list,d=W.find(m=>m.type==="random_popup_verification");!(0,F.UI)("RANDOM_POPUP_VERIFY")||!d?c[y.name]="CLOSE":c[y.name]=d.param.checked==="true"?"OPEN":"CLOSE"}else if(y.type==="document_player"){var D=JSON.parse(k.actions);D.forEach(m=>{m.param.checked==="true"&&(c[y.name]=m.type)})}else if(y.type==="dynamic_watermark"){var b=k.action_list;b.forEach(m=>{m.type===y.resourceType&&m.param.checked==="true"&&(c[y.name]=m.param.comment)})}else c[y.name]=k.switch_status}),c},N=C=>{(0,P.sH)((0,L.Z)({progress:100,recent_start:1},C)).then(s=>{s&&s.data&&(0,o.Z)(s.data.integral_info||"")})},E=C=>{var s=document.createElement("div");return s.innerHTML=C,s.childNodes[0]}},11449:function(ce,J,e){"use strict";e.d(J,{Z:function(){return w}});var L=e(88986),o=e(33565),F=e(12924),P=e.n(F),x=e(3115),O=e(49111),N=e(19650),E=e(62029),C=e(57663),s=e(71577),c=e(91768),y=e(28216),k=e(37055),W=e(10237);function d(Y){var $=k.ZP.getHelpContentByMenuKey(),H={key:Y};return W.WY.get({url:$,params:H})}var D=e(74228),b=e.n(D),m=e(1164),g=e(76466),h=e(38642);class p extends P().Component{constructor($){var H;super($);H=this,this.getHelpContentByMenuKey=()=>{var Q=this.props.defaultMenuKey;d(Q).then(q=>{var z=q.data,le=z.help_url,se=z.video_url;this.setState({videoUrl:se,helpUrl:le})})},this.handleOpenHelpUrl=Q=>{if((0,h.ve)()){window.open(Q,"_blank");return}m.Z.targetTo({path:Q,isExternalLink:!0})},this.handleOpenVideo=function(Q){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.props.t("helpCenter.video");H.setState(z=>({resourcePlayInfo:(0,L.Z)((0,L.Z)({},z.resourcePlayInfo),{},{resourceInfo:{originUrl:Q,source:{FD:Q,OD:Q},contentType:"mp4"}}),previewInfo:(0,L.Z)((0,L.Z)({},z.previewInfo),{},{title:q,visible:!0,onCancel:H.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Q=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,L.Z)((0,L.Z)({},Q),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:$.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var $=this.state,H=$.helpUrl,Q=$.resourcePlayInfo,q=$.previewInfo,z=$.videoUrl,le=this.props.t;return P().createElement("div",{className:b().helpCenter},z&&P().createElement(s.Z,{type:"link",className:b()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(z)},le("helpCenter.video")),H&&P().createElement(s.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(H)},le("helpCenter.tutorial")),P().createElement(g.Z,(0,E.Z)({},Q,{previewInfo:q})))}}var A=Y=>({defaultMenuKey:Y.currentRoute.menuKey});p.defaultProps={defaultMenuKey:""};var I=(0,y.$j)(A)((0,c.Z)()(p));function K(Y){var $=Y.extra,H=localStorage.getItem("dingPersonnel"),Q=sessionStorage.getItem("dingPersonnel");return P().createElement(N.Z,null,$,H!=="dingPersonnel"&&Q!=="dingPersonnel"&&(0,h.eY)("COMMONEXTRA_HELP_CENTER")&&P().createElement(I,null))}var R=K,S=e(4408);function M(Y){var $=(0,F.useState)({helpCenter:(0,h.eY)("HEAD_HELP_CENTER_BUT")}),H=(0,o.Z)($,1),Q=H[0],q=Y.pageContainerParams,z=q===void 0?{}:q,le=Y.noPadding,se=le===void 0?!1:le,de=Y.isPersonal,me=de===void 0?!1:de,ve=Y.pageTitle,he=Y.className,pe=he===void 0?"":he,U={extra:Q.helpCenter?P().createElement(R,{extra:z.extra}):z.extra},V=(0,L.Z)((0,L.Z)({},z),U);return P().createElement("div",{className:"page-container-content ".concat(se?"page-container-noPadding":""," ").concat(me?"page-container-content_personal_background":""," ").concat(pe)},ve&&P().createElement(S.Z,{title:ve}),me?P().createElement(x.Z,null,Y.children):P().createElement(x.Z,V,Y.children))}var w=M},68090:function(ce,J,e){"use strict";e.r(J),e.d(J,{default:function(){return he}});var L=e(12924),o=e.n(L),F=e(91768),P=e(11449),x=e(4408),O=e(57663),N=e(71577),E=e(88986),C=e(37055),s=e(10237),c=e(97882),y=e(43358),k=e(34041),W=e(87722),d=k.Z.Option;class D extends o().Component{constructor(U){super(U);this.renderSelect=()=>{var V=this.selectItem;return o().createElement("div",{className:"select cl-search-normal-width"},o().createElement(k.Z,{defaultValue:V[0].value,className:"cl-search-normal-width",onChange:this.props.handleType},V.map(re=>o().createElement(d,{value:re.value,key:re.value},re.name))))},this.renderRangeDate=()=>o().createElement("div",{className:"rangePicker"},o().createElement(W.Z,{format:"YYYY-MM-DD",className:"cl-search-date-width",onCustomChange:this.props.handleTimeRange,showTime:!0})),this.selectItem=[{name:this.props.t("common.all"),value:"all"},{name:this.props.t("study.confirmed"),value:"confirm"},{name:this.props.t("study.unConfirm"),value:"unconfirmed"},{name:this.props.t("study.confirmedOverTime"),value:"timeout_confirm"}],this.state={}}render(){return o().createElement("div",{className:"topInput"},o().createElement("div",{className:"topInput__left"},this.renderSelect(),this.renderRangeDate()))}}var b=(0,F.Z)()(D),m=e(55285),g=e(6793);class h extends o().Component{constructor(){super(...arguments);this.state={},this.nameColumn={title:this.props.t("other.inspectionForm.inspectionObject"),dataIndex:"name",key:"name",fixed:"left",width:134},this.columns=[{title:this.props.t("other.inspectionForm.startTime"),dataIndex:"begin_time",key:"begin_time",width:154,render:U=>(0,g.p6)(+U)},{title:this.props.t("other.inspectionForm.inspectionResult"),dataIndex:"status",key:"status",width:134},{title:this.props.t("other.inspectionForm.terminal"),dataIndex:"terminal",key:"terminal",width:104},{title:this.props.t("other.inspectionForm.scenes"),dataIndex:"scene",key:"scene",width:134},{title:this.props.t("other.inspectionForm.inspector"),dataIndex:"inspector_name",key:"inspector_name",width:104}]}render(){var U=this.props,V=U.list,re=V===void 0?[]:V,ee=U.loading,ue=U.toolBarRender;return o().createElement(m.Z,{style:{height:"100%",minHeight:"calc(100vh - 405px)"},nameColumn:this.nameColumn,columns:this.columns,scroll:{y:"100%",x:1300},rowKey:"userId",dataSource:re,pagination:!1,loading:ee,toolBarRender:ue,tableUUID:"a695da96-1eb0-43df-9a12-a27632ebee06"})}}var p=(0,F.Z)()(h),A={getInspectionList:C.ZP.Inspection.getInspectionList};class I extends o().Component{constructor(U){super(U);this.prevPage=()=>{var V=this.state,re=V.params,ee=V.nextMarkerArr;ee.length>1?(ee.pop(),re.remark=ee[ee.length-1]):(re.remark="",ee=[]),this.setState({params:re,nextMarkerArr:ee},()=>{this.initTableList()})},this.nextPage=()=>{var V=this.state,re=V.params,ee=V.nextMarker,ue=V.nextMarkerArr;ue.push(ee),re.remark=ee,this.setState({params:re,nextMarkerArr:ue},()=>{this.initTableList()})},this.renderRightRow=()=>o().createElement("div",{className:"search"},o().createElement(c.Z,{onSearch:this.handleQueryRowSearch.bind(this),placeholder:"\u641C\u7D22\u5B66\u5458\u59D3\u540D",width:272})),this.state={params:{user_id:"",status:"",start_time:"",end_time:"",remark:""},tableLoading:!0,tableList:[],nextMarkerArr:[],nextMarker:""}}handleType(U){this.setState(V=>({params:(0,E.Z)((0,E.Z)({},V.params),{},{status:U,remark:""}),nextMarkerArr:[],nextMarker:""}),()=>{this.initTableList()})}handleQueryRowSearch(U){this.setState(V=>({params:(0,E.Z)((0,E.Z)({},V.params),{},{user_id:U,remark:""}),nextMarkerArr:[],nextMarker:""}),()=>{this.initTableList()})}handleChangeDataRange(U){this.setState(V=>({params:(0,E.Z)((0,E.Z)({},V.params),{},{remark:"",start_time:U.startTime?Date.parse(U.startTime):"",end_time:U.endTime?Date.parse(U.endTime):""}),nextMarkerArr:[],nextMarker:""}),()=>{this.initTableList()})}initTableList(){this.setState({tableLoading:!0}),s.WY.get({url:A.getInspectionList(),params:this.state.params}).then(U=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:U.data.list,nextMarker:U.data.next})},300)})}componentDidMount(){this.initTableList()}render(){var U=this.props.t,V=this.state,re=V.tableList,ee=V.tableLoading,ue=V.nextMarkerArr,ne=V.nextMarker;return o().createElement("div",{className:"inspection__rightform__formList"},o().createElement(b,{handleType:this.handleType.bind(this),handleTimeRange:this.handleChangeDataRange.bind(this)}),o().createElement("div",{className:"bottomTable-out"},o().createElement("div",{className:"bottomTable"},o().createElement(p,{loading:ee,list:re,toolBarRender:this.renderRightRow}),re.length>0&&o().createElement("div",{className:"bottomTable__pagination"},o().createElement(N.Z,{className:"bottomTable__pagination__nextpage",disabled:!ne,onClick:this.nextPage},U("setting.nextPage")),o().createElement(N.Z,{className:"bottomTable__pagination__prepage",disabled:ue.length===0,onClick:this.prevPage},U("setting.prevPage"))))))}}var K=(0,F.Z)("translation",{withRef:!0})(I),R=e(63185),S=e(9676),M=e(71194),w=e(57016),Y=e(34792),$=e(48086),H=e(48479),Q=e(57119),q=e(32779);class z extends o().Component{render(){var U=this.props,V=U.name,re=U.type,ee=U.onChange,ue=U.id,ne=U.checked,Oe=U.arrIndex;return o().createElement("div",{className:"checkItem",onClick:()=>{ee(ne,ue,Oe)}},o().createElement("div",{className:"checkItem__msg"},o().createElement("div",null,o().createElement(S.Z,{checked:ne})),o().createElement("div",{className:"text"},o().createElement("div",{className:"name"},V),o().createElement("div",{className:"type"},re))))}}var le=z,se={getInspectionUserlist:C.ZP.Inspection.getInspectionUserlist,inspection:C.ZP.Inspection.inspection};class de extends o().Component{constructor(){super();this.checkArr=[],this.state={indeterminate:!1,allChecked:!1,stundentsList:[],keyword:""}}getInspectionUserlist(U){var V=this.props.t;this.checkArr=[];var re={keyword:this.state.keyword};s.WY.get({url:se.getInspectionUserlist(),params:re}).then(ee=>{ee.data.msg==="success"?(ee.data.data.forEach(ue=>ue.checked=!1),this.setState({stundentsList:ee.data.data,indeterminate:!1,allChecked:!1}),U&&(this.props.refreshForm(),$.default.success(V("setting.refresh")+V("setting.successLabel")))):$.default.error("\u7F51\u7EDC\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5")})}onchangeCheckBox(U,V,re){var ee=this.checkArr,ue=this.state.stundentsList,ne=!U;if(ne)!ee.includes(V)&&ee.push(V);else{var Oe=ee.indexOf(V);Oe!==-1&&ee.splice(Oe,1)}this.checkArr=ee,ue[re].checked=ne,this.setState({stundentsList:ue}),this.indeterminateBox()}indeterminateBox(){var U=this.state.stundentsList.length,V=this.checkArr.length;V===0?this.setState({indeterminate:!1,allChecked:!1}):V===U?this.setState({indeterminate:!1,allChecked:!0}):this.setState({indeterminate:!0,allChecked:!0})}checkAll(){var U=this.state,V=U.indeterminate,re=U.allChecked;if(!V&&re){var ee=this.state.stundentsList;ee.forEach(ne=>{ne.checked=!1}),this.checkArr=[],this.setState({indeterminate:!1,allChecked:!1,stundentsList:ee})}else{var ue=this.state.stundentsList;this.checkArr=ue.map(ne=>(ne.checked=!0,ne.user_id)),this.setState({indeterminate:!1,allChecked:!0,stundentsList:ue})}}handleSearch(U){this.setState({keyword:U},()=>{this.getInspectionUserlist()})}inspectionUser(){var U=this;w.Z.confirm({title:"\u5DE1\u68C0\u786E\u8BA4",icon:o().createElement(Q.Z,null),content:this.confirmContext(),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk(){s.WY.post({url:se.inspection(),data:{userIds:U.checkArr}}).then(V=>{V.data.msg==="success"?($.default.success("\u5DE1\u68C0\u6210\u529F"),U.props.refreshForm()):$.default.error(V.data.msg)})}})}confirmContext(){return o().createElement("div",null,o().createElement("p",null),o().createElement("p",{className:"confirmContextTop"},"\u5F53\u524D\u5DE1\u68C0\u5BF9\u8C61\uFF1A",this.checkArr.length,"\u4EBA"),o().createElement("p",{className:"confirmContextBottom"},"\u5DE1\u68C0\u52A8\u4F5C\u4F1A\u4E2D\u65AD\u5B66\u5458\u5F53\u524D\u5B66\u4E60\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01"))}componentDidMount(){this.getInspectionUserlist()}render(){var U=this.props.t,V=this.state,re=V.indeterminate,ee=V.allChecked,ue=V.stundentsList;return o().createElement("div",{className:"inspection__leftlist__studentsList"},o().createElement("div",{className:"inspection__leftlist__studentsList__top"},o().createElement("div",{className:"title"},o().createElement("div",{className:"title__text"},U("other.randomInspectionDesc.studentList"),o().createElement("div",null,U("other.randomInspectionDesc.studentDesc"))),o().createElement(N.Z,{type:"link",className:"title__button",icon:o().createElement(q.Z,null),onClick:()=>this.getInspectionUserlist(!0)},U("other.randomInspectionDesc.refresh"))),o().createElement("div",{className:"search"},o().createElement("div",null,o().createElement(H.Z,{placeholder:U("other.randomInspectionDesc.studentInputDesc"),onSearch:this.handleSearch.bind(this)}))),o().createElement("div",{className:"listCard"},o().createElement(S.Z,{indeterminate:re,checked:ee,onChange:this.checkAll.bind(this)},U("other.randomInspectionDesc.allCheck")),o().createElement("div",{className:"listCard__list"},ue.map((ne,Oe)=>o().createElement(le,{key:ne.user_id,name:ne.name,type:"".concat(ne.terminal,"\uFF1A").concat(ne.scene),arrIndex:Oe,id:ne.user_id,checked:ne.checked,onChange:this.onchangeCheckBox.bind(this)}))))),o().createElement("div",{className:"inspection__leftlist__studentsList__bottom"},o().createElement(N.Z,{type:"primary",block:!0,disabled:this.checkArr.length===0,onClick:this.inspectionUser.bind(this)},U("other.randomInspectionDesc.studentBtnDesc")),o().createElement("div",{className:"tips"},U("other.randomInspectionDesc.studentTips"))))}}var me=(0,F.Z)()(de);class ve extends o().Component{constructor(U){super(U);this.setFormInterval=()=>{this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.refreshForm()},15e3)},this.studentsListRefresh=()=>{this.setFormInterval(),this.refreshForm()},this.refreshForm=()=>{this.formList&&this.formList.initTableList()},this.timer=null}componentDidMount(){this.setFormInterval()}render(){var U=this.props.t;return o().createElement(P.Z,{pageContainerParams:{header:{title:U("other.randomInspection")}}},o().createElement(x.Z,{title:U("other.randomInspection")}),o().createElement("div",{className:"inspectionView"},o().createElement("div",{className:"inspection"},o().createElement("div",{className:"inspection__leftlist"},o().createElement(me,{refreshForm:this.studentsListRefresh})),o().createElement("div",{className:"inspection__rightform"},o().createElement(K,{ref:V=>this.formList=V})))))}}var he=(0,F.Z)()(ve)},9849:function(ce,J,e){"use strict";e.d(J,{Ej:function(){return x},kL:function(){return O},T:function(){return N},NU:function(){return E},FL:function(){return C},fn:function(){return s},bm:function(){return c},jY:function(){return y},Vs:function(){return k},li:function(){return W},Nl:function(){return d},YF:function(){return D},Q6:function(){return b},zW:function(){return m},Zv:function(){return g},Qg:function(){return h},qc:function(){return p},Ve:function(){return I},rS:function(){return K},Rh:function(){return R}});var L=e(10237),o=e(37055),F=e(38642),P={zaraFlag:(0,F.UI)("ZARA_H5")};function x(S,M){var w=o.ZP.StudyProjectList.startStudy(S);return L.WY.post({url:w,data:M})}function O(S){var M=o.ZP.Common.enroll(S);return L.WY.post({url:M})}function N(S,M){var w=S.courseId,Y=o.ZP.StudyProjectList.studyProject(w);return L.WY.get({url:Y,params:M})}function E(S){var M=S.id,w=P.zaraFlag?o.m1.getAssessmentProjectInfo(M):o.m1.getProjectInfo(M);return L.WY.get({url:w})}function C(S){var M=S.courseId,w=o.ZP.EnterpriseCourse.addScanCount(M);return L.WY.post({url:w})}function s(){var S=o.ZP.StudyProjectList.getAccountInfo();return L.WY.get({url:S})}function c(S){var M=o.ZP.StudyProjectList.projectCertiUrl(S);return L.WY.get({url:M})}function y(S){var M=S.courseId,w=o.ZP.Courses.like(M);return L.WY.post({url:w})}function k(S){var M=o.ZP.EnterpriseCourse.addCommentAndScore();return L.qg.post({url:M,data:S})}function W(S){var M=o.ZP.EnterpriseCourse.getCourseComments();return L.WY.get({url:M,params:S})}function d(S){var M=o.ZP.EnterpriseCourse.addCommentAndScore();return L.qg.post({url:M,data:S})}function D(S){var M=o.ZP.EnterpriseCourse.deleteComment();return L.qg.post({url:M,data:S})}function b(S,M){var w=o.ZP.StudyProjectList.projectStudyRecord(S);return L.WY.get({url:w,params:M})}function m(S){var M=o.ZP.DingSpaceId.getSpaceId();return L.WY.get({url:M,params:S})}function g(S,M){var w=o.ZP.PlatformCourse.learningUrl(S);return L.WY.get({url:w,params:M})}function h(S){var M=o.ZP.MyExamTask.examIntro({examId:S});return L.WY.get({url:M})}function p(S){var M=o.ZP.MyExamTask.examCheckStatus({examId:S});return L.WY.get({url:M})}function A(S,M){var w=CONFIG.Common.getOperateLog(S);return formDataRequest.get({url:w,params:M})}function I(S,M){var w=P.zaraFlag?o.ZP.StudyProjectList.changeCustomStatus(S):o.ZP.StudyProjectList.changeStatus(S);return L.WY.post({url:w,data:M})}function K(S){var M=o.ZP.StudyProjectList.getProjectReward(S);return L.WY.get({url:M})}function R(S){var M=o.ZP.subsidyGz.subsidyCourseSetting(S);return L.WY.get({url:M})}},14441:function(ce,J,e){"use strict";e.d(J,{v:function(){return F},t:function(){return P}});var L=e(10237),o=e(5430);function F(x){var O=o.Fc.getUserName();return L.WY.get({url:O,params:{user_id:x}})}function P(x){var O=o.Fc.getDepartmentNames();return L.WY.post({url:O,data:{ids:x}})}},91648:function(ce,J,e){"use strict";e.d(J,{Z:function(){return L}});function L(o,F){var P,x,O,N,P;if(x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),P=[],O=void 0,F=F||x.length,o)for(O=0;O<o;)P[O]=x[0|Math.random()*F],O++;else for(N=void 0,P[8]=P[13]=P[18]=P[23]="-",P[14]="4",O=0;O<36;)P[O]||(N=0|Math.random()*16,P[O]=x[O===19?N&3|8:N]),O++;return P.join("")}},69164:function(ce,J,e){"use strict";var L=e(34792),o=e(48086);function F(P){P&&P.length>0&&o.default.success(P)}J.Z=F},2396:function(ce,J,e){"use strict";e.d(J,{fA:function(){return F},kh:function(){return P},kR:function(){return x},rw:function(){return N},$s:function(){return E},q_:function(){return C},QK:function(){return s}});var L=e(6793),o={limitWords(c,y){return{rules:[{max:c,message:"\u6700\u591A\u8F93\u5165".concat(c,"\u4E2A\u5B57")},{required:!0,message:y||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(c){return{rules:[{max:c,message:"\u6700\u591A\u8F93\u5165".concat(c,"\u4E2A\u6807\u7B7E")}]}},required(c){return{rules:[{required:!0,message:c||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(c,y){return{rules:[{required:!0,message:c||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:y}]}}},F={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},P=c=>isNaN(c)||!c||!(c>=0&&c<1e3)||!F.score.test(c),x=c=>isNaN(c)||!c||!(c>-1e3&&c<1e3),O=c=>isNaN(c)||!c||!(c>=0&&c<1e3)||!F.examScore.test(c),N=(c,y)=>{for(var k=0,W=0;W<c.length;W++){var d=c.charAt(W);if(d.match(/[^\x00-\xff]/ig)!=null?k+=1:k+=.5,k>y)return W}return 0},E=c=>{for(var y=0,k=0;k<c.length;k++){var W=c.charAt(k);W.match(/[^\x00-\xff]/ig)!=null?y+=1:y+=.5}return y},C=(c,y)=>{var k=c.target.value,W=c.target.dataset.originLength;if(c.target.dataset.originLength||(W=y,c.target.dataset.originLength=W),!!W){var d=E(k);d*1<y*1?c.target.setAttribute("maxLength",y*2):c.target.setAttribute("maxLength",y)}},s=(c,y)=>{var k="";return(!c||!(0,L.fy)(c))&&(k=y),k}},4412:function(ce){ce.exports="data:image/png;base64,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"}}]);
