(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[5013],{4408:function(be,re,t){"use strict";var j=t(12924),O=t.n(j),F=t(28216),m=t(17780),Y=t(38642),I=e=>({userInfo:e.user}),k=e=>{var E=e.title;return(0,m.xX)()&&setTimeout(()=>{document.title=E},0),(0,j.useEffect)(()=>{if(E&&document.title!==E&&setTimeout(()=>{document.title=E},0),(0,Y.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[E]),O().createElement(O().Fragment,null)};k.defautProps={title:""},re.Z=(0,F.$j)(I)(k)},1164:function(be,re,t){"use strict";var j=t(12924),O=t.n(j),F=t(76651),m=t(38642),Y=t(91302),I=k=>{var e=navigator.userAgent.toLocaleLowerCase(),E=localStorage.getItem("enterpriseId"),n=(0,m.lz)(E,k.projectType),A=localStorage.getItem("dingPersonnel"),p=Y.bl.includes(A),g=k.target;function f(P){if(g==="self"&&(P.preventDefault(),F.m8.push(k.to)),p){if(k.projectType==="student"){window.location.href="".concat(n,"/").concat(k.to);return}F.m8.push(k.to);return}if(dd.version){P.preventDefault();var y="";k.to.includes("?")?y="".concat(n).concat(k.to,"&ddtab=true"):y="".concat(n).concat(k.to,"?ddtab=true"),dd.biz.util.openLink({url:y})}else e.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(k.to))}return O().createElement("a",{rel:"noreferrer",href:"".concat(k.projectType==="student"?"".concat(n).concat(k.to):"#".concat(k.to)),className:"".concat(k.wrapCls," cl-pointer"),target:e.indexOf("lark")!==-1||p?"_self":k.target||"_blank",onClick:f},k.children)};I.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},I.targetTo=k=>{var e=k.path,E=k.from,n=k.isExternalLink,A=n===void 0?!1:n,p=k.isAsync,g=p===void 0?!1:p,f=k.openName,P=f===void 0?"_blank":f,y=k.projectType,C=y===void 0?"manage":y,w=k.ddTab,H=w===void 0?!0:w,B,V=localStorage.getItem("dingPersonnel"),ee=Y.bl.includes(V),J=navigator.userAgent.toLocaleLowerCase(),de=localStorage.getItem("enterpriseId"),ie=(0,m.lz)(de,C),K=localStorage.getItem("appType"),G=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var ve="";if(B=A?"":ie,ee&&!A){if(C==="student"){window.location.href="".concat(ie).concat(e);return}F.m8.push(e);return}e.includes("?")?ve="".concat(B).concat(e,"&ddtab=").concat(H):ve="".concat(B).concat(e,"?ddtab=").concat(H),dd.biz.util.openLink({url:ve})}else if(J.indexOf("lark")!==-1)B=A?"":ie,window.location.href="".concat(B).concat(e);else if(K==="wx_app"&&G&&A&&E==="imgText")B=A?"":C==="student"?"".concat(ie):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(B).concat(e)});else if(B=A?"":C==="student"?"".concat(ie):"#",g){var Je=window.open("","_blank");setTimeout(()=>{Je.location="".concat(B).concat(e)},100)}else window.open("".concat(B).concat(e),P)},re.Z=I},99891:function(be,re,t){"use strict";var j=t(12924),O=t.n(j),F=t(28216),m=t(91768),Y=t(37055),I=t(10237),k=t(60667);class e extends O().PureComponent{constructor(A){super(A);this.getWaterMarkText=p=>{var g=this.props.userInfo,f=g.jobNumber,P=localStorage.getItem("waterMarkPostName"),y=[],C=p.find(H=>H.type==="content_setting"),w=p.find(H=>H.type==="content_custom");return C.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),w.param.checked==="true"&&w.param.comment[0]!==""&&this.setState({commentText:w.param.comment[0]}),C.param.comment.indexOf("position")!==-1&&P&&P!==""&&y.push("".concat(P)),C.param.comment.indexOf("jobnumber")!==-1&&f&&f!==""&&y.push("".concat(f)),y.join("-")},this.getWaterMarkApplication=p=>{var g=this.props.scenes,f=p.find(P=>P.type==="application_scenario");f.param.comment.indexOf(g)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=p=>{var g=p.find(f=>f.type==="dispersive");this.setState({isDispersive:g.param.checked==="true"})},this.getDynamicSet=()=>{var p=Y.ZP.advancedSetting.dynamicWaterMarkNew(),g={access_token:window.localStorage.getItem("token")};I.WY.get({url:p,params:g}).then(f=>{var P=JSON.parse(f.data.actions);this.setState({waterMarkText:this.getWaterMarkText(P),actions:P}),this.getWaterMarkApplication(P),this.getWaterIsDispersive(P)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var A=localStorage.getItem("waterMarkPostName");A===""||A===null?this.getPostName():this.getDynamicSet()}getPostName(){var A=Y.ZP.advancedSetting.getPostName();I.WY.get({url:A}).then(p=>{localStorage.setItem("waterMarkPostName",p.data.post_names[0]||""),this.getDynamicSet()})}render(){var A=this.state,p=A.showWaterMark,g=A.waterMarkCount,f=A.isUserName,P=A.isDispersive,y=A.waterMarkText,C=A.actions,w=A.commentText,H=this.props.userInfo,B=H.name,V=H.unionid,ee=H.sourceType;return O().createElement("div",{className:"common-watermark"},p&&new Array(g).fill(0).map((J,de)=>O().createElement("div",{key:de,className:"common-watermark-item ".concat(P?"isDispersive":"")},O().createElement("span",{className:"common-watermark-item-content"},w!==""&&O().createElement("span",{className:"item-part"},w),f&&O().createElement("span",null,w!==""&&O().createElement("span",null,"-"),O().createElement(k.Z,{dataType:"userName",value:V,name:B,type:ee})),O().createElement("span",{className:"item-part"},(f||w!=="")&&y!==""&&O().createElement("span",null,"-"),y)))))}}var E=n=>({userInfo:n.user});re.Z=(0,F.$j)(E)((0,m.Z)()(e))},60667:function(be,re,t){"use strict";t.d(re,{Z:function(){return e}});var j=t(33565),O=t(12924),F=t.n(O),m=t(28216);function Y(E){var n=E.type,A=E.openid,p=E.from,g=(0,O.useRef)(null);return(0,O.useLayoutEffect)(()=>{p==="vue"?window.parent.WWOpenData.bind(g.current):WWOpenData.bind(g.current)}),F().createElement("ww-open-data",{ref:g,type:n,openid:A})}var I=E=>{var n=E.wxWorkApiFlag,A=E.appType,p=E.from,g=(0,O.useState)(!1),f=(0,j.Z)(g,2),P=f[0],y=f[1];(0,O.useEffect)(()=>{var H=localStorage.getItem("qyWechatBook");(A!=="wx_app"||n||H==="false"||p==="vue"||p==="taro")&&y(!0)},[n,A,p]);var C=(0,O.useCallback)(()=>{var H=E.type,B=E.value,V=E.name,ee=V===void 0?"":V;switch(console.warn(E,"props"),H){case"wx_sync":{var J=E.dataType;return B?F().createElement(Y,{from:p,type:J,openid:B}):ee}default:return ee}},[E]),w=()=>{var H=E.name,B=E.dataType,V=localStorage.getItem("qyWechatBook");if(B===""||V==="false")return H;if(p==="vue"||p==="taro")return C();switch(E.appType){case"wx_app":return C();default:return H}};return P?w():E.name};I.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var k=E=>({appType:E.user.appType,wxWorkApiFlag:E.user.wxWorkApiFlag}),e=(0,m.$j)(k)(I)},93212:function(be,re,t){"use strict";t.d(re,{XB:function(){return F},GU:function(){return Y},sg:function(){return I},z8:function(){return k}});var j=t(50361),O=t.n(j),F=(E,n,A)=>{var p={key:A?A.level:n,name:A?"level":"id"},g=m(E),f=(C,w)=>{C.forEach((H,B)=>{H[p.name]===w&&C.splice(B,1),H.sub_list&&H.sub_list.length&&f(H.sub_list,w)})},P=C=>{var w=O()(C);return w.forEach((H,B)=>{H.have_auth==="false"&&H.sub_list&&H.sub_list.length===0&&w.splice(B,1)}),w};f(g,p.key);var y=P(g);return y},m=E=>{var n=O()(E);return n.forEach(A=>{A.level=[A.id].join("&"),Array.isArray(A.sub_list)&&A.sub_list.length&&A.sub_list.forEach(p=>{p.level=[A.id,p.id].join("&")})}),n},Y=E=>{var n=O()(E),A=[];return n.forEach(p=>{A.push({id:p.id,sub_list:p.sub_list&&p.sub_list.map(g=>({id:g.id}))})}),A},I=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=arguments.length>1?arguments[1]:void 0,p=O()(n)||[],g=f=>{var P=[];if(Array.isArray(f.path)&&f.path.length){var y=[],C=f.path.map(w=>w.id||w.key);C.includes(f.id||f.key)?y=f.path:y=[...f.path,f],A==="department"?P=[{department_ids:y.map(w=>w.id||w.key).join("/"),department_names:y.map(w=>w.name||w.title).join("/"),source_type:f.source_type}]:A==="post"&&(P=[{post_ids:y.map(w=>w.id||w.key).join("/"),post_names:y.map(w=>w.name||w.title).join("/")}])}return P};return p.forEach(f=>{f.level=[f.id].join("&"),f.path=g(f),Array.isArray(f.sub_list)&&f.sub_list.length&&f.sub_list.forEach(P=>{P.level=[f.id,P.id].join("&"),P.path=g(P)})}),p},k=E=>{var n=[],A=p=>{p.forEach(g=>{n.push(g),Array.isArray(g.sub_list)&&g.sub_list.length&&A(g.sub_list)})};return A(E),n},e=E=>{var n=[cloneDeep(E)],A=p=>{p.forEach(g=>{g.path=[...g.path,{id:g.id,name:g.name,source_type:g.source_type}],Array.isArray(g.sub_list)&&g.sub_list.length&&A(g.sub_list)})};return A(n),n}},54650:function(be,re,t){"use strict";var j=t(13062),O=t(71230),F=t(89032),m=t(15746),Y=t(57361),I=t(9754),k=t.n(I),e=t(12924),E=t.n(e),n=t(91768),A=t(74880),p=t.n(A),g=t(18329),f=t(70517);class P extends E().Component{constructor(C){var w;super(C);w=this,this.onOk=(0,Y.Z)(k().mark(function H(){var B,V,ee;return k().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,f.yW)();case 2:B=de.sent,V=B.data,ee=B.success,ee==="true"&&((0,f.$v)(),window.open(V.url,"_blank")),w.props.onClose();case 7:case"end":return de.stop()}},H)})),this.onCancel=()=>{(0,f.$v)(),this.props.onClose("noNeed")},this.state={featureList:[{title:"resourceLibrary.featureTitle1",subTitle:"resourceLibrary.featureSubTitle1",icon:"member_icon_mfzy.png"},{title:"resourceLibrary.featureTitle2",subTitle:"resourceLibrary.featureSubTitle2",icon:"member_icon_rl.png"},{title:"resourceLibrary.featureTitle3",subTitle:"resourceLibrary.featureSubTitle3",icon:"member_icon_gq.png"},{title:"resourceLibrary.featureTitle4",subTitle:"resourceLibrary.featureSubTitle4",icon:"member_icon_ai.png"},{title:"resourceLibrary.featureTitle5",subTitle:"resourceLibrary.featureSubTitle5",icon:"member_icon_ht.png"},{title:"resourceLibrary.featureTitle6",subTitle:"resourceLibrary.featureSubTitle6",icon:"member_icon_tdxz.png"}],memberList:["resourceLibrary.moreMemberTitle1","resourceLibrary.moreMemberTitle2","resourceLibrary.moreMemberTitle3","resourceLibrary.moreMemberTitle4","resourceLibrary.moreMemberTitle5"]}}render(){var C=this.state,w=C.featureList,H=C.memberList,B=this.props,V=B.t,ee=B.visible;return E().createElement(g.ZP,{visible:ee,width:"542",footer:null,bodyStyle:{maxHeight:"initial",width:489,height:629,padding:0},title:"",className:p().memberModal,closable:!1},E().createElement("div",{className:p().memberContent},E().createElement("img",{className:p().memberBg,src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_bg.png")}),E().createElement("img",{className:p().memberTitle,src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_title.png")}),E().createElement("p",{className:p().subTitle},V("resourceLibrary.freeTitle")),E().createElement("ul",{className:p().box},E().createElement("li",{className:p().itemBox},E().createElement(O.Z,null,w.map(J=>E().createElement(m.Z,{key:J.icon,span:8},E().createElement("img",{className:p().memberIcon,src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/").concat(J.icon)}),E().createElement("p",{className:p().featureTitle},V(J.title)),E().createElement("p",{className:p().featureSubTitle},V(J.subTitle)))))),E().createElement("li",{className:p().itemBox},E().createElement("div",{className:p().title},E().createElement("img",{src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_more_left.png")}),E().createElement("img",{className:p().titleCenter,src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_more.png")}),E().createElement("img",{src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_more_right.png")})),E().createElement("div",{className:p().content},H.map(J=>E().createElement("span",{className:p().name,key:J},V(J)))))),E().createElement("div",{className:p().okBtn,onClick:this.onOk},E().createElement("img",{className:"".concat(p().btnBg," ").concat(p().btnDefault),src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_btn_bg.png")}),E().createElement("img",{className:"".concat(p().btnBg," ").concat(p().btnActive),src:"".concat("https://sdn.coolcollege.cn","/assets/kuxueyuan/laihua/member_btn_bg_active.png")}),V("resourceLibrary.freeMember")),E().createElement("p",{className:p().cancleBtn,onClick:this.onCancel},V("resourceLibrary.noNeed"))))}}re.Z=(0,n.Z)()(P)},76466:function(be,re,t){"use strict";t.d(re,{Z:function(){return et}});var j=t(20228),O=t(11382),F=t(57663),m=t(71577),Y=t(62029),I=t(57361),k=t(9754),e=t.n(k),E=t(12924),n=t.n(E),A=t(91512),p=t(68654),g=t(91768),f=t(4412),P=t.n(f);class y extends n().Component{render(){var s=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:P(),alt:"picture"}),n().createElement("h2",null,s("localStorage.tip")),n().createElement("p",null,s("localStorage.banPreview"))))}}var C=(0,g.Z)()(y),w=t(88986),H=t(34792),B=t(48086),V=t(28216),ee=t(21594),J=t(41225),de=t(10237),ie=(te,s)=>(0,w.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),K=ie;class G extends E.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var i=this.props,r=i.onVideoReady,a=r===void 0?()=>{}:r,o=i.playerConfig,d=i.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,w.Z)((0,w.Z)({},o),{},{contentType:d==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:u=>{u.on("sourceloaded",v=>{var T=v.paramData,b=T.desc,L=T.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(b,L,o.id)}),u.on("ready",()=>{a()}),this.playerInstance=u,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,i=s.onPlay,r=i===void 0?()=>{}:i,a=s.onTimeUpDate,o=a===void 0?()=>{}:a,d=s.onEnd,u=d===void 0?()=>{}:d,v=s.onPause,T=v===void 0?()=>{}:v,b=s.onError,L=b===void 0?()=>{}:b,x=this.playerInstance;x.on("play",()=>{r()}),x.on("pause",()=>{T()}),x.on("timeupdate",S=>{o(S)}),x.on("ended",()=>{u()}),x.on("error",(0,I.Z)(e().mark(function S(){return e().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:L();case 1:case"end":return Q.stop()}},S)})))}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id}))}}G.playerInstance=null,G.defaultProps={playerConfig:K(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var ve=G,Je=(te,s)=>(0,w.Z)({id:te||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),qe=Je;class pt extends E.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var i=this.props,r=i.playerConfig,a=i.onVideoReady,o=a===void 0?()=>{}:a;this.player=new Aliplayer(r,d=>{d.on("sourceloaded",u=>{var v=u.paramData,T=v.desc,b=v.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(T,b,r.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var s=this.props,i=s.onPlay,r=i===void 0?()=>{}:i,a=s.onTimeUpDate,o=a===void 0?()=>{}:a,d=s.onEnd,u=d===void 0?()=>{}:d,v=s.onPause,T=v===void 0?()=>{}:v,b=s.onError,L=b===void 0?()=>{}:b;this.player.on("play",()=>{r()}),this.player.on("pause",()=>{T()}),this.player.on("timeupdate",x=>{o(x)}),this.player.on("ended",()=>{u()}),this.player.on("error",(0,I.Z)(e().mark(function x(){return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:L();case 1:case"end":return D.stop()}},x)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}pt.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:qe()};var kt=pt;class ht{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,i){var r=i._options&&i._options.language,a=i._el.id;this.isEn=r&&r==="en-us";var o=(0,ee.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),d=(0,ee.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),u=document.querySelector("#".concat(a," .prism-controlbar"));u.appendChild(o),s.appendChild(d)}setCurrentQuality(s,i,r){var a=document.querySelector("#".concat(r," .current-quality"));a.innerText=s,a.dataset.def=i,this.definition=i;var o=document.querySelector("#".concat(r," .quality-list")),d=o.querySelector(".current");d&&(d.className="");var u=o.querySelector('li[data-def="'.concat(i,'"]'));u&&(u.className="current")}created(s){this._urls=s._urls;var i=s._el.id,r=document.querySelector("#".concat(i," .current-quality")),a=document.querySelector("#".concat(i," .quality-list")),o=document.querySelector("#".concat(i," .quality-modal")),d=this._urls.map(T=>'<li data-def="'.concat(T.definition,'">').concat(T.desc,"</li>"));if(a.innerHTML=d.join(""),this.hasCreated==!1&&this.definition){var u=a.querySelector('li[data-def="'.concat(this.definition,'"]'));u.className="current"}this.hasCreated=!0;var v=null;r.onclick=()=>{a.style.display="block"},r.onmouseleave=()=>{v=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(v)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=T=>{var b=T.target,L=b.dataset.def,x=b.innerText;if(L&&b.className!=="current"){var S=this._urls.find(D=>D.definition===L);s.loadByUrl(S.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(S.desc,S.definition,i),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=S.desc}this.getQuality(L,x)}}ready(s){var i=s._el.id,r=document.querySelector("#".concat(i," .quality-modal"));r.style.display="none";var a=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));a&&a.classList.add("player-hidden")}}class vt{createEl(s,i){var r=i._el.id,a=(0,ee.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(r," .prism-controlbar"));o.appendChild(a)}ready(s){var i=s._el.id,r=document.querySelector("#".concat(i," .current-rate")),a=document.querySelector("#".concat(i," .rate-list")),o=null,d=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));d&&d.classList.add("player-hidden"),r.onclick=()=>{a.style.display="block"},r.onmouseleave=()=>{o=setTimeout(()=>{a.style.display="none"},100)},a.onmouseenter=()=>{clearTimeout(o)},a.onmouseleave=()=>{a.style.display="none"},a.onclick=u=>{var v=u.target,T=v.dataset.rate;if(T){if(s.setSpeed(T),v.className!=="current"){var b=a.querySelector(".current");b&&(b.className=""),v.className="current"}a.style.display="none",r.innerText="".concat(T,"x")}}}}var Ze=t(69164),Ge=t(37055);function ge(te){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Ge.ZP.local.getLocalUrl(te);return de.WY.get({url:i,params:s})}var Se=t(91648),tt=t(18329),gt=t(38642),Ct=t(9849),at=t(99891);class It extends E.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var St=It,Dt=te=>({userInfo:te.user});class At extends E.Component{constructor(s){var i;super(s);i=this,this.onVideoReady=r=>{var a=this.props,o=a.resourceInfo,d=a.mode,u=a.autoPlay,v=a.t,T=o.storageType;r==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(r),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(d==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),d==="preview"&&u&&this.play.play()):T==="ALIBABA_PRIVATE"||T==="LOCAL"?this.updateSource("resetPlayer"):(de.WY.logger({keyword:"video",moduleName:"video-play",msg:v("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var r=this.props,a=r.draggable,o=r.mode,d=r.t,u=r.studyInfo,v=r.needCurrentTime,T=r.onCurrentTime,b=T===void 0?()=>{}:T,L=u.studyType,x=u.studyId,S=u.resourceId,D=this.state,Q=D.showPreventHang,ae=D.dragSwitch,ce=D.showRandomAlert,le=D.randomAlertDialogVisible,z=this.playingVideo,we=z.oneTime,Ae=z.popupWindowCount,De=z.maxPlayTime,Ke=z.progress,Oe=z.auditionLength,We=z.auditionType,Be=z.duration,Ve=z.recentStart,fe=this.play.getCurrentTime(),Te=(Q==="OPEN"||ce==="OPEN")&&Ae>0;if(v&&b(fe),Oe>0&&We===2&&fe>Oe&&(this.play.seek(Oe),B.default.warning(d("component.haveALookOverTip")),this.play.pause()),o==="learn"&&Te){var Xe=Be-we*Ae;if(Ae>0&&fe>Xe)if(this.play.pause(),ce==="OPEN"){if(!le){var $e=(0,Se.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:$e},()=>{(0,J.qp)({popupId:$e,planId:x,resourceId:S,type:"popup_start"})}),this.play.exitFull()}}else Q==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((a||Ke===100)&&(fe>0&&(this.playingVideo.recentStart=fe),!((L==="enterprise"||L==="studyProject")&&ae==="OPEN")))return!1;fe>De?fe-Ve>2?(this.playingVideo.recentStart=De,this.play.seek(De),B.default.warning(d("component.preventFastWatchTip"))):(this.playingVideo.recentStart=fe,this.playingVideo.maxPlayTime=fe):fe>0&&fe>this.playingVideo.recentStart&&(this.playingVideo.recentStart=fe)},this.onPlay=()=>{var r=this.props,a=r.mode,o=r.onPlay,d=o===void 0?()=>{}:o;d();var u=this;a==="learn"&&!u.timer&&(u.timer=setTimeout(function v(){u.saveProgress(),clearTimeout(u.timer),u.timer=setTimeout(v,2e4)},2e4))},this.onPause=()=>{var r=this.props,a=r.studyInfo,o=r.mode,d=a.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(d==="platform"||d==="enterprise"||d==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var r=this.props.mode;r==="learn"&&this.saveProgress()},this.onError=r=>{var a=this.props.resourceInfo,o=a.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var r=this.props.mode;this.initPlayVideo(),r==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var r=this.state,a=r.showPreventHang,o=r.showRandomAlert,d=this.props,u=d.t,v=d.playingVideo,T=d.studyInfo,b=d.autoPlay,L=v.recentStart,x=v.duration,S=v.progress,D=T.studyType,Q=(a==="OPEN"||o==="OPEN")&&(D==="studyTask"||D==="enterprise"||D==="studyProject")&&S<100;Q?(o==="OPEN"?this.setState({promptMessage:u("component.preventAlertTip"),dialogVisible:!0}):a==="OPEN"&&this.setState({promptMessage:u("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):b&&(this.play.play(),Math.ceil(L)<parseInt(x)&&this.play.seek(L))},this.playerShowPreventHang=()=>{var r=this.playingVideo,a=r.duration,o=r.recentStart,d=0;a>0&&a<180?(d=a/2,this.playingVideo.oneTime=d,o>=d?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):a>=180&&a<600?(d=a/3,this.playingVideo.oneTime=d,o>=2*d?this.playingVideo.popupWindowCount=0:o>=d?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(d=a/4,this.playingVideo.oneTime=d,o>=3*d?this.playingVideo.popupWindowCount=0:o>=2*d?this.playingVideo.popupWindowCount=1:o>=d?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var r=this.props,a=r.playingVideo,o=r.mode;if(o==="learn"){this.playingVideo=(0,w.Z)({},a);var d=a.duration,u=a.progress;this.playingVideo.hasFinished=parseInt(u)===100,this.playingVideo.maxPlayTime=parseInt(d)*parseInt(u)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,I.Z)(e().mark(function r(){var a,o,d,u,v,T,b,L,x,S,D,Q,ae,ce,le,z,we,Ae,De,Ke,Oe,We,Be,Ve;return e().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(a=i.state,o=a.speedSwitch,d=a.dragSwitch,u=a.whiteList,v=i.props,T=v.resourceInfo,b=v.showQuality,L=T.contentType,x=T.storageType,S=T.source,D=T.playId,Q=T.playerId,ae=T.showFullScreen,ce=ae===void 0?!0:ae,le=qe(Q),le.components=[],z=typeof S=="object"&&S.hasOwnProperty("FD")&&S.FD.indexOf("m3u8")===-1,b&&z&&L!=="mp3"&&(x&&x==="PUBLIC_CLOUD"||!x)&&le.components.push({name:"VideoQuality",type:ht,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),o==="OPEN"&&le.components.push({name:"VideoRate",type:vt}),ce&&(we=le.skinLayout.find(Xe=>Xe.name==="controlBar"),we&&we.children.splice(we.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),le.components.push({name:"VideoWaterMark",type:St}),Ae=S.FD,De=S.OD,Ae.indexOf("http://")>-1&&(Ae=Ae.replace("http://","https://")),De.indexOf("http://")>-1&&(De=De.replace("http://","https://")),Ke=u.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",S.OD=De&&De.indexOf(Ke)>-1&&De.indexOf(".mp4")>-1?De:Ae,S.FD=Ae,Oe=typeof S!="string"?JSON.stringify(S):S,le.source=Oe,d==="OPEN"&&(le.disableSeek=!0),x!=="ALIBABA_PRIVATE"){Te.next=32;break}return Te.next=22,(0,J.BR)(D);case 22:if(We=Te.sent,!We){Te.next=28;break}le.source=We,le.vodRetry=1,Te.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),Te.abrupt("return");case 30:Te.next=38;break;case 32:if(x!=="LOCAL"){Te.next=38;break}return Te.next=35,ge(D);case 35:Be=Te.sent,Ve=Be.data,Ve.code===0&&(le.source="".concat(S.FD,"?auth_key=").concat(Ve.data.auth_key),le.vodRetry=1);case 38:i.setState({playerConfig:le});case 39:case"end":return Te.stop()}},r)})),this.updateSource=function(){var r=(0,I.Z)(e().mark(function a(o){var d,u,v,T,b,L,x,S;return e().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(d=i.state.playerConfig,u=i.props.resourceInfo,v=u.storageType,T=u.source,b=u.playId,i.playingVideo.readyCount=0,v!=="ALIBABA_PRIVATE"){Q.next=16;break}return Q.next=7,(0,J.BR)(b);case 7:if(L=Q.sent,!L){Q.next=12;break}Object.assign(d,{source:L,vodRetry:1}),Q.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),Q.abrupt("return");case 14:Q.next=22;break;case 16:if(v!=="LOCAL"){Q.next=22;break}return Q.next=19,ge(b);case 19:x=Q.sent,S=x.data,S.code===0&&Object.assign(d,{source:"".concat(T.FD,"?auth_key=").concat(S.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:d},()=>{i.play.setupPlayer(o)});case 23:case"end":return Q.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),this.saveProgress=()=>{var r=this.props,a=r.studyInfo,o=r.userInfo,d=o.isLogin,u=o.enterpriseId,v=o.id,T=this.playingVideo,b=T.recentStart,L=T.duration,x=T.hasFinished,S=Math.ceil(+b);S>Number(L)&&(S=Number(L));var D=Math.ceil(S/+L*100);if((D>100||x)&&(D=100),d){var Q=this.playingVideo,ae=Q.auditionType,ce=Q.auditionLength;if(ce>0&&ae===2){var le=Math.ceil(ce/L*100);le<=D&&(D=le,S=ce)}(0,J.sH)({studyInfo:a,progress:D,recent_start:S,enterpriseId:u,userId:v}).then(z=>{z&&z.data&&(0,Ze.Z)(z.data.integral_info||"")})}},this.getInfoFromSettings=(0,I.Z)(e().mark(function r(){var a,o,d,u,v,T,b,L,x;return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return a=i.props.studyInfo,o=a.studyType,d=a.projectId,D.next=4,(0,J.Gw)();case 4:if(u=D.sent,v=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],T=(0,ee.RG)(u,v),o!=="studyProject"){D.next=14;break}return D.next=10,(0,Ct.NU)({id:d});case 10:b=D.sent,L=b.status,x=b.data,L===200&&(T.showPreventHang=x.prevent_cut_screen?"OPEN":"CLOSED",T.speedSwitch=x.speed_play?"OPEN":"CLOSED",T.dragSwitch=x.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(T,()=>{i.dealVideoConfig()});case 15:case"end":return D.stop()}},r)})),this.dealAudioPoster=()=>{var r=this.props.resourceInfo.contentType,a=r===void 0?"":r;this.setState({showAudioPoster:a==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var r=this.state.showAudioPoster,a=this.play.playerContainer;r&&a&&(a.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),a.style.backgroundSize="cover")},this.getPlayInstance=r=>{this.play=r},this.handleOk=()=>{this.setState({dialogVisible:!1});var r=this.state.btnType,a=this.playingVideo.recentStart,o=this.props.t;r==="know"?(this.play.play(),this.play.seek(a),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,I.Z)(e().mark(function r(){var a,o,d,u;return e().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:a=i.props.studyInfo,o=a.studyId,d=a.resourceId,u=i.state.randomAlertUUID,(0,J.qp)({popupId:u,planId:o,resourceId:d,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return T.stop()}},r)})),this.renderFooter=()=>{var r=this.state.btnType,a=this.props.t;return n().createElement(m.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(r)},a(r==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var r=this.props.t;return n().createElement(m.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},r("common.ok"))},this.state={playerConfig:qe(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,gt.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var i=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,r=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==r&&r!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,i=s.playerConfig,r=s.showPrivateVodError,a=s.dialogVisible,o=s.dialogModal,d=s.promptMessage,u=s.randomAlertDialogVisible,v=s.randomAlertModal,T=s.randomAlertTip,b=s.encryptedSwitch,L=this.props,x=L.resourceInfo,S=L.t,D=b==="OPEN"?ve:kt;return n().createElement(E.Fragment,null,n().createElement(D,(0,Y.Z)({ref:this.getPlayInstance},x,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(tt.ZP,(0,Y.Z)({visible:a},o,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},d)),n().createElement(tt.ZP,(0,Y.Z)({visible:u},v,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},T)),r&&n().createElement("div",{className:"video-business-vod-error"},S("privateCloud.docReadError")),n().createElement(at.Z,{scenes:"video"}))}}var qt=(0,V.$j)(Dt,null,null,{forwardRef:!0})((0,g.Z)("translation",{withRef:!0})(At)),Ot=t(94184),ft=t.n(Ot),st=t(84874),Nt=te=>({userInfo:te.user}),Lt={getPravateDocUrl:Ge.ZP.localStorage.getPravateDocUrl};function _t(te){return JSON.stringify(te,(s,i)=>(typeof i=="function"&&(i=i.toString()),i))}function Mt(te){var s=parseInt(parseInt(te,10)/60,10),i=parseInt(parseInt(te,10)%60,10);return s<10&&(s="0".concat(s)),i<10&&(i="0".concat(i)),"".concat(s,":").concat(i)}class yt extends E.Component{constructor(s){var i;super(s);i=this,this.messageFun=r=>{var a=this.props,o=a.docType,d=a.progress,u=a.studyTimeLimit,v=a.studyTime,T=this.state,b=T.jumpPageTag,L=T.totalTime,x=T.timeRemaining,S=this.state.previewDocData,D={};try{D=JSON.parse(r.data)}catch(Q){return}switch(D.action){case"preview.ready":this.initDocData();break;case"preview.meta":S.totalPage=D.data.pc||1,S.currentPage=1,this.setState({previewDocData:S},()=>{this.reportStatusInterval()}),u>0?(this.saveProgress(d,v||"1",D.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||S.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(d,v||"1",D.data.pc||1),u>0&&d<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?L=u:L=u*D.data.pc,x=parseInt(L*(1-d/100),10),this.setState({timeRemaining:x,totalTime:L},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(b){b=!1,this.setState({jumpPageTag:b});return}S.currentPage=D.data.pageIndex+1,this.setState({previewDocData:S}),u||this.saveProgress(Math.ceil(S.currentPage/S.totalPage*100),S.currentPage,S.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":B.default.error(D.data.result);break;default:break}},this.initDocData=(0,I.Z)(e().mark(function r(){var a,o,d,u,v,T,b,L,x,S,D,Q,ae,ce;return e().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(i.setState({isShowPrivateError:!1}),a=i.props,o=a.docType,d=a.userInfo,u=a.documentWatermarkSettings,v=a.storageType,T=a.privateDocId,b=d.name,L=d.jobNumber,x=d.position,S="",D={},v!=="ALIBABA_PRIVATE"){z.next=18;break}return z.prev=6,Q=Lt.getPravateDocUrl(T),z.next=10,de.WY.get({url:Q});case 10:ae=z.sent,ce=ae.data,ce.code===0?D=ce.data||{}:i.setState({isShowPrivateError:!0}),z.next=18;break;case 15:z.prev=15,z.t0=z.catch(6),i.setState({isShowPrivateError:!0});case 18:if(u.indexOf("name")>-1&&(S="".concat(S+b," ")),u.indexOf("position")>-1&&(S="".concat(S+x," ")),u.indexOf("jobnumber")>-1&&(S+=L),S.length>0?window.sendMessage("preview.init",(0,w.Z)({wmType:1,wmValue:S,wmColor:"rgba(192, 192, 192, 0.4)"},D)):window.sendMessage("preview.init",(0,w.Z)({},D)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){z.next=29;break}z.t1=window,z.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},z.t1.sendMessage.call(z.t1,"setConfig",z.t2),z.next=32;break;case 29:z.t3=window,z.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},z.t3.sendMessage.call(z.t3,"setConfig",z.t4);case 32:case"end":return z.stop()}},r,null,[[6,15]])})),this.handleJumpPage=r=>{var a=this.state.previewDocData;a.currentPage=r,this.setState({jumpPageTag:!0,previewDocData:a});var o=r/a.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),r,a.totalPage),window.sendMessage("logic.toPage",{pageIndex:r-1})},this.redirectPage=()=>{var r=this.props,a=r.studyTimeLimit,o=r.studyTime,d=0;a===0&&(d=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:d})},this.docCountDown=()=>{var r=this.state.timeRemaining,a=this.state,o=a.totalTime,d=a.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{r-=1,this.setState({timeRemaining:r}),r<1&&(this.saveProgress(100,0,d.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var u=(o-r)/o*100;r<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(u),r,d.totalPage)},2e4)},this.saveProgress=(r,a,o)=>{var d=this.props.onSaveProgress;d&&d(r,a,o)},this.reportStatusInterval=()=>{var r=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var a=this.state.previewDocData.currentPage;r&&r({currentPage:a})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=r=>{this.docReader=r},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,i)=>{var r=this.docReader.contentWindow;r.postMessage(_t({action:s,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,i=s.t,r=s.storageType,a=s.privateDocId,o=this.props.aliUrl,d=this.state,u=d.previewDocData,v=d.pageOperateContainerVisible,T=d.timeRemaining,b=d.showCountDown,L=d.showCountDownContainer,x=d.showPageOperateContainer,S=d.isShowPrivateError;return r==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(a)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:v?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),L?n().createElement("div",{className:"ali-doc-container__countdown"},b?n().createElement("div",null,n().createElement(st.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Mt(T)," "),i("component.canDone")):n().createElement("div",null,n().createElement(st.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,v?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:ft()(["ali-doc__operate__content",x?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},u.currentPage," / ",u.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,i("component.choosePage"),n().createElement(st.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:u.totalPage})).map((D,Q)=>n().createElement("li",{key:D,onClick:()=>this.handleJumpPage(Q+1)},Q+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),n().createElement("div",{className:ft()("ali-doc__operate__unfold",x?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,S&&n().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),n().createElement(at.Z,{scenes:"document"}))}}yt.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Zt=(0,V.$j)(Nt)((0,g.Z)()(yt)),xt=te=>({userInfo:te.user}),Rt="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ut="".concat("https://doc.coolcollege.cn");class Wt extends n().Component{constructor(s){var i;super(s);i=this,this.onSaveProgress=(r,a,o)=>{var d=this.props,u=d.mode,v=d.studyInfo,T=d.userInfo,b=T.enterpriseId,L=T.id;u==="learn"&&(0,J.sH)({studyInfo:v,progress:r,page_count:o,recent_start:a,enterpriseId:b,userId:L}).then(x=>{x&&x.data&&(0,Ze.Z)(x.data.integral_info||"")})},this.messageFun=function(){var r=(0,I.Z)(e().mark(function a(o){var d,u,v,T,b,L;return e().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(o.data!=="local-resource"){S.next=9;break}if(d=i.props.resourceInfo,u=d.storageType,v=d.playId,!(u&&u==="LOCAL")){S.next=9;break}return S.next=6,ge(v);case 6:T=S.sent,b=T.data,b.code===0&&(L=document.getElementById("local-resource-box"),L.contentWindow.postMessage({msg:"local-auth-key",authKey:b.data.auth_key},"*"));case 9:case"end":return S.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),this.getInfoFromSettings=(0,I.Z)(e().mark(function r(){var a,o,d;return e().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,J.Gw)();case 2:a=v.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],d=(0,ee.RG)(a,o),i.setState(d,()=>{i.initDocPage(i.props)});case 6:case"end":return v.stop()}},r)})),this.initDocPage=(0,I.Z)(e().mark(function r(){var a,o,d,u,v,T,b,L,x,S,D,Q,ae,ce,le,z,we,Ae,De,Ke,Oe,We,Be,Ve,fe,Te,Xe,$e,ke,je,ot,lt,ct,Xt,dt=arguments;return e().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(a=dt.length>0&&dt[0]!==void 0?dt[0]:{},o=a.resourceInfo,d=a.mode,u=a.studyInfo,v=a.userInfo,T=i.state.documentPlayerMode,b=o.docType,L=o.docTitle,x=o.url,S=o.studyTimeLimit,D=o.studyTime,Q=o.aliUrl,ae=o.progress,ce=o.storageType,le=o.playId,z=u.studyType,we=u.courseId,Ae=u.studyId,De=u.resourceId,Ke=v.enterpriseId,Oe=v.id,We=v.isLogin,Be=v.token,Ve=T==="compat"&&Q.indexOf("preview.imm.aliyun")>-1||ce==="ALIBABA_PRIVATE",!Ve){Ne.next=11;break}i.setState({showAliReader:!0}),Ne.next=31;break;case 11:if(fe=(0,J.sH)({enterpriseId:Ke,userId:Oe,token:Be,studyInfo:u},!0),Te=z==="studyTask"?2:1,Xe=Ge.ZP.SaveProgress.reportStatusInterval(u),$e={isSaveProgress:We&&d==="learn"&&fe,isSaveRecord:!1,access_token:Be,userId:Oe,hostUrl:Rt,courseId:we,resourceId:De,courseType:1,planId:Ae,studyTimeLimit:S,studyTime:D,saveProgressUrl:fe,type:"eapp",progress:ae,saveRecordProgressUrl:Xe,actionType:Te},!(ce&&ce==="LOCAL")){Ne.next=26;break}return Ne.next=18,ge(le);case 18:if(ke=Ne.sent,je=ke.data,je.code!==0){Ne.next=25;break}$e.auth_key=je.data.auth_key,$e.url=x,Ne.next=26;break;case 25:return Ne.abrupt("return");case 26:ot=JSON.stringify($e),lt="".concat(L,".").concat(b).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ct="".concat(Ut,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ot),"&furl=").concat(x,"?attname=").concat(lt),ce&&ce==="LOCAL"&&(Xt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ct="".concat(Xt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ot),"&furl=").concat(x,"?attname=").concat(lt)),i.setState({encodeUrl:ct});case 31:case"end":return Ne.stop()}},r)})),this.handleReportStatusInterval=r=>{var a=r.currentPage,o=this.props,d=o.resourceInfo,u=o.mode,v=o.studyInfo,T=o.userInfo,b=d.type,L=v.courseId,x=v.studyId,S=v.resourceId,D=T.enterpriseId,Q=T.id,ae=T.isLogin,ce="",le="",z=0,we=!1;switch(b){case"enterprise":z=1,we=!0;break;case"study":ce=x,z=2,we=!0;break;case"project":le=x,z=1,we=!0;break;default:break}if(!(!we||!ae)){var Ae={plan_id:ce,enterprise_id:D,user_id:Q,course_id:L,project_course_id:le,resource_id:S,current_page:a,action_type:z,send_time:Date.parse(new Date)};u==="learn"&&(0,J.Xc)(v,Ae)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,i=this.state,r=i.encodeUrl,a=i.documentWatermarkSettings,o=i.showAliReader,d=s.docType,u=s.type,v=s.studyTimeLimit,T=s.studyTime,b=s.aliUrl,L=s.progress,x=s.storageType,S=s.playId;return o?n().createElement(Zt,{privateDocId:S,storageType:x,aliUrl:b,docType:d,progress:L,studyTime:T,studyTimeLimit:v,documentWatermarkSettings:a,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:u}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:r,frameBorder:"0",allowFullScreen:!0}),n().createElement(at.Z,{scenes:"document"}))}}var Le=(0,V.$j)(xt)(Wt),it=t(38979),Et=t(90706),Bt=t(12968),ea=t(44208),rt=t(60667),Vt=te=>({userInfo:te.user});class Qe extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,r=i.studyInfo,a=i.mode,o=i.userInfo,d=o.enterpriseId,u=o.id;a==="learn"&&(0,ee.Gp)({studyInfo:r,enterpriseId:d,userId:u})},this.getInfoFromSettings=(0,I.Z)(e().mark(function i(){var r,a,o;return e().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,J.Gw)();case 2:r=u.sent,a=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,ee.RG)(r,a),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return u.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,r=this.state.imageWatermark,a=i.name,o=i.unionid,d=i.sourceType,u=i.jobNumber,v=i.position,T=[];r.indexOf("name")>-1&&T.push(n().createElement(rt.Z,{dataType:"userName",value:o,name:a,type:d})),r.indexOf("position")>-1&&T.push(n().createElement("span",null,v)),r.indexOf("jobnumber")>-1&&T.push(n().createElement("span",null,u)),r.length>0&&this.setState({watermark:T.map((b,L)=>n().createElement("span",{key:L},b))})},this.handleError=i=>{var r=this.props.onError;r&&r(i)},this.getImageUrl=(0,I.Z)(e().mark(function i(){var r,a,o,d,u,v,T,b,L,x;return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(r=s.props,a=r.resourceInfo,o=r.t,d=a.playId,u=a.url,v=a.storageType,T=u,!v){D.next=21;break}if(v!=="ALIBABA_PRIVATE"){D.next=15;break}return D.next=7,(0,J.J7)(d);case 7:if(b=D.sent,!b){D.next=12;break}T=b,D.next=13;break;case 12:return D.abrupt("return",B.default.info(o("privateCloud.docReadError")));case 13:D.next=21;break;case 15:if(v!=="LOCAL"){D.next=21;break}return D.next=18,ge(d);case 18:L=D.sent,x=L.data,x.code===0&&(T="".concat(u,"?auth_key=").concat(x.data.auth_key));case 21:s.setState({imageUrl:[T]},()=>{var Q=s.state.imageUrl,ae="image-business",ce=document.querySelectorAll(".".concat(ae,"-image img"));ce.forEach((le,z)=>{le.onerror=()=>{s.handleError(Q[z])}})});case 22:case"end":return D.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",i=this.props.resourceInfo,r=i.preview,a=r===void 0?!1:r,o=this.state,d=o.watermark,u=o.imageUrl;return n().createElement("div",{className:s},n().createElement(at.Z,{scenes:"image"}),n().createElement(Et.Z,{className:"".concat(s,"-carousel")},u.map((v,T)=>n().createElement("div",{className:"".concat(s,"-image"),key:T.toString()},n().createElement(ea.Z,{src:v,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:a})))))}}Qe.defaultProps={prefixCls:"watch-image-page"};var Pt=(0,V.$j)(Vt)((0,g.Z)()(Qe)),jt=te=>({userInfo:te.user});class Ft extends n().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,I.Z)(e().mark(function i(){var r,a,o;return e().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,J.Gw)();case 2:r=u.sent,a=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,ee.RG)(r,a),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return u.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,r=this.state.htmlWatermark,a=i.name,o=i.unionid,d=i.sourceType,u=i.jobNumber,v=i.position,T=[];r.indexOf("name")>-1&&T.push(n().createElement(rt.Z,{dataType:"userName",value:o,name:a,type:d})),r.indexOf("position")>-1&&T.push(n().createElement("span",null,v)),r.indexOf("jobnumber")>-1&&T.push(n().createElement("span",null,u)),r.length>0&&this.setState({watermark:T.map((b,L)=>n().createElement("span",{key:L},b))})},this.saveProgress=()=>{var i=this.props,r=i.studyInfo,a=i.mode,o=i.userInfo,d=o.enterpriseId,u=o.id;a==="learn"&&(0,ee.Gp)({studyInfo:r,enterpriseId:d,userId:u})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",i=this.props.resourceInfo,r=i.url,a=this.state.watermark;return n().createElement("div",{className:s},n().createElement("div",{className:"".concat(s,"__html-watermark")},a),n().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:r}))}}var Kt=(0,V.$j)(jt)((0,g.Z)()(Ft)),$t=t(57068),Yt=t(1164),Ht=te=>({userInfo:te.user});class zt extends n().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var i=s.split("//"),r=i[1].split("/");return[i[0],r[0]].join("//")},this.getScormUrl=()=>{var s=this.props,i=s.studyInfo,r=s.mode,a=s.userInfo,o=s.resourceInfo,d=s.from,u=a.enterpriseId,v=a.id,T=o.url,b=this.getHost(T);if(r==="learn"){var L=(0,w.Z)({userId:v,enterpriseId:u,access_token:localStorage.token,from:d,scormUrl:encodeURIComponent(T),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(b).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat($t.stringify(L))}return"".concat(b,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(T))},this.handleOpenScormLink=s=>{Yt.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,i="scorm-business",r=this.getScormUrl(),a=(0,gt.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:i},a?n().createElement("div",{className:"".concat(i,"_scorm")},n().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,s("resourcePlay.scormTip")),n().createElement(m.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(r)},s("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:r}))}}var Gt=(0,V.$j)(Ht)((0,g.Z)()(zt));class Qt extends n().Component{render(){var s=this.props,i=s.visible,r=s.title,a=s.onCancel,o=s.t,d=n().createElement("span",null,r);return n().createElement(tt.ZP,{visible:i,title:d,onCancel:a,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:P(),alt:"picture"}),n().createElement("h2",null,o("localStorage.tip")),n().createElement("p",null,o("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(m.Z,{type:"primary",className:"know",onClick:a},o("localStorage.onKnow"))))}}var Ue=(0,g.Z)()(Qt);class Tt extends E.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var r=this.props.previewInfo,a=r.onCancel;this.onCancel(),a(i)},this.onGetVideoBusiness=i=>{var r=this.props.onRef,a=r===void 0?()=>{}:r;this.videoBusiness=i,a(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,I.Z)(e().mark(function i(){var r,a,o,d,u,v,T,b,L,x,S,D=arguments;return e().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(r=D.length>0&&D[0]!==void 0?D[0]:null,a=s.props,o=a.resourceInfo,d=a.watchType,u=o.storageType,v=o.playId,T=o.originUrl,b=d==="image"||d==="video"||d==="doc",L=null,r?L=r:T?L=T:L=o.url,!(b&&L&&v&&u&&u==="LOCAL")){ae.next=22;break}return ae.prev=7,ae.next=10,(0,J.NY)(v);case 10:return x=ae.sent,ae.next=13,(0,J.Hy)(L,x);case 13:S=ae.sent,S?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),ae.next=20;break;case 17:ae.prev=17,ae.t0=ae.catch(7),s.setState({showBan:"yes"});case 20:ae.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return ae.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,r=i.prefixCls,a=i.watchType,o=i.onCurrentTime,d=o===void 0?()=>{}:o;return n().createElement("div",{className:"".concat(r,"-outer")},a==="video"&&n().createElement(qt,(0,Y.Z)({onCurrentTime:d,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),a==="doc"&&n().createElement(Le,this.props),a==="image"&&n().createElement(Pt,(0,Y.Z)({onError:this.handleJudgeNetwork},this.props)),a==="html"&&n().createElement(Kt,this.props),a==="scorm"&&n().createElement(Gt,this.props))},this.renderFooter=()=>{var i=this.props,r=i.resourceInfo.storageType,a=i.t,o=this.state.showBan,d=o!==""&&o==="yes";return r&&r!=="PUBLIC_CLOUD"&&d?n().createElement(m.Z,{type:"primary",className:"know",onClick:this.onCancelModel},a("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,i=s.showBan,r=s.fullScreen,a=this.props,o=a.mode,d=a.previewWay,u=a.previewInfo,v=a.prefixCls,T=a.t,b=a.showEnlarge,L=a.footer,x=L===void 0?null:L,S=u.visible,D=u.destroyOnClose,Q=u.title,ae=i!==""&&i==="yes",ce=i!==""&&i==="no";return n().createElement(E.Fragment,null,o==="preview"&&d==="popups"&&n().createElement(tt.ZP,{destroyOnClose:D,visible:S,title:Q,onCancel:this.onCancelModel,footer:x||this.renderFooter(),wrapClassName:"".concat(v,"-resource ").concat(r?"".concat(v,"-full"):"")},b&&n().createElement("div",{className:"".concat(v,"-resource-out-icon"),onClick:this.onFullScreen},r?n().createElement(A.Z,{className:"".concat(v,"-resource-icon")}):n().createElement(p.Z,{className:"".concat(v,"-resource-icon")})),n().createElement("div",{className:"".concat(v,"-inner")},!S&&n().createElement(O.Z,{size:"large"}),S&&ce&&this.renderOuter(),ae&&n().createElement(C,null))),(o==="learn"||d==="page")&&ce&&this.renderOuter(),(o==="learn"||d==="page")&&n().createElement(Ue,{visible:ae,title:Q||T("questionn.warmHint"),onCancel:this.onCancel}))}}Tt.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var et=(0,g.Z)("translation",{withRef:!0})(Tt)},41225:function(be,re,t){"use strict";t.d(re,{Hy:function(){return I},NY:function(){return k},Gw:function(){return e},sH:function(){return A},BR:function(){return E},qp:function(){return p},Xc:function(){return g},J7:function(){return n}});var j=t(57361),O=t(9754),F=t.n(O),m=t(10237),Y=t(37055),I=function(){var f=(0,j.Z)(F().mark(function P(){var y,C,w,H,B,V,ee,J=arguments;return F().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return y=J.length>0&&J[0]!==void 0?J[0]:"",C=J.length>1&&J[1]!==void 0?J[1]:"",w="",y.startsWith("http")?(H=y.split("//")[1].trim(),B=H.split("/")[0],w="https://".concat(B,"/cms/ticket")):(V=y.split("/")[0],w="https://".concat(V,"/cms/ticket")),ie.prev=4,ie.next=7,m.ZQ.get({url:w,params:{ticket:C}});case 7:if(ee=ie.sent,!(ee.status===200||ee.status===403)){ie.next=10;break}return ie.abrupt("return",Promise.resolve(!0));case 10:return ie.abrupt("return",Promise.resolve(!1));case 13:return ie.prev=13,ie.t0=ie.catch(4),ie.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return ie.stop()}},P,null,[[4,13]])}));return function(){return f.apply(this,arguments)}}(),k=function(){var f=(0,j.Z)(F().mark(function P(y){var C,w;return F().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,m.ZQ.get({url:Y.ZP.local.getTicket(y)});case 2:if(C=B.sent,w=C.data,w.code!==0){B.next=6;break}return B.abrupt("return",Promise.resolve(w.data.ticket));case 6:return B.abrupt("return",Promise.resolve(""));case 7:case"end":return B.stop()}},P)}));return function(y){return f.apply(this,arguments)}}(),e=function(){var f=(0,j.Z)(F().mark(function P(){var y;return F().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,m.WY.get({url:Y.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return y=w.sent,w.abrupt("return",y.data.list);case 4:case"end":return w.stop()}},P)}));return function(){return f.apply(this,arguments)}}(),E=function(){var f=(0,j.Z)(F().mark(function P(y){var C,w,H;return F().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,m.WY.get({url:Y.ZP.localStorage.getPravateVideoUrl(y)});case 2:if(C=V.sent,C.data.code!==0){V.next=6;break}return w=C.data.data.videoPlayInfo,H=w===void 0?"":w,V.abrupt("return",H);case 6:return V.abrupt("return","");case 7:case"end":return V.stop()}},P)}));return function(y){return f.apply(this,arguments)}}(),n=function(){var f=(0,j.Z)(F().mark(function P(y){var C,w,H;return F().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return C=Y.ZP.localStorage.getPravateDocUrl(y),V.prev=1,V.next=4,m.WY.get({url:C});case 4:if(w=V.sent,H=w.data,!(H.code===0&&H.data)){V.next=8;break}return V.abrupt("return",H.data.docResourceDownloadUrl||"");case 8:return V.abrupt("return","");case 11:return V.prev=11,V.t0=V.catch(1),V.abrupt("return","");case 14:case"end":return V.stop()}},P,null,[[1,11]])}));return function(y){return f.apply(this,arguments)}}(),A=function(P){var y=P.studyInfo,C=P.progress,w=P.recent_start,H=P.page_count,B=P.enterpriseId,V=P.userId,ee=P.token,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,de,ie=y.studyType;if(ie==="studyTask"&&(de=Y.ZP.SaveProgress.studySaveProgress(y)),(ie==="course"||ie==="enterprise")&&(de=Y.ZP.SaveProgress.enterpriseCourseSaveProgress(y)),ie==="studyProject"&&(de=Y.ZP.SaveProgress.projectSaveProgress(y)),ie==="platform"&&(de="".concat(Y.ZP.SaveProgress.platformCourseSaveProgress(y))),(J||ie==="platform")&&(de+="?enterprise_id=".concat(B,"&user_id=").concat(V)),J)return de+="&access_token=".concat(ee||localStorage.getItem("token")),de;var K={progress:C,recent_start:w,tempTime:Date.parse(new Date)};return H&&(K.page_count=H),y.evaluationId&&(K.evaluation_id=y.evaluationId),m.WY.post({url:de,data:K})},p=f=>{var P=f.popupId,y=f.planId,C=f.resourceId,w=f.type;return m.WY.post({url:Y.ZP.TaskStudyRecord.setRandomPopupRecord(y),data:{course_id:C,terminal_type:"PC",popup_id:P,type:w}})},g=(f,P)=>{var y=Y.ZP.SaveProgress.reportStatusInterval(f);return m.WY.post({url:y,data:P})}},21594:function(be,re,t){"use strict";t.d(re,{pu:function(){return Y},RG:function(){return I},Gp:function(){return k},O8:function(){return e}});var j=t(88986),O=t(69164),F=t(38642),m=t(41225),Y=E=>{var n="";switch(E){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},I=(E,n)=>{var A={};return n.forEach(p=>{var g=E.find(w=>w.type===p.type);if(g)if(p.type==="document_duration_limit"){var f=g.action_list,P=f.find(w=>w.type==="random_popup_verification");!(0,F.UI)("RANDOM_POPUP_VERIFY")||!P?A[p.name]="CLOSE":A[p.name]=P.param.checked==="true"?"OPEN":"CLOSE"}else if(p.type==="document_player"){var y=JSON.parse(g.actions);y.forEach(w=>{w.param.checked==="true"&&(A[p.name]=w.type)})}else if(p.type==="dynamic_watermark"){var C=g.action_list;C.forEach(w=>{w.type===p.resourceType&&w.param.checked==="true"&&(A[p.name]=w.param.comment)})}else A[p.name]=g.switch_status}),A},k=E=>{(0,m.sH)((0,j.Z)({progress:100,recent_start:1},E)).then(n=>{n&&n.data&&(0,O.Z)(n.data.integral_info||"")})},e=E=>{var n=document.createElement("div");return n.innerHTML=E,n.childNodes[0]}},48474:function(be,re,t){"use strict";var j=t(3407),O=t(6793),F=(0,O.me)(),m=j.Z[F],Y={ADD_COURSE:{title:m.course.newCourse,img:"".concat("https://oss.coolcollege.cn","/1824752989672443904.png"),footer:m.dashboard.cumulativeCourse,unit:m.common.count},LEARN_PEOPLE_COUNT:{title:m.dashboard.studyNum,img:"".concat("https://oss.coolcollege.cn","/1824752989685026816.png"),footer:m.dashboard.cumulativeStudents,unit:m.common.people},TOTAL_DURATION:{title:m.dashboard.totalTime,img:"".concat("https://oss.coolcollege.cn","/1824752989668249600.png"),footer:m.dashboard.addTotalTime,unit:"time"},PER_CAPITA_DURATION:{title:m.dashboard.perCapitaTime,img:"".concat("https://oss.coolcollege.cn","/1824752989689221120.png"),footer:m.dashboard.historyPerCapitaTime,titleTip:m.dashboard.preCapitaDurationTip,unit:"time"},ADD_EXAM:{title:m.dashboard.newExam,img:"".concat("https://oss.coolcollege.cn","/1827118200924540928.png"),footer:m.dashboard.cumulativeExam,unit:m.common.examUnit},EXAM_PERSON_TIME:{title:m.dashboard.examCount,img:"".concat("https://oss.coolcollege.cn","/1827118200844849152.png"),footer:m.dashboard.cumulativeVisits,unit:m.common.visits,titleTip:m.dashboard.examCountTip},EXAM_COUNT:{title:m.dashboard.examPeopleCount,img:"".concat("https://oss.coolcollege.cn","/1824752989685026816.png"),footer:m.dashboard.peopleCount,unit:m.common.people},COURSE:{title:m.dashboard.courseTotal,img:"".concat("https://oss.coolcollege.cn","/1826438861677531136.png"),footer:m.dashboard.addedThisMonth,unit:m.common.count},TRAIN:{title:m.dashboard.trainingProgram,img:"".concat("https://oss.coolcollege.cn","/1826438861681725440.png"),footer:m.dashboard.addedThisMonth,unit:m.common.count},EXAM:{title:m.dashboard.examination,img:"".concat("https://oss.coolcollege.cn","/1826438861685919744.png"),footer:m.dashboard.addedThisMonth,unit:m.common.examUnit},PARTICIPANTS_LEARN_PEOPLE_COUNT:{title:m.dashboard.numberOfParticipants,img:"".concat("https://oss.coolcollege.cn","/1826438861690114048.png"),footer:m.dashboard.addedThisMonth,unit:m.common.people,toolTip:m.dashboard.studyCountTip},LEARN_TOTAL_DURATION:{title:m.dashboard.studyTotalTime,img:"".concat("https://oss.coolcollege.cn","/1826438861694308352.png"),footer:m.dashboard.perCapitaTime,unit:"time",toolTip:m.dashboard.studyDurationTip},ADD_TRAIN:{title:m.dashboard.addTraining,img:"".concat("https://oss.coolcollege.cn","/1834133786183471104.png"),footer:m.dashboard.trainingCount,unit:m.common.count},PARTICIPATION_PEOPLE_COUNT:{title:m.dashboard.participationPeopleCount,img:"".concat("https://oss.coolcollege.cn","/1834133920170512384.png"),footer_right:[m.dashboard.trainTask,m.dashboard.trainSelf],unit:m.common.people},LEARN_DURATION:{title:m.dashboard.learnDuration,img:"".concat("https://oss.coolcollege.cn","/1834134016928911360.png"),footer_right:[m.dashboard.trainTask,m.dashboard.trainSelf],unit:"time"}};re.Z=Y},58923:function(be,re,t){"use strict";t.d(re,{j:function(){return y},bL:function(){return P},s0:function(){return f}});var j={interactions:[{type:"element-active"}],state:{active:{style:C=>{var w=C.shape,H=w.attrs,B=H.fill,V=H.fillOpacity;return{lineWidth:5,stroke:B,strokeOpacity:V}}}},pieStyle:{lineWidth:0,fillOpacity:1},innerRadius:.7},O=t(78138),F=t.n(O),m=t(9215),Y=t(3407),I=t(6793),k=(0,I.me)(),e=Y.Z[k],E={autoFit:!0,xField:"time",yField:["value","bar_value"],appendPadding:[0,30,-30,30],padding:[10,10,80,10],legend:{position:"bottom",offsetY:-10},limitInPlot:!0,meta:{value:{alias:e.dashboard.loginCount,sync:"bar_value",range:[0,.95],formatter:C=>(0,m.H5)(C)},bar_value:{alias:e.dashboard.loginPeople,sync:!0,range:[0,.95],formatter:C=>(0,m.H5)(C)},time:{formatter:C=>F()(Number(C)).format("YYYY-MM-DD"),sync:!1}},yAxis:{value:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}},grid:{nice:!0}},bar_value:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}}}},xAxis:{label:{autoRotate:!1},line:{style:{stroke:"#D4D4D4 ",lineWidth:.5}},nice:!0,tickCount:7},geometryOptions:[{geometry:"line",lineStyle:{lineWidth:1.4,smooth:!0},point:{},color:"#00C7BE",smooth:!0},{geometry:"column",color:"#2696FF",columnWidthRatio:.4,maxColumnWidth:20}],tooltip:{formatter:C=>C.hasOwnProperty("bar_value")?{name:e.dashboard.loginPeople,value:(0,m.Kr)(C.bar_value)}:{name:e.dashboard.loginCount,value:(0,m.Kr)(C.value)}},slider:{start:0,end:1,offsetY:10,formatter:C=>F()(Number(C)).format("YYYY-MM-DD")}},n=(0,I.me)(),A=Y.Z[n],p={LOGIN_PEOPLE_COUNT:A.dashboard.loginPeople,LEARN_PEOPLE_COUNT:A.dashboard.learnCount,LOGIN_RATE:A.dashboard.loginRate,LEARN_RATE:A.dashboard.learnRate},g={autoFit:!0,xField:"time",yField:["value","count"],meta:{value:{formatter:C=>(0,m.H5)(C)},count:{formatter:C=>"".concat(C,"%")}},padding:[20,30,60,20],yAxis:{value:{tickCount:5,line:{style:{stroke:"#D4D4D4",lineWidth:.5}},grid:{nice:!0}},count:{line:{style:{stroke:"#D4D4D4",lineWidth:.5}}}},xAxis:{label:{autoRotate:!1},line:{style:{stroke:"#D4D4D4 ",lineWidth:.5}},nice:!0,tickCount:7},slider:{start:0,end:1},tooltip:{formatter:C=>{var w=["LOGIN_PEOPLE_COUNT","LEARN_PEOPLE_COUNT"].includes(C.type)?(0,m.Kr)(Number(C.value)):"".concat(C.count,"%");return{name:p[C.type],value:w}}},geometryOptions:[{geometry:"column",isGroup:!0,seriesField:"type",columnWidthRatio:.4,maxColumnWidth:20,marginRatio:.4,color:["#2696FF","#FF5E5E"]},{geometry:"line",isGroup:!0,seriesField:"type",color:["#2ED281","#F5B329"],smooth:!0,lineStyle:{lineWidth:1.4},point:{size:4}}],legend:{position:"bottom",offsetY:-20,itemName:{formatter:C=>p[C]}}},f=j,P=E,y=g},9215:function(be,re,t){"use strict";t.d(re,{aq:function(){return k},QX:function(){return e},Kr:function(){return n},H5:function(){return A}});var j=t(78138),O=t.n(j),F=t(3407),m=t(6793),Y=(0,m.me)(),I=F.Z[Y],k=p=>{var g=O().duration(Number(p),"seconds"),f=Math.floor(g.asHours()),P=Math.round(g.asMinutes())-f*60;return f=P===60?f+1:f,P=P===60?0:P,[f,P]};function e(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD",f=O()().subtract("day",p).startOf("day").valueOf(),P=O()().subtract("day",1).endOf("day").valueOf(),y=O()(f).format(g),C=O()(P).format(g);return{timestamp:[f,P],titmeStr:[y,C]}}function E(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,f=p.toString(),P=f.indexOf(".");return P===-1||(f=f.substring(P,P+g)),f}function n(p){var g=(Math.round(p*100)/100).toString(),f=g.indexOf(".");if(f<0)g=g.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,");else{var P=g.substr(0,f),y=E(g);g=P.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),g=g+y}return g}function A(p){for(var g=["","",""],f=1e3,P=3,y="",C=1;p/f>=1;)f*=10,P+=1;return P<=8?(y=parseInt(P-4)/3>1?I.dashboard.tenMillion:I.dashboard.tenThousand,C=y===I.dashboard.tenThousand?1e4:1e7,p%C==0?g[0]=parseInt(p/C)+"":g[0]=parseFloat(p/C).toFixed(2)+"",g[1]=y):P<=16&&(y=(P-8)/3>1?I.dashboard.hundredBillion:I.dashboard.hundredMillion,y=(P-8)/4>1?I.dashboard.oneTrillion:y,y=(P-8)/7>1?I.dashboard.billions:y,C=1,y===I.dashboard.hundredMillion?C=1e8:y===I.dashboard.hundredBillion?C=1e11:y===I.dashboard.oneTrillion?C=1e12:y===I.dashboard.billions&&(C=1e15),p%C==0?g[0]=parseInt(p/C)+"":g[0]=parseFloat(p/C).toFixed(2)+"",g[1]=y),p<=9999?n(p):g.join("")}},9849:function(be,re,t){"use strict";t.d(re,{Ej:function(){return Y},kL:function(){return I},T:function(){return k},NU:function(){return e},FL:function(){return E},fn:function(){return n},bm:function(){return A},jY:function(){return p},Vs:function(){return g},li:function(){return f},Nl:function(){return P},YF:function(){return y},Q6:function(){return C},zW:function(){return w},Zv:function(){return H},Qg:function(){return B},qc:function(){return V},Ve:function(){return J},rS:function(){return de},Rh:function(){return ie}});var j=t(10237),O=t(37055),F=t(38642),m={zaraFlag:(0,F.UI)("ZARA_H5")};function Y(K,G){var ve=O.ZP.StudyProjectList.startStudy(K);return j.WY.post({url:ve,data:G})}function I(K){var G=O.ZP.Common.enroll(K);return j.WY.post({url:G})}function k(K,G){var ve=K.courseId,Je=O.ZP.StudyProjectList.studyProject(ve);return j.WY.get({url:Je,params:G})}function e(K){var G=K.id,ve=m.zaraFlag?O.m1.getAssessmentProjectInfo(G):O.m1.getProjectInfo(G);return j.WY.get({url:ve})}function E(K){var G=K.courseId,ve=O.ZP.EnterpriseCourse.addScanCount(G);return j.WY.post({url:ve})}function n(){var K=O.ZP.StudyProjectList.getAccountInfo();return j.WY.get({url:K})}function A(K){var G=O.ZP.StudyProjectList.projectCertiUrl(K);return j.WY.get({url:G})}function p(K){var G=K.courseId,ve=O.ZP.Courses.like(G);return j.WY.post({url:ve})}function g(K){var G=O.ZP.EnterpriseCourse.addCommentAndScore();return j.qg.post({url:G,data:K})}function f(K){var G=O.ZP.EnterpriseCourse.getCourseComments();return j.WY.get({url:G,params:K})}function P(K){var G=O.ZP.EnterpriseCourse.addCommentAndScore();return j.qg.post({url:G,data:K})}function y(K){var G=O.ZP.EnterpriseCourse.deleteComment();return j.qg.post({url:G,data:K})}function C(K,G){var ve=O.ZP.StudyProjectList.projectStudyRecord(K);return j.WY.get({url:ve,params:G})}function w(K){var G=O.ZP.DingSpaceId.getSpaceId();return j.WY.get({url:G,params:K})}function H(K,G){var ve=O.ZP.PlatformCourse.learningUrl(K);return j.WY.get({url:ve,params:G})}function B(K){var G=O.ZP.MyExamTask.examIntro({examId:K});return j.WY.get({url:G})}function V(K){var G=O.ZP.MyExamTask.examCheckStatus({examId:K});return j.WY.get({url:G})}function ee(K,G){var ve=CONFIG.Common.getOperateLog(K);return formDataRequest.get({url:ve,params:G})}function J(K,G){var ve=m.zaraFlag?O.ZP.StudyProjectList.changeCustomStatus(K):O.ZP.StudyProjectList.changeStatus(K);return j.WY.post({url:ve,data:G})}function de(K){var G=O.ZP.StudyProjectList.getProjectReward(K);return j.WY.get({url:G})}function ie(K){var G=O.ZP.subsidyGz.subsidyCourseSetting(K);return j.WY.get({url:G})}},24514:function(be,re,t){"use strict";t.r(re),t.d(re,{default:function(){return ha}});var j=t(34792),O=t(48086),F=t(57361),m=t(33565),Y=t(9754),I=t.n(Y),k=t(12924),e=t.n(k),E=t(28216),n=t(91768),A=t(62029),p=t(13254),g=t(14277),f=t(22385),P=t(31097),y=t(88986),C=t(76466),w=t(93212);class H extends e().Component{constructor(c){super(c);this.state={}}render(){var c=this.props,M=c.active,N=c.depart;return e().createElement("div",null,Array.from({length:N},(Z,U)=>U).map(Z=>e().createElement("div",{key:Z,className:["dashboard-components-departBar-skeleton","".concat(M?"dashboard-components-departBar-skeleton-active":"")].join(" ")},e().createElement("p",null),e().createElement("p",null))))}}var B=H,V=t(55077),ee=t.n(V);class J extends e().Component{constructor(c){super(c);this.state={}}render(){var c=this.props,M=c.active,N=c.block;return e().createElement("div",{className:ee().container},Array.from({length:N},(Z,U)=>U).map(Z=>e().createElement("div",{key:Z,className:M?ee().active:""},e().createElement("div",{className:ee().box},e().createElement("div",{className:ee().block},e().createElement("div",{className:ee().one}),e().createElement("div",{className:ee().two})),e().createElement("div",{className:ee().blockTwo},e().createElement("div",{className:ee().one}),e().createElement("div",{className:ee().two}))))))}}J.defaultProps={active:!1,block:1};var de=J,ie=t(40052),K=t.n(ie);class G extends e().Component{constructor(c){super(c);this.state={}}render(){var c=this.props,M=c.active,N=c.block;return e().createElement("div",{className:K().container},Array.from({length:N},(Z,U)=>U).map(Z=>e().createElement("div",{key:Z,className:M?K().active:""},e().createElement("div",{className:K()["container-block"]}),e().createElement("div",{className:K()["container-bar"]}))))}}G.defaultProps={active:!1,block:1};var ve=G,Je={DepartBar:B,quickEntry:de,useGuide:ve},qe=Je;class pt extends e().Component{constructor(c){super(c);this.cancelPreview=()=>{var M=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,y.Z)((0,y.Z)({},M),{},{visible:!1})})},this.handlePreview=M=>{var N=this.state,Z=N.previewInfo,U=N.resourcePlayInfo,$=N.newExamTask,ne=this.props.isNewExam;Object.assign(U,{mode:"preview",watchType:"video",resourceInfo:{source:{FD:M.type==="examTask"&&ne?$.resourceInfo.url:M.resourceInfo.url,OD:M.type=ne?$.resourceInfo.path:M.resourceInfo.path},originUrl:M.type==="examTask"&&ne?$.resourceInfo.url:M.resourceInfo.url,playId:M.type==="examTask"&&ne?$.resourceInfo.videoId:M.resourceInfo.videoId,storageType:M.type==="examTask"&&ne?$.resourceInfo.storageType:M.resourceInfo.storageType}}),this.setState({resourcePlayInfo:U,previewInfo:(0,y.Z)((0,y.Z)({},Z),{},{title:M.actualName,visible:!0,onCancel:this.cancelPreview})})},this.state={previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}},resourcePlayInfo:{mode:"preview",watchType:"",resourcePlayInfo:{}},newExamTask:{title:this.props.t("workbench.createExamTask"),actualName:"\u3010\u57F9\u8BAD\u3011\u8003\u8BD5\u4EFB\u52A1",img_src:"https://oss.coolcollege.cn/1829032822459994112.jpg",resourceInfo:{id:"1826422729943945216",url:"https://video.coolcollege.cn/5319c422a4264514ba569c156a9e86a5/7fbc0442aa9445aea25a93c523af305b-c938a58ad8c327c1b5b173c9f5ae3d58-ld.mp4",path:"https://video.coolcollege.cn/original/5319c422a4264514ba569c156a9e86a5/52b7981c-180bc241b6d-0006-ed9b-246-5143b.mp4",contentType:"mp4",videoId:"99c231a0fc3c4fbc8ba7b0c4269ccd63",storageType:"PUBLIC_CLOUD"}}}}render(){var c=this.state,M=c.resourcePlayInfo,N=c.previewInfo,Z=this.props,U=Z.t,$=Z.guideList,ne=Z.isLoading;return e().createElement("div",{className:"guide-card"},e().createElement("div",{className:"guide-card-title"},U("workbench.guidance")),ne?e().createElement(qe.useGuide,{active:!0,block:4}):$.length?e().createElement("div",{className:"user-guide"},$.map(oe=>e().createElement("div",{className:"user-guide-item",onClick:()=>this.handlePreview(oe),key:"".concat(oe.img_src).concat(oe.title)},e().createElement("img",{src:oe.img_src,className:"user-guide-item-img"}),e().createElement(P.Z,{title:oe.title},e().createElement("div",{className:"user-guide-item-title"},oe.title))))):e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:U("courseReport.noData")}),e().createElement(C.Z,(0,A.Z)({},M,{previewInfo:N})))}}var kt=(0,E.$j)(l=>({isNewExam:l.updateVersion.isNewExam}))((0,n.Z)()(pt)),ht=t(8212),vt=t(49101),Ze=t(76651),Ge=t(32407),ge=t(37055),Se=t(10237),tt=t(38642),gt=t(5430),Ct=[{title:Ge.Z.t("workbench.createOnlineCourse"),actualName:"\u3010\u77E5\u8BC6\u5E93\u3011\u7D20\u6750\u5E93+\u7EBF\u4E0A\u8BFE",img_src:"https://oss.coolcollege.cn/1829032822434828288.jpg",resourceInfo:{id:"1829045567947411456",url:"http://video.coolcollege.cn/542ee8dfd1ff4246928631939fef7f89/2f5fe3e926304d008baa489869f498c0-72315d68211a805b1e1fc1c0899a4bf9-ld.mp4",path:"https://video.coolcollege.cn/original/542ee8dfd1ff4246928631939fef7f89/1be34f08-17f45790767-0006-ed9b-246-5143b.mp4",contentType:"mp4",videoId:"0e5e7787dd574504abb9dfaa4695ca2f",storageType:"PUBLIC_CLOUD"}},{title:Ge.Z.t("workbench.createStudyProject"),actualName:"\u3010\u77E5\u8BC6\u5E93\u3011\u5B66\u4E60\u9879\u76EE",img_src:"https://oss.coolcollege.cn/1829032822485159936.jpg",resourceInfo:{id:"1826422729855864832",url:"https://video.coolcollege.cn/adc99556ac6d4982873f0c34693d12fc/7781d11df8e84820bd717a9be1b6e556-4a66cc2a2437b7dcf23b7d3ebebe7365-ld.mp4",path:"https://video.coolcollege.cn/original/adc99556ac6d4982873f0c34693d12fc/22d5f2ed-180acf30f75-0006-ed9b-246-5143b.mp4",contentType:"mp4",videoId:"4e50ccff8b004641bbdebc28413bf006",storageType:"PUBLIC_CLOUD"}},{title:Ge.Z.t("workbench.createExamTask"),actualName:"\u3010\u57F9\u8BAD\u3011\u8003\u8BD5\u4EFB\u52A1",img_src:"https://oss.coolcollege.cn/1829032822459994112.jpg",resourceInfo:{id:"1829045031428820992",url:"http://video.coolcollege.cn/0e5e7787dd574504abb9dfaa4695ca2f/829537c53bbd464f9f0418aab76ce263-8df3305b79a5ef27f8691a07f77ec4ed-ld.mp4",path:"https://video.coolcollege.cn/original/0e5e7787dd574504abb9dfaa4695ca2f/3d311ccc-17f4575e7f7-0006-ed9b-246-5143b.mp4",contentType:"mp4",videoId:"0e5e7787dd574504abb9dfaa4695ca2f",storageType:"PUBLIC_CLOUD"},type:"examTask"},{title:Ge.Z.t("workbench.createEmployee"),actualName:"\u3010\u57F9\u8BAD\u3011\u65B0\u5458\u5DE5\u4EFB\u52A1",img_src:"https://oss.coolcollege.cn/1829032822497742848.jpg",resourceInfo:{id:"1829045097057095680",url:"http://video.coolcollege.cn/0cdd19a789bc4dc4b1569bc48963bbf0/5672cb440df2455d80469e5fa0d475ae-a13dbd67038a1a33835108641162d3cc-ld.mp4",path:"https://video.coolcollege.cn/original/0cdd19a789bc4dc4b1569bc48963bbf0/1ea6561e-17f4577c718-0006-ed9b-246-5143b.mp4",contentType:"mp4",videoId:"0cdd19a789bc4dc4b1569bc48963bbf0",storageType:"PUBLIC_CLOUD"}}];function at(l){return Se.WY.get({url:ge.ZP.workBench.getAllEntryList(),params:l})}function It(l){return Se.WY.get({url:ge.ZP.workBench.getUsedEntryList(),params:l})}function St(l){var c=l.sortIds,M=c===void 0?"":c;return Se.WY.get({url:ge.ZP.workBench.updateQuickEntries(),params:{sortIds:M}})}function Dt(){return{success:"true",data:Ct}}function At(l){var c=ge.ZP.updateVersion.getUpdateVersionList(),M=(0,y.Z)({user_id:ge.ZP.userId},l);return Se.WY.get({url:c,params:M})}function qt(){return{success:"true",data:{url:"https://oss.coolcollege.cn/1829790996410535936.png"}}}function Ot(l){var c=ge.ZP.workBench.getMyPendingTask(),M=(0,y.Z)({eid:ge.ZP.enterpriseId,uid:ge.ZP.userId},l);return Se.WY.get({url:c,params:M})}function ft(l){var c=l.start_date,M=l.end_date,N=l.quota_code,Z=ge.ZP.Dashboard.getDataOverview(),U={start_date:c,end_date:M,quota_code:N};return Se.WY.get({url:Z,params:U})}function st(l){var c=ge.ZP.Dashboard.getPlatformLoginData();return Se.WY.get({url:c,params:l})}function Nt(l){return Se.WY.get({url:ge.ZP.workBench.getNewExamTaskList(),params:l})}function Lt(l){return Se.WY.get({url:ge.ZP.workBench.getOldExamTaskList(),params:l})}function _t(l){return Se.WY.get({url:ge.ZP.workBench.getStudyProjectList(),params:l})}function Mt(l){return Se.WY.get({url:ge.ZP.workBench.getStudyTaskList(),params:l})}function yt(l){return Se.WY.get({url:ge.ZP.workBench.getEmployeeTaskList(),params:l})}function Zt(l){var c=l.cancelReleaseId,M=(0,tt.UI)("ZARA_H5")?ge.ZP.EmployeeEdit.cancelCustomPublishPlan():ge.ZP.EmployeeEdit.cancelPublishPlan(),N={plan_id:c};return Se.qg.post({url:M,data:N})}function xt(l){var c=l.cancelReleaseId,M=ge.ZP.EmployeeEdit.cancelPublishPlan(),N={plan_id:c};return Se.qg.post({url:M,data:N})}function Rt(l){return Se.WY.post({url:gt.OB.ExamManagement.postExamChangeStatusUrl(l.cancelReleaseId),data:{planId:l.cancelReleaseId,status:l.publishStatus}})}function Ut(l){var c=l.cancelReleaseId,M=l.publishStatus;return Se.WY.post({url:ge.ZP.ExaminationPlanList.changePublish(),params:{examId:c,publishStatus:M}})}var Wt=t(7565),Le=t.n(Wt),it=t(84874),Et=l=>{var c=l.hasChecked,M=l.hasClear,N=l.item,Z=l.onClear,U=Z===void 0?()=>{}:Z,$=l.onItemClick,ne=$===void 0?()=>{}:$;return e().createElement("div",{className:[N.checked==="true"?Le().active:"",Le()["quick-entry-item"],c?Le().check:"",M?Le().clear:"",l.className].join(" "),key:N.id,onClick:()=>ne(N)},e().createElement("img",{className:Le()["item-img"],src:N.img_src,draggable:!1}),M?e().createElement("div",{className:Le()["item-title"]},N.title):e().createElement("div",{className:Le()["item-title"]},N.title),c&&e().createElement("div",{className:Le()["item-checkbox"]}," ",e().createElement(it.Z,{iconClass:"iconf-ok",size:"12px",className:Le()["item-checkbox-ok"]})),M&&e().createElement("div",{className:Le()["item-close"],onClick:oe=>{oe.stopPropagation(),oe.preventDefault(),U(N)}},e().createElement(it.Z,{iconClass:"iconf-close",size:"12px",color:"rgba(0, 0, 0, 0.25)"})))},Bt=l=>{var c=l.dataSource,M=l.hasChecked,N=M===void 0?!1:M,Z=l.hasClear,U=Z===void 0?!1:Z;return e().createElement("div",{className:[Le()["quick-entry"],Le()[N||U?"small":""]].join(" ")},c.map($=>e().createElement(Et,(0,A.Z)({item:$},l,{key:$.id}))))},ea=t(71194),rt=t(57016),Vt=t(7145),Qe=t.n(Vt),Pt=t(95742),jt=t(80454),Ft=t.n(jt),Kt=(0,Pt.gU)(l=>{var c=l.item,M=l.onClear,N=l.key;return e().createElement(Et,{item:c,hasClear:!0,onClear:()=>{M(c)},key:N})}),$t=(0,Pt.hv)(l=>{var c=l.children;return e().createElement("div",{className:[Le()["quick-entry"],Le().small].join(" ")},c)}),Yt=l=>{var c=l.onSortEnd,M=l.containerList,N=Z=>{var U=Z.oldIndex,$=Z.newIndex,ne=Ft()(M,U,$);c(ne)};return e().createElement($t,{distance:20,axis:"xy",helperClass:"entry-modal-used-drag",onSortEnd:N},M.map((Z,U)=>e().createElement(Kt,{index:U,item:Z,key:Z.id,onClear:()=>l.onRemoveEntry(Z)})))},Ht=Yt,zt=l=>{var c=8,M=1,N=(0,k.useState)([]),Z=(0,m.Z)(N,2),U=Z[0],$=Z[1],ne=(0,k.useState)([]),oe=(0,m.Z)(ne,2),ue=oe[0],X=oe[1],xe=()=>{l.onOk(ue)},Me=()=>{l.onCancel()};(0,k.useEffect)(()=>{$(l.allEntries)},[l.allEntries]),(0,k.useEffect)(()=>{X(l.entries)},[l.entries]);var pe=R=>{var se=ue.findIndex(Ce=>Ce.id===R.id),Ee=U.findIndex(Ce=>Ce.id===R.id);if(se>-1){if(ue.length<=M){O.default.warning(l.t("workbench.entryMinLimit",{count:M}));return}X(Qe()(ue,{$splice:[[se,1]]})),$(Qe()(U,{[Ee]:{checked:{$set:"false"}}}))}else if(R.checked==="false"){if(ue.length>=c){O.default.warning(l.t("workbench.entryLimit",{count:c}));return}X(Qe()(ue,{$push:[R]})),$(Qe()(U,{[Ee]:{checked:{$set:"true"}}}))}},he=R=>{X(Qe()(ue,{$set:R}))};return e().createElement(rt.Z,{className:"entry-modal",maskClosable:!1,visible:l.visible,title:l.t("workbench.editQuickEnter"),onCancel:Me,onOk:xe,width:904,destroyOnClose:!0},e().createElement("div",{className:"entry-modal-used"},e().createElement("div",{className:"entry-modal-used-head"},l.t("workbench.showQuickEnter"),e().createElement("span",{className:"drag-tool-tips"},l.t("workbench.dragToolTip"))),e().createElement(Ht,{className:"entry-modal-used-drag",containerList:ue,onSortEnd:he,onRemoveEntry:R=>pe(R)})),e().createElement("div",{className:"entry-modal-all"},e().createElement("div",{className:"entry-modal-all-head"},l.t("workbench.allQuickEnter")),e().createElement(Bt,{dataSource:U,hasChecked:!0,onItemClick:R=>pe(R)})))},Gt=(0,E.$j)()((0,n.Z)()(zt)),Qt=t(73958),Ue=t.n(Qt),Tt=t(54650),et=t(70517);class te extends e().Component{constructor(c){var M;super(c);M=this,this.onModalOk=N=>{this.saveQuickEntries(N),this.handleModalVisible(!1)},this.saveQuickEntries=N=>{this.setState({loading:!0}),St({sortIds:N.map(Z=>Z.id).join(",")}).then(Z=>{var U=Z.data.code;U==="200000"&&(this.setState({loading:!1}),this.getAllEntries(),this.getUsedEntries())})},this.handleModalVisible=N=>{var Z=this.state.allEntries,U=Z===void 0?[]:Z;N&&U.length===0||this.setState({modalVisible:N})},this.renderCardExtra=()=>{var N=this.state.allEntries,Z=N===void 0?[]:N;return e().createElement("span",{onClick:()=>this.handleModalVisible(!0),className:"".concat(Z.length?"pointer":"disabled")},e().createElement(ht.Z,null))},this.handleCreateCourse=function(){var N=(0,F.Z)(I().mark(function Z(U){var $,ne;return I().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(localStorage.getItem("openedMemberModal")!=="true"){ue.next=4;break}(0,et.Yv)(U),ue.next=9;break;case 4:return ue.next=6,(0,et.v8)();case 6:$=ue.sent,ne=$.data,ne?((0,et.$v)(),(0,et.Yv)(U)):M.setState({visibleMemberModal:!0,routeType:U});case 9:case"end":return ue.stop()}},Z)}));return function(Z){return N.apply(this,arguments)}}(),this.handleCloseMemberModal=N=>{N==="noNeed"&&(0,et.Yv)(this.state.routeType),this.setState({visibleMemberModal:!1})},this.handleItemClick=N=>{N.id==="2"?this.handleCreateCourse(3):Ze.m8.push(N.path)},this.getUsedEntries=()=>{this.setState({loading:!0}),It().then(N=>{var Z=N.data,U=Z.code,$=Z.data;U==="200000"&&this.setState({usedEntries:$,showEmpty:$.length===0,loading:!1})}).catch(()=>{this.setState({usedEntries:[],showEmpty:!0})})},this.getAllEntries=()=>{this.setState({loading:!0}),at().then(N=>{var Z=N.data,U=Z.code,$=Z.data;U==="200000"&&this.setState({allEntries:$,loading:!1})})},this.state={modalVisible:!1,visibleMemberModal:!1,routeType:"",usedEntries:[],allEntries:[],showEmpty:!1,loading:!1}}componentDidMount(){this.getUsedEntries(),this.getAllEntries()}render(){var c=this.state,M=c.usedEntries,N=M===void 0?[]:M,Z=c.showEmpty,U=c.allEntries,$=U===void 0?[]:U,ne=c.loading,oe=this.props.t;return e().createElement("div",{className:Ue()["quick-entry-card"],id:"workbench-entry"},e().createElement("div",{className:Ue()["quick-header"]},e().createElement("span",{className:Ue().title},oe("workbench.quickEntry")),e().createElement("span",{className:[Ue().edit,$.length?Ue().pointer:Ue().disabled].join(" "),onClick:()=>this.handleModalVisible(!0)},e().createElement(P.Z,{title:oe("common.edit")},e().createElement(ht.Z,{style:{fontSize:"16px"}})))),e().createElement("div",{className:Ue()["quick-content"]},ne?e().createElement(qe.quickEntry,{active:!0,block:4}):e().createElement(e().Fragment,null,Z&&e().createElement("div",{onClick:()=>this.handleModalVisible(!0),className:Ue()["quick-entry-create"]},$.length?e().createElement(e().Fragment,null," ",e().createElement(vt.Z,null)," ",oe("workbench.quickEntryCreate")):oe("workbench.quickEntryEmpty")),N.length?e().createElement(Bt,{dataSource:N,onItemClick:this.handleItemClick}):null)),this.state.modalVisible&&e().createElement(Gt,{visible:this.state.modalVisible,allEntries:$,entries:N,onCancel:()=>this.handleModalVisible(!1),onOk:this.onModalOk}),this.state.visibleMemberModal&&e().createElement(Tt.Z,{visible:this.state.visibleMemberModal,onClose:this.handleCloseMemberModal}))}}var s=(0,E.$j)()((0,n.Z)()(te)),i=t(57663),r=t(71577),a=t(43358),o=t(34041),d=t(57119),u=t(95614),v=t.n(u),T=t(1164),b=t(86726),L=t(39395),x=t(6793),S=o.Z.Option,D="",Q=l=>{var c=l.t,M=(0,b.V9)("studyProject",l.userInfo.modules),N=(0,b.V9)("management",l.userInfo.modules),Z=(0,b.V9)("newPlan",l.userInfo.modules),U=(0,b.V9)("plan",l.userInfo.modules),$=(0,k.useState)([]),ne=(0,m.Z)($,2),oe=ne[0],ue=ne[1],X={activeKeyText:{examTask:c("common.examTask"),studyProject:c("setting.studyProject"),studyTask:c("common.studyTask"),newEmployeeTask:c("common.newEmployeeTask")},goAddPage:{examTask:()=>l.isNewExam?"/training/examination/newPlan/add":"/training/examination/plan/detail",studyProject:()=>"/training/learning/project/add",studyTask:()=>"/training/learn/management/add",newEmployeeTask:()=>"/training/learning/task/employeeEdit?type=add"},checkAll:{examTask:h=>l.isNewExam?"/training/examination/newPlan?fromWorkScope=".concat(h):"/training/examination/plan?fromWorkScope=".concat(h),studyProject:h=>"/knowledgeBase/learningResources/studyProject?fromWorkScope=".concat(h),studyTask:h=>"/training/learning/task/management?fromWorkScope=".concat(h),newEmployeeTask:h=>"/training/learning/task/employee?fromWorkScope=".concat(h)},goDataPage:{examTask:h=>l.isNewExam?"/training/examination/newPlan/detail?id=".concat(h.id,"&title=").concat(h.title,"&origin=exam"):"/training/examination/plan/monitor?id=".concat(h.id,"&taskType=exam"),studyProject:h=>"/training/trainingProject/monitor?id=".concat(h.course_id,"&projectId=").concat(h.id,"&origin=list"),studyTask:h=>"/training/learning/management/monitor?id=".concat(h.id,"&planStatus=").concat(h.planStatus),newEmployeeTask:h=>"/training/learning/task/employeeResult?id=".concat(h.planId)},goEditPage:{examTask:h=>l.isNewExam?"/training/examination/newPlan/edit?planId=".concat(h.id):"/training/examination/plan/detail?id=".concat(h.id),studyProject:h=>"/training/learning/project/add?id=".concat(h.id,"&origin=list"),studyTask:h=>"/training/learn/management/add?id=".concat(h.id),newEmployeeTask:h=>"/training/learning/task/employeeEdit?type=edit&editTaskId=".concat(h.id,"&planId=").concat(h.planId)},goPreviewPage:{examTask:h=>l.isNewExam?"/training/examination/newPlan/detail?id=".concat(h.id,"&title=").concat(h.title,"&origin=exam"):"/training/examination/plan/preview?id=".concat(h.id),studyProject:h=>"/training/trainingProject/manageView?id=".concat(h.id,"&from=manage&tab=1&origin=list"),studyTask:h=>"/training/learn/management/view?id=".concat(h.id),newEmployeeTask:h=>"/training/learning/task/employeeInfo?type=edit&editTaskId=".concat(h.id,"&planId=").concat(h.planId)},modalTitle:{examTask:()=>l.isNewExam?c("examination.revokeConfirm"):c("study.afterTheReleaseTaskNotBeVisible"),studyTask:()=>c("study.afterTheReleaseTaskNotBeVisible"),newEmployeeTask:()=>c("study.afterTheReleaseTaskNotBeVisible")},modalConfirm:{examTask:h=>l.isNewExam?Rt(h):Ut(h),studyTask:h=>Zt(h),newEmployeeTask:h=>xt(h)},dataList:{examTask:()=>l.isNewExam?Jt():Fe(),studyProject:()=>aa(),studyTask:()=>ra(),newEmployeeTask:()=>na()},menuAuthority:{examTask:()=>l.isNewExam?(0,b.e)("newPlan",l.userInfo.modules):(0,b.e)("plan",l.userInfo.modules),studyProject:()=>(0,b.e)("studyProject",l.userInfo.modules),studyTask:()=>(0,b.e)("management",l.userInfo.modules),newEmployeeTask:()=>(0,b.e)("employee",l.userInfo.modules)},actionsAuthority:{examTask:{add:()=>l.isNewExam?(0,b.H3)("add",Z):(0,b.H3)("add",U),edit:()=>l.isNewExam?(0,b.H3)("edit",Z):(0,b.H3)("edit",U),monitor:()=>l.isNewExam?(0,b.H3)("data",Z):(0,b.H3)("monitor",U),revert:()=>l.isNewExam?(0,b.H3)("publish_rollback",Z):!1,view:()=>l.isNewExam?!0:(0,b.H3)("view",U),release:()=>!l.isNewExam},studyProject:{add:()=>(0,b.H3)("add",M),edit:()=>(0,b.H3)("edit",M),monitor:()=>(0,b.H3)("project_data",M),view:()=>!0,release:()=>!0},studyTask:{add:()=>(0,b.H3)("add",N),edit:()=>(0,b.H3)("edit",N),monitor:()=>(0,b.H3)("monitor",N),view:()=>(0,b.H3)("view",N),release:()=>!0},newEmployeeTask:{add:()=>!0,edit:()=>!0,monitor:()=>!0,view:()=>!0,release:()=>!0}}},xe=(0,k.useState)({examTask:{list:[]},studyProject:{list:[]},studyTask:{list:[]},newEmployeeTask:{list:[]}}),Me=(0,m.Z)(xe,2),pe=Me[0],he=Me[1],R=(0,k.useState)({examTask:{isEmpty:!1},studyProject:{isEmpty:!1},studyTask:{isEmpty:!1},newEmployeeTask:{isEmpty:!1}}),se=(0,m.Z)(R,2),Ee=se[0],Ce=se[1],Ye=(0,k.useState)(!0),_e=(0,m.Z)(Ye,2),Re=_e[0],Ie=_e[1],He=(0,k.useState)("my"),ze=(0,m.Z)(He,2),me=ze[0],ut=ze[1],wt=(0,k.useState)(""),nt=(0,m.Z)(wt,2),W=nt[0],mt=nt[1];(0,k.useEffect)(()=>{var h=[];(0,b.e)("studyProject",l.userInfo.modules)&&h.push({key:"studyProject",tab:c("leftMenuLists.studyProject")}),(0,b.e)("management",l.userInfo.modules)&&h.push({key:"studyTask",tab:c("personal.studyTask")});var q=l.isNewExam?(0,b.e)("newPlan",l.userInfo.modules):(0,b.e)("plan",l.userInfo.modules);q&&h.push({key:"examTask",tab:c("home.examTask")}),(0,b.e)("employee",l.userInfo.modules)&&h.push({key:"newEmployeeTask",tab:c("common.newEmployeeTask")}),h.length&&(ue(h),mt(h[0].key))},[l.isNewExam]),(0,k.useEffect)(()=>{W==="examTask"?l.isNewExam?Jt():Fe():W==="studyProject"?aa():W==="studyTask"?ra():W==="newEmployeeTask"&&na()},[W,me]),(0,k.useEffect)(()=>{D=W},[W]);var Jt=()=>{!X.menuAuthority.examTask()||(Ie(!0),Nt({scope:me,page_number:1,page_size:3}).then(h=>{if(D==="examTask"){var q=h.data;if(q.code==="200000"){Ie(!1);var Pe=q.data.list;Ce((0,y.Z)((0,y.Z)({},Ee),{},{examTask:{isEmpty:!Pe.length}}));var _=Pe.length?Pe.map(ye=>(ye.publishState=ye.status==="published",ye.cancelReleaseId=ye.id,ye.unPublishStatus="draft",ye.titleName=ye.title,ye.keyOne=ye.user_count,ye.keyTwo=ye.pass_count,ye.keyThree=ye.failed_count,ye.labelOne=c("common.all"),ye.labelTwo=c("myExamTask.qualified"),ye.labelThree=c("myExamTask.unqualified"),ye)):[];he((0,y.Z)((0,y.Z)({},pe),{},{examTask:{list:_}}))}}}))},Fe=()=>{!X.menuAuthority.examTask()||(Ie(!0),Lt({scope:me,pageNumber:1,pageSize:3}).then(h=>{if(D==="examTask"&&h.status===200){Ie(!1);var q=h.data.list;Ce((0,y.Z)((0,y.Z)({},Ee),{},{examTask:{isEmpty:!q.length}}));var Pe=q.length?q.map(_=>(_.publishState=_.publishStatus==="published",_.cancelReleaseId=_.id,_.unPublishStatus="unpublished",_.titleName=_.title,_.keyOne=_.examNum,_.keyTwo=_.qualifiedNum,_.keyThree=_.unqualifiedNum,_.labelOne=c("common.all"),_.labelTwo=c("myExamTask.qualified"),_.labelThree=c("myExamTask.unqualified"),_)):[];he((0,y.Z)((0,y.Z)({},pe),{},{examTask:{list:Pe}}))}}))},aa=()=>{!X.menuAuthority.studyProject()||(Ie(!0),_t({scope:me,page_number:1,page_size:3}).then(h=>{if(D==="studyProject"&&h.status===200){Ie(!1);var q=h.data.list;Ce((0,y.Z)((0,y.Z)({},Ee),{},{studyProject:{isEmpty:!q.length}}));var Pe=q.length?q.map(_=>(_.publishState=_.status==="normal",_.unPublishStatus="disabled",_.titleName=_.title,_.keyOne=_.finish_user_count,_.keyTwo=_.qualified_count,_.keyThree=_.on_going_user_count,_.labelOne=c("common.all"),_.labelTwo=c("study.employeePass"),_.labelThree=c("common.ongoing"),_)):[];he((0,y.Z)((0,y.Z)({},pe),{},{studyProject:{list:Pe}}))}}))},ra=()=>{!X.menuAuthority.studyTask()||(Ie(!0),Mt({scope:me,pageNumber:1,pageSize:3}).then(h=>{if(D==="studyTask"&&h.status===200){Ie(!1);var q=h.data.list;Ce((0,y.Z)((0,y.Z)({},Ee),{},{studyTask:{isEmpty:!q.length}}));var Pe=q.length?q.map(_=>(_.publishState=_.planStatus==="published",_.cancelReleaseId=_.id,_.titleName=_.title,_.keyOne=_.joinRate?"".concat(_.joinRate,"%"):"--",_.keyTwo=_.qualifiedRate?"".concat(_.qualifiedRate,"%"):"--",_.keyThree=_.finishPercent?"".concat(_.finishPercent,"%"):"--",_.labelOne=c("common.joinRate"),_.labelTwo=c("common.passRate"),_.labelThree=c("common.completionRate"),_)):[];he((0,y.Z)((0,y.Z)({},pe),{},{studyTask:{list:Pe}}))}}))},na=()=>{!X.menuAuthority.newEmployeeTask()||(Ie(!0),yt({scope:me,pageNumber:1,pageSize:3}).then(h=>{if(D==="newEmployeeTask"&&h.status===200){Ie(!1);var q=h.data.list;Ce((0,y.Z)((0,y.Z)({},Ee),{},{newEmployeeTask:{isEmpty:!q.length}}));var Pe=q.length?q.map(_=>(_.publishState=_.planStatus==="published",_.cancelReleaseId=_.planId,_.titleName=_.trainName,_.keyOne=_.finishUserCount,_.keyTwo=_.onGoingUserCount,_.keyThree=_.unFinishUserCount,_.labelOne=c("common.completed"),_.labelTwo=c("common.ongoing"),_.labelThree=c("common.overdue"),_)):[];he((0,y.Z)((0,y.Z)({},pe),{},{newEmployeeTask:{list:Pe}}))}}))};(0,k.useEffect)(()=>{ut("my")},[W]);var va=h=>{W&&X.checkAll[W]&&Ze.m8.push(X.checkAll[W](h))},ga=h=>{X.goDataPage[W]&&Ze.m8.push(X.goDataPage[W](h))},fa=h=>{ia(h)},sa=h=>{ia(h)},ia=h=>{rt.Z.confirm({title:c("setting.remind"),icon:e().createElement(d.Z,null),content:W&&X.modalTitle[W]&&X.modalTitle[W](),onOk:()=>{W&&X.modalConfirm[W]&&X.modalConfirm[W]({cancelReleaseId:h.cancelReleaseId,publishStatus:h.unPublishStatus}).then(q=>{q.data.code,X.dataList[W](),h.unPublishStatus==="published"?O.default.success(c("common.releaseSuccess")):O.default.success(c("study.cancelSuccessful"))})}})},ya=h=>{if(h.subsidy_project)return O.default.info(c("gzSubsidy.noEdit")),!1;h.status==="normal"?rt.Z.confirm({title:c("trainingProject.confirmEdit"),content:c("trainingProject.editContent"),onOk:()=>{Ze.m8.push("/training/learning/project/add?id=".concat(h.id,"&origin=list"))}}):Ze.m8.push("/training/learning/project/add?id=".concat(h.id,"&origin=list"))},Ea=h=>{W&&X.goEditPage[W]&&Ze.m8.push(X.goEditPage[W](h))},Pa=h=>{var q=X.actionsAuthority[W];(W&&q&&q.view()||l.isAdmin)&&W&&X.goPreviewPage[W]&&Ze.m8.push(X.goPreviewPage[W](h));var Pe=X.actionsAuthority[W];W==="studyTask"?W&&X.goPreviewPage[W]&&Ze.m8.push(X.goPreviewPage[W](h)):(W&&Pe&&Pe.view()||l.isAdmin)&&X.goPreviewPage[W]&&Ze.m8.push(X.goPreviewPage[W](h))},Ta=()=>{X.goAddPage[W]&&Ze.m8.push(X.goAddPage[W]())},ba=h=>{var q=X.actionsAuthority[W],Pe=()=>{},_=c("workbench.edit"),ye=!0;return!h.publishState||W==="studyProject"?(_=c("workbench.edit"),Pe=W==="studyProject"?()=>ya(h):()=>Ea(h),ye=W==="examTask"&&l.isNewExam&&h.create_user===l.userInfo.id?!0:q.edit(),me==="responsible_by_me"&&!l.isAdmin&&(W==="studyTask"&&h.planOperation!=="has_operation"&&(_=c("common.release"),ye=!0,Pe=()=>{T.Z.targetTo({path:"/training/learn/management/add?id=".concat(h.id)})}),W==="examTask"&&!l.isNewExam&&h.planOperation!=="has_operation"&&(_=c("common.release"),ye=!0,Pe=()=>sa({cancelReleaseId:h.cancelReleaseId,unPublishStatus:"published"})))):W==="examTask"&&l.isNewExam?(_=c("workbench.revert"),ye=h.create_user===l.userInfo.id?!0:q.revert(),Pe=()=>fa(h)):(_=c("workbench.cancelRelease"),ye=q.release(),Pe=()=>sa(h)),l.isAdmin&&(ye=!0),e().createElement("div",{className:v()["item-footer"]},e().createElement("div",{className:v()["footer-left"]},e().createElement("span",{className:v()[ye?"footer-left-edit":"footer-left-edit-disabled"],onClick:Pe},_)),e().createElement("div",{className:v()[q.monitor()||l.isAdmin||W==="examTask"&&l.isNewExam&&h.create_user===l.userInfo.id?"footer-right":"footer-right-disabled"],onClick:()=>ga(h)},c("workbench.data")))},wa=h=>e().createElement("div",{className:v()["table-content"]},e().createElement("div",{className:v()["content-cell"]},e().createElement("span",null,h.keyOne),e().createElement("span",null,h.labelOne)),e().createElement("div",{className:v()["content-cell"]},e().createElement("span",null,h.keyTwo),e().createElement("span",null,h.labelTwo)),e().createElement("div",{className:v()["content-cell"]},e().createElement("span",null,h.keyThree),e().createElement("span",null,h.labelThree))),ka=()=>e().createElement("div",{className:v()["workspace-empty"]},e().createElement("p",null,c("workbench.noCreated"),W&&X.activeKeyText[W],", ",c("workbench.clickCreate")),e().createElement(r.Z,{type:"primary",icon:e().createElement(vt.Z,null),onClick:()=>Ta()},c("common.add"))),Ca=()=>{var h=X.actionsAuthority[W];return Ee[W].isEmpty?W&&h&&h.add()||l.isAdmin?ka():Sa():e().createElement("div",{className:v()["workspace-content"]}," ",pe[W].list.map(q=>e().createElement("div",{className:v()["list-item"],key:q.id},e().createElement("div",{className:v()["item-table"]},e().createElement("div",{className:v()[!(W&&h&&h.view())&&!l.isNewExam&&W==="examTask"?"table-name-disabled-oldExam":"table-name"],onClick:()=>Pa(q)},e().createElement(P.Z,{title:q.titleName},q.titleName)),W!=="studyProject"?wa(q):null,e().createElement("div",{className:v()["item-time"]},c("common.createTime")," : ",(0,x.p6)(Number(q.create_time||q.createTime),"yyyy-MM-dd hh:mm"))),ba(q))))},Ia=()=>e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:c("workbench.notToDo")}),Sa=()=>e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE}),Da=()=>{var h=X.menuAuthority[W];if(W&&h&&h())return e().createElement(e().Fragment,null,Re?e().createElement(L.ZP.block,{active:!0,block:3}):Ca())};return e().createElement("div",{className:v().workspace,id:"workbench-workspace"},e().createElement("div",{className:v()["workspace-header"]},e().createElement("div",{className:v()["header-left"]},e().createElement("div",{className:v().title},c("workbench.todo")),e().createElement("div",{className:v()["tab-list"]},oe.map(h=>e().createElement("span",{className:h.key===W?[v()["tab-item"],v().active].join(" "):v()["tab-item"],key:h.key,onClick:()=>{mt(h.key),D=h.key}},h.tab)))),oe.length===0?null:e().createElement("div",{className:v()["header-right"]},e().createElement("div",{className:v()["right-selector"]},e().createElement(o.Z,{value:me,style:{width:120},onChange:ut},e().createElement(S,{value:"my"},c("workbench.myCreation")),e().createElement(S,{value:"responsible_by_me",disabled:W==="studyProject"},c("workbench.myCharge")))),e().createElement("div",{className:v()["view-all"],onClick:()=>va(me)},c("workbench.viewAll")))),oe.length===0?Ia():Da())},ae=(0,E.$j)(l=>({userInfo:l.user,isNewExam:l.updateVersion.isNewExam,isAdmin:l.user.isAdmin}))((0,n.Z)()(Q)),ce=t(78138),le=t.n(ce),z=t(91095),we=t.n(z),Ae=l=>{var c=l.title,M=c===void 0?"":c,N=l.disabled,Z=l.isRefresh,U=l.extra,$=U===void 0?{title:"",click:()=>{}}:U;return e().createElement("div",{className:we().header},e().createElement("span",{className:we()["header-left"]},M),Z&&e().createElement("span",{className:we()["header-left-icon"],onClick:()=>l.handleClick()},e().createElement(P.Z,{title:l.t("setting.refresh")},e().createElement("span",null,e().createElement(it.Z,{iconClass:"icon-genghuan1",size:"14px"})))),e().createElement("span",{className:we()["header-right".concat(N?"_stop":"")],onClick:()=>$.click()},$.title))},De=(0,n.Z)()(Ae),Ke=t(13530),Oe=t.n(Ke),We=l=>{var c=l.t,M=l.dataList,N=M===void 0?[]:M,Z=l.loading,U=$=>{var ne=$?"/helpCenter/manage?type=updateVersion&id=".concat($):"/helpCenter/manage?type=updateVersion";Ze.m8.push(ne)};return e().createElement("div",{className:Oe()["product-dynamic-card"],id:"workbench-dynamic"},e().createElement(De,{title:c("workbench.productDynamics"),extra:{title:e().createElement(P.Z,{title:N.length?"":l.t("workbench.noProductNews")},c("workbench.viewAll")),click:U},disabled:!N.length}),Z?e().createElement(L.ZP.bar,{active:!0}):N.length?e().createElement("div",{className:Oe()["card-list"]},N.map($=>e().createElement("div",{className:Oe()["list-item"],onClick:()=>{U($.id)},key:$.id},e().createElement("span",{className:Oe()["item-time"]},le()($.begin_date).format("MM/DD")),e().createElement("span",{className:Oe()["item-title"]},$.version_number),$.status===0?e().createElement("span",{className:Oe()["item-new"]}):""))):e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:c("courseReport.noData")}))},Be=(0,n.Z)()(We),Ve=t(48127),fe=t.n(Ve),Te=l=>{var c=l.t,M=(0,k.useState)([]),N=(0,m.Z)(M,2),Z=N[0],U=N[1],$=(0,k.useState)(!0),ne=(0,m.Z)($,2),oe=ne[0],ue=ne[1],X={training_annual_plan:{label:c("workbench.annualPlan"),extra:c("workbench.onceApproval"),class:"success",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=training_annual_plan"},training_month_plan:{label:c("workbench.monthPlan"),extra:c("workbench.onceApproval"),class:"success",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=training_month_plan"},training_temp_plan:{label:c("workbench.tempPlan"),extra:c("workbench.onceApproval"),class:"success",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=training_temp_plan"},exam_approval:{label:c("workbench.examPreview"),extra:c("workbench.oncePreview"),class:"error",url:R=>"/training/examination/new-exam/marking?exam_id=".concat(R.id,"&status=pending&markScene=user"),urlCheckAll:()=>"/personal/profile?tab=zexaMark"},hands_on_approval:{label:c("workbench.parcticeApproval"),extra:c("workbench.onceApproval"),class:"warning",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=hands_on_approval"},job_approval:{label:c("workbench.workApproval"),extra:c("workbench.onceApproval"),class:"warning",url:R=>"training/operation/approval?fromWork=true&userId=".concat(R.user_id,"&operationId=").concat(R.operation_id,"&keyword=&approvalStatus=1&startTime=&endTime="),urlCheckAll:()=>"/personal/profile?tab=workApproval"},submit_approval:{label:c("submitReport.reportApprove"),extra:c("workbench.onceApproval"),class:"warning",url:R=>"/training/submitReport/approve-details?fromWork=true&submitId=".concat(R.id,"&instanceId=").concat(R.instance_id,"&approvalStatus=wait&keyword=&startTime=&endTime="),urlCheckAll:()=>"/personal/profile?tab=reportApproval"},training_demand:{label:c("workbench.demandsApproval"),extra:c("workbench.onceApproval"),class:"warning",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=training_demand"},training_task:{label:c("workbench.taskApproval"),extra:c("workbench.onceApproval"),class:"warning",url:R=>"/personal/approval/approved-process?approvalType=pending&instanceId=".concat(R.instance_id),urlCheckAll:()=>"/personal/profile?tab=training_task"}},xe=R=>{var se=X[R.type];R&&se&&T.Z.targetTo({path:se.urlCheckAll(),projectType:"student"})},Me=()=>{he()},pe=R=>{var se=X[R.type];se&&T.Z.targetTo({path:se.url(R),projectType:R.type==="exam_approval"?"":"student"})},he=()=>{ue(!0),Ot().then(R=>{var se=R.code,Ee=R.data;se==="200000"&&U(Ee),ue(!1)})};return(0,k.useEffect)(()=>{he()},[]),e().createElement("div",{className:fe().todo,id:"workbench-todo"},e().createElement(De,{title:c("workbench.approvalToDo"),extra:{title:e().createElement(P.Z,{title:Z.length?"":l.t("workbench.noApprovalToDo")},c("authScope.linkMore")),click:()=>{xe(Z[0])}},handleClick:()=>{Me()},isRefresh:!0,disabled:!Z.length}),e().createElement("div",{className:fe()["todo-content"]},oe?e().createElement(qe.DepartBar,{active:!0,depart:5}):Z.length?Z.map(R=>{var se=X[R.type];if(!!se)return e().createElement("div",{className:fe()["content-cell"],key:R.id},e().createElement("div",{className:[fe()["cell-button"],fe()[se.class]].join(" ")},se.label),e().createElement("div",{className:fe()["cell-title"],onClick:()=>{pe(R)}},R.title),e().createElement("div",{className:fe()["cell-action"],onClick:()=>{pe(R)}},se.extra))}):e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:c("courseReport.noData")})))},Xe=(0,n.Z)()(Te),$e=t(18379),ke=t.n($e),je=t(9215),ot=t(48474),lt=l=>{var c=l.t,M=(0,k.useState)(!1),N=(0,m.Z)(M,2),Z=N[0],U=N[1],$=(0,k.useState)([]),ne=(0,m.Z)($,2),oe=ne[0],ue=ne[1];(0,k.useEffect)(()=>{X()},[]);var X=function(){var pe=(0,F.Z)(I().mark(function he(){var R,se,Ee,Ce;return I().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return U(!0),R={start_date:le()().startOf("month").valueOf(),end_date:le()().valueOf(),quota_code:"COURSE,READING_VOLUME,TRAIN,EXAM,PARTICIPANTS_LEARN_PEOPLE_COUNT,LEARN_TOTAL_DURATION"},_e.next=4,ft(R);case 4:se=_e.sent,Ee=se.data,Ce=se.success,Ce==="true"&&(ue(Ee),U(!1));case 8:case"end":return _e.stop()}},he)}));return function(){return pe.apply(this,arguments)}}(),xe=function(he,R){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(R!=="time")return e().createElement("span",null,e().createElement("span",{className:ke().num},(0,je.Kr)(he)),e().createElement("span",{className:ke()[se&&"unit"]}," ",R));var Ee=(0,je.aq)(he,R);return e().createElement("span",null,e().createElement("span",{className:ke().num},(0,je.Kr)(Ee[0])),e().createElement("span",{className:ke()[se&&"unit"]}," ",c("common.hourUnit")),e().createElement("span",{className:ke().num}," ",(0,je.Kr)(Ee[1])),e().createElement("span",{className:ke()[se&&"unit"]},c("common.minuteUnit")))},Me=pe=>{var he=ot.Z[pe.type]||{},R=he.unit,se=he.footer,Ee=he.title,Ce=he.toolTip;return e().createElement("div",{className:ke().detail,key:pe.type},e().createElement("div",{className:ke().top},e().createElement("div",{className:ke().title},e().createElement("span",null,Ee,"\xA0",Ce&&e().createElement(P.Z,{className:ke()["tool-tip"],title:Ce},e().createElement("span",null,e().createElement(it.Z,{iconClass:"icon-shuoming",size:"12px"}))))),e().createElement("div",{className:ke().count},xe(pe.value,R,!0))),e().createElement("div",{className:ke().footer},e().createElement("span",null,se),e().createElement("span",null,"\uFF1A",xe(pe.count,R,!1))))};return e().createElement("div",{className:ke()["data-view"],id:"workbench-view"},e().createElement("div",{className:ke()["data-view-title"]},c("dashboard.trainingData")),e().createElement("div",{className:ke()["data-view-content"]},Z?e().createElement(L.ZP.block,{active:!0,block:5}):e().createElement("div",{className:ke()["data-container"]},oe.map(pe=>Me(pe)))))},ct=(0,n.Z)()(lt),Xt=t(88983),dt=t(47933),ta=t(47958),Ne=t.n(ta),oa=t(58923),la=window.Plots.DualAxes,ca=l=>{var c=l.t,M=(0,k.useState)(!1),N=(0,m.Z)(M,2),Z=N[0],U=N[1],$=(0,k.useState)([]),ne=(0,m.Z)($,2),oe=ne[0],ue=ne[1],X=(0,k.useState)("week"),xe=(0,m.Z)(X,2),Me=xe[0],pe=xe[1],he=[{label:c("component.recentWeek"),value:"week"},{label:c("component.recentMonth"),value:"month"}],R=(0,k.useRef)(0),se=(0,je.QX)(7),Ee=se.timestamp,Ce=(0,je.QX)(30),Ye=Ce.timestamp,_e={value:[{type:"text",position:["start","end"],content:"".concat(c("dashboard.loginCount"),"\uFF1A").concat(c("common.visits")),style:{fill:"#888888"},offsetX:-28,offsetY:-12}],bar_value:[{type:"text",position:["end","end"],content:"".concat(c("dashboard.loginPeople"),"\uFF1A").concat(c("common.people")),style:{fill:"#888888",textAlign:"end"},offsetX:30,offsetY:-12}]};(0,k.useEffect)(()=>{Re(Me)},[Me]);var Re=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"week";if(me==="week"){Ie({start_date:Ee[0],end_date:Ee[1]});return}if(me==="month"){Ie({start_date:Ye[0],end_date:Ye[1]});return}},Ie=function(){var ze=(0,F.Z)(I().mark(function me(ut){var wt,nt,W,mt;return I().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return U(!0),R.current+=1,wt=R.current,Fe.next=5,st(ut);case 5:if(nt=Fe.sent,W=nt.data,mt=nt.success,wt===R.current){Fe.next=10;break}return Fe.abrupt("return");case 10:mt==="true"&&(ue(W.details||[]),U(!1));case 11:case"end":return Fe.stop()}},me)}));return function(ut){return ze.apply(this,arguments)}}(),He=ze=>{pe(ze.target.value)};return e().createElement("div",{className:Ne()["login-trend"]},e().createElement("div",{className:Ne().top},e().createElement("div",{className:Ne()["header-title"]},c("dashboard.loginTrend")),e().createElement("div",{className:Ne().right},e().createElement(dt.ZP.Group,{options:he,onChange:He,value:Me,optionType:"button",size:"small"}))),e().createElement("div",{className:Ne().chart},Z?e().createElement(L.ZP.normal,{active:!0}):oe.length?e().createElement(la,(0,A.Z)({},oa.bL,{data:[oe,oe],annotations:_e})):e().createElement(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE})))},da=(0,n.Z)()(ca),ua=t(73792),bt=t.n(ua),ma=t(4408),pa=l=>{var c=(0,k.useState)([]),M=(0,m.Z)(c,2),N=M[0],Z=M[1],U=(0,k.useState)([]),$=(0,m.Z)(U,2),ne=$[0],oe=$[1],ue=(0,k.useState)(!0),X=(0,m.Z)(ue,2),xe=X[0],Me=X[1],pe=(0,k.useState)(!0),he=(0,m.Z)(pe,2),R=he[0],se=he[1];(0,k.useEffect)(()=>{Ce(),Ee()},[]);var Ee=function(){var Ye=(0,F.Z)(I().mark(function _e(){var Re,Ie,He;return I().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return se(!0),me.next=3,Dt();case 3:Re=me.sent,Ie=Re.data,He=Re.success,setTimeout(()=>{se(!1)},300),He==="true"&&oe(Ie);case 8:case"end":return me.stop()}},_e)}));return function(){return Ye.apply(this,arguments)}}(),Ce=function(){var Ye=(0,F.Z)(I().mark(function _e(){var Re,Ie,He;return I().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return Me(!0),me.next=3,At({page_num:1,page_size:5});case 3:Re=me.sent,Ie=Re.data,He=Re.status,Me(!1),He===200?Z(Ie.data.list):O.default.error();case 8:case"end":return me.stop()}},_e)}));return function(){return Ye.apply(this,arguments)}}();return e().createElement("div",{className:[bt().workbench,"zoom-report"].join(" ")},e().createElement(ma.Z,{title:l.t("workbench.index")}),e().createElement("div",{className:bt().container},e().createElement("div",{className:bt()["container-left"]},e().createElement(s,null),e().createElement(ae,null),e().createElement(ct,null),e().createElement(da,null),e().createElement(kt,{guideList:ne,isLoading:R})),e().createElement("div",{className:bt()["container-right"]},e().createElement(Xe,null),e().createElement(Be,{dataList:N,loading:xe}))))},ha=(0,E.$j)()((0,n.Z)()(pa))},91648:function(be,re,t){"use strict";t.d(re,{Z:function(){return j}});function j(O,F){var m,Y,I,k,m;if(Y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),m=[],I=void 0,F=F||Y.length,O)for(I=0;I<O;)m[I]=Y[0|Math.random()*F],I++;else for(k=void 0,m[8]=m[13]=m[18]=m[23]="-",m[14]="4",I=0;I<36;)m[I]||(k=0|Math.random()*16,m[I]=Y[I===19?k&3|8:k]),I++;return m.join("")}},86726:function(be,re,t){"use strict";t.d(re,{V9:function(){return O},H3:function(){return F},e:function(){return m},F:function(){return Y}});var j=t(93485);function O(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=[];function E(n,A){var p=(0,j.Z)(A),g;try{for(p.s();!(g=p.n()).done;){var f=g.value;if(f.key===n){e=f.actions;break}f.children instanceof Array&&f.children.length&&E(I,f.children)}}catch(P){p.e(P)}finally{p.f()}}return E(I,k),e}function F(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=k.find(E=>E.key===I)||{};return e.checked||!1}function m(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=!1;function E(n,A){var p=(0,j.Z)(A),g;try{for(p.s();!(g=p.n()).done;){var f=g.value;if(f.key===n){e=f.checked;break}f.children instanceof Array&&f.children.length&&E(I,f.children)}}catch(P){p.e(P)}finally{p.f()}}return E(I,k),e}function Y(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e="";function E(n,A){var p=(0,j.Z)(A),g;try{for(p.s();!(g=p.n()).done;){var f=g.value;if(f.key===n){e=f.id;break}f.children instanceof Array&&f.children.length&&E(I,f.children)}}catch(P){p.e(P)}finally{p.f()}}return E(I,k),e}},69164:function(be,re,t){"use strict";var j=t(34792),O=t(48086);function F(m){m&&m.length>0&&O.default.success(m)}re.Z=F},70517:function(be,re,t){"use strict";t.d(re,{ZG:function(){return k},v8:function(){return e},Yv:function(){return E},$v:function(){return n},yW:function(){return A}});var j=t(57361),O=t(9754),F=t.n(O),m=t(91302),Y=t(10237),I=t(37055),k=p=>{var g=!1;return m.ch.forEach(f=>{(p||"").indexOf(f)!==-1&&(g=!0)}),g},e=function(){var p=(0,j.Z)(F().mark(function g(){var f;return F().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return f=I.ZP.LibraryList.checkMemberUserBinding(),y.abrupt("return",Y.WY.get({url:f,params:{source_type:"lai_hua"}}));case 2:case"end":return y.stop()}},g)}));return function(){return p.apply(this,arguments)}}(),E=function(){var p=(0,j.Z)(F().mark(function g(f){var P,y,C,w;return F().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return P=I.ZP.LibraryList.thirdEditorUrl(),B.next=3,Y.WY.get({url:P,params:{source_type:"lai_hua",route_type:f}});case 3:y=B.sent,C=y.data,w=y.success,w==="true"&&window.open(C.url,"_blank");case 7:case"end":return B.stop()}},g)}));return function(f){return p.apply(this,arguments)}}(),n=()=>{localStorage.setItem("openedMemberModal","true")},A=p=>{var g=I.ZP.LibraryList.addTrialMemberBinding();return Y.WY.get({url:g,params:{source_type:"lai_hua",route_type:p}})}},4412:function(be){be.exports="data:image/png;base64,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"}}]);
