(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8006],{54624:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return de}});var ie=e(47673),q=e(4107),ae=e(12924),u=e.n(ae),V=e(91768),S=e(80991),g=e(54549),D=e(49101),W=e(62029),a=e(59250),T=e(13013),Z=e(30887),d=e(99210),E=e(43185),X=e(53251),k=e(57663),w=e(71577),Q=e(88986),p=e(57361),M=e(34792),C=e(48086),P=e(9754),c=e.n(P),f=e(28216),I=e(73566),y=e(49146),x=e(74262),N=e(40938),v=e(6793),B=e(54531),$=e(10237),A=e(84874),H=e(1164),te=e(37055),_e=e(10780),fe=e(43967),le=e(76466),he=5,J=j=>({uploaderList:j.uploader.list,uploadSucceedItem:j.uploader.uploadSucceedItem,uploadComponentType:j.uploader.uploadComponentType,appType:j.user.appType,dingUserId:j.user.account,corpId:j.user.corpId}),_=j=>{if(j.icon)return j.icon;var L=j.name.split(".").pop(),R=te.e1[L];return R||"iconf-matter-picture"};class F extends u().Component{constructor(L){var R;super(L);R=this,this.handleBeforeUpload=m=>{var b=this.props,z=b.t,ne=b.value;if(m.type.indexOf("image")<0)return C.default.warning(z("component.stageAddFileFormatTip")),!1;this.props.onChange(ne.concat(m))},this.handleOnChange=m=>{var b=m.file,z=this.props,ne=z.value,ue=z.t;b.status==="done"?this.props.onChange(ne.filter(ee=>ee.id!==b.id).concat(b.response.data)):b.status==="error"&&(C.default.error("".concat(b.name," ").concat(ue("course.courseDetailCoverFailure"))),this.props.onChange(ne.filter(ee=>ee.id!==b.id)))},this.handleRemove=m=>{var b=this.props.value;this.props.onChange(b.filter(z=>z.id!==m.id))},this.handleUploadFile=()=>{this.setState({showFileSelector:!0})},this.handleSelectedCancel=()=>{this.setState({showFileSelector:!1})},this.handleSelectedAttachment=m=>{var b=this.props,z=b.t,ne=b.value,ue=ne.map(ge=>ge.id),ee=m.filter(ge=>!ue.includes(ge.id)),ve=ne.length;if(ee.length>he-ve){C.default.warning((0,v.ZT)(z("component.stageAddFileTip"),5));return}this.handleSelectedCancel(),ee=ee.map(ge=>(ge.size=ge.data.size,ge)),this.props.onChange(ne.concat(ee))},this.handleChooseFiles=m=>{var b=this.props,z=b.t,ne=b.value,ue=b.uploaderList,ee=b.uploadComponentId,ve=b.notLibrary,ge=b.hasZip,Ce=ge===void 0?"":ge,we=(0,fe.Y5)(ue);if(m.target.files.length+we.length+ne.length>5){C.default.warning((0,v.ZT)(z("component.stageAddFileTip"),5));return}this.props.dispatch({type:"uploader/chooseFiles",payload:{choosedFiles:m.target.files,dispatch:this.props.dispatch,uploadComponentType:ee,notLibrary:ve,hasZip:Ce==="true"}}),m.target.value=null,m.target.files=null},this.handlePreview=m=>{var b=this.props.t;if(!dd.version&&m.biz_type===3){C.default.info(b("practiceOperation.dingFileTip"));return}if(m.biz_type!==3){this.handlePreviewSystemFile(m);return}var z=te.ZP.DingSpaceId.getSpaceId(),ne={corpId:this.props.corpId,userId:this.props.account,fileids:m.url,timeStamp:Date.parse(new Date)};$.WY.get({url:z,params:ne}).then(ue=>{ue.data.code===0?this.ddSpacePreview(m):C.default.info(ue.data.msg)}).catch(ue=>{C.default.error(ue.data)})},this.handlePreviewDingFile=(0,p.Z)(c().mark(function m(){var b,z,ne,ue,ee,ve,ge,Ce;return c().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return b=R.props,z=b.corpId,ne=b.dingUserId,ue=b.value,ee=b.t,Ie.next=3,(0,B.Cz)({corpId:z,userId:ne});case 3:ve=Ie.sent,ge=Ae=>{(0,y.jz)(Ae,3).then(Re=>{if(Re.data.code===0){var be=(0,y.GY)(Re.data,R.props);be&&be.length>0&&R.props.onChange(ue.concat(be))}}).catch(Re=>console.error(Re))},Ce=Ae=>{C.default.warn("".concat(ee("learning.dingSelectError"),": ").concat(JSON.parse(Ae)))},(0,B.yZ)({space:{spaceId:ve,corpId:z,max:5},types:["space"],onSuccess:ge,onFail:Ce});case 7:case"end":return Ie.stop()}},m)})),this.dealWatchType=m=>{var b=te.Yq.findIndex(we=>m.type.toLowerCase().includes(we))>-1,z=m.content_type.indexOf("video")>-1,ne=te.Ss.indexOf(m.content_type)>-1,ue=m.type.indexOf("image")>-1||m.type.indexOf("picture")>-1||m.content_type.indexOf("image")>-1||m.content_type.indexOf("picture")>-1,ee=m.content_type.indexOf("html")>-1,ve=m.content_type.indexOf("scorm")>-1,ge=m.content_type.indexOf("h5")>-1,Ce="";return ge?Ce="article":b?Ce="doc":z||ne?Ce="video":ue?Ce="image":ee?Ce="html":ve&&(Ce="scorm"),Ce},this.handlePreviewSystemFile=m=>{var b=this.state.previewInfo,z=this.dealWatchType(m),ne=te.Ss.indexOf(m.content_type)>-1;if(z==="scorm"){var ue=m.url.split("//"),ee=ue[1].split("/"),ve=[ue[0],ee[0]].join("//"),ge="".concat(ve,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(m.url));H.Z.targetTo({path:ge,isExternalLink:!0});return}if(z==="article"){var Ce=m.content_type,we=m.url,Ie=Ce==="h5/link";Ie?H.Z.targetTo({path:we,isExternalLink:!0}):H.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(m.id)});return}var Ae={mode:"preview",watchType:z};z==="doc"?Object.assign(Ae,{resourceInfo:{type:"",docType:m.type,aliUrl:m.path,url:m.url,docTitle:m.name,playId:m.videoId||m.video_id,storageType:m.storage_type}}):z==="image"?Object.assign(Ae,{resourceInfo:{url:m.url,playId:m.videoId||m.video_id,storageType:m.storage_type}}):z==="html"?Object.assign(Ae,{resourceInfo:{url:m.url}}):Object.assign(Ae,{resourceInfo:{source:{FD:m.url,OD:m.path},originUrl:m.url,contentType:ne?"mp3":m.type,playId:m.videoId||m.video_id,storageType:m.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:Ae,previewInfo:(0,Q.Z)((0,Q.Z)({},b),{},{title:m.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var m=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,Q.Z)((0,Q.Z)({},m),{},{visible:!1})})},this.ddSpacePreview=m=>{var b={spaceId:m.path,fileId:m.url,fileName:m.name,fileSize:m.size,fileType:m.type};(0,B.DR)(b)},this.renderFileListItem=(m,b,z)=>u().createElement("div",{className:"file-list-item-coach",key:m.id||m.uid},u().createElement("span",{className:"file-list-item-coach__index"},z+1),u().createElement(A.Z,{iconClass:_(m),size:"16px"}),u().createElement("div",{className:"file-list-item-coach__info"},u().createElement("span",{className:"name"},m.name),m.id&&u().createElement("span",{className:"size"},m.size/1e3,"KB"),!m.id&&u().createElement("span",{className:"size"},"\u4E0A\u4F20\u4E2D")),b?u().createElement(w.Z,{type:"link",className:"file-list-item-coach__remove-btn",onClick:()=>{this.handleRemove(m)}},u().createElement(A.Z,{iconClass:"icon-icon_close",size:"12px"})):u().createElement("div",{style:{width:12}})),this.handleCancelUpload=()=>{this.setState({uploadVisible:!1})},this.uploadSuccess=m=>{var b=this.props,z=b.t,ne=b.value;if(m.length+ne.length>5){C.default.warning((0,v.ZT)(z("component.stageAddFileTip"),5));return}var ue=m.map(ee=>{var ve=te.Ss.indexOf(ee.originalType)>-1;return{id:ee.id,name:ee.name,duration:ee.duration,type:ee.type,originalType:ee.type,icon:te.e1[ve?"mp3":ee.type],status:ee.status,size:ee.size}});this.props.onChange(this.props.value.concat(ue)),this.setState({uploadVisible:!1})},this.state={showFileSelector:!1,UploadConfig:{data:{access_token:localStorage.token},action:te.ZP.PostAbility.operateAttachmentUpload(),beforeUpload:this.handleBeforeUpload,accept:".jpg,.jpeg,.png,.gif",showUploadList:!1,onChange:this.handleOnChange},uploadVisible:!1,resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},isDingDiskChoose:!1,previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){var L=this;return(0,p.Z)(c().mark(function R(){var m;return c().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return(0,B.TN)(),z.next=3,(0,y.uj)("operation");case 3:m=z.sent,L.setState({isDingDiskChoose:m});case 5:case"end":return z.stop()}},R)}))()}UNSAFE_componentWillReceiveProps(L){if((0,fe.Of)(L,this.props)){var R=L.uploadSucceedItem,m=R.id,b=R.name,z=R.contentType,ne=R.type,ue=R.duration,ee=R.status,ve=R.size;if(L.uploadComponentType!==L.uploadComponentId)return;var ge=te.Ss.indexOf(z)>-1,Ce={id:m,name:b,duration:ue,type:ne,originalType:ne,icon:te.e1[ge?"mp3":ne],status:ee,size:ve};this.props.onChange(this.props.value.concat([Ce]))}}render(){var L=this.props,R=L.t,m=L.value,b=L.removeable,z=L.preview,ne=L.resourceTip,ue=L.canSelectCourse,ee=L.notLibrary,ve=L.hasZip,ge=ve===void 0?"":ve,Ce=this.state,we=Ce.UploadConfig,Ie=Ce.showFileSelector,Ae=Ce.uploadVisible,Re=Ce.isDingDiskChoose,be=Ce.resourcePlayInfo,Ke=Ce.previewInfo,ke=u().createElement(d.Z,null,u().createElement(d.Z.Item,null,u().createElement(X.Z,we,R("component.practiceUploadPicBtnText"))),u().createElement(d.Z.Item,null,ee?u().createElement("div",{className:"practice-attachment__upload__button"},R("component.practiceUploadFileBtnText"),u().createElement("input",{className:"file-input",multiple:!0,type:"file",onChange:this.handleChooseFiles})):u().createElement("div",{className:"practice-attachment__upload__button",onClick:()=>this.setState({uploadVisible:!0})},R("component.practiceUploadFileBtnText"))));return u().createElement("div",{className:"practice-attachment"},!z&&u().createElement("div",null,u().createElement(_e.Z,{visible:Ie,defaultChecked:m,onCancel:this.handleSelectedCancel,onOk:this.handleSelectedAttachment,excludeType:"h5",showPrivate:!1}),u().createElement("div",{className:"practice-attachment-row"},u().createElement("span",null,R("component.practiceAttachment"),":"),u().createElement("div",null,u().createElement("div",null,u().createElement(T.Z,{overlay:ke,disabled:m.length===5},u().createElement(w.Z,{disabled:m.length===5,icon:u().createElement(D.Z,null)},R("component.localUpload"))),ue?u().createElement(w.Z,{className:"practice-attachment__choose-courseware",icon:u().createElement(D.Z,null),disabled:m.length===5,onClick:this.handleUploadFile},R("component.coursewareLibSelect")):null,dd&&dd.version&&Re?u().createElement(w.Z,{className:"practice-attachment__ding-upload-button",icon:u().createElement(I.Z,null),disabled:m.length===5,onClick:this.handlePreviewDingFile},R("learning.dingSelect")):null),u().createElement("div",{className:"tip"},ne||R(ge==="true"?"component.practiceUploadTipZip":"component.practiceUploadTipRange"))))),u().createElement("div",{className:"file-list"},m.map(($e,Qe)=>this.renderFileListItem($e,b,Qe))),ee?u().createElement(N.Z,{params:{classifyId:0,bizType:1},hasZip:ge}):u().createElement(x.Z,{visible:Ae,title:this.props.t("common.storage"),onCancel:this.handleCancelUpload,onSuccess:$e=>this.uploadSuccess($e),params:{classifyId:0,bizType:0},notLibrary:ee,hasZip:ge}),u().createElement(le.Z,(0,W.Z)({},be,{previewInfo:Ke})))}}F.defaultProps={removeable:!1,attachment:[],preview:!1,resourceTip:"",canSelectCourse:!0,notLibrary:!1};var se=(0,f.$j)(J)((0,V.Z)()(F)),Te=e(43859),me=q.Z.TextArea;class Ee extends u().Component{constructor(){super(...arguments);this.handleChange=L=>{var R=L.target.value;this.props.onFieldChange(R)},this.changContent=(L,R)=>{var m=L.target.value,b=[...this.props.value];b[R].content=m,this.props.onFieldChange(b)},this.changeFile=(L,R)=>{for(var m=[...this.props.value],b=0,z=m;b<z.length;b++){var ne=z[b];if(R===ne.id){ne.resources=L;break}}this.props.onFieldChange(m)},this.addStep=()=>{var L=this.props.value;this.props.onFieldChange(L.concat([{content:"",resources:[],id:new Date().getTime()}]))},this.delItem=L=>{var R=[...this.props.value];R.splice(L,1),this.props.onFieldChange(R)}}render(){var L=this.props,R=L.value,m=L.t,b=L.formik,z=L.canEdit,ne=L.maxLength,ue=L.areaPlaceHolder,ee=L.resourceTip,ve=L.canSelectCourse,ge=L.notLibrary,Ce=L.hasZip,we=Ce===void 0?"":Ce,Ie=b.errors;return u().createElement("div",{className:"radio-mentor-form"},R.map((Ae,Re)=>u().createElement("div",{key:Ae.id,className:"step-item"},u().createElement("div",{className:"step-title"},u().createElement("p",{className:"step-content"},(0,v.ZT)("".concat(m("practiceOperation.stepByStep")),Re+1)),R.length>1&&u().createElement(g.Z,{onClick:()=>this.delItem(Re)})),u().createElement(me,{maxLength:ne,disabled:!z,rows:4,placeholder:ue||m("tutorial.textDesc"),value:Ae.content,onChange:be=>this.changContent(be,Re)}),u().createElement(se,{notLibrary:ge,canSelectCourse:ve,resourceTip:ee,uploadComponentId:Ae.id,removeable:z,hasZip:we,preview:!z,onChange:be=>this.changeFile(be,Ae.id),value:Ae.resources}),Ie&&Ie.stepList&&Ie.stepList[Re]&&u().createElement("p",{className:"step-content-error"},m("tutorial.textDescRequire")))),z?u().createElement("div",{className:"step-add-btn",onClick:this.addStep},u().createElement(D.Z,null),u().createElement("span",null,m("tutorial.addSteps"))):null)}}Ee.defaultProps={maxLength:800,areaPlaceHolder:"",resourceTip:"",canSelectCourse:!0,notLibrary:!1};var de=(0,Te.Z)((0,S.$j)((0,V.Z)()(Ee)))},42837:function(Le,ce,e){"use strict";var ie=e(12924),q=e.n(ie),ae=e(91768),u=e(28216),V=e(66708),S=e(18329);class g extends q().Component{render(){var W=this.props,a=W.visible,T=W.onCancel,Z=W.title,d=W.t;return a?q().createElement(S.ZP,{visible:a,width:"400",footer:null,title:Z||d("common.QRCodeScan"),bodyStyle:{minWidth:430},onCancel:T,destroyOnClose:!0},q().createElement(V.Z,this.props)):null}}ce.Z=(0,u.$j)()((0,ae.Z)()(g))},74525:function(Le,ce,e){"use strict";var ie=e(57361),q=e(34792),ae=e(48086),u=e(9754),V=e.n(u),S=e(12924),g=e.n(S),D=e(91768),W=e(28216),a=e(92592),T=e(5430),Z=e(10237),d=e(84874),E=e(16239),X=e(38642),k=e(28963);class w extends g().Component{constructor(p){var M;super(p);M=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var C=this.props,P=C.type,c=C.isProjectShare,f=C.isCommodityExchange,I=C.userInfo;["wx","weixin"].includes(P)?P==="weixin"&&I.appId==="9005"?this.initOtherCode():this.initWXCode():c&&P==="ding"?this.getProjectShareUrl():f&&P==="ding"?this.getCommodityExchangeUrl():P==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var C=this.props,P=C.t,c=C.appType,f=C.orderId,I=this.props.option.scene,y=localStorage.getItem("uid");if(!E.Z[(0,E.c)()].showCl||c!=="e_app"){var x={deliverUserId:y,orderId:f,flag:"exchange"};a.toDataURL(JSON.stringify(x),{width:500}).then($=>{this.setState({img:$})}).catch(()=>{ae.default.error(P("integralMall.qrCodeFailed"))})}else{var N="/pages/messageRedirect/messageRedirect?".concat(I),v=encodeURIComponent(N),B="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(v,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(B).then($=>{a.toDataURL($.data.short_link,{width:500}).then(A=>{this.setState({img:A})}).catch(()=>{ae.default.error(P("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var C=this.props.option.scene,P=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(C)),c="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(P);this.getShortLink(c).then(f=>{this.initOtherCode(f.data.short_link)})},this.getShortLink=C=>Z.WY.post({url:T.ZP.Common.getQrUrl(),data:{link:C}}),this.initWXCode=(0,ie.Z)(V().mark(function C(){var P,c,f,I;return V().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return P=M.props.option,c=P.scene,f=P.flag,x.next=3,Z.WY.post({url:T.ZP.createWxCode(),data:{flag:f,scene:"".concat(c,"&enterpriseId=").concat(T.ZP.enterpriseId),enterprise_id:T.ZP.enterpriseId}});case 3:I=x.sent,M.setState({img:I.data.wx_code,linkUrl:"data:image/png;base64,".concat(I.data.wx_code)});case 5:case"end":return x.stop()}},C)})),this.initOtherCode=function(){var C=(0,ie.Z)(V().mark(function P(c){var f,I,y,x;return V().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f=M.props,I=f.type,y=f.fsUrl,v.t0=c,v.t0){v.next=6;break}return v.next=5,M.handleScanCode();case 5:v.t0=v.sent;case 6:x=v.t0,I==="fs"&&y&&(x=y),M.setState({linkUrl:x}),a.toDataURL(x,{width:500}).then(B=>{M.setState({img:B})}).catch(()=>{ae.default.error(M.props.t("personal.failedGenerateCode"))});case 10:case"end":return v.stop()}},P)}));return function(P){return C.apply(this,arguments)}}(),this.handleScanCode=(0,ie.Z)(V().mark(function C(){var P,c,f,I,y,x,N,v,B,$,A,H,te,_e,fe,le,he,J;return V().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(P=M.props,c=P.type,f=P.userInfo,I=P.universalFn,y=M.state.wxH5Url,x=M.props.option,N=x.scene,v=x.pc_url,B=v===void 0?"":v,$=x.mobile_url,A=$===void 0?"":$,H=x.pc_type,te=H===void 0?"":H,_e=x.mobile_type,fe=_e===void 0?"":_e,le=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),he=encodeURIComponent(N),!I){F.next=12;break}return F.next=8,M.getShortLink((0,X.jr)({pc_url:B,mobile_url:A,pc_type:te,mobile_type:fe}));case 8:return J=F.sent,F.abrupt("return",(0,k.fZ)(J.data.short_link));case 12:F.t0=c,F.next=F.t0==="app"?15:F.t0==="ding"?16:F.t0==="fs"?17:F.t0==="weixin"?18:19;break;case 15:return F.abrupt("return","".concat(N,"&fromApp=true"));case 16:return F.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(f.corpId,"&appId=").concat(M.appId,"&miniAppId=").concat(M.miniAppId,"&packageType=1&pVersion=1&page=").concat(le+he));case 17:return F.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(N,"&appType=lark"));case 18:return F.abrupt("return","".concat(y,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(f.corpId,"&").concat(N));case 19:return F.abrupt("return","");case 20:case"end":return F.stop()}},C)})),this.saveQrcode=()=>{var C=this.state.img,P=this.props,c=P.type,f=P.t,I=P.userInfo,y=document.createElement("a");y.download=f("setting.Qrcode")+new Date().getTime(),y.href=c==="wx"||c==="weixin"&&I.appId!=="9005"?"data:image/png;base64,".concat(C):C,document.body.appendChild(y),y.click(),document.body.removeChild(y)},this.generatePoster=C=>{var P=C.linkUrl,c=C.type,f=C.activeKey,I=C.option,y=this.props.universalFn;typeof y=="function"&&y({linkUrl:P,type:c,activeKey:f,option:I})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(p){p.option.scene!==this.props.option.scene&&this.initCode()}render(){var p=this.props,M=p.type,C=p.tip,P=p.extraTip,c=p.t,f=p.canSave,I=p.refreshQrCode,y=p.label,x=p.saveText,N=x===void 0?"":x,v=p.downloadAsBtn,B=p.userInfo,$=p.universalFn,A=p.activeKey,H=p.option,te=this.state,_e=te.img,fe=te.linkUrl,le=localStorage.getItem("themeColor")||"#465dcd";return _e?g().createElement("div",{className:"qr-code-content"},y?g().createElement("div",{className:"label-text"},y,":"):null,g().createElement("div",{className:"qr-code-div ".concat(y?"left":"")},M==="wx"||M==="weixin"&&B.appId!=="9005"?g().createElement("img",{src:"data:image/png;base64,".concat(_e),alt:""}):g().createElement("img",{src:_e,alt:""}),C?g().createElement("div",{className:"tip-text"},C):null,P?g().createElement("div",{className:"tip-text"},P):null,f?g().createElement("div",{className:"save_qrcode ".concat(v?"save-btn":""),style:{color:le},onClick:()=>this.saveQrcode()},v?null:g().createElement(d.Z,{iconClass:"icon-f-download",size:"14px"}),N||c("personal.saveCode")):null,$&&!I?g().createElement("div",{className:"save_qrcode",style:{color:le},onClick:()=>this.generatePoster({linkUrl:fe,type:M,activeKey:A,option:H})},c("personal.saveCodePoster")):null,I?g().createElement("div",{className:"save_qrcode",style:{color:le},onClick:()=>I()},g().createElement(d.Z,{iconClass:"iconf-switch",size:"14px"}),c("personal.refreshCodeTip")):null)):g().createElement("div",{className:"qr-code-placeholder"})}}ce.Z=(0,W.$j)(Q=>{var p=Q.user;return{userInfo:p,appType:p.appType,corpId:p.corpId}})((0,D.Z)()(w))},66708:function(Le,ce,e){"use strict";var ie=e(93485),q=e(33565),ae=e(57361),u=e(18106),V=e(88108),S=e(9754),g=e.n(S),D=e(12924),W=e.n(D),a=e(91768),T=e(28216),Z=e(89366),d=e(48194),E=e(74525),X=e(77779),k=e.n(X),w=e(6793),Q=V.Z.TabPane;class p extends W().Component{constructor(P){var c;super(P);c=this,this.initAppTypeScan=(0,ae.Z)(g().mark(function I(){var y,x,N,v,B,$,A,H,te,_e,fe;return g().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Promise.all([(0,d.q)(),(0,d.$)()]);case 2:y=he.sent,x=(0,q.Z)(y,2),N=x[0],v=x[1],B=N.data.sync_organizes,$=v.data.list,A=!1,H=(0,ie.Z)($),he.prev=10,H.s();case 12:if((te=H.n()).done){he.next=19;break}if(_e=te.value,_e.type!=="wechat_applet_setting"){he.next=17;break}return A=_e.switch_status==="OPEN",he.abrupt("break",19);case 17:he.next=12;break;case 19:he.next=24;break;case 21:he.prev=21,he.t0=he.catch(10),H.e(he.t0);case 24:return he.prev=24,H.f(),he.finish(24);case 27:fe=c.props.universalFn?c.filterOrganizes(B):c.filterCode(B),A&&fe.push("wx"),c.setState({scanTypes:fe});case 30:case"end":return he.stop()}},I,null,[[10,21,24,27]])})),this.filterCode=I=>{var y=[...I],x=this.props.option;return y=y.map(N=>["third_oa_app","seeyon_app"].includes(N)?"ding":N),x&&x.flag==="exam_task"?[...new Set([...y])].filter(N=>N==="fs"):[...new Set([...y,"app"])]},this.filterOrganizes=I=>{var y=[...I],x=this.props.option;y=y.map(v=>["third_oa_app","seeyon_app"].includes(v)?"ding":v);var N=new Set([...y]);return N.size===1&&N.has("app")?x&&x.flag==="exam_task"?[...N].filter(v=>v==="fs"):[...N]:(N.delete("app"),x&&x.flag==="exam_task"?[...N].filter(v=>v==="fs"):[...N])};var f=P.t;this.state={scanTypes:[],commonTitle:{ding:f("common.sanCodeCommon"),fs:f("common.sanCodeCommon"),weixin:f("common.sanCodeCommon"),app:f("common.sanCodeCommon"),wx:f("common.weChatApplets")},tabTitle:{ding:f("common.dingDingSanCode"),fs:f("common.fsScanCode"),weixin:f("common.WeComSanCode"),app:f("common.appScanCode"),wx:f("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var P=this.state,c=P.tabTitle,f=P.commonTitle,I=P.scanTypes,y=this.props,x=y.option,N=y.tip,v=y.t,B=y.extraTip,$=y.canSave,A=y.refreshQrCode,H=y.isCommodityExchange,te=y.type,_e=y.center,fe=_e===void 0?!0:_e,le=y.label,he=le===void 0?"":le,J=y.saveText,_=y.downloadAsBtn,F=_===void 0?!1:_,se=y.transfer,Te=se===void 0?!1:se,me=y.source_type,Ee=y.universalFn,de=y.activeKey;return W().createElement("div",{className:"".concat(k()["scan-code-box"]," ").concat(te==="card"?k()["card-tabs"]:"")},I.length===1?W().createElement(E.Z,{universalFn:Ee,activeKey:de,type:I[0],option:x,tip:(0,w.ZT)(v(N),Ee?f[I[0]]:c[I[0]]),extraTip:B,canSave:$,fsUrl:x.fsUrl,refreshQrCode:A,isCommodityExchange:H,label:he,saveText:J,downloadAsBtn:F}):W().createElement(V.Z,{defaultActiveKey:"1",centered:fe,type:te},I.map((j,L)=>{var R=L+1;return W().createElement(Q,{tab:Ee?f[j]:c[j],key:R},Te&&W().createElement("div",{className:k()["scan-code-transfer"]},W().createElement(Z.Z,null),W().createElement("span",null,v("course.onlyScope",{source_type:v(me==="study_project"?"lineClass.project":"lineClass.task")}))),W().createElement(E.Z,{universalFn:Ee,activeKey:de,type:j,option:x,tip:(0,w.ZT)(v(N),Ee?f[j]:c[j]),extraTip:B,canSave:$,fsUrl:x.fsUrl,refreshQrCode:A,isCommodityExchange:H,label:he,saveText:J,downloadAsBtn:F}))})))}}p.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var M=C=>({appType:C.user.appType});ce.Z=(0,T.$j)(M)((0,a.Z)()(p))},61981:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return E}});var ie=e(88983),q=e(47933),ae=e(93485),u=e(57663),V=e(71577),S=e(12924),g=e.n(S),D=e(91768),W=e(18329),a=e(10237),T=e(37055);function Z(X){var k=T.ZP.tutor.listTutor();return a.WY.get({url:k,params:{filter_user_quit:"true",user_id:X,filter_user_tutor:"true",status:"on"}})}class d extends g().Component{constructor(k){super(k);this.initTutorData=w=>{Z(w.userId).then(Q=>{Q.data.data.list&&this.setState({tutorList:Q.data.data.list,selectTutorId:w.value||""})})},this.renderFooter=()=>g().createElement(V.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit")),this.changeTutor=w=>{this.setState({selectTutorId:w.target.value})},this.onOk=()=>{var w=this.props.onOk,Q=this.state,p=Q.selectTutorId,M=Q.tutorList,C="",P=(0,ae.Z)(M),c;try{for(P.s();!(c=P.n()).done;){var f=c.value;if(f.user_id===p){C=f.user_name;break}}}catch(I){P.e(I)}finally{P.f()}w&&w(p,C)},this.onCancel=()=>{var w=this.props.onCancel;this.setState({tutorList:[],selectTutorId:""}),w&&w()},this.renderTip=()=>{var w=this.state.tutorList,Q=this.props,p=Q.t,M=Q.model;if(w.length===0)return p("tutorial.noTutor");if(M==="resource_evaluation")return p("tutorial.noEvaluation");if(M==="evaluation")return p("tutorial.tutorCommitAssess");if(M==="operation")return p("tutorial.noApproverEvaluation")},this.state={prefixCls:"coach-tutor-modal",tutorList:[],selectTutorId:""}}UNSAFE_componentWillReceiveProps(k){k.visible!==this.props.visible&&k.visible&&this.initTutorData(k),k.visible!==this.props.visible&&!k.visible&&this.setState({tutorList:[],selectTutorId:""})}render(){var k=this.state,w=k.prefixCls,Q=k.tutorList,p=k.selectTutorId,M=this.props,C=M.t,P=M.visible,c=M.title;return g().createElement(W.ZP,{className:"".concat(w),visible:P,title:c||C("tutorial.chooseTutor"),size:"small",onCancel:this.onCancel,onOk:this.onOk},g().createElement("div",{className:"choose-tutor-content"},g().createElement("div",{className:"tutor-list"},g().createElement("div",{className:"tutor-tip"},this.renderTip()),Q.length>0?g().createElement(q.ZP.Group,{onChange:this.changeTutor,value:p},Q.map(f=>g().createElement(q.ZP,{value:f.user_id,key:f.user_id},g().createElement("div",{className:"radio-item"},g().createElement("img",{src:f.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""}),g().createElement("div",{className:"radio-item-text"},g().createElement("div",{className:"radio-item-name"},g().createElement("span",{title:f.user_name,className:"user-name"},f.user_name),g().createElement("img",{src:f.gender==="female"?"".concat("https://oss.coolcollege.cn","/1790706776073703424.png"):"".concat("https://oss.coolcollege.cn","/1790706775494889472.png"),alt:"",className:"user-name__sex-img"})),g().createElement("span",{title:f.department_name,className:"user-post"},f.department_name)))))):null)))}}d.defaultProps={visible:!1,onCancel:()=>{},onOk:()=>{},value:""};var E=(0,D.Z)()(d)},8473:function(Le,ce,e){"use strict";var ie=e(62029),q=e(96433),ae=e(33304),u=e(57663),V=e(71577),S=e(12924),g=e.n(S),D=e(91768),W=e(18329);class a extends g().Component{constructor(Z){super(Z);this.handleChangeRate=d=>{this.setState({myScore:d})},this.handleOk=()=>{this.props.onOk(this.state.myScore)},this.handleCancel=()=>{this.props.onCancel()},this.renderFooter=()=>{var d=this.props.disabled;return d?null:g().createElement(V.Z,{key:"submit",type:"primary",onClick:this.handleOk},this.props.t("common.submit"))},this.state={prefixCls:"score-course-modal",giveMarkModal:{title:Z.title||Z.t("common.tip"),mask:!0,size:"small",onCancel:this.handleCancel},myScore:5,starsArray:[Z.t("course.bad"),Z.t("course.better"),Z.t("course.good"),Z.t("course.perfect"),Z.t("course.great")]}}componentDidUpdate(Z){Z.visible!==this.props.visible&&this.props.visible&&this.setState({myScore:this.props.disabled?this.props.score:5})}render(){var Z=this.state,d=Z.prefixCls,E=Z.giveMarkModal,X=Z.myScore,k=Z.starsArray,w=this.props,Q=w.t,p=w.visible,M=w.disabled;return g().createElement(W.ZP,(0,ie.Z)({className:"".concat(d)},E,{visible:p,footer:this.renderFooter()}),g().createElement("div",{className:"".concat(d,"__content")},g().createElement("div",{className:"".concat(d,"__title")},Q("course.myScore")),g().createElement("div",{className:"".concat(d,"__score-container")},g().createElement("span",{className:"".concat(d,"__score")},X),g().createElement("span",{className:"".concat(d,"__point")},Q("course.points"))),g().createElement(ae.Z,{className:"".concat(d,"__rate"),value:X,disabled:M,style:{color:"#FFC563"},onChange:this.handleChangeRate,allowClear:!1}),g().createElement("div",{className:"".concat(d,"__desc")},k[X-1])))}}a.defaultProps={visible:!1,score:0,disabled:!1,title:"",onCancel:()=>{},onOk:()=>{}},ce.Z=(0,D.Z)()(a)},63532:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return c}});var ie=e(88983),q=e(47933),ae=e(57663),u=e(71577),V=e(96433),S=e(33304),g=e(34792),D=e(48086),W=e(12924),a=e.n(W),T=e(91768),Z=e(28216);class d extends a().Component{constructor(I){super(I);this.state={}}render(){var I=this.props.formMessages;return a().createElement("div",{id:"aliPay",dangerouslySetInnerHTML:{__html:I}})}}var E=f=>{var I=f.user;return{userInfo:I}},X=(0,Z.$j)(E)((0,T.Z)()(d)),k=e(38642),w=e(10237),Q=e(37055),p=e(84874),M=e(18329);class C extends a().Component{constructor(I){super(I);this.onChange=y=>{this.setState({payType:y.target.value})},this.handleCancel=()=>{this.props.handleCancel()},this.toPay=()=>{var y=this.state.payType,x=this.props,N=x.t,v=x.payInfo,B=x.type;if(y==="all"){D.default.info(N("payment.paymentMethod"));return}var $=y==="ali"?"ALIPAY":"WXPAY",A=v.id,H=v.price,te=B==="project"?"STUDY_PROJECT":"STUDY_TASK";w.WY.post({url:Q.ZP.StudyProjectList.createOrder(),data:{terminal_type:"pc",pay_channel:$,goods_id:A,goods_type:te,domain:window.location.origin}}).then(_e=>{y==="ali"?this.setState({formMessages:_e.data.data},()=>{var fe="";document.forms.length>1&&document.forms.forEach(le=>{le.name==="punchout_form"&&(fe=le)}),fe&&fe.submit()}):(0,k.eJ)({url:"/course/project/wxPay?payStr=".concat(_e.data.data,"&price=").concat(H,"&goodsId=").concat(A)})})},this.renderProjectInfo=()=>{var y=this.props.payInfo;return a().createElement("div",{className:"bottom_tips"},a().createElement("div",{className:"left"},a().createElement("img",{src:y.cover,alt:""})),a().createElement("div",{className:"middle"},a().createElement("div",{className:"title"},y.title),a().createElement(S.Z,{className:"rate",disabled:!0,value:y.score===0?5:y.score,style:{color:"#FFC563",fontSize:"10px"}})),a().createElement("div",{className:"right"},"\uFFE5",y.price))},this.renderGoodsInfo=()=>{var y=this.props,x=y.payInfo,N=y.t;return a().createElement("div",{className:"pay-goods-info"},a().createElement("div",{className:"pay-goods-info__title"},a().createElement("div",{className:"pay-goods-info__item"},N("common.name")),a().createElement("div",{className:"pay-goods-info__item"},N("learning.aiTrainPrice"))),a().createElement("div",{className:"pay-goods-info__body"},a().createElement("div",{className:"pay-goods-info__item"},x.title),a().createElement("div",{className:"pay-goods-info__item"},"\uFFE5",x.price)))},this.state={payType:"ali"}}componentWillReceiveProps(I){this.setState({payType:I.showPayType})}render(){var I=this.props,y=I.visible,x=I.t,N=I.showPayType,v=I.type,B=this.state,$=B.payType,A=B.formMessages,H=a().createElement(u.Z,{type:"primary",onClick:this.toPay},x("payment.pay"));return a().createElement(M.ZP,{title:x("payment.purchaseCourse"),visible:y,onCancel:this.handleCancel,width:560,footer:H},a().createElement("div",{className:"wx-or-ali-pay"},a().createElement("p",null," ",x("payment.choosePayType")),a().createElement(q.ZP.Group,{onChange:this.onChange,value:$},(N==="ali"||N==="all")&&a().createElement(q.ZP,{value:"ali"},a().createElement(p.Z,{iconClass:"icon-zhifubaozhifu",size:"20px"}),a().createElement("span",{className:"pay-type"},x("payment.aliPay"))),(N==="wx"||N==="all")&&a().createElement(q.ZP,{value:"wx"},a().createElement(p.Z,{iconClass:"icon-weixinzhifu",size:"20px"}),a().createElement("span",{className:"pay-type"},x("payment.wxPay")))),a().createElement("p",{className:"scan-tips"},x("payment.ConfirmOrder")),v==="project"?this.renderProjectInfo():this.renderGoodsInfo()),a().createElement(X,{formMessages:A}))}}C.defaultProps={visible:!1,handleCancel:()=>{},type:"project"};var P=f=>{var I=f.user;return{userInfo:I}},c=(0,Z.$j)(P)((0,T.Z)()(C))},24267:function(Le,ce,e){"use strict";e.r(ce),e.d(ce,{default:function(){return It}});var ie=e(20228),q=e(11382),ae=e(71194),u=e(57016),V=e(34792),S=e(48086),g=e(62029),D=e(88986),W=e(12924),a=e.n(W),T=e(28216),Z=e(91768),d=e(76651),E=e(57068),X=e(41285),k=e(85725),w=e(63532),Q=e(71153),p=e(60331),M=e(18329),C=e(6793),P=e(56932),c=e.n(P);class f extends a().Component{constructor(){super(...arguments);this.renderHeader=()=>{var U=this.props,n=U.prefixCls,t=U.record,s=U.t,r="".concat(n,"__header"),o=t.latoja,i=o.avatar,l=o.lecturer_name,h=o.lecturer_describe;return a().createElement("header",{className:r},a().createElement("img",{className:"".concat(r,"__avatar"),src:i||c()}),a().createElement("div",{className:"".concat(r,"__info")},a().createElement("h1",{className:"".concat(r,"__info__title")},s("lecturerPage.lecturer"),": ",a().createElement("span",null,l)),a().createElement("div",{className:"".concat(r,"__info__intro"),dangerouslySetInnerHTML:{__html:h}})))},this.renderBody=()=>{var U=this.props,n=U.prefixCls,t=U.record,s=U.t,r="".concat(n,"__body"),o=t.latoja,i=o.begin_time,l=o.end_time,h=o.address;return a().createElement("section",{className:r},a().createElement("p",{className:"".concat(r,"__info")},s("help.time"),":"," ",a().createElement("span",null,(0,C.p6)(i)," ~ ",(0,C.p6)(l))),a().createElement("p",{className:"".concat(r,"__info")},s("help.address"),": ",a().createElement("span",null,h)))},this.renderFooter=()=>{var U=this.props,n=U.prefixCls,t=U.record,s="".concat(n,"__footer"),r=t.latoja.adept_field,o=r.split(",").filter(i=>i);return o.length?a().createElement("footer",{className:s},o.map((i,l)=>a().createElement(p.Z,{key:l},i))):null}}render(){var U=this.props,n=U.prefixCls,t=U.visible,s=U.record,r=s===void 0?{}:s,o=U.onCancel,i=Object.keys(r).length;return i?a().createElement(M.ZP,{visible:t,footer:null,bodyStyle:{maxHeight:"initial"},title:r.title,onCancel:o},a().createElement("div",{className:n},this.renderHeader(),this.renderBody(),this.renderFooter())):null}}f.defaultProps={prefixCls:"course-project-stage__latojamodal"};var I=(0,Z.Z)()(f),y=e(96433),x=e(33304),N=e(34669),v=e(82833),B=e(57361),$=e(57663),A=e(71577),H=e(9754),te=e.n(H),_e=e(80177),fe=e(8812),le=e(10237),he=e(8473),J=e(37055),_=e(84874),F=e(60667),se=Se=>({userInfo:Se.user,isSubsidyCourse:Se.subsidyCourseInfo.isSubsidyCourse,isRealNameAuth:Se.subsidyCourseInfo.isRealNameAuth,isHangupPrevention:Se.subsidyCourseInfo.isHangupPrevention,isInitStartFace:Se.subsidyCourseInfo.isInitStartFace,touchStyle:Se.subsidyCourseInfo.touchStyle,touchValue:Se.subsidyCourseInfo.touchValue,authentication:Se.subsidyCourseInfo.authentication,studyHourLimit:Se.subsidyCourseInfo.studyHourLimit,videoPlayRecord:Se.subsidyCourseInfo.videoPlayRecord});class Te extends a().Component{constructor(U){var n;super(U);n=this,this.handleOk=t=>{var s=this.props,r=s.projectInfo,o=s.onAddScore,i=s.t;this.setState({giveMarkVisible:!1}),le.qg.post({url:J.ZP.EnterpriseCourse.addCommentAndScore(),data:{courseId:r.course_id,score:t}}).then(l=>{l.data.code===0&&(S.default.success(i("course.scoredSuccessfully")),o&&o())})},this.showGiveMarkModal=()=>{var t=this.props.projectInfo;t.status!=="disabled"&&this.setState({giveMarkVisible:!0})},this.handleCancel=()=>{this.setState({giveMarkVisible:!1})},this.viewCerti=()=>{var t=this.state.viewCertiConfig;t.visible=!0,this.setState({viewCertiConfig:t}),t.url||this.getViewCertiUrl()},this.hiddenViewCerti=()=>{var t=this.state.viewCertiConfig;t.visible=!1,this.setState({viewCertiConfig:t})},this.linkToStudy=()=>{var t=this.props,s=t.isStart,r=t.projectInfo;s&&r.process<100?this.props.linkToStudy():r.process>=100?this.props.againStudy():this.props.startStudy(()=>{this.props.linkToStudy()})},this.getViewCertiUrl=()=>{var t=this.props.projectInfo.certificate_id,s=this.state.viewCertiConfig,r=J.ZP.StudyProjectList.projectCertiUrl(t);le.WY.get({url:r}).then(o=>{s.url=o.data.preview_url,this.setState({viewCertiConfig:s})})},this.handleRegisterNow=()=>{var t=this.props.onRegisterNow;t&&t()},this.handleShowQRCModal=()=>{var t=this.props.projectInfo.ding_img_url;this.setState({viewQrCodeConfig:{imgUrl:t,visible:!0}})},this.handleCloseQRCModal=()=>{this.setState({viewQrCodeConfig:{imgUrl:"",visible:!1}})},this.renderOperateButton=()=>{var t=this.props,s=t.projectInfo,r=t.prefixCls,o=t.t,i=s.enroll_status,l=s.limit_count,h=s.is_free,G=s.have_purchased,Y=null;switch(i){case"pass":Y=!h&&G!=="true"?this.renderPaymentButton():this.startStudyOperateButton();break;case"unlimited":Y=a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"primary",onClick:this.handleRegisterNow},o("common.register")));break;case"limited":Y=a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"primary",onClick:this.handleRegisterNow},o("common.register")," (",(0,C.ZT)(o("common.limitedPeopleCount"),l),")"));break;case"reject":Y=a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"default",disabled:!0},o("common.registerRefused")));break;case"wait":Y=a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"default",disabled:!0},o("common.approving")));break;case"stop":Y=a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"default",disabled:!0},o("common.quotaFull")));break;default:break}return Y},this.clickLike=(0,B.Z)(te().mark(function t(){var s;return te().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,le.WY.post({url:J.ZP.Courses.like(d.m8.location.query.id)});case 2:s=o.sent,s.data&&(s.data.status=="like"?S.default.success("".concat(n.props.t("course.likeSuccess"))):S.default.success("".concat(n.props.t("course.unLikeSuccess"))),n.props.getInfor());case 4:case"end":return o.stop()}},t)})),this.startStudyOperateButton=()=>{var t=this.props,s=t.projectInfo,r=t.isStart,o=t.prefixCls,i=t.t;return a().createElement("div",{className:"".concat(o,"__right__study")},a().createElement(A.Z,{disabled:s.status==="disabled",type:"primary",onClick:this.beforeLinkToStudy},r?s.process<100?i("study.continueLearning"):i("study.againStudy"):i("study.startLearning")))},this.renderMyProgress=()=>{var t=this.props,s=t.projectInfo,r=t.isStart,o=t.prefixCls,i=t.t;return a().createElement("div",{className:"".concat(o,"__right__study__progress")},r?a().createElement("div",null,i("study.myProgress"),a().createElement(v.Z,{percent:s.process,size:"small"})):null,s.process>=100?a().createElement("span",{className:"".concat(o,"__right__study__result ").concat(s.qualified_status==="true"?"":"fail")},s.qualified_status==="true"?i("study.employeePass"):i("study.employeeUnPass")):null)},this.buyProject=t=>{var s=this.props.showBuyQrCode;s&&s(t)},this.renderNewLogicOperateButton=()=>{var t=this.props,s=t.projectInfo,r=t.prefixCls,o=t.t,i=s.camp_periods,l=s.type,h=s.enroll_status,G=s.is_free,Y=s.have_purchased;return l==="camp_period"?this.startStudyOperateButton():i.length>0?a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"primary",onClick:()=>this.buyProject("camp")},o("common.register"))):Y==="true"&&h==="pass"||G&&h==="pass"?this.startStudyOperateButton():this.renderOperateButton()},this.renderPaymentButton=()=>{var t=this.props,s=t.projectInfo,r=t.prefixCls,o=t.t,i=s.preferential_price_str,l=s.official_price_str;return a().createElement("div",{className:"".concat(r,"__right__study")},a().createElement(A.Z,{type:"primary",onClick:this.buyProject},o("learning.buyProject")),a().createElement("span",{className:"preferential_price_project"},a().createElement("span",{className:"unit"},"\uFFE5"),i),parseInt(l,10)>0?a().createElement("span",{className:"original_price_project"},a().createElement("span",null,"\uFFE5"),l):"")},this.beforeLinkToStudy=()=>{var t=this.props,s=t.isSubsidyCourse,r=t.isInitStartFace,o=t.isHangupPrevention,i=t.isRealNameAuth,l=t.handleSubsidyQrCodeModal,h=t.handleShowInitTip,G=t.videoPlayRecord;if(s){if(r==="1"||o==="2"||G===1){l();return}if(i==="1"||o==="1"){h();return}}this.linkToStudy()},this.state={giveMarkVisible:!1,viewCertiConfig:{visible:!1,viewCertiConfig:"",title:U.t("common.certificate"),footer:null,size:"small",destroyOnClose:!0,maskClosable:!1,onCancel:this.hiddenViewCerti},viewQrCodeConfig:{visible:!1,imgUrl:""},isCampPeriod:!1,appType:localStorage.appType}}render(){var U=this.state,n=U.giveMarkVisible,t=U.viewCertiConfig,s=U.viewQrCodeConfig,r=U.appType,o=this.props,i=o.prefixCls,l=o.projectInfo,h=o.t;return a().createElement("div",{className:i},a().createElement("div",{className:"".concat(i,"__left")},a().createElement("img",{src:l.cover,alt:""}),a().createElement("div",{className:"".concat(i,"__left_operate")},a().createElement("div",{className:"".concat(i,"__left_operate_like"),onClick:()=>this.clickLike()},a().createElement(_e.Z,{style:{color:l.like_status==="like"?"#FFA818":""}}),"\xA0",a().createElement("div",null,"(",l.like_count,")")),this.renderMyProgress())),a().createElement("div",{className:"".concat(i,"__right")},a().createElement("div",{className:"".concat(i,"__right__title")},l.title),a().createElement("div",{className:"".concat(i,"__right__score")},a().createElement(x.Z,{className:"".concat(i,"__right__rate"),disabled:!0,value:l.score===0?5:l.score,style:{color:"#FFC563"}}),l.graded==="true"||l.status!=="normal"?null:a().createElement("span",{className:"".concat(i,"__right__give-mark"),onClick:this.showGiveMarkModal},h("course.score"),a().createElement(fe.Z,null))),a().createElement("div",{className:"".concat(i,"__right__course-info")},a().createElement("div",{className:"".concat(i,"__right__course-info__item")},a().createElement("div",{className:"".concat(i,"__right__course-info__title")},a().createElement(F.Z,{dataType:"userName",value:l.creator_sync_user_id,name:l.create_user_name,type:l.creator_sync_source_type})),a().createElement("div",{className:"".concat(i,"__right__course-info__subtitle")},h("common.creator"))),a().createElement("div",{className:"".concat(i,"__right__course-info__item")},a().createElement("div",{className:"".concat(i,"__right__course-info__title")},l.resource_count),a().createElement("div",{className:"".concat(i,"__right__course-info__subtitle")},h("learning.learningProjectStageCount"))),a().createElement("div",{className:"".concat(i,"__right__course-info__item")},a().createElement("div",{className:"".concat(i,"__right__course-info__title")},l.study_count),a().createElement("div",{className:"".concat(i,"__right__course-info__subtitle")},h("learning.learningProjectStudyCount")))),a().createElement("div",{className:"".concat(i,"__right__footer")},l.progress>0||l.times>0?a().createElement("span",{className:"pass-standard"},h("learning.learningAddSecPassTitle"),"\uFF1A",l.progress>0?"".concat(h("learning.learningProjectStudyProgress")).concat(l.progress,"% "):"",l.times>0?" ".concat(h("learning.learningProjectExamProgress")).concat(l.times).concat(h("common.examUnit")):"",l.operation_times>0?" ".concat(h("learning.learningProjectOperationProgress")).concat(l.operation_times).concat(h("common.examUnit")):"",l.finish_evaluation==="true"?" ".concat(h("learning.learningProjectEvaluationProgress")):""):null,l.study_score&&l.study_score.finish_score?a().createElement("span",{className:"pass-reward"},h("learning.learningAddSecRewardTitle"),"\uFF1A",l.study_score?"".concat(l.study_score.finish_score).concat(h("common.credit")):""):null,l.certificate_name?a().createElement("span",{className:"certificate-name"},h("personal.getCerti"),"\uFF1A",l.certificate_name?a().createElement("span",{onClick:this.viewCerti},"\u300A",l.certificate_name,"\u300B"):null):null),this.renderNewLogicOperateButton(),r==="e_app"&&l.ding_img_url?a().createElement("div",{className:"".concat(i,"__right__study__code"),onClick:this.handleShowQRCModal},a().createElement("span",null,h("learning.learningAddAC")),a().createElement("span",{className:"".concat(i,"__right__study__code__icon")}," ",a().createElement(_.Z,{iconClass:"icon-erweima",size:"14px"})),a().createElement("span",{className:"".concat(i,"__right__study__code__icon")}," ",a().createElement(_.Z,{iconClass:"icon-jinrujiantou",size:"12px"}))):null),a().createElement(he.Z,{visible:n,onCancel:this.handleCancel,onOk:this.handleOk}),a().createElement(M.ZP,t,a().createElement("div",{className:"course-project-certi"},a().createElement("img",{src:t.url,alt:""}))),a().createElement(u.Z,{visible:s.visible,width:340,centered:!0,onCancel:this.handleCloseQRCModal,footer:null},a().createElement("div",{className:"".concat(i,"__QRC-modal__body")},a().createElement("img",{src:s.imgUrl,alt:""}),a().createElement("div",{className:"".concat(i,"__QRC-modal__body__tips")},"\u9489\u9489\u626B\u7801\u52A0\u5165\u4EA4\u6D41\u5708"))))}}Te.defaultProps={prefixCls:"course-project-top"};var me=(0,T.$j)(se)((0,Z.Z)()(Te)),Ee=e(7359),de=e(2829),j=e(47673),L=e(4107),R=e(18106),m=e(88108),b=e(59239),z=e(55446),ne=e(22385),ue=e(31097),ee=e(93485),ve=e(67719),ge=e(78138),Ce=e.n(ge),we=e(47745),Ie=e(38642),Ae=e(70517),Re=e(1164),be=e(59842),Ke=e(42837),ke=e(54531),$e=e(19151),Qe,st,rt,je,nt=de.Z.Panel,He=(Qe=(0,T.$j)(Se=>{var U=Se.subsidyCourseInfo,n=Se.user;return{isSubsidyCourse:U.isSubsidyCourse,isRealNameAuth:U.isRealNameAuth,isHangupPrevention:U.isHangupPrevention,isInitStartFace:U.isInitStartFace,videoPlayRecord:U.videoPlayRecord,userInfo:n}}),st=Reflect.metadata("design:type",Function),rt=Reflect.metadata("design:paramtypes",[void 0]),Qe(je=st(je=rt(je=class extends a().Component{constructor(U){var n;super(U);n=this,this.checkBeforeEnter=t=>{var s=t.record,r=t.type,o=r===void 0?"":r,i=this.props,l=i.item,h=i.t,G=i.versionType,Y=s.can_start_study,K=s.study_progress,re=Y==="false";return new Promise(oe=>{re?S.default.warning(h("study.beginStudyBreakThroughTip")):o==="quiz"?l.is_order&&K<100?S.default.warning(h("study.beginStudyBreakThroughTip")):oe():G==="platform"&&(o==="report"||o==="liftingScheme")?this.getShouldViewReport(s.course_id).then(xe=>{xe.data.look==="true"?oe():S.default.warning(h("questionn.viewReportTips"))}):oe()})},this.getShouldViewReport=t=>{var s=J.ZP.PostTalentEvaluation.shouldViewReport(t);return le.WY.get({url:s})},this.handleGoToInvestigate=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{var r=this.props.planId;(0,Ie.eJ)({url:"/training/learning/task/participateInInvestigate?".concat(E.stringify({planId:r,investigateId:s.course_id,studyType:"study_project"}))})})},this.handleGoToEvaluation=t=>{var s=t.record,r=t.type,o=s.course_id,i=this.props,l=i.planId,h=i.taskId,G=i.openEvaluationResult,Y=i.index;r==="open"?this.checkBeforeEnter({record:s,type:r}).then(()=>{(0,Ie.eJ)({url:"/training/questionn/evaluation/response?".concat(E.stringify({evaluationId:o,type:r,id:l,taskId:h,stage:Y}))})}):(0,Ie.eJ)({url:"/training/questionn/postTalentAssessment/myEvaluationReport?".concat(E.stringify({type:r,isBeta:!1,evaluationId:o,isOpen:G,id:l}))})},this.handleGoToVideo=t=>{var s=t.record,r=this.props,o=r.isSubsidyCourse,i=r.isInitStartFace,l=r.isHangupPrevention,h=r.isRealNameAuth,G=r.onSubsidyQrCodeModal,Y=r.onShowInitTip,K=r.videoPlayRecord;this.checkBeforeEnter({record:s}).then(()=>{var re=s.resource_status;if(s.source_type&&s.source_type===8){this.ddSpacePreview(s.resource);return}if(parseInt(re)!==3)S.default.warning(this.props.t("common.transcoding"));else{if(o){if(i==="1"||l==="2"||K===1){G();return}if(h==="1"||l==="1"){Y({toLearnType:"projectBottom",record:s});return}}this.targetToWatch({path:"/training/learning/task/watchTask",record:s,watchType:"video",projectType:"student"})}})},this.targetToWatch=t=>{var s=t.path,r=t.record,o=t.watchType,i=t.projectType,l=i===void 0?"":i,h=this.props,G=h.planId,Y=h.taskId,K=h.isSubsidyCourse,re=h.index,oe=E.parse(d.m8.location.search),xe=oe.fromPage,De=xe===void 0?"courseProject":xe,ye=r.resource_in_course==="true";if(ye){var Oe=this.getParentRecord(r.course_id,r.content_type);(0,Ie.eJ)({url:"".concat(s,"?").concat(E.stringify({watchType:o,planId:G,courseId:Oe.course_id,CSCECSource:r.source,videoId:r.resource.videoId,resourceId:r.course_id,fromPage:De,taskId:Y,studyType:"study_project",exitAiUpdate:this.props.existAiResource?this.props.existAiResource:"false",storage_type:r.storage_type,isSubsidy:K?"true":"false",stage:re})),actionType:"replace",projectType:l});return}(0,Ie.eJ)({url:"".concat(s,"?").concat(E.stringify({watchType:o,planId:G,courseId:r.course_id,resourceId:r.course_id,CSCECSource:r.source,videoId:r.resource.videoId,fromPage:De,taskId:Y,studyType:"study_project",exitAiUpdate:this.props.existAiResource?this.props.existAiResource:"false",privatization:r.privatization,storage_type:r.storage_type,isSubsidy:K?"true":"false",stage:re})),actionType:"replace",projectType:l})},this.handleGoToMicroCourse=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{this.props.onGoToMicroCourse({record:s})})},this.handleGoToDDIModelCourse=t=>{var s=t.record,r=this.props.planId;this.checkBeforeEnter({record:s}).then(()=>{(0,k.Zv)(s.course_id,{is_preview:"false",is_person_purchase:"false",plan_id:r}).then(o=>{Re.Z.targetTo({path:o.data.learning_url,isExternalLink:!0})})})},this.handleGoToDoc=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{var r=s.resource_status;if(s.source_type&&s.source_type===8){this.ddSpacePreview(s.resource);return}parseInt(r)!==3?S.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:s,watchType:"doc",projectType:"student"})})},this.handleGoToH5=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{var r=s.resource_status;parseInt(r)!==3?S.default.warning(this.props.t("common.transcoding")):this.targetToWatch({path:"/training/learning/task/watchTask",record:s,watchType:"h5",projectType:"student"})})},this.handleGoToNew=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{var r=s.resource_status,o=s.content_type;if(parseInt(r)!==3)S.default.warning(this.props.t("common.transcoding"));else{var i="";J.WB.indexOf(o.toLowerCase())>-1?i="picture":o==="html"?i="html":o==="scorm"&&(i="scorm"),this.targetToWatch({path:"/training/learning/task/watchTask",record:s,watchType:i,projectType:"student"})}})},this.showEveryExamGrade=t=>{var s=t.record;if(!!s.exam.show_result){var r=this.props.userId;this.setState(o=>({getExamAllGradesProps:(0,D.Z)((0,D.Z)({},o.getExamAllGradesProps),{},{visible:!0,planId:s.course_id,userId:r,planTitle:s.resource_name,type:"user"})}))}},this.hideEveryExamGrade=()=>{this.setState(t=>({getExamAllGradesProps:(0,D.Z)((0,D.Z)({},t.getExamAllGradesProps),{},{visible:!1,planId:"",userId:"",planTitle:"",type:""})}))},this.handleGoToExam=t=>{var s=t.record,r=t.type;if(r==="viewResults")(0,Ie.eJ)({url:"/training/examination/result/personal?".concat(E.stringify({id:s.course_id}))});else{if(s.exam&&s.exam.face_recognition==="on"){this.setState({showFaceQrCode:!0,examQrCode:{flag:"exam_messages",scene:"flag=exam_messages&examId=".concat(s.course_id,"&studyId=").concat(this.props.planId,"&originType=study_project")}});return}var o=J.ZP.MyExamTask.examIntro({examId:s.course_id});le.WY.get({url:o}).then(i=>{this.setState({examInfoModalVisible:!0,examInfo:i.data,currentExamRecord:s})})}},this.hiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})},this.handleCloseExamInfo=()=>{this.setState({examInfoModalVisible:!1})},this.handleEnterExam=()=>{var t=this.props,s=t.t,r=t.userInfo,o=r.enterpriseId,i=this.state,l=i.currentExamRecord,h=i.examInfo,G=h===void 0?{}:h,Y=G.cut_screen_count,K=Y===void 0?"":Y;this.checkBeforeEnter({record:l}).then(()=>{var re=J.ZP.MyExamTask.examCheckStatus({examId:l.course_id}),oe=window.localStorage.getItem("token"),xe={access_token:oe};le.WY.get({url:re,params:xe}).then(De=>{if(De.data.can_exam==="true")if(dd.version&&K!==-1){var ye=(0,Ie.lz)(o,"student"),Oe="".concat(ye,"/auth?").concat(E.stringify({accessToken:oe,pageFrom:"ding_myExamTask",id:l.course_id,cut_screen_count:K,lng:(0,C.me)()}));this.setState({examInfoModalVisible:!1},()=>{window.open(Oe,"_blank")})}else(0,Ie.eJ)({url:"/training/examination/exam/personal?".concat(E.stringify({id:l.course_id,cut_screen_count:K}))});else{var Ze="";switch(De.data.status){case"exam_not_start":Ze=s("myExamTask.notStartTip");break;case"exam_finished":Ze=s("myExamTask.noTimeHandTip");break;case"makeup_exam_not_start":Ze=s("myExamTask.markUpExamTip");break;case"makeup_exam_finished":Ze=s("myExamTask.markUpExamOver");break;case"makeup_exam_attend":Ze=s("myExamTask.markUpCheckResult");break;case"exam_passed":Ze=s("myExamTask.passedAndResult");break;default:Ze=s("myExamTask.noRepeatTip");break}S.default.warn(Ze)}})})},this.handleGoToLatoja=t=>{var s=t.record;(0,Ie.eJ)({url:"/course/lineClassDetail?courseId=".concat(s.offlineCourseEditVo.id,"&showSignStatus=true")})},this.handleGoToQuiz=t=>{var s=t.record;this.checkBeforeEnter({record:s,type:"quiz"}).then(()=>{var r=this.props.planId,o=s.resource_quiz_vo,i=o.answer_record_count,l=o.resource_id,h=o.course_id,G=i===0?"/course/quiz":"/course/quizParse";(0,Ie.eJ)({url:"".concat(G,"?").concat(E.stringify({courseId:h,resourceId:l,planId:r}))})})},this.getParentRecord=(t,s)=>{var r={};if(J.iH.indexOf(s.toLowerCase())>-1||J.Yq.indexOf(s.toLowerCase())>-1||J.WB.indexOf(s.toLowerCase())>-1||s==="html"||s==="scorm"||s==="article"||s==="link"){var o=(0,ee.Z)(this.props.list),i;try{for(o.s();!(i=o.n()).done;){var l=i.value,h=l.resources,G=-1;if(h&&h instanceof Array&&h.length&&(G=h.findIndex(Y=>Y.course_id===t)),G>-1){r=l;break}}}catch(Y){o.e(Y)}finally{o.f()}}return r},this.checkStart=function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];var i=n.props,l=i.isStart,h=i.status,G=i.canStartStudy,Y=i.isCampPeriod,K=r[0].record,re=r[1];Y&&K.can_start_study==="false"||Y&&re&&re.can_start_study==="false"||!G||h!=="pass"&&K.type!==7||(!l&&h==="pass"?n.props.startStudy(()=>{t(...r)}):t(...r))},this.ddSpacePreview=t=>{if(!dd.version){u.Z.warning({title:this.props.t("upload.tip"),content:this.props.t("study.dingSpaceTip")});return}var s=J.ZP.DingSpaceId.getSpaceId(),r={corpId:this.props.corpId,userId:this.props.account,fileids:t.url,timeStamp:Date.parse(new Date)};le.WY.get({url:s,params:r}).then(o=>{if(o.data.code===0){var i={spaceId:t.path,fileId:t.url,fileName:t.name,fileSize:t.size,fileType:t.type};(0,ke.DR)(i)}else S.default.info(o.data.msg)}).catch(o=>{S.default.error(o.data)}),(0,ke.DR)(params),this.props.onSaveProgress&&this.props.onSaveProgress(t.id,t.id)},this.renderTitle=()=>{var t=this.props,s=t.prefixCls,r=t.item,o=t.t,i=t.isCampPeriod,l="".concat(s,"__title"),h=" (".concat(Ce()(r.start_time).format("YYYY-MM-DD HH:mm")," - ").concat(Ce()(r.end_time).format("YYYY-MM-DD HH:mm"),")");return a().createElement("h1",{className:l},i?h:"",r.is_order===!0&&!i?a().createElement("span",{className:"".concat(s,"__title__label")},o("component.arcadeMode")):null)},this.renderSubTitle=()=>{var t=this.props,s=t.prefixCls,r=t.subTitle;if(!r)return null;var o="".concat(s,"__subtitle");return a().createElement("h6",{className:o},r)},this.renderStageInfo=()=>{var t=this.props,s=t.prefixCls,r=t.t,o=t.item,i="".concat(s,"__instruction");return a().createElement("div",{className:i},o.progress>0||o.times>0?a().createElement("div",{className:"pass-standard"},a().createElement("span",{className:"stage-label"},r("learning.learningAddSecPassTitle"),"\uFF1A"),o.progress>0?"".concat(r("learning.learningProjectStudyProgress")).concat(o.progress,"% "):"",o.times>0?" ".concat(r("learning.learningProjectExamProgress")).concat(o.times).concat(r("common.examUnit")):"",o.operation_times>0?" ".concat(r("learning.learningProjectOperationProgress")).concat(o.operation_times).concat(r("common.examUnit")):"",o.finish_evaluation==="true"?" ".concat(r("learning.learningProjectEvaluationProgress")):""):null,o.is_get_score?a().createElement("div",{className:"pass-reward"},a().createElement("span",{className:"stage-label"},r("learning.learningAddSecRewardTitle"),"\uFF1A"),o.is_get_score?"".concat(o.is_get_score).concat(r("common.credit")):""):null,o.certificate_name?a().createElement("div",{className:"certificate-name"},a().createElement("span",{className:"stage-label"},r("personal.getCerti"),"\uFF1A"),o.certificate_name?a().createElement("span",{onClick:this.handleViewCerti,className:"certificate-link"},"\u300A",o.certificate_name,"\u300B"):null):null)},this.handleViewCerti=()=>{var t=this.state.viewCertiConfig;t.visible=!0,this.setState({viewCertiConfig:t}),this.getViewCertiUrl()},this.hiddenViewCerti=()=>{var t=this.state.viewCertiConfig;t.visible=!1,this.setState({viewCertiConfig:t})},this.getViewCertiUrl=()=>{var t=this.props.item.certificate_id,s=this.state.viewCertiConfig,r=J.ZP.StudyProjectList.projectCertiUrl(t);le.WY.get({url:r}).then(o=>{s.url=o.data.preview_url,this.setState({viewCertiConfig:s})})},this.renderTable=()=>{var t=this.props,s=t.prefixCls,r=t.list;Array.isArray(r)&&r.forEach(i=>{Array.isArray(i.resources)&&i.resources.forEach(l=>{l.source=i.source})});var o="".concat(s,"__table");return r.map((i,l)=>i.type===7||i.type===13?this.renderLineClassChecking(i):a().createElement("div",{className:o,key:l},i.type===1&&i.biz_type!=="micro_course"&&!(0,Ae.ZG)(i.source)?this.renderCoursePanel(i):a().createElement(a().Fragment,null,a().createElement("div",{className:"".concat(s,"__table__content")},this.renderResourceTitle(i),i.type===3&&i.ai_upgrade_status==="finish"&&a().createElement("div",{className:"ai_status"},this.props.t("course.knowledgePoint")),this.renderResourceProgress(i),this.renderAction(i)))))},this.renderLineClassChecking=t=>{var s="";t.type===7?s="xx":t.type===13&&(s="attendance");var r=this.props,o=r.prefixCls,i=r.onRefreshData,l=r.isStart,h=r.startStudy,G=a().createElement("div",{className:"".concat(o,"__table__content course-title")},a().createElement("div",{className:"".concat(o,"__table__title"),style:{flexDirection:"row"}},a().createElement(_.Z,{iconClass:J.e1[s],size:"20px"}),t.type===7?this.props.t("common.offline"):t.title),this.renderResourceProgress(t));return a().createElement("div",{className:"course-project-stage__table"},a().createElement(de.Z,{defaultActiveKey:["1"],bordered:!1,expandIcon:Y=>a().createElement(ve.Z,{type:Y.isActive?"minus-square":"plus-square"})},a().createElement(nt,{header:G,key:"1"},a().createElement($e.Z,{isStart:l,startStudy:h,from:t.type,detail:t.type===7?t.offline_course_details:t,refresh:()=>{i()}}))))},this.renderDuration=t=>{var s=t.record,r=s.type,o=s.resource_status,i=s.content_type,l=s.duration,h=s.source_type,G=s.source,Y="";return h!==8&&l!=="0"&&(o===3&&(i==="mp4"||i==="mp3")||r===1||s.biz_type==="micro_course"||r===6)&&(Y=(0,C.xj)(l)),(0,Ae.ZG)(G)&&(Y=""),Y},this.renderResourceTitle=(t,s)=>{var r=this.props,o=r.prefixCls,i=r.isCampPeriod,l=r.t,h=E.parse(d.m8.location.search),G=h.courseIds,Y=h.all_checked,K=G?G.split(","):[],re=t.can_start_study==="false",oe="".concat(o,"__table__title ").concat(o,"__table__title-absolute"),xe=re&&t.type!==7||i&&s&&s.can_start_study==="false"?a().createElement("span",{className:"".concat(o,"__table__title__lock")},a().createElement(_.Z,{iconClass:"icon-icon_clockx",size:"4px"})):null,De=t.content_type.indexOf("audio")>-1||t.resource&&t.resource.contentType.indexOf("audio")>-1?"mp3":t.content_type,ye="";(t.type===3||t.type===2)&&(t.content_type==="article"||t.content_type==="link")?ye="h5":t.type===6?ye="ex":t.type===7?ye="xx":t.type===9?ye="questionnaire":t.biz_type==="micro_course"?ye="wei":t.type===10?ye="operation":t.type===11?ye="evaluation":t.type===1?ye="crs":ye=De;var Oe=a().createElement(_.Z,{iconClass:J.e1[ye],size:"20px"}),Ze=t.type===9?t.title:t.resource_name,Me=parseInt(t.resource_status)!==3&&(J.iH.indexOf(t.content_type.toLowerCase())>-1||J.Yq.indexOf(t.content_type.toLowerCase())>-1);return a().createElement("div",{className:oe},a().createElement("span",{onClick:i&&s&&s.can_start_study==="false"?()=>{}:()=>this.resourceTitleClick(t)},xe,Oe,!s&&(Y==="true"||K.indexOf(t.course_id)!==-1)&&a().createElement("span",{className:"".concat(o,"__important")},l("assgin.importantCourse")),Ze," ",Me?a().createElement(p.Z,{color:"gold"},this.props.t("common.transcoding")):null," ".concat(this.renderDuration({record:t}))),i&&(t.can_start_study==="false"||s&&s.can_start_study==="false")?a().createElement("span",{className:"unlock_time"},l("assgin.unLockTimeLabel"),"\uFF1A",Ce()(s?s.unlocking_time:t.unlocking_time).format("YYYY-MM-DD HH:mm")):null)},this.resourceTitleClick=function(){var t=(0,B.Z)(te().mark(function s(r){var o,i,l,h,G,Y,K,re,oe,xe,De;return te().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(o=r.type,i=r.content_type,l=r.study_progress,h=r.exam,G=r.course_id,Y=r.can_start_study,K=n.props.isSubsidyCourse,re=n.props.taskId,oe=E.parse(d.m8.location.search),xe=oe.id,De=K?"&isSubsidy=true&taskId=".concat(re,"&id=").concat(xe,"&planId=").concat(xe):"&planId=".concat(xe),Y!=="false"){Oe.next=7;break}return Oe.abrupt("return");case 7:if(o!==1){Oe.next=13;break}return Oe.next=10,n.props.dispatch({type:"currentRoute/updateState",payload:{shouldAddScanCount:!0}});case 10:(0,Ie.eJ)({url:"/course/enterpriseCourse?courseId=".concat(G).concat(De)}),Oe.next=14;break;case 13:o===9?l<100&&n.checkStart(n.handleGoToInvestigate,{record:r}):r.type===3||r.type===2?J.Yq.indexOf(i.toLowerCase())>-1?n.checkStart(n.handleGoToDoc,{record:r}):i==="article"||i==="link"?n.checkStart(n.handleGoToH5,{record:r}):J.WB.indexOf(i.toLowerCase())>-1||i==="html"||i==="scorm"?n.checkStart(n.handleGoToNew,{record:r}):n.checkStart(n.handleGoToVideo,{record:r}):o===6?l<100?n.checkStart(n.handleGoToExam,{record:r}):h.show_answer!==0&&n.checkStart(n.handleGoToExam,{record:r,type:"viewResults"}):o===7?n.checkStart(n.handleGoToLatoja,{record:r}):o===11&&(l===100&&n.props.openEvaluationResult==="true"?n.checkStart(n.handleGoToEvaluation,{record:r,type:"report"}):l<100&&n.checkStart(n.handleGoToEvaluation,{record:r,type:"open"}));case 14:case"end":return Oe.stop()}},s)}));return function(s){return t.apply(this,arguments)}}(),this.renderCoursePanel=t=>{var s=this.props,r=s.prefixCls,o=s.t,i=E.parse(d.m8.location.search),l=i.courseIds,h=i.all_checked,G=l?l.split(","):[],Y=a().createElement("div",{className:"".concat(r,"__table__content course-title")},a().createElement("div",{className:"".concat(r,"__table__title"),style:{flexDirection:"row"},onClick:()=>this.resourceTitleClick(t)},a().createElement(_.Z,{iconClass:J.e1.course,size:"20px"}),(h==="true"||G.indexOf(t.course_id)!==-1)&&a().createElement("span",{className:"".concat(r,"__important")},o("assgin.importantCourse")),t.resource_name,this.renderDuration({record:t})),this.renderResourceProgress(t),this.renderAction(t));return a().createElement(de.Z,{defaultActiveKey:["1"],bordered:!1,expandIcon:K=>a().createElement(ve.Z,{type:K.isActive?"minus-square":"plus-square"})},a().createElement(nt,{header:Y,key:"1"},t.resources.map(K=>a().createElement("div",{className:"course-panel-resource",key:K.id||K.course_id},this.renderResourceTitle(K,t),this.renderResourceProgress(K),this.renderAction(K,t)))))},this.renderResourceProgress=t=>{var s=this.props,r=s.prefixCls,o=s.isStart,i=s.t;if(!o)return a().createElement("div",{className:"".concat(r,"__table__progress")});var l="";if(t.type===6){var h=t.exam,G=h.exam_status,Y=h.show_result,K="".concat(t.exam.exam_score).concat(this.props.t("common.minute"));switch(G){case"absence":l=Y?"".concat(i("myExamTask.waitExam"),"(").concat(K,")"):i("myExamTask.waitExam");break;case"scoring":l=i("myExamTask.marking");break;case"passed":l=Y?"".concat(i("myExamTask.qualified"),"(").concat(K,")"):i("myExamTask.qualified");break;case"failed":l=Y?"".concat(i("myExamTask.unqualified"),"(").concat(K,")"):i("myExamTask.unqualified");break;case"perfect":l=i("myExamTask.perfect");break;default:break}}var re=t.resource_status===0?"".concat(i("common.notStarted")):t.resource_status===1?"".concat(i("common.pending")):t.resource_status===2?"".concat(i("common.reject")):"".concat(i("common.completed"));return a().createElement("div",{className:"".concat(r,"__table__progress")},t.type===6?"".concat(l):t.type===10?"".concat(re):a().createElement(v.Z,{percent:t.study_progress,size:"small"}))},this.renderAction=(t,s)=>{var r=t.type,o=t.content_type,i=t.study_progress,l=t.exam,h=t.resource_quiz_vo,G=t.resource_status,Y=t.evaluation,K="",re=this.props,oe=re.t,xe=re.item,De=re.status,ye=re.canStartStudy,Oe=re.isCampPeriod,Ze=t.can_start_study==="false",Me=Ze||De!=="pass"||!ye||Oe&&s&&s.can_start_study==="false"?"cl-primary cl-disabled":"cl-primary";if(r===1&&(K=a().createElement("span",{className:Me,style:{width:"60px"}})),r===9&&(K=i===100?a().createElement("span",{className:"".concat(Me," span-width")}):a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToInvestigate,{record:t},s)},oe("study.startSurvey"))),r===11){var Ye=this.props.openEvaluationResult;K="",i===100?K=a().createElement(a().Fragment,null,Ye==="true"?a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToEvaluation,{record:t,type:"report"},s)},oe("study.viewReport")):a().createElement("span",{className:"".concat(Me," cl-disabled")},oe("study.viewReport")),Y.status===1&&a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToEvaluation,{record:t,type:"liftingScheme"},s)},oe("questionn.improvePlan"))):i<100&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToEvaluation,{record:t,type:"open"},s)},oe("study.startAssessment")))}if((t.type===3||t.type===2)&&o!=="mp3"&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToVideo,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),(t.type===3||t.type===2)&&o==="mp3"&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToVideo,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),J.Yq.indexOf(o.toLowerCase())>-1&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToDoc,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),r===1&&t.biz_type==="micro_course"&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToMicroCourse,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),r===1&&(0,Ae.ZG)(t.source)&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToDDIModelCourse,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),(o==="article"||o==="link")&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToH5,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),(o==="html"||o==="scorm"||J.WB.indexOf(o.toLowerCase())>-1)&&(K=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToNew,{record:t},s)},"".concat(oe(i===0?"study.startLearning":"study.continueLearning")))),r===6){var Ve="";if(i===0)Ve=a().createElement("span",{className:Me,onClick:()=>this.checkStart(this.handleGoToExam,{record:t},s)},this.props.t("study.startTheExam"));else{var Je={display:"inline-block",minWidth:"28px"},Xe=a().createElement("span",{className:"".concat(t.exam.show_result?"cl-primary":"disable"),onClick:()=>this.showEveryExamGrade({record:t})},this.props.t("personal.viewDetails")),qe=l.show_re_exam==="true"?a().createElement("span",{className:Me,style:Je,onClick:()=>this.checkStart(this.handleGoToExam,{record:t,type:"attend"},s)},oe("myExamTask.reTest")):a().createElement("span",{className:Me,style:Je});Ve=a().createElement(a().Fragment,null,Xe,qe,!Xe&&!qe&&a().createElement("span",{className:"".concat(Me," span-width")}))}K=Ve}if(r===10){var et=Ze||De!=="pass"||!ye||Oe&&s&&s.can_start_study==="false";K=a().createElement(a().Fragment,null,a().createElement("span",{className:Me,onClick:()=>!et&&this.handleGoToOperation({record:t})},"".concat(G===0?oe("study.startLearning"):G===2?oe("learning.checkReason"):"")),G!==0&&G!==2?a().createElement("span",{className:Me,onClick:()=>this.handleGoToOperationView({record:t})},this.props.t("common.viewDetails")):null)}var tt=h&&h instanceof Object&&h.question_count>0;if(tt){var Be=xe.is_order,at=Be?Ze||i<100:Ze,dt=at?"cl-primary cl-disabled":"cl-primary",ut=a().createElement("span",{className:dt,onClick:()=>this.checkStart(this.handleGoToQuiz,{record:t},s)},h.answer_record_count===0?oe("component.InClassTest"):oe("common.preview")),pt=a().createElement(a().Fragment,null,K,ut);K=pt}return De==="pass"||r===7?K:a().createElement(ue.Z,{placement:"top",title:oe("learning.failedRegistrationTips")},K)},this.handleGoToOperation=t=>{var s=t.record;this.checkBeforeEnter({record:s}).then(()=>{if(s.resource_status===2){this.handleGoToOperationView({record:s});return}this.setState({operationIndustryProps:{visible:!0,operationsId:s.course_id}})})},this.handleGoToOperationView=t=>{var s=t.record,r=this.props,o=r.taskId,i=r.userId;this.checkBeforeEnter({record:s}).then(()=>{Re.Z.targetTo({path:"/training/operation/info/personal?&taskId=".concat(o,"&userId=").concat(i,"&operationId=").concat(s.course_id,"&taskType=study_project&from=course&page=analysis&isCheckReason=true"),projectType:"student"})})},this.closeOperationIndustry=()=>{var t=this.state.operationIndustryProps;this.setState({operationIndustryProps:(0,D.Z)((0,D.Z)({},t),{},{visible:!1})})},this.addOperationIndustry=()=>{this.closeOperationIndustry();var t=this.props.onSaveOperation;t&&t()},this.state={examInfoModalVisible:!1,examInfo:{},currentExamRecord:{},showFaceQrCode:!1,examQrCode:{flag:"",scene:""},getExamAllGradesProps:{visible:!1,planId:"",userId:"",planTitle:""},operationIndustryProps:{visible:!1,operationsId:""},viewCertiConfig:{visible:!1,url:"",title:U.t("common.certificate"),footer:null,size:"small",destroyOnClose:!0,maskClosable:!1,onCancel:this.hiddenViewCerti}}}componentDidMount(){this.props.getTargetToWatch&&this.props.getTargetToWatch(this.targetToWatch),(0,ke.TN)()}render(){var U=this.props.prefixCls,n=this.state,t=n.examInfoModalVisible,s=n.operationIndustryProps,r=n.examInfo,o=n.showFaceQrCode,i=n.examQrCode,l=n.getExamAllGradesProps,h=n.viewCertiConfig;return a().createElement("section",{className:U},this.renderTitle(),this.renderStageInfo(),this.renderSubTitle(),this.renderTable(),a().createElement(be.Z,{visible:t,examInfo:r,onOk:this.handleEnterExam,onCancel:this.handleCloseExamInfo}),a().createElement(Ke.Z,{visible:o,onCancel:this.hiddenFaceQrCode,option:i,tip:"exam.faceKnowWxQrCodeTipCustom"}),a().createElement(we.Z,(0,g.Z)({},l,{hideEveryExamGrade:this.hideEveryExamGrade})),a().createElement(X.Z,{visible:s.visible,onCancel:this.closeOperationIndustry,onOk:this.addOperationIndustry,operationsId:s.operationsId,canEdit:!0}),a().createElement(M.ZP,h,a().createElement("div",{className:"course-project-certi"},a().createElement("img",{src:h.url,alt:""}))))}})||je)||je)||je);He.defaultProps={prefixCls:"course-project-stage",id:"",title:"",subTile:"",list:[],item:{}};var ot=Se=>{var U=Se.user;return{lng:U.lng,userId:U.id,corpId:U.corpId,account:U.account,versionType:U.versionType,appType:U.appType}},lt=(0,T.$j)(ot)((0,Z.Z)()(He)),ct=e(80430);class O extends a().Component{render(){var U=this.props,n=U.prefixCls,t=U.watchRecordsList;return a().createElement("div",{className:n},t.map((s,r)=>{var o=s.user_info,i=s.user_name,l=s.department_name;return a().createElement("div",{key:r,className:"".concat(n,"__item")},a().createElement("div",{className:"".concat(n,"__user")},a().createElement("div",{className:"".concat(n,"__user__avatar")},s.avatar?a().createElement("img",{src:s.avatar}):a().createElement("span",null,s.user_name.slice(0,1))),a().createElement("div",{className:"".concat(n,"__user__info")},a().createElement("div",{className:"".concat(n,"__user__name")},o?a().createElement(F.Z,{dataType:"userName",value:o.user_id||o.userId,name:o.name,type:o.source_type||o.sourceType}):i),a().createElement("div",{className:"".concat(n,"__user__dept")},o?a().createElement(ct.Z,{list:o.department_info||[],displayAll:!0}):l))),a().createElement("div",{className:"".concat(n,"__time")},Ce()(s.update_time).format("YYYY-MM-DD HH:mm")),a().createElement("div",{className:"".concat(n,"__progress")},a().createElement(v.Z,{percent:s.process,strokeWidth:7})))}))}}O.defaultProps={prefixCls:"watch-records"};var pe=O;class Pe extends a().Component{constructor(){super(...arguments);this.handleDeleteComment=U=>{var n=this.props.onDeleteComment;n&&n(U)}}render(){var U=this.props,n=U.prefixCls,t=U.commentsList,s=U.t;return t.length>0?a().createElement("div",{className:n},t.map((r,o)=>a().createElement("div",{key:o,className:"".concat(n,"__item")},a().createElement("div",{className:"".concat(n,"__user-avatar")},a().createElement("img",{src:r.avatar||c()})),a().createElement("div",{className:"".concat(n,"__content")},a().createElement("div",{className:"".concat(n,"__content-top")},a().createElement("div",{className:"".concat(n,"__content-top__left")},a().createElement("div",{className:"".concat(n,"__user-name")},a().createElement(F.Z,{dataType:"userName",value:r.sync_user_id,name:r.name,type:r.source_type})),a().createElement("div",{className:"".concat(n,"__comment-time")},(0,C.TC)(r.createTime))),a().createElement("div",{className:"".concat(n,"__content-top__right"),onClick:()=>this.handleDeleteComment(r.id)},s("common.delete"))),a().createElement("div",{className:"".concat(n,"__comment")},r.content))))):a().createElement("div",{className:"".concat(n,"__empty")},a().createElement(_.Z,{iconClass:"icon-pinglunkong",size:"50px"}),a().createElement("p",null,s("course.noComments")))}}Pe.defaultProps={prefixCls:"comments-list"};var Ue=(0,Z.Z)()(Pe),We=e(2396),Ne=m.Z.TabPane,ze=L.Z.TextArea,Fe=de.Z.Panel;class Ge extends a().Component{constructor(U){super(U);this.handleCollapseChange=n=>{this.setState({activeKey:n})},this.renderStage=()=>{var n=this.props,t=n.prefixCls,s=n.projectId,r=n.stageList,o=n.isStart,i=n.status,l=n.openEvaluationResult,h=n.taskId,G=n.canStartStudy,Y=n.startStudy,K=Y===void 0?()=>{}:Y,re=n.handleGoToLatoja,oe=re===void 0?()=>{}:re,xe=n.handleGoToMicroCourse,De=xe===void 0?()=>{}:xe,ye=n.handleSaveProgress,Oe=ye===void 0?()=>{}:ye,Ze=n.handleSaveOperation,Me=Ze===void 0?()=>{}:Ze,Ye=n.onRefreshData,Ve=Ye===void 0?()=>{}:Ye,Je=n.isCampPeriod,Xe=n.handleSubsidyQrCodeModal,qe=n.handleShowInitTip,et=n.getTargetToWatch,tt="".concat(t,"__content__table");return r?a().createElement("div",{className:tt},a().createElement(de.Z,{bordered:!1,activeKey:this.state.activeKey,onChange:this.handleCollapseChange,className:"".concat(t,"__content__table__collapse")},r.map((Be,at)=>a().createElement(Fe,{header:Be.stage_name,key:Be.id},a().createElement(lt,{key:Be.id,id:Be.id,index:at,title:Be.stage_name,subTitle:Be.content,isCampPeriod:Je,existAiResource:this.props.existAiResource,list:Be.resources,item:Be,planId:s,taskId:h,isStart:o,status:i,canStartStudy:G,openEvaluationResult:l,startStudy:K,onGoToLatoja:oe,onGoToMicroCourse:De,onSaveProgress:Oe,onSaveOperation:Me,onSubsidyQrCodeModal:Xe,onShowInitTip:qe,getTargetToWatch:et,onRefreshData:Ve}))))):null},this.getAllIds=()=>{var n=this.props.stageList,t=[];return Array.isArray(n)&&n.length>0&&(t=n.map(s=>s.id)),t},this.handleLoadMoreRecords=()=>{var n=this.props.onLoadMoreRecords;n&&n()},this.handleLoadMoreComments=()=>{var n=this.props.onLoadMoreComments;n&&n()},this.handleAddComment=n=>{n.preventDefault(),this.props.form.validateFields((t,s)=>{if(!t){var r=s.comment,o=this.props.onAddComment;o&&o(r),this.props.form.resetFields()}})},this.handleDeleteComment=n=>{var t=this.props.onDeleteComment;t&&t(n)},this.renderInstruction=()=>{var n=this.props,t=n.prefixCls,s=n.projectInfo,r=n.t;return a().createElement("p",{className:"".concat(t,"__instruction")},s.summary?s.summary:r("tutorial.noIntroduction"))},this.handleContentLimit=n=>{(0,We.$s)(n.target.value)>1e3&&(n.target.value=n.target.value.substring(0,(0,We.rw)(n.target.value,1e3)))},this.state={activeKey:U.defaultKey}}UNSAFE_componentWillReceiveProps(U){U.defaultKey!==this.props.defaultKey&&this.setState({activeKey:U.defaultKey})}render(){var U=this.props,n=U.prefixCls,t=U.courseCommentsList,s=t===void 0?[]:t,r=U.watchRecordsList,o=r===void 0?[]:r,i=U.hasMoreComments,l=i===void 0?!1:i,h=U.hasMoreRecords,G=h===void 0?!1:h,Y=U.totalComments,K=Y===void 0?0:Y,re=U.totalRecords,oe=re===void 0?0:re,xe=U.isTurnOff,De=xe===void 0?!1:xe,ye=U.t,Oe=U.currentTab,Ze=this.props.form.getFieldDecorator;return De?a().createElement("div",{className:n},a().createElement("div",{className:"".concat(n,"__offtip")},a().createElement(_.Z,{iconClass:"icon-icon_attentionx1",size:"42px"}),a().createElement("p",null,ye("learning.learningProjectStop")))):a().createElement("div",{className:"".concat(n," tap_padding")},a().createElement(m.Z,{defaultActiveKey:Oe,onChange:this.handleTabChange,size:"large"},a().createElement(Ne,{tab:ye("course.introduction"),key:"0"},this.renderInstruction()),a().createElement(Ne,{tab:ye("course.directory"),key:"1"},this.renderStage()),a().createElement(Ne,{tab:"".concat(ye("courseManage.comment")," (").concat(K,")"),key:"2"},a().createElement("div",{className:"".concat(n,"__comments")},a().createElement("div",{className:"".concat(n,"__comments__add")},a().createElement(b.Z,{layout:"vertical"},a().createElement(b.Z.Item,null,Ze("comment",{rules:[{required:!0,message:ye("course.commentTips")}]})(a().createElement(ze,{onChange:this.handleContentLimit,className:"".concat(n,"__comments__add__textarea"),placeholder:ye("course.commentHere")})))),a().createElement("div",{className:"".concat(n,"__comments__add__button")},a().createElement(A.Z,{type:"primary",onClick:this.handleAddComment},ye("course.comment")))),a().createElement(Ue,{commentsList:s,onDeleteComment:this.handleDeleteComment}),l?a().createElement("div",{className:"".concat(n,"__load-more")},a().createElement("span",{onClick:this.handleLoadMoreComments}," ",ye("course.loadMore"))):null)),a().createElement(Ne,{tab:"".concat(ye("common.studyRecord")," (").concat(oe,")"),key:"3"},a().createElement(pe,{watchRecordsList:o}),G?a().createElement("div",{className:"".concat(n,"__load-more")},a().createElement("span",{onClick:this.handleLoadMoreRecords}," ",ye("course.loadMore"))):null)))}}Ge.defaultProps={prefixCls:"course-project-bottom"};var it=b.Z.create({name:"comments-form"})((0,Z.Z)()(Ge)),_t=e(69164),ft=e(4408),gt=e(85649),Et=e(1802),yt=e(3407),Ct=Se=>({corpId:Se.user.corpId,account:Se.user.account,userInfo:Se.user,isSubsidyCourse:Se.subsidyCourseInfo.isSubsidyCourse,isHangupPrevention:Se.subsidyCourseInfo.isHangupPrevention,isInitStartFace:Se.subsidyCourseInfo.isInitStartFace,videoPlayRecord:Se.subsidyCourseInfo.videoPlayRecord});class mt extends a().Component{constructor(){var U;super(...arguments);U=this,this.state={isLoading:!0,projectId:"",infos:{},stageList:[],courseCommentsList:[],watchRecordsList:[],commentsParams:{pageNumber:1,hasNextPage:!1},recordsParams:{pageNumber:1,hasNextPage:!1},totalComments:0,latoja:{visible:!1,record:{}},wei:{visible:!1,flag:"",scene:""},examInfoModalVisible:!1,examInfo:{},currentResource:{},showFaceQrCode:!1,examQrCode:{flag:"",scene:""},isCampPeriod:!1,showBuyQrCode:!1,buyQrOption:{title:"",flag:"",scene:""},QrCodeType:null,showPayType:"all",showGzQrCodeModal:!1,tipVisible:!1,tipType:"",toLearnType:"",record:"",currentTab:1,currentStage:0,source:"non-first",defaultKey:"",loadStage:!0,operationIndustryProps:{visible:!1,operationsId:""}},this.accountInfoConfigured=()=>{le.WY.get({url:J.ZP.StudyProjectList.getAccountInfo()}).then(n=>{var t=n.data.data,s="all";t.wxpay==="false"&&t.alipay==="false"&&(s="noBind"),t.wxpay==="false"&&t.alipay==="true"&&(s="ali"),t.wxpay==="true"&&t.alipay==="false"&&(s="wx"),this.setState({accountConfigured:s})})},this.initCourseSetting=n=>(localStorage.isRealNameAuth=n.realNameAuthentication,localStorage.isHangupPrevention=n.videoOnHook,localStorage.isInitStartFace=n.videoStartFace,localStorage.touchStyle=n.triggerType,localStorage.touchValue=n.triggerValue,localStorage.authentication=n.authentication,localStorage.studyHourLimit=n.studyHourLimit,{isRealNameAuth:localStorage.isRealNameAuth,isHangupPrevention:localStorage.isHangupPrevention,isInitStartFace:localStorage.isInitStartFace,touchStyle:localStorage.touchStyle,touchValue:localStorage.touchValue,authentication:localStorage.authentication,studyHourLimit:localStorage.studyHourLimit,videoPlayRecord:n.videoPlayRecord||0}),this.getSubsidyCourseSetting=()=>{var n=this.state.taskId,t=this.props,s=t.dispatch,r=t.userInfo,o=r.id,i=J.ZP.subsidyGz.subsidyCourseSetting(n),l={user_id:o};le.WY.get({url:i,params:l}).then(h=>{var G=this.initCourseSetting(h.data);s({type:"subsidyCourseInfo/saveIsSubsidyCourse",payload:(0,D.Z)({isSubsidyCourse:h.data.is_subsidy_course},G)})})},this.addScanCount=()=>{le.WY.post({url:J.ZP.EnterpriseCourse.addScanCount(d.m8.location.query.id),params:{}})},this.getProjectDetail=()=>{var n=this.state,t=n.projectId,s=n.source,r=n.loadStage,o=n.currentStage,i=E.parse(d.m8.location.search),l=i.courseIds,h=i.all_checked;le.WY.get({url:J.ZP.StudyProjectList.studyProject(t),params:{app_type:localStorage.getItem("loginMode")==="STORE"?"store":""}}).then(G=>{if(s==="first"&&G.data.style_type!=="normal"){(0,Ie.eJ)({url:"/course/project/map?".concat(E.stringify({id:G.data.course_id,taskId:G.data.id,courseIds:l,all_checked:h})),actionType:"replace"});return}(0,_t.Z)(G.data.integral_info);var Y=(0,g.Z)({},G.data),K=this.judgeLockedState(G.data),re;G.data.style_type==="normal"?Array.isArray(K)&&K.length>0&&(re=K.map(oe=>oe.id)):re=K[o]?K[o].id:"",this.setState({projectId:G.data.course_id,taskId:G.data.id,isLoading:!1,infos:(0,D.Z)({},Y),stageList:K,isCampPeriod:G.data.type==="camp_period",defaultKey:re},()=>{this.getCourseComments(),this.getCourseRecord(),this.getProjectReward(),r&&this.getCurrentStage()})})},this.getProjectReward=()=>{var n=this.state.taskId,t=this.props.t;le.WY.get({url:J.ZP.StudyProjectList.getProjectReward(n)}).then(s=>{var r=s.data.data;if(Array.isArray(r)&&r.length>0){var o={};r.forEach((i,l)=>{o[l]=setTimeout(()=>{S.default.success({content:"".concat(i.type==="stage"?t("learning.stagePassTip"):t("learning.projectPassTip")).concat(i.score!==0?"+".concat(i.score):"").concat(i.score?t("common.credit"):"",`
              `).concat(i.certificate_name&&"\xA0\xA0\xA0+\u300A".concat(i.certificate_name,"\u300B")," "),duration:2}),clearTimeout(o[l])},l*1e3,l)})}})},this.getCurrentStage=()=>{var n=this.state,t=n.taskId,s=n.stageList,r=n.infos;r.style_type!=="normal"&&le.WY.get({url:J.ZP.StudyProjectList.getMapStageInfo(t)}).then(o=>{var i=o.data.data,l=[];if(Array.isArray(i.stageList)&&i.stageList.length>0){l=i.stageList.filter(G=>G.status==="current");var h=s[l[0].sort-1]&&s[l[0].sort-1].id||"";this.setState({defaultKey:h})}})},this.judgeLockedState=n=>{var t=n.stages;return n.type==="study_project"&&!n.is_free&&n.have_purchased==="false"&&(t=t.map(s=>(0,D.Z)((0,D.Z)({},s),{},{resources:s.resources.map(r=>(0,D.Z)((0,D.Z)({},r),{},{can_start_study:"false"}))}))),t},this.getCourseComments=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=U.state,s=t.courseCommentsList,r=t.commentsParams,o=t.projectId,i=r.pageNumber,l={courseId:o,pageNumber:i,timestamp:Date.parse(new Date),pageSize:10};le.WY.get({url:J.ZP.EnterpriseCourse.getCourseComments(),params:l}).then(h=>{U.setState({courseCommentsList:n?s.concat(h.data.list):h.data.list,commentsParams:(0,D.Z)((0,D.Z)({},r),{},{hasNextPage:h.data.hasNextPage}),totalComments:h.data.total})})},this.handleAddScore=()=>{this.setState({commentsParams:{pageNumber:1},recordsParams:{pageNumber:1}}),this.getProjectDetail()},this.handleAddComment=n=>{var t=this.state.projectId,s=this.props.t;le.qg.post({url:J.ZP.EnterpriseCourse.addCommentAndScore(),data:{courseId:t,content:n}}).then(r=>{r.data.code===0&&(S.default.success(s("course.publishSuccess")),this.setState({courseCommentsList:[],commentsParams:{pageNumber:1,hasNextPage:!1}},()=>{this.getCourseComments(!0)}))})},this.handleDeleteComment=n=>{var t=this.state,s=t.projectId,r=t.courseCommentsList,o=t.totalComments,i=this.props.t;u.Z.confirm({title:i("common.tip"),content:i("course.deleteCommentTips"),okText:i("common.ok"),cancelText:i("common.cancel"),onOk:()=>{le.qg.post({url:J.ZP.EnterpriseCourse.deleteComment(),data:{commentId:n,courseId:s}}).then(l=>{l.data.code===0?(S.default.success(i("course.deleteSucceed")),o--,r.forEach((h,G)=>{h.id===n&&r.splice(G,1)}),this.setState({courseCommentsList:r,totalComments:o})):S.default.error(i("course.deleteFailed"))})},onCancel(){}})},this.handleLoadMoreComments=()=>{var n=this.state.commentsParams,t=n.pageNumber,s=n.hasNextPage;!s||(t++,this.setState({commentsParams:(0,D.Z)((0,D.Z)({},n),{},{pageNumber:t})},()=>{this.getCourseComments(!0)}))},this.getCourseRecord=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=U.state,s=t.watchRecordsList,r=t.recordsParams,o=t.projectId,i=r.pageNumber,l={page_number:i,page_size:20};le.WY.get({url:J.ZP.StudyProjectList.projectStudyRecord(o),params:l}).then(h=>{var G=n?s.concat(h.data.list):h.data.list;U.setState({watchRecordsList:G.map(Y=>(0,D.Z)((0,D.Z)({},Y),{},{user_info:Y.sync_user_info})),recordsParams:(0,D.Z)((0,D.Z)({},r),{},{hasNextPage:h.data.has_next_page==="true"}),totalRecords:h.data.total})})},this.handleLoadMoreRecords=()=>{var n=this.state.recordsParams,t=n.pageNumber,s=n.hasNextPage;!s||(t++,this.setState({recordsParams:(0,D.Z)((0,D.Z)({},n),{},{pageNumber:t})},()=>{this.getCourseRecord(!0)}))},this.startStudy=n=>{var t=this.state,s=t.projectId,r=t.infos,o=J.ZP.StudyProjectList.startStudy(s);le.WY.post({url:o,data:{app_type:localStorage.getItem("loginMode")==="STORE"?"store":""}}).then(i=>{i.data.result==="true"?(r.is_start_study="true",this.setState({infos:r}),n()):S.default.error("\u5F00\u59CB\u5B66\u4E60\u5931\u8D25")}).catch(i=>{var l=i.response.data,h=l.code,G=l.message;h==="enterpriseapi.542004"&&S.default.error(G)})},this.againStudy=()=>{var n=this.props.t,t=this.state.stageList,s,r=!1;if(t.find(o=>(s=o.resources.find(i=>i.type===6&&i.exam.show_re_exam==="true"&&i.exam.exam_status==="failed"),s!==void 0)),t.forEach(o=>{r=o.resources.every(i=>i.type===9)}),r){S.default.error(n("study.notEvery"));return}s?this.getExamInfo(s):this.linkToStudy(!0)},this.linkToStudy=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=E.parse(d.m8.location.search),s=t.taskId,r=U.state,o=r.stageList,i=r.projectId,l=U.props.t,h,G;if(o.find(K=>(h=K.resources.find(re=>n&&re.type!==9?!((re.type===11||re.type===10)&&re.study_progress>=100):re.can_start_study==="true"&&re.study_progress<100&&re.type!==7),h!==void 0)),!(!h&&(o.find(K=>(h=K.resources.find(re=>re.can_start_study==="true"&&re.study_progress<100&&re.type===7),h!==void 0)),!h))&&(h.type===1&&h.biz_type!=="micro_course"&&!(0,Ae.ZG)(h.source)&&(G=(0,D.Z)({},h),h=h.resources.find(K=>n?K.can_start_study==="true":K.can_start_study==="true"&&K.study_progress<100)),h))if(h.type===9)(0,Ie.eJ)({url:"/training/learning/task/participateInInvestigate?".concat(E.stringify({planId:i,investigateId:h.course_id,studyType:"study_project"}))});else if(h.type===3||h.type===2)if(parseInt(h.resource_status)!==3)S.default.warning(U.props.t("common.transcoding"));else{var Y="video";J.Yq.indexOf(h.content_type.toLowerCase())>-1&&(Y="doc"),(h.content_type==="article"||h.content_type==="link")&&(Y="h5"),J.WB.indexOf(h.content_type.toLowerCase())>-1&&(Y="picture"),h.content_type==="html"&&(Y="html"),h.content_type==="scorm"&&(Y="scorm"),U.targetToWatch({path:"/training/learning/task/watchTask",record:h,taskId:s,watchType:Y,currentResourceParent:G,studyType:"study_project",CSCECSource:h.source||"",videoId:h.resource.videoId})}else h.type===6?n?S.default.error(l("learning.learningProjectAgainTip")):U.getExamInfo(h):h.type===1&&h.biz_type==="micro_course"?U.handleGoToMicroCourse({record:h}):h.type===1&&(0,Ae.ZG)(h.source)?U.handleGoToDDIModelCourse({record:h}):h.type===10?U.handleGoToOperation({record:h}):h.type===11&&U.handleGoToEvaluation({record:h})},this.handleGoToOperation=n=>{var t=n.record,s=this.props.userInfo,r=this.state.taskId;if(t.resource_status!==0&&t.resource_status!==2){Re.Z.targetTo({path:"/training/operation/info/personal?taskId=".concat(r,"&userId=").concat(s.id,"&operationId=").concat(t.course_id,"&taskType=study_project&from=course&page=analysis"),projectType:"student"});return}this.setState({operationIndustryProps:{visible:!0,operationsId:t.course_id}})},this.closeOperationIndustry=()=>{var n=this.state.operationIndustryProps;this.setState({operationIndustryProps:(0,D.Z)((0,D.Z)({},n),{},{visible:!1})})},this.handleGoToEvaluation=n=>{var t=n.record,s=t.course_id,r=this.state,o=r.projectId,i=r.taskId,l=r.infos;l.open_evaluation_result==="true"&&t.study_progress===100?(0,Ie.eJ)({url:"/training/questionn/postTalentAssessment/myEvaluationReport?".concat(E.stringify({type:"report",isBeta:!1,evaluationId:s,isOpen:l.open_evaluation_result,id:o}))}):(0,Ie.eJ)({url:"/training/questionn/evaluation/response?".concat(E.stringify({evaluationId:s,type:"open",id:o,taskId:i}))})},this.addOperationIndustry=()=>{this.closeOperationIndustry(),this.handleSaveOperation()},this.handleGoToDDIModelCourse=n=>{var t=n.record,s=this.state.projectId;(0,k.Zv)(t.course_id,{is_preview:"false",is_person_purchase:"false",plan_id:s}).then(r=>{Re.Z.targetTo({path:r.data.learning_url,isExternalLink:!0})})},this.handleRegisterNow=()=>{var n=this.state.infos;le.WY.post({url:J.ZP.Common.enroll(n.enroll_id)}).then(()=>{this.getProjectDetail()}).catch(t=>{var s=t.response.data,r=s.code,o=s.message;r==="enterpriseapi.542004"&&S.default.error(o)})},this.targetToWatch=n=>{var t=n.path,s=n.record,r=n.watchType,o=n.currentResourceParent,i=n.taskId,l=n.CSCECSource,h=n.videoId,G=this.state.projectId,Y=this.props.isSubsidyCourse,K=E.parse(d.m8.location.search),re=K.fromPage,oe=re===void 0?"courseProject":re,xe=s.resource_in_course==="true";if(s.source_type&&s.source_type===8){this.ddSpacePreview(s.resource);return}var De={watchType:r,planId:G,taskId:i,fromPage:oe,studyType:"study_project",exitAiUpdate:this.state.infos.exist_ai_resource,CSCECSource:l,videoId:h};xe?(De.courseId=o.course_id,De.resourceId=s.course_id):(De.courseId=s.course_id,De.resourceId=s.course_id),Y&&(De.isSubsidy=!0),d.m8.replace({pathname:t,search:E.stringify(De)})},this.handleGoToLatoja=n=>{var t=n.record;(0,Ie.eJ)({url:"/course/lineClassDetail?courseId=".concat(t.offlineCourseEditVo.id,"&showSignStatus=true")})},this.handleCancelLatoja=()=>{this.setState({latoja:{visible:!1,record:{}}})},this.handleGoToMicroCourse=()=>{var n=this.state.projectId;this.setState({wei:{visible:!0,flag:"study",scene:"projectId=".concat(n,"&flag=study_project")}})},this.handleCancelWei=()=>{this.setState({wei:{visible:!1,flag:"",scene:""}})},this.getExamInfo=n=>{if(n.exam&&n.exam.face_recognition==="on"){this.setState({showFaceQrCode:!0,examQrCode:{flag:"exam_messages",scene:"flag=exam_messages&examId=".concat(n.course_id,"&studyId=").concat(this.state.projectId,"&originType=study_project")}});return}var t=J.ZP.MyExamTask.examIntro({examId:n.course_id});le.WY.get({url:t}).then(s=>{this.setState({examInfoModalVisible:!0,examInfo:s.data,currentResource:n})})},this.hiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})},this.checkBeforeEnter=n=>{var t=n.record,s=n.type,r=s===void 0?"":s,o=this.props,i=o.item,l=o.t,h=t.can_start_study,G=t.study_progress,Y=h==="false";return new Promise(K=>{Y||r==="quiz"&&i.is_order&&G<100?S.default.warning(l("study.beginStudyBreakThroughTip")):K()})},this.handleEnterExam=()=>{var n=this.props,t=n.t,s=n.userInfo,r=s.enterpriseId,o=this.state,i=o.currentResource,l=o.examInfo,h=l===void 0?{}:l,G=h.cut_screen_count,Y=G===void 0?"":G;this.checkBeforeEnter({record:i}).then(()=>{var K=J.ZP.MyExamTask.examCheckStatus({examId:i.course_id}),re=window.localStorage.getItem("token"),oe={access_token:re};le.WY.get({url:K,params:oe}).then(xe=>{if(xe.data.can_exam==="true")if(dd.version&&Y!==-1){var De=(0,Ie.lz)(r,"student"),ye="".concat(De,"/auth?").concat(E.stringify({accessToken:re,pageFrom:"ding_myExamTask",id:i.course_id,cut_screen_count:Y,lng:(0,C.me)()}));this.setState({examInfoModalVisible:!1},()=>{window.open(ye,"_blank")})}else(0,Ie.eJ)({url:"/training/examination/exam/personal?".concat(E.stringify({id:i.course_id,cut_screen_count:Y}))});else{var Oe="";switch(xe.data.status){case"exam_not_start":Oe=t("myExamTask.notStartTip");break;case"exam_finished":Oe=t("myExamTask.noTimeHandTip");break;case"makeup_exam_not_start":Oe=t("myExamTask.markUpExamTip");break;case"makeup_exam_finished":Oe=t("myExamTask.markUpExamOver");break;case"makeup_exam_attend":Oe=t("myExamTask.markUpCheckResult");break;case"exam_passed":Oe=t("myExamTask.passedAndResult");break;default:Oe=t("myExamTask.noRepeatTip");break}S.default.warn(Oe)}})})},this.handleCloseExamInfo=()=>{this.setState({examInfoModalVisible:!1})},this.ddSpacePreview=n=>{if(!dd.version){u.Z.warning({title:this.props.t("upload.tip"),content:this.props.t("study.dingSpaceTip")});return}var t=J.ZP.DingSpaceId.getSpaceId(),s={corpId:this.props.corpId,userId:this.props.account,fileids:n.url,timeStamp:Date.parse(new Date)};le.WY.get({url:t,params:s}).then(r=>{if(r.data.code===0){var o={spaceId:n.path,fileId:n.url,fileName:n.name,fileSize:n.size,fileType:n.type};(0,ke.DR)(o)}else S.default.info(r.data.msg)}).catch(r=>{S.default.error(r.data)}),this.handleSaveProgress(n.id,n.id)},this.handleSaveProgress=function(n,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=U.state.projectId,i=J.ZP.SaveProgress.projectSaveProgress({studyId:o,courseId:n,resourceId:t});le.WY.post({url:i,data:{progress:s,recent_start:r}}).then(()=>{U.getProjectDetail()})},this.showBuyQrCode=n=>{var t=this.props.t,s=this.state,r=s.infos,o=s.accountConfigured,i="all";if(n!=="camp"){if(o==="noBind"){S.default.info(t("payment.notAccount"));return}if(o==="ali"?i="ali":o==="wx"&&(i="wx"),dd.version){if(i="ali",o==="wx"){S.default.info(t("payment.notAliAccount"));return}}else if(localStorage.getItem("loginMode")==="WX_LOGIN"&&(i="wx",o==="ali")){S.default.info(t("payment.notWxAccount"));return}this.setState({showBuyQrCode:!0,QrCodeType:n,showPayType:i})}else this.setState({showBuyQrCode:!0,QrCodeType:n,buyQrOption:{title:t("learning.campRegistrationPeriod"),flag:"study_project",scene:"projectId=".concat(r.course_id,"&flag=study_project")}})},this.hiddenBuyProjectQrCode=()=>{this.setState({showBuyQrCode:!1}),this.getProjectDetail()},this.judgeCanStartStudy=()=>{var n=this.state.infos;if(Object.keys(n).length===0)return!1;var t=n.camp_periods,s=n.is_free,r=n.have_purchased,o=n.type;return o==="camp_period"?!0:o==="study_project"&&t.length!==0?!1:!!(o==="study_project"&&(r==="true"||s))},this.handleSaveOperation=()=>{this.getProjectDetail()},this.showSubsidyQrCodeModal=()=>{this.setState({showGzQrCodeModal:!0})},this.hiddenQrCodeModal=()=>{this.setState({showGzQrCodeModal:!1})},this.renderGzQrCodeDesc=(n,t,s)=>{var r=this.props.t,o=(0,C.me)(),i=yt.Z[o].gzSubsidy.gotoLearn,l="";return t==="1"&&(l=r("gzSubsidy.StartFaceDesc")),n==="2"&&(l+=r("gzSubsidy.HangupDesc")),s===1&&(l+=r("gzSubsidy.videoDesc")),l+=i,l},this.handleCloseInitTip=()=>{this.setState({tipVisible:!1,tipType:""})},this.handleShowInitTip=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.type,s=t===void 0?"initTip":t,r=n.toLearnType,o=r===void 0?"projectTop":r,i=n.record,l=i===void 0?"":i;U.setState({tipVisible:!0,tipType:s,toLearnType:o,record:l})},this.getTargetToWatch=n=>{this.targeToWatch=n},this.comLinkToStudy=n=>{var t=this.state.record;n==="projectTop"&&this.linkToStudy(),n==="projectBottom"&&this.targeToWatch({path:"/training/learning/task/watchTask",record:t,watchType:"video",projectType:"student"})}}componentDidMount(){var U=E.parse(d.m8.location.search),n=U.id,t=U.taskId,s=U.tab,r=U.source,o=U.stage;this.setState({projectId:n,taskId:t||"",currentTab:s||"1",currentStage:o||0,loadStage:typeof o=="undefined",source:r||"non-first"},()=>{this.getProjectDetail(),localStorage.isSubsidyEnterprise==="true"&&this.getSubsidyCourseSetting()}),dd.version&&(0,ke.TN)(),this.addScanCount(),this.accountInfoConfigured()}render(){var U=this.props,n=U.prefixCls,t=U.isHangupPrevention,s=U.isInitStartFace,r=U.isSubsidyCourse,o=U.videoPlayRecord,i=U.t,l=this.state,h=l.isLoading,G=l.projectId,Y=l.taskId,K=l.infos,re=l.stageList,oe=l.courseCommentsList,xe=l.commentsParams,De=l.totalComments,ye=l.watchRecordsList,Oe=l.totalRecords,Ze=l.recordsParams,Me=l.latoja,Ye=l.wei,Ve=l.examInfoModalVisible,Je=l.examInfo,Xe=l.showFaceQrCode,qe=l.examQrCode,et=l.isCampPeriod,tt=l.showBuyQrCode,Be=l.QrCodeType,at=l.showPayType,dt=l.showGzQrCodeModal,ut=l.tipVisible,pt=l.tipType,Tt=l.toLearnType,ht=l.buyQrOption,Pt=l.currentTab,Ot=l.defaultKey,vt=l.operationIndustryProps;if(h)return a().createElement(q.Z,{size:"large"});var St=this.judgeCanStartStudy(),Dt={price:K.preferential_price_str,score:K.score,cover:K.cover,title:K.title,id:K.id};return a().createElement("div",{className:n},a().createElement(ft.Z,{title:i("documentTitle.learningProjects")}),a().createElement("div",{className:"".concat(n,"__content")},a().createElement(me,{projectInfo:K,isStart:K.is_start_study==="true",isCampPeriod:et,onAddScore:this.handleAddScore,startStudy:this.startStudy,linkToStudy:this.linkToStudy,againStudy:this.againStudy,onRegisterNow:this.handleRegisterNow,showBuyQrCode:this.showBuyQrCode,getInfor:this.getProjectDetail,handleSubsidyQrCodeModal:this.showSubsidyQrCodeModal,handleShowInitTip:this.handleShowInitTip}),K.sync_progress==="true"?a().createElement("span",{className:"".concat(n,"_sync")},i("trainee.openSync")):a().createElement("span",{className:"".concat(n,"__sync__gap")}),a().createElement(it,{projectInfo:K,isCampPeriod:et,existAiResource:K.exist_ai_resource,isTurnOff:K.status==="disabled",stageList:re,taskId:Y,canStartStudy:St,projectId:G,status:K.enroll_status,openEvaluationResult:K.open_evaluation_result,isStart:K.is_start_study==="true",courseCommentsList:oe,totalComments:De,hasMoreComments:xe.hasNextPage,onAddComment:this.handleAddComment,onDeleteComment:this.handleDeleteComment,watchRecordsList:ye,onLoadMoreComments:this.handleLoadMoreComments,totalRecords:Oe,hasMoreRecords:Ze.hasNextPage,onLoadMoreRecords:this.handleLoadMoreRecords,startStudy:this.startStudy,handleGoToLatoja:this.handleGoToLatoja,handleGoToMicroCourse:this.handleGoToMicroCourse,handleSaveProgress:this.handleSaveProgress,handleSaveOperation:this.handleSaveOperation,handleSubsidyQrCodeModal:this.showSubsidyQrCodeModal,handleShowInitTip:this.handleShowInitTip,getTargetToWatch:this.getTargetToWatch,currentTab:Pt,defaultKey:Ot,onRefreshData:this.getProjectDetail})),a().createElement(I,(0,g.Z)({},Me,{onCancel:this.handleCancelLatoja})),a().createElement(Ke.Z,{visible:Ye.visible,title:i("component.microCourseScan"),tip:"component.useCustom",option:Ye,onCancel:this.handleCancelWei}),a().createElement(be.Z,{visible:Ve,examInfo:Je,onOk:this.handleEnterExam,onCancel:this.handleCloseExamInfo}),a().createElement(X.Z,{visible:vt.visible,onCancel:this.closeOperationIndustry,onOk:this.addOperationIndustry,operationsId:vt.operationsId,canEdit:!0}),a().createElement(Ke.Z,{visible:Xe,tip:"exam.faceKnowWxQrCodeTipCustom",option:qe,onCancel:this.hiddenFaceQrCode}),Be==="camp"?a().createElement(Ke.Z,{title:ht.title,visible:tt,tip:"component.useCustom",option:ht,onCancel:this.hiddenBuyProjectQrCode}):a().createElement(w.Z,{payInfo:Dt,visible:tt,showPayType:at,handleCancel:this.hiddenBuyProjectQrCode}),r?a().createElement("div",null,a().createElement(gt.Z,{projectId:G,visible:dt,handleCancel:this.hiddenQrCodeModal,desc:this.renderGzQrCodeDesc(t,s,o)}),a().createElement(Et.Z,{visible:ut,type:pt,handleCloseTip:this.handleCloseInitTip,toLearnType:Tt,linkToStudy:this.comLinkToStudy})):"")}}mt.defaultProps={prefixCls:"course-project"};var It=(0,T.$j)(Ct)((0,Z.Z)()(mt))},85725:function(Le,ce,e){"use strict";e.d(ce,{Zv:function(){return ae},t2:function(){return u},ew:function(){return V}});var ie=e(37055),q=e(10237);function ae(g,D){var W=ie.ZP.PlatformCourse.learningUrl(g);return q.WY.get({url:W,params:D})}function u(g){var D=g.planId,W=ie.ZP.EnterpriseCourse.playCountStatistics();q.qg.post({url:W,data:{courseId:D}})}var V=g=>{var D=ie.ZP.Common.addDownloadLog(),W={param:g};return q.WY.get({url:D,params:W})},S=g=>{var D=CONFIG.visitors.shouldGoToCourseDetails(),W={setting_type:g};return request.get({url:D,params:W})}},17762:function(Le,ce,e){"use strict";var ie=e(66456),q=e(55313),ae=e(62029),u=e(88986),V=e(34792),S=e(48086),g=e(12924),D=e.n(g),W=e(91768),a=e(28216),T=e(37055),Z=e(10237),d=e(18329),E=e(87312),X=e(84874),k=e(1164),w=e(76466),Q=e(54531),p=e(6793);class M extends D().Component{constructor(P){super(P);this.onCancel=()=>{this.props.onCancel()},this.dealWatchType=c=>{var f=c.contentType||c.content_type,I=T.Yq.findIndex(H=>c.type.toLowerCase().includes(H))>-1,y=f.indexOf("video")>-1,x=T.Ss.indexOf(f)>-1,N=f.indexOf("image")>-1||c.type.indexOf("image")>-1||f.indexOf("picture")>-1||c.type.indexOf("picture")>-1,v=f.indexOf("html")>-1,B=f.indexOf("scorm")>-1,$=f.indexOf("h5")>-1,A="";return $?A="article":I?A="doc":y||x?A="video":N?A="image":v?A="html":B&&(A="scorm"),A},this.handlePreviewSystemFile=c=>{var f=this.state.previewInfo,I=c.status===1||c.status===2;if(I){S.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var y=c.contentType||c.content_type,x=this.dealWatchType(c),N=T.Ss.indexOf(y)>-1;if(x==="article"){var v=c.contentType,B=c.url,$=v==="h5/link";$?k.Z.targetTo({path:B,isExternalLink:!0}):k.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(c.id)});return}if(x==="scorm"){var A=c.url.split("//"),H=A[1].split("/"),te=[A[0],H[0]].join("//"),_e="".concat(te,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(c.url));k.Z.targetTo({path:_e,isExternalLink:!0});return}var fe={mode:"preview",watchType:x};x==="doc"?Object.assign(fe,{resourceInfo:{type:"",docType:c.type,aliUrl:c.path,url:c.url,docTitle:c.name,playId:c.videoId||c.video_id,storageType:c.storage_type}}):x==="image"?Object.assign(fe,{resourceInfo:{url:c.url,playId:c.videoId||c.video_id,storageType:c.storage_type}}):x==="html"?Object.assign(fe,{resourceInfo:{url:c.url}}):Object.assign(fe,{resourceInfo:{source:{FD:c.url,OD:c.path},originUrl:c.url,contentType:N?"mp3":c.type,playId:c.videoId||c.video_id,storageType:c.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:fe,previewInfo:(0,u.Z)((0,u.Z)({},f),{},{title:c.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var c=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,u.Z)((0,u.Z)({},c),{},{visible:!1})})},this.funGetList=()=>{var c=this.props,f=c.fileId,I=c.fileList;f?Z.WY.get({url:T.ZP.lineClassStudy.getResource(),params:{id:f}}).then(y=>{this.setState({files:y.data})}):this.setState({files:I||[]})},this.handlePreview=c=>{var f=this.props,I=f.appType,y=f.t,x=c.biz_type||c.bizType;if(I==="wx_app"&&x===3){S.default.info(y("lineClassStudy.ddFileNoSee"));return}if(I==="app"){this.handlePreviewSystemFile(c);return}if(!((c.type==="zip"||c.type==="rar")&&c.storage_type!=="DING_PAN")){if(!dd.version&&x===3){S.default.info(y("practiceOperation.dingFileTip"));return}if(x!==3){this.handlePreviewSystemFile(c);return}var N=T.ZP.DingSpaceId.getSpaceId(),v={corpId:this.props.corpId,userId:this.props.account,fileids:c.url,timeStamp:Date.parse(new Date)};Z.WY.get({url:N,params:v}).then(B=>{B.data.code===0?this.ddSpacePreview(c):S.default.info(B.data.msg)}).catch(B=>{S.default.error(B.data)})}},this.ddSpacePreview=c=>{var f={spaceId:c.path,fileId:c.url,fileName:c.name,fileSize:c.size,fileType:c.type};(0,Q.DR)(f)},this.getIconType=c=>{var f=T.e1[c.type];return f||"iconf-matter-picture"},this.renderModalPreview=()=>{var c=this.state,f=c.resourcePlayInfo,I=c.previewInfo;return D().createElement(w.Z,(0,ae.Z)({},f,{previewInfo:I}))},this.renderCard=c=>{var f=this.props,I=f.prefixCls,y=f.t,x="".concat(I,"__file"),N=c.type;return N.indexOf("image")!==-1&&(N="png"),D().createElement(D().Fragment,null,D().createElement("div",{key:c.id,className:x},D().createElement("span",{className:"".concat(x,"__item")},D().createElement("span",{style:{"vertical-align":"middle"}},D().createElement(X.Z,{iconClass:T.e1[N],size:"16px"}))," ",D().createElement("span",{className:"".concat(x,"__name")},c.name),D().createElement("span",{className:"cl-pointer",style:{marginLeft:"15px","vertical-align":"middle"},onClick:()=>this.handlePreview(c)},y("common.preview")))))},this.renderTable=()=>{var c=this.props,f=c.t,I=c.useLocalList,y=c.fileList,x=this.state.files,N=I?y:x,v=[{title:f("common.number"),dataIndex:"id",width:80,key:"id",render:(B,$,A)=>D().createElement("span",null,A+1)},{title:f("practiceOperation.annex"),dataIndex:"name",key:"name",ellipsis:!0,render:(B,$)=>D().createElement("div",null,D().createElement(X.Z,{iconClass:this.getIconType($),size:"16px"}),D().createElement("span",{style:{marginLeft:"8px"}},B))},{title:f("common.operate"),width:130,fixed:"right",render:(B,$)=>D().createElement("div",null,D().createElement("span",{className:"cl-pointer",onClick:()=>this.handlePreview($)},f("common.preview")))}];return D().createElement(q.Z,{style:{minHeight:"400px"},columns:v,dataSource:N,pagination:!1})},this.renderFileList=()=>{var c=this.props,f=c.t,I=c.isComponent,y=c.isCard,x=c.fileList,N=c.useLocalList,v=c.prefixCls,B=c.title,$=this.state.files,A=N?x:$;if(I&&!y)return this.renderTable();if(y)return D().createElement(D().Fragment,null,A.length?D().createElement("div",{className:"file-list-item-card"},A.map(_e=>this.renderCard(_e))):D().createElement(E.Z,{tipText:f("lineClassStudy.noResult")}));var H=D().createElement("div",null,$.length>0?D().createElement("div",{className:"".concat(v,"_page")},D().createElement("div",{className:"".concat(v,"_page_num")},(0,p.ZT)(f("lineClassStudy.pageTotal"),$.length))):null),te={okText:f("common.ok"),cancelText:f("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:H};return D().createElement(d.ZP,(0,ae.Z)({title:B||f("practiceOperation.annex")},te,{visible:this.props.visible,onCancel:this.onCancel}),D().createElement("div",{className:v},this.renderTable()))},this.state={files:[],resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.funGetList()}componentDidUpdate(P){P.fileId!==this.props.fileId&&this.props.fileId&&this.funGetList()}render(){var P=this.state,c=P.resourcePlayInfo,f=P.previewInfo;return D().createElement("div",null,this.renderFileList(),D().createElement(w.Z,(0,ae.Z)({},c,{previewInfo:f})))}}M.defaultProps={prefixCls:"file-list-line-class",title:"",fileId:"",isComponent:!1,fileList:[],useLocalList:!1,isCard:""},ce.Z=(0,a.$j)(C=>({corpId:C.user.corpId,account:C.user.account}))((0,W.Z)()(M))},99359:function(Le,ce,e){"use strict";var ie=e(62029),q=e(20228),ae=e(11382),u=e(81211),V=e(12924),S=e.n(V),g=e(91768),D=e(76651),W=e(80991),a=e(10237),T=e(37055),Z=e(50603);class d extends S().Component{constructor(){super(...arguments);this.state={infos:{},questions:[],initialParams:{},isLoading:!1},this.initData=()=>{var X=this.props,k=X.questionnaire_result_vo,w=X.questionId;if(k&&this.setState({questions:k.questions,infos:k,initialParams:this.initFormParams(k.questions),isLoading:!1}),w){var Q=T.ZP.EditQuestionnaire.getQuestionnaireInfo(this.props.questionId);a.WY.get({url:Q}).then(p=>{var M=p.data,C=M.questions,P=(0,u.Z)(M,["questions"]);this.setState({questions:C,infos:P,initialParams:this.initFormParams(C),isLoading:!1})})}},this.initFormParams=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k={};return X.forEach(w=>{var Q=w.type==="input"&&w.multiple_rows?"textarea":w.type;k["".concat(w.type,"_").concat(w.id)]={id:w.id,solution:{hasOtherOption:!1,options:"",otherAnswer:""},options:w.options,type:Q,isRequired:w.is_must==="true"}}),k},this.handleSubmit=X=>{var k=[];Object.keys(X).forEach(w=>{var Q=X[w],p=Q.id,M=Q.solution,C={};C.options=M.options,M.hasOtherOption&&(C.other_answer=M.otherAnswer),k.push({id:p,solution:C})}),this.props.onSubmit(k)},this.handleCancel=()=>{D.m8.goBack()},this.initRef=X=>{this.props.initRef(X)}}componentDidMount(){this.initData()}render(){var X=this.props.prefixCls,k=!1,w=this.state,Q=w.initialParams,p=w.isLoading,M=w.questions,C=w.infos;return p?S().createElement(ae.Z,{size:"large"}):S().createElement("div",{className:X},S().createElement("div",{className:"".concat(X,"__content")},M.length?S().createElement(W.J9,{ref:this.initRef,initialValues:Q,onSubmit:this.handleSubmit,render:P=>S().createElement(Z.Z,(0,ie.Z)({showFooter:k},P,{questions:M,title:C.title,description:C.description,onCancel:this.handleCancel}))}):null))}}d.defaultProps={prefixCls:"participate-in-investigate-offline"},ce.Z=(0,g.Z)()(d)},39383:function(Le,ce,e){"use strict";var ie=e(62029),q=e(57361),ae=e(9754),u=e.n(ae),V=e(12924),S=e.n(V),g=e(91768),D=e(38394),W=e.n(D),a=e(72358),T=e(99359),Z=e(87312),d=e(44970),E=e(18329),X=e(37055);class k extends S().Component{constructor(Q){var p;super(Q);p=this,this.onCancel=()=>{this.setState({evaluateDetail:{}});var M=this.props.onCancel;M()},this.onOk=()=>{this.state.formRef.submitForm()},this.onSubmit=M=>{this.setState({evaluateDetail:{}});var C=this.props.onSubmit;C(M)},this.getMyEvaluateInfo=(0,q.Z)(u().mark(function M(){var C,P,c,f,I,y;return u().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:C=p.props,P=C.operateColumn,c=C.type,f=C.typeQuestionnaire,I="",N.t0=c,N.next=N.t0==="lecturer"?5:N.t0==="course"?7:N.t0==="student"?9:11;break;case 5:return I=P.id,N.abrupt("break",13);case 7:return I=P.id,N.abrupt("break",13);case 9:return I=X.ZP.userId,N.abrupt("break",13);case 11:return I=P.id,N.abrupt("break",13);case 13:return N.next=15,(0,a.K5)(P.id,{evaluate_id:P.evaluate_id,is_evaluated:f==="check",evaluate_object_id:I});case 15:y=N.sent,W()(y,"data.data")&&y.data.code==="200000"&&p.setState({evaluateDetail:y.data.data},()=>{});case 17:case"end":return N.stop()}},M)})),this.getEvaluateMyInfo=(0,q.Z)(u().mark(function M(){var C,P,c,f;return u().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return C=p.props,P=C.operateColumn,c=C.type,y.next=3,(0,a.RZ)(P.id,{evaluate_id:P.evaluate_id,type:c,evaluate_user_id:X.ZP.userId});case 3:f=y.sent,W()(f,"data.data")&&f.data.code==="200000"&&p.setState({evaluateDetail:f.data.data});case 5:case"end":return y.stop()}},M)})),this.initRef=M=>{this.setState({formRef:M})},this.state={evaluateDetail:{},formRef:null}}componentDidUpdate(Q){var p=this.props.type;Q.visible!==this.props.visible&&this.props.visible&&(p==="student"?this.getEvaluateMyInfo():this.getMyEvaluateInfo())}render(){var Q=this.props,p=Q.prefixCls,M=Q.t,C=Q.visible,P=Q.typeQuestionnaire,c=Q.title,f=this.state.evaluateDetail,I=f.evaluate_vo,y=f.questionnaire_result_vo,x={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:null};return P!=="check"&&delete x.footer,S().createElement(E.ZP,(0,ie.Z)({},x,{title:c||M("common.questionnaire"),visible:C,onCancel:this.onCancel,onOk:this.onOk}),S().createElement("div",{className:p},S().createElement("div",{className:"modal-content"},S().createElement("div",{className:"list-wrap all-list-wrap"},P==="check"?S().createElement(S().Fragment,null,y?S().createElement(d.Z,{isPreview:!0,questionnaireInfo:y}):S().createElement(Z.Z,{tipText:M("lineClassStudy.noResult")})):S().createElement(S().Fragment,null,I?S().createElement(T.Z,{questionId:I.questionnaire_id,initRef:this.initRef,onSubmit:this.onSubmit}):null)))))}}k.defaultProps={prefixCls:"questionnaire",rate:3,typeQuestionnaire:"edit"},ce.Z=(0,g.Z)()(k)},72358:function(Le,ce,e){"use strict";e.d(ce,{g3:function(){return ae},hR:function(){return u},ZQ:function(){return V},HM:function(){return S},RZ:function(){return g},K5:function(){return D},az:function(){return W},_C:function(){return a},p_:function(){return T}});var ie=e(37055),q=e(10237);function ae(Z){return q.WY.get({url:ie.ZP.lineClassStudy.getMyEvaluate(),params:Z})}function u(Z,d){return q.WY.post({url:ie.ZP.lineClassStudy.evaluateSubmit(Z),data:d})}function V(Z,d){return q.WY.post({url:ie.ZP.lineClassStudy.scoreSubmit(Z),data:d})}function S(Z,d){return q.WY.post({url:ie.ZP.lineClassStudy.approvalSubmit(Z),data:d})}function g(Z,d){return q.WY.get({url:ie.ZP.lineClassStudy.getEvaluateMyInfo(Z),params:d})}function D(Z,d){return q.WY.get({url:ie.ZP.lineClassStudy.getMyEvaluateInfo(Z),params:d})}function W(Z,d){return q.WY.get({url:ie.ZP.lineClassStudy.getMyEvaluateInfoManage(Z),params:d})}function a(Z,d){return q.WY.get({url:ie.ZP.lineClassStudy.userEvaluateLecturerList(Z),params:d})}function T(Z){return q.WY.get({url:ie.ZP.lineClassStudy.getEvaluateCount(),params:Z})}},85649:function(Le,ce,e){"use strict";var ie=e(71194),q=e(57016),ae=e(34792),u=e(48086),V=e(57361),S=e(18106),g=e(88108),D=e(9754),W=e.n(D),a=e(12924),T=e.n(a),Z=e(28216),d=e(91768),E=e(92592),X=e(10237),k=e(5430),w=e(84874),Q,p,M,C,P,c,f=g.Z.TabPane,I=(Q=(0,Z.$j)(y=>{var x=y.user;return{userInfo:x}}),p=Reflect.metadata("design:type",Function),M=Reflect.metadata("design:paramtypes",[void 0]),Q(C=p(C=M(C=(c=P=class extends a.Component{constructor(x){var N;super(x);N=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.renderTitle=()=>{var v=this.props.t;return T().createElement("div",null,v("questionn.warmHint"))},this.cancel=()=>{this.setState({visible:!1})},this.renderCloseIcon=()=>T().createElement(w.Z,{iconClass:"icon-f-close",size:"12"}),this.getShortLink=v=>X.WY.post({url:k.ZP.Common.getQrUrl(),data:{link:v}}),this.initWxCode=(0,V.Z)(W().mark(function v(){var B,$;return W().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return B=N.props.projectId,H.next=3,X.WY.post({url:k.ZP.createWxCode(),data:{flag:"study_project",scene:"flag=study_project&projectId=".concat(B,"&enterpriseId=").concat(k.ZP.enterpriseId),enterprise_id:k.ZP.enterpriseId}});case 3:$=H.sent,N.setState({codeUrl:$.data.wx_code});case 5:case"end":return H.stop()}},v)})),this.initQRCode=()=>{var v=this.props,B=v.projectId,$=v.userInfo,A="/pages/messageRedirect/messageRedirect?projectId=".concat(B,"&flag=study_project"),H=encodeURIComponent(A),te="dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat($.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(H);E.toDataURL(te,{width:500}).then(_e=>{this.setState({dingDingUrl:_e})}).catch(()=>{u.default.error(this.props.t("personal.failedGenerateCode"))})},this.renderDingScan=()=>{var v=this.props.prefixCls,B=this.state.dingDingUrl;return T().createElement("div",{className:"ding_scan",style:{textAlign:"center"}},T().createElement("img",{className:"".concat(v,"__qrCode"),src:B}))},this.renderWxScan=()=>{var v=this.props.prefixCls,B=this.state.codeUrl;return T().createElement("div",{className:"wx_scan",style:{textAlign:"center"}},T().createElement("img",{className:"".concat(v,"__qrCode"),src:"data:image/png;base64,".concat(B)}))},this.renderDDWxScan=()=>{var v=this.props.prefixCls,B=this.state,$=B.dingDingUrl,A=B.codeUrl;return T().createElement(g.Z,{defaultActiveKey:"1",centered:!0,className:"".concat(v,"__scan_content")},T().createElement(f,{tab:this.props.t("common.dingDingSanCode"),key:"1"},T().createElement("div",{className:"ding_scan"},T().createElement("img",{className:"".concat(v,"__qrCode"),src:$}))),T().createElement(f,{tab:this.props.t("common.wxScanCode"),key:"2"},T().createElement("div",{className:"wx_scan"},T().createElement("img",{className:"".concat(v,"__qrCode"),src:"data:image/png;base64,".concat(A)}))))},this.renderQRCodeTabs=()=>{var v=dd.version,B=localStorage.getItem("appType")==="wx_app",$;return!B&&!v?$=this.renderDDWxScan():(v&&($=this.renderDingScan()),B&&($=this.renderWxScan())),$},this.state={modalWidth:452,dingDingUrl:"",codeUrl:""}}componentDidMount(){var x=dd.version,N=localStorage.getItem("appType")==="wx_app"||localStorage.getItem("loginMode")==="WX_LOGIN";!x&&!N?(this.initQRCode(),this.initWxCode()):(x&&this.initQRCode(),N&&this.initWxCode())}render(){var x=this.props,N=x.prefixCls,v=x.visible,B=x.handleCancel,$=x.desc,A=this.state.modalWidth;return T().createElement(q.Z,{visible:v,wrapClassName:"".concat(N),title:this.renderTitle(),width:A,onCancel:B,footer:null,centered:!0,closeIcon:this.renderCloseIcon(),maskClosable:!1,destroyOnClose:!0},this.renderQRCodeTabs(),T().createElement("div",{className:"".concat(N,"__descContent")},T().createElement("span",{className:"".concat(N,"__desc")},$)))}},P.defaultProps={prefixCls:"qr-code-modal"},c))||C)||C)||C);ce.Z=(0,d.Z)()(I)},1802:function(Le,ce,e){"use strict";var ie=e(71194),q=e(57016),ae=e(57663),u=e(71577),V=e(12924),S=e.n(V),g=e(91768),D=e(84874),W=e(28216),a,T,Z,d,E=(a=(0,W.$j)(X=>{var k=X.subsidyCourseInfo;return{studyHourLimit:k.studyHourLimit,isRealNameAuth:k.isRealNameAuth,isHangupPrevention:k.isHangupPrevention}}),T=Reflect.metadata("design:type",Function),Z=Reflect.metadata("design:paramtypes",[void 0]),a(d=T(d=Z(d=class extends V.Component{constructor(k){super(k);this.getTipInfo=()=>{var w=this.props,Q=w.isRealNameAuth,p=w.isHangupPrevention,M=w.studyHourLimit,C="",P="",c="";Q==="1"&&p==="1"?C="\u6709\u5B9E\u540D\u8BA4\u8BC1\u3001\u5F39\u9A8C\u8BC1\u7801\u9632\u6302\u673A\u8981\u6C42":(Q==="1"&&(C="\u6709\u5B9E\u540D\u8BA4\u8BC1"),p==="1"&&(P="\u6709\u5F39\u9A8C\u8BC1\u7801\u9632\u6302\u673A\u8981\u6C42")),M!=="0"&&M!=="null"&&(c="\uFF0C\u5F53\u65E5\u8D85\u8FC7".concat(M,"\u5C0F\u65F6\u9650\u5236\u7684\u65F6\u957F\u4E0D\u53EF\u4EAB\u53D7\u8865\u8D34\u3002"));var f="\u5B66\u4E60\u65F6".concat(C).concat(P).concat(c);return f},this.renderDesc=()=>{var w=this.props,Q=w.type,p=w.message,M=w.studyHourLimit,C;switch(Q){case"initTip":C=this.getTipInfo();break;case"authSuccess":C="".concat(p||"\u5B9E\u540D\u8BA4\u8BC1\u5DF2\u8BA4\u8BC1\u6210\u529F");break;case"authFail":C="".concat(p||"\u5B9E\u540D\u8BA4\u8BC1\u5DF2\u8BA4\u8BC1\u5931\u8D25");break;case"studyLimit":C="\u60A8\u4ECA\u65E5\u5DF2\u8FBE\u5230".concat(M,"\u4E2A\u5C0F\u65F6\u7684\u5B66\u4E60\u9650\u5236\u65F6\u957F\uFF0C\u8D85\u8FC7\u9650\u5236\u65F6\u957F\u4E0D\u53EF\u7533\u8BF7\u8865\u8D34");break;default:break}return S().createElement("span",null,C)},this.renderTitle=()=>{var w=this.props.prefixCls,Q=this.state,p=Q.modalIcon,M=Q.modalTitle;return S().createElement("div",{className:"".concat(w,"__content")},S().createElement("span",{className:"".concat(w,"__icon")},S().createElement(D.Z,{iconClass:p,size:"22px"})),S().createElement("span",{className:"".concat(w,"__title")},M))},this.comOnOk=()=>{var w=this.props,Q=w.type,p=w.handleCloseTip,M=w.handleShowAuthModal,C=w.playAutoPlay,P=w.linkToStudy,c=w.toLearnType;if(p(),Q==="authSuccess"||Q==="studyLimit"){C();return}M&&M(),P&&P(c)},this.comCancel=()=>{this.props.goBack()},this.renderFooter=()=>{var w=this.props,Q=w.type,p=w.t,M=this.state.modalSubmitText;return S().createElement(S().Fragment,null,Q==="authFail"?S().createElement(u.Z,{onClick:this.comCancel},p("common.cancel")):"",S().createElement(u.Z,{type:"primary",onClick:this.comOnOk},M))},this.state={visible:!0,modalWidth:433,modalIcon:"",modalTitle:"",modalSubmitText:""}}componentDidMount(){}componentDidUpdate(k){if(k.type!==this.props.type){var w=this.props,Q=w.type,p=w.t,M,C,P;Q==="initTip"||Q==="studyLimit"?(M="icon-xunwentishi",C=p("common.tip"),P=p("common.ok")):Q==="authSuccess"?(M="icon-chenggongtishi",C=p("gzSubsidy.certificationSuccess"),P=p("study.startLearning")):(M="icon-cuowutishi",C=p("gzSubsidy.certificationFail"),P=p("gzSubsidy.reCertification")),this.setState({modalIcon:M,modalTitle:C,modalSubmitText:P})}}render(){var k=this.props,w=k.prefixCls,Q=k.visible,p=this.state.modalWidth;return S().createElement(q.Z,{title:this.renderTitle(),visible:Q,closable:!1,width:p,mask:!0,maskClosable:!1,footer:this.renderFooter(),centered:!0,wrapClassName:"".concat(w),destroyOnClose:!0},this.renderDesc())}})||d)||d)||d);E.defaultProps={prefixCls:"init-tip-modal",type:"initTip"},ce.Z=(0,g.Z)()(E)},47745:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return y}});var ie=e(34792),q=e(48086),ae=e(88986),u=e(57663),V=e(71577),S=e(71153),g=e(60331),D=e(12924),W=e.n(D),a=e(91768),T=e(76651),Z=e(87722);class d extends W().Component{constructor(){super(...arguments);this.handleTimeRange=N=>{var v=N.startTime,B=N.endTime,$=N.dateStrings;if(!$.filter(H=>H).length){this.props.handleChangeDataRange({startTime:"",endTime:""});return}var A={startTime:v,endTime:B};this.props.handleChangeDataRange(A)}}render(){return W().createElement("div",{className:"exam-grades__query"},W().createElement(Z.Z,{timestamp:!0,showTime:!0,format:"YYYY-MM-DD HH:mm",onCustomChange:this.handleTimeRange}))}}var E=(0,a.Z)()(d),X=e(84391),k=x=>{var N=x.t,v=x.shouldRenderExport;return W().createElement("div",{className:"exam-grades__query"},v&&W().createElement(V.Z,{type:"primary",onClick:x.handleExport},W().createElement(X.Z,null),N("common.exportData")))},w=(0,a.Z)()(k),Q=e(38642),p=e(10237),M=e(37055),C=e(6793),P=e(18329),c=e(95664),f=e(36202);class I extends W().Component{constructor(N){super(N);this.getTableColumns=()=>{var v=[{title:this.props.t("personal.submitTime"),dataIndex:"planId",key:"planId",width:160,render:(H,te)=>W().createElement("span",{className:"exam-grades__table__cell"},(0,C.p6)(te.commit_time,"yyyy-MM-dd hh:mm:ss"),te.score_rule===1?W().createElement(g.Z,{color:"#CF3C3C"},this.props.t("myExamTask.highest")):null,te.score_rule===2?W().createElement(g.Z,{color:"#FFA000"},this.props.t("myExamTask.newest")):null)},{title:this.props.t("examing.examTotalScore"),dataIndex:"total_score",key:"total_score",width:100},{title:this.props.t("myExamTask.score"),dataIndex:"score",key:"score",width:100,render:(H,te)=>te.status===5?"--":H},{title:this.props.t("exam.examTime"),dataIndex:"duration",key:"duration",width:100,render:H=>(0,C.xj)(H)},{title:this.props.t("exam.examResult"),dataIndex:"result",key:"result",width:120},{title:this.props.t("common.operate"),width:100,key:"operate",render:H=>this.props.type==="user"?this.userOperation(H):this.adminOperation(H)}],B={title:this.props.t("exam.marker"),width:100,dataIndex:"marker_name",key:"marker_name"},$=this.props.type,A=$===void 0?"admin":$;return A==="admin"&&v.splice(4,0,B),v},this.userOperation=v=>W().createElement(D.Fragment,null,v.view_rule===0&&W().createElement(V.Z,{type:"link",size:"small",disabled:!0},this.props.t("common.viewDetails")),v.view_rule===1&&W().createElement(V.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(v)},this.props.t("myExamTask.answerAnalytics")),v.view_rule===2&&W().createElement(V.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(v)},this.props.t("exam.viewRightAndWrong"))),this.adminOperation=v=>W().createElement(D.Fragment,null,v.status===5?W().createElement("div",{className:"cl-table__cell-action"},W().createElement("span",{className:"cl-pointer cl-disabled"}," ",this.props.t("common.viewDetails"))):W().createElement("div",{className:"cl-table__cell-action",onClick:()=>this.viewDetails(v)},W().createElement("span",{className:"cl-pointer"}," ",this.props.t("common.viewDetails")))),this.viewDetails=v=>{var B=v.user_id,$=v.plan_id,A=v.makeup_count,H=this.props,te=H.pageFrom,_e=H.taskId,fe=H.type,le=fe===void 0?"admin":fe,he="";le==="admin"?he="/training/examination/result?pageFrom=examMonitor&id=".concat($,"&userId=").concat(B,"&makeupCount=").concat(A):te==="myObligatoryTask"?he="/training/examination/result/personal?fromPage=myObligatoryTask&id=".concat($,"&userId=").concat(B,"&taskId=").concat(_e,"&makeupCount=").concat(A):te==="myExamTask"?he="/training/examination/result/personal?pageFrom=myExamTask&id=".concat($,"&userId=").concat(B,"&makeupCount=").concat(A):he="/training/examination/result/personal?id=".concat($,"&userId=").concat(B,"&makeupCount=").concat(A),le==="admin"?T.m8.push(he):(0,Q.eJ)({url:he})},this.initTableList=()=>{var v=this.props.planId;p.WY.get({url:M.ZP.ExaminationPlanMonitor.getExamAllGrades(v),params:(0,ae.Z)({},this.state.params)}).then(B=>{setTimeout(()=>{this.setState({showList:!0,loading:!1,tableList:B.data.list,tableTotal:Number(B.data.total),tableTotalPages:B.data.pages})},300)}).catch(()=>{this.setState({showList:!1,loading:!1}),this.props.hideEveryExamGrade()})},this.handleTableChange=v=>{var B=this.state.params;B.page_number=v,this.setState({params:B},()=>{this.initTableList()})},this.handleChangeDataRange=v=>{this.setState(B=>({params:(0,ae.Z)((0,ae.Z)({},B.params),{},{commit_time_start:v.startTime,commit_time_end:v.endTime})}),()=>{this.initTableList()})},this.handleExport=()=>{var v=this.props,B=v.t,$=v.planId,A=M.ZP.ExaminationPlanMonitor.exportExamAllGrades($),H=this.state.params,te=H.commit_time_start,_e=H.commit_time_end,fe=H.user_id;A+="?access_token=".concat(window.localStorage.getItem("token"),"&commit_time_start=").concat(te,"&commit_time_end=").concat(_e)+"&user_id=".concat(fe),window.location.href=A,q.default.success(B("study.exportSucceed"))},this.onCancel=()=>{this.props.hideEveryExamGrade()},this.renderFooter=()=>{var v=this.props.t;return W().createElement(V.Z,{type:"primary",onClick:this.onCancel},v("common.cancel"))},this.renderLeftRow=()=>W().createElement(E,{handleChangeDataRange:this.handleChangeDataRange}),this.renderRightRow=()=>{var v=this.props.type,B=v===void 0?"admin":v;return W().createElement(w,{shouldRenderExport:B==="admin",handleExport:this.handleExport})},this.state={loading:!0,params:{commit_time_start:"",commit_time_end:"",user_id:"",page_number:1,page_size:10},tableList:[],tableTotal:0,tableTotalPages:0,showList:!1}}componentDidUpdate(N){this.props.visible&&this.props.visible!==N.visible&&this.props.userId&&this.setState({params:{commit_time_start:"",commit_time_end:"",user_id:this.props.userId,page_number:1,page_size:10,task_id:this.props.taskId},tableList:[],tableTotal:0,tableTotalPages:0},()=>{this.initTableList()})}render(){var N=this.props,v=N.visible,B=N.t,$=N.planTitle,A=this.state,H=A.showList,te=A.loading,_e=A.params,fe=A.tableList,le=A.tableTotal,he=A.tableTotalPages;return W().createElement("div",null,v&&H?W().createElement(P.ZP,{size:"large",visible:v,title:B("exam.examDetails"),onCancel:this.onCancel,onOk:this.onCancel,footer:this.renderFooter()},W().createElement("div",{className:"exam-grades"},W().createElement("div",{className:"exam-grades__title"},$),W().createElement(f.f,{bordered:!0,columns:this.getTableColumns(),rowKey:"makeup_count",dataSource:fe,pagination:!1,loading:te,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"a7d5cb8a-163d-4795-953e-ae47d83ee50d"}),W().createElement(c.Z,{defaultPageSize:10,totalNum:le,totalPage:he,current:_e.page_number,showRenderRefresh:!1,onChange:this.handleTableChange}))):null)}}var y=(0,a.Z)()(I)},59842:function(Le,ce,e){"use strict";var ie=e(71194),q=e(57016),ae=e(12924),u=e.n(ae),V=e(91768),S=e(68628),g=e(6793);class D extends u().Component{constructor(){super(...arguments);this.handleOk=()=>{this.props.onOk()},this.handleCancel=()=>{this.props.onCancel()}}render(){var a=this.props,T=a.t,Z=a.visible,d=a.examInfo;return u().createElement(q.Z,{visible:Z,width:493,className:"exam-item-info-modal",maskClosable:!1,title:T("exam.examInstructions"),cancelText:T("common.cancel"),okText:T("exam.enterExam"),onOk:this.handleOk,onCancel:this.handleCancel},u().createElement("div",{className:"exam-item-info"},dd.version&&d.cut_screen_count!==-1&&u().createElement("div",{className:"warn_tip_container"},(0,g.ZT)("".concat(T("exam.cutScreenExamTip")),"Edge\u3001 Firefox\u3001 Chrome\u3001 Opera\u3001 sogou \u3001360 ")),u().createElement("div",{className:"exam-item-info__title"},d.title),d.begin_time?u().createElement("div",{className:"exam-item-info__date"},(0,g.p6)(d.begin_time,"yyyy-MM-dd hh:mm")," ~"," ",(0,g.p6)(d.end_time,"yyyy-MM-dd hh:mm")):null,u().createElement("div",{className:"exam-item-info__detail"},u().createElement("div",{className:"exam-item-info__detail__row"},u().createElement("div",{className:"exam-item-info__detail__column"},u().createElement("div",{className:"exam-item-info__detail__column__value"},u().createElement("div",{className:"exam-duration"},d.exam_duration/60),u().createElement("div",{className:"exam-duration-label"},T("common.minutes"))),u().createElement("div",{className:"exam-item-info__detail__column__text"},T("exam.examTotalTime"))),u().createElement("div",{className:"exam-item-info__detail__column"},u().createElement("div",{className:"exam-item-info__detail__column__value"},d.total_score),u().createElement("div",{className:"exam-item-info__detail__column__text"}," ",T("exam.examTotalScore"))),u().createElement("div",{className:"exam-item-info__detail__column"},u().createElement("div",{className:"exam-item-info__detail__column__value"},d.passing_score),u().createElement("div",{className:"exam-item-info__detail__column__text"},T("exam.passingScore")))),u().createElement("div",{className:"exam-item-info__detail__row"},u().createElement("div",{className:"exam-item-info__detail__column"},d.exam_count>=0?u().createElement("div",{className:"exam-item-info__detail__column__value"},d.exam_count):u().createElement("div",{className:"exam-item-info__detail__column__value"}," ",T("exam.unlimited")),u().createElement("div",{className:"exam-item-info__detail__column__text"},T("exam.examTimes"))),u().createElement("div",{className:"exam-item-info__detail__column"},d.score>=0?u().createElement("div",{className:"exam-item-info__detail__column__value"},d.score):u().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),u().createElement("div",{className:"exam-item-info__detail__column__text"},T("exam.credits"))),u().createElement("div",{className:"exam-item-info__detail__column"},d.certificate_count>0?u().createElement("div",{className:"exam-item-info__detail__column__value"},d.certificate_count):u().createElement("div",{className:"exam-item-info__detail__column__value"},"--"),u().createElement("div",{className:"exam-item-info__detail__column__text"}," ",T("exam.certificate"))))),u().createElement("div",{className:"exam-item-info__tips"},u().createElement(S.Z,null),d.cut_screen_count>=0?(0,g.ZT)(T("exam.examScreenTips"),d.cut_screen_count):T("exam.examTips"))))}}ce.Z=(0,V.Z)()(D)},41285:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return he}});var ie=e(62029),q=e(57663),ae=e(71577),u=e(34792),V=e(48086),S=e(12924),g=e.n(S),D=e(91768),W=e(55446),a=e(28216),T=e(88986),Z=e(93485),d=e(33565),E=e(80991),X=e(2287),k=e(2323),w=e(49101),Q=e(43859),p=e(61981);class M extends g().Component{constructor(){super(...arguments);this.state={coachModel:"operation",showSelectCoachTutorDialog:!1},this.selectCoachTutorPeople=(_,F)=>{this.setState({showSelectCoachTutorDialog:!1}),this.props.onFieldChange({tutor_user_id:_,tutor_user_name:F})}}render(){var _=this.props,F=_.value,se=_.t,Te=_.userId,me=_.otherUserId,Ee=this.state,de=Ee.showSelectCoachTutorDialog,j=Ee.coachModel,L=me||Te;return g().createElement("div",null,F.tutor_user_id?g().createElement("span",{className:"select-tutor-approver-name"},F.tutor_user_name||""):null,g().createElement(ae.Z,{onClick:()=>this.setState({showSelectCoachTutorDialog:!0}),icon:g().createElement(w.Z,null)}),g().createElement(p.Z,{model:j,value:F.tutor_user_id,title:se("authentication.abilityDetailSecAddApprover"),userId:L,visible:de,onOk:this.selectCoachTutorPeople,onCancel:()=>this.setState({showSelectCoachTutorDialog:!1})}))}}var C=J=>{var _=J.user;return{lng:_.lng,userId:_.id}},P=(0,a.$j)(C)((0,Q.Z)((0,E.$j)((0,D.Z)()(M)))),c=e(6793),f=e(10237),I=e(37055),y=e(1164),x=e(76466),N=e(54531),v=e(84874),B=e(54624),$={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}},A=J=>{var _=I.Ss.indexOf(J.content_type)>-1,F=J.type;J.content_type==="scorm"&&(F="scorm"),_&&(F="mp3");var se=I.e1[F];return se||"iconf-matter-picture"};class H extends g().Component{constructor(){super(...arguments);this.state={resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}},this.initRef=_=>{this.formRef=_},this.validate=_=>{var F={},se=(0,Z.Z)(_.entries()),Te;try{for(se.s();!(Te=se.n()).done;){var me=Te.value,Ee=(0,d.Z)(me,2),de=Ee[0],j=Ee[1];(!j.content||(0,c.fy)(j.content).length===0)&&(j.resources&&j.resources.filter(L=>L.id).length===0||!j.resources)&&(F[de]=!0)}}catch(L){se.e(L)}finally{se.f()}return Object.keys(F).length?F:""},this.validateApprover=_=>{var F=this.props.t,se="";return _.tutor_user_id||(se=F("tutorial.selectApprover")),se},this.handlePreview=_=>{var F=this.props,se=F.appType,Te=F.t;if(se==="wx_app"&&_.biz_type===3){V.default.info("\u8BE5\u9644\u4EF6\u7531\u9489\u76D8\u4E0A\u4F20\uFF0C\u65E0\u6CD5\u9884\u89C8\uFF0C\u8BF7\u5728\u9489\u9489\u5BA2\u6237\u7AEF\u6253\u5F00\u9884\u89C8");return}if(_.status!==3){V.default.info(Te("resourceLibrary.transcodingPlayerTip"));return}if(!((_.type==="zip"||_.type==="rar")&&_.storage_type!=="DING_PAN")){if(se==="app"){this.handlePreviewSystemFile(_);return}if(!dd.version&&_.biz_type===3){V.default.info(Te("practiceOperation.dingFileTip"));return}if(_.biz_type!==3){this.handlePreviewSystemFile(_);return}var me=I.ZP.DingSpaceId.getSpaceId(),Ee={corpId:this.props.corpId,userId:this.props.account,fileids:_.url,timeStamp:Date.parse(new Date)};f.WY.get({url:me,params:Ee}).then(de=>{de.data.code===0?this.ddSpacePreview(_):V.default.info(de.data.msg)}).catch(de=>{V.default.error(de.data)})}},this.dealWatchType=_=>{var F=I.Yq.findIndex(R=>_.type.toLowerCase().includes(R))>-1,se=_.content_type.indexOf("video")>-1,Te=I.Ss.indexOf(_.content_type)>-1,me=_.content_type.indexOf("image")>-1||_.type.indexOf("image")>-1||_.content_type.indexOf("picture")>-1||_.type.indexOf("picture")>-1,Ee=_.content_type.indexOf("h5")>-1,de=_.content_type==="html",j=_.content_type==="scorm",L="";return Ee?L="article":F?L="doc":se||Te?L="video":me?L="image":de?L="html":j&&(L="scorm"),L},this.handlePreviewSystemFile=_=>{var F=this.state.previewInfo,se=this.dealWatchType(_),Te=I.Ss.indexOf(_.content_type)>-1;if(se==="article"){var me=_.content_type,Ee=_.url,de=me==="h5/link";de?y.Z.targetTo({path:Ee,isExternalLink:!0}):y.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(_.id)});return}if(se==="scorm"){var j=_.url.split("//"),L=j[1].split("/"),R=[j[0],L[0]].join("//"),m="".concat(R,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(_.url));y.Z.targetTo({path:m,isExternalLink:!0});return}var b={mode:"preview",watchType:se};se==="doc"?Object.assign(b,{resourceInfo:{type:"",docType:_.type,aliUrl:_.path,url:_.url,docTitle:_.name,playId:_.videoId||_.video_id,storageType:_.storage_type}}):se==="image"?Object.assign(b,{resourceInfo:{url:_.url,playId:_.videoId||_.video_id,storageType:_.storage_type}}):se==="html"?Object.assign(b,{resourceInfo:{url:_.url}}):Object.assign(b,{resourceInfo:{source:{FD:_.url,OD:_.path},originUrl:_.url,contentType:Te?"mp3":_.type,playId:_.videoId||_.video_id,storageType:_.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:b,previewInfo:(0,T.Z)((0,T.Z)({},F),{},{title:_.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var _=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,T.Z)((0,T.Z)({},_),{},{visible:!1})})},this.ddSpacePreview=_=>{var F={spaceId:_.path,fileId:_.url,fileName:_.name,fileSize:_.size,fileType:_.type};(0,N.DR)(F)},this.renderItemView=_=>g().createElement("div",{className:"file-list-item-resource",key:_.id||_.uid,onClick:()=>{this.handlePreview(_)}},g().createElement(v.Z,{iconClass:A(_),size:"22px"}),g().createElement("div",{className:"info"},g().createElement("span",{className:"name"},_.name),g().createElement("div",{className:"size-and-download"},_.id&&g().createElement("span",{className:"size"},_.size/1024>1024?"".concat((_.size/1024/1024).toFixed(1),"MB"):"".concat((_.size/1024).toFixed(1),"KB")),(0,X.a)(_)&&g().createElement("span",{className:"download-text"},g().createElement(k.Z,{item:_})))))}componentDidMount(){this.props.onFormMounted(this.formRef),(0,N.TN)()}render(){var _=this.props,F=_.initData,se=_.t,Te=_.canEdit,me=_.otherUserId,Ee=this.state,de=Ee.resourcePlayInfo,j=Ee.previewInfo;return g().createElement("div",{className:"coach-task-form"},g().createElement("div",{className:"step-title-content"},g().createElement("p",{className:"step-title"},F.title),g().createElement("div",{className:"step-content-text"},g().createElement("p",{className:"task-desc"},se("component.practiceRequire"),"\uFF1A"),g().createElement("p",{className:"more-text"},F.content)),F.resourceList.length===0?null:g().createElement("div",{className:"step-content-text"},g().createElement("p",{className:"task-desc"},se("practiceOperation.annex"),"\uFF1A"),g().createElement("div",{className:"content-resource"},F.resourceList.map(L=>this.renderItemView(L))))),g().createElement(E.J9,{ref:this.initRef,initialValues:F,onSubmit:this.props.onSubmit,render:L=>g().createElement(E.l0,null,F.approval_type==="tutor"?g().createElement(E.gN,(0,ie.Z)({name:"tutor",label:se("authentication.abilityDetailApprover"),defaultValue:L.values.tutor,validate:this.validateApprover,component:P,displayType:"Custom",otherUserId:me},$)):null,g().createElement(E.gN,(0,ie.Z)({name:"stepList",label:"",required:!0,defaultValue:L.values.stepList,validate:this.validate,component:B.Z,notLibrary:!0,hasZip:"true",canSelectCourse:!1,maxLength:1200,areaPlaceHolder:se("tutorial.textDescOperationIndustry"),resourceTip:se("tutorial.resourceTip"),displayType:"Custom",canEdit:Te,customError:!0},$)))}),g().createElement(x.Z,(0,ie.Z)({},de,{previewInfo:j})))}}H.defaultProps={initData:{},onFormMounted:()=>{},canEdit:!0};var te=(0,a.$j)(J=>({corpId:J.user.corpId,account:J.user.account}))((0,D.Z)()(H)),_e=e(18329);class fe extends g().Component{constructor(_){super(_);this.getInitData=F=>{var se=this.props.userInfo,Te=F.otherUserId?I.ZP.operationInfo.getOperationCustomByUserAndTaskId({userId:F.otherUserId,operations:F.operationsId}):I.ZP.operationInfo.getOperationInfoByUserAndTaskId({userId:se.id,operations:F.operationsId});f.WY.get({url:Te}).then(me=>{me.data.code===0?this.setState({initData:{title:me.data.data.title,content:me.data.data.content,operation_source:me.data.data.operation_source,resourceList:me.data.data.resources||[],stepList:me.data.data.steps&&me.data.data.steps.length>0?me.data.data.steps:[{content:"",resources:[],id:new Date().getTime()}],approval_type:me.data.data.approval_type,tutor:{tutor_user_id:me.data.data.tutor_user_id||"",tutor_user_name:me.data.data.tutor_user_name||""}},showForm:!0}):V.default.error(me.data.msg)})},this.onCancel=()=>{this.setState({showForm:!1}),this.props.onCancel&&this.props.onCancel()},this.onOk=F=>{var se=this.props.canEdit;if(!se){this.setState({showForm:!1}),this.props.onOk&&this.props.onOk();return}this.setState({commitStatus:F},()=>{this.AddFormInstance.submitForm()})},this.onFormMounted=F=>{this.AddFormInstance=F},this.onSubmit=F=>{var se=this.props,Te=se.userInfo,me=se.t,Ee=se.otherUserId,de=this.state,j=de.isLoading,L=de.commitStatus,R=de.initData;if(!j){var m={steps:F.stepList.map((z,ne)=>({content:z.content?(0,c.fy)(z.content):z.content,step:ne+1,resources:z.resources.filter(ue=>ue.id).map((ue,ee)=>({resourceId:ue.id,sort:ee+1}))}))};if(F.approval_type==="tutor"&&!F.tutor.tutor_user_id){V.default.error(me("tutorial.selectApprover"));return}var b=Ee?I.ZP.operationInfo.saveOperationCustomContent({userId:Ee,operations:this.props.operationsId}):I.ZP.operationInfo.saveOperationIndustryContent({userId:Te.id,operations:this.props.operationsId});this.setState({isLoading:!0}),f.WY.post({url:b,data:{approval_user:F.approval_type==="tutor"?F.tutor.tutor_user_id:"",operation:m.steps,operation_source:R.operation_source},params:{status:L==="save"?"0":"1"}}).then(z=>{this.setState({isLoading:!1}),z.data.code===0&&(V.default.success(me(L==="save"?"common.saveSuccess":"common.submitSuccess")),this.setState({showForm:!1}),this.props.onOk&&this.props.onOk(L!=="save"))}).catch(()=>{this.setState({isLoading:!1})})}},this.renderModalFooter=()=>{var F=this.props,se=F.t,Te=F.onlyCommit,me=this.props.canEdit;return g().createElement("div",{className:"coach-task-modal-footer"},g().createElement(ae.Z,{onClick:this.onCancel},se("common.cancel")),me?g().createElement(g().Fragment,null,Te?null:g().createElement(ae.Z,{type:"primary",onClick:()=>this.onOk("save")},se("common.save")),g().createElement(ae.Z,{type:"primary",onClick:()=>this.onOk("submit")},se("common.submit"))):null)},this.state={showForm:!1,initData:{resourceList:[],operation_source:"study",stepList:[{content:"",resources:[],id:new Date().getTime()}],tutor:{tutor_user_id:"",tutor_user_name:""}},isLoading:!1,commitStatus:"save"},this.formRef=null}UNSAFE_componentWillReceiveProps(_){_.visible!==this.props.visible&&_.visible&&this.getInitData(_)}render(){var _=this.props,F=_.t,se=_.visible,Te=_.canEdit,me=_.title,Ee=_.otherUserId,de={title:me||F("common.submit")+F("component.practiceExam"),okText:F("common.ok"),cancelText:F("common.cancel"),size:"medium",destroyOnClose:!0,maskClosable:!1,footerType:"custom"};return g().createElement(_e.ZP,(0,ie.Z)({},de,{visible:se,onCancel:this.onCancel,onOk:this.onOk,renderCustomFooter:this.renderModalFooter}),g().createElement("div",{className:"add-task-coaching operation-industry"},this.state.showForm?g().createElement(te,{onFormMounted:this.onFormMounted,onSubmit:this.onSubmit,initData:this.state.initData,canEdit:Te,otherUserId:Ee}):null))}}var le=J=>({userInfo:J.user}),he=(0,a.$j)(le)((0,D.Z)()(fe))},2323:function(Le,ce,e){"use strict";var ie=e(22385),q=e(31097),ae=e(12924),u=e.n(ae),V=e(91768),S=e(90631),g=e(65202),D=e(2287);function W(a){var T=(0,g.p)(),Z=a.item,d=a.t;return u().createElement(q.Z,{title:d("course.courseDetailDownload")},u().createElement(S.Z,{onClick:E=>(0,D.F)(E,Z,a),style:{color:T,fontSize:"16px"}}))}ce.Z=(0,V.Z)()(W)},19151:function(Le,ce,e){"use strict";var ie=e(88986),q=e(34669),ae=e(82833),u=e(22385),V=e(31097),S=e(87593),g=e(37636),D=e(57361),W=e(33565),a=e(9754),T=e.n(a),Z=e(12924),d=e.n(Z),E=e(91768),X=e(78138),k=e.n(X),w=e(57068),Q=e(38642),p=e(65202),M=e(10237),C=e(56932),P=e.n(C),c=e(84874),f=e(37055),I=e(8473),y=e(17762),x=e(72358),N=e(39383),v=e(60667);function B($){var A=$.t,H=$.refresh,te=$.isStart,_e=$.startStudy,fe=$.isPreview,le=(0,p.p)(),he=(0,Z.useState)({}),J=(0,W.Z)(he,2),_=J[0],F=J[1],se=(0,Z.useState)(!1),Te=(0,W.Z)(se,2),me=Te[0],Ee=Te[1],de=(0,Z.useState)(!1),j=(0,W.Z)(de,2),L=j[0],R=j[1],m=(0,Z.useState)({}),b=(0,W.Z)(m,2),z=b[0],ne=b[1],ue=(0,Z.useState)(""),ee=(0,W.Z)(ue,2),ve=ee[0],ge=ee[1],Ce={missing:A("lineClass.missing"),normal:A("marketing.normal"),leaved:A("lineClass.leave"),late:A("lineClassStudy.late"),leaveEarly:A("lineClassStudy.leaveEarly"),noIn:A("lineClassStudy.noIn"),noOut:A("lineClassStudy.noOut")};function we(O,pe){_e&&_e(pe==="course"?be(O):ke(O)),pe==="course"?be(O):ke(O)}function Ie(O){var pe;if(O.data_type===13){if(O.sign_detail.sign_info.director.length){var Pe=[];O.sign_detail.sign_info.director.forEach(Ge=>{Pe.push(d().createElement(v.Z,{dataType:"userName",value:Ge.sync_user_id,name:Ge.userName,type:Ge.sync_source_type}))}),pe=Pe.length?d().createElement("span",null,Pe.map((Ge,it)=>d().createElement("span",{key:it},Ge,"".concat(it<Pe.length-1?"\u3001":"")))):d().createElement("span",null,"--")}}else if(O.data_type===7&&O.offline_course_vo){var Ue=O.offline_course_vo,We=Ue.lecturer_name,Ne=Ue.teacher_sync_type,ze=Ue.teacher_sync_source_type,Fe=Ue.teacher_sync_user_id;pe=d().createElement("span",null,Ne==="inside"?d().createElement(v.Z,{dataType:"userName",value:Fe,name:We,type:ze}):We||"--")}return pe}function Ae(O){if(O.data_type===13){var pe=O.sign_detail.sign_record;if(pe){var Pe=O.sign_type==="sign_in"?pe.signInStatus:pe.signOutStatus;return Pe==="abnormal"&&(Pe=O.sign_type==="sign_in"?"late":"leaveEarly"),Pe==="missing"&&(Pe=O.sign_type==="sign_in"?"noIn":"noOut"),d().createElement("span",{className:Pe},Ce[Pe])}return d().createElement("span",{className:"sign-btn no-sign-btn"},O.sign_type==="sign_in"?A("lineClassStudy.noIn"):A("lineClassStudy.noOut"))}if(O.data_type===7)return d().createElement(d().Fragment,null,O.offline_course_vo.is_student_course_evaluate&&d().createElement("span",{className:"sign-btn",onClick:()=>{Re(O.offline_course_vo)}},O.offline_course_vo.student_course_evaluated?A("lineClass.courseView"):A("lineClassStudy.evaluationOfCourse")))}function Re(O){if(!te){we(O,"course");return}be(O)}function be(O){if(!!O){ge("course"),F(O);var pe=O.student_course_evaluate_content.evaluate_type;pe==="star"?O.student_course_evaluated?$e(O,"course"):Ee(!0):R(!0)}}function Ke(O){if(!te){we(O,"lecturer");return}ke(O)}function ke(O){if(!!O){ge("lecturer"),F(O);var pe=O.student_lecturer_evaluate_content.evaluate_type;pe==="star"?O.student_lecturer_evaluated?$e(O,"lecturer"):Ee(!0):R(!0)}}function $e(O,pe){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,D.Z)(T().mark(function O(pe,Pe){var Ue;return T().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,(0,x.K5)(pe.id,{evaluate_id:Pe==="course"?pe.student_course_evaluate_id:pe.student_lecturer_evaluate_id,is_evaluated:!0,evaluate_object_id:pe.id});case 2:Ue=Ne.sent,Ue.data.code==="200000"&&(ne(Ue.data.data.evaluate_vo),Ee(!0));case 4:case"end":return Ne.stop()}},O)})),Qe.apply(this,arguments)}function st(O){var pe=ve==="course"?_.student_course_evaluate_content:_.student_lecturer_evaluate_content,Pe=pe.evaluate_type;M.WY.post({url:f.ZP.lineClassStudy.evaluateSubmit(_.id),data:{evaluate_object_id:_.id,evaluate_type:Pe,evaluate_id:ve==="course"?_.student_course_evaluate_id:_.student_lecturer_evaluate_id,evaluateContentVo:{evaluateVo:{star:O}}}}).then(()=>{Ee(!1),F({}),H()}).catch(()=>{})}function rt(O){return je.apply(this,arguments)}function je(){return je=(0,D.Z)(T().mark(function O(pe){var Pe,Ue,We,Ne;return T().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Pe=ve==="course"?_.student_course_evaluate_content:_.student_lecturer_evaluate_content,Ue=Pe.evaluate_type,We=Pe.questionnaire_id,Fe.next=3,(0,x.hR)(_.id,{evaluate_object_id:_.id,evaluate_type:Ue,evaluate_id:ve==="course"?_.student_course_evaluate_id:_.student_lecturer_evaluate_id,evaluate_content_vo:{questions:pe,evaluate_vo:{questionnaire_id:We}}});case 3:Ne=Fe.sent,Ne.data.code==="200000"&&(R(!1),F({}),H());case 5:case"end":return Fe.stop()}},O)})),je.apply(this,arguments)}function nt(O){return d().createElement("div",null,O.address?d().createElement("div",{className:"task-address task-item"},d().createElement("span",{className:"address-icon"},d().createElement(c.Z,{iconClass:"icon-xianxiaqiandao",size:"12px",color:"rgba(0, 0, 0, 0.35)"})),O.address):null,O.introduction?d().createElement("div",{className:"task-introduction task-item"},A("learning.taskSummary"),"\uFF1A",O.introduction):null,O.attachment&&O.attachment.length?d().createElement("div",{className:"training-attachment"},d().createElement(y.Z,{isCard:!0,isComponent:!0,useLocalList:!0,fileList:O.attachment})):null,O.is_open_offline_assessment&&d().createElement("div",{className:"task-score task-item"},A("lineClassStudy.auditScore"),"\uFF1A",O.course_monitor&&O.course_monitor.status==="scoring"||!O.course_monitor?O.lecturer_name?A("lineClass.waitScore"):A("lineClass.waitSignScore"):O.course_monitor.score))}function He(O,pe){var Pe=pe,Ue=$.from===13?O.sign_list:O.data_list,We=O.timestamp;if($.from===13&&O.sign_list&&O.sign_list.length){var Ne=O.sign_list[0];Ne.sign_type==="sign_in"?We=Ne.sign_detail.sign_info.signInBeginTime*1:We=Ne.sign_detail.sign_info.signOutBeginTime*1,k()(We).format("HH")*1<13?Pe=A("lineClass.antemeridian"):Pe=A("lineClass.afternoon")}return d().createElement("div",{className:"line-class-arrange"},d().createElement("div",{className:"title-date"},k()(We).format("YYYY-MM-DD"),Pe),d().createElement(g.Z,{mode:"left"},Ue.map((ze,Fe)=>d().createElement(g.Z.Item,{key:Fe,label:lt(ze)},ot(ze)))))}function ot(O){return d().createElement("div",{className:"right-content"},ct(O),d().createElement("div",{className:"timeline-item"},d().createElement("div",{className:"timeline-item-top"},d().createElement("span",{className:"task-name"},d().createElement(V.Z,{title:O.data_type===7?O.offline_course_vo.title:O.sign_detail.sign_info.name},d().createElement("span",null,O.data_type===7?O.offline_course_vo.title:O.sign_detail.sign_info.name)),O.data_type===7&&O.offline_course_vo.course_monitor&&O.offline_course_vo.course_monitor.signStatus==="leaved"&&d().createElement("span",{className:"leaved"},Ce.leaved)),fe?null:d().createElement("span",null,d().createElement("span",{className:"progress-content"},O.data_type===7&&!fe&&d().createElement(ae.Z,{size:"small",percent:O.study_progress,format:pe=>d().createElement("span",{className:"circle-blue-value",style:{color:"rgba(0, 0, 0, 0.45)"}},pe,"% ")})),d().createElement("span",{className:"status-operate"},Ae(O)))),fe?null:d().createElement("div",{className:"task-user task-item"},d().createElement("span",null,O.data_type===7?A("component.lecturer"):A("component.signCharge")," \uFF1A",Ie(O)),O.data_type===7&&O.offline_course_vo.is_student_lecturer_evaluate&&d().createElement("span",{className:"sign-btn",onClick:()=>{Ke(O.offline_course_vo)}},O.offline_course_vo.student_lecturer_evaluated?A("lineClass.lecturerView"):A("lineClassStudy.evaluationOfLecturer"))),O.data_type===7&&nt(O.offline_course_vo)))}function lt(O){var pe="",Pe="";return O.data_type===7&&(pe=O.offline_course_vo.begin_time,Pe=O.offline_course_vo.end_time),O.data_type===13&&(O.sign_type==="sign_in"?(pe=O.sign_detail.sign_info.signInBeginTime*1,Pe=O.sign_detail.sign_info.signInEndTime*1):(pe=O.sign_detail.sign_info.signOutBeginTime*1,Pe=O.sign_detail.sign_info.signOutEndTime*1)),d().createElement(d().Fragment,null,d().createElement("div",{className:"time-arrangement"},"".concat(k()(pe).format("HH:mm"),"-").concat(k()(Pe).format("HH:mm"))),d().createElement("div",{className:"time-total"},(0,Q.hj)(pe,Pe,"timeStamp")))}function ct(O){var pe="";if(O.data_type===13)O.sign_type==="sign_in"?pe=A("personal.checkInLabel"):pe=A("lineClassStudy.signOut");else if(O.data_type===7){if(O.offline_course_vo.lecturer_avatar)return d().createElement("img",{className:"avatar-name",src:O.offline_course_vo.lecturer_avatar});pe=O.offline_course_vo.lecturer_name}return pe?d().createElement("span",{className:"avatar-name"},pe.substring(pe.length-2)):d().createElement("img",{className:"avatar-name",src:P()})}return $.from===13?d().createElement(d().Fragment,null,He($.detail)):d().createElement("div",null,$.detail.map((O,pe)=>d().createElement("div",{key:pe},O.am_data&&He(O.am_data,A("lineClass.antemeridian")),O.pm_data&&He(O.pm_data,A("lineClass.afternoon")))),d().createElement(I.Z,{title:A("lineClass.starRate"),disabled:ve==="course"?_.student_course_evaluated:_.student_lecturer_evaluated,visible:me,score:Number(z.star),onCancel:()=>{Ee(!1)},onOk:st}),d().createElement(N.Z,{typeQuestionnaire:ve==="course"&&_.student_course_evaluated||ve==="lecturer"&&_.student_lecturer_evaluated?"check":"edit",operateColumn:(0,ie.Z)((0,ie.Z)({},_),{},{evaluate_id:ve==="course"?_.student_course_evaluate_id:_.student_lecturer_evaluate_id}),showList:!1,type:ve,visible:L,onCancel:()=>{R(!1)},onSubmit:rt}))}ce.Z=(0,E.Z)()(B)},2287:function(Le,ce,e){"use strict";e.d(ce,{a:function(){return D},F:function(){return W}});var ie=e(34792),q=e(48086),ae=e(57361),u=e(9754),V=e.n(u),S=e(37055),g=e(67230),D=a=>{var T=S.Yq.indexOf(a.type.toLowerCase())>-1,Z=S.iH.indexOf(a.type.toLowerCase())>-1,d=S.Iq.indexOf(a.type.toLowerCase())>-1,E=a.type.indexOf("image")>-1||a.type.indexOf("picture")>-1||a.content_type.indexOf("image")>-1||a.content_type.indexOf("picture")>-1,X=a.biz_type!==3;return(T||Z||E||d)&&X},W=function(){var a=(0,ae.Z)(V().mark(function T(Z,d,E){var X,k,w,Q,p,M,C,P,c,f,I,y,x;return V().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(Z.stopPropagation(),X=E.t,k=d.url,w=d.type,Q=d.status,p=d.storage_type,M=d.video_id,C=d.id,P="",c=d.type.indexOf("image")>-1||d.type.indexOf("picture")>-1||d.content_type.indexOf("image")>-1||d.content_type.indexOf("picture")>-1,Q!==3){v.next=32;break}if(p!=="ALIBABA_PRIVATE"){v.next=19;break}if(w!=="mp4"){v.next=13;break}return v.next=10,(0,g.y5)(M);case 10:P=v.sent,v.next=16;break;case 13:return v.next=15,(0,g.J7)(M);case 15:P=v.sent;case 16:P?(P.indexOf("http://")>-1&&(P=P.replace("http://","https://")),window.location.href=P):q.default.info(X("personal.fileNoDown")),v.next=30;break;case 19:if(w!=="mp4"){v.next=29;break}return v.next=22,(0,g.km)(C);case 22:f=v.sent,I=f.success,y=f.data,I==="true"&&(P=y),P?(P.indexOf("http://")>-1&&(P=P.replace("http://","https://")),window.location.href=P):q.default.info(X("personal.fileNoDown")),v.next=30;break;case 29:c?(x=new XMLHttpRequest,x.open("GET",d.url,!0),x.responseType="blob",x.onload=B=>{B.stopPropagation();var $=window.URL.createObjectURL(x.response),A=document.createElement("a");A.href=$,A.download=d.name,A.click()},x.send()):window.location.href=k;case 30:v.next=33;break;case 32:q.default.info(X("course.transcodingTips"));case 33:case"end":return v.stop()}},T)}));return function(Z,d,E){return a.apply(this,arguments)}}()},50603:function(Le,ce,e){"use strict";e.d(ce,{Z:function(){return Ee}});var ie=e(57663),q=e(71577),ae=e(12924),u=e.n(ae),V=e(91768),S=e(80991),g=e(88983),D=e(47933),W=e(47673),a=e(4107),T=e(88986);class Z extends u().Component{constructor(){super(...arguments);this.handleRadioChange=j=>{var L=this.props,R=L.formik,m=L.name,b=j.target,z=b.isOtherOption,ne=z===void 0?!1:z,ue=b.value;R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{hasOtherOption:ne,options:ue})}))},this.handleInputChange=j=>{var L=this.props,R=L.formik,m=L.name;R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{otherAnswer:j.target.value})}))}}render(){var j=this.props.defaultFieldList,L=j.options,R=j.solution;return u().createElement(D.ZP.Group,{onChange:this.handleRadioChange,value:R.options},L.map(m=>{var b=m.id,z=m.title,ne=m.other;return ne?u().createElement(D.ZP,{key:b,value:b,isOtherOption:!0},z,u().createElement(a.Z,{style:{marginLeft:10,width:210},value:R.otherAnswer,onChange:this.handleInputChange})):u().createElement(D.ZP,{key:b,value:b},z)}))}}var d=(0,S.$j)(Z);class E extends u().Component{constructor(){super(...arguments);this.handleChange=j=>{var L=this.props,R=L.formik,m=L.name;R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{options:j.target.value})}))}}render(){var j=this.props.defaultFieldList.solution;return u().createElement(a.Z,{value:j.options,onChange:this.handleChange})}}var X=(0,S.$j)(E);class k extends u().Component{constructor(){super(...arguments);this.handleChange=j=>{var L=this.props,R=L.formik,m=L.name;R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{options:j.target.value})}))}}render(){var j=this.props.defaultFieldList.solution;return u().createElement(a.Z.TextArea,{value:j.options,onChange:this.handleChange})}}var w=(0,S.$j)(k),Q=e(96433),p=e(33304),M=e(22385),C=e(31097),P=e(17264),c=e.n(P),f=a.Z.TextArea;class I extends u().Component{constructor(){super(...arguments);this.handleChange=(j,L)=>{var R=this.props,m=R.formik,b=R.name;m.setFieldValue(b,(0,T.Z)((0,T.Z)({},m.values[b]),{},{solution:(0,T.Z)((0,T.Z)({},m.values[b].solution),{},{[L]:j})}))}}render(){var j=this.props.defaultFieldList,L=j.solution,R=j.options,m=L.options?parseInt(L.options):0,b=this.props,z=b.question,ne=z.instruction,ue=z.instruction_must,ee=z.must,ve=b.t;return u().createElement("div",null,u().createElement("div",{className:c()["score-box"]},u().createElement(C.Z,{title:R[0].title},u().createElement("div",{className:c()["score-title"]},R[0].title)),u().createElement("div",{className:c()["score-rate"]},u().createElement(p.Z,{value:m,count:R.length,onChange:ge=>{this.handleChange(ge,"options")},tooltips:R.map(ge=>ge.title)})),u().createElement(C.Z,{title:R[R.length-1].title},u().createElement("div",{className:c()["score-title"]},R[R.length-1].title))),ne&&u().createElement(f,{rows:5,maxLength:300,onChange:ge=>{this.handleChange(ge.target.value,"instruction_content")},placeholder:"".concat(ve("learning.scoringExplanation")).concat(ee&&ue?"\uFF08".concat(ve("learning.required"),"\uFF09"):"")}))}}var y=(0,V.Z)()((0,S.$j)(I)),x=e(63185),N=e(9676);class v extends u().Component{constructor(){super(...arguments);this.handleCheckboxChange=j=>{var L=this.props,R=L.formik,m=L.name,b=R.values[m].options.find(ne=>ne.other),z=b?b.id:"";R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{hasOtherOption:j.indexOf(z)>-1,options:j.join(",")})}))},this.handleInputChange=j=>{var L=this.props,R=L.formik,m=L.name;R.setFieldValue(m,(0,T.Z)((0,T.Z)({},R.values[m]),{},{solution:(0,T.Z)((0,T.Z)({},R.values[m].solution),{},{otherAnswer:j.target.value})}))}}render(){var j=this.props.defaultFieldList,L=j.options,R=j.solution,m=[];return L.map(b=>{var z=b.id,ne=b.title,ue=b.other,ee=ue===void 0?!1:ue,ve=ee?u().createElement(u().Fragment,null,ne,u().createElement(a.Z,{style:{marginLeft:10,width:210},value:R.otherAnswer,onChange:this.handleInputChange})):ne;m.push({label:ve,value:z,other:ee})}),u().createElement(N.Z.Group,{options:m,value:R.options.split(","),onChange:this.handleCheckboxChange})}}var B=(0,S.$j)(v),$=e(43859),A=(0,$.Z)(d),H=(0,$.Z)(X),te=(0,$.Z)(w),_e=(0,$.Z)(y),fe=(0,$.Z)(B),le=e(3407),he=e(6793),J=(0,he.me)(),_=le.Z[J].learning.validation,F=de=>{var j,L=de.solution,R=de.isRequired,m=de.instruction,b=de.instruction_must,z=de.type,ne=L.hasOtherOption,ue=L.options,ee=L.otherAnswer,ve=L.instruction_content;return R&&((!ue.toString().length||ne&&!ee)&&(j=_.participateInInvestigate),z==="score"&&m&&b&&!ve&&(j=_.participateInInvestigate)),j},se=e(19256),Te=e.n(se);class me extends u().Component{constructor(){super(...arguments);this.handlePropsSubmit=()=>{var j=this.props.handleSubmit;j()},this.renderFooter=()=>{var j=this.props,L=j.isSubmitting,R=L===void 0?!1:L,m=j.onCancel,b=j.t;return u().createElement("footer",{className:"cl-form-fixed-footer"},u().createElement("div",{className:"cl-form-fixed-footer__container"},u().createElement(q.Z,{onClick:m},b("common.cancel")),u().createElement(q.Z,{type:"primary",loading:R,onClick:this.handlePropsSubmit},b("common.submit"))))},this.renderContent=()=>{var j=this.props,L=j.questions,R=j.title,m=j.description;return u().createElement(S.l0,{className:"cl-form"},u().createElement("h1",{className:"cl-form-htitle"},R),u().createElement("h4",{className:Te().investigatesDesc},m),L.map(b=>this.renderField(b)))},this.renderField=j=>{var L=this.props,R=L.values,m=L.t,b="".concat(j.type,"_").concat(j.id),z=R[b],ne=z.type,ue=z.isRequired,ee;switch(ne){case"single":ee=A;break;case"multiple":ee=fe;break;case"input":ee=H;break;case"textarea":ee=te;break;case"score":ee=_e;break;default:ee=null;break}if(!ee)return null;var ve=j.type==="single"?"\u3010".concat(m("learning.questionnaireAddToolSingle"),"\u3011"):j.type==="multiple"?"\u3010".concat(m("learning.questionnaireAddToolMul"),"\u3011"):"",ge="".concat(ve).concat(j.title);return u().createElement(S.gN,{key:b,component:ee,label:ge,required:ue,displayType:"Custom",name:b,defaultFieldList:z,validate:F,question:j})}}render(){var j=this.props.showFooter;return u().createElement(u().Fragment,null,j?this.renderFooter():null,this.renderContent())}}me.defaultProps={showFooter:!0};var Ee=(0,V.Z)()(me)},44970:function(Le,ce,e){"use strict";var ie=e(49111),q=e(19650),ae=e(96433),u=e(33304),V=e(22385),S=e(31097),g=e(88983),D=e(47933),W=e(63185),a=e(9676),T=e(47673),Z=e(4107),d=e(12924),E=e.n(d),X=e(91768),k=Z.Z.TextArea;class w extends E().Component{constructor(){super(...arguments);this.setQuestionValue=(p,M)=>{this.props.setQuestionValue(p,M)},this.renderQuestionItem=(p,M)=>{var C=!1,P=this.props,c=P.isPreview,f=P.t;return(p.type==="single"||p.type==="multiple")&&(C=p.options.find(I=>I.is_other==="true")),E().createElement("div",{key:M,className:"questionnaire-view-question"},E().createElement("div",{className:"questionnaire-view-question-title"},p.is_must==="true"?E().createElement("span",{className:"question-must-icon"},"*"):null,p.type==="single"?"\u3010".concat(f("learning.questionnaireAddToolSingle"),"\u3011"):p.type==="multiple"?"\u3010".concat(f("learning.questionnaireAddToolMul"),"\u3011"):null,p.title),p.type==="multiple"?E().createElement("div",{className:"questionnaire-view-question-option"},p.options.map((I,y)=>I.is_other==="true"?null:c?E().createElement(a.Z,{checked:p.answer.normal.indexOf(I.id)!==-1,disabled:c,key:y,className:"option-item"},E().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},I.title)):E().createElement(a.Z,{key:y,className:"option-item"},E().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},I.title))),C?c?E().createElement(a.Z,{disabled:c,checked:!!p.answer.other,className:"option-item"},f("learning.questionnaireAddQusOptionOther"),p.answer.other?E().createElement(Z.Z,{value:p.answer.other,disabled:c,className:"other-input"}):E().createElement(Z.Z,{disabled:c,className:"other-input"})):E().createElement(a.Z,{className:"option-item"},f("learning.questionnaireAddQusOptionOther"),E().createElement(Z.Z,{className:"other-input"})):null):null,p.type==="single"?E().createElement("div",{className:"questionnaire-view-question-option"},p.options.map((I,y)=>I.is_other==="true"?null:c?E().createElement(D.ZP,{disabled:c,key:y,checked:p.answer.normal.indexOf(I.id)!==-1,className:"option-item"},E().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},I.title)):E().createElement(D.ZP,{key:y,checked:y===p.value,onClick:()=>this.setQuestionValue(M,y),className:"option-item"},E().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},I.title))),C?c?E().createElement(D.ZP,{disabled:c,checked:!!p.answer.other,className:"option-item"},f("learning.questionnaireAddQusOptionOther"),p.answer.other?E().createElement(Z.Z,{value:p.answer.other,disabled:c,className:"other-input"}):E().createElement(Z.Z,{disabled:c,className:"other-input"})):E().createElement(D.ZP,{checked:p.value===-1,onClick:()=>this.setQuestionValue(M,-1),className:"option-item"},f("learning.questionnaireAddQusOptionOther"),E().createElement(Z.Z,{className:"other-input"})):null):null,p.type==="score"?E().createElement("div",{className:"questionnaire-view-question-score"},c?E().createElement(q.Z,{direction:"vertical"},E().createElement("div",{className:"questionnaire-view-question-score-box"},E().createElement(S.Z,{title:p.options[0].title},E().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[0].title)),E().createElement("div",{className:"questionnaire-view-question-score-rate"},E().createElement(u.Z,{disabled:!0,value:p.answer.normal[0],tooltips:p.options.map((I,y)=>E().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:y.toString},E().createElement("div",{className:"ellipsis"},I.title),E().createElement("div",null,f("learning.score"),"\uFF1A",I.score))),count:p.options.length})),E().createElement(S.Z,{title:p.options[p.options.length-1].title},E().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[p.options.length-1].title))),p.instruction==!0&&E().createElement(k,{disabled:!0,value:p.answer.instructionContent?p.answer.instructionContent:p.answer.instruction_content,className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(f("learning.scoringExplanation")).concat(p.must&&p.instruction_must?"\uFF08".concat(f("learning.required"),"\uFF09"):""),maxLength:300})):E().createElement(q.Z,{direction:"vertical"},E().createElement("div",{className:"questionnaire-view-question-score-box"},E().createElement(S.Z,{title:p.options[0].title},E().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[0].title)),E().createElement("div",{className:"questionnaire-view-question-score-rate"},E().createElement(u.Z,{tooltips:p.options.map((I,y)=>E().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:y.toString},E().createElement("div",null,I.title),E().createElement("div",null,f("learning.score"),"\uFF1A",I.score))),count:p.options.length})),E().createElement(S.Z,{title:p.options[p.options.length-1].title},E().createElement("div",{className:"questionnaire-view-question-score-title"},p.options[p.options.length-1].title))),p.instruction==!0&&E().createElement(k,{className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(f("learning.scoringExplanation")).concat(p.instruction_must?"\uFF08".concat(f("learning.required"),"\uFF09"):""),maxLength:300}))):null,p.type==="input"?E().createElement("div",{className:"questionnaire-view-question-input"},p.is_multiple_rows==="1"||p.is_multiple_rows==="true"?E().createElement(k,{rows:3,value:c?p.answer.normal[0]:"",disabled:c}):E().createElement(Z.Z,{value:c?p.answer.normal[0]:"",disabled:c})):null)}}render(){var p=this.props.questionnaireInfo;return E().createElement("div",null,E().createElement("div",{className:"questionnaire-view-title"},p.title),E().createElement("div",{className:"questionnaire-view-desc"},p.description),E().createElement("div",{className:"questionnaire-view-list"},p.questions.map((M,C)=>this.renderQuestionItem(M,C))))}}ce.Z=(0,X.Z)()(w)},70517:function(Le,ce,e){"use strict";e.d(ce,{ZG:function(){return g},v8:function(){return D},Yv:function(){return W},$v:function(){return a},yW:function(){return T}});var ie=e(57361),q=e(9754),ae=e.n(q),u=e(91302),V=e(10237),S=e(37055),g=Z=>{var d=!1;return u.ch.forEach(E=>{(Z||"").indexOf(E)!==-1&&(d=!0)}),d},D=function(){var Z=(0,ie.Z)(ae().mark(function d(){var E;return ae().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return E=S.ZP.LibraryList.checkMemberUserBinding(),k.abrupt("return",V.WY.get({url:E,params:{source_type:"lai_hua"}}));case 2:case"end":return k.stop()}},d)}));return function(){return Z.apply(this,arguments)}}(),W=function(){var Z=(0,ie.Z)(ae().mark(function d(E){var X,k,w,Q;return ae().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return X=S.ZP.LibraryList.thirdEditorUrl(),M.next=3,V.WY.get({url:X,params:{source_type:"lai_hua",route_type:E}});case 3:k=M.sent,w=k.data,Q=k.success,Q==="true"&&window.open(w.url,"_blank");case 7:case"end":return M.stop()}},d)}));return function(E){return Z.apply(this,arguments)}}(),a=()=>{localStorage.setItem("openedMemberModal","true")},T=Z=>{var d=S.ZP.LibraryList.addTrialMemberBinding();return V.WY.get({url:d,params:{source_type:"lai_hua",route_type:Z}})}},56932:function(Le){Le.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAhkSURBVHjavJlbbFzFGcd/M+ec3bN71rtex3ac2LkQOy0JudBCCiYJQUKtKkGLipB46VNLeSIVoEptVdqK0oc+QURQWwWkPkeiLQgoD0C4hMaYBGhCcRuIgwlx7NjreL03n90zZ6YPJw6O48supvlLq32Zme8/33z3I0ZGRqgX2kDSNjS7IRiSw2V792DB6T1Tsr9x3rfWFmpypR8KD8C1TCUd06Mr3fDM2pT6oDsd9HV66jCCSt63qCiBFHWLRtRDNDTg2YbmZEhh2up9e9T98ZEx9/sfTcbazlUsSkG0bq5gbaL/lAOrkyFbsrXx3nb/hd0d/jNNibAvX7EoK4EllknUGBACOjxFTckdfx/yfvv8Z8k7Tkw6KA3ZGHiOXlJQaKAcSCZr4EjYmg24a13lxR+sL/8uZuujo2X7kqyGiYYGUrYhk1QcHUk8vn8g/VDfWIyUDW0JjQQMjUEAGhiflpQU9LbX2Lu58MSOVdMPT1VsSotod16ioRGsiIe4ju4+MJD+21MD6W2hgS5PI0SkaQPUQohZXCKtDfgKplX0LwWkYtAUi0jOXGzmjLNliSXggc2FE/dvLtztB3JwomphCbM00dBAmxsiBb2PHGt55eDphNfpGdKOIby435IwHUTExitQ0xGphA0dHqxOQVtSEGj4NG84eQGybvRT+gtZloBCIBguC+7dMF3+/Y0XvqMNR8Z96wrNXkY0NLAirrGluenBvtZ3Xvo8Tnda48gvHAOgUIU1aXjsVkn/OcOneViXga+1QE9W0J6ctbYGLw8a9h2NLtqa4NKFZxww0DBYkNyxpsq+3tzNSov+iaq8jOwlogZIWoaMG3b9or918OBpN7YxM78tns7DL3sFP9pWf3x5bxTue1mTiUPcmt92P5mS3LvBr/3hplz3lG+drYSCGQly9uJMUvH0QOb1g6fdWE/azEvSmMgue7KNOdINHXBnt+DjC2DLOWdeJNKTNhw87caeHsi8nkkqZqtBzjx5h6d4dyTx5P6Bpp5Oz2BJs6BXaxM5TKPYe6NgaxuMla8MRQawpKHTM+wfaOp5dyTxZIenLpmJhCiYV5XY9NRAZm9oIO0YzAIsDZFGs3HRMNH2JPz6FkExuNzmZ7/WjNM+NZDZW1Vik2dHC6U20JxUPDfk/alvzKHL05cZ+1zkq7ClDW5cxZfCrjWCTSugWF04OXR5mr4xh+eGvD83JxXagEzahsK0vf35z1J7UjYspadSDa5taSxPz8XGLBRriyeGlA3Pf5a6tTBtb0/aBtnshrw96j704aRNm6uXzDbaQLPLstDhRTF2wdQNtLmaDydt3h51H2p2QySG2JGx+D2BBinrS4OhXh7RuL10/pUyiq9HxuL3YIjJ4bKz56PJuJeNsaADzYYtYaRklkW0UF28AJlxrGwMPpqMe8NlZ48cLNi3natYeE59wmMWnC02XpDMxskLhoSz9DrPMZyrWAwW7NvkmZKzrRQwbyEw3y0DDd/dIJal0e3tgiBcep0lDKUAzpScbfL8tFxfrwBzkeym1qWjw2K4dkVUedWL89NyvSwEsrXeUCNFJODYyPKc6ejIlWl0MZmFQLbKaiiSjQhpTcKzJw3V8MuRPF+GF0+ZyyqspVANRVI2Kqg5DiNF+NkhPW8aXAzlAB58VVMNIek0tlfGLVNpZIM2sLoJnvsE3j/fGNM3zhgOnYkK67CBrXHLVGTa0blGNGMuVuYJO3rCRvCPQUNbor54PVsxaUfn5MqEHmr0+Q3Q1QR/PQknxuqT+sqQ4bWhSJuNxuCVCT0k16aCEyknaugagWtFwX/vq4aPLyy+9l/nDT9/3ZB1o36rXoRGkHJgbSo4IbvT6o3VyZBy0BjRqNiO2pI/frCwji5Mw8OHDIGGlgQNOWA5EKxOhnSn1Ruy0wvevC5bLU/Wls6/c6E0ZOIsOoCo6ojc3A50yeJHwGQNrstWy51e8KZEULulvfqsI0E3WBVZAsq1K5u1ueHMllANG8tmWkdTlVvaq88iqMm8b7Grw39ia1Yx7su6DhMicogzhSj3375IEk7YsGeN4OOJqDsQLE1YAOO+ZGtWsavDfyLvW8iKEqQT6vhd60pvlRSLNnQVFWWWUxdguAgbW+AvdwhuX7e46Ed2Ch7dLfAc+HQqsutcJdKyWSCqlBTcta70VjqhjleUiPp61zIkbL3pJ4fbB97LOaxLRZW+0jAxHbUfcRtWerA+A1taBTtWwc6uxow6X4V/njUcH4P/ThiGpiLC4UUbbnYjcxoqSm5oDTiwe2yzr+R//PAi0dBAZ0rx7nn3yfsOt+5tcQ0qNExVo378ho6ozf16i2BViq8MQ1MwkDOcGIP+kSjMZVxBRQkO7Mrt/9ZK/6fDJRtLzBnpdDQFPP3v5k9+daypZ0OT5rHdgm9fI7gaqCjYf8zw2DuCx3uLp+7fkt84WnQWGenEw64fvrZi8OZrErEHrueq48Axv3Z3V67HsazPZ490rhiSZRxNsWZuSre0veO5savLMqxhSuM3T/iiv6ovH5LJuXFxKpAkbPprhfGdvu9XrhZH3/crw6PjO0fL9Ctz5dhRzhfEq8ZmWokjuVxuW7FYPP7/JlksFk/kcrntQogj0pq/l5bzN3EGKSWWZQ3m8/nrJyYm9gVB8JUTDIKAiYmJffl8frtlWaeklJgFasC6vooopZBS7vA87zee591p2/ayCCqlKJfLL5XL5Ue11kfrOU/U+53JGINSCtu2e13Xvc913e/F4/E2Keur27TWVKvVcd/3X/B9/xmlVJ9t24g6KyHRyAexGcJhGAIkbdve7ThOr+M437Qsa41lWR1CRM2iMaYShuFoGIafB0HwfhAEfUqpw0DFsqy6Cc7gfwMAF5nrFJBUDSgAAAAASUVORK5CYII="}}]);
