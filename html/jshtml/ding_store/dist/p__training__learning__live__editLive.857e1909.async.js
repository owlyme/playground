(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6556],{11110:function(ue,z,a){"use strict";var F=a(88986),y=a(12924),m=a.n(y),j=a(28216),k=a(38642);class r extends m().Component{constructor(v){super(v);this.initMessage=()=>{var I=localStorage.getItem("appType");this.removeScript(),((S,V,B,K)=>{S[B]=function(){S.cbk=S.cbk||[],S.cbk.push(arguments)},K=V.createElement("script"),K.async=!0,K.id="zhichiScript",K.className=this.props.activeBtn||"zhiCustomBtn",K.src="https://kuxueyuan.sobot.com/chat/frame/v2/entrance.js?sysnum=98a88d91298542da9ca5a7c2a2bc89ba",V.body.appendChild(K)})(window,document,"zc");var L=4;switch(I){case"e_app":L=1;break;case"wx_app":L=2;break;case"fs_app":L=3;break;default:break}zc("config",(0,F.Z)({robotid:L,custom:!0},this.state.messageParams)),zc("dynamic_ready")},this.removeScript=()=>{var I=document.querySelector("#zhichiScript");I&&I.parentNode.removeChild(I);var L=document.querySelector("#zc__sdk__container");L&&L.parentNode.removeChild(L);var S=document.querySelector("#zc__wapper__shadow");S&&S.parentNode.removeChild(S);var V=document.querySelector("#zc__bubble_container");V&&V.parentNode.removeChild(V)},this.state={messageParams:{uname:v.user.name,realname:"".concat(v.user.enterpriseName,"--").concat(v.user.name),face:v.user.avatar,title_flag:v.user.enterpriseName,tel:v.user.mobile,is_vip:v.user.isVip,color:localStorage.getItem("themeColor")&&localStorage.getItem("themeColor").split("#")[1]||"516AE6"}},this.props.onRef(this)}componentDidMount(){this.setState({},()=>{this.initMessage()}),(0,k.UI)("SCALE")&&(window.onmessage=v=>{v.data==='{"name":"init"}'&&v.origin==="https://kuxueyuan.sobot.com"&&(document.getElementById("zc__sdk__container").style.zoom=(0,k.uN)(.8).zoom)})}componentWillUnmount(){this.removeScript()}render(){return null}}z.Z=(0,j.$j)(t=>({user:t.user}))(r)},34522:function(ue,z,a){"use strict";var F=a(88986),y=a(57361),m=a(9754),j=a.n(m),k=a(12924),r=a.n(k),t=a(28216),v=a(80991),I=a(43859),L=a(84874),S=a(31151),V=a(60667);class B extends r().Component{constructor(e){var s;super(e);s=this,this.onSelectTeacher=function(){var T=(0,y.Z)(j().mark(function g(M){var w,Q,G,$,l;return j().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(w=s.props,Q=w.onHiddenDialog,G=w.onFieldChange,$=w.beforeSelected,!$){P.next=7;break}return P.next=4,$(M);case 4:if(l=P.sent,l){P.next=7;break}return P.abrupt("return");case 7:Q&&Q(),s.setState({teacherSelectorVisible:!1}),G&&G((0,F.Z)((0,F.Z)({},M),{},{name:M.lecturer_name,lecturer_name:M.lecturer_name,type:M.teacher_sync_type,lecturer_sync_user_id:M.teacher_sync_user_id,lecturer_source_type:M.teacher_sync_source_type}));case 10:case"end":return P.stop()}},g)}));return function(g){return T.apply(this,arguments)}}(),this.onCancelSelectTeacher=()=>{var T=this.props.onHiddenDialog;T&&T(),this.setState({teacherSelectorVisible:!1})},this.onCancelSelected=()=>{var T=this.props.onFieldChange;T&&T("")},this.onShowSelectTeacher=()=>{var T=this.props.onShowDialog;T&&T(),this.setState({teacherSelectorVisible:!0})},this.state={teacherSelectorVisible:!1}}render(){var e=this.state.teacherSelectorVisible,s=this.props.value,T=this.props,g=T.disabled,M=T.canCancel,w=T.isInternal,Q=localStorage.getItem("themeColor")||"#516AE6";return r().createElement("div",{className:"offline-train-form-teacher"},s.name?M&&!g?r().createElement("span",{className:"teacher_name_with_delete",style:{color:Q},onClick:this.onCancelSelected},r().createElement("span",{className:"teacher_name"},s.type==="inside"?r().createElement(V.Z,{dataType:"userName",value:s.lecturer_sync_user_id,name:s.lecturer_name||s.name,type:s.lecturer_source_type}):s.name),r().createElement("span",{className:"icon_container"},r().createElement(L.Z,{iconClass:"icon-f-close",size:"10px"}))):r().createElement("span",{className:"offline-train-form-teacher_name",style:{color:Q}},s.type==="inside"?r().createElement(V.Z,{dataType:"userName",value:s.lecturer_sync_user_id,name:s.lecturer_name||s.name,type:s.lecturer_source_type}):s.name):null,g?r().createElement("span",{className:"add-teacher-btn add-teacher-btn-disabled"},r().createElement(L.Z,{iconClass:"iconf-add-man"})):r().createElement("span",{className:"add-teacher-btn add-teacher-btn_able",style:{color:Q,borderColor:Q},onClick:this.onShowSelectTeacher},r().createElement(L.Z,{iconClass:"iconf-add-man"})),r().createElement(S.Z,{visible:e,selected:s,isInternal:w,onOk:this.onSelectTeacher,onCancel:this.onCancelSelectTeacher}),w&&r().createElement("span",{className:"internal-teacher-tip",style:{marginLeft:"20px"}},this.props.t("live.onlyInner")))}}B.defaultProps={value:void 0,disabled:!1,canCancel:!1,isInternal:!1};var K=Y=>{var e=Y.user;return{user:e}};z.Z=(0,t.$j)(K)((0,I.Z)((0,v.$j)(B)))},65893:function(ue,z,a){"use strict";var F=a(62029),y=a(36017),m=a(35247),j=a(81211),k=a(12924),r=a.n(k),t=a(91768),v=a(76651),I=a(66380),L=a.n(I),S=a(84874),V=B=>{var K=B.current,Y=B.onBackFun,e=B.list,s=(0,j.Z)(B,["current","onBackFun","list"]),T=()=>{typeof Y=="function"?Y():v.m8.go(-1)},g=(M,w)=>{M.linkToPath&&typeof M.linkToPath=="function"?M.linkToPath():v.m8.push(M.path)};return r().createElement("div",(0,F.Z)({className:L()["breadcrumb-router-box"]},s),r().createElement(m.Z,null,r().createElement("span",{className:L()["back-router"],onClick:T},r().createElement(S.Z,{iconClass:"icon-fanhui",size:"14px"})),e.map((M,w)=>r().createElement(m.Z.Item,{key:"Breadcrumb__".concat(w)},K==M.path?M.name:r().createElement("span",{className:L()["cl-pointer-menu"],onClick:g.bind(void 0,M)},M.name)))))};V.defaultProps={current:"",list:[]},z.Z=(0,t.Z)()(V)},72538:function(ue,z,a){"use strict";a.d(z,{I4:function(){return F},K5:function(){return m}});var F={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},y={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:24},sm:{span:24}}},m={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},j={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:18,offset:3}}}},17381:function(ue,z,a){"use strict";a.d(z,{Xs:function(){return j},fV:function(){return k},_w:function(){return r},G5:function(){return t},g2:function(){return v},uy:function(){return I},il:function(){return L},y2:function(){return S},$k:function(){return B},gm:function(){return Y},C:function(){return e},Wl:function(){return s},ZS:function(){return T},XZ:function(){return g},LI:function(){return M},fR:function(){return Q},Pt:function(){return G}});var F=a(37055),y=a(10237),m=a(5430);function j(l){var C=l.login_mobile,P=l.verification_code,A=l.password,H=l.encrypt,Z=F.ZP.Login.clResetPassword();return y.WY.post({url:Z,data:{login_mobile:C,verification_code:P,password:A,encrypt:H}})}function k(){var l=F.ZP.points.getPointsCategory();return y.WY.get({url:l})}function r(l){var C=l.login_mobile,P=l.verification_code,A=l.password,H=l.encrypt,Z=F.ZP.Login.bindUserAccount();return y.WY.post({url:Z,data:{login_mobile:C,verification_code:P,password:A,encrypt:H}})}function t(l){var C=l.action_type,P=l.login_mobile,A=F.ZP.Login.bindSendVerification();return y.WY.post({url:A,data:{action_type:C,login_mobile:P}})}function v(l){var C=l.action_type,P=l.login_mobile,A=l.enterpriseId,H=F.ZP.Login.clSendVerification();return y.WY.post({url:H,data:{action_type:C,login_mobile:P,enterprise_id:A}})}function I(l){var C=F.ZP.advancedSetting.identityQuery();return y.WY.get({url:C,params:l})}function L(l){var C=F.ZP.advancedSetting.saveIdentity();return y.WY.post({url:C,data:l})}function S(l){var C=F.ZP.advancedSetting.isShowAuth();return y.WY.get({url:C,data:l})}function V(l){return request.get({url:CONFIG.lineClass.getOfflineCourseBasicById(l)})}function B(l){return y.WY.get({url:F.ZP.lineClassStudy.coursesInfo(l)})}function K(l,C){return request.get({url:CONFIG.lineClassStudy.getAttendanceInfo(l),params:{type:C}})}function Y(l){return y.WY.get({url:F.ZP.lineClassStudy.getStuAttendanceInfo(l),params:{}})}function e(l){var C=F.ZP.learn.getShowLearnStatus(l);return y.WY.get({url:C})}function s(l){var C=l.examId,P=l.taskId,A=m.OB.examData.examTaskInfo(C);return y.WY.get({url:A,params:{task_id:P}})}function T(l){var C=m.OB.examData.getExamsTaskList();return y.WY.get({url:C,params:l})}function g(l,C){var P=m.OB.examData.checkStatus(l);return y.WY.get({url:P,params:{task_id:C}})}function M(){var l=F.ZP.lineClass.whetherLecture();return y.WY.get({url:l})}function w(){var l=TRAINING_PROJECT_LIST.personal.list();return request.get({url:l})}function Q(l){var C=l.startTime,P=l.endTime,A=l.excludeSelf,H=A===void 0?!1:A,Z=l.pageNumber,X=l.pageSize,pe=F.ZP.Personal.exportMyScore();return y.WY.get({url:pe,params:{startTime:C,endTime:P,excludeSelf:H,pageNumber:Z,pageSize:X}})}function G(l,C){var P=C.begin_time,A=C.end_time,H=C.page_number,Z=C.page_size,X=C.integral_type,pe=F.ZP.points.getUserPointsDetail(l);return y.WY.get({url:pe,params:{begin_time:P,end_time:A,page_number:H,page_size:Z,integral_type:X}})}function $(l){var C=l.integral_type,P=l.update_reason,A=l.begin_time,H=l.end_time,Z=CONFIG.points.exportPointsDetail();return request.post({url:Z,params:{integral_type:C,update_reason:P,begin_time:A,end_time:H}})}},90365:function(ue,z,a){"use strict";var F=a(71194),y=a(57016),m=a(57663),j=a(71577),k=a(12924),r=a.n(k),t=a(91768),v=a(11110),I=L=>{var S=L.t,V=L.visible,B=L.type,K=L.edit,Y=e=>{e?L.addAction(K):L.cancelAction()};return r().createElement(r().Fragment,null,r().createElement(y.Z,{className:"edit_live",visible:V,maskClosable:!1,onCancel:()=>Y(!1),footer:null},r().createElement("div",{className:"edit_live-warning"},r().createElement("div",{className:"edit_live-warning-icons"},"!"),r().createElement("div",{className:"edit_live-warning-title"},B==="no_check_allow"?S("live.hasOverman"):B==="no_live_course"?S("live.hasNoDingTalk"):"")),r().createElement("div",{className:"edit_live-warning-content"},B==="no_check_allow"?S("live.hasOvermanDescribe"):B==="no_live_course"?S("live.hasNoDingTalkDesc"):""),r().createElement("div",{className:"edit_live-button"},r().createElement(j.Z,{className:"form-page-container-bottom-btn",onClick:()=>Y(!1)},B==="no_check_allow"?S("common.cancel"):B==="no_live_course"?S("common.unactivated"):""),B==="no_check_allow"?r().createElement(j.Z,{type:"primary",onClick:()=>Y(!0)},S("common.continue")):null,B==="no_live_course"?r().createElement("div",null,r().createElement(j.Z,{type:"primary",className:"recharge"},S("live.goPay")),r().createElement(v.Z,{onRef:e=>{var s=e},options:{type:1},activeBtn:"recharge"})):null)))};z.Z=(0,t.Z)()(I)},81150:function(ue,z,a){"use strict";a.d(z,{fL:function(){return at},aV:function(){return nt},n5:function(){return et},kz:function(){return qe},lR:function(){return lt},JD:function(){return tt}});var F=a(77576),y=a(59314),m=a(62029),j=a(43358),k=a(34041),r=a(12924),t=a.n(r),v=a(91768),I=a(80991),L=a(78140),S=k.Z.Option,V=n=>{var i=n.t,c=n.defaultFieldList,o=n.formik,d=n.disabled,h=p=>{o.setFieldValue("remindTime",{open:p,time:c.time})},O=p=>{o.setFieldValue("remindTime",{open:c.open,time:p})};return t().createElement(t().Fragment,null,t().createElement(y.Z,(0,m.Z)({},c.open,{disabled:d,onChange:h,defaultChecked:c.open,style:{marginRight:15}})),c.open&&t().createElement(t().Fragment,null,t().createElement(k.Z,{className:"cl-search-normal-width",placeholder:i("course.chooseStatus"),onChange:O,disabled:d,style:{marginRight:"10px"},value:c.time},L.$2.map(p=>t().createElement(S,{key:p.value,value:p.value},i(p.label))))),t().createElement("span",{className:"remindTip"},i("live.startRemind")))},B=(0,v.Z)()((0,I.$j)(V)),K=a(39002),Y=a(68351);class e extends t().Component{render(){var i=(0,m.Z)({},this.props);return t().createElement(Y.Z,i)}}var s=(0,v.Z)()(e),T=a(47673),g=a(4107),M=a(47166),w=a.n(M),Q=a(64018),G=a.n(Q),$=w().bind(G()),l=n=>{var i=n.t,c=n.switchProps,o=n.inputProps,d=n.defaultFieldList,h=n.formik,O=n.disabled,p=n.style,q=le=>{h.setFieldValue("ddGroup",{switchValue:le,groupName:d.groupName})},ce=le=>{h.setFieldValue("ddGroup",{switchValue:d.switchValue,groupName:le.target.value})};return t().createElement("div",{className:$("create-dd-group")},t().createElement("div",{className:$("select-part")},t().createElement(y.Z,(0,m.Z)({disabled:O},c,{onChange:q,style:{marginRight:15},defaultChecked:d.switchValue})),t().createElement("span",{className:"dingGroupTip"},i("ddLive.dingGroupInfo"))),d.switchValue&&t().createElement("div",{className:$("select-content")},t().createElement("div",{className:$("create-item")},t().createElement("div",{className:$("label")},i("ddLive.dingGroupName")),t().createElement("div",{className:$("content")},t().createElement(g.Z,(0,m.Z)({disabled:O,placeholder:i("live.inputGroutName")},o,{onChange:ce,value:d.groupName,style:p}))))))},C=(0,v.Z)()((0,I.$j)(l)),P=a(88983),A=a(47933),H=n=>{var i=n.t,c=n.formik,o=n.defaultValue,d=h=>{c.setFieldValue("studyType",h.target.value)};return t().createElement(t().Fragment,null,t().createElement(A.ZP.Group,{onChange:d,value:o},t().createElement(A.ZP,{value:""},i("course.courseStudyTypeDefault")),t().createElement(A.ZP,{value:"requiredCourse"},i("course.courseStudyTypeTrue")),t().createElement(A.ZP,{value:"notRequiredCourse"},i("course.courseStudyTypeFalse"))))},Z=(0,v.Z)()((0,I.$j)(H)),X=a(71194),pe=a(57016),Ve=a(43185),Me=a(53251),ke=a(34792),ie=a(48086),ne=a(33565),fe=a(96486),Ee=a(37055),Ae={upload:Ee.ZP.Common.upload},Be=n=>{var i=n.t,c=n.formik,o=n.defaultValue,d=n.disabled,h=o?[{uid:"-1",name:"default",url:o,status:"done"}]:[],O=(0,r.useState)(h),p=(0,ne.Z)(O,2),q=p[0],ce=p[1],le=(0,r.useState)(!1),oe=(0,ne.Z)(le,2),_e=oe[0],J=oe[1],Te=(0,r.useState)(o),ge=(0,ne.Z)(Te,2),be=ge[0],ye=ge[1],he=E=>{var ee=["jpeg","jpg","png"],ae=E.type.split("/").pop(),Ie=ee.indexOf(ae.toLocaleLowerCase())>-1;Ie||ie.default.error(i("setting.uploadImgTip"));var Se=E.size/1024/1024<1;return Se||ie.default.error(i("ddLive.imgSizeLimit")),Ie&&Se},Ce=E=>{var ee=E.file,ae=E.fileList;if(ae.length!==0){if(ae.length>1&&ae.splice(0,1),!he(ee))return;ee.status==="done"?(ie.default.success("".concat(E.file.name," ").concat(i("course.courseDetailCoverSuccess"))),c.setFieldValue("picIntroductionUrl","".concat(ee.response.data.server,"/").concat(ee.response.data.fileNewName))):ee.status==="error"&&ie.default.error("".concat(E.file.name," ").concat(i("course.courseDetailCoverFailure")))}ce((0,fe.cloneDeep)(ae))},Pe=E=>{ye(E.thumbUrl||E.url),J(!0)},De=()=>{J(!1)},Oe=()=>{c.setFieldValue("picIntroductionUrl","")},Le={name:"file",accept:"image/*",action:Ae.upload(),data:{access_token:localStorage.token},fileList:q,onChange:Ce,onPreview:Pe,onRemove:Oe};return t().createElement(t().Fragment,null,t().createElement(Me.Z,(0,m.Z)({className:"image-desc"},Le,{beforeUpload:he,listType:"picture-card",disabled:d,size:{value:1,unit:"MB"},maxCount:1}),(0,fe.isEmpty)(q)?t().createElement("div",null,t().createElement("div",{style:{fontSize:"30px"}},"+")):null),t().createElement("div",{style:{position:"absolute",left:120,top:70,color:"rgba(0,0,0,0.25)"}},i("ddLive.imgLimit")),t().createElement(pe.Z,{visible:_e,title:i("ddLive.previewImg"),footer:null,onCancel:De},t().createElement("img",{alt:"example",style:{width:"100%"},src:be})))},Ue=(0,v.Z)()((0,I.$j)(Be)),Ke={upload:Ee.ZP.Common.upload},Ze=n=>{var i=n.t,c=n.formik,o=n.defaultValue,d=n.disabled,h=o?[{uid:"-1",name:"default",url:o,status:"done"}]:[],O=(0,r.useState)(h),p=(0,ne.Z)(O,2),q=p[0],ce=p[1],le=(0,r.useState)(!1),oe=(0,ne.Z)(le,2),_e=oe[0],J=oe[1],Te=(0,r.useState)(o),ge=(0,ne.Z)(Te,2),be=ge[0],ye=ge[1],he=E=>{var ee=["jpeg","jpg","png"],ae=E.type.split("/").pop(),Ie=ee.indexOf(ae.toLocaleLowerCase())>-1;Ie||ie.default.error(i("setting.uploadImgTip"));var Se=E.size/1024/1024<1;return Se||ie.default.error(i("ddLive.imgSizeLimit")),Ie&&Se},Ce=E=>{var ee=E.file,ae=E.fileList;if(ae.length!==0){if(ae.length>1&&ae.splice(0,1),!he(ee))return;ee.status==="done"?(ie.default.success("".concat(E.file.name," ").concat(i("course.courseDetailCoverSuccess"))),c.setFieldValue("splashImg","".concat(ee.response.data.server,"/").concat(ee.response.data.fileNewName))):ee.status==="error"&&ie.default.error("".concat(E.file.name," ").concat(i("course.courseDetailCoverFailure")))}ce((0,fe.cloneDeep)(ae))},Pe=E=>{ye(E.thumbUrl||E.url),J(!0)},De=()=>{J(!1)},Oe=()=>{c.setFieldValue("splashImg","")},Le={name:"file",accept:"image/*",action:Ke.upload(),data:{access_token:localStorage.token},fileList:q,onChange:Ce,onPreview:Pe,onRemove:Oe};return t().createElement(t().Fragment,null,t().createElement(Me.Z,(0,m.Z)({className:"image-desc"},Le,{beforeUpload:he,listType:"picture-card",disabled:d,size:{value:1,unit:"MB"},maxCount:1}),(0,fe.isEmpty)(q)?t().createElement("div",null,t().createElement("div",{style:{fontSize:"30px"}},"+")):null),t().createElement("div",{style:{position:"absolute",left:120,top:70,color:"rgba(0,0,0,0.25)"}},i("ddLive.imgLimit")),t().createElement(pe.Z,{visible:_e,title:i("ddLive.previewImg"),footer:null,onCancel:De},t().createElement("img",{alt:"example",style:{width:"100%"},src:be})))},Ne=(0,v.Z)()((0,I.$j)(Ze)),x=a(77883),_=a(21888),f=a(63185),b=a(9676),u=n=>{var i=n.t,c=n.formik,o=n.defaultValue,d=O=>{c.setFieldValue("studyLimit.score",O)},h=O=>{var p=O.target.checked;c.setFieldValue("studyLimit",{checked:p,score:o.score})};return t().createElement(t().Fragment,null,t().createElement("span",null,t().createElement(b.Z,{onChange:h,checked:o.checked}),t().createElement(_.Z,{min:1,max:100,style:{margin:"0 10px"},value:o.score===0?90:o.score,disabled:!o.checked,onChange:d}),t().createElement("span",null,"%"),t().createElement("span",{className:"info-part"},i("ddLive.watchInfo"))))},D=(0,v.Z)()((0,I.$j)(u)),N=k.Z.Option,U=n=>{var i=n.t,c=n.formik,o=n.prefixCls,d=n.defaultValue,h=n.disabled,O=p=>{c.setFieldValue("liveType",p)};return t().createElement(t().Fragment,null,t().createElement(k.Z,{defaultValue:d,style:{width:180},className:"".concat(o,"__select"),disabled:h,onChange:O},(0,L.ZT)().map(p=>t().createElement(N,{key:p.value,value:p.value},i(p.label)))))},re=(0,v.Z)()((0,I.$j)(U)),Re=n=>{var i=n.t,c=n.defaultValue,o=n.formik,d=n.disabled,h=O=>{o.setFieldValue("makePublic",O)};return t().createElement(t().Fragment,null,t().createElement(y.Z,{disabled:d,onChange:h,defaultChecked:c,style:{marginRight:15}}),t().createElement("span",{className:"makePublicTip"},i("live.makePublicTip")))},de=(0,v.Z)()((0,I.$j)(Re)),me=n=>{var i=n.t,c=n.formik,o=n.value,d=n.liveTemplateOptions,h=n.disabled,O=p=>{c.setFieldValue("scene",p.target.value)};return t().createElement(t().Fragment,null,t().createElement(A.ZP.Group,{onChange:O,disabled:h,value:o},d.map(p=>t().createElement(A.ZP,{key:p.value,value:p.value},i(p.label)))))},Fe=(0,v.Z)()((0,I.$j)(me)),R=a(58024),se=a(39144),W=a(79508);class ve extends t().Component{constructor(i){super(i);this.setTrainingScene=(c,o)=>{var d=this.props,h=d.formik,O=d.disabled;if(O)return!1;var p=this.state.listCard;p.map(q=>{q.key==o.key?q.active=!0:q.active=!1}),this.setState({listCard:p}),h.setFieldValue("makePublic",o.key===2)},this.state={listCard:L.z2}}componentDidMount(){var i=this.props,c=i.sceneType,o=i.value;L.z2.map(d=>{c==="Live"&&o===!1&&d.key===1||c==="Live"&&o===!0&&d.key===2||c==="meeting"&&d.key===3?d.active=!0:d.active=!1}),c==="Live"?this.setState({listCard:L.z2.filter(d=>d.key<3)}):c==="meeting"&&this.setState({listCard:L.z2.filter(d=>d.key>=3)})}render(){var i=this.state.listCard,c=this.props,o=c.disabled,d=c.t;return t().createElement(t().Fragment,null,t().createElement("div",{className:"training-scena"},i.map((h,O)=>t().createElement(se.Z,{className:"training-scena_item ".concat(h.active?o?"active_disabled":"active":o?"disabled":""),key:O,onClick:p=>this.setTrainingScene(p,h)},t().createElement("p",{className:"training-scena_item_title ".concat(h.active?o?"active-item_disabled":"active-item":o?"active-item_disabled":"")},d(h.title)),t().createElement("p",{className:"training-scena_item_desc ".concat(h.active?o?"active-item_disabled":"active-item":o?"active-item_disabled":"")},d(h.describe)),t().createElement("div",{className:"".concat(h.active?o?"active-right_disabled":"active-right":"")},h.active&&t().createElement(W.Z,{style:{fontSize:"12px"}}))))))}}var we=(0,v.Z)()((0,I.$j)(ve)),We=a(91302),xe=a(11110),je=k.Z.Option,ze=n=>{var i=n.t,c=n.formik,o=n.prefixCls,d=n.defaultValue,h=n.polyWeiLiveConfig,O=n.recordList,p=n.scene,q=n.disabled,ce=n.defaultMember,le=ce===void 0?"":ce,oe=n.showTextDescription,_e=oe===void 0?!0:oe,J=localStorage.getItem("themeColor")||"#516AE6",Te=E=>{Ce(E.target.value),c.setFieldValue("liveType",E.target.value)},ge=E=>{Le(We.mY[E]),c.setFieldValue("memberCardType",E)},be=(0,r.useState)(d),ye=(0,ne.Z)(be,2),he=ye[0],Ce=ye[1],Pe=(0,r.useState)(We.mY[le]),De=(0,ne.Z)(Pe,2),Oe=De[0],Le=De[1];return(0,r.useEffect)(()=>{O.length&&!le&&(Le(We.mY[O[0].memberCardType]),c.setFieldValue("memberCardType",O[0].memberCardType))},[O]),(0,r.useEffect)(()=>{var E=(0,L.ZT)(!h);E.length===1&&(Ce(E[0].value),c.setFieldValue("liveType",E[0].value),c.setFieldValue("memberCardType",E[0].value))},[h]),t().createElement(t().Fragment,null,t().createElement(A.ZP.Group,{onChange:Te,value:he,buttonStyle:"solid"},(0,L.ZT)(!h).map(E=>t().createElement(A.ZP.Button,{key:E.value,disabled:q,value:E.value},i(E.label)))),he==="poly_wei"&&t().createElement(t().Fragment,null,t().createElement("div",null,t().createElement("span",null,i("live.remaining"),t().createElement("span",{style:{color:J},className:h.remained_duration>99?"".concat(o,"_charge_info"):"".concat(o,"_charge_danger")},h.remained_duration),i("common.minutes")),t().createElement("span",{className:"".concat(o,"__recharge recharge"),style:{color:J}},i("live.goRecharge")),t().createElement(xe.Z,{onRef:E=>{var ee=E},options:{type:1},activeBtn:"recharge"})),t().createElement("div",null,i("live.polyWeiChannel"))),he==="live_course"&&t().createElement("div",null,O.length==0&&p===!0&&_e?t().createElement("div",{style:{color:"#F03A3A"}},i("live.doNotSupport")):"",O.length==0&&p===!1&&_e?t().createElement("div",null,i("live.innerDingDescibe")):"",O.length>0?t().createElement(t().Fragment,null,t().createElement("div",null,i("live.dingTalkChannel")),t().createElement("div",null,i("live.liveChannel"),"\uFF1A",t().createElement(k.Z,{style:{width:180},className:"".concat(o,"__select"),onChange:ge,value:Oe+i("live.liveRoomNumber"),disabled:q},O.map(E=>t().createElement(je,{key:E.memberName,value:E.memberCardType},We.mY[E.memberCardType],i("live.liveRoomNumber")))),t().createElement("div",null,i("live.dingTalkOverman")))):t().createElement("div",null,_e?t().createElement(t().Fragment,null,i("live.adviceOpen"),"\u300C",t().createElement("span",{style:{color:J}},i("live.commercialChannel")),"\u300D",i("live.supportAbility"),t().createElement("span",{className:"".concat(o,"__recharge recharge"),style:{color:J}},i("live.goPay"))):null,t().createElement(xe.Z,{onRef:()=>{},options:{type:1},activeBtn:"recharge"}))))},Ge=(0,v.Z)()((0,I.$j)(ze)),$e=n=>{var i=n.t,c=n.formik,o=n.name,d=n.value,h=n.describe,O=p=>{c.setFieldValue(o,p)};return t().createElement(t().Fragment,null,t().createElement(y.Z,{checkedChildren:i("live.on"),unCheckedChildren:i("live.off"),checked:d,onChange:O}),h?t().createElement("div",{className:"switch-choose__describe"},h):"")},Ye=(0,v.Z)()((0,I.$j)($e));class He extends t().Component{constructor(i){super(i);this.handleChangeChecbox=c=>{var o=c.target.checked;this.props.formik.setFieldValue("credit",{checked:o,score:this.props.defaultFieldList.score})},this.handleChangeInput=c=>{this.props.formik.setFieldValue("credit",{checked:this.props.defaultFieldList.checked,score:c})},this.renderInput=()=>{var c=this.props,o=c.defaultFieldList,d=c.defaultDisable,h=c.t;return t().createElement("span",null,t().createElement(_.Z,{precision:0,min:0,max:999,value:o.score,disabled:!d,onChange:this.handleChangeInput}),t().createElement("span",{className:"info-part-right"},h("live.replayPerson")))}}render(){return t().createElement(t().Fragment,null,this.renderInput())}}var Je=(0,I.$j)((0,v.Z)()(He)),Qe=n=>{var i=n.t,c=n.formik,o=n.defaultStudyValue,d=n.defaultFieldList,h=n.defaultDisable,O=(0,r.useState)(h),p=(0,ne.Z)(O,2),q=p[0],ce=p[1],le=J=>{ce(J),c.setFieldValue("studyLimit.checked",J),c.setFieldValue("credit.checked",J)},oe=J=>{c.setFieldValue("studyLimit.score",J)},_e=J=>{c.setFieldValue("credit.score",J)};return t().createElement(t().Fragment,null,t().createElement("div",{className:"complete-standard"},t().createElement(y.Z,{className:"complete-standard__switch",checkedChildren:i("live.on"),unCheckedChildren:i("live.off"),checked:q,onChange:le}),q?t().createElement(t().Fragment,null,t().createElement("div",{className:"complete-standard__study"},t().createElement("span",null,i("live.theProgress")),t().createElement(_.Z,{min:1,max:100,className:"complete-standard__study__input",value:o.score===0?90:o.score,onChange:oe}),t().createElement("span",null,"%")),t().createElement("div",{className:"complete-standard__score"},t().createElement("span",null,i("live.reward")),t().createElement(_.Z,{precision:0,min:1,max:999,className:"complete-standard__score__input",value:d.score,onChange:_e}),t().createElement("span",null,i("live.score")))):null),t().createElement("div",{className:"complete-standard__tips"},i("live.replayPerson")))},Xe=(0,v.Z)()((0,I.$j)(Qe)),te=a(43859),qe=(0,te.Z)(B),it=(0,te.Z)(s),rt=(0,te.Z)(C),st=(0,te.Z)(Z),ct=(0,te.Z)(Ue),ot=(0,te.Z)(Ne),ut=(0,te.Z)(D),dt=(0,te.Z)(re),mt=(0,te.Z)(de),et=(0,te.Z)(Fe),tt=(0,te.Z)(we),at=(0,te.Z)(Ge),lt=(0,te.Z)(Ye),vt=(0,te.Z)(Je),nt=(0,te.Z)(Xe)},52111:function(ue,z,a){"use strict";a.d(z,{eS:function(){return I},WW:function(){return L},u9:function(){return V},Pe:function(){return B},rU:function(){return Y}});var F=a(78138),y=a.n(F),m=a(6793),j=a(3407),k=(0,m.me)(),r=j.Z[k],t=j.Z[k].ddLive.validation;function v(s){for(var T=0,g=0;g<s.length;g++)T+=1;return T}var I=s=>(0,m.fy)(s)?v((0,m.fy)(s))>60?t.courseNameLimit:"":t.courseNameNull,L=s=>v((0,m.fy)(s))>150?t.ddInstronction:"",S=s=>{if(!s.switchValue)return"";var T=s.groupName;return trim(T)?v(trim(T))>20?t.groupameLimit:"":t.groupNameNull},V=(s,T)=>T||s.id?"":r.employeeSummary.chooseTeacher,B=(s,T)=>{if(T)return"";if(!s)return t.chooseStartTime;var g=y()(new Date(s)).valueOf(),M=y()(new Date).valueOf();return g<M?t.timeBefore:""},K=(s,T)=>T||s?"":t.chooseImage,Y=(s,T,g)=>{if(g)return"";var M=Number(s.time)*6e4,w=y()(new Date(T)).valueOf(),Q=y()(new Date).valueOf();return w-M<Q&&s.open?t.remindTimeInfo:""},e=s=>{var T=s?"":t.classifyNull;return T}},78140:function(ue,z,a){"use strict";a.d(z,{SP:function(){return k},zv:function(){return r},mc:function(){return t},O7:function(){return v},Ib:function(){return I},ZT:function(){return L},z2:function(){return S},xu:function(){return V},$2:function(){return B},iy:function(){return K},wL:function(){return Y}});var F=a(88986),y=a(78138),m=a.n(y),j=a(2019);function k(e){var s=e.classify,T=e.covers,g=e.employeeRange,M=e.title,w=e.liveType,Q=e.splashImg,G=e.scene,$=e.memberCardType,l=g.rangeList,C=l.dept,P=l.group,A=l.post,H=l.user,Z=(0,F.Z)((0,F.Z)({title:M,bizType:w,liveType:w,memberCardType:$,splashImg:Q},T),{},{courseClassify:s,startTime:e.datePicker instanceof Object?e.datePicker.valueOf():Date.parse(e.datePicker.replace(/\-/g,"/")),remindStatus:e.remindTime.open?"true":"false",minute:e.remindTime.time,chatStatus:e.ddGroup.switchValue?"create":"not",dingGroupName:e.ddGroup.groupName,teacherId:e.teacher.id,makePublic:"".concat(e.makePublic),introduction:e.introduction,picIntroductionUrl:e.picIntroductionUrl,studyType:e.studyType,tags:"",studyTimeLimit:e.studyLimit.checked?e.studyLimit.score:0,credit:e.credit.checked?e.credit.score:0,isAll:g.rangeType,departmentIds:C.map(X=>X.id).join(","),postIds:A.map(X=>X.id).join(","),groupIds:P.map(X=>X.id).join(","),userIds:H.map(X=>X.id).join(","),syncProgress:e.syncProgress===0||e.syncProgress===!1?"false":"true",download:e.download===0||e.download===!1?"false":"true",commentSwitch:e.commentSwitch?1:0});return e.tagGroup&&Array.isArray(e.tagGroup.tagsNameList)&&(Z.tags=e.tagGroup.tagsNameList.map(X=>X.tag_name).join(",")),w==="poly_wei"&&(Z.scene=G),Z}function r(e){var s={title:e.title,covers:{coverType:e.coverType,cover:e.cover,baseCover:e.baseCover},bizType:e.liveType,liveType:e.liveType,datePicker:m()(parseInt(e.startTime)).format("YYYY-MM-DD HH:mm:ss"),classify:e.courseClassify,classifyName:e.classifyName,classify_name:e.classifyName,teacher:{name:e.teacherName||"",id:e.teacherId},makePublic:e.makePublic==="true",introduction:e.introduction,picIntroductionUrl:e.picIntroductionUrl,employeeRange:{rangeType:e.isAll,rangeList:{dept:e.departmentList||[],post:e.postList||[],group:e.groupList||[],user:e.userList||[]}},remindTime:{open:e.remindStatus==="true",time:"".concat(e.minute)},ddGroup:{switchValue:e.chatStatus==="create",groupName:e.dingGroupName},splashImg:e.splashImg,credit:{checked:e.credit!==0,score:e.credit===0?1:e.credit},studyLimit:{checked:e.studyTimeLimit!==0,score:e.studyTimeLimit===0?90:e.studyTimeLimit},complete:e.credit!==0&&e.studyTimeLimit!==0,studyType:e.studyType,syncProgress:e.syncProgress==="false"?0:1,download:e.download==="false"?0:1,commentSwitch:e.commentSwitch?1:0,memberCardType:e.memberCardType};return e.liveType==="poly_wei"&&(s.scene=e.scene||K[0].value),s}function t(e){var s={endTime:Number(e.endTime),startTime:Number(e.startTime),updateTime:Number(e.updateTime)};return Object.assign(e,s)}var v=[{value:"",label:"live.allLiveChannel"},{value:"live_course",label:"live.liveCourse"},{value:"poly_wei",label:"live.polyWei"}],I=()=>[{value:"",label:"live.allLiveChannel",show:!0},{value:"live_course",label:"live.liveCourse",show:(0,j.Dp)()},{value:"poly_wei",label:"live.polyWei",show:!0}].filter(e=>e.show),L=e=>(0,j.Dp)()&&!e?[{value:"poly_wei",label:"live.polyWei"},{value:"live_course",label:"live.liveCourse"}]:e?[{value:"live_course",label:"live.liveCourse"}]:[{value:"poly_wei",label:"live.polyWei"}],S=[{key:1,title:"live.innerLive",describe:"live.innerDescribe",active:!1},{key:2,title:"live.publicLive",describe:"live.publicDescribe",active:!1},{key:3,title:"live.normalMeeting",describe:"live.normalMeetingDescribe",active:!1}],V=[{value:"all",iconColor:"",label:"live.allLiveStatus"},{value:"prepartion",iconColor:"#0040FF",label:"common.notStarted"},{value:"live",iconColor:"#01DF3A",label:"live.liveing"},{value:"meeting",iconColor:"#01DF3A",label:"live.meeting"},{value:"expired",iconColor:"#BDBDBD",label:"ddLive.expired"}],B=[{value:"0",label:"live.remindA"},{value:"5",label:"live.remindB"},{value:"15",label:"live.remindC"},{value:"30",label:"live.remindD"},{value:"60",label:"live.remindE"},{value:"120",label:"live.remindF"},{value:"240",label:"live.remindG"}],K=[{value:"ppt",label:"course.documentAndVideo"},{value:"alone",label:"course.pureVideo"}],Y=[{value:"99",label:"live.allPublishStatus"},{value:"1",iconColor:"#0040FF",label:"courseManage.published"},{value:"0",iconColor:"#BDBDBD",label:"courseManage.unPublished"}]},24152:function(ue,z,a){"use strict";a.r(z);var F=a(48736),y=a(27049),m=a(62029),j=a(20228),k=a(11382),r=a(57663),t=a(71577),v=a(22385),I=a(31097),L=a(34792),S=a(48086),V=a(57361),B=a(9754),K=a.n(B),Y=a(12924),e=a.n(Y),s=a(28216),T=a(91768),g=a(80991),M=a(76651),w=a(96486),Q=a.n(w),G=a(60333),$=a(52111),l=a(81150),C=a(90365),P=a(78140),A=a(84874),H=a(52670),Z=a(72538),X=a(34522),pe=a(4408),Ve=a(38642),Me=a(28531),ke=a(11110),ie=a(7584),ne=a(98078),fe=a(17381),Ee=a(62615),Ae=a(40572),Be=a(70075),Ue=a(65893),Ke=Ne=>({userInfo:Ne.user});class Ze extends e().Component{constructor(x){var _;super(x);_=this,this.getWhetherLecture=(0,V.Z)(K().mark(function f(){var b;return K().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,(0,fe.LI)();case 3:b=D.sent,b.data.data&&(0,G.hF)(b.data.data).then(N=>{N.status===200&&N.data&&(_.setState({isWeatherLecture:N.data}),_.props.userInfo.sourceType==="wx_sync"?_.formRef.setFieldValue("teacher",{name:_.state.isWeatherLecture.lecturer_name,type:_.state.isWeatherLecture.type,lecturer_sync_user_id:_.state.isWeatherLecture.lecturer_sync_user_id,lecturer_source_type:_.state.isWeatherLecture.lecturer_source_type,id:_.state.isWeatherLecture.id}):_.formRef.setFieldValue("teacher",{name:_.state.isWeatherLecture.lecturer_name,id:_.state.isWeatherLecture.id}))}).catch(N=>{console.warn(N)}),D.next=10;break;case 7:D.prev=7,D.t0=D.catch(0),console.warn(D.t0);case 10:case"end":return D.stop()}},f,null,[[0,7]])})),this.getSelectRecordList=()=>{(0,G.lH)({bizType:"live_course"}).then(f=>{f.data.code&&f.data.code=="200000"&&this.setState({recordList:f.data.data.filter(b=>b.unassignedQuota>0)})})},this.getLiveRoomNum=()=>{(0,G.xR)().then(f=>{this.setState({polyWeiLiveConfig:f.data.data,noClickable:f.data.data.remained_number==="0"})})},this.getScoreRule=()=>{(0,G.lq)().then(f=>{this.formRef.setFieldValue("credit",{checked:!0,score:f.data.data.courseScoreList?f.data.data.courseScoreList[0].score:0})})},this.getHasOpenEquity=f=>!(f.liveType==="live_course"&&f.makePublic=="true"&&this.state.recordList.length==0),this.handleSubmit=function(){var f=(0,V.Z)(K().mark(function b(u){var D,N,U,re;return K().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(D=_.state.courseId,N=(0,w.get)(u,"tagGroup.tagsNameList"),U=(0,P.SP)(u),U.splashImg=U.baseCover,N&&(U.tags=N.map(me=>me.tag_name).join(",")),re=_.getHasOpenEquity(U),re){de.next=9;break}return _.setState({visible:!0,type:"no_live_course"}),de.abrupt("return");case 9:_.setState({isSubmitting:!0,submitParams:U,submitTagsNameList:N}),D?(U.courseId=D,(0,G.yF)(U).then(me=>{_.setState({isSubmitting:!1}),_.handleSubmitCallBack(me,N,"edit")}).catch(()=>{_.setState({isSubmitting:!1})})):(0,G.Bj)(U).then(me=>{_.setState({isSubmitting:!1}),_.handleSubmitCallBack(me,N,"add")}).catch(()=>{_.setState({isSubmitting:!1})});case 11:case"end":return de.stop()}},b)}));return function(b){return f.apply(this,arguments)}}(),this.cancelAction=()=>{this.setState({visible:!1,type:null,isSubmitting:!1})},this.addAction=function(){var f=(0,V.Z)(K().mark(function b(u){return K().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:_.setState({visible:!1,type:null}),u?(0,G.yF)(_.state.submitParams).then(U=>{_.setState({isSubmitting:!1}),_.handleSubmitCallBack(U,_.state.submitTagsNameList,"edit")}).catch(()=>{_.setState({isSubmitting:!1})}):(0,G.Bj)(_.state.submitParams).then(U=>{_.setState({isSubmitting:!1}),_.handleSubmitCallBack(U,_.state.submitTagsNameList,"add")}).catch(()=>{_.setState({isSubmitting:!1})});case 2:case"end":return N.stop()}},b)}));return function(b){return f.apply(this,arguments)}}(),this.handleSubmitCallBack=(f,b,u)=>{var D=this.props.t;this.setState({isSubmitting:!1}),f.data.code===2e5?(this.saveTags(b||[],u==="add"?f.data.data:this.state.courseId),S.default.success(D(u==="edit"?"common.editSuccess":"common.releaseSuccess")),this.handCancel()):S.default.error(D(u==="edit"?"common.editFailure":"common.saveFailure"))},this.saveTags=(f,b)=>{var u={tags:f,resourceId:b,resourceType:"course"};(0,Me.tB)(u)},this.getLiveDetail=(0,V.Z)(K().mark(function f(){var b;return K().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:b=_.state.courseId,(0,G.jG)({courseId:b,appId:"cool"}).then(N=>{var U=(0,P.zv)(N.data.data);_.setState({initialParams:U,editFinished:!0,liveStatus:N.data.data.liveStatus})});case 2:case"end":return D.stop()}},f)})),this.handCancel=()=>{var f=this.props.location.query,b=f.from;b==="manage"||b=="trainingProject"?M.m8.push("/knowledgeBase/learningResources/liveRoom"):b==="course"?(0,Ve.eJ)({url:"/course/management"}):M.m8.goBack()},this.teacherChange=f=>{var b=this.props.t,u=f.id;return new Promise(D=>{(0,G.Dr)({teacherId:u}).then(N=>{var U=(0,w.get)(N,"data.data.isDingUser");U||S.default.error(b("ddLive.ddUser")),D(U)})})},this.renderChannelTip=f=>{var b=this.props,u=b.t,D=b.prefixCls,N=this.state.polyWeiLiveConfig,U=localStorage.getItem("themeColor")||"#516AE6";return e().createElement(e().Fragment,null,e().createElement("div",{className:"".concat(D,"__config ").concat(f==="poly_wei"?"show":"hidden")},e().createElement("span",{className:"live-title"},u("live.totalLiveRoom"),"\uFF1A"),e().createElement("span",null,N.total_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.alreadyLiveRoom"),"\uFF1A"),e().createElement("span",null,N.used_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.haveLiveRoom"),"\uFF1A"),e().createElement("span",null,N.remained_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.remainDuration"),"\uFF1A"),e().createElement("span",{className:"".concat(D,"__remined")},N.remained_duration,u("common.minutes")),e().createElement(I.Z,{placement:"top",title:u("live.durationTips")},e().createElement("span",{className:"".concat(D,"__durationTips")},e().createElement(A.Z,{iconClass:"icon-icon_attentionx1",size:"14px"}))),e().createElement("span",{className:"".concat(D,"__recharge recharge"),style:{color:U}},u("live.recharge")),e().createElement(ke.Z,{onRef:re=>{this.messageModal=re},options:{type:1},activeBtn:"recharge"})),f==="poly_wei"&&e().createElement("div",{className:"".concat(D,"__translate")},e().createElement("div",null,e().createElement("p",null,u("live.support"),":"),e().createElement("p",null,u("live.polyWeiSupportOne")),e().createElement("p",null,u("live.polyWeisupportTwo")),e().createElement("p",null,u("live.notSupport"),":"),e().createElement("p",null,u("live.polyWeiNotSupportOne")))),f==="live_course"&&e().createElement("div",{className:"".concat(D,"__translate")},e().createElement("p",null,u("live.support"),":"),e().createElement("p",null,u("live.dingSupportOne")),e().createElement("p",null,u("live.notSupport"),":"),e().createElement("p",null,u("live.dingNotSupportOne")),e().createElement("p",null,u("live.dingNotSupportTwo")),e().createElement("p",null,u("live.dingNotSupportThree"))))},this.renderFooter=()=>{var f=this.state,b=f.isSubmitting,u=f.courseId,D=f.noClickable,N=f.liveType,U=this.props.t,re=D&&!u&&N==="poly_wei";return e().createElement("div",{className:"cl-form-fixed-footer"},e().createElement("div",{className:"cl-form-fixed-footer__container"},e().createElement(t.Z,{type:"primary",disabled:re,loading:b,htmlType:"submit"},U(u?"common.save":"common.release")),e().createElement(t.Z,{onClick:this.handCancel},U("common.cancel"))))},this.state={initialParams:{title:"",liveType:"poly_wei",memberCardType:"",covers:{coverType:1,cover:"",baseCover:""},datePicker:"",scene:P.iy[0].value,classify:"",classifyName:"",teacher:{name:"",id:""},studyTimeLimit:0,syncProgress:0,makePublic:!1,download:0,commentSwitch:1,employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}},remindTime:{open:!1,time:"15"},ddGroup:{switchValue:!1,groupName:""},splashImg:"",introduction:"",picIntroductionUrl:"",credit:{checked:!0,score:1},studyLimit:{checked:!0,score:90},complete:!0,studyType:""},editFinished:!1,isSubmitting:!1,noClickable:!1,liveStatus:"prepartion",courseId:"",tagGroupInit:{resourceType:"course",resourceId:""},polyWeiLiveConfig:{},routerList:[{name:x.t("live.live"),path:"/knowledgeBase/learningResources/liveRoom"},{name:x.location.query.courseId?x.t("live.editLive"):x.t("live.addLive"),path:"/training/learning/task/liveRoom/editLive"}],current:"/training/learning/task/liveRoom/editLive",isWeatherLecture:null,recordList:[],visible:!1,type:null,submitParams:{},submitTagsNameList:[]}}componentWillMount(){var x=this.props.location.query;this.getLiveRoomNum(),this.getSelectRecordList(),this.setState({courseId:x.courseId||"",editFinished:!x.courseId,tagGroupInit:{resourceType:"course",resourceId:x.courseId||""}},()=>{this.state.courseId&&this.getLiveDetail()})}componentDidMount(){var x=this.props.location.query;x.courseId||setTimeout(()=>{this.getScoreRule(),this.getWhetherLecture()},0)}render(){var x=this.state,_=x.initialParams,f=x.editFinished,b=x.liveStatus,u=x.courseId,D=x.tagGroupInit,N=x.polyWeiLiveConfig,U=x.routerList,re=x.current,Re=x.recordList,de=x.visible,me=x.type,Fe=this.props,R=Fe.t,se=Fe.prefixCls;return e().createElement(e().Fragment,null,e().createElement("div",{className:se},e().createElement(pe.Z,{title:R(u?"common.edit":"live.addLiveCourse")}),e().createElement(Ue.Z,{current:re,list:U}),e().createElement("div",{className:"".concat(se,"__formPart")},f?e().createElement("div",{className:"".concat(se,"__divPart")},e().createElement("div",{className:"".concat(se,"__divPart__new")},R(u?"live.editLive":"live.addLive")),e().createElement(g.J9,{ref:W=>{this.formRef=W},initialValues:_,onSubmit:this.handleSubmit,render:W=>e().createElement(g.l0,{className:"cl-form"},e().createElement(g.gN,(0,m.Z)({component:l.JD,name:"scene",label:R("live.trainingScene"),required:!0,style:{width:"50%"},sceneType:"Live",value:W.values.makePublic,disabled:u!==""},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:l.fL,name:"scene",label:R("live.liveChannel"),required:!0,style:{width:"50%"},prefixCls:se,disabled:u!=="",liveChannelOptions:P.ZT,polyWeiLiveConfig:N,defaultValue:W.values.liveType,defaultMember:W.values.memberCardType,recordList:Re,scene:W.values.makePublic},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:ie.Z,name:"title",placeholder:R("ddLive.title"),label:R("live.liveCourseName"),autocomplete:"off",validate:$.eS,required:!0,type:"text",style:{width:"50%"},defaultValue:W.values.title},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:Ee.Mt,displayType:"Custom",name:"datePicker",label:R("live.liveTime"),required:!0,style:{width:"50%"},placeholder:R("live.selectLiveTime"),defaultFieldList:W.values.datePicker,validate:ve=>(0,$.Pe)(ve,b==="live"),disabled:b==="live"},Z.I4)),e().createElement(g.gN,(0,m.Z)({name:"classify",required:!0,label:R("learning.learningProjectAddCategory"),displayType:"Custom",hasDefaultValue:!0,component:Ae.Z,placeholder:R("validation.checkClassify"),value:W.values.classify,classifyName:W.values.classify_name,validate:H.ZE,style:{width:"50%"},formItemClassName:["cl-form_list-item"]},Z.I4)),W.values.liveType==="live_course"&&e().createElement(e().Fragment,null,e().createElement(g.gN,(0,m.Z)({required:!0,component:X.Z,name:"teacher",t:this.props.t,isInternal:!0,label:R("customFields.teacher"),displayType:"Custom",canCancel:!0,beforeSelected:this.teacherChange,defaultFieldList:W.values.teacher,disabled:u},Z.I4,{validate:ve=>(0,$.u9)(ve,b==="end")}))),W.values.liveType==="poly_wei"&&e().createElement(e().Fragment,null,e().createElement(g.gN,(0,m.Z)({required:!0,component:X.Z,name:"teacher",label:R("customFields.teacher"),displayType:"Custom",defaultFieldList:W.values.teacher,disabled:u,canCancel:!0},Z.I4,{validate:ve=>(0,$.u9)(ve,b==="end")}))),e().createElement(g.gN,(0,m.Z)({component:Ee.QS,displayType:"Custom",style:{width:"50%"},name:"tagGroup",label:R("common.detailTag"),defaultFieldList:D},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:Be.Z,name:"introduction",label:R("ddLive.liveSummary"),type:"text",displayType:"Custom",style:{width:"50%"},placeholder:R("live.validation.ddInstronction"),defaultValue:W.values.introduction,validate:$.WW},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:Ee.Y9,label:R("course.courseCreatePanelFTCover"),displayType:"Custom",name:"covers",required:!0,style:{width:"50%"}},Z.I4)),e().createElement("div",{className:"".concat(se,"__divider")}," "),e().createElement("div",{className:"".concat(se,"__divPart__new")},R("live.advancedSetting")),e().createElement("div",{className:"cl-form__sectitle"},R("live.featureSetting")),(0,ne.WC)()&&W.values.liveType==="poly_wei"&&e().createElement(g.gN,{component:l.n5,name:"scene",label:R("course.liveTemplate"),liveTemplateOptions:P.iy,disabled:u!=="",defaultValue:W.values.scene}),e().createElement(g.gN,(0,m.Z)({component:l.kz,displayType:"Custom",name:"remindTime",label:R("ddLive.startReminder"),defaultFieldList:W.values.remindTime,validate:ve=>(0,$.rU)(ve,W.values.datePicker,b==="live"),disabled:b==="live"},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:l.lR,name:"syncProgress",label:R("ddLive.livePlaybackNew"),type:"text",value:W.values.syncProgress},Z.I4)),W.values.liveType==="poly_wei"&&e().createElement(g.gN,(0,m.Z)({component:l.lR,name:"download",label:R("live.downLoadCourse"),type:"text",value:W.values.download,describe:R("live.downLoadLiveFile")},Z.I4)),W.values.liveType==="poly_wei"&&e().createElement(g.gN,(0,m.Z)({type:"text",component:l.lR,value:W.values.commentSwitch,label:R("live.commentTitle"),name:"commentSwitch",describe:R("live.commentLive")},Z.I4)),e().createElement("div",{className:"".concat(se,"__divPart__high__divider")},e().createElement(y.Z,null)),e().createElement("div",{className:"cl-form__sectitle"},R("common.ruleSetting")),e().createElement(g.gN,(0,m.Z)({component:Ee.ww,displayType:"Custom",name:"employeeRange",mode:["all","part","private"],orgProps:{title:R("component.chooseVisibleScope")},showSectitle:!1,label:R("common.visibleRange"),defaultFieldList:W.values.employeeRange,validate:H.FI},Z.I4)),e().createElement(g.gN,(0,m.Z)({component:l.aV,label:R("course.courseDetailRewardScore"),displayType:"Custom",name:"complete",defaultDisable:W.values.complete,defaultStudyValue:W.values.studyLimit,defaultFieldList:W.values.credit},Z.I4)),e().createElement(Ee.I,null),this.renderFooter())})):e().createElement(k.Z,{size:"large"}))),e().createElement(C.Z,{visible:de,type:me,edit:u!=="",cancelAction:this.cancelAction,addAction:this.addAction}))}}Ze.defaultProps={prefixCls:"editLiveWrap"},z.default=(0,s.$j)(Ke)((0,T.Z)()(Ze))}}]);
