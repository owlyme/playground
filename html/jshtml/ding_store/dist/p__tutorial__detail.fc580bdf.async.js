(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8823],{26096:function(De,re,e){"use strict";var L=e(30887),C=e(99210),G=e(62029),U=e(22385),R=e(31097),W=e(12924),k=e.n(W),h=e(71967),A=e.n(h),n=e(1164),g=m=>m.type==="more"?m.disabled?k().createElement(C.Z.Item,(0,G.Z)({},m,{key:m.key,disabled:!0}),m.tooltip?k().createElement(R.Z,{title:m.tooltip},k().createElement("p",{className:"cl-dropdown-menuitem"},m.title)):k().createElement("p",{className:"cl-dropdown-menuitem"},m.title)):m.link?k().createElement(C.Z.Item,(0,G.Z)({},m,{key:m.key}),k().createElement(n.Z,{to:m.link},k().createElement("p",{className:"cl-dropdown-menuitem"},m.title))):k().createElement(C.Z.Item,(0,G.Z)({},m,{key:m.key}),k().createElement("p",{className:"cl-dropdown-menuitem",onClick:m.click},m.title)):m.disabled?m.tooltip?k().createElement(k().Fragment,{key:m.key},k().createElement(R.Z,{title:m.tooltip},k().createElement("span",{className:"".concat(A().pointer," ").concat(A().disabled)},m.title))):k().createElement(k().Fragment,{key:m.key},k().createElement("span",{className:"".concat(A().pointer," ").concat(A().disabled)},m.title)):m.link?k().createElement(k().Fragment,{key:m.key},k().createElement(n.Z,{to:m.link},k().createElement("span",{className:"cl-pointer ".concat(A().pointer)},m.title))):k().createElement(k().Fragment,{key:m.key},k().createElement("span",{className:"cl-pointer ".concat(A().pointer),onClick:m.click},m.title));re.Z=g},4408:function(De,re,e){"use strict";var L=e(12924),C=e.n(L),G=e(28216),U=e(17780),R=e(38642),W=h=>({userInfo:h.user}),k=h=>{var A=h.title;return(0,U.xX)()&&setTimeout(()=>{document.title=A},0),(0,L.useEffect)(()=>{if(A&&document.title!==A&&setTimeout(()=>{document.title=A},0),(0,R.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[A]),C().createElement(C().Fragment,null)};k.defautProps={title:""},re.Z=(0,G.$j)(W)(k)},1164:function(De,re,e){"use strict";var L=e(12924),C=e.n(L),G=e(76651),U=e(38642),R=e(91302),W=k=>{var h=navigator.userAgent.toLocaleLowerCase(),A=localStorage.getItem("enterpriseId"),n=(0,U.lz)(A,k.projectType),g=localStorage.getItem("dingPersonnel"),m=R.bl.includes(g),_=k.target;function T(y){if(_==="self"&&(y.preventDefault(),G.m8.push(k.to)),m){if(k.projectType==="student"){window.location.href="".concat(n,"/").concat(k.to);return}G.m8.push(k.to);return}if(dd.version){y.preventDefault();var t="";k.to.includes("?")?t="".concat(n).concat(k.to,"&ddtab=true"):t="".concat(n).concat(k.to,"?ddtab=true"),dd.biz.util.openLink({url:t})}else h.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(k.to))}return C().createElement("a",{rel:"noreferrer",href:"".concat(k.projectType==="student"?"".concat(n).concat(k.to):"#".concat(k.to)),className:"".concat(k.wrapCls," cl-pointer"),target:h.indexOf("lark")!==-1||m?"_self":k.target||"_blank",onClick:T},k.children)};W.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},W.targetTo=k=>{var h=k.path,A=k.from,n=k.isExternalLink,g=n===void 0?!1:n,m=k.isAsync,_=m===void 0?!1:m,T=k.openName,y=T===void 0?"_blank":T,t=k.projectType,B=t===void 0?"manage":t,N=k.ddTab,M=N===void 0?!0:N,Z,u=localStorage.getItem("dingPersonnel"),O=R.bl.includes(u),w=navigator.userAgent.toLocaleLowerCase(),K=localStorage.getItem("enterpriseId"),b=(0,U.lz)(K,B),z=localStorage.getItem("appType"),Y=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var j="";if(Z=g?"":b,O&&!g){if(B==="student"){window.location.href="".concat(b).concat(h);return}G.m8.push(h);return}h.includes("?")?j="".concat(Z).concat(h,"&ddtab=").concat(M):j="".concat(Z).concat(h,"?ddtab=").concat(M),dd.biz.util.openLink({url:j})}else if(w.indexOf("lark")!==-1)Z=g?"":b,window.location.href="".concat(Z).concat(h);else if(z==="wx_app"&&Y&&g&&A==="imgText")Z=g?"":B==="student"?"".concat(b):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(Z).concat(h)});else if(Z=g?"":B==="student"?"".concat(b):"#",_){var ae=window.open("","_blank");setTimeout(()=>{ae.location="".concat(Z).concat(h)},100)}else window.open("".concat(Z).concat(h),y)},re.Z=W},87312:function(De,re,e){"use strict";var L=e(12924),C=e.n(L),G=e(91768),U=R=>{var W=R.t;return C().createElement("div",{className:R.className?"".concat(R.className," no-result"):"no-result"},C().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886702513426432.png"),className:"no-data-img",alt:""}),C().createElement("p",{className:"no-data-tip"},R.tipText||W("common.empty")))};re.Z=(0,G.Z)()(U)},88311:function(De,re,e){"use strict";e.d(re,{Z:function(){return Oe}});var L=e(62029),C=e(47673),G=e(4107),U=e(33565),R=e(57361),W=e(34792),k=e(48086),h=e(88986),A=e(43358),n=e(34041),g=e(18106),m=e(88108),_=e(9754),T=e.n(_),y=e(12924),t=e.n(y),B=e(91768),N=e(77043),M=e.n(N),Z=e(20228),u=e(11382),O=e(18721),w=e.n(O),K=e(51975),b=e(37055),z={breadNav:[{value:"",label:""}],checkOne:()=>{},checkAll:()=>{},nextLevel:()=>{},changeLevel:()=>{}},Y=t().createContext(z),j={searchResult:[],deptList:[],groupList:[],postList:[],deptUser:[],groupUser:[],postUser:[],clusterList:[],classList:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],initTypeList:()=>{},initTypeUser:()=>{},toggleDisplayItem:()=>{},toggleDisplayList:()=>{},checkListOne:()=>{},checkUserOne:()=>{},removeCheckedUser:()=>{},changeLevel:()=>{},hidePosts:!1,initHidePostsStatus:()=>{},clearSelectedAll:()=>{}},ae=t().createContext(j),ve=e(36017),ie=e(35247),se=e(60667);class fe extends t().Component{constructor(){super(...arguments);this.changeLevel=(P,v,r,s)=>{P.preventDefault(),this.props.contextData.changeLevel(v,r,s)}}render(){var P=this.props.contextData.breadNav.map((v,r)=>t().createElement(ie.Z.Item,{key:v.value},t().createElement("span",{className:"bread-nav-item",onClick:s=>this.changeLevel(s,v.value,r,!(w()(v,"authorized")&&v.authorized==="true"))},t().createElement(se.Z,{dataType:"departmentName",value:v.value,name:v.label,type:v.sourceType}))));return t().createElement("div",{className:"bread-nav"},t().createElement(ie.Z,null,P))}}fe.defaultProps={contextData:{breadNav:[]},changeLevel:()=>{}};var de=fe,Ie=e(63185),ee=e(9676),le=e(88983),ge=e(47933),ke=e(22385),Te=e(31097),Se=e(57119),xe=e(84874),Le=e(20136),Fe=e(55241),je=e(13062),Ue=e(71230),We=e(89032),Qe=e(15746),Re=e(28216),Be=e(80430),we=e(10237);function Ke(){var $=CONFIG.Role.getUserManageRange();return request.get({url:$})}function ze($){var P=b.ZP.OrgDialog.getDeptInfoUrl({departmentId:$.departmentId});return delete $.departmentId,we.WY.get({url:P,params:$})}function $e($){var P=b.ZP.OrgDialog.getDeptUsersUrl({departmentId:$.departmentId});return delete $.departmentId,we.WY.get({url:P,params:$})}function Ae($){var P=b.ZP.OrgDialog.getUserDetailUrl();return we.WY.get({url:P,params:$})}function Me($){var P=b.ZP.OrgDialog.getScopeUsersAndDeptsUrl({departmentId:$.departmentId});return delete $.departmentId,we.WY.get({url:P,params:$})}function be($){var P=b.ZP.OrgDialog.postDeleteCacheUrl({cacheId:$.cacheId});return delete $.cacheId,we.WY.post({url:P,params:$})}var Ze,Ve,Je=(Ze=(0,Re.$j)($=>{var P=$.user;return{enterpriseName:P.enterpriseName}}),Ze(Ve=class extends t().Component{constructor(){super(...arguments);this.state={loading:!0,cardInfoFinal:this.props.cardInfo},this.renderTitle=()=>{var P=this.props,v=P.cardInfo,r=P.prefixCls,s=P.enterpriseName,f=v.source_type,c=v.user_id,a=v.name;return t().createElement("div",{className:"".concat(r,"__header")},t().createElement("div",{className:"".concat(r,"__header-name")},t().createElement(se.Z,{type:f,value:c,name:a,dataType:"userName"})),t().createElement("div",{className:"".concat(r,"__header-corp")},s||"/"))},this.renderContent=()=>{var P=this.props,v=P.prefixCls,r=P.t,s=this.state.cardInfoFinal,f=s.user_id,c=s.job_number,a=s.post_names,D=a===void 0?[]:a,F=s.department_infos,H=F===void 0?[]:F,ce=()=>!(H instanceof Array)||H.length===0?"/":t().createElement(Be.Z,{list:H,displayAll:!0,isBlock:!0}),J=()=>!(D instanceof Array)||D.length===0?"/":D.map(pe=>t().createElement("div",{key:pe},pe)),he=[{lable:"ID",value:f},{lable:r("personal.jobNumber"),value:c||"/"},{lable:r("setting.postLabel"),value:J()},{lable:r("learnRecord.department"),value:ce()}];return t().createElement("div",{className:"".concat(v,"__body")},he.map(pe=>t().createElement(Ue.Z,{className:"".concat(v,"__body-item"),key:pe.value},t().createElement(Qe.Z,{className:"".concat(v,"__body-item-lable")},pe.lable),t().createElement(Qe.Z,{className:"".concat(v,"__body-item-value")},pe.value||"/"))))}}render(){var P=this.props,v=P.children,r=P.prefixCls,s=this.state,f=s.loading,c=s.cardInfoFinal;return t().createElement(Fe.Z,{overlayClassName:r,placement:"rightTop",title:this.renderTitle,content:f?t().createElement("div",{className:"".concat(r,"__body")},t().createElement(u.Z,null)):this.renderContent,onVisibleChange:a=>{a&&(c.detailInfo===!1?Ae({user_id:c.id}).then(D=>{this.setState({loading:!1,cardInfoFinal:(0,h.Z)((0,h.Z)((0,h.Z)({},c),D.data),{},{detailInfo:!0})})}).catch(D=>{console.error(D)}):this.setState({loading:!1}))},mouseEnterDelay:.5},v)}})||Ve);Je.defaultProps={prefixCls:"user-card-popover",cardInfo:{}};var Ye=(0,B.Z)()(Je),Ct=["cluster","class"];class ot extends t().Component{constructor(){super(...arguments);this.checkOne=P=>{P.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=P=>{P.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var P=this.props,v=P.cardInfo,r=P.type,s=P.t;return v.authorized==="false"&&r==="dept"?t().createElement(Te.Z,{title:s("orgDialog.scopedAuthorize")},t().createElement(Se.Z,{style:{marginLeft:"4px"}})):null}}render(){var P=this.props,v=P.t,r=P.cardInfo,s=r===void 0?{}:r,f=P.hidePosts,c=P.type,a=P.userCount,D=null;return this.props.hasNext?(D=t().createElement("div",{className:"next-level"},!(f&&c==="post")&&a>-1?t().createElement("span",{className:"next-level-count"},"(",a,")"):null,Ct.includes(c)?t().createElement("span",null):t().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},t().createElement(xe.Z,{iconClass:"icon-xiaji1"}),v("component.nextLevel"))),this.props.single?t().createElement("div",{className:"org-tree-item"},t().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),D):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&t().createElement("div",{className:"org-tree-item"},t().createElement(ee.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),D)):t().createElement("div",{className:"org-tree-item"},this.props.single?t().createElement(ge.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement(Ye,{cardInfo:s},this.props.title)):t().createElement(Ye,{cardInfo:s},t().createElement(ee.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title)))}}ot.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var ht=(0,B.Z)()(ot),mt=["cluster","class"];class tt extends t().Component{constructor(){super(...arguments);this.checkOne=P=>{P.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=P=>{P.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var P=this.props,v=P.cardInfo,r=P.type,s=P.t;return v.authorized==="false"&&r==="dept"?t().createElement(Te.Z,{title:s("orgDialog.scopedAuthorize")},t().createElement(Se.Z,{style:{marginLeft:"4px"}})):null}}render(){var P=this.props,v=P.t,r=P.cardInfo,s=r===void 0?{}:r,f=P.hidePosts,c=P.type,a=P.userCount,D=null;return this.props.hasNext?(D=t().createElement("div",{className:"next-level"},t().createElement("span",{className:"next-level-belle"},!(f&&c==="post")&&a>-1?t().createElement("span",{className:"next-level-count"},"(",a,")"):null,mt.includes(c)?t().createElement("span",null):t().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},t().createElement(xe.Z,{iconClass:"icon-xiaji1"}),v("component.nextLevel")))),this.props.single?t().createElement("div",{className:"org-tree-item"},t().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),D):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&t().createElement("div",{className:"org-tree-item"},t().createElement(ee.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),D)):t().createElement("div",{className:"org-tree-item"},this.props.single?t().createElement(ge.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement(Ye,{cardInfo:s},t().createElement("span",{className:"org-tree-item-title"},this.props.title))):t().createElement(Ye,{cardInfo:s},t().createElement(ee.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title))))}}tt.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var lt=(0,B.Z)()(tt),at=e(38642),ct=["cluster","class"];class rt extends t().Component{constructor(P){super(P);this.checkAll=(v,r)=>{v.preventDefault(),this.props.contextData.checkAll(r)},this.getIsCheckAll=()=>{var v=[].concat(this.context["".concat(this.props.dataTypeKey,"List")],ct.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")]);if(v.length===0)return!1;var r=v.findIndex(s=>!s.isChecked);return r===-1},this.renderDeptName=(v,r)=>r==="dept"?t().createElement(se.Z,{type:v.source_type,value:v.id,name:v.name,dataType:"departmentName"}):v.name,this.renderName=v=>t().createElement(se.Z,{type:v.source_type,value:v.user_id,name:v.name,dataType:"userName"}),this.state={isShowCheckAllEle:!0,whiteList:{belleFlag:(0,at.UI)("BELLE_CUSTOMER_WHITE")}}}render(){var P=this.state,v=P.isShowCheckAllEle,r=P.whiteList,s=this.props,f=s.t,c=s.dataTypeKey,a=s.disableHidden,D=s.scrollFlag,F=this.context,H=F.maxDeptUserCount,ce=F.hidePosts,J=F.onlyPost,he=F.onlyUser,pe=F.single,me=[],ne=this.context["".concat(this.props.dataTypeKey,"List")].map(oe=>(me.push(t().createElement("div",{className:"title-item",key:oe.id},this.renderDeptName(oe,c))),r.belleFlag&&D?t().createElement(lt,{type:c,key:oe.id,cardInfo:oe,hasNext:!0,checkable:H&&(oe==null?void 0:oe.userCount)>H?!1:!(J&&oe.post_type==="post_group"||he),single:pe,userCount:oe.userCount,isChecked:!!oe.isChecked,itemId:oe.id,title:this.renderDeptName(oe,c),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!oe.children,hidePosts:ce,disableHidden:a}):t().createElement(ht,{type:c,key:oe.id,cardInfo:oe,hasNext:!0,checkable:H&&(oe==null?void 0:oe.userCount)>H?!1:!(J&&oe.post_type==="post_group"||he),single:pe,userCount:oe.userCount,isChecked:!!oe.isChecked,itemId:oe.id,title:this.renderDeptName(oe,c),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!oe.children,hidePosts:ce,disableHidden:a}))),ye=[],Ne=ct.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")].map(oe=>(ye.push(t().createElement("div",{className:"title-item",key:oe.id},this.renderName(oe,c))),r.belleFlag&&D?t().createElement(lt,{key:oe.id,hasNext:!1,title:this.renderName(oe),isChecked:!!oe.isChecked,itemId:oe.id,cardInfo:oe,checkable:!(oe.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:a}):t().createElement(ht,{key:oe.id,hasNext:!1,title:this.renderName(oe),isChecked:!!oe.isChecked,itemId:oe.id,cardInfo:oe,checkable:!(oe.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:a}))),He=this.getIsCheckAll(),Ge=t().createElement("div",{className:"org-tree-item"},t().createElement(ee.Z,{checked:He,defaultChecked:!0,onClick:oe=>this.checkAll(oe,!He)},f("common.all")));return t().createElement("div",{className:"".concat(this.context.oneDisplayType?"org-tree more-height":"org-tree"," ").concat(r.belleFlag&&D?"org-tree-belle":"")},!this.context.single&&this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&ne.length===0&&Ne.length>0&&v||!this.context.single&&!this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&(ne.length>0||Ne.length>0)&&v?Ge:null,r.belleFlag&&D&&t().createElement("div",{className:"belle-title-scroll"},me,ye),ne,Ne)}}rt.contextType=ae,rt.defaultProps={dataTypeKey:"dept",contextData:{},disableHidden:!1,scrollFlag:!1};var vt=(0,B.Z)()(rt),dt=e(25547),st="999",nt=1,ut=["clusterList","classList"];class it extends t().Component{constructor(P,v){var r;super(P);r=this,this.getClusterList=()=>{var s=b.ZP.OrgDialog.getClusterList(),f={keyword:""};we.WY.get({url:s,params:f}).then(c=>{this.context.initTypeList("clusterList","checkedCluster",c.data.data.map(a=>({name:a.name,userCount:a.user_count,id:a.id,parentId:[""]})))})},this.getClassList=()=>{this.context.initTypeList("classList","checkedClass",[{name:"\u6D4B\u8BD52",userCount:2,id:"2",parentId:[""]},{name:"\u6D4B\u8BD54",userCount:1,id:"41",parentId:[""]}])},this.flatTreeData=(s,f)=>(s.children.forEach(c=>{c.children&&(f[c.id]=c.children,this.flatTreeData(c,f))}),f),this.getDeptList=function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Promise((c,a)=>{var D=r.state.cacheId;ze({departmentId:s,cache_id:D,filter_auth:f&&!r.props.filterAuthOpen}).then(F=>{var H=F.data.children||[];H.forEach(J=>{J.parentId=F.data.id,J.userCount=J.user_count,J.name=J.department_name,J.all_name=t().createElement("span",null,r.state.contextData.breadNav.map(he=>t().createElement("span",{key:he.value},he.label,"/")),J.department_name)});var ce=[];r.context.asyncDeptTree?ce=H:ce=r.flatTreeData(F.data,{[F.data.id]:H}),r.setState({deptList:ce}),r.context.initTypeList("deptList","checkedDept",H),c(F.data)}).catch(F=>{console.error(F),a(F)})})},this.getDeptUserList=function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=r.state.cacheId;$e({departmentId:s,cache_id:c,filter_auth:f&&!r.props.filterAuthOpen}).then(a=>{a.data&&a.data.forEach(D=>{D.name=D.user_name,D.detailInfo=!1}),r.context.initTypeUser("deptUser",a.data)}).catch(a=>{console.error(a)})},this.getGroupList=()=>{var s=b.ZP.Organization.getGroupList(),f={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};we.WY.get({url:s,params:f}).then(c=>{c.data.groups=c.data.groups||[],c.data.groups.forEach(a=>{a.parentId=this.state.contextData.breadNav.map(D=>D.value),a.userCount=a.user_count,a.name=a.group_name}),this.setState({groupList:c.data.groups}),this.context.initTypeList("groupList","checkedGroup",c.data.groups)})},this.getGroupUserList=s=>{var f=b.ZP.Organization.getGroupUserList({groupId:s}),c={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};we.WY.get({url:f,params:c}).then(a=>{a.data.users&&a.data.users.forEach(D=>{D.name=D.user_name,D.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("groupUser",a.data.users)})},this.getPostList=s=>{var f=b.ZP.Organization.getPostTree(),c={filter_auth:!this.props.filterAuthOpen,post_id:s,user_type:this.context.userType};we.WY.get({url:f,params:c}).then(a=>{a.data.posts=a.data.posts||[],a.data.posts.forEach(D=>{D.parentId=this.state.contextData.breadNav.map(F=>F.value),D.userCount=D.user_count,D.name=D.post_name}),this.setState({postList:a.data.posts}),this.context.initTypeList("postList","checkedPost",a.data.posts),this.context.initHidePostsStatus(a.data.hide_posts==="true")})},this.getPostUserList=s=>{var f=b.ZP.Organization.getPostUserList({postId:s}),c={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};we.WY.get({url:f,params:c}).then(a=>{a.data.users&&a.data.users.forEach(D=>{D.name=D.user_name,D.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("postUser",a.data.users)})},this.getUserList=function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r.props.type==="dept"?r.getDeptUserList(s,f):r.props.type==="group"?r.getGroupUserList(s):r.getPostUserList(s)},this.checkOne=(s,f,c)=>{var a=this.state.checkedCount;if(f==="list"){var D=this.context[this.state.listType].find(H=>H.id===s);D.isChecked=c,D.all_name&&typeof D.all_name=="object"&&delete D.all_name,a=c?a+1:a-1,this.context.checkListOne(D,this.state.checkedListType,this.state.listType)}else if(f==="user"){var F=this.context[this.state.checkedUserType].find(H=>H.id===s);F.isChecked=c,a=c?a+1:a-1,this.context.checkUserOne(F,this.state.checkedUserType)}this.updateCheckedCount(a)},this.updateCheckedCount=s=>{this.setState({checkedCount:s})},this.checkAll=function(){var s=(0,R.Z)(T().mark(function f(c){var a,D,F,H,ce,J,he,pe,me,ne,ye,Ne,He,Ge,oe;return T().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(a=r.state,D=a.contextData,F=a.cacheId,H=[...D.breadNav].reverse(),ce=(0,U.Z)(H,1),J=ce[0],he=J.value,pe=[...r.context[r.state.checkedListType]],me=J.authorized==="false",ne={departments:[],users:[]},!me){qe.next=12;break}return qe.next=9,Me({departmentId:he,cache_id:F});case 9:ye=qe.sent,Ne=ye.data,ne={departments:Ne.departments.map(Pe=>(Pe.isChecked=c,Pe.name=Pe.department_name,Pe.parentId=Pe.parent_ids.split("/"),Pe.parentAuthorize=!1,Pe.userCount=Pe.user_count,Pe)),users:Ne.users.map(Pe=>(Pe.isChecked=c,Pe.name=Pe.user_name,Pe.parentAuthorize=!1,Pe))};case 12:He=r.context[r.state.listType].map(Pe=>{Pe.isChecked=c,r.props.type!=="dept"&&pe.forEach(et=>{et.parentId.indexOf("".concat(Pe.id))!==-1&&(et.isChecked=!1)});var Xe=pe.findIndex(et=>et.id===Pe.id);return Xe!==-1?pe[Xe].isChecked=c:pe.push(Pe),Pe}),Ge=[],r.context.checkedUser.forEach(Pe=>{if(r.props.type!=="dept"){if(typeof Pe.parentId!="undefined"&&Pe.parentId.indexOf("".concat(he))!==-1&&Pe.parentId[Pe.parentId.length-1]!==he)return}else{var Xe=typeof Pe.parentId!="undefined"?Pe.parentId:Pe.department_ids||[];if(Xe.indexOf(he)!==-1)return}Ge.push(Pe)}),oe=ut.includes(r.state.listType)?[]:r.context[r.state.checkedUserType].map(Pe=>{Pe.isChecked=c;var Xe=Ge.findIndex(et=>et.id===Pe.id);return Xe!==-1?Ge[Xe].isChecked=c:Ge.push(Pe),Pe}),r.context.toggleDisplayList(r.state.checkedListType,M()(ne.departments,pe,"id"),r.state.listType,He,r.state.checkedUserType,oe,M()(ne.users,Ge,"id")),r.setState({checkedCount:c?(ut.includes(r.state.listType)?0:r.context[r.state.checkedUserType].length)+r.context[r.state.listType].length:0});case 18:case"end":return qe.stop()}},f)}));return function(f){return s.apply(this,arguments)}}(),this.nextLevel=(s,f,c)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var a=[...this.state.contextData.breadNav,{value:s.id,label:f,authorized:s.authorized}];this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{breadNav:a})},()=>{this.props.type==="post"?this.nextPostLevel(s.id,c):this.props.type==="dept"?this.nextDeptLevel(s.id,!(w()(s,"authorized")&&s.authorized==="true")):this.context.initTypeList("groupList","checkedGroup",[]),this.getUserList(s.id===st?nt:s.id,!(w()(s,"authorized")&&s.authorized==="true"))})},this.nextDeptLevel=(s,f)=>{if(this.context.asyncDeptTree)this.getDeptList(s,f);else{var c=this.state.deptList[s];typeof c!="undefined"&&c.forEach(a=>{a.parentId=this.state.contextData.breadNav.map(D=>D.value),a.userCount=a.user_count,a.name=a.department_name}),this.context.initTypeList("deptList","checkedDept",c||[])}},this.nextPostLevel=(s,f)=>{if(f){var c=(0,dt.lK)(this.state.postList,s),a=c.children.map(D=>(D.name=D.post_name,D.parentId=this.state.contextData.breadNav.concat([s]).map(F=>F.value),D.userCount=D.user_count,D));this.context.initTypeList("postList","checkedPost",a)}},this.changeLevel=(s,f,c)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var a=this.props.type==="group"?[this.state.contextData.breadNav[0]]:this.state.contextData.breadNav.slice(0,f+1);this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{breadNav:a}),isSearch:!1},()=>{this.props.type==="dept"?this.changeDeptLevel(s,c):this.props.type==="group"?this.changeGroupLevel(s):this.props.type==="cluster"?this.getClusterList():this.props.type==="class"?this.getClassList():this.changePostLevel(s)})},this.changeDeptLevel=function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(r.context.asyncDeptTree)r.getDeptList(s,f);else{var c=r.state.deptList[s];c.forEach(a=>{a.parentId=r.state.contextData.breadNav.map(D=>D.value),a.userCount=a.user_count,a.name=a.department_name}),r.context.initTypeList("deptList","checkedDept",c)}r.getDeptUserList(s===st?nt:s,f)},this.changePostLevel=s=>{var f=s==="1"?this.state.postList:(0,dt.lK)(this.state.postList,s).children,c=f.map(a=>(a.name=a.post_name,a.parentId=this.state.contextData.breadNav.concat([s]).map(D=>D.value),a.userCount=a.user_count,a));this.context.initTypeList("postList","checkedPost",c),s!=="1"&&this.getPostUserList(s===st?nt:s)},this.changeGroupLevel=s=>{s||(this.context.initTypeUser("groupUser",[]),this.context.initTypeList("groupList","checkedGroup",this.state.groupList))},this.state={postList:[],deptList:[],groupList:[],clusterList:[],classList:[],contextData:{breadNav:[this.props.defaultBreadNav],checkOne:this.checkOne,checkAll:this.checkAll,nextLevel:this.nextLevel,changeLevel:this.changeLevel},checkedCount:0,listType:"".concat(this.props.type,"List"),checkedListType:"checked".concat(this.props.type.charAt(0).toUpperCase()).concat(this.props.type.substr(1)),checkedUserType:"".concat(this.props.type,"User"),isSearch:!1,searchResult:[],loadDept:!1,loadUser:!1,cacheId:v.cacheId}}componentDidMount(){this.props.type!=="group"?this.props.type==="dept"?this.getDeptList("1").then(P=>{this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{breadNav:[{value:P.id,label:P.department_name,sourceType:P.source_type,authorized:P.authorized}]})}),this.getDeptUserList("1")}):this.getPostList("1"):this.getGroupList(1),this.props.type==="cluster"&&this.getClusterList(),this.props.type==="class"&&this.getClassList()}render(){return t().createElement(Y.Provider,{value:this.state.contextData},t().createElement("div",{className:"org-display-container org-display-dept"},t().createElement(ft,null),this.props.type==="dept"&&(this.state.loadDept||this.state.loadUser)?t().createElement("div",{className:"dept-loading"},t().createElement(u.Z,null)):null,t().createElement(gt,{dataTypeKey:this.props.type,disableHidden:this.props.disableHidden,scrollFlag:this.props.scrollFlag})))}}it.contextType=ae;var ft=(0,K.l)(Y,de),gt=(0,K.l)(Y,vt);it.defaultProps={defaultBreadNav:{value:"",label:"\u9177\u6E32\u79D1\u6280"},queryType:1,type:"dept",filterAuthOpen:!1,disableHidden:!1,scrollFlag:!1};var pt=it,yt=e(57663),Et=e(71577),Ee=e(54549);class l extends t().Component{constructor(){super(...arguments);this.removeItem=(P,v,r,s)=>{P.preventDefault(),v.isChecked=!1,s==="user"?this.context.removeCheckedUser(v):this.context.checkListOne(v,r,"".concat(s,"List"))},this.displayName=(P,v)=>{var r={user:"userName",dept:"departmentName"}[P]||"",s={user:v.unionid||v.user_id||v.userId,dept:v.id}[P]||v.id;return t().createElement(se.Z,{value:s,name:v.name,type:v.source_type||v.sourceType,dataType:r})},this.displayItem=P=>{var v=this.context,r=v.hidePosts,s=v.showUserCount,f="checked".concat(P.charAt(0).toUpperCase()).concat(P.substr(1)),c=this.context[f].map(a=>a.isChecked&&a.authorized!=="false"?t().createElement(Te.Z,{key:a.id,placement:"top",title:a.all_name||"",getPopupContainer:()=>document.querySelector(".checked-display-container")},t().createElement("div",{className:"display-item",key:a.id},this.displayName(P,a),P==="user"||r&&P==="post"?"":s&&a.userCount>-1?"(".concat(a.userCount,")"):"",a.reserve?null:t().createElement("span",{className:"display-item-close",onClick:D=>this.removeItem(D,a,f,P)},t().createElement(Ee.Z,{style:{fontSize:"8px",color:"#afb5d2"}})))):null);return c},this.handleClearSelected=()=>{this.context.clearSelectedAll()}}render(){var P=this.props.t,v=["dept","group","post","user","cluster","class"].map(r=>this.displayItem(r));return t().createElement("div",{className:"checked-display-container"},t().createElement("div",{className:"checked-display-container-header"},t().createElement("span",null,P("orgDialog.selected"),":"),t().createElement(Et.Z,{type:"link",onClick:this.handleClearSelected},P("orgDialog.clearAll"))),v)}}l.contextType=ae;var d=(0,B.Z)()(l),o=e(67222),i=e(6793),p=G.Z.Search;class E extends t().Component{constructor(P){var v;super(P);v=this,this.onChange=r=>{var s=this.props.appType,f=localStorage.getItem("qyWechatBook");if(r.preventDefault(),this.setState({value:r.target.value}),!(!r.target.value&&!this.props.showCancel)&&!this.props.disableChange){var c=s==="wx_app"&&f==="true";!(0,at.eY)("ORG_DIALOG_SEARCH")||c||(0,i.Ds)(this.debounceChange,500)()}},this.handleSearch=(r,s)=>{s.preventDefault(),!(!r&&!this.props.showCancel)&&this.extendReturn(r)},this.debounceChange=()=>{this.extendReturn(this.state.value)},this.extendReturn=function(){var r=(0,R.Z)(T().mark(function s(f){var c,a,D,F,H,ce,J,he,pe;return T().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(c=v.props,a=c.appType,D=c.selectType,F=c.appId,H=localStorage.getItem("qyWechatBook"),ce="",J=a==="wx_app"&&H==="true"&&F==="9005",!(f&&D==="user"&&J)){ne.next=17;break}return ne.prev=5,ne.next=8,(0,o.F_)(f);case 8:he=ne.sent,pe=he.data,pe.success&&(ce=pe.data),ne.next=17;break;case 13:ne.prev=13,ne.t0=ne.catch(5),console.error(ne.t0),ce="";case 17:v.props.onSearch(f,ce);case 18:case"end":return ne.stop()}},s,null,[[5,13]])}));return function(s){return r.apply(this,arguments)}}(),this.state={value:""}}render(){var P=this.props,v=P.t,r=P.selectType;return t().createElement("div",{className:"top-search"},t().createElement(p,{placeholder:v(r==="user"?"component.searchStudent":r==="dept"?"component.searchDepartment":r==="post"?"component.searchPost":r==="cluster"?"component.searchCluster":r==="class"?"component.searchClass":"setting.searchGroup"),value:this.state.value,onSearch:this.handleSearch,allowClear:!0,onChange:this.onChange}))}}var I=(0,Re.$j)($=>({appType:$.user.appType,appId:$.user.appId}))((0,B.Z)()(E)),x=e(87312);class S extends y.Component{constructor(){super(...arguments);this.checkedAll=(P,v)=>{this.props.checkedAll(v)},this.getIsCheckedAll=()=>{var P=this.props.list,v=[].concat(P);if(v.length===0)return!1;var r=v.findIndex(s=>!s.isChecked);return r===-1},this.checkUser=(P,v)=>{v.isChecked=!v.isChecked,this.context.checkUserOne(v,"checkedUser")},this.checkSingleUser=(P,v)=>{v.isChecked=!0,this.context.checkUserOne(v,"checkedUser")},this.checkDept=(P,v)=>{v.isChecked=!v.isChecked,this.context.checkListOne(v,"checkedDept","deptList")},this.checkPost=(P,v)=>{v.isChecked=!v.isChecked,this.context.checkListOne(v,"checkedPost","postList")},this.checkGroup=(P,v)=>{v.isChecked=!v.isChecked,this.context.checkListOne(v,"checkedGroup","groupList")},this.checkedCluster=(P,v)=>{v.isChecked=!v.isChecked,this.context.checkListOne(v,"checkedCluster","clusterList")}}renderList(){var P=this.props,v=P.userListType,r=P.list,s=P.t,f=P.isSingle,c=P.hidePosts;return v==="user"&&!f?r.map(a=>t().createElement("div",{className:"search-result-item",key:a.id,onClick:D=>{this.checkUser(D,a)}},t().createElement(ee.Z,{checked:a.isChecked},t().createElement(Ye,{cardInfo:a},t().createElement("span",{className:"user-names"},t().createElement(se.Z,{dataType:"userName",value:a.user_id,name:a.user_name,type:a.source_type}))),a.department_names&&a.department_names.length>0?t().createElement("span",{className:"user-dept"},t().createElement(Be.Z,{sourceType:a.source_type,list:a.leaf_department_ids,nameList:a.department_names})):null))):v==="user"&&f?r.map(a=>t().createElement("div",{className:"search-result-item",key:a.id,onClick:D=>{this.checkSingleUser(D,a)}},t().createElement("div",{className:"user-name"},t().createElement(Ye,{cardInfo:a},t().createElement(se.Z,{dataType:"userName",value:a.user_id,name:a.user_name,type:a.source_type}))),a.department_names&&a.department_names.length>0?t().createElement("span",{className:"user-name-dept"},t().createElement(Be.Z,{sourceType:a.source_type,list:a.leaf_department_ids,nameList:a.department_names})):null)):v==="dept"?r.map(a=>t().createElement("div",{className:"search-result-dept-item",key:a.id,onClick:D=>{this.checkDept(D,a)}},t().createElement(ee.Z,{checked:a.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},t().createElement(se.Z,{dataType:"departmentName",value:a.id,name:a.department_name,type:a.source_type})),a.path&&a.path.length>0?t().createElement(Te.Z,{title:a.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement(Be.Z,{list:a.department_infos||[],displayAll:!0}))):null)),t().createElement("div",{className:"department-right"},"(",a.userCount,s("common.userUnit"),")"))):v==="post"?r.map(a=>t().createElement("div",{className:"search-result-dept-item",key:a.id,onClick:D=>{this.checkPost(D,a)}},t().createElement(ee.Z,{checked:a.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},a.name),a.path&&a.path.length>0?t().createElement(Te.Z,{title:a.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement("span",null,a.path.join(">")))):null)),!c&&t().createElement("div",{className:"department-right"},"(",a.userCount,s("common.userUnit"),")"))):v==="group"?r.map(a=>t().createElement("div",{className:"search-result-dept-item",key:a.id,onClick:D=>{this.checkGroup(D,a)}},t().createElement(ee.Z,{checked:a.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},a.name),a.path&&a.path.length>0?t().createElement(Te.Z,{title:a.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement("span",null,a.path.join(">")))):null)),t().createElement("div",{className:"department-right"},"(",a.userCount,s("common.userUnit"),")"))):v==="cluster"?r.map(a=>t().createElement("div",{className:"search-result-dept-item",key:a.id,onClick:D=>{this.checkedCluster(D,a)}},t().createElement(ee.Z,{checked:a.isChecked,className:"department-left"},t().createElement("span",{className:"user-name"},a.name)),t().createElement("div",{className:"department-right"},"(",a.userCount,s("common.userUnit"),")"))):null}render(){var P=this.props,v=P.t,r=P.isSingle,s=this.getIsCheckedAll(),f=t().createElement("div",{className:"search-result-all"},t().createElement(ee.Z,{checked:s,onClick:c=>this.checkedAll(c,!s)},v("common.all")));return t().createElement("div",{className:"search-result-container more-height"},this.props.list.length>0?t().createElement(t().Fragment,null,!r&&f,this.renderList()):t().createElement(x.Z,{tipText:v("component.searchUserEmpty")}))}}S.contextType=ae,S.defaultProps={list:[]};var q=(0,B.Z)()(S),X=e(18329),te=e(65202),V=e(91648),Q=m.Z.TabPane,ue=n.Z.Option,Ce={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0 20px"},maskClosable:!1};class _e extends t().Component{constructor(P){var v;super(P);v=this,this.onCancel=()=>{var r=this.props.onCancel;this.setState({showCancel:!1}),r&&this.props.onCancel()},this.onOk=()=>{var r=this.props.onOk,s=this.state.contextData;this.setState({showCancel:!1});var f=0;if(r){var c=[];s.checkedDept.map(J=>(f+=J.isChecked?J.user_count:0,J.isChecked&&J.authorized!=="false"?c.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"dept"})):null));var a=[];s.checkedPost.map(J=>(f+=J.isChecked?J.user_count:0,J.isChecked?a.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"post"})):null));var D=[];s.checkedGroup.map(J=>(f+=J.isChecked?J.user_count:0,J.isChecked?D.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"group"})):null));var F=[];s.checkedUser.map(J=>{if(!J.reserve)return f+=J.isChecked?1:0,J.isChecked?F.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"user"})):null});var H=[];s.checkedCluster.map(J=>{if(!J.reserve)return f+=J.isChecked?1:0,J.isChecked?H.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"cluster"})):null});var ce=[];if(s.checkedClass.map(J=>{if(!J.reserve)return f+=J.isChecked?1:0,J.isChecked?ce.push((0,h.Z)((0,h.Z)({},J),{},{renderType:"class"})):null}),f>this.props.maxUserCount){k.default.warn(this.props.beyondLimitTip);return}r({dept:c,post:a,group:D,user:F,cluster:H,classes:ce})}},this.getListParentId=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];s.forEach(he=>{he.isChecked=!0,he.parentId=[""],he.userCount=he.userCount||he.user_count||0});var F=r.map(he=>he.id),H=c.map(he=>he.id);if(F||H){var ce=b.ZP.OrgDialog.getDeptParent(),J={query_type:1,dept_ids:F,user_ids:H};we.WY.post({url:ce,data:(0,h.Z)({},J)}).then(he=>{var pe=he.data.data;r.forEach(me=>{me.isChecked=!0;var ne=pe.find(ye=>ye.id===me.id)||{path:[]};me.parentId=ne.path[0]?ne.path[0].split("/").slice(1):[],me.userCount=ne.user_count||me.userCount||me.user_count||0}),f.forEach(me=>{me.isChecked=!0;var ne=pe.find(ye=>ye.id===me.id)||{path:[]};me.parentId=ne.path[0]?ne.path[0].split("/").slice(1):[],me.userCount=me.userCount||me.user_count||0}),c.forEach(me=>{me.isChecked=!0;var ne=[];pe.forEach(ye=>{ye.id===me.id&&ye.path.map(Ne=>{ne.push(...Ne.split("/").slice(1))})}),me.parentId=Array.from(new Set(ne))}),a.forEach(me=>{me.isChecked=!0;var ne=pe.find(ye=>ye.id===me.id)||{path:[]};me.parentId=ne.path[0]?ne.path[0].split("/").slice(1):[],me.userCount=me.userCount||me.user_count||0}),D.forEach(me=>{me.isChecked=!0;var ne=pe.find(ye=>ye.id===me.id)||{path:[]};me.parentId=ne.path[0]?ne.path[0].split("/").slice(1):[],me.userCount=me.userCount||me.user_count||0}),v.setState({contextData:(0,h.Z)((0,h.Z)({},v.state.contextData),{},{checkedDept:r,checkedGroup:s,checkedPost:f,checkedUser:c,checkedCluster:a,checkedClass:D})})})}else s.length>0?v.setState({contextData:(0,h.Z)((0,h.Z)({},v.state.contextData),{},{checkedGroup:s})}):v.setState({contextData:(0,h.Z)((0,h.Z)({},v.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[]})})},this.initHidePostsStatus=r=>{var s=this.state.contextData;this.setState({contextData:(0,h.Z)((0,h.Z)({},s),{},{hidePosts:r})})},this.initTypeList=(r,s,f)=>{f.forEach(c=>{var a=this.findItemIndex(c.id,s);a===-1?c.isChecked=!1:c.isChecked=this.state.contextData[s][a].isChecked}),this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{[r]:f})})},this.initTypeUser=(r,s)=>{var f=s||[...this.state.contextData[r]],c=this.props.reserveUser;f.forEach(a=>{var D=this.findItemIndex(a.id,"checkedUser");c.findIndex(F=>F.id===a.id)!==-1&&(a.reserve=!0),D===-1?a.isChecked=!1:a.isChecked=this.state.contextData.checkedUser[D].isChecked}),this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{[r]:f})})},this.toggleDisplayItem=(r,s)=>{var f=this.findItemIndex(r.id,s);return f===-1?s.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[s]:this.checkListParentId(s,r),checkedUser:r.isChecked?this.checkParentId(this.state.contextData.checkedUser,r.id):this.state.contextData.checkedUser}:{[s]:[...this.state.contextData[s],r]}:s.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[s]:this.checkListParentId(s,r),checkedUser:r.isChecked?this.checkParentId(this.state.contextData.checkedUser,r.id):this.state.contextData.checkedUser}:{checkedUser:this.getNewList(r,"checkedUser",!0),[s]:this.getNewList(r,s)}},this.toggleDisplayList=(r,s,f,c,a,D,F)=>{this.deleteAllName(s),this.deleteAllName(c),this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{[r]:s,[f]:c,[a]:D,checkedUser:F})})},this.deleteAllName=r=>{r.map(s=>(s.all_name&&typeof s.all_name=="object"&&delete s.all_name,s))},this.checkUserOne=(r,s)=>{this.props.single?this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{checkedUser:[r],[s]:s==="checkedUser"?[r]:this.getSingleUserList(r,s)})}):this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),this.toggleDisplayItem(r,s))})},this.dealAuthorizedFalseChecked=function(){var r=(0,R.Z)(T().mark(function s(f){var c,a,D,F,H,ce,J,he,pe;return T().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return c=v.state.contextData,a=c.cacheId,D=c.checkedDept,F=c.checkedUser,H={checkedDept:[],checkedUser:[]},ne.prev=2,ne.next=5,Me({departmentId:f.id,cache_id:a});case 5:ce=ne.sent,J=ce.data,he=J.departments,pe=J.users,he.push(f),he.map(ye=>(ye.isChecked=!0,ye.name=ye.department_name,ye.parentId=ye.parent_ids.split("/"),ye.parentAuthorize=!1,ye.userCount=ye.user_count,ye)),pe.map(ye=>(ye.isChecked=!0,ye.name=ye.user_name,ye.parentAuthorize=!1,v.toggleDisplayItem(ye,"deptUser"),ye)),H=(0,h.Z)((0,h.Z)({},H),{},{checkedUser:M()(pe,F,"id"),checkedDept:M()(he,D,"id")}),ne.next=16;break;case 13:ne.prev=13,ne.t0=ne.catch(2),console.error("\u83B7\u53D6\u90E8\u95E8\u7BA1\u8F96\u8303\u56F4\u51FA\u9519",ne.t0);case 16:return ne.abrupt("return",H);case 17:case"end":return ne.stop()}},s,null,[[2,13]])}));return function(s){return r.apply(this,arguments)}}(),this.dealAuthorizedFalseUnChecked=r=>{var s=this.state.contextData,f=s.checkedDept,c=s.checkedUser,a=s.deptUser,D=[],F=f.filter(ce=>ce.parent_ids.split("/").indexOf(r.id)===-1),H=c.filter(ce=>{var J=ce.department_ids.indexOf(r.id)===-1;return J||D.push(ce.id),J});return{checkedDept:F,checkedUser:H,deptUser:D.length>0?a.map(ce=>(D.indexOf(ce.id)>-1&&(ce.isChecked=!1),ce)):a}},this.checkListOne=function(){var r=(0,R.Z)(T().mark(function s(f,c,a){var D;return T().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(D={checkedDept:[],checkedUser:[]},!(f.authorized==="false"&&c==="checkedDept")){H.next=12;break}if(!f.isChecked){H.next=8;break}return H.next=5,v.dealAuthorizedFalseChecked(f);case 5:H.t0=H.sent,H.next=9;break;case 8:H.t0=v.dealAuthorizedFalseUnChecked(f);case 9:D=H.t0,H.next=14;break;case 12:f.parentAuthorize===!1&&f.isChecked===!1&&v.unCheckedParentDept(f,c),D=(0,h.Z)({[a]:v.getNewList(f,a,!1)},v.toggleDisplayItem(f,c));case 14:v.setState({contextData:(0,h.Z)((0,h.Z)({},v.state.contextData),D)});case 15:case"end":return H.stop()}},s)}));return function(s,f,c){return r.apply(this,arguments)}}(),this.removeCheckedUser=r=>{this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{checkedUser:this.getNewList(r,"checkedUser"),deptUser:this.getNewList(r,"deptUser"),postUser:this.getNewList(r,"postUser"),groupUser:this.getNewList(r,"groupUser"),searchResult:this.getNewList(r,"searchResult")})})},this.unCheckedParentDept=(r,s)=>{var f=this.state.contextData.checkedDept,c=f.filter(F=>F.authorized==="false"&&s==="checkedUser"?r.department_ids.indexOf(F.id)>-1:s==="checkedDept"?r.parentId.indexOf(F.id)>-1:!1),a=(0,U.Z)(c,1),D=a[0];D&&(D.isChecked=!1,this.toggleDisplayItem(D,"checkedDept"),this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{checkedDept:c})}))},this.checkListParentId=(r,s)=>{var f=[...this.state.contextData[r]],c=this.findItemIndex(s.id,r);return f.forEach(a=>{a.id!==s.id&&a.parentId.indexOf("".concat(s.id))!==-1?a.isChecked=!1:a.id===s.id&&(a.isChecked=s.isChecked)}),c===-1&&f.push(s),f},this.checkParentId=(r,s)=>{var f=[];return r.forEach(c=>{var a=typeof c.parentId!="undefined"?c.parentId:c.department_ids||[];a.indexOf(s)===-1&&f.push(c)}),f},this.getNewList=(r,s,f)=>{var c=[...this.state.contextData[s]],a=this.findItemIndex(r.id,s);return a===-1?f&&c.push(r):c[a].isChecked=r.isChecked,c},this.getSingleUserList=(r,s)=>{var f=[...this.state.contextData[s]];return f.forEach(c=>{c.id===r.id?c.isChecked=r.isChecked:c.isChecked=!1}),f},this.findItemIndex=(r,s)=>this.state.contextData[s].findIndex(f=>f.id===r),this.clearTabPanelList=(r,s)=>{this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{[r]:[],[s]:[]})})},this.getTabs=()=>{var r=[],s,f,c=this.props,a=c.t,D=c.filterAuthOpen,F=c.disableHidden,H=c.scrollFlag,ce=this.state.contextData,J=ce.canUseGroups,he=ce.canUseClass;return this.state.displayType.forEach(pe=>{switch(pe){case"dept":r.push({label:a("component.orgDialogDeptLabel"),key:"dept",defaultBreadNav:{value:"",label:"",sourceType:""},queryType:1});break;case"group":r.push({label:a("component.orgDialogGroupLabel"),key:"group",queryType:2,defaultBreadNav:{value:"",label:a("component.userGroup")}});break;case"post":r.push({label:a("component.orgDialogPostLabel"),key:"post",defaultBreadNav:{value:"1",label:a("common.post")},queryType:3});break;case"cluster":J&&r.push({label:a("component.orgDialogClusterLabel"),key:"cluster",defaultBreadNav:{value:"",label:""},queryType:4});break;case"class":he&&r.push({label:a("component.orgDialogClassLabel"),key:"class",defaultBreadNav:{value:"",label:""},queryType:5});break}}),r.length===1?f=t().createElement(pt,{defaultBreadNav:r[0].defaultBreadNav,queryType:r[0].queryType,type:r[0].key,filterAuthOpen:D,disableHidden:F,scrollFlag:H}):(s=r.map(pe=>t().createElement(Q,{tab:pe.label,key:pe.key},t().createElement(pt,{defaultBreadNav:pe.defaultBreadNav,queryType:pe.queryType,type:pe.key,filterAuthOpen:D,disableHidden:F,scrollFlag:H}))),f=t().createElement(m.Z,null,s)),f},this.handleSearch=(r,s)=>{var f=this.state.selectType;f==="user"?this.getUserList(r,s):f==="dept"?this.getDeptList(r):f==="post"?this.getPostList(r):f==="cluster"?this.getClusterResult(r):f==="class"?this.getClassResult(r):this.getGroupList(r)},this.getClusterResult=r=>{var s=b.ZP.OrgDialog.getClusterList(),f={keyword:r};we.WY.get({url:s,params:f}).then(c=>{this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedCluster",c.data.data.map(a=>({name:a.name,userCount:a.user_count,id:a.id,parentId:[""]})))})},this.getUserList=(r,s)=>{var f=b.ZP.OrgDialog.getUserByName(),c={user_name:s===""?r:"",filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType,userIds:s};we.WY.get({url:f,params:c}).then(a=>{a.data.users&&a.data.users.forEach(D=>{D.name=D.user_name}),this.setState({showCancel:!0}),this.initTypeUser("searchResult",a.data.users||[])})},this.getDeptList=r=>{var s=b.ZP.Organization.queryDept(),f={department_name:r,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};we.WY.get({url:s,params:f}).then(c=>{c.data.departments&&c.data.departments.forEach(a=>{a.name=a.department_name,a.parentId=a.parent_ids?a.parent_ids.split("/"):[],a.userCount=a.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedDept",c.data.departments||[])})},this.getPostList=r=>{var s=b.ZP.Organization.addPost(),f={post_name:r,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};we.WY.get({url:s,params:f}).then(c=>{c.data.posts&&c.data.posts.forEach(a=>{a.name=a.post_name,a.parentId=a.parent_id?a.parent_id.split("/"):[],a.userCount=a.user_count}),this.setState({hidePosts:c.data.hide_posts,showCancel:!0}),this.initTypeList("searchResult","checkedPost",c.data.posts||[])})},this.getGroupList=r=>{var s=b.ZP.Organization.getGroupList(),f={group_name:r,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};we.WY.get({url:s,params:f}).then(c=>{c.data.groups&&c.data.groups.forEach(a=>{a.name=a.group_name,a.parentId=a.parent_id?a.parent_id.split("/"):[],a.userCount=a.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedGroup",c.data.groups||[])})},this.checkAllResult=r=>{var s=this.state,f=s.selectType,c=s.contextData,a="checked".concat(f.charAt(0).toUpperCase()).concat(f.substr(1)),D=[...c[a]],F=c.searchResult.map(ce=>{ce.isChecked=r;var J=D.findIndex(he=>he.id===ce.id);return J!==-1?D[J].isChecked=r:D.push(ce),ce}),H=D;this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{[a]:H,searchResult:F})})},this.clearSelectedAll=()=>{var r=this.state.contextData,s=r.checkedDept,f=r.checkedGroup,c=r.checkedPost,a=r.checkedUser,D=r.checkedCluster,F=r.checkedClass,H=r.deptList,ce=r.groupList,J=r.postList,he=r.clusterList,pe=r.classList,me=r.deptUser,ne=r.groupUser,ye=r.postUser,Ne=He=>(He.forEach(Ge=>{Ge.isChecked=!1}),He);this.setState({contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],deptList:s.length>0?Ne(H):H,groupList:f.length>0?Ne(ce):ce,postList:c.length>0?Ne(J):J,clusterList:D.length>0?Ne(he):he,classList:F.length>0?Ne(pe):pe,deptUser:a.length>0?Ne(me):me,groupUser:a.length>0?Ne(ne):ne,postUser:a.length>0?Ne(ye):ye})})},this.handleCancel=()=>{this.setState({showCancel:!1})},this.handleSelectChange=r=>{this.setState({selectType:r,contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{searchResult:[]})})},this.state={title:P.title||P.t("component.chooseAssignScope"),displayType:P.displayType?P.displayType:["dept"],selectType:"user",showCancel:!1,hidePosts:!1,contextData:{showUserCount:P.showUserCount,deptList:[],groupList:[],postList:[],clusterList:[],classList:[],deptUser:[],groupUser:[],postUser:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[],onlyUser:P.onlyUser,onlyDept:P.onlyDept,onlyPost:P.onlyPost,canUseGroups:P.useGroups,canUseClass:P.useClass,single:P.single,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,userType:this.props.userType,initTypeList:this.initTypeList,initTypeUser:this.initTypeUser,toggleDisplayItem:this.toggleDisplayItem,toggleDisplayList:this.toggleDisplayList,checkListOne:this.checkListOne,checkUserOne:this.checkUserOne,removeCheckedUser:this.removeCheckedUser,clearTabPanelList:this.clearTabPanelList,maxDeptUserCount:P.maxDeptUserCount,hidePosts:!1,initHidePostsStatus:this.initHidePostsStatus,cacheId:(0,V.Z)(),clearSelectedAll:this.clearSelectedAll}}}componentDidUpdate(P){if(P.visible!==this.props.visible&&this.props.visible){var v=this.props.initData,r=v.dept,s=v.group,f=v.post,c=v.user,a=v.cluster,D=v.classes;console.warn(c,"user");var F=this.props,H=F.reserveUser,ce=F.t,J=F.onlyDept,he=F.onlyPost;H.forEach(pe=>{pe.reserve=!0}),this.setState({title:this.props.title||ce("component.chooseAssignScope"),displayType:this.props.displayType?this.props.displayType:["dept"],selectType:he?"post":J?"dept":"user",contextData:(0,h.Z)((0,h.Z)({},this.state.contextData),{},{deptList:[],groupList:[],postList:[],deptUser:[],clusterList:[],classList:[],groupUser:[],postUser:[],searchResult:[],onlyUser:this.props.onlyUser,onlyDept:this.props.onlyDept,canUseGroups:this.props.useGroups,canUseClass:this.props.useClass,onlyPost:this.props.onlyPost,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,cacheId:(0,V.Z)()})},()=>{this.getListParentId(r,s,f,c.concat(H),a,D)})}}componentWillUnmount(){be({cacheId:this.state.contextData.cacheId}).then(()=>{console.warn("\u6E05\u9664\u7F13\u5B58\u6210\u529F")}).catch(P=>{console.error("\u6E05\u9664\u7F13\u5B58\u5931\u8D25",P)})}render(){var P=this.getTabs(),v=this.props,r=v.t,s=v.onlyUser,f=v.onlyDept,c=v.onlyPost,a=v.displayType,D=v.useGroups,F=v.useClass,H=v.onlyChoosePost,ce=(0,te.p)(),J=this.state,he=J.showCancel,pe=J.selectType,me=J.hidePosts;return Ce.okText=this.props.okText||r("common.ok"),t().createElement(X.ZP,(0,L.Z)({},Ce,this.props.modalConfig,{visible:this.props.visible,title:this.state.title,wrapClassName:[this.props.className,"cl-org-modal"],onCancel:this.onCancel,onOk:this.onOk}),t().createElement(ae.Provider,{value:this.state.contextData},t().createElement("div",{className:"cl-org"},t().createElement("div",{className:"cl-org-left"},this.props.visible?t().createElement("div",{className:"cl-org-left__top"},t().createElement(G.Z.Group,{compact:!0},t().createElement(n.Z,{className:"cl-org-left__top__select",value:pe,style:{width:80},onChange:this.handleSelectChange},t().createElement(ue,{value:"user",disabled:f||c||H},r("authGroup.userLabel")),t().createElement(ue,{value:"dept",disabled:s||H},r("setting.deptLabel")),t().createElement(ue,{value:"post",disabled:!c&&(f||s)||a.length===1},r("common.post")),t().createElement(ue,{value:"group",disabled:f||s||a.length===1||H},r("component.userGroup")),D?t().createElement(ue,{value:"cluster"},r("component.useCluster")):null,F?t().createElement(ue,{value:"class"},r("component.useClass")):null),t().createElement(I,{selectType:pe,onSearch:this.handleSearch,showCancel:he,disableChange:this.props.disableChange})),he?t().createElement("div",{className:"cl-org-left__top__cancel",onClick:this.handleCancel,style:{color:ce}},r("common.cancel")):null):null,he?t().createElement(q,{isSingle:this.props.single,list:this.state.contextData.searchResult,userListType:pe,checkedAll:this.checkAllResult,hidePosts:me}):P),t().createElement("div",{className:"cl-org-right"},t().createElement(d,null)))))}}_e.defaultProps={visible:!0,showUserCount:!0,displayType:["dept","group","post","cluster","class"],initData:{dept:[],post:[],group:[],user:[],cluster:[],classes:[]},reserveUser:[],onlyUser:!1,onlyDept:!1,onlyPost:!1,useGroups:!1,useClass:!1,asyncDeptTree:!0,userType:"active",single:!1,maxUserCount:Infinity,filterAuthOpen:!1,disableHidden:!1,beyondLimitTip:"",onOk:()=>{},modalConfig:{},maxDeptUserCount:0,onlyChoosePost:!1,scrollFlag:!1};var Oe=(0,B.Z)()(_e)},36202:function(De,re,e){"use strict";e.d(re,{f:function(){return N}});var L=e(62029),C=e(57361),G=e(33565),U=e(9754),R=e.n(U),W=e(12924),k=e.n(W),h=e(28175),A=e(41647),n=e(93485);function g(M){var Z={};if(M.length===0)return Z;var u=(0,n.Z)(M),O;try{for(u.s();!(O=u.n()).done;){var w=O.value,K=w,b=K.field,z=K.fixed,Y=K.order,j=K.show;j?j==="true"||j===!0?Z[b]={fixed:z,order:Y,show:!0}:Z[b]={fixed:z,order:Y,show:!1}:Z[b]={fixed:z,order:Y,show:!0}}}catch(ae){u.e(ae)}finally{u.f()}return Z}function m(M){var Z=[],u=Object.entries(M);if(u.length===0)return Z;for(var O=0,w=u;O<w.length;O++){var K=w[O],b=(0,G.Z)(K,2),z=b[0],Y=b[1],j=Y.fixed,ae=Y.order,ve=Y.show;Z.push({field:z,show:ve,fixed:j,order:ae})}return Z}var _=e(38642),T=(M,Z)=>{var u=(0,W.useState)(M),O=(0,G.Z)(u,2),w=O[0],K=O[1];return(0,W.useEffect)(()=>{var b=setTimeout(()=>{K(M)},Z);return()=>{clearTimeout(b)}},[M,Z]),w},y=T;function t(M,Z){var u=useRef(Z);useEffect(()=>{u.current=Z},[Z]),useEffect(()=>{var O=w=>{var K,b;console.warn(M.current,"node.current",w.target),!((K=(b=M.current)===null||b===void 0?void 0:b.contains(w.target))!==null&&K!==void 0?K:!1)&&u.current&&u.current()};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[M])}var B=!1;function N(M){var Z=(0,W.useState)({}),u=(0,G.Z)(Z,2),O=u[0],w=u[1],K=M.prefixCls,b=M.rowKey,z=M.columnEmptyText,Y=M.pagination,j=M.headerTitle,ae=M.toolBarRender,ve=M.size,ie=M.loading,se=ie===void 0?!1:ie,fe=M.tableUUID;fe||console.error("tableUUID is required!!!"),(0,W.useEffect)(()=>{function ee(ge){return le.apply(this,arguments)}function le(){return le=(0,C.Z)(R().mark(function ge(ke){var Te,Se,xe,Le,Fe,je,Ue,We;return R().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.next=2,(0,_.Kb)((0,A.U)(ke));case 2:if(Te=Re.sent,Se=(0,G.Z)(Te,2),xe=Se[0],Le=Se[1],!xe){Re.next=8;break}return Re.abrupt("return");case 8:Fe=Le.data,je=Fe.data,Ue=je.fields,We=g(Ue)||{},We&&(B=!1,w(We));case 13:case"end":return Re.stop()}},ge)})),le.apply(this,arguments)}return fe&&ee(fe),()=>{B=!1}},[fe]);var de=y(O,1e3);(0,W.useEffect)(()=>{!B||(0,A.I)(fe,m(O))},[de]);function Ie(ee){B=!0,w(ee)}return k().createElement("div",{className:"SampleProTable_container ".concat(M.className)},k().createElement(h.ZP,(0,L.Z)({size:ve||"middle",rowKey:b||"id",columnEmptyText:z||!1,pagination:Y||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:se,headerTitle:j||"",toolBarRender:ae||null,columnsStateMap:O,onColumnsStateChange:Ie},M,{className:"".concat(K,"-table")})))}},41647:function(De,re,e){"use strict";e.d(re,{I:function(){return G},U:function(){return U}});var L=e(37055),C=e(10237);function G(R){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=L.ZP.tableHeader.save(),h={fields:W,key:R};return C.WY.post({url:k,data:h})}function U(R){var W=L.ZP.tableHeader.get(R);return C.WY.get({url:W})}},16598:function(De,re,e){"use strict";var L=e(59250),C=e(13013),G=e(30887),U=e(99210),R=e(62029),W=e(12924),k=e.n(W),h=e(57254),A=e(91768),n=e(26096),g=(_,T)=>{var y=_.map(t=>k().createElement(n.Z,(0,R.Z)({},t,{type:T,key:t.key||t.type})));return T==="more"?k().createElement(U.Z,null,y):y},m=_=>{var T=_.buttons,y=_.t,t=_.visibleNum,B=T.filter(u=>u.visible),N=t||1,M=[],Z=[];if(B.length<=N)Z=[...B];else if(B.length>N)Z=[...B.slice(0,N)],M=[...B.slice(N)];else return"/";return k().createElement("div",{className:"cl-table__cell-action"},g(Z),Z.some(u=>u.visible)&&M.some(u=>u.visible)?k().createElement(k().Fragment,null,k().createElement("span",{className:"cl-pointer-divide"}),k().createElement(C.Z,{overlay:g(M,"more")},k().createElement("span",{className:"cl-pointer"},y("common.more")," ",k().createElement(h.Z,null)))):null)};m.defaultProps={visibleNum:1},re.Z=(0,A.Z)()(m)},99891:function(De,re,e){"use strict";var L=e(12924),C=e.n(L),G=e(28216),U=e(91768),R=e(37055),W=e(10237),k=e(60667);class h extends C().PureComponent{constructor(g){super(g);this.getWaterMarkText=m=>{var _=this.props.userInfo,T=_.jobNumber,y=localStorage.getItem("waterMarkPostName"),t=[],B=m.find(M=>M.type==="content_setting"),N=m.find(M=>M.type==="content_custom");return B.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),N.param.checked==="true"&&N.param.comment[0]!==""&&this.setState({commentText:N.param.comment[0]}),B.param.comment.indexOf("position")!==-1&&y&&y!==""&&t.push("".concat(y)),B.param.comment.indexOf("jobnumber")!==-1&&T&&T!==""&&t.push("".concat(T)),t.join("-")},this.getWaterMarkApplication=m=>{var _=this.props.scenes,T=m.find(y=>y.type==="application_scenario");T.param.comment.indexOf(_)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=m=>{var _=m.find(T=>T.type==="dispersive");this.setState({isDispersive:_.param.checked==="true"})},this.getDynamicSet=()=>{var m=R.ZP.advancedSetting.dynamicWaterMarkNew(),_={access_token:window.localStorage.getItem("token")};W.WY.get({url:m,params:_}).then(T=>{var y=JSON.parse(T.data.actions);this.setState({waterMarkText:this.getWaterMarkText(y),actions:y}),this.getWaterMarkApplication(y),this.getWaterIsDispersive(y)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var g=localStorage.getItem("waterMarkPostName");g===""||g===null?this.getPostName():this.getDynamicSet()}getPostName(){var g=R.ZP.advancedSetting.getPostName();W.WY.get({url:g}).then(m=>{localStorage.setItem("waterMarkPostName",m.data.post_names[0]||""),this.getDynamicSet()})}render(){var g=this.state,m=g.showWaterMark,_=g.waterMarkCount,T=g.isUserName,y=g.isDispersive,t=g.waterMarkText,B=g.actions,N=g.commentText,M=this.props.userInfo,Z=M.name,u=M.unionid,O=M.sourceType;return C().createElement("div",{className:"common-watermark"},m&&new Array(_).fill(0).map((w,K)=>C().createElement("div",{key:K,className:"common-watermark-item ".concat(y?"isDispersive":"")},C().createElement("span",{className:"common-watermark-item-content"},N!==""&&C().createElement("span",{className:"item-part"},N),T&&C().createElement("span",null,N!==""&&C().createElement("span",null,"-"),C().createElement(k.Z,{dataType:"userName",value:u,name:Z,type:O})),C().createElement("span",{className:"item-part"},(T||N!=="")&&t!==""&&C().createElement("span",null,"-"),t)))))}}var A=n=>({userInfo:n.user});re.Z=(0,G.$j)(A)((0,U.Z)()(h))},55285:function(De,re,e){"use strict";e.d(re,{Z:function(){return Y}});var L=e(20228),C=e(11382),G=e(62029),U=e(88986),R=e(22385),W=e(31097),k=e(57361),h=e(33565),A=e(9754),n=e.n(A),g=e(12924),m=e.n(g),_=e(91768),T=e(28216),y=e(93485),t=e(38642);function B(j){var ae={};if(j)for(var ve=0,ie=Object.entries(j);ve<ie.length;ve++){var se=ie[ve],fe=(0,h.Z)(se,2),de=fe[0],Ie=fe[1];ae["user_info_".concat((0,t.FI)(de))]=Ie}return ae}function N(j){if(!Array.isArray(j))return[];var ae=j.map(ve=>{var ie=ve.user_info,se=ve.userInfo,fe={},de=ie||se;if(de){var Ie=de.extendList,ee=de.extend_list,le=Ie||ee||[];if(le.length>0){var ge=(0,y.Z)(le),ke;try{for(ge.s();!(ke=ge.n()).done;){var Te=ke.value,Se=Te.columnKey,xe=Te.column_key,Le=Te.extendValue,Fe=Te.extend_value;fe["user_info_".concat((0,t.FI)(Se||xe))]=Le||Fe}}catch(je){ge.e(je)}finally{ge.f()}}}return(0,U.Z)((0,U.Z)((0,U.Z)({},ve),fe),B(de))});return ae}function M(j,ae){for(var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",ie=j.slice(0).reverse(),se=0;se<ie.length;se+=1)for(var fe=se+1;fe<ie.length;fe+=1)ie[se][ae]===ie[fe][ae]&&(ie.splice(fe,1),fe-=1);return ve==="right"?ie.reverse():ie}var Z=e(17215),u=e(36202),O=e(6793),w=e(9925),K=e(6934),b=j=>({userInfo:j.user}),z=(0,g.forwardRef)((j,ae)=>{var ve=j.tableUUID,ie=j.withLoginPhoneNumber,se=j.withCustomField,fe=j.withLoginEmail,de=j.withJoinTime,Ie=j.onlyShowCurrentDept,ee=(0,g.useState)([]),le=(0,h.Z)(ee,2),ge=le[0],ke=le[1],Te=(0,g.useState)([]),Se=(0,h.Z)(Te,2),xe=Se[0],Le=Se[1],Fe=(0,g.useState)(!1),je=(0,h.Z)(Fe,2),Ue=je[0],We=je[1];ve||console.error("tableUUID is required!!!"),(0,g.useImperativeHandle)(ae,()=>({getColumns:()=>ge})),(0,g.useEffect)(()=>{function Re(){return Be.apply(this,arguments)}function Be(){return Be=(0,k.Z)(n().mark(function we(){var Ke,ze,$e,Ae,Me;return n().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return We(!0),Ze.next=3,(0,t.Kb)((0,Z.h)());case 3:if(Ke=Ze.sent,ze=(0,h.Z)(Ke,2),$e=ze[0],Ae=ze[1],!$e){Ze.next=10;break}return We(!1),Ze.abrupt("return");case 10:Me=Ae.data,se||(Me=Me.filter(Ve=>Object.keys(Ve)[0].indexOf("column")===-1)),fe||(Me=Me.filter(Ve=>Object.keys(Ve)[0].indexOf("loginEmail")===-1)),de||(Me=Me.filter(Ve=>Object.keys(Ve)[0].indexOf("joinTime")===-1)),We(!1),Le(Me);case 16:case"end":return Ze.stop()}},we)})),Be.apply(this,arguments)}Re()},[]),(0,g.useEffect)(()=>{var Re=xe.map((Ke,ze)=>{var $e=(0,h.Z)(Array.from(Object.entries(Ke))[0],2),Ae=$e[0],Me=$e[1];return j.nameColumn&&ze===0?j.nameColumn:Ae==="name"?{title:Me,dataIndex:"user_info_".concat(Ae),key:"user_info_".concat(Ae),width:150,fixed:"left",render:(be,Ze)=>m().createElement(W.Z,{title:m().createElement(w.Z,{userId:Ze.user_info.id,userName:be})},m().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},Ze.user_info&&m().createElement(w.Z,{userId:Ze.user_info.id,userName:be}),!Ze.user_info&&be))}:Ae==="deptName"||Ae==="dept_name"?{title:Me,dataIndex:"user_info_".concat(Ae),key:"user_info_".concat(Ae),width:150,fixed:"left",render:(be,Ze)=>{var Ve=Ze.user_info,Je=Ve.department_infos,Ye=Ve.department_info;return be?m().createElement(W.Z,{title:m().createElement(K.P,{allDepartmentsList:Je||[]})},m().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},m().createElement(K.P,{allDepartmentsList:(Ie?Ye:Je)||[]}))):"--"}}:Ae==="joinTime"?{title:Me,dataIndex:"user_info_".concat(Ae),key:"user_info_".concat(Ae),width:150,render:be=>m().createElement(W.Z,{title:be?(0,O.p6)(be,"yyyy-MM-dd hh:mm:ss"):"--"},m().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},be?(0,O.p6)(be,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:Me,dataIndex:"user_info_".concat(Ae),key:"user_info_".concat(Ae),width:150,render:be=>m().createElement(W.Z,{title:be},m().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},be||"--"))}}),Be=j.columns.map(Ke=>Ke.dataIndex==="creator_user_name"?(0,U.Z)((0,U.Z)({},Ke),{},{render:(ze,$e)=>m().createElement(W.Z,{title:m().createElement(w.Z,{userId:$e.creator_sync_user_id,userName:ze})},m().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},m().createElement(w.Z,{userId:$e.creator_sync_user_id,userName:ze})))}):Ke),we=j.headExtra.concat(Re).concat(ie?[{title:j.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:Ke=>Ke||"--"}]:[]).concat(Be);ke(we)},[j.headExtra,j.columns,j.nameColumn,xe,j.userInfo.appType]);var Qe=(0,g.useMemo)(()=>N(j.dataSource),[j.dataSource]);return m().createElement(C.Z,{spinning:Ue},m().createElement(u.f,(0,G.Z)({scroll:{y:j.y||"100%",x:j.x||"max-content"}},j,{columns:ge,dataSource:Qe})))});z.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var Y=(0,T.$j)(b,null,null,{forwardRef:!0})((0,_.Z)("translation",{withRef:!0})(z))},17215:function(De,re,e){"use strict";e.d(re,{h:function(){return G}});var L=e(37055),C=e(10237);function G(){var U=L.ZP.getUserInfoColumnConfig();return C.WY.get({url:U})}},80430:function(De,re,e){"use strict";var L=e(12924),C=e.n(L),G=e(60667),U=R=>{var W=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},_=m.department_ids.split("/"),T=m.department_names.split("/"),y=_.map((t,B)=>C().createElement(G.Z,{key:t,dataType:"departmentName",value:t,name:T[B],type:m.source_type}));return C().createElement(C().Fragment,null,y.map((t,B)=>C().createElement("span",{key:t},t,B===T.length-1?"":"/")))},k=g=>C().createElement(G.Z,{dataType:"departmentName",value:g.department_id,name:g.department_name,type:g.source_type}),h=()=>{var g=R.list,m=g===void 0?[]:g,_=R.isBlock;if(!m.length)return null;var T=m.map(y=>W(y));return T.length&&T.length>1?C().createElement(C().Fragment,null,T.map((y,t)=>_?C().createElement("div",{key:y},y):C().createElement("span",{key:y},y,t===T.length-1?"":"\uFF0C"))):C().createElement(C().Fragment,null,T[0]||"")},A=()=>{var g=R.list,m=R.nameList,_=R.sourceType,T=R.isBlock,y=g.map((t,B)=>k({department_id:t,department_name:m[B],source_type:_}));return C().createElement(C().Fragment,null,y.map((t,B)=>T?C().createElement("div",{key:t},t):C().createElement("span",{key:t},t,B===y.length-1?"":"\uFF0C")))},n=()=>R.displayAll?h():A();return n()};U.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},re.Z=U},60667:function(De,re,e){"use strict";e.d(re,{Z:function(){return h}});var L=e(33565),C=e(12924),G=e.n(C),U=e(28216);function R(A){var n=A.type,g=A.openid,m=A.from,_=(0,C.useRef)(null);return(0,C.useLayoutEffect)(()=>{m==="vue"?window.parent.WWOpenData.bind(_.current):WWOpenData.bind(_.current)}),G().createElement("ww-open-data",{ref:_,type:n,openid:g})}var W=A=>{var n=A.wxWorkApiFlag,g=A.appType,m=A.from,_=(0,C.useState)(!1),T=(0,L.Z)(_,2),y=T[0],t=T[1];(0,C.useEffect)(()=>{var M=localStorage.getItem("qyWechatBook");(g!=="wx_app"||n||M==="false"||m==="vue"||m==="taro")&&t(!0)},[n,g,m]);var B=(0,C.useCallback)(()=>{var M=A.type,Z=A.value,u=A.name,O=u===void 0?"":u;switch(console.warn(A,"props"),M){case"wx_sync":{var w=A.dataType;return Z?G().createElement(R,{from:m,type:w,openid:Z}):O}default:return O}},[A]),N=()=>{var M=A.name,Z=A.dataType,u=localStorage.getItem("qyWechatBook");if(Z===""||u==="false")return M;if(m==="vue"||m==="taro")return B();switch(A.appType){case"wx_app":return B();default:return M}};return y?N():A.name};W.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var k=A=>({appType:A.user.appType,wxWorkApiFlag:A.user.wxWorkApiFlag}),h=(0,U.$j)(k)(W)},6934:function(De,re,e){"use strict";e.d(re,{P:function(){return B}});var L=e(12924),C=e.n(L),G=e(18446),U=e.n(G),R=e(57361),W=e(33565),k=e(9754),h=e.n(k),A=e(28216);function n(N){var M=N.openid,Z=(0,L.useRef)(null);return(0,L.useLayoutEffect)(()=>{var u=window.parent.WWOpenData;u&&u.bind(Z.current)}),C().createElement("ww-open-data",{ref:Z,type:"departmentName",openid:M})}var g=e(14441),m=N=>{var M=N.separator,Z=N.departmentIds,u=N.departmentNames,O=N.appType,w=(0,L.useState)([]),K=(0,W.Z)(w,2),b=K[0],z=K[1];(0,L.useEffect)(()=>{O==="wx_app"&&Y()},[Z]);function Y(){return j.apply(this,arguments)}function j(){return j=(0,R.Z)(h().mark(function ie(){var se,fe,de;return h().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,(0,g.t)(Z);case 2:se=ee.sent,fe=se.code,de=se.data,fe==="200000"&&de&&z(de);case 5:case"end":return ee.stop()}},ie)})),j.apply(this,arguments)}function ae(){return b.length?C().createElement(C().Fragment,null,b.map((ie,se)=>ie.hasName?C().createElement(C().Fragment,null,ie.name,se===u.length-1?"":M):C().createElement(C().Fragment,null,C().createElement(n,{openid:ie.thirdId}),se===u.length-1?"":M," "))):null}function ve(){var ie="";return u.forEach((se,fe)=>{ie+=se+(fe===u.length-1?"":M)}),C().createElement(C().Fragment,null,ie)}switch(O){case"wx_app":return ae();default:return ve()}};m.defaultProps={departmentIds:[],departmentNames:[],separator:","};var _=N=>({appType:N.user.appType}),T=C().memo((0,A.$j)(_)(m)),y=N=>{var M=N.allDepartmentsList,Z=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},w=O.department_ids.split("/"),K=O.department_names.split("/");return C().createElement(T,{departmentNames:K,departmentIds:w,separator:"/"})};return M.length?C().createElement(C().Fragment,null,M.map((u,O)=>C().createElement("span",{key:u.department_ids},Z(u),O===M.length-1?"":"\uFF0C"))):null};y.defaultProps={allDepartmentsList:[]};function t(N,M){return U()(N,M)}var B=C().memo(y,t)},48479:function(De,re,e){"use strict";var L=e(62029),C=e(57361),G=e(47673),U=e(4107),R=e(9754),W=e.n(R),k=e(12924),h=e.n(k),A=e(91768),n=e(94184),g=e.n(n),m=e(28216),_=e(84874),T=e(67222),y=e(2396),t=U.Z.Search;class B extends h().Component{constructor(M){var Z;super(M);Z=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>h().createElement(_.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var u=(0,C.Z)(W().mark(function O(w){var K,b,z,Y,j,ae,ve,ie,se;return W().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(K=Z.props,b=K.appType,z=K.exChange,Y=K.appId,j=localStorage.getItem("qyWechatBook"),ae="",ve=b==="wx_app"&&j==="true"&&z&&Y==="9005",!(w&&ve)){de.next=17;break}return de.prev=5,de.next=8,(0,T.F_)(w);case 8:ie=de.sent,se=ie.data,se.success?ae=se.data:ae="",de.next=17;break;case 13:de.prev=13,de.t0=de.catch(5),console.error(de.t0),ae="";case 17:Z.props.onSearch(w,ae);case 18:case"end":return de.stop()}},O,null,[[5,13]])}));return function(O){return u.apply(this,arguments)}}(),this.handleChange=u=>{var O=u.target.value,w=u.type,K=O;this.props.LimitLength&&(0,y.$s)(O)>this.props.LimitLength&&(K=O.substring(0,(0,y.rw)(O,this.props.LimitLength))),this.setState({searchValue:K});var b=!1;this.props.onSearch&&(w==="click"&&(b=!0),this.props.immediate&&w==="change"&&(b=!0)),b&&this.handleSearch(O)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(M){M.onRef&&M.onRef(this)}render(){var M=this.state.searchValue,Z=this.props,u=Z.prefixCls,O=Z.placeholder,w=Z.width,K=Z.maxLength,b=K===void 0?400:K,z=Z.height,Y=Z.immediate,j=Z.value,ae=g()(["".concat(u)]),ve={width:w,height:z},ie={};return j&&(ie.value=j),h().createElement(t,(0,L.Z)({className:ae,style:ve,value:M,placeholder:O,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:b,allowClear:!0,defaultValue:j,immediate:Y.toString()},ie))}}B.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},re.Z=(0,m.$j)(N=>({appType:N.user.appType,appId:N.user.appId}))((0,A.Z)()(B))},9925:function(De,re,e){"use strict";var L=e(57361),C=e(33565),G=e(9754),U=e.n(G),R=e(12924),W=e.n(R),k=e(28216),h=e(14441),A=g=>{var m=g.userId,_=g.userName,T=g.appType,y=(0,R.useRef)(null),t=(0,R.useState)(""),B=(0,C.Z)(t,2),N=B[0],M=B[1],Z=(0,R.useState)(""),u=(0,C.Z)(Z,2),O=u[0],w=u[1],K=(0,R.useState)(!0),b=(0,C.Z)(K,2),z=b[0],Y=b[1];(0,R.useEffect)(()=>{T==="wx_app"&&(m?j():(console.warn("userId is required"),w(_)))},[m]);function j(){return ae.apply(this,arguments)}function ae(){return ae=(0,L.Z)(U().mark(function ie(){var se,fe,de,Ie,ee,le,ge,ke,Te,Se;return U().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.prev=0,Le.next=3,(0,h.v)(m);case 3:se=Le.sent,fe=se.code,de=se.data,fe==="200000"&&de&&(Ie=de.hasName,ee=Ie===void 0?!0:Ie,le=de.sourceType,ge=de.name,ke=ge===void 0?"":ge,Te=de.thirdId,Y(ee),ee?w(ke):le==="wx_sync"&&(M(Te),Se=window.parent.WWOpenData,Se&&Se.bind(y.current))),Le.next=12;break;case 8:Le.prev=8,Le.t0=Le.catch(0),console.error(Le.t0,"error"),w(_);case 12:case"end":return Le.stop()}},ie,null,[[0,8]])})),ae.apply(this,arguments)}function ve(){return z?O:W().createElement("ww-open-data",{ref:y,type:"userName",openid:N})}switch(T){case"wx_app":return ve();default:return _}};A.defaultProps={userName:""};var n=g=>({appType:g.user.appType});re.Z=W().memo((0,k.$j)(n)(A))},76466:function(De,re,e){"use strict";e.d(re,{Z:function(){return Et}});var L=e(20228),C=e(11382),G=e(57663),U=e(71577),R=e(62029),W=e(57361),k=e(9754),h=e.n(k),A=e(12924),n=e.n(A),g=e(91512),m=e(68654),_=e(91768),T=e(4412),y=e.n(T);class t extends n().Component{render(){var l=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:y(),alt:"picture"}),n().createElement("h2",null,l("localStorage.tip")),n().createElement("p",null,l("localStorage.banPreview"))))}}var B=(0,_.Z)()(t),N=e(88986),M=e(34792),Z=e(48086),u=e(28216),O=e(21594),w=e(41225),K=e(10237),b=(Ee,l)=>(0,N.Z)({id:Ee||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),z=b;class Y extends A.Component{constructor(){super(...arguments);this.setupPlayer=l=>{var d=this.props,o=d.onVideoReady,i=o===void 0?()=>{}:o,p=d.playerConfig,E=d.contentType;l&&l==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,N.Z)((0,N.Z)({},p),{},{contentType:E==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:p.source,autoplay:p.autoplay,width:p.width,id:p.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:I=>{I.on("sourceloaded",x=>{var S=x.paramData,q=S.desc,X=S.definition;I.getComponent("VideoQuality")&&I.getComponent("VideoQuality").setCurrentQuality(q,X,p.id)}),I.on("ready",()=>{i()}),this.playerInstance=I,this.setPlayerConfig()}}))}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(l){this.player&&this.player.seek(l)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(l){this.player.setSpeed(l)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var l=this.props,d=l.onPlay,o=d===void 0?()=>{}:d,i=l.onTimeUpDate,p=i===void 0?()=>{}:i,E=l.onEnd,I=E===void 0?()=>{}:E,x=l.onPause,S=x===void 0?()=>{}:x,q=l.onError,X=q===void 0?()=>{}:q,te=this.playerInstance;te.on("play",()=>{o()}),te.on("pause",()=>{S()}),te.on("timeupdate",V=>{p(V)}),te.on("ended",()=>{I()}),te.on("error",(0,W.Z)(h().mark(function V(){return h().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:X();case 1:case"end":return ue.stop()}},V)})))}render(){var l=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:l.id}))}}Y.playerInstance=null,Y.defaultProps={playerConfig:z(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var j=Y,ae=(Ee,l)=>(0,N.Z)({id:Ee||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},l),ve=ae;class ie extends A.Component{constructor(){super(...arguments);this.setupPlayer=l=>{l&&l==="resetPlayer"&&this.player.dispose();var d=this.props,o=d.playerConfig,i=d.onVideoReady,p=i===void 0?()=>{}:i;this.player=new Aliplayer(o,E=>{E.on("sourceloaded",I=>{var x=I.paramData,S=x.desc,q=x.definition;E.getComponent("VideoQuality")&&E.getComponent("VideoQuality").setCurrentQuality(S,q,o.id)})}),this.player.on("ready",()=>{p()})},this.setPlayerConfig=()=>{var l=this.props,d=l.onPlay,o=d===void 0?()=>{}:d,i=l.onTimeUpDate,p=i===void 0?()=>{}:i,E=l.onEnd,I=E===void 0?()=>{}:E,x=l.onPause,S=x===void 0?()=>{}:x,q=l.onError,X=q===void 0?()=>{}:q;this.player.on("play",()=>{o()}),this.player.on("pause",()=>{S()}),this.player.on("timeupdate",te=>{p(te)}),this.player.on("ended",()=>{I()}),this.player.on("error",(0,W.Z)(h().mark(function te(){return h().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:X();case 1:case"end":return Q.stop()}},te)})))},this.getPlayerContent=l=>{this.playerContainer=l}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(l){l.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(l){this.player.seek(l)}exitFull(){var l=this.player.fullscreenService;l&&l.isFullScreen&&l.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var l=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:l.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}ie.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:ve()};var se=ie;class fe{constructor(l){this.hasCreated=!1,this.definition="",this.getQuality=l}createEl(l,d){var o=d._options&&d._options.language,i=d._el.id;this.isEn=o&&o==="en-us";var p=(0,O.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),E=(0,O.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),I=document.querySelector("#".concat(i," .prism-controlbar"));I.appendChild(p),l.appendChild(E)}setCurrentQuality(l,d,o){var i=document.querySelector("#".concat(o," .current-quality"));i.innerText=l,i.dataset.def=d,this.definition=d;var p=document.querySelector("#".concat(o," .quality-list")),E=p.querySelector(".current");E&&(E.className="");var I=p.querySelector('li[data-def="'.concat(d,'"]'));I&&(I.className="current")}created(l){this._urls=l._urls;var d=l._el.id,o=document.querySelector("#".concat(d," .current-quality")),i=document.querySelector("#".concat(d," .quality-list")),p=document.querySelector("#".concat(d," .quality-modal")),E=this._urls.map(S=>'<li data-def="'.concat(S.definition,'">').concat(S.desc,"</li>"));if(i.innerHTML=E.join(""),this.hasCreated==!1&&this.definition){var I=i.querySelector('li[data-def="'.concat(this.definition,'"]'));I.className="current"}this.hasCreated=!0;var x=null;o.onclick=()=>{i.style.display="block"},o.onmouseleave=()=>{x=setTimeout(()=>{i.style.display="none"},100)},i.onmouseenter=()=>{clearTimeout(x)},i.onmouseleave=()=>{i.style.display="none"},i.onclick=S=>{var q=S.target,X=q.dataset.def,te=q.innerText;if(X&&q.className!=="current"){var V=this._urls.find(Q=>Q.definition===X);l.loadByUrl(V.Url,l.getCurrentTime(),!0,!0),this.setCurrentQuality(V.desc,V.definition,d),p.style.display="block",p.querySelector("span.current-quality-tag").innerText=V.desc}this.getQuality(X,te)}}ready(l){var d=l._el.id,o=document.querySelector("#".concat(d," .quality-modal"));o.style.display="none";var i=document.querySelector("#".concat(d," .prism-setting-item.prism-setting-quality"));i&&i.classList.add("player-hidden")}}class de{createEl(l,d){var o=d._el.id,i=(0,O.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),p=document.querySelector("#".concat(o," .prism-controlbar"));p.appendChild(i)}ready(l){var d=l._el.id,o=document.querySelector("#".concat(d," .current-rate")),i=document.querySelector("#".concat(d," .rate-list")),p=null,E=document.querySelector("#".concat(d," .prism-setting-item.prism-setting-speed"));E&&E.classList.add("player-hidden"),o.onclick=()=>{i.style.display="block"},o.onmouseleave=()=>{p=setTimeout(()=>{i.style.display="none"},100)},i.onmouseenter=()=>{clearTimeout(p)},i.onmouseleave=()=>{i.style.display="none"},i.onclick=I=>{var x=I.target,S=x.dataset.rate;if(S){if(l.setSpeed(S),x.className!=="current"){var q=i.querySelector(".current");q&&(q.className=""),x.className="current"}i.style.display="none",o.innerText="".concat(S,"x")}}}}var Ie=e(69164),ee=e(37055);function le(Ee){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=ee.ZP.local.getLocalUrl(Ee);return K.WY.get({url:d,params:l})}var ge=e(91648),ke=e(18329),Te=e(38642),Se=e(9849),xe=e(99891);class Le extends A.Component{constructor(l){super();this.WaterMarkText=l,this.html=document.getElementsByClassName("common-watermark")}createEl(l){setTimeout(()=>{l.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Fe=Le,je=Ee=>({userInfo:Ee.user});class Ue extends A.Component{constructor(l){var d;super(l);d=this,this.onVideoReady=o=>{var i=this.props,p=i.resourceInfo,E=i.mode,I=i.autoPlay,x=i.t,S=p.storageType;o==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(o),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(E==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),E==="preview"&&I&&this.play.play()):S==="ALIBABA_PRIVATE"||S==="LOCAL"?this.updateSource("resetPlayer"):(K.WY.logger({keyword:"video",moduleName:"video-play",msg:x("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var o=this.props,i=o.draggable,p=o.mode,E=o.t,I=o.studyInfo,x=o.needCurrentTime,S=o.onCurrentTime,q=S===void 0?()=>{}:S,X=I.studyType,te=I.studyId,V=I.resourceId,Q=this.state,ue=Q.showPreventHang,Ce=Q.dragSwitch,_e=Q.showRandomAlert,Oe=Q.randomAlertDialogVisible,$=this.playingVideo,P=$.oneTime,v=$.popupWindowCount,r=$.maxPlayTime,s=$.progress,f=$.auditionLength,c=$.auditionType,a=$.duration,D=$.recentStart,F=this.play.getCurrentTime(),H=(ue==="OPEN"||_e==="OPEN")&&v>0;if(x&&q(F),f>0&&c===2&&F>f&&(this.play.seek(f),Z.default.warning(E("component.haveALookOverTip")),this.play.pause()),p==="learn"&&H){var ce=a-P*v;if(v>0&&F>ce)if(this.play.pause(),_e==="OPEN"){if(!Oe){var J=(0,ge.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:J},()=>{(0,w.qp)({popupId:J,planId:te,resourceId:V,type:"popup_start"})}),this.play.exitFull()}}else ue==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((i||s===100)&&(F>0&&(this.playingVideo.recentStart=F),!((X==="enterprise"||X==="studyProject")&&Ce==="OPEN")))return!1;F>r?F-D>2?(this.playingVideo.recentStart=r,this.play.seek(r),Z.default.warning(E("component.preventFastWatchTip"))):(this.playingVideo.recentStart=F,this.playingVideo.maxPlayTime=F):F>0&&F>this.playingVideo.recentStart&&(this.playingVideo.recentStart=F)},this.onPlay=()=>{var o=this.props,i=o.mode,p=o.onPlay,E=p===void 0?()=>{}:p;E();var I=this;i==="learn"&&!I.timer&&(I.timer=setTimeout(function x(){I.saveProgress(),clearTimeout(I.timer),I.timer=setTimeout(x,2e4)},2e4))},this.onPause=()=>{var o=this.props,i=o.studyInfo,p=o.mode,E=i.studyType;clearTimeout(this.timer),this.timer=null,p==="learn"&&(E==="platform"||E==="enterprise"||E==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var o=this.props.mode;o==="learn"&&this.saveProgress()},this.onError=o=>{var i=this.props.resourceInfo,p=i.storageType;(p==="ALIBABA_PRIVATE"||p==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var o=this.props.mode;this.initPlayVideo(),o==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var o=this.state,i=o.showPreventHang,p=o.showRandomAlert,E=this.props,I=E.t,x=E.playingVideo,S=E.studyInfo,q=E.autoPlay,X=x.recentStart,te=x.duration,V=x.progress,Q=S.studyType,ue=(i==="OPEN"||p==="OPEN")&&(Q==="studyTask"||Q==="enterprise"||Q==="studyProject")&&V<100;ue?(p==="OPEN"?this.setState({promptMessage:I("component.preventAlertTip"),dialogVisible:!0}):i==="OPEN"&&this.setState({promptMessage:I("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):q&&(this.play.play(),Math.ceil(X)<parseInt(te)&&this.play.seek(X))},this.playerShowPreventHang=()=>{var o=this.playingVideo,i=o.duration,p=o.recentStart,E=0;i>0&&i<180?(E=i/2,this.playingVideo.oneTime=E,p>=E?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):i>=180&&i<600?(E=i/3,this.playingVideo.oneTime=E,p>=2*E?this.playingVideo.popupWindowCount=0:p>=E?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(E=i/4,this.playingVideo.oneTime=E,p>=3*E?this.playingVideo.popupWindowCount=0:p>=2*E?this.playingVideo.popupWindowCount=1:p>=E?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var o=this.props,i=o.playingVideo,p=o.mode;if(p==="learn"){this.playingVideo=(0,N.Z)({},i);var E=i.duration,I=i.progress;this.playingVideo.hasFinished=parseInt(I)===100,this.playingVideo.maxPlayTime=parseInt(E)*parseInt(I)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,W.Z)(h().mark(function o(){var i,p,E,I,x,S,q,X,te,V,Q,ue,Ce,_e,Oe,$,P,v,r,s,f,c,a,D;return h().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(i=d.state,p=i.speedSwitch,E=i.dragSwitch,I=i.whiteList,x=d.props,S=x.resourceInfo,q=x.showQuality,X=S.contentType,te=S.storageType,V=S.source,Q=S.playId,ue=S.playerId,Ce=S.showFullScreen,_e=Ce===void 0?!0:Ce,Oe=ve(ue),Oe.components=[],$=typeof V=="object"&&V.hasOwnProperty("FD")&&V.FD.indexOf("m3u8")===-1,q&&$&&X!=="mp3"&&(te&&te==="PUBLIC_CLOUD"||!te)&&Oe.components.push({name:"VideoQuality",type:fe,args:[()=>{d.play.pause(),d.playingVideo.readyCount=0}]}),p==="OPEN"&&Oe.components.push({name:"VideoRate",type:de}),_e&&(P=Oe.skinLayout.find(ce=>ce.name==="controlBar"),P&&P.children.splice(P.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),Oe.components.push({name:"VideoWaterMark",type:Fe}),v=V.FD,r=V.OD,v.indexOf("http://")>-1&&(v=v.replace("http://","https://")),r.indexOf("http://")>-1&&(r=r.replace("http://","https://")),s=I.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",V.OD=r&&r.indexOf(s)>-1&&r.indexOf(".mp4")>-1?r:v,V.FD=v,f=typeof V!="string"?JSON.stringify(V):V,Oe.source=f,E==="OPEN"&&(Oe.disableSeek=!0),te!=="ALIBABA_PRIVATE"){H.next=32;break}return H.next=22,(0,w.BR)(Q);case 22:if(c=H.sent,!c){H.next=28;break}Oe.source=c,Oe.vodRetry=1,H.next=30;break;case 28:return d.setState({showPrivateVodError:!0}),H.abrupt("return");case 30:H.next=38;break;case 32:if(te!=="LOCAL"){H.next=38;break}return H.next=35,le(Q);case 35:a=H.sent,D=a.data,D.code===0&&(Oe.source="".concat(V.FD,"?auth_key=").concat(D.data.auth_key),Oe.vodRetry=1);case 38:d.setState({playerConfig:Oe});case 39:case"end":return H.stop()}},o)})),this.updateSource=function(){var o=(0,W.Z)(h().mark(function i(p){var E,I,x,S,q,X,te,V;return h().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(E=d.state.playerConfig,I=d.props.resourceInfo,x=I.storageType,S=I.source,q=I.playId,d.playingVideo.readyCount=0,x!=="ALIBABA_PRIVATE"){ue.next=16;break}return ue.next=7,(0,w.BR)(q);case 7:if(X=ue.sent,!X){ue.next=12;break}Object.assign(E,{source:X,vodRetry:1}),ue.next=14;break;case 12:return d.setState({showPrivateVodError:!0}),ue.abrupt("return");case 14:ue.next=22;break;case 16:if(x!=="LOCAL"){ue.next=22;break}return ue.next=19,le(q);case 19:te=ue.sent,V=te.data,V.code===0&&Object.assign(E,{source:"".concat(S.FD,"?auth_key=").concat(V.data.auth_key),vodRetry:1});case 22:d.setState({playerConfig:E},()=>{d.play.setupPlayer(p)});case 23:case"end":return ue.stop()}},i)}));return function(i){return o.apply(this,arguments)}}(),this.saveProgress=()=>{var o=this.props,i=o.studyInfo,p=o.userInfo,E=p.isLogin,I=p.enterpriseId,x=p.id,S=this.playingVideo,q=S.recentStart,X=S.duration,te=S.hasFinished,V=Math.ceil(+q);V>Number(X)&&(V=Number(X));var Q=Math.ceil(V/+X*100);if((Q>100||te)&&(Q=100),E){var ue=this.playingVideo,Ce=ue.auditionType,_e=ue.auditionLength;if(_e>0&&Ce===2){var Oe=Math.ceil(_e/X*100);Oe<=Q&&(Q=Oe,V=_e)}(0,w.sH)({studyInfo:i,progress:Q,recent_start:V,enterpriseId:I,userId:x}).then($=>{$&&$.data&&(0,Ie.Z)($.data.integral_info||"")})}},this.getInfoFromSettings=(0,W.Z)(h().mark(function o(){var i,p,E,I,x,S,q,X,te;return h().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return i=d.props.studyInfo,p=i.studyType,E=i.projectId,Q.next=4,(0,w.Gw)();case 4:if(I=Q.sent,x=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],S=(0,O.RG)(I,x),p!=="studyProject"){Q.next=14;break}return Q.next=10,(0,Se.NU)({id:E});case 10:q=Q.sent,X=q.status,te=q.data,X===200&&(S.showPreventHang=te.prevent_cut_screen?"OPEN":"CLOSED",S.speedSwitch=te.speed_play?"OPEN":"CLOSED",S.dragSwitch=te.prevent_drag?"OPEN":"CLOSED");case 14:d.setState(S,()=>{d.dealVideoConfig()});case 15:case"end":return Q.stop()}},o)})),this.dealAudioPoster=()=>{var o=this.props.resourceInfo.contentType,i=o===void 0?"":o;this.setState({showAudioPoster:i==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var o=this.state.showAudioPoster,i=this.play.playerContainer;o&&i&&(i.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),i.style.backgroundSize="cover")},this.getPlayInstance=o=>{this.play=o},this.handleOk=()=>{this.setState({dialogVisible:!1});var o=this.state.btnType,i=this.playingVideo.recentStart,p=this.props.t;o==="know"?(this.play.play(),this.play.seek(i),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:p("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,W.Z)(h().mark(function o(){var i,p,E,I;return h().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:i=d.props.studyInfo,p=i.studyId,E=i.resourceId,I=d.state.randomAlertUUID,(0,w.qp)({popupId:I,planId:p,resourceId:E,type:"popup_end"}).then(()=>{d.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),d.playingVideo.popupWindowCount-=1,d.play.play();case 6:case"end":return S.stop()}},o)})),this.renderFooter=()=>{var o=this.state.btnType,i=this.props.t;return n().createElement(U.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(o)},i(o==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var o=this.props.t;return n().createElement(U.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},o("common.ok"))},this.state={playerConfig:ve(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:l.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:l.t("component.randomAlertTip"),randomAlertModal:{title:l.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Te.UI)("CL_VIDEO_BAIYING_COM_CN")}},l.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(l){var d=typeof l.resourceInfo.source!="string"?JSON.stringify(l.resourceInfo.source):l.resourceInfo.source,o=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;d!==o&&o!==""&&this.initInfo()}componentWillUnmount(){var l=this.props.mode;l==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var l=this.state,d=l.playerConfig,o=l.showPrivateVodError,i=l.dialogVisible,p=l.dialogModal,E=l.promptMessage,I=l.randomAlertDialogVisible,x=l.randomAlertModal,S=l.randomAlertTip,q=l.encryptedSwitch,X=this.props,te=X.resourceInfo,V=X.t,Q=q==="OPEN"?j:se;return n().createElement(A.Fragment,null,n().createElement(Q,(0,R.Z)({ref:this.getPlayInstance},te,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:d,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(ke.ZP,(0,R.Z)({visible:i},p,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},E)),n().createElement(ke.ZP,(0,R.Z)({visible:I},x,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},S)),o&&n().createElement("div",{className:"video-business-vod-error"},V("privateCloud.docReadError")),n().createElement(xe.Z,{scenes:"video"}))}}var We=(0,u.$j)(je,null,null,{forwardRef:!0})((0,_.Z)("translation",{withRef:!0})(Ue)),Qe=e(94184),Re=e.n(Qe),Be=e(84874),we=Ee=>({userInfo:Ee.user}),Ke={getPravateDocUrl:ee.ZP.localStorage.getPravateDocUrl};function ze(Ee){return JSON.stringify(Ee,(l,d)=>(typeof d=="function"&&(d=d.toString()),d))}function $e(Ee){var l=parseInt(parseInt(Ee,10)/60,10),d=parseInt(parseInt(Ee,10)%60,10);return l<10&&(l="0".concat(l)),d<10&&(d="0".concat(d)),"".concat(l,":").concat(d)}class Ae extends A.Component{constructor(l){var d;super(l);d=this,this.messageFun=o=>{var i=this.props,p=i.docType,E=i.progress,I=i.studyTimeLimit,x=i.studyTime,S=this.state,q=S.jumpPageTag,X=S.totalTime,te=S.timeRemaining,V=this.state.previewDocData,Q={};try{Q=JSON.parse(o.data)}catch(ue){return}switch(Q.action){case"preview.ready":this.initDocData();break;case"preview.meta":V.totalPage=Q.data.pc||1,V.currentPage=1,this.setState({previewDocData:V},()=>{this.reportStatusInterval()}),I>0?(this.saveProgress(E,x||"1",Q.data.pc||1),this.setState({showCountDownContainer:!0})):p==="xlsx"||p==="xls"||V.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(E,x||"1",Q.data.pc||1),I>0&&E<100?(this.setState({showCountDown:!0}),p==="xlsx"||p==="xls"?X=I:X=I*Q.data.pc,te=parseInt(X*(1-E/100),10),this.setState({timeRemaining:te,totalTime:X},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(q){q=!1,this.setState({jumpPageTag:q});return}V.currentPage=Q.data.pageIndex+1,this.setState({previewDocData:V}),I||this.saveProgress(Math.ceil(V.currentPage/V.totalPage*100),V.currentPage,V.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":Z.default.error(Q.data.result);break;default:break}},this.initDocData=(0,W.Z)(h().mark(function o(){var i,p,E,I,x,S,q,X,te,V,Q,ue,Ce,_e;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(d.setState({isShowPrivateError:!1}),i=d.props,p=i.docType,E=i.userInfo,I=i.documentWatermarkSettings,x=i.storageType,S=i.privateDocId,q=E.name,X=E.jobNumber,te=E.position,V="",Q={},x!=="ALIBABA_PRIVATE"){$.next=18;break}return $.prev=6,ue=Ke.getPravateDocUrl(S),$.next=10,K.WY.get({url:ue});case 10:Ce=$.sent,_e=Ce.data,_e.code===0?Q=_e.data||{}:d.setState({isShowPrivateError:!0}),$.next=18;break;case 15:$.prev=15,$.t0=$.catch(6),d.setState({isShowPrivateError:!0});case 18:if(I.indexOf("name")>-1&&(V="".concat(V+q," ")),I.indexOf("position")>-1&&(V="".concat(V+te," ")),I.indexOf("jobnumber")>-1&&(V+=X),V.length>0?window.sendMessage("preview.init",(0,N.Z)({wmType:1,wmValue:V,wmColor:"rgba(192, 192, 192, 0.4)"},Q)):window.sendMessage("preview.init",(0,N.Z)({},Q)),p!=="xlsx"&&p!=="ppt"&&p!=="pptx"&&p!=="xls"?d.setState({pageOperateContainerVisible:!0}):d.setState({pageOperateContainerVisible:!1}),!(p==="ppt"||p==="pptx")){$.next=29;break}$.t1=window,$.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},$.t1.sendMessage.call($.t1,"setConfig",$.t2),$.next=32;break;case 29:$.t3=window,$.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},$.t3.sendMessage.call($.t3,"setConfig",$.t4);case 32:case"end":return $.stop()}},o,null,[[6,15]])})),this.handleJumpPage=o=>{var i=this.state.previewDocData;i.currentPage=o,this.setState({jumpPageTag:!0,previewDocData:i});var p=o/i.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(p),o,i.totalPage),window.sendMessage("logic.toPage",{pageIndex:o-1})},this.redirectPage=()=>{var o=this.props,i=o.studyTimeLimit,p=o.studyTime,E=0;i===0&&(E=p-1>0?p-1:0),window.sendMessage("logic.toPage",{pageIndex:E})},this.docCountDown=()=>{var o=this.state.timeRemaining,i=this.state,p=i.totalTime,E=i.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{o-=1,this.setState({timeRemaining:o}),o<1&&(this.saveProgress(100,0,E.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var I=(p-o)/p*100;o<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(I),o,E.totalPage)},2e4)},this.saveProgress=(o,i,p)=>{var E=this.props.onSaveProgress;E&&E(o,i,p)},this.reportStatusInterval=()=>{var o=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var i=this.state.previewDocData.currentPage;o&&o({currentPage:i})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=o=>{this.docReader=o},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(l,d)=>{var o=this.docReader.contentWindow;o.postMessage(ze({action:l,data:d}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var l=this.props,d=l.t,o=l.storageType,i=l.privateDocId,p=this.props.aliUrl,E=this.state,I=E.previewDocData,x=E.pageOperateContainerVisible,S=E.timeRemaining,q=E.showCountDown,X=E.showCountDownContainer,te=E.showPageOperateContainer,V=E.isShowPrivateError;return o==="ALIBABA_PRIVATE"&&(p="https://preview.imm.aliyuncs.com/index.html?docId=".concat(i)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:x?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:p,id:"aliyunPreview",ref:this.dealPreviewRef}),X?n().createElement("div",{className:"ali-doc-container__countdown"},q?n().createElement("div",null,n().createElement(Be.Z,{iconClass:"iconf-tipe",size:"16px"}),d("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",$e(S)," "),d("component.canDone")):n().createElement("div",null,n().createElement(Be.Z,{iconClass:"iconf-tipe",size:"16px"}),d("component.docHasFinish"))):null,x?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:Re()(["ali-doc__operate__content",te?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},I.currentPage," / ",I.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,d("component.choosePage"),n().createElement(Be.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},d("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:I.totalPage})).map((Q,ue)=>n().createElement("li",{key:Q,onClick:()=>this.handleJumpPage(ue+1)},ue+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},d("common.collapse"))))),n().createElement("div",{className:Re()("ali-doc__operate__unfold",te?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},d("common.expand"))):null,V&&n().createElement("div",{className:"ali-doc__error"},d("privateCloud.docReadError"))),n().createElement(xe.Z,{scenes:"document"}))}}Ae.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Me=(0,u.$j)(we)((0,_.Z)()(Ae)),be=Ee=>({userInfo:Ee.user}),Ze="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ve="".concat("https://doc.coolcollege.cn");class Je extends n().Component{constructor(l){var d;super(l);d=this,this.onSaveProgress=(o,i,p)=>{var E=this.props,I=E.mode,x=E.studyInfo,S=E.userInfo,q=S.enterpriseId,X=S.id;I==="learn"&&(0,w.sH)({studyInfo:x,progress:o,page_count:p,recent_start:i,enterpriseId:q,userId:X}).then(te=>{te&&te.data&&(0,Ie.Z)(te.data.integral_info||"")})},this.messageFun=function(){var o=(0,W.Z)(h().mark(function i(p){var E,I,x,S,q,X;return h().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(p.data!=="local-resource"){V.next=9;break}if(E=d.props.resourceInfo,I=E.storageType,x=E.playId,!(I&&I==="LOCAL")){V.next=9;break}return V.next=6,le(x);case 6:S=V.sent,q=S.data,q.code===0&&(X=document.getElementById("local-resource-box"),X.contentWindow.postMessage({msg:"local-auth-key",authKey:q.data.auth_key},"*"));case 9:case"end":return V.stop()}},i)}));return function(i){return o.apply(this,arguments)}}(),this.getInfoFromSettings=(0,W.Z)(h().mark(function o(){var i,p,E;return h().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,w.Gw)();case 2:i=x.sent,p=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],E=(0,O.RG)(i,p),d.setState(E,()=>{d.initDocPage(d.props)});case 6:case"end":return x.stop()}},o)})),this.initDocPage=(0,W.Z)(h().mark(function o(){var i,p,E,I,x,S,q,X,te,V,Q,ue,Ce,_e,Oe,$,P,v,r,s,f,c,a,D,F,H,ce,J,he,pe,me,ne,ye,Ne,He=arguments;return h().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(i=He.length>0&&He[0]!==void 0?He[0]:{},p=i.resourceInfo,E=i.mode,I=i.studyInfo,x=i.userInfo,S=d.state.documentPlayerMode,q=p.docType,X=p.docTitle,te=p.url,V=p.studyTimeLimit,Q=p.studyTime,ue=p.aliUrl,Ce=p.progress,_e=p.storageType,Oe=p.playId,$=I.studyType,P=I.courseId,v=I.studyId,r=I.resourceId,s=x.enterpriseId,f=x.id,c=x.isLogin,a=x.token,D=S==="compat"&&ue.indexOf("preview.imm.aliyun")>-1||_e==="ALIBABA_PRIVATE",!D){oe.next=11;break}d.setState({showAliReader:!0}),oe.next=31;break;case 11:if(F=(0,w.sH)({enterpriseId:s,userId:f,token:a,studyInfo:I},!0),H=$==="studyTask"?2:1,ce=ee.ZP.SaveProgress.reportStatusInterval(I),J={isSaveProgress:c&&E==="learn"&&F,isSaveRecord:!1,access_token:a,userId:f,hostUrl:Ze,courseId:P,resourceId:r,courseType:1,planId:v,studyTimeLimit:V,studyTime:Q,saveProgressUrl:F,type:"eapp",progress:Ce,saveRecordProgressUrl:ce,actionType:H},!(_e&&_e==="LOCAL")){oe.next=26;break}return oe.next=18,le(Oe);case 18:if(he=oe.sent,pe=he.data,pe.code!==0){oe.next=25;break}J.auth_key=pe.data.auth_key,J.url=te,oe.next=26;break;case 25:return oe.abrupt("return");case 26:me=JSON.stringify(J),ne="".concat(X,".").concat(q).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ye="".concat(Ve,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(me),"&furl=").concat(te,"?attname=").concat(ne),_e&&_e==="LOCAL"&&(Ne="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ye="".concat(Ne,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(me),"&furl=").concat(te,"?attname=").concat(ne)),d.setState({encodeUrl:ye});case 31:case"end":return oe.stop()}},o)})),this.handleReportStatusInterval=o=>{var i=o.currentPage,p=this.props,E=p.resourceInfo,I=p.mode,x=p.studyInfo,S=p.userInfo,q=E.type,X=x.courseId,te=x.studyId,V=x.resourceId,Q=S.enterpriseId,ue=S.id,Ce=S.isLogin,_e="",Oe="",$=0,P=!1;switch(q){case"enterprise":$=1,P=!0;break;case"study":_e=te,$=2,P=!0;break;case"project":Oe=te,$=1,P=!0;break;default:break}if(!(!P||!Ce)){var v={plan_id:_e,enterprise_id:Q,user_id:ue,course_id:X,project_course_id:Oe,resource_id:V,current_page:i,action_type:$,send_time:Date.parse(new Date)};I==="learn"&&(0,w.Xc)(x,v)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(l){this.initDocPage(l)}render(){var l=this.props.resourceInfo,d=this.state,o=d.encodeUrl,i=d.documentWatermarkSettings,p=d.showAliReader,E=l.docType,I=l.type,x=l.studyTimeLimit,S=l.studyTime,q=l.aliUrl,X=l.progress,te=l.storageType,V=l.playId;return p?n().createElement(Me,{privateDocId:V,storageType:te,aliUrl:q,docType:E,progress:X,studyTime:S,studyTimeLimit:x,documentWatermarkSettings:i,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:I}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:o,frameBorder:"0",allowFullScreen:!0}),n().createElement(xe.Z,{scenes:"document"}))}}var Ye=(0,u.$j)(be)(Je),Ct=e(38979),ot=e(90706),ht=e(12968),mt=e(44208),tt=e(60667),lt=Ee=>({userInfo:Ee.user});class at extends n().Component{constructor(){var l;super(...arguments);l=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var d=this.props,o=d.studyInfo,i=d.mode,p=d.userInfo,E=p.enterpriseId,I=p.id;i==="learn"&&(0,O.Gp)({studyInfo:o,enterpriseId:E,userId:I})},this.getInfoFromSettings=(0,W.Z)(h().mark(function d(){var o,i,p;return h().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,w.Gw)();case 2:o=I.sent,i=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],p=(0,O.RG)(o,i),l.setState(p,()=>{l.renderWatermark()});case 6:case"end":return I.stop()}},d)})),this.renderWatermark=()=>{var d=this.props.userInfo,o=this.state.imageWatermark,i=d.name,p=d.unionid,E=d.sourceType,I=d.jobNumber,x=d.position,S=[];o.indexOf("name")>-1&&S.push(n().createElement(tt.Z,{dataType:"userName",value:p,name:i,type:E})),o.indexOf("position")>-1&&S.push(n().createElement("span",null,x)),o.indexOf("jobnumber")>-1&&S.push(n().createElement("span",null,I)),o.length>0&&this.setState({watermark:S.map((q,X)=>n().createElement("span",{key:X},q))})},this.handleError=d=>{var o=this.props.onError;o&&o(d)},this.getImageUrl=(0,W.Z)(h().mark(function d(){var o,i,p,E,I,x,S,q,X,te;return h().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(o=l.props,i=o.resourceInfo,p=o.t,E=i.playId,I=i.url,x=i.storageType,S=I,!x){Q.next=21;break}if(x!=="ALIBABA_PRIVATE"){Q.next=15;break}return Q.next=7,(0,w.J7)(E);case 7:if(q=Q.sent,!q){Q.next=12;break}S=q,Q.next=13;break;case 12:return Q.abrupt("return",Z.default.info(p("privateCloud.docReadError")));case 13:Q.next=21;break;case 15:if(x!=="LOCAL"){Q.next=21;break}return Q.next=18,le(E);case 18:X=Q.sent,te=X.data,te.code===0&&(S="".concat(I,"?auth_key=").concat(te.data.auth_key));case 21:l.setState({imageUrl:[S]},()=>{var ue=l.state.imageUrl,Ce="image-business",_e=document.querySelectorAll(".".concat(Ce,"-image img"));_e.forEach((Oe,$)=>{Oe.onerror=()=>{l.handleError(ue[$])}})});case 22:case"end":return Q.stop()}},d)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var l="image-business",d=this.props.resourceInfo,o=d.preview,i=o===void 0?!1:o,p=this.state,E=p.watermark,I=p.imageUrl;return n().createElement("div",{className:l},n().createElement(xe.Z,{scenes:"image"}),n().createElement(ot.Z,{className:"".concat(l,"-carousel")},I.map((x,S)=>n().createElement("div",{className:"".concat(l,"-image"),key:S.toString()},n().createElement(mt.Z,{src:x,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:i})))))}}at.defaultProps={prefixCls:"watch-image-page"};var ct=(0,u.$j)(lt)((0,_.Z)()(at)),rt=Ee=>({userInfo:Ee.user});class vt extends n().Component{constructor(){var l;super(...arguments);l=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,W.Z)(h().mark(function d(){var o,i,p;return h().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,w.Gw)();case 2:o=I.sent,i=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],p=(0,O.RG)(o,i),l.setState(p,()=>{l.renderWatermark()});case 6:case"end":return I.stop()}},d)})),this.renderWatermark=()=>{var d=this.props.userInfo,o=this.state.htmlWatermark,i=d.name,p=d.unionid,E=d.sourceType,I=d.jobNumber,x=d.position,S=[];o.indexOf("name")>-1&&S.push(n().createElement(tt.Z,{dataType:"userName",value:p,name:i,type:E})),o.indexOf("position")>-1&&S.push(n().createElement("span",null,x)),o.indexOf("jobnumber")>-1&&S.push(n().createElement("span",null,I)),o.length>0&&this.setState({watermark:S.map((q,X)=>n().createElement("span",{key:X},q))})},this.saveProgress=()=>{var d=this.props,o=d.studyInfo,i=d.mode,p=d.userInfo,E=p.enterpriseId,I=p.id;i==="learn"&&(0,O.Gp)({studyInfo:o,enterpriseId:E,userId:I})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var l="html-business",d=this.props.resourceInfo,o=d.url,i=this.state.watermark;return n().createElement("div",{className:l},n().createElement("div",{className:"".concat(l,"__html-watermark")},i),n().createElement("iframe",{title:"html",className:"".concat(l,"_iframe"),src:o}))}}var dt=(0,u.$j)(rt)((0,_.Z)()(vt)),st=e(57068),nt=e(1164),ut=Ee=>({userInfo:Ee.user});class it extends n().PureComponent{constructor(){super(...arguments);this.getHost=l=>{var d=l.split("//"),o=d[1].split("/");return[d[0],o[0]].join("//")},this.getScormUrl=()=>{var l=this.props,d=l.studyInfo,o=l.mode,i=l.userInfo,p=l.resourceInfo,E=l.from,I=i.enterpriseId,x=i.id,S=p.url,q=this.getHost(S);if(o==="learn"){var X=(0,N.Z)({userId:x,enterpriseId:I,access_token:localStorage.token,from:E,scormUrl:encodeURIComponent(S),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},d);return"".concat(q).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(st.stringify(X))}return"".concat(q,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(S))},this.handleOpenScormLink=l=>{nt.Z.targetTo({path:l,isExternalLink:!0})}}render(){var l=this.props.t,d="scorm-business",o=this.getScormUrl(),i=(0,Te.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:d},i?n().createElement("div",{className:"".concat(d,"_scorm")},n().createElement("img",{className:"".concat(d,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,l("resourcePlay.scormTip")),n().createElement(U.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(o)},l("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(d,"_iframe"),src:o}))}}var ft=(0,u.$j)(ut)((0,_.Z)()(it));class gt extends n().Component{render(){var l=this.props,d=l.visible,o=l.title,i=l.onCancel,p=l.t,E=n().createElement("span",null,o);return n().createElement(ke.ZP,{visible:d,title:E,onCancel:i,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:y(),alt:"picture"}),n().createElement("h2",null,p("localStorage.tip")),n().createElement("p",null,p("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(U.Z,{type:"primary",className:"know",onClick:i},p("localStorage.onKnow"))))}}var pt=(0,_.Z)()(gt);class yt extends A.Component{constructor(){var l;super(...arguments);l=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=d=>{var o=this.props.previewInfo,i=o.onCancel;this.onCancel(),i(d)},this.onGetVideoBusiness=d=>{var o=this.props.onRef,i=o===void 0?()=>{}:o;this.videoBusiness=d,i(d)},this.onFullScreen=()=>{var d=this.state.fullScreen;this.setState({fullScreen:!d})},this.handleJudgeNetwork=(0,W.Z)(h().mark(function d(){var o,i,p,E,I,x,S,q,X,te,V,Q=arguments;return h().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(o=Q.length>0&&Q[0]!==void 0?Q[0]:null,i=l.props,p=i.resourceInfo,E=i.watchType,I=p.storageType,x=p.playId,S=p.originUrl,q=E==="image"||E==="video"||E==="doc",X=null,o?X=o:S?X=S:X=p.url,!(q&&X&&x&&I&&I==="LOCAL")){Ce.next=22;break}return Ce.prev=7,Ce.next=10,(0,w.NY)(x);case 10:return te=Ce.sent,Ce.next=13,(0,w.Hy)(X,te);case 13:V=Ce.sent,V?l.setState({showBan:"no"}):l.setState({showBan:"yes"}),Ce.next=20;break;case 17:Ce.prev=17,Ce.t0=Ce.catch(7),l.setState({showBan:"yes"});case 20:Ce.next=23;break;case 22:l.setState({showBan:"no"});case 23:case"end":return Ce.stop()}},d,null,[[7,17]])})),this.renderOuter=()=>{var d=this.props,o=d.prefixCls,i=d.watchType,p=d.onCurrentTime,E=p===void 0?()=>{}:p;return n().createElement("div",{className:"".concat(o,"-outer")},i==="video"&&n().createElement(We,(0,R.Z)({onCurrentTime:E,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),i==="doc"&&n().createElement(Ye,this.props),i==="image"&&n().createElement(ct,(0,R.Z)({onError:this.handleJudgeNetwork},this.props)),i==="html"&&n().createElement(dt,this.props),i==="scorm"&&n().createElement(ft,this.props))},this.renderFooter=()=>{var d=this.props,o=d.resourceInfo.storageType,i=d.t,p=this.state.showBan,E=p!==""&&p==="yes";return o&&o!=="PUBLIC_CLOUD"&&E?n().createElement(U.Z,{type:"primary",className:"know",onClick:this.onCancelModel},i("localStorage.onKnow")):null}}componentDidMount(){var l=this.props.mode;l==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(l){l.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var l=this.state,d=l.showBan,o=l.fullScreen,i=this.props,p=i.mode,E=i.previewWay,I=i.previewInfo,x=i.prefixCls,S=i.t,q=i.showEnlarge,X=i.footer,te=X===void 0?null:X,V=I.visible,Q=I.destroyOnClose,ue=I.title,Ce=d!==""&&d==="yes",_e=d!==""&&d==="no";return n().createElement(A.Fragment,null,p==="preview"&&E==="popups"&&n().createElement(ke.ZP,{destroyOnClose:Q,visible:V,title:ue,onCancel:this.onCancelModel,footer:te||this.renderFooter(),wrapClassName:"".concat(x,"-resource ").concat(o?"".concat(x,"-full"):"")},q&&n().createElement("div",{className:"".concat(x,"-resource-out-icon"),onClick:this.onFullScreen},o?n().createElement(g.Z,{className:"".concat(x,"-resource-icon")}):n().createElement(m.Z,{className:"".concat(x,"-resource-icon")})),n().createElement("div",{className:"".concat(x,"-inner")},!V&&n().createElement(C.Z,{size:"large"}),V&&_e&&this.renderOuter(),Ce&&n().createElement(B,null))),(p==="learn"||E==="page")&&_e&&this.renderOuter(),(p==="learn"||E==="page")&&n().createElement(pt,{visible:Ce,title:ue||S("questionn.warmHint"),onCancel:this.onCancel}))}}yt.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var Et=(0,_.Z)("translation",{withRef:!0})(yt)},41225:function(De,re,e){"use strict";e.d(re,{Hy:function(){return W},NY:function(){return k},Gw:function(){return h},sH:function(){return g},BR:function(){return A},qp:function(){return m},Xc:function(){return _},J7:function(){return n}});var L=e(57361),C=e(9754),G=e.n(C),U=e(10237),R=e(37055),W=function(){var T=(0,L.Z)(G().mark(function y(){var t,B,N,M,Z,u,O,w=arguments;return G().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return t=w.length>0&&w[0]!==void 0?w[0]:"",B=w.length>1&&w[1]!==void 0?w[1]:"",N="",t.startsWith("http")?(M=t.split("//")[1].trim(),Z=M.split("/")[0],N="https://".concat(Z,"/cms/ticket")):(u=t.split("/")[0],N="https://".concat(u,"/cms/ticket")),b.prev=4,b.next=7,U.ZQ.get({url:N,params:{ticket:B}});case 7:if(O=b.sent,!(O.status===200||O.status===403)){b.next=10;break}return b.abrupt("return",Promise.resolve(!0));case 10:return b.abrupt("return",Promise.resolve(!1));case 13:return b.prev=13,b.t0=b.catch(4),b.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return b.stop()}},y,null,[[4,13]])}));return function(){return T.apply(this,arguments)}}(),k=function(){var T=(0,L.Z)(G().mark(function y(t){var B,N;return G().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,U.ZQ.get({url:R.ZP.local.getTicket(t)});case 2:if(B=Z.sent,N=B.data,N.code!==0){Z.next=6;break}return Z.abrupt("return",Promise.resolve(N.data.ticket));case 6:return Z.abrupt("return",Promise.resolve(""));case 7:case"end":return Z.stop()}},y)}));return function(t){return T.apply(this,arguments)}}(),h=function(){var T=(0,L.Z)(G().mark(function y(){var t;return G().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,U.WY.get({url:R.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return t=N.sent,N.abrupt("return",t.data.list);case 4:case"end":return N.stop()}},y)}));return function(){return T.apply(this,arguments)}}(),A=function(){var T=(0,L.Z)(G().mark(function y(t){var B,N,M;return G().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,U.WY.get({url:R.ZP.localStorage.getPravateVideoUrl(t)});case 2:if(B=u.sent,B.data.code!==0){u.next=6;break}return N=B.data.data.videoPlayInfo,M=N===void 0?"":N,u.abrupt("return",M);case 6:return u.abrupt("return","");case 7:case"end":return u.stop()}},y)}));return function(t){return T.apply(this,arguments)}}(),n=function(){var T=(0,L.Z)(G().mark(function y(t){var B,N,M;return G().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return B=R.ZP.localStorage.getPravateDocUrl(t),u.prev=1,u.next=4,U.WY.get({url:B});case 4:if(N=u.sent,M=N.data,!(M.code===0&&M.data)){u.next=8;break}return u.abrupt("return",M.data.docResourceDownloadUrl||"");case 8:return u.abrupt("return","");case 11:return u.prev=11,u.t0=u.catch(1),u.abrupt("return","");case 14:case"end":return u.stop()}},y,null,[[1,11]])}));return function(t){return T.apply(this,arguments)}}(),g=function(y){var t=y.studyInfo,B=y.progress,N=y.recent_start,M=y.page_count,Z=y.enterpriseId,u=y.userId,O=y.token,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,b=t.studyType;if(b==="studyTask"&&(K=R.ZP.SaveProgress.studySaveProgress(t)),(b==="course"||b==="enterprise")&&(K=R.ZP.SaveProgress.enterpriseCourseSaveProgress(t)),b==="studyProject"&&(K=R.ZP.SaveProgress.projectSaveProgress(t)),b==="platform"&&(K="".concat(R.ZP.SaveProgress.platformCourseSaveProgress(t))),(w||b==="platform")&&(K+="?enterprise_id=".concat(Z,"&user_id=").concat(u)),w)return K+="&access_token=".concat(O||localStorage.getItem("token")),K;var z={progress:B,recent_start:N,tempTime:Date.parse(new Date)};return M&&(z.page_count=M),t.evaluationId&&(z.evaluation_id=t.evaluationId),U.WY.post({url:K,data:z})},m=T=>{var y=T.popupId,t=T.planId,B=T.resourceId,N=T.type;return U.WY.post({url:R.ZP.TaskStudyRecord.setRandomPopupRecord(t),data:{course_id:B,terminal_type:"PC",popup_id:y,type:N}})},_=(T,y)=>{var t=R.ZP.SaveProgress.reportStatusInterval(T);return U.WY.post({url:t,data:y})}},21594:function(De,re,e){"use strict";e.d(re,{pu:function(){return R},RG:function(){return W},Gp:function(){return k},O8:function(){return h}});var L=e(88986),C=e(69164),G=e(38642),U=e(41225),R=A=>{var n="";switch(A){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},W=(A,n)=>{var g={};return n.forEach(m=>{var _=A.find(N=>N.type===m.type);if(_)if(m.type==="document_duration_limit"){var T=_.action_list,y=T.find(N=>N.type==="random_popup_verification");!(0,G.UI)("RANDOM_POPUP_VERIFY")||!y?g[m.name]="CLOSE":g[m.name]=y.param.checked==="true"?"OPEN":"CLOSE"}else if(m.type==="document_player"){var t=JSON.parse(_.actions);t.forEach(N=>{N.param.checked==="true"&&(g[m.name]=N.type)})}else if(m.type==="dynamic_watermark"){var B=_.action_list;B.forEach(N=>{N.type===m.resourceType&&N.param.checked==="true"&&(g[m.name]=N.param.comment)})}else g[m.name]=_.switch_status}),g},k=A=>{(0,U.sH)((0,L.Z)({progress:100,recent_start:1},A)).then(n=>{n&&n.data&&(0,C.Z)(n.data.integral_info||"")})},h=A=>{var n=document.createElement("div");return n.innerHTML=A,n.childNodes[0]}},51975:function(De,re,e){"use strict";e.d(re,{l:function(){return U}});var L=e(62029),C=e(12924),G=e.n(C),U=(R,W)=>function(h){return G().createElement(R.Consumer,null,A=>G().createElement(W,(0,L.Z)({},h,{contextData:A})))}},84009:function(De,re,e){"use strict";var L=e(62029),C=e(12924),G=e.n(C),U=e(11092),R=e.n(U),W=e(6793),k=()=>h=>class extends G().Component{constructor(){super(...arguments);this.state={initTableClassName:""},this.handleTableSticky=()=>{var n=(0,U.findDOMNode)(this.pageRef);this.pageRef.tableRef.offsetTop+46<=n.parentNode.scrollTop?this.pageRef.tableRef.className.indexOf("fixed-table-thead")===-1&&(this.pageRef.tableRef.className="".concat(this.pageRef.tableRef.className," fixed-table-thead"),this.resetThTdWidth()):this.pageRef.tableRef.offsetTop>n.parentNode.scrollTop&&(this.pageRef.tableRef.className=this.state.initTableClassName)},this.resetThTdWidth=()=>{var n=this.pageRef.tableRef.getElementsByTagName("thead")[0];n.style.width="".concat(this.pageRef.tableRef.offsetWidth,"px");var g=n.childNodes[0];n.childNodes[1]&&(n.childNodes[1]="".concat(this.pageRef.tableRef.offsetWidth,"px")),g.style.width="".concat(this.pageRef.tableRef.offsetWidth,"px");var m=this.pageRef.tableRef.getElementsByTagName("tbody")[0].childNodes,_=!1;if(m&&m.length){try{var T=m[0].getAttribute("class");T==="ant-table-placeholder"&&(_=!0)}catch(B){console.log(B)}if(!_){var y=m[0].childNodes;if(y&&y.length){var t=y&&y.length&&Array.prototype.slice.call(y).map(B=>B.offsetWidth);g.childNodes&&g.childNodes.length&&Array.prototype.slice.call(g.childNodes).forEach((B,N)=>{B.style.width="".concat(t[N],"px")}),t.map(B=>B)}}}}}componentDidMount(){var n=(0,U.findDOMNode)(this.pageRef);this.setState({initTableClassName:this.pageRef.tableRef.className}),n.parentNode.addEventListener("scroll",this.handleTableSticky),window.addEventListener("resize",this.resetThTdWidth)}componentDidUpdate(){(0,W.P2)(this.handleTableSticky,500)()}componentWillUnmount(){var n=(0,U.findDOMNode)(this.pageRef);n.parentNode.removeEventListener("scroll",this.handleTableSticky),window.removeEventListener("resize",this.resetThTdWidth)}render(){return G().createElement(h,(0,L.Z)({ref:n=>this.pageRef=n},this.props))}};re.Z=k},11449:function(De,re,e){"use strict";e.d(re,{Z:function(){return j}});var L=e(88986),C=e(33565),G=e(12924),U=e.n(G),R=e(3115),W=e(49111),k=e(19650),h=e(62029),A=e(57663),n=e(71577),g=e(91768),m=e(28216),_=e(37055),T=e(10237);function y(ae){var ve=_.ZP.getHelpContentByMenuKey(),ie={key:ae};return T.WY.get({url:ve,params:ie})}var t=e(74228),B=e.n(t),N=e(1164),M=e(76466),Z=e(38642);class u extends U().Component{constructor(ve){var ie;super(ve);ie=this,this.getHelpContentByMenuKey=()=>{var se=this.props.defaultMenuKey;y(se).then(fe=>{var de=fe.data,Ie=de.help_url,ee=de.video_url;this.setState({videoUrl:ee,helpUrl:Ie})})},this.handleOpenHelpUrl=se=>{if((0,Z.ve)()){window.open(se,"_blank");return}N.Z.targetTo({path:se,isExternalLink:!0})},this.handleOpenVideo=function(se){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ie.props.t("helpCenter.video");ie.setState(de=>({resourcePlayInfo:(0,L.Z)((0,L.Z)({},de.resourcePlayInfo),{},{resourceInfo:{originUrl:se,source:{FD:se,OD:se},contentType:"mp4"}}),previewInfo:(0,L.Z)((0,L.Z)({},de.previewInfo),{},{title:fe,visible:!0,onCancel:ie.handleCancelPreview})}))},this.handleCancelPreview=()=>{var se=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,L.Z)((0,L.Z)({},se),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:ve.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var ve=this.state,ie=ve.helpUrl,se=ve.resourcePlayInfo,fe=ve.previewInfo,de=ve.videoUrl,Ie=this.props.t;return U().createElement("div",{className:B().helpCenter},de&&U().createElement(n.Z,{type:"link",className:B()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(de)},Ie("helpCenter.video")),ie&&U().createElement(n.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(ie)},Ie("helpCenter.tutorial")),U().createElement(M.Z,(0,h.Z)({},se,{previewInfo:fe})))}}var O=ae=>({defaultMenuKey:ae.currentRoute.menuKey});u.defaultProps={defaultMenuKey:""};var w=(0,m.$j)(O)((0,g.Z)()(u));function K(ae){var ve=ae.extra,ie=localStorage.getItem("dingPersonnel"),se=sessionStorage.getItem("dingPersonnel");return U().createElement(k.Z,null,ve,ie!=="dingPersonnel"&&se!=="dingPersonnel"&&(0,Z.eY)("COMMONEXTRA_HELP_CENTER")&&U().createElement(w,null))}var b=K,z=e(4408);function Y(ae){var ve=(0,G.useState)({helpCenter:(0,Z.eY)("HEAD_HELP_CENTER_BUT")}),ie=(0,C.Z)(ve,1),se=ie[0],fe=ae.pageContainerParams,de=fe===void 0?{}:fe,Ie=ae.noPadding,ee=Ie===void 0?!1:Ie,le=ae.isPersonal,ge=le===void 0?!1:le,ke=ae.pageTitle,Te=ae.className,Se=Te===void 0?"":Te,xe={extra:se.helpCenter?U().createElement(b,{extra:de.extra}):de.extra},Le=(0,L.Z)((0,L.Z)({},de),xe);return U().createElement("div",{className:"page-container-content ".concat(ee?"page-container-noPadding":""," ").concat(ge?"page-container-content_personal_background":""," ").concat(Se)},ke&&U().createElement(z.Z,{title:ke}),ge?U().createElement(R.Z,null,ae.children):U().createElement(R.Z,Le,ae.children))}var j=Y},9849:function(De,re,e){"use strict";e.d(re,{Ej:function(){return R},kL:function(){return W},T:function(){return k},NU:function(){return h},FL:function(){return A},fn:function(){return n},bm:function(){return g},jY:function(){return m},Vs:function(){return _},li:function(){return T},Nl:function(){return y},YF:function(){return t},Q6:function(){return B},zW:function(){return N},Zv:function(){return M},Qg:function(){return Z},qc:function(){return u},Ve:function(){return w},rS:function(){return K},Rh:function(){return b}});var L=e(10237),C=e(37055),G=e(38642),U={zaraFlag:(0,G.UI)("ZARA_H5")};function R(z,Y){var j=C.ZP.StudyProjectList.startStudy(z);return L.WY.post({url:j,data:Y})}function W(z){var Y=C.ZP.Common.enroll(z);return L.WY.post({url:Y})}function k(z,Y){var j=z.courseId,ae=C.ZP.StudyProjectList.studyProject(j);return L.WY.get({url:ae,params:Y})}function h(z){var Y=z.id,j=U.zaraFlag?C.m1.getAssessmentProjectInfo(Y):C.m1.getProjectInfo(Y);return L.WY.get({url:j})}function A(z){var Y=z.courseId,j=C.ZP.EnterpriseCourse.addScanCount(Y);return L.WY.post({url:j})}function n(){var z=C.ZP.StudyProjectList.getAccountInfo();return L.WY.get({url:z})}function g(z){var Y=C.ZP.StudyProjectList.projectCertiUrl(z);return L.WY.get({url:Y})}function m(z){var Y=z.courseId,j=C.ZP.Courses.like(Y);return L.WY.post({url:j})}function _(z){var Y=C.ZP.EnterpriseCourse.addCommentAndScore();return L.qg.post({url:Y,data:z})}function T(z){var Y=C.ZP.EnterpriseCourse.getCourseComments();return L.WY.get({url:Y,params:z})}function y(z){var Y=C.ZP.EnterpriseCourse.addCommentAndScore();return L.qg.post({url:Y,data:z})}function t(z){var Y=C.ZP.EnterpriseCourse.deleteComment();return L.qg.post({url:Y,data:z})}function B(z,Y){var j=C.ZP.StudyProjectList.projectStudyRecord(z);return L.WY.get({url:j,params:Y})}function N(z){var Y=C.ZP.DingSpaceId.getSpaceId();return L.WY.get({url:Y,params:z})}function M(z,Y){var j=C.ZP.PlatformCourse.learningUrl(z);return L.WY.get({url:j,params:Y})}function Z(z){var Y=C.ZP.MyExamTask.examIntro({examId:z});return L.WY.get({url:Y})}function u(z){var Y=C.ZP.MyExamTask.examCheckStatus({examId:z});return L.WY.get({url:Y})}function O(z,Y){var j=CONFIG.Common.getOperateLog(z);return formDataRequest.get({url:j,params:Y})}function w(z,Y){var j=U.zaraFlag?C.ZP.StudyProjectList.changeCustomStatus(z):C.ZP.StudyProjectList.changeStatus(z);return L.WY.post({url:j,data:Y})}function K(z){var Y=C.ZP.StudyProjectList.getProjectReward(z);return L.WY.get({url:Y})}function b(z){var Y=C.ZP.subsidyGz.subsidyCourseSetting(z);return L.WY.get({url:Y})}},75916:function(De,re,e){"use strict";e.r(re);var L=e(24793),C=e(97183),G=e(14781),U=e(53431),R=e(22385),W=e(31097),k=e(57663),h=e(71577),A=e(34792),n=e(48086),g=e(71194),m=e(57016),_=e(88986),T=e(12924),y=e.n(T),t=e(91768),B=e(57119),N=e(49101),M=e(28216),Z=e(76651),u=e(57068),O=e(55285),w=e(11449),K=e(4408),b=e(88311),z=e(16598),Y=e(84009),j=e(48479),ae=e(37781),ve=e(6793),ie=de=>({userInfo:de.user});class se extends y().Component{constructor(Ie){super(Ie);this.getTutorDetail=()=>{var ee=u.parse(Z.m8.location.search),le=ee.tutorId;(0,ae.PQ)(le).then(ge=>{ge.data.code===0&&this.setState({tutorDetail:ge.data.data})})},this.getTags=()=>{var ee=u.parse(Z.m8.location.search),le=ee.tutorId;(0,ae.kV)({type:"tutor",resourceId:le}).then(ge=>{this.setState({tags:ge.data.data})})},this.getApprenticeList=()=>{var ee=this.state.param;(0,ae.W5)((0,_.Z)({},ee)).then(le=>{le.data.code===0&&this.setState({dataSource:le.data.data.list,param:(0,_.Z)((0,_.Z)({},ee),{},{total:le.data.data.total})})})},this.onChange=(ee,le)=>{var ge=this.state.param;this.setState({param:(0,_.Z)((0,_.Z)({},ge),{},{page_size:le,page_number:ee})},()=>{this.getApprenticeList()})},this.changeTutor=ee=>{},this.deleteStudent=ee=>{var le=this.props.t,ge=this.state.param;m.Z.confirm({title:le("common.tip"),icon:y().createElement(B.Z,null),content:le("common.confirmDeleteTitle"),onOk:()=>{(0,ae.MA)(ee.id).then(ke=>{ke.data.code===0&&(n.default.success(le("common.deleteSuccess")),this.setState({param:(0,_.Z)((0,_.Z)({},ge),{},{page_number:1})},()=>{this.getApprenticeList()}))})}})},this.openUserModel=()=>{this.setState({orgDialogVisible:!0})},this.getUser=ee=>{var le=ee.user,ge=this.state,ke=ge.param,Te=ge.addLoading;le.length===0||Te||(this.setState({addLoading:!0}),(0,ae.Mm)({tutorId:ke.tutorId,user_ids:le.map(Se=>Se.id)}).then(Se=>{this.setState({addLoading:!1}),Se.data.code===0&&this.setState({param:(0,_.Z)((0,_.Z)({},ke),{},{page_number:1}),orgDialogVisible:!1},()=>{this.getApprenticeList()})}).catch(()=>{this.setState({addLoading:!1})}))},this.handleSearch=ee=>{var le=this.state.param;this.setState({param:(0,_.Z)((0,_.Z)({},le),{},{keyword:ee,page_number:1})},()=>{this.getApprenticeList()})},this.renderLeftRow=()=>{var ee=this.props.t;return y().createElement(h.Z,{type:"primary",icon:y().createElement(N.Z,null),onClick:this.openUserModel},ee("tutorial.teachingStaff"))},this.renderRightRow=()=>{var ee=this.props.t;return y().createElement(j.Z,{onSearch:this.handleSearch,width:"300px",placeholder:ee("course.search")})},this.state={param:{tutorId:"",keyword:"",page_size:10,page_number:1,total:0},tutorDetail:{avatar:"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),user_name:"",user_id:"",gender:"female",department_name:"",level_name:"",description:"",user_quit:"false"},addLoading:!1,tags:[],dataSource:[],orgDialogVisible:!1}}componentDidMount(){var Ie=u.parse(Z.m8.location.search),ee=Ie.tutorId,le=this.state.param;ee&&this.setState({param:(0,_.Z)((0,_.Z)({},le),{},{tutorId:ee})},()=>{this.getTutorDetail(),this.getTags(),this.getApprenticeList()})}render(){var Ie=this.props,ee=Ie.prefixCls,le=Ie.t,ge=this.state,ke=ge.dataSource,Te=ge.param,Se=ge.orgDialogVisible,xe=ge.tags,Le=ge.tutorDetail,Fe={title:le("tutorial.student"),dataIndex:"user_name",key:"user_name",fixed:"left",width:100,render:(Ue,We)=>y().createElement("span",null,Ue,We.user_quit==="true"?y().createElement("span",{className:"leave-employee"},le("lecturerPage.resignation")):null)},je=[{title:le("tutorial.bindTime"),dataIndex:"create_time",key:"create_time",width:160,render:Ue=>(0,ve.p6)(Ue)},{title:le("common.operate"),width:100,key:"operate",fixed:"right",render:Ue=>{var We=[{visible:!0,title:le("common.delete"),click:()=>this.deleteStudent(Ue)}];return y().createElement(z.Z,{buttons:We})}}];return y().createElement(w.Z,{pageContainerParams:{header:{title:le("tutorial.detail")}}},y().createElement(K.Z,{title:le("tutorial.detail")}),y().createElement("div",{className:"".concat(ee,"__main-detail")},y().createElement("img",{src:Le.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:"",className:"".concat(ee,"__main-detail__img")}),y().createElement("div",null,y().createElement("div",{className:"".concat(ee,"__main-detail__title")},y().createElement("span",{className:"".concat(ee,"__main-detail__title__name")},Le.user_name,Le.user_quit==="true"?y().createElement("span",{className:"".concat(ee,"__main-detail__title__name__resignation")},le("lecturerPage.resignation")):null),y().createElement("img",{src:Le.gender==="female"?"".concat("https://oss.coolcollege.cn","/1790706776073703424.png"):"".concat("https://oss.coolcollege.cn","/1790706775494889472.png"),alt:"",className:"".concat(ee,"__main-detail__title__sex")}),y().createElement("span",{className:"".concat(ee,"__main-detail__title__level")},Le.level_name),xe.map(Ue=>y().createElement(W.Z,{key:Ue.tag_id,placement:"topLeft",title:Ue.tag_name},y().createElement("span",{className:"".concat(ee,"__main-detail__title__label")},Ue.tag_name)))),y().createElement("p",null,Le.description||le("tutorial.noIntroduction")))),y().createElement("div",{className:"".concat(ee,"__main-content")},y().createElement("div",{className:"tutor-detail__header"},y().createElement("div",{className:"tutor-detail__header__status"}),y().createElement("div",{className:"tutor-detail__header__query"})),y().createElement("div",{className:"tutor-detail__content",ref:Ue=>this.tableRef=Ue},y().createElement(O.Z,{nameColumn:Fe,columns:je,dataSource:ke,pagination:!1,rowKey:Ue=>Ue.id,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"6d7ef219-c4f3-4c93-80fe-c6c0d70ead9a"}),y().createElement("div",{className:"tutor-detail-pagination"},y().createElement(U.Z,{total:Te.total,onChange:this.onChange,current:Te.page_number,pageSize:Te.page_size,pageSizeOptions:[10,20,50],showSizeChanger:!0}))),y().createElement(b.Z,{title:le("common.select")+le("tutorial.student"),visible:Se,onOk:this.getUser,onCancel:()=>this.setState({orgDialogVisible:!1}),onlyUser:!0})))}}se.defaultProps={prefixCls:"tutor-detail"};var fe=(0,M.$j)(ie)((0,t.Z)()((0,Y.Z)()(se)));re.default=()=>y().createElement(C.Z,{className:"tutor-detail"},y().createElement("div",{className:"ant-layout-content"},y().createElement(fe,null)))},37781:function(De,re,e){"use strict";e.d(re,{Q_:function(){return G},O$:function(){return U},PQ:function(){return R},zv:function(){return W},Vu:function(){return k},Qd:function(){return h},t3:function(){return A},Tw:function(){return n},kV:function(){return g},W5:function(){return m},MA:function(){return _},Mm:function(){return T},pF:function(){return y},ZK:function(){return t},iT:function(){return B},Nf:function(){return N},hB:function(){return M},GK:function(){return Z}});var L=e(37055),C=e(10237);function G(u){var O=u.tutorialsId,w=u.tutorUserId,K=u.userId,b=L.ZP.tutor.getCoachDetail({tutorialsId:O,tutorUserId:w,userId:K});return C.WY.get({url:b,params:{status:"single"}})}function U(u){var O=u.tutorialsId,w=u.status,K=u.keyword,b=L.ZP.tutor.getUserListByCoach(O);return C.WY.get({url:b,params:{status:w,keyword:K}})}function R(u){var O=L.ZP.tutor.queryTutor(u);return C.WY.get({url:O})}function W(u){var O=u.tutorId,w=u.user_id,K=u.gender,b=u.level_id,z=u.department_id,Y=u.description,j=u.avatar,ae=L.ZP.tutor.editTutor(O);return C.WY.post({url:ae,data:{user_id:w,gender:K,level_id:b,description:Y,department_id:z,avatar:j}})}function k(u){var O=u.user_id,w=u.gender,K=u.level_id,b=u.description,z=u.avatar,Y=u.department_id,j=L.ZP.tutor.addTutor();return C.WY.post({url:j,data:{user_id:O,gender:w,level_id:K,description:b,department_id:Y,avatar:z}})}function h(u){var O=u.keyword,w=O===void 0?"":O,K=L.ZP.tutor.levelList();return C.WY.get({url:K,params:{keyword:w}})}function A(u){var O=u.name,w=u.standard,K=L.ZP.tutor.addLevel();return C.WY.post({url:K,data:{name:O,standard:w}})}function n(u){var O=u.id,w=u.name,K=u.standard,b=L.ZP.tutor.editLevel(O);return C.WY.post({url:b,data:{id:O,name:w,standard:K}})}function g(u){var O=u.resourceId,w=u.type,K=L.ZP.tagsInformation.resourceQueryTags();return C.WY.get({url:K,params:{type:w,resourceId:O,isNewTag:!0}})}function m(u){var O=u.tutorId,w=u.keyword,K=u.page_size,b=u.page_number,z=L.ZP.tutor.apprenticeList(O);return C.WY.get({url:z,params:{keyword:w,page_size:K,page_number:b}})}function _(u){var O=L.ZP.tutor.deleteApprentice(u);return C.WY.post({url:O})}function T(u){var O=u.tutorId,w=u.user_ids,K=L.ZP.tutor.addApprentice(O);return C.WY.post({url:K,data:{user_ids:w}})}function y(u){var O=L.ZP.tutor.deleteLevel(u);return C.WY.post({url:O})}function t(u){var O=u.source_id,w=u.destination_id,K=L.ZP.tutor.sortLevel(O);return C.WY.post({url:K,data:{source_id:O,destination_id:w}})}function B(u){var O=u.tutorId,w=u.status,K=L.ZP.tutor.updateStatusTutor(O);return C.WY.post({url:K,data:{status:w}})}function N(u){var O=u.keyword,w=u.status,K=u.department_id,b=u.page_number,z=u.page_size,Y=L.ZP.tutor.listTutor();return C.WY.get({url:Y,params:{keyword:O,status:w,department_id:K,page_number:b,page_size:z}})}function M(u){var O=u.source_id,w=u.destination_id,K=L.ZP.tutor.updateSortTutor(O);return C.WY.post({url:K,data:{source_id:O,destination_id:w}})}function Z(u){var O=L.ZP.tutor.deleteTutor(u);return C.WY.post({url:O})}},14441:function(De,re,e){"use strict";e.d(re,{v:function(){return G},t:function(){return U}});var L=e(10237),C=e(5430);function G(R){var W=C.Fc.getUserName();return L.WY.get({url:W,params:{user_id:R}})}function U(R){var W=C.Fc.getDepartmentNames();return L.WY.post({url:W,data:{ids:R}})}},91648:function(De,re,e){"use strict";e.d(re,{Z:function(){return L}});function L(C,G){var U,R,W,k,U;if(R="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),U=[],W=void 0,G=G||R.length,C)for(W=0;W<C;)U[W]=R[0|Math.random()*G],W++;else for(k=void 0,U[8]=U[13]=U[18]=U[23]="-",U[14]="4",W=0;W<36;)U[W]||(k=0|Math.random()*16,U[W]=R[W===19?k&3|8:k]),W++;return U.join("")}},69164:function(De,re,e){"use strict";var L=e(34792),C=e(48086);function G(U){U&&U.length>0&&C.default.success(U)}re.Z=G},65202:function(De,re,e){"use strict";e.d(re,{p:function(){return L}});function L(){return localStorage.getItem("themeColor")||"#516AE6"}},25547:function(De,re,e){"use strict";e.d(re,{Yd:function(){return G},VX:function(){return R},lK:function(){return W},NP:function(){return k}});var L=e(88986),C=e(93485);function G(h,A,n){var g=0;function m(_,T){for(var y=0;y<_.length;y++){var t=_[y];if(t[h]===A){g=T;break}else t.children instanceof Array&&t.children.length&&m(t.children,T+1)}}return m(n,1),g}function U(h){var A=1;function n(g,m){g.forEach(_=>{m>A&&(A=m),_.children&&_.children.length>0&&n(_.children,m+1)})}return n(h,1),A}function R(h,A,n){h.forEach((g,m,_)=>{if(g.id===A)return n(g,m,_);if(g.children)return R(g.children,A,n)})}function W(h,A){var n;function g(m){var _=(0,C.Z)(m),T;try{for(_.s();!(T=_.n()).done;){var y=T.value;if(y.id==A){n={id:y.id,name:y.name,children:y.children,parentId:y.parentId};break}y.children&&y.children instanceof Array&&y.children.length>0&&g(y.children)}}catch(t){_.e(t)}finally{_.f()}}return g(h),n?(0,L.Z)((0,L.Z)({},n),{},{children:n.children instanceof Array?n.children:[]}):{children:[],id:"",name:""}}var k=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",m=[...A];function _(T){Object.keys(n).forEach(y=>{var t=y,B=n[y];T[B]=T[t],T[g]=T[g]&&T[g]instanceof Array?[...T[g]]:[],T[g].length?T[g].forEach(N=>{_(N)}):delete T[g]})}return m.forEach(T=>_(T)),m}},2396:function(De,re,e){"use strict";e.d(re,{fA:function(){return G},kh:function(){return U},kR:function(){return R},rw:function(){return k},$s:function(){return h},q_:function(){return A},QK:function(){return n}});var L=e(6793),C={limitWords(g,m){return{rules:[{max:g,message:"\u6700\u591A\u8F93\u5165".concat(g,"\u4E2A\u5B57")},{required:!0,message:m||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(g){return{rules:[{max:g,message:"\u6700\u591A\u8F93\u5165".concat(g,"\u4E2A\u6807\u7B7E")}]}},required(g){return{rules:[{required:!0,message:g||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(g,m){return{rules:[{required:!0,message:g||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:m}]}}},G={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s]|[ ]$/gi},U=g=>isNaN(g)||!g||!(g>=0&&g<1e3)||!G.score.test(g),R=g=>isNaN(g)||!g||!(g>-1e3&&g<1e3),W=g=>isNaN(g)||!g||!(g>=0&&g<1e3)||!G.examScore.test(g),k=(g,m)=>{for(var _=0,T=0;T<g.length;T++){var y=g.charAt(T);if(y.match(/[^\x00-\xff]/ig)!=null?_+=1:_+=.5,_>m)return T}return 0},h=g=>{for(var m=0,_=0;_<g.length;_++){var T=g.charAt(_);T.match(/[^\x00-\xff]/ig)!=null?m+=1:m+=.5}return m},A=(g,m)=>{var _=g.target.value,T=g.target.dataset.originLength;if(g.target.dataset.originLength||(T=m,g.target.dataset.originLength=T),!!T){var y=h(_);y*1<m*1?g.target.setAttribute("maxLength",m*2):g.target.setAttribute("maxLength",m)}},n=(g,m)=>{var _="";return(!g||!(0,L.fy)(g))&&(_=m),_}},4412:function(De){De.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACPCAYAAAD0gYXiAAAW/ElEQVR4Xu2dCZAcV3mA/9fHaGZ2V9qVdlejvbQ7O7NaWdqNTbgxlmVbxkeME3AcHJwqKhCC44AJV0zZjg8ScwRDqLIMwUnsJEAKF4aCGEIigyVjAthQMTLWbcnyCmmtY6/Znav7vT/190yvenp7prtHM5Lm6NLUaHve1f/X//W6+zWD5lazEmA1O/LmwKEJr4ZPgia8JrwalkAND72peU14NSyBGh56U/N8wkNE6ZVXXrlIUZQrEPG5vr6+H/tsomLFm/A8iHJ6enowlUptYYxdwTm/HABWIaJZ89uqqn4sEokc8tBURYs04TmIc2ZmpiOTyVwmhLiCgAkhYlTMBObwnQaALwaDwfu7u7vnK0qoRGNNeDkogZmZmTdrmmZoFyL+rhBCLgbMCs8G8igAfHJgYODfGWOLqlktmA0JDxHZ9PT0GCJuAQCC9VZEbHGCYgJ00rpimggAzwohbhsaGvp5tcBRuw0Hb3p6+osAcBMiribhu0FxBJRKA2Q1wOWtBfVtZUnzvp7JZG5ft27db6sBsaHgzc7OXiuEeKIYtKJmUteBvTwBbM8BkPYeBPbKEQBZBn3zm0G77GJAVTHYOIFmjJEP/AwiPjA0NES+sWJbw8BDRHV2dvY3iDhSwmflANDn2KsAew4YwNj+l4Fls45CxxXLIft7l4N+0RggnHZzDifIywDw8Wg0+q1K0WsYeHNzcx/lnH++aNQ4MwewZz/A7gM5aHMJXzIWg32Quf4q4P1rSkWlwBjbAQC3RaPRX/vqwKFwQ8BLJBLdnPN9ALCiQOt+OwnwzLMAu/fnNK0Cm/a634Hs1ZeBaGtZYkpNbWSMcUT8J0S8Kx6Pnyi324aANzc391VE/LMCU6ZzwPu+ADB5vFzZFa2HywKQvfxiyL719QCKAkKIxbI2k70tHo9fWe4A6h7e9PT0RbIsP2fmbabZFD/6CcA3v1eu3DzVEys7IHPdFaBtGClmSlOyLK8sN5Cpe3hzc3M7EPGSAl+XmAdx52cBkilPEM60kB4bhPR1W4BHupZAFEJsGRkZebKcPuoaXjKZ/ENd1x+zBynia48D7vhZOfIquw5KDFI3vxOyF8QLTCgifjYej99eTsN1C29iYiLU0dGxWwixtgDexFHgn/oCgKj67NUSHtqFGyB50/WG9lkmtn8Vi8Ve24RnkcDCwsJdQoj77Ikz//yXAfccKEdWZ1xHtLZA4s4PLWaD+bGJYDDY3dfXd8pvB3Wpeclksg8R9wghjHjdBCh+tRP4Q4/6lVFFy89/+H2gR7rsacQfxeNxw7z72eoV3teEEO+2mCbArAbanZ8BODnlRz4VL5u+9nLIXPIGu+l8OBaLvd9vZ3UHT9O0N2Wz2Z/SlQOryeTffxLEt3/gVz4VL6+NRCH53nfZ4b0ci8WG/HZWV/AIWCqV+gUivq4gGZ6ZBe2TnwbIZPzKpyLlWVsLKBvXgzq2HpT1cTiSSoKQcqK3WId4LBbz5YzrCl4qlXoPIj5ii+ZAe/jrIP73uYqA8NSIqoIyGgN1/AIDmDzYD0ySFqtO7t4DyWWBgpSBMXbL8PDwVzy1ny9UN/BOnDjR1trauhcR11i1Thw8DNqn6BJeFTfGDEAmLALHAqfh2HuenZyEqVSqwHQyxh4fHh6+wc8o6wZeJpMZFULstqcG2fu/BGLfQT8y8VRW6u4EZWx9DtjGUZDaWkvWo3HxiaOgvbAb0ocnYObqSxfNZn7M08PDw52MsdMToS4jqRt4dJypVGoCEftMX0JCyX5uKyBdNTjDjbWEQdk4etoURrpdW+RT06C/sBu0nbsNaDgzmwPGGCT+5q9AhJYV+D1Jkt4QjUafdW243swmHU8mk3mEc/4eKzz+xJOgP/6EV3mcLqcqoKyLGT7L8FvRtQV+y6lBkUqDvmsvaDt3GbDEkWNF+03e/A7QxkYLTKckSXdEo9H7vQ623jSPcruvmfDom3xeli79uG0MQF7bn4sIyRSOxoFZggqn6sg56PsPgfbCLtB37gb9wEEA7s3qZd/4Gkj9wVX2iertsVhss9tQzd/rCh7dVJROp49RyrAIUAhIf/AOgIXkEpmwzpWgjl0A6vh6UDeuB2lFm7vf+u0k6C/sypnCXXsB6GakMjaxqgMSn7hl0Wzm/V4mHA6v7OnpWTpYhz7qCh4dXzqd/rUQYtxqOrWtj4L45fPAwqGc38oHGvKa1a5iF5QjGj4rZwpxasa1jtcCidtvBd6+vMDvAcDVsVjsh17aqEd4DyDiRwqumu89AIHWVlCGB139FqYzoO3al4O1czeIiarctQeiYwXMf+zPARWlwHQyxu4eHh6+r1HhXY2IPyhIGRLzEF7tHB0afuullw2fZfguSis49yK7MyqTooBlfL3d5yWDweBob2/vhJfG607zEDGcyWSmhBBGHG5qYFDTQW5fYciEH51cjAj1F/cCnqUr6iYQPToAyQ/8id3f0d/3Dg8P3+MFHJWpO3h0UKlU6ilENLJgUwPZ7n3An33eMIV46txdWaAcL3nbe4H35PytxUJMhEKhUa/BSj3DuwMA/tbq9/hzz4O29RGvJ3XVymlveA2kb7hmidYxxv54aGjoP/x0XJeal81mX885p6sLp4U0vwAZShlOP1fnR04VKYvBZZC8/VYQLWG71v00Go1e7LeTuoSHiHI6nT6BiB1W05S59wHAQ6/4lVHFymffvgWyl7zRrnVCkqTXr1279ld+O6pLeCSEdDr9OCK+w6p92reeAP7ENr8yqkh50bUKUh//AGD+0pDlOt6/DA4OvrecTuoZ3i2I+JDV74ld+4yJ6nOxpd93E/D1udv+LGOaC4VCI6tXry7rXvt6hhdDxP0F+Z6uQ/bL/wp0I9LZ3PhoDDLvf/eSG24B4K/Xrl37uXLHUrfw8qbzkBBi0BaSg9i9H/RvfAfwCD2FXN2NzGTmE7eA6O60wzswMDCwgTHm/OyYh2HVO7yHEfF99tsijL85B77jZ8C/818A8wseRFVeEX3TG0H7/dzVA+vdbLIsX9/b23tGD0vUO7y3AcB3rbMtNp8DuJAE/t3/BvHjZwAsT/OUh6qwFraEIXPHhwBDQeMH82khSZK29fX1lf10kNlLXcPLm86YEIIu6F1XMFltyQENwR6dBPHN7wH+Zs8ZccOOdhDrhkGsiwKPRwFaw3at04UQF65du/bFM+qoXqfHnISSTqe3cM7/AQAuWKJ9FpMmdu4yIMKrHp95DAVBjEQB1w0DrouB6Fppjyjtvu7B/v7+D54pOKpf95pnFRIiKqlUilKIv0fEZQUzMFZN5BzEj54BpJzQfrFVlgGjA4CjMYDRGIj+XgCJlXyU2RIwnaJn4vv7+ysyudpQ8EiIx48fv0SW5e2yLDNZNtbJKb6cBz3H950fAhw6DEA52mgMMD4EEAgUmELHgMg6NZf/P2PsL3t7eyuWaDYUPFr07dSpU78EgIsMs8MYKIoCkiQVXU/Ffithqb+dfmOMzQohtgPAtp6enq/Q8+iVMJkNZzZPnTpFz6V/1S48gkdaSDCLmVIf0DTG2M+FEE/SZ9++fc9u3rxZrxQwazvnjeY99dRTfYFAYGtbW9vbq3KgjEF3d7cBqUhAA5xzWL58+aImegFGVhcAdiGiAUuSpO1na/G48wLe9u3b3wQAtPRhpq2tzXiStdLbihf2Qks4DPCW1wFYnhswfd7x48cNeAS3vb0dWlpaigYhuq6nZVmmxXC2EbSurq7qT9U4COScw3v66affwzknX7BMVdXD1YCnpDLQ/eCjwNIZwN41ADdeBzASXRTH/Pw8zM3NFYgnEAhAR0cH0Dcl15lMBpLJ5MmTJ092ptNpMrGU/N+8efPms7ZEo53fOYP32GOPyd3d3TQp+xFzUNWC1/nDHbDsucIFh/CijQDvvAZ4+wqKQAumrqxCUlUVNE0zdmWz2cPz8/OLloEx9gIAXL9p06azvlDqOQtY7rnnHunSSy/9PgBcZRNUxTUveGIKVv3j152voCsKzNz2p7AQzk1fuW12ePnyJxljV27atOn/3OpX+vdzonkvvvhia3d3t7G4l3Wylv4UQhSMyWuobrZla48azIEz/hUu7GbUsUSY1vEUCfux4G7s/Pg553eOjY39XaXhuLV3TuAdP368VZKkxBJB2+Ybi4ErCsqlvh2O3/6LwW0oeKR5kUhkEZ5ViE55lpPQvOyjtszczX4ieKlvnvlOE9rW+rquN47m0ZrOU1NTxgPi9qklN9NlN7VeoLhpsFubbvUbFl4pWE5w/cAqVd/LSeK1PgB8eHR09EtuPqrSv58Tn0eaNz09nbGbSyfzWUkhu2mQV1Nqb4cxduu6deseqjQct/bOKTwnc1XM/7kJ1ouWlmrbS/1iJ1LDwvNiNq1lstksLCwsFCxAav5OZ+JKkEDqWuV40lLd2dn8c+GWO6cpqKFpMZpNcfN/Rfx0Y2nezMyMY8BSyqfpug4nT54sak2W/2YftP3nNsDNbwG45jKA4Onkm9qluuZsiVMjy5YtA5pR8QrQUq4x4fnxaclkcskcpAlB1nRYvfXfgCXyU41trYDXvw3gTa81rnRT3ZmZ0k+1kvaFw7l7TooBdNI8MpvxeLxxfN7s7OxiwOLVF5HZm5pyvoNg5Y5fQOjpXyxVqIFeEDdeB6+2BJeYWnth0rpgXluLBVNOY21IeG5BiFN0SLP/pEXWLTCXgE7SOt35InXihmtgbr3xLqeiG12QJa2zX1UvNkarBjYcvLm5uSWa5zWHo0s0dO3NFKCcWAApf+OsPemn5YG17s4lZtBuFgmaFxNeJJ1pLLNphVeOBpYRVJT0ZX5SFIeyjQfPtGHFkmcvmlhKW5yCCy9tepk8sJVpwiulgaUEWi5AL2ay1Alg+a2x4CUSicU8z4vw3cykn6kvN2iUtDu9haRYPURsLHjz8/OuAUu5c51e8jQ3gMVOliLW4dbh4eHGyfOs8Lxqnt2EeQkySmlsBes3FryFhQVD87wI0EmT/GhOJTW4SL+NCc+rLzuLkaNjvudysjQePK/5nR9z6SdiLbd/ez0KWBrK55HZdMvzKqVtXn2qnxzQaoqFEI0FL5lMlp0q+PGT5YLz0ofZNs1tDg4ONk60WQyeqY1+8iy73/RjZksFQ141seHgpVKponmek7n0E12WW9/Bl5nnkmMQY9HOxtI8Kzy/gUO5vrAUHC9a5lQ/f19oY8FLp9OeZ1is/qccDfSajpQDkNomszkwMFB/Pm9qaoqWIvwLXdcv0TSti3N+Qtf1n65Zs+bGcoVVqXnMUhrs5SSxBix1BY9WXkgmk1/inN+iaRqjm4esn56eHs/JcKWEXO5Mi1vECgD1pXnpdHor55w0rgCa+Xdvb6/r8hdO5s5LCF8Kkpf6fhP9uoKnadrFiPi0k8ZZ4fkVkh8zWyVIxj0u5rgpnaEPIj7POf/nVCr16IYNG87ak7JVuWOac/4NXddvKqZ1tJ80z9zcoJQC4TVSPVM/SbcF0scEZn7TvTQWiK/quv6h0dFR3+9/LchJPP5RFXhCiCOapvUWg0cH7GQ2ywVRbfNKa7XQx7zxqRRAIQQ9IHrH+vXrP+2RQdnFqgKPc57RdT1QSvP6+ow3pS2aIDftc9PSatUnaOaiAh7hEWQC+K4NGzZUVQOrAs9N8whqf3+/r4DFiw/zUsZPCkBlzTuoi4FzMp/5sq8yxmLV9IFVgefm88hsmprnxxd50S4v/tErZLvWlQBV4AstfvCD4+PjD5ZtF10qVgWel2hzYGDAVfO8gPCrSV7AmWVCoZDxWLSLjzNuALaXyWvfk+Pj41tqCh4N1i3Pc4JXbsBSLcjmKkhWMHZQJcAR0KPj4+Onw+oKU6yK5uUhlJxhIXhOAYsJ0OtsSLHyXudDS/XX2tq6RKtcYC1qIJVDxOzY2FjuxbBV2KoCj9Yq2bdvX08mkxlub2+/MhAI0HrKcSFEq6Zp85qm7R8cHHwNvXnkfNM26wllDVa8+jurliLiSVVVLxwZGTnKGDu9CEyFQFYU3sGDB1enUil68wMt8VTyjIvFYh+VJMlYMtgKsJQmeAluvPjAUoGPtT49bGn3eU6aV2wfALzIGKP1remugcOhUGh/NBot6wUYTrzPGN7+/fuXCSGGhBAxWZZLv3TVMoKWlpb+SCRyFyK2Wk2c3yvopcB7CU6c6pv7rMl5Mc1zSiFMmIyxR1VV/R+b4OcQ8SVJkg7F4/HF+3jKUcay4U1OTraQliHigBAiN+HnsplrXZqPZ7W2tna2t7dfyxgjB7jYhk+YdAwsv6xU7jt3hVSi/yO1i8AQkPYtlhUCpdw+WmcbGa23Y5RHkauX39/W1tZOV0j85nmIOK0oyq2SJKVMsViPX5IkwRh7hbQxEomU9WIH3/Bo6an5+flhxljkfFhgXJIkhTGmIKKa+5ZUxoTxjUjfqJLwcx+mInIFABWdiwCC8bsiBCpC5yrtFwiK4JoqBCgCudrR3t4XiUQu5JwzH34PJUn6dCAQ+InbCZ1bRwgnU6nUS34Tes/w6CCPHDkyiIg9jM7sEhvNoFg3Mj/Wrdjv9v3FurC2xzmXA4EAaYZKH0lSjf9LElOE0FXOCV4OKM+DBAEqMlS4pqkCqB6oIHiuDRSK4Ej7FeRC5ZyrkcjqkY6OjnUmwFLpApEAgIdVVf2GOX4vx0/HTqlFNBo9xBjztKyxJ3iTk5PdmUymPxAIOK/x63J6eYVlP0gPZy1ZSNIIVQimShKqTFEMCKRxBkSU6NvQQAOeAZOrKDFF17QAlWGkfQRRz50A9OEoVBBC4VxQGaW9fUV/Z+eqDRSIFcv7EPEUY+yBcDj8o3JO1vzkty7L8pFIJHLc7fhLwiNtm5yc7GOMeQ5E3Dqsxu9kOjmXVEniqiQRLPpwVbAcPGOSPA/UMKOcq8hIM3mA/i8AjH2L4AwN5CqBQ2qHG54zoUhysre3p0VRlI1CiGFd1+nlitOc85cA4KlgMEjvBvL0gno3OSBiIhKJHCmlhUXhHT16NBwOh1dns9lCm+fW6zn4nbEgkySNTFyAS5IqcQNeAFGoTJVU1ISqaVqAwOqY00oqC3mQBBck0JBDGplIyoxRADGvBINzKmNz4XD4rF1gtYovEAjoyWTy1WIvAXaER6+rnpqaoveqeDKr54DXki51XVYJoCzLAdJCxpgqRCaQ00IyfVyWJJkjIhdCaEJkNQA1raqBZCgkJ4U1RzkfDig/hlAohKFQaIoxtkSjl8BBxJZkMrmc6iaTSUd44XDYcbbALF/sd1MmfsvZZenUfjqdljVNUyUpJMOy/EmXAQyQYeRcDwaDi0FANfq3yqsax9/Z2TnLchZhcSuAMzExEWpvb28rBo0maq0brQHmZzPrF6tnHnSzf2el6e7unmOMLeaNi/DIDyQSiRV+YDTLnn0JtLW1kQYay80b8PKzE8tnZ2cdZ0oSiYSj+Wxrayswn2Y5r/vNQzfzxnyOtEQizf5Py7+lpYV3dHSQBhrTRXDo0KHgihUrqnbp4uyfn/XdI63bNjQ0lDbg0ZRXV1eX5yM+caLwxYBe65Zbzz6wctspt9752D+9r4gmY5Vjx47lVgm1bWvWrCkwi8eOHTNgF9vvmb7Hgs3+S8pfI3i0Oqjh6w4cOOBJrLFY4Qp6Zj37fk+NWQo1+/clf2Fonl8hN8ufHxIgeNK9995bMJq77777rI6u2X958q+Z6a+zejbVSGdNeDUCymmYTXhNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjoTc1rwqthCdTw0Jua14RXwxKo4aE3Na8Jr4YlUMNDb2peE14NS6CGh97UvCa8GpZADQ+9qXlNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjo/w+0S4IKs9Wq0AAAAABJRU5ErkJggg=="}}]);
