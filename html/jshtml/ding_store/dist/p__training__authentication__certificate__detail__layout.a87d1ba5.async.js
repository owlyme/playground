(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4674],{4408:function(ve,q,t){"use strict";var F=t(12924),w=t.n(F),B=t(28216),k=t(17780),K=t(38642),l=T=>({userInfo:T.user}),E=T=>{var u=T.title;return(0,k.xX)()&&setTimeout(()=>{document.title=u},0),(0,F.useEffect)(()=>{if(u&&document.title!==u&&setTimeout(()=>{document.title=u},0),(0,K.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[u]),w().createElement(w().Fragment,null)};E.defautProps={title:""},q.Z=(0,B.$j)(l)(E)},76343:function(ve,q,t){"use strict";var F=t(71194),w=t(57016),B=t(57361),k=t(88986),K=t(57663),l=t(71577),E=t(34792),T=t(48086),u=t(9754),r=t.n(u),M=t(12924),P=t.n(M),j=t(91768),W=t(96120),N=t.n(W),x=t(24144);class $ extends M.PureComponent{constructor(){super(...arguments);this.state={src:null,crop:{unit:"%",width:80,height:80,x:10,y:10,aspect:16/9},imgBold:{},fileName:"",imgType:"image/jpg"},this.onSelectFile=v=>{if(v.target.files&&v.target.files.length>0){var m=new FileReader,C=v.target.files[0];m.addEventListener("load",()=>{this.setState({src:m.result,fileName:C.name,imgType:C.type})}),m.readAsDataURL(C)}},this.onImageLoaded=v=>{this.imageRef=v},this.onCropComplete=v=>{this.makeClientCrop(v)},this.onCropChange=v=>{this.setState({crop:v})},this.onOk=()=>{var v=this.state,m=v.imgBold,C=v.imgType,A=new File([m],m.name,{type:C}),L=new FormData;L.append("file",A),L.append("access_token",localStorage.getItem("token")),(0,x.ws)(L).then(b=>{b.data.code===0&&(this.props.isShowMsg&&T.default.success("".concat(this.props.t("course.courseDetailCoverSuccess"))),this.handleSuccessUpload(b.data))}).catch(b=>{var g=this.props.onUploadFailed;g&&g({error:b,data:{fileList:[{fileName:A.name}]}})})},this.handleSuccessUpload=v=>{var m=this.props.onOk,C=v.data,A=C.fileNewName,L=C.server,b=C.fileName,g="".concat(L,"/").concat(A);m({fileName:b,imgUrl:g,fileNewName:A})},this.renderFooter=()=>{var v=this.props,m=v.prefixCls,C=v.t,A=v.accept,L="".concat(m,"__upload");return P().createElement("div",{className:"".concat(m,"__footer")},P().createElement(l.Z,{type:"default",className:L},C("component.reUpload"),P().createElement("input",{type:"file",multiple:!1,accept:A,onChange:this.onSelectFile})),P().createElement(l.Z,{type:"primary",onClick:this.onOk},C("common.ok")))}}componentDidMount(){var v=this.props,m=v.file,C=v.widthScale,A=v.heightScale,L=this.state.crop,b=new FileReader;b.readAsDataURL(m),b.addEventListener("load",()=>{this.setState({src:b.result,crop:(0,k.Z)((0,k.Z)({},L),{},{aspect:C/A}),fileName:m.name,imgType:m.type})})}getCroppedImg(v,m,C){var A=this.state.imgType,L=this.props.quality,b=document.createElement("canvas"),g=v.naturalWidth/v.width,c=v.naturalHeight/v.height;L?(b.width=m.width*g,b.height=m.height*g):(b.width=m.width,b.height=m.height);var y=b.getContext("2d");return y.drawImage(v,m.x*g,m.y*c,m.width*g,m.height*c,0,0,b.width,b.height),new Promise((I,V)=>{b.toBlob(G=>{if(!G){V(new Error("Canvas is empty"));return}G.name=C,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(G),this.setState({imgBold:G}),I(this.fileUrl)},A,L)})}makeClientCrop(v){var m=this;return(0,B.Z)(r().mark(function C(){return r().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(m.imageRef&&v.width&&v.height)){L.next=3;break}return L.next=3,m.getCroppedImg(m.imageRef,v,m.state.fileName);case 3:case"end":return L.stop()}},C)}))()}render(){var v=this.state,m=v.crop,C=v.src,A=this.props,L=A.visible,b=A.prefixCls,g=A.onCancel;return P().createElement(w.Z,{className:b,title:"\u8C03\u6574\u5C3A\u5BF8",visible:L,footer:this.renderFooter(),width:623,onCancel:g},P().createElement("div",{className:"".concat(b,"__container")},P().createElement("div",{className:"".concat(b,"__container__crop")},C&&P().createElement(N(),{className:"".concat(b,"__crop"),src:C,crop:m,ruleOfThirds:!0,keepSelection:!0,imageStyle:{width:"100%"},onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}))))}}$.defaultProps={prefixCls:"img-corp-modal",visible:!1,widthScale:16,heightScale:9,sizeLimit:1,sizeLimitUnit:"MB",accept:"image/jpg,image/jpeg,image/png",isShowMsg:!1,onCancel:()=>{},onOk:()=>{}},q.Z=(0,j.Z)()($)},1164:function(ve,q,t){"use strict";var F=t(12924),w=t.n(F),B=t(76651),k=t(38642),K=t(91302),l=E=>{var T=navigator.userAgent.toLocaleLowerCase(),u=localStorage.getItem("enterpriseId"),r=(0,k.lz)(u,E.projectType),M=localStorage.getItem("dingPersonnel"),P=K.bl.includes(M),j=E.target;function W(N){if(j==="self"&&(N.preventDefault(),B.m8.push(E.to)),P){if(E.projectType==="student"){window.location.href="".concat(r,"/").concat(E.to);return}B.m8.push(E.to);return}if(dd.version){N.preventDefault();var x="";E.to.includes("?")?x="".concat(r).concat(E.to,"&ddtab=true"):x="".concat(r).concat(E.to,"?ddtab=true"),dd.biz.util.openLink({url:x})}else T.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(E.to))}return w().createElement("a",{rel:"noreferrer",href:"".concat(E.projectType==="student"?"".concat(r).concat(E.to):"#".concat(E.to)),className:"".concat(E.wrapCls," cl-pointer"),target:T.indexOf("lark")!==-1||P?"_self":E.target||"_blank",onClick:W},E.children)};l.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},l.targetTo=E=>{var T=E.path,u=E.from,r=E.isExternalLink,M=r===void 0?!1:r,P=E.isAsync,j=P===void 0?!1:P,W=E.openName,N=W===void 0?"_blank":W,x=E.projectType,$=x===void 0?"manage":x,U=E.ddTab,v=U===void 0?!0:U,m,C=localStorage.getItem("dingPersonnel"),A=K.bl.includes(C),L=navigator.userAgent.toLocaleLowerCase(),b=localStorage.getItem("enterpriseId"),g=(0,k.lz)(b,$),c=localStorage.getItem("appType"),y=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var I="";if(m=M?"":g,A&&!M){if($==="student"){window.location.href="".concat(g).concat(T);return}B.m8.push(T);return}T.includes("?")?I="".concat(m).concat(T,"&ddtab=").concat(v):I="".concat(m).concat(T,"?ddtab=").concat(v),dd.biz.util.openLink({url:I})}else if(L.indexOf("lark")!==-1)m=M?"":g,window.location.href="".concat(m).concat(T);else if(c==="wx_app"&&y&&M&&u==="imgText")m=M?"":$==="student"?"".concat(g):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(m).concat(T)});else if(m=M?"":$==="student"?"".concat(g):"#",j){var V=window.open("","_blank");setTimeout(()=>{V.location="".concat(m).concat(T)},100)}else window.open("".concat(m).concat(T),N)},q.Z=l},72387:function(ve,q,t){"use strict";var F=t(12924),w=t.n(F),B=t(84874);class k extends w().PureComponent{constructor(l){super(l);this.onPrev=()=>{var E=this.state.activeIndex;this.setState({activeIndex:E<=0?0:E-1})},this.onNext=()=>{var E=this.props.imgList,T=this.state.activeIndex;this.setState({activeIndex:E.length<=T+1?T:T+1})},this.state={activeIndex:l.defaultActive}}componentDidUpdate(l){l.visible!==this.props.visible&&this.props.visible&&this.setState({activeIndex:this.props.defaultActive})}render(){var l=this.props,E=l.visible,T=l.imgList,u=this.state.activeIndex;return w().createElement("div",{className:"preview-img-mask",style:{display:E?"block":"none"}},w().createElement("div",{className:"preview-img-bg"},w().createElement("div",{className:"preview-img"},w().createElement("img",{src:T[u]}),w().createElement("span",{className:"preview-img-close",onClick:this.props.onClose},w().createElement(B.Z,{iconClass:"iconf-close"})))),u>=1?w().createElement("span",{className:"preview-img-left",onClick:this.onPrev},w().createElement(B.Z,{iconClass:"iconf-arrow-left",size:"20px"})):null,u<=T.length-2?w().createElement("span",{className:"preview-img-right",onClick:this.onNext},w().createElement(B.Z,{iconClass:"iconf-arrow-right",size:"20px"})):null)}}k.defaultProps={visible:!1,imgList:[],defaultActive:0,onClose:()=>{}},q.Z=k},99891:function(ve,q,t){"use strict";var F=t(12924),w=t.n(F),B=t(28216),k=t(91768),K=t(37055),l=t(10237),E=t(60667);class T extends w().PureComponent{constructor(M){super(M);this.getWaterMarkText=P=>{var j=this.props.userInfo,W=j.jobNumber,N=localStorage.getItem("waterMarkPostName"),x=[],$=P.find(v=>v.type==="content_setting"),U=P.find(v=>v.type==="content_custom");return $.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),U.param.checked==="true"&&U.param.comment[0]!==""&&this.setState({commentText:U.param.comment[0]}),$.param.comment.indexOf("position")!==-1&&N&&N!==""&&x.push("".concat(N)),$.param.comment.indexOf("jobnumber")!==-1&&W&&W!==""&&x.push("".concat(W)),x.join("-")},this.getWaterMarkApplication=P=>{var j=this.props.scenes,W=P.find(N=>N.type==="application_scenario");W.param.comment.indexOf(j)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=P=>{var j=P.find(W=>W.type==="dispersive");this.setState({isDispersive:j.param.checked==="true"})},this.getDynamicSet=()=>{var P=K.ZP.advancedSetting.dynamicWaterMarkNew(),j={access_token:window.localStorage.getItem("token")};l.WY.get({url:P,params:j}).then(W=>{var N=JSON.parse(W.data.actions);this.setState({waterMarkText:this.getWaterMarkText(N),actions:N}),this.getWaterMarkApplication(N),this.getWaterIsDispersive(N)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var M=localStorage.getItem("waterMarkPostName");M===""||M===null?this.getPostName():this.getDynamicSet()}getPostName(){var M=K.ZP.advancedSetting.getPostName();l.WY.get({url:M}).then(P=>{localStorage.setItem("waterMarkPostName",P.data.post_names[0]||""),this.getDynamicSet()})}render(){var M=this.state,P=M.showWaterMark,j=M.waterMarkCount,W=M.isUserName,N=M.isDispersive,x=M.waterMarkText,$=M.actions,U=M.commentText,v=this.props.userInfo,m=v.name,C=v.unionid,A=v.sourceType;return w().createElement("div",{className:"common-watermark"},P&&new Array(j).fill(0).map((L,b)=>w().createElement("div",{key:b,className:"common-watermark-item ".concat(N?"isDispersive":"")},w().createElement("span",{className:"common-watermark-item-content"},U!==""&&w().createElement("span",{className:"item-part"},U),W&&w().createElement("span",null,U!==""&&w().createElement("span",null,"-"),w().createElement(E.Z,{dataType:"userName",value:C,name:m,type:A})),w().createElement("span",{className:"item-part"},(W||U!=="")&&x!==""&&w().createElement("span",null,"-"),x)))))}}var u=r=>({userInfo:r.user});q.Z=(0,B.$j)(u)((0,k.Z)()(T))},60667:function(ve,q,t){"use strict";t.d(q,{Z:function(){return T}});var F=t(33565),w=t(12924),B=t.n(w),k=t(28216);function K(u){var r=u.type,M=u.openid,P=u.from,j=(0,w.useRef)(null);return(0,w.useLayoutEffect)(()=>{P==="vue"?window.parent.WWOpenData.bind(j.current):WWOpenData.bind(j.current)}),B().createElement("ww-open-data",{ref:j,type:r,openid:M})}var l=u=>{var r=u.wxWorkApiFlag,M=u.appType,P=u.from,j=(0,w.useState)(!1),W=(0,F.Z)(j,2),N=W[0],x=W[1];(0,w.useEffect)(()=>{var v=localStorage.getItem("qyWechatBook");(M!=="wx_app"||r||v==="false"||P==="vue"||P==="taro")&&x(!0)},[r,M,P]);var $=(0,w.useCallback)(()=>{var v=u.type,m=u.value,C=u.name,A=C===void 0?"":C;switch(console.warn(u,"props"),v){case"wx_sync":{var L=u.dataType;return m?B().createElement(K,{from:P,type:L,openid:m}):A}default:return A}},[u]),U=()=>{var v=u.name,m=u.dataType,C=localStorage.getItem("qyWechatBook");if(m===""||C==="false")return v;if(P==="vue"||P==="taro")return $();switch(u.appType){case"wx_app":return $();default:return v}};return N?U():u.name};l.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var E=u=>({appType:u.user.appType,wxWorkApiFlag:u.user.wxWorkApiFlag}),T=(0,k.$j)(E)(l)},76466:function(ve,q,t){"use strict";t.d(q,{Z:function(){return $e}});var F=t(20228),w=t(11382),B=t(57663),k=t(71577),K=t(62029),l=t(57361),E=t(9754),T=t.n(E),u=t(12924),r=t.n(u),M=t(91512),P=t(68654),j=t(91768),W=t(4412),N=t.n(W);class x extends r().Component{render(){var s=this.props.t;return r().createElement("div",{className:"net-preview"},r().createElement("div",{className:"net-preview-center"},r().createElement("img",{src:N(),alt:"picture"}),r().createElement("h2",null,s("localStorage.tip")),r().createElement("p",null,s("localStorage.banPreview"))))}}var $=(0,j.Z)()(x),U=t(88986),v=t(34792),m=t(48086),C=t(28216),A=t(21594),L=t(41225),b=t(10237),g=(Q,s)=>(0,U.Z)({id:Q||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),c=g;class y extends u.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var n=this.props,a=n.onVideoReady,e=a===void 0?()=>{}:a,i=n.playerConfig,o=n.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,U.Z)((0,U.Z)({},i),{},{contentType:o==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:i.source,autoplay:i.autoplay,width:i.width,id:i.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:d=>{d.on("sourceloaded",f=>{var h=f.paramData,O=h.desc,_=h.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(O,_,i.id)}),d.on("ready",()=>{e()}),this.playerInstance=d,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,n=s.onPlay,a=n===void 0?()=>{}:n,e=s.onTimeUpDate,i=e===void 0?()=>{}:e,o=s.onEnd,d=o===void 0?()=>{}:o,f=s.onPause,h=f===void 0?()=>{}:f,O=s.onError,_=O===void 0?()=>{}:O,Z=this.playerInstance;Z.on("play",()=>{a()}),Z.on("pause",()=>{h()}),Z.on("timeupdate",S=>{i(S)}),Z.on("ended",()=>{d()}),Z.on("error",(0,l.Z)(T().mark(function S(){return T().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:_();case 1:case"end":return Y.stop()}},S)})))}render(){var s=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:s.id}))}}y.playerInstance=null,y.defaultProps={playerConfig:c(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var I=y,V=(Q,s)=>(0,U.Z)({id:Q||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),G=V;class ce extends u.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var n=this.props,a=n.playerConfig,e=n.onVideoReady,i=e===void 0?()=>{}:e;this.player=new Aliplayer(a,o=>{o.on("sourceloaded",d=>{var f=d.paramData,h=f.desc,O=f.definition;o.getComponent("VideoQuality")&&o.getComponent("VideoQuality").setCurrentQuality(h,O,a.id)})}),this.player.on("ready",()=>{i()})},this.setPlayerConfig=()=>{var s=this.props,n=s.onPlay,a=n===void 0?()=>{}:n,e=s.onTimeUpDate,i=e===void 0?()=>{}:e,o=s.onEnd,d=o===void 0?()=>{}:o,f=s.onPause,h=f===void 0?()=>{}:f,O=s.onError,_=O===void 0?()=>{}:O;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{h()}),this.player.on("timeupdate",Z=>{i(Z)}),this.player.on("ended",()=>{d()}),this.player.on("error",(0,l.Z)(T().mark(function Z(){return T().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:_();case 1:case"end":return D.stop()}},Z)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}ce.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:G()};var Pe=ce;class Ie{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,n){var a=n._options&&n._options.language,e=n._el.id;this.isEn=a&&a==="en-us";var i=(0,A.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),o=(0,A.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),d=document.querySelector("#".concat(e," .prism-controlbar"));d.appendChild(i),s.appendChild(o)}setCurrentQuality(s,n,a){var e=document.querySelector("#".concat(a," .current-quality"));e.innerText=s,e.dataset.def=n,this.definition=n;var i=document.querySelector("#".concat(a," .quality-list")),o=i.querySelector(".current");o&&(o.className="");var d=i.querySelector('li[data-def="'.concat(n,'"]'));d&&(d.className="current")}created(s){this._urls=s._urls;var n=s._el.id,a=document.querySelector("#".concat(n," .current-quality")),e=document.querySelector("#".concat(n," .quality-list")),i=document.querySelector("#".concat(n," .quality-modal")),o=this._urls.map(h=>'<li data-def="'.concat(h.definition,'">').concat(h.desc,"</li>"));if(e.innerHTML=o.join(""),this.hasCreated==!1&&this.definition){var d=e.querySelector('li[data-def="'.concat(this.definition,'"]'));d.className="current"}this.hasCreated=!0;var f=null;a.onclick=()=>{e.style.display="block"},a.onmouseleave=()=>{f=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(f)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=h=>{var O=h.target,_=O.dataset.def,Z=O.innerText;if(_&&O.className!=="current"){var S=this._urls.find(D=>D.definition===_);s.loadByUrl(S.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(S.desc,S.definition,n),i.style.display="block",i.querySelector("span.current-quality-tag").innerText=S.desc}this.getQuality(_,Z)}}ready(s){var n=s._el.id,a=document.querySelector("#".concat(n," .quality-modal"));a.style.display="none";var e=document.querySelector("#".concat(n," .prism-setting-item.prism-setting-quality"));e&&e.classList.add("player-hidden")}}class we{createEl(s,n){var a=n._el.id,e=(0,A.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),i=document.querySelector("#".concat(a," .prism-controlbar"));i.appendChild(e)}ready(s){var n=s._el.id,a=document.querySelector("#".concat(n," .current-rate")),e=document.querySelector("#".concat(n," .rate-list")),i=null,o=document.querySelector("#".concat(n," .prism-setting-item.prism-setting-speed"));o&&o.classList.add("player-hidden"),a.onclick=()=>{e.style.display="block"},a.onmouseleave=()=>{i=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(i)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=d=>{var f=d.target,h=f.dataset.rate;if(h){if(s.setSpeed(h),f.className!=="current"){var O=e.querySelector(".current");O&&(O.className=""),f.className="current"}e.style.display="none",a.innerText="".concat(h,"x")}}}}var De=t(69164),Ue=t(37055);function Le(Q){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ue.ZP.local.getLocalUrl(Q);return b.WY.get({url:n,params:s})}var Se=t(91648),Oe=t(18329),Fe=t(38642),Re=t(9849),Be=t(99891);class dt extends u.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var pt=dt,Xe=Q=>({userInfo:Q.user});class qe extends u.Component{constructor(s){var n;super(s);n=this,this.onVideoReady=a=>{var e=this.props,i=e.resourceInfo,o=e.mode,d=e.autoPlay,f=e.t,h=i.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(o==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),o==="preview"&&d&&this.play.play()):h==="ALIBABA_PRIVATE"||h==="LOCAL"?this.updateSource("resetPlayer"):(b.WY.logger({keyword:"video",moduleName:"video-play",msg:f("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,e=a.draggable,i=a.mode,o=a.t,d=a.studyInfo,f=a.needCurrentTime,h=a.onCurrentTime,O=h===void 0?()=>{}:h,_=d.studyType,Z=d.studyId,S=d.resourceId,D=this.state,Y=D.showPreventHang,X=D.dragSwitch,se=D.showRandomAlert,le=D.randomAlertDialogVisible,z=this.playingVideo,Ee=z.oneTime,Ce=z.popupWindowCount,H=z.maxPlayTime,ee=z.progress,te=z.auditionLength,ue=z.auditionType,he=z.duration,Ne=z.recentStart,fe=this.play.getCurrentTime(),ge=(Y==="OPEN"||se==="OPEN")&&Ce>0;if(f&&O(fe),te>0&&ue===2&&fe>te&&(this.play.seek(te),m.default.warning(o("component.haveALookOverTip")),this.play.pause()),i==="learn"&&ge){var Ke=he-Ee*Ce;if(Ce>0&&fe>Ke)if(this.play.pause(),se==="OPEN"){if(!le){var Ve=(0,Se.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Ve},()=>{(0,L.qp)({popupId:Ve,planId:Z,resourceId:S,type:"popup_start"})}),this.play.exitFull()}}else Y==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((e||ee===100)&&(fe>0&&(this.playingVideo.recentStart=fe),!((_==="enterprise"||_==="studyProject")&&X==="OPEN")))return!1;fe>H?fe-Ne>2?(this.playingVideo.recentStart=H,this.play.seek(H),m.default.warning(o("component.preventFastWatchTip"))):(this.playingVideo.recentStart=fe,this.playingVideo.maxPlayTime=fe):fe>0&&fe>this.playingVideo.recentStart&&(this.playingVideo.recentStart=fe)},this.onPlay=()=>{var a=this.props,e=a.mode,i=a.onPlay,o=i===void 0?()=>{}:i;o();var d=this;e==="learn"&&!d.timer&&(d.timer=setTimeout(function f(){d.saveProgress(),clearTimeout(d.timer),d.timer=setTimeout(f,2e4)},2e4))},this.onPause=()=>{var a=this.props,e=a.studyInfo,i=a.mode,o=e.studyType;clearTimeout(this.timer),this.timer=null,i==="learn"&&(o==="platform"||o==="enterprise"||o==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var e=this.props.resourceInfo,i=e.storageType;(i==="ALIBABA_PRIVATE"||i==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,e=a.showPreventHang,i=a.showRandomAlert,o=this.props,d=o.t,f=o.playingVideo,h=o.studyInfo,O=o.autoPlay,_=f.recentStart,Z=f.duration,S=f.progress,D=h.studyType,Y=(e==="OPEN"||i==="OPEN")&&(D==="studyTask"||D==="enterprise"||D==="studyProject")&&S<100;Y?(i==="OPEN"?this.setState({promptMessage:d("component.preventAlertTip"),dialogVisible:!0}):e==="OPEN"&&this.setState({promptMessage:d("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):O&&(this.play.play(),Math.ceil(_)<parseInt(Z)&&this.play.seek(_))},this.playerShowPreventHang=()=>{var a=this.playingVideo,e=a.duration,i=a.recentStart,o=0;e>0&&e<180?(o=e/2,this.playingVideo.oneTime=o,i>=o?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):e>=180&&e<600?(o=e/3,this.playingVideo.oneTime=o,i>=2*o?this.playingVideo.popupWindowCount=0:i>=o?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(o=e/4,this.playingVideo.oneTime=o,i>=3*o?this.playingVideo.popupWindowCount=0:i>=2*o?this.playingVideo.popupWindowCount=1:i>=o?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,e=a.playingVideo,i=a.mode;if(i==="learn"){this.playingVideo=(0,U.Z)({},e);var o=e.duration,d=e.progress;this.playingVideo.hasFinished=parseInt(d)===100,this.playingVideo.maxPlayTime=parseInt(o)*parseInt(d)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,l.Z)(T().mark(function a(){var e,i,o,d,f,h,O,_,Z,S,D,Y,X,se,le,z,Ee,Ce,H,ee,te,ue,he,Ne;return T().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(e=n.state,i=e.speedSwitch,o=e.dragSwitch,d=e.whiteList,f=n.props,h=f.resourceInfo,O=f.showQuality,_=h.contentType,Z=h.storageType,S=h.source,D=h.playId,Y=h.playerId,X=h.showFullScreen,se=X===void 0?!0:X,le=G(Y),le.components=[],z=typeof S=="object"&&S.hasOwnProperty("FD")&&S.FD.indexOf("m3u8")===-1,O&&z&&_!=="mp3"&&(Z&&Z==="PUBLIC_CLOUD"||!Z)&&le.components.push({name:"VideoQuality",type:Ie,args:[()=>{n.play.pause(),n.playingVideo.readyCount=0}]}),i==="OPEN"&&le.components.push({name:"VideoRate",type:we}),se&&(Ee=le.skinLayout.find(Ke=>Ke.name==="controlBar"),Ee&&Ee.children.splice(Ee.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),le.components.push({name:"VideoWaterMark",type:pt}),Ce=S.FD,H=S.OD,Ce.indexOf("http://")>-1&&(Ce=Ce.replace("http://","https://")),H.indexOf("http://")>-1&&(H=H.replace("http://","https://")),ee=d.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",S.OD=H&&H.indexOf(ee)>-1&&H.indexOf(".mp4")>-1?H:Ce,S.FD=Ce,te=typeof S!="string"?JSON.stringify(S):S,le.source=te,o==="OPEN"&&(le.disableSeek=!0),Z!=="ALIBABA_PRIVATE"){ge.next=32;break}return ge.next=22,(0,L.BR)(D);case 22:if(ue=ge.sent,!ue){ge.next=28;break}le.source=ue,le.vodRetry=1,ge.next=30;break;case 28:return n.setState({showPrivateVodError:!0}),ge.abrupt("return");case 30:ge.next=38;break;case 32:if(Z!=="LOCAL"){ge.next=38;break}return ge.next=35,Le(D);case 35:he=ge.sent,Ne=he.data,Ne.code===0&&(le.source="".concat(S.FD,"?auth_key=").concat(Ne.data.auth_key),le.vodRetry=1);case 38:n.setState({playerConfig:le});case 39:case"end":return ge.stop()}},a)})),this.updateSource=function(){var a=(0,l.Z)(T().mark(function e(i){var o,d,f,h,O,_,Z,S;return T().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(o=n.state.playerConfig,d=n.props.resourceInfo,f=d.storageType,h=d.source,O=d.playId,n.playingVideo.readyCount=0,f!=="ALIBABA_PRIVATE"){Y.next=16;break}return Y.next=7,(0,L.BR)(O);case 7:if(_=Y.sent,!_){Y.next=12;break}Object.assign(o,{source:_,vodRetry:1}),Y.next=14;break;case 12:return n.setState({showPrivateVodError:!0}),Y.abrupt("return");case 14:Y.next=22;break;case 16:if(f!=="LOCAL"){Y.next=22;break}return Y.next=19,Le(O);case 19:Z=Y.sent,S=Z.data,S.code===0&&Object.assign(o,{source:"".concat(h.FD,"?auth_key=").concat(S.data.auth_key),vodRetry:1});case 22:n.setState({playerConfig:o},()=>{n.play.setupPlayer(i)});case 23:case"end":return Y.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,e=a.studyInfo,i=a.userInfo,o=i.isLogin,d=i.enterpriseId,f=i.id,h=this.playingVideo,O=h.recentStart,_=h.duration,Z=h.hasFinished,S=Math.ceil(+O);S>Number(_)&&(S=Number(_));var D=Math.ceil(S/+_*100);if((D>100||Z)&&(D=100),o){var Y=this.playingVideo,X=Y.auditionType,se=Y.auditionLength;if(se>0&&X===2){var le=Math.ceil(se/_*100);le<=D&&(D=le,S=se)}(0,L.sH)({studyInfo:e,progress:D,recent_start:S,enterpriseId:d,userId:f}).then(z=>{z&&z.data&&(0,De.Z)(z.data.integral_info||"")})}},this.getInfoFromSettings=(0,l.Z)(T().mark(function a(){var e,i,o,d,f,h,O,_,Z;return T().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return e=n.props.studyInfo,i=e.studyType,o=e.projectId,D.next=4,(0,L.Gw)();case 4:if(d=D.sent,f=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],h=(0,A.RG)(d,f),i!=="studyProject"){D.next=14;break}return D.next=10,(0,Re.NU)({id:o});case 10:O=D.sent,_=O.status,Z=O.data,_===200&&(h.showPreventHang=Z.prevent_cut_screen?"OPEN":"CLOSED",h.speedSwitch=Z.speed_play?"OPEN":"CLOSED",h.dragSwitch=Z.prevent_drag?"OPEN":"CLOSED");case 14:n.setState(h,()=>{n.dealVideoConfig()});case 15:case"end":return D.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,e=a===void 0?"":a;this.setState({showAudioPoster:e==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,e=this.play.playerContainer;a&&e&&(e.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),e.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,e=this.playingVideo.recentStart,i=this.props.t;a==="know"?(this.play.play(),this.play.seek(e),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:i("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,l.Z)(T().mark(function a(){var e,i,o,d;return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:e=n.props.studyInfo,i=e.studyId,o=e.resourceId,d=n.state.randomAlertUUID,(0,L.qp)({popupId:d,planId:i,resourceId:o,type:"popup_end"}).then(()=>{n.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),n.playingVideo.popupWindowCount-=1,n.play.play();case 6:case"end":return h.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,e=this.props.t;return r().createElement(k.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},e(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return r().createElement(k.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:G(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Fe.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var n=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;n!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,n=s.playerConfig,a=s.showPrivateVodError,e=s.dialogVisible,i=s.dialogModal,o=s.promptMessage,d=s.randomAlertDialogVisible,f=s.randomAlertModal,h=s.randomAlertTip,O=s.encryptedSwitch,_=this.props,Z=_.resourceInfo,S=_.t,D=O==="OPEN"?I:Pe;return r().createElement(u.Fragment,null,r().createElement(D,(0,K.Z)({ref:this.getPlayInstance},Z,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:n,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),r().createElement(Oe.ZP,(0,K.Z)({visible:e},i,{footer:this.renderFooter()}),r().createElement("div",{className:"video-business-prompt"},o)),r().createElement(Oe.ZP,(0,K.Z)({visible:d},f,{footer:this.renderRandomFooter()}),r().createElement("div",{className:"video-player-container__prompt"},h)),a&&r().createElement("div",{className:"video-business-vod-error"},S("privateCloud.docReadError")),r().createElement(Be.Z,{scenes:"video"}))}}var et=(0,C.$j)(Xe,null,null,{forwardRef:!0})((0,j.Z)("translation",{withRef:!0})(qe)),Ye=t(94184),He=t.n(Ye),Ge=t(84874),tt=Q=>({userInfo:Q.user}),mt={getPravateDocUrl:Ue.ZP.localStorage.getPravateDocUrl};function at(Q){return JSON.stringify(Q,(s,n)=>(typeof n=="function"&&(n=n.toString()),n))}function rt(Q){var s=parseInt(parseInt(Q,10)/60,10),n=parseInt(parseInt(Q,10)%60,10);return s<10&&(s="0".concat(s)),n<10&&(n="0".concat(n)),"".concat(s,":").concat(n)}class Qe extends u.Component{constructor(s){var n;super(s);n=this,this.messageFun=a=>{var e=this.props,i=e.docType,o=e.progress,d=e.studyTimeLimit,f=e.studyTime,h=this.state,O=h.jumpPageTag,_=h.totalTime,Z=h.timeRemaining,S=this.state.previewDocData,D={};try{D=JSON.parse(a.data)}catch(Y){return}switch(D.action){case"preview.ready":this.initDocData();break;case"preview.meta":S.totalPage=D.data.pc||1,S.currentPage=1,this.setState({previewDocData:S},()=>{this.reportStatusInterval()}),d>0?(this.saveProgress(o,f||"1",D.data.pc||1),this.setState({showCountDownContainer:!0})):i==="xlsx"||i==="xls"||S.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(o,f||"1",D.data.pc||1),d>0&&o<100?(this.setState({showCountDown:!0}),i==="xlsx"||i==="xls"?_=d:_=d*D.data.pc,Z=parseInt(_*(1-o/100),10),this.setState({timeRemaining:Z,totalTime:_},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(O){O=!1,this.setState({jumpPageTag:O});return}S.currentPage=D.data.pageIndex+1,this.setState({previewDocData:S}),d||this.saveProgress(Math.ceil(S.currentPage/S.totalPage*100),S.currentPage,S.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":m.default.error(D.data.result);break;default:break}},this.initDocData=(0,l.Z)(T().mark(function a(){var e,i,o,d,f,h,O,_,Z,S,D,Y,X,se;return T().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(n.setState({isShowPrivateError:!1}),e=n.props,i=e.docType,o=e.userInfo,d=e.documentWatermarkSettings,f=e.storageType,h=e.privateDocId,O=o.name,_=o.jobNumber,Z=o.position,S="",D={},f!=="ALIBABA_PRIVATE"){z.next=18;break}return z.prev=6,Y=mt.getPravateDocUrl(h),z.next=10,b.WY.get({url:Y});case 10:X=z.sent,se=X.data,se.code===0?D=se.data||{}:n.setState({isShowPrivateError:!0}),z.next=18;break;case 15:z.prev=15,z.t0=z.catch(6),n.setState({isShowPrivateError:!0});case 18:if(d.indexOf("name")>-1&&(S="".concat(S+O," ")),d.indexOf("position")>-1&&(S="".concat(S+Z," ")),d.indexOf("jobnumber")>-1&&(S+=_),S.length>0?window.sendMessage("preview.init",(0,U.Z)({wmType:1,wmValue:S,wmColor:"rgba(192, 192, 192, 0.4)"},D)):window.sendMessage("preview.init",(0,U.Z)({},D)),i!=="xlsx"&&i!=="ppt"&&i!=="pptx"&&i!=="xls"?n.setState({pageOperateContainerVisible:!0}):n.setState({pageOperateContainerVisible:!1}),!(i==="ppt"||i==="pptx")){z.next=29;break}z.t1=window,z.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},z.t1.sendMessage.call(z.t1,"setConfig",z.t2),z.next=32;break;case 29:z.t3=window,z.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},z.t3.sendMessage.call(z.t3,"setConfig",z.t4);case 32:case"end":return z.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var e=this.state.previewDocData;e.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:e});var i=a/e.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(i),a,e.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,e=a.studyTimeLimit,i=a.studyTime,o=0;e===0&&(o=i-1>0?i-1:0),window.sendMessage("logic.toPage",{pageIndex:o})},this.docCountDown=()=>{var a=this.state.timeRemaining,e=this.state,i=e.totalTime,o=e.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,o.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var d=(i-a)/i*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(d),a,o.totalPage)},2e4)},this.saveProgress=(a,e,i)=>{var o=this.props.onSaveProgress;o&&o(a,e,i)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var e=this.state.previewDocData.currentPage;a&&a({currentPage:e})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,n)=>{var a=this.docReader.contentWindow;a.postMessage(at({action:s,data:n}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,n=s.t,a=s.storageType,e=s.privateDocId,i=this.props.aliUrl,o=this.state,d=o.previewDocData,f=o.pageOperateContainerVisible,h=o.timeRemaining,O=o.showCountDown,_=o.showCountDownContainer,Z=o.showPageOperateContainer,S=o.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(i="https://preview.imm.aliyuncs.com/index.html?docId=".concat(e)),r().createElement("div",{className:"doc-reader-container"},r().createElement("div",{className:"ali-doc-container",style:{paddingBottom:f?"56px":"0"}},r().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:i,id:"aliyunPreview",ref:this.dealPreviewRef}),_?r().createElement("div",{className:"ali-doc-container__countdown"},O?r().createElement("div",null,r().createElement(Ge.Z,{iconClass:"iconf-tipe",size:"16px"}),n("component.docStillStudy"),r().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",rt(h)," "),n("component.canDone")):r().createElement("div",null,r().createElement(Ge.Z,{iconClass:"iconf-tipe",size:"16px"}),n("component.docHasFinish"))):null,f?r().createElement("div",{className:"ali-doc__operate"},r().createElement("div",{className:He()(["ali-doc__operate__content",Z?"":"ali-doc__operate__hide-content"])},r().createElement("div",{className:"ali-doc__operate__pagination"},r().createElement("div",{className:"ali-doc__operate__pagination__pages"},d.currentPage," / ",d.totalPage),r().createElement("div",{className:"ali-doc__operate__pagination__toggle"},r().createElement("div",{className:"ali-doc__operate__pagination__choose"},r().createElement("span",null,n("component.choosePage"),r().createElement(Ge.Z,{iconClass:"iconf-arrow-under",size:"14px"})),r().createElement("div",{className:"ali-doc__operate__page-list-container"},r().createElement("div",{className:"ali-doc__operate__choose-page"},n("component.fastChoosePage")),r().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:d.totalPage})).map((D,Y)=>r().createElement("li",{key:D,onClick:()=>this.handleJumpPage(Y+1)},Y+1))))),r().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},n("common.collapse"))))),r().createElement("div",{className:He()("ali-doc__operate__unfold",Z?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},n("common.expand"))):null,S&&r().createElement("div",{className:"ali-doc__error"},n("privateCloud.docReadError"))),r().createElement(Be.Z,{scenes:"document"}))}}Qe.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Te=(0,C.$j)(tt)((0,j.Z)()(Qe)),nt=Q=>({userInfo:Q.user}),We="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Je="".concat("https://doc.coolcollege.cn");class st extends r().Component{constructor(s){var n;super(s);n=this,this.onSaveProgress=(a,e,i)=>{var o=this.props,d=o.mode,f=o.studyInfo,h=o.userInfo,O=h.enterpriseId,_=h.id;d==="learn"&&(0,L.sH)({studyInfo:f,progress:a,page_count:i,recent_start:e,enterpriseId:O,userId:_}).then(Z=>{Z&&Z.data&&(0,De.Z)(Z.data.integral_info||"")})},this.messageFun=function(){var a=(0,l.Z)(T().mark(function e(i){var o,d,f,h,O,_;return T().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(i.data!=="local-resource"){S.next=9;break}if(o=n.props.resourceInfo,d=o.storageType,f=o.playId,!(d&&d==="LOCAL")){S.next=9;break}return S.next=6,Le(f);case 6:h=S.sent,O=h.data,O.code===0&&(_=document.getElementById("local-resource-box"),_.contentWindow.postMessage({msg:"local-auth-key",authKey:O.data.auth_key},"*"));case 9:case"end":return S.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,l.Z)(T().mark(function a(){var e,i,o;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.Gw)();case 2:e=f.sent,i=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],o=(0,A.RG)(e,i),n.setState(o,()=>{n.initDocPage(n.props)});case 6:case"end":return f.stop()}},a)})),this.initDocPage=(0,l.Z)(T().mark(function a(){var e,i,o,d,f,h,O,_,Z,S,D,Y,X,se,le,z,Ee,Ce,H,ee,te,ue,he,Ne,fe,ge,Ke,Ve,ht,it,ot,lt,ct,vt,ut=arguments;return T().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(e=ut.length>0&&ut[0]!==void 0?ut[0]:{},i=e.resourceInfo,o=e.mode,d=e.studyInfo,f=e.userInfo,h=n.state.documentPlayerMode,O=i.docType,_=i.docTitle,Z=i.url,S=i.studyTimeLimit,D=i.studyTime,Y=i.aliUrl,X=i.progress,se=i.storageType,le=i.playId,z=d.studyType,Ee=d.courseId,Ce=d.studyId,H=d.resourceId,ee=f.enterpriseId,te=f.id,ue=f.isLogin,he=f.token,Ne=h==="compat"&&Y.indexOf("preview.imm.aliyun")>-1||se==="ALIBABA_PRIVATE",!Ne){Me.next=11;break}n.setState({showAliReader:!0}),Me.next=31;break;case 11:if(fe=(0,L.sH)({enterpriseId:ee,userId:te,token:he,studyInfo:d},!0),ge=z==="studyTask"?2:1,Ke=Ue.ZP.SaveProgress.reportStatusInterval(d),Ve={isSaveProgress:ue&&o==="learn"&&fe,isSaveRecord:!1,access_token:he,userId:te,hostUrl:We,courseId:Ee,resourceId:H,courseType:1,planId:Ce,studyTimeLimit:S,studyTime:D,saveProgressUrl:fe,type:"eapp",progress:X,saveRecordProgressUrl:Ke,actionType:ge},!(se&&se==="LOCAL")){Me.next=26;break}return Me.next=18,Le(le);case 18:if(ht=Me.sent,it=ht.data,it.code!==0){Me.next=25;break}Ve.auth_key=it.data.auth_key,Ve.url=Z,Me.next=26;break;case 25:return Me.abrupt("return");case 26:ot=JSON.stringify(Ve),lt="".concat(_,".").concat(O).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ct="".concat(Je,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ot),"&furl=").concat(Z,"?attname=").concat(lt),se&&se==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ct="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ot),"&furl=").concat(Z,"?attname=").concat(lt)),n.setState({encodeUrl:ct});case 31:case"end":return Me.stop()}},a)})),this.handleReportStatusInterval=a=>{var e=a.currentPage,i=this.props,o=i.resourceInfo,d=i.mode,f=i.studyInfo,h=i.userInfo,O=o.type,_=f.courseId,Z=f.studyId,S=f.resourceId,D=h.enterpriseId,Y=h.id,X=h.isLogin,se="",le="",z=0,Ee=!1;switch(O){case"enterprise":z=1,Ee=!0;break;case"study":se=Z,z=2,Ee=!0;break;case"project":le=Z,z=1,Ee=!0;break;default:break}if(!(!Ee||!X)){var Ce={plan_id:se,enterprise_id:D,user_id:Y,course_id:_,project_course_id:le,resource_id:S,current_page:e,action_type:z,send_time:Date.parse(new Date)};d==="learn"&&(0,L.Xc)(f,Ce)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,n=this.state,a=n.encodeUrl,e=n.documentWatermarkSettings,i=n.showAliReader,o=s.docType,d=s.type,f=s.studyTimeLimit,h=s.studyTime,O=s.aliUrl,_=s.progress,Z=s.storageType,S=s.playId;return i?r().createElement(Te,{privateDocId:S,storageType:Z,aliUrl:O,docType:o,progress:_,studyTime:h,studyTimeLimit:f,documentWatermarkSettings:e,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:d}):r().createElement("div",{className:"doc-reader-container"},r().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),r().createElement(Be.Z,{scenes:"document"}))}}var p=(0,C.$j)(nt)(st),R=t(38979),ae=t(90706),J=t(12968),re=t(44208),ie=t(60667),ye=Q=>({userInfo:Q.user});class pe extends r().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var n=this.props,a=n.studyInfo,e=n.mode,i=n.userInfo,o=i.enterpriseId,d=i.id;e==="learn"&&(0,A.Gp)({studyInfo:a,enterpriseId:o,userId:d})},this.getInfoFromSettings=(0,l.Z)(T().mark(function n(){var a,e,i;return T().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,L.Gw)();case 2:a=d.sent,e=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],i=(0,A.RG)(a,e),s.setState(i,()=>{s.renderWatermark()});case 6:case"end":return d.stop()}},n)})),this.renderWatermark=()=>{var n=this.props.userInfo,a=this.state.imageWatermark,e=n.name,i=n.unionid,o=n.sourceType,d=n.jobNumber,f=n.position,h=[];a.indexOf("name")>-1&&h.push(r().createElement(ie.Z,{dataType:"userName",value:i,name:e,type:o})),a.indexOf("position")>-1&&h.push(r().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&h.push(r().createElement("span",null,d)),a.length>0&&this.setState({watermark:h.map((O,_)=>r().createElement("span",{key:_},O))})},this.handleError=n=>{var a=this.props.onError;a&&a(n)},this.getImageUrl=(0,l.Z)(T().mark(function n(){var a,e,i,o,d,f,h,O,_,Z;return T().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(a=s.props,e=a.resourceInfo,i=a.t,o=e.playId,d=e.url,f=e.storageType,h=d,!f){D.next=21;break}if(f!=="ALIBABA_PRIVATE"){D.next=15;break}return D.next=7,(0,L.J7)(o);case 7:if(O=D.sent,!O){D.next=12;break}h=O,D.next=13;break;case 12:return D.abrupt("return",m.default.info(i("privateCloud.docReadError")));case 13:D.next=21;break;case 15:if(f!=="LOCAL"){D.next=21;break}return D.next=18,Le(o);case 18:_=D.sent,Z=_.data,Z.code===0&&(h="".concat(d,"?auth_key=").concat(Z.data.auth_key));case 21:s.setState({imageUrl:[h]},()=>{var Y=s.state.imageUrl,X="image-business",se=document.querySelectorAll(".".concat(X,"-image img"));se.forEach((le,z)=>{le.onerror=()=>{s.handleError(Y[z])}})});case 22:case"end":return D.stop()}},n)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",n=this.props.resourceInfo,a=n.preview,e=a===void 0?!1:a,i=this.state,o=i.watermark,d=i.imageUrl;return r().createElement("div",{className:s},r().createElement(Be.Z,{scenes:"image"}),r().createElement(ae.Z,{className:"".concat(s,"-carousel")},d.map((f,h)=>r().createElement("div",{className:"".concat(s,"-image"),key:h.toString()},r().createElement(re.Z,{src:f,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:e})))))}}pe.defaultProps={prefixCls:"watch-image-page"};var _e=(0,C.$j)(ye)((0,j.Z)()(pe)),ne=Q=>({userInfo:Q.user});class oe extends r().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,l.Z)(T().mark(function n(){var a,e,i;return T().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,L.Gw)();case 2:a=d.sent,e=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],i=(0,A.RG)(a,e),s.setState(i,()=>{s.renderWatermark()});case 6:case"end":return d.stop()}},n)})),this.renderWatermark=()=>{var n=this.props.userInfo,a=this.state.htmlWatermark,e=n.name,i=n.unionid,o=n.sourceType,d=n.jobNumber,f=n.position,h=[];a.indexOf("name")>-1&&h.push(r().createElement(ie.Z,{dataType:"userName",value:i,name:e,type:o})),a.indexOf("position")>-1&&h.push(r().createElement("span",null,f)),a.indexOf("jobnumber")>-1&&h.push(r().createElement("span",null,d)),a.length>0&&this.setState({watermark:h.map((O,_)=>r().createElement("span",{key:_},O))})},this.saveProgress=()=>{var n=this.props,a=n.studyInfo,e=n.mode,i=n.userInfo,o=i.enterpriseId,d=i.id;e==="learn"&&(0,A.Gp)({studyInfo:a,enterpriseId:o,userId:d})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",n=this.props.resourceInfo,a=n.url,e=this.state.watermark;return r().createElement("div",{className:s},r().createElement("div",{className:"".concat(s,"__html-watermark")},e),r().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:a}))}}var de=(0,C.$j)(ne)((0,j.Z)()(oe)),me=t(57068),Ae=t(1164),ke=Q=>({userInfo:Q.user});class Ze extends r().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var n=s.split("//"),a=n[1].split("/");return[n[0],a[0]].join("//")},this.getScormUrl=()=>{var s=this.props,n=s.studyInfo,a=s.mode,e=s.userInfo,i=s.resourceInfo,o=s.from,d=e.enterpriseId,f=e.id,h=i.url,O=this.getHost(h);if(a==="learn"){var _=(0,U.Z)({userId:f,enterpriseId:d,access_token:localStorage.token,from:o,scormUrl:encodeURIComponent(h),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},n);return"".concat(O).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(me.stringify(_))}return"".concat(O,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(h))},this.handleOpenScormLink=s=>{Ae.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,n="scorm-business",a=this.getScormUrl(),e=(0,Fe.UI)("SCORM_EXTERNAL_WATCH");return r().createElement("div",{className:n},e?r().createElement("div",{className:"".concat(n,"_scorm")},r().createElement("img",{className:"".concat(n,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),r().createElement("h5",null,s("resourcePlay.scormTip")),r().createElement(k.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},s("resourceLibrary.h5LinkPlayButton"))):r().createElement("iframe",{title:"scorm",className:"".concat(n,"_iframe"),src:a}))}}var be=(0,C.$j)(ke)((0,j.Z)()(Ze));class xe extends r().Component{render(){var s=this.props,n=s.visible,a=s.title,e=s.onCancel,i=s.t,o=r().createElement("span",null,a);return r().createElement(Oe.ZP,{visible:n,title:o,onCancel:e,footer:null},r().createElement("div",{className:"ban-preview"},r().createElement("div",{className:"ban-preview-center"},r().createElement("img",{src:N(),alt:"picture"}),r().createElement("h2",null,i("localStorage.tip")),r().createElement("p",null,i("localStorage.banPreview"))),r().createElement("hr",null),r().createElement(k.Z,{type:"primary",className:"know",onClick:e},i("localStorage.onKnow"))))}}var je=(0,j.Z)()(xe);class ze extends u.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=n=>{var a=this.props.previewInfo,e=a.onCancel;this.onCancel(),e(n)},this.onGetVideoBusiness=n=>{var a=this.props.onRef,e=a===void 0?()=>{}:a;this.videoBusiness=n,e(n)},this.onFullScreen=()=>{var n=this.state.fullScreen;this.setState({fullScreen:!n})},this.handleJudgeNetwork=(0,l.Z)(T().mark(function n(){var a,e,i,o,d,f,h,O,_,Z,S,D=arguments;return T().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(a=D.length>0&&D[0]!==void 0?D[0]:null,e=s.props,i=e.resourceInfo,o=e.watchType,d=i.storageType,f=i.playId,h=i.originUrl,O=o==="image"||o==="video"||o==="doc",_=null,a?_=a:h?_=h:_=i.url,!(O&&_&&f&&d&&d==="LOCAL")){X.next=22;break}return X.prev=7,X.next=10,(0,L.NY)(f);case 10:return Z=X.sent,X.next=13,(0,L.Hy)(_,Z);case 13:S=X.sent,S?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),X.next=20;break;case 17:X.prev=17,X.t0=X.catch(7),s.setState({showBan:"yes"});case 20:X.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return X.stop()}},n,null,[[7,17]])})),this.renderOuter=()=>{var n=this.props,a=n.prefixCls,e=n.watchType,i=n.onCurrentTime,o=i===void 0?()=>{}:i;return r().createElement("div",{className:"".concat(a,"-outer")},e==="video"&&r().createElement(et,(0,K.Z)({onCurrentTime:o,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),e==="doc"&&r().createElement(p,this.props),e==="image"&&r().createElement(_e,(0,K.Z)({onError:this.handleJudgeNetwork},this.props)),e==="html"&&r().createElement(de,this.props),e==="scorm"&&r().createElement(be,this.props))},this.renderFooter=()=>{var n=this.props,a=n.resourceInfo.storageType,e=n.t,i=this.state.showBan,o=i!==""&&i==="yes";return a&&a!=="PUBLIC_CLOUD"&&o?r().createElement(k.Z,{type:"primary",className:"know",onClick:this.onCancelModel},e("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,n=s.showBan,a=s.fullScreen,e=this.props,i=e.mode,o=e.previewWay,d=e.previewInfo,f=e.prefixCls,h=e.t,O=e.showEnlarge,_=e.footer,Z=_===void 0?null:_,S=d.visible,D=d.destroyOnClose,Y=d.title,X=n!==""&&n==="yes",se=n!==""&&n==="no";return r().createElement(u.Fragment,null,i==="preview"&&o==="popups"&&r().createElement(Oe.ZP,{destroyOnClose:D,visible:S,title:Y,onCancel:this.onCancelModel,footer:Z||this.renderFooter(),wrapClassName:"".concat(f,"-resource ").concat(a?"".concat(f,"-full"):"")},O&&r().createElement("div",{className:"".concat(f,"-resource-out-icon"),onClick:this.onFullScreen},a?r().createElement(M.Z,{className:"".concat(f,"-resource-icon")}):r().createElement(P.Z,{className:"".concat(f,"-resource-icon")})),r().createElement("div",{className:"".concat(f,"-inner")},!S&&r().createElement(w.Z,{size:"large"}),S&&se&&this.renderOuter(),X&&r().createElement($,null))),(i==="learn"||o==="page")&&se&&this.renderOuter(),(i==="learn"||o==="page")&&r().createElement(je,{visible:X,title:Y||h("questionn.warmHint"),onCancel:this.onCancel}))}}ze.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var $e=(0,j.Z)("translation",{withRef:!0})(ze)},41225:function(ve,q,t){"use strict";t.d(q,{Hy:function(){return l},NY:function(){return E},Gw:function(){return T},sH:function(){return M},BR:function(){return u},qp:function(){return P},Xc:function(){return j},J7:function(){return r}});var F=t(57361),w=t(9754),B=t.n(w),k=t(10237),K=t(37055),l=function(){var W=(0,F.Z)(B().mark(function N(){var x,$,U,v,m,C,A,L=arguments;return B().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return x=L.length>0&&L[0]!==void 0?L[0]:"",$=L.length>1&&L[1]!==void 0?L[1]:"",U="",x.startsWith("http")?(v=x.split("//")[1].trim(),m=v.split("/")[0],U="https://".concat(m,"/cms/ticket")):(C=x.split("/")[0],U="https://".concat(C,"/cms/ticket")),g.prev=4,g.next=7,k.ZQ.get({url:U,params:{ticket:$}});case 7:if(A=g.sent,!(A.status===200||A.status===403)){g.next=10;break}return g.abrupt("return",Promise.resolve(!0));case 10:return g.abrupt("return",Promise.resolve(!1));case 13:return g.prev=13,g.t0=g.catch(4),g.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return g.stop()}},N,null,[[4,13]])}));return function(){return W.apply(this,arguments)}}(),E=function(){var W=(0,F.Z)(B().mark(function N(x){var $,U;return B().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,k.ZQ.get({url:K.ZP.local.getTicket(x)});case 2:if($=m.sent,U=$.data,U.code!==0){m.next=6;break}return m.abrupt("return",Promise.resolve(U.data.ticket));case 6:return m.abrupt("return",Promise.resolve(""));case 7:case"end":return m.stop()}},N)}));return function(x){return W.apply(this,arguments)}}(),T=function(){var W=(0,F.Z)(B().mark(function N(){var x;return B().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,k.WY.get({url:K.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return x=U.sent,U.abrupt("return",x.data.list);case 4:case"end":return U.stop()}},N)}));return function(){return W.apply(this,arguments)}}(),u=function(){var W=(0,F.Z)(B().mark(function N(x){var $,U,v;return B().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,k.WY.get({url:K.ZP.localStorage.getPravateVideoUrl(x)});case 2:if($=C.sent,$.data.code!==0){C.next=6;break}return U=$.data.data.videoPlayInfo,v=U===void 0?"":U,C.abrupt("return",v);case 6:return C.abrupt("return","");case 7:case"end":return C.stop()}},N)}));return function(x){return W.apply(this,arguments)}}(),r=function(){var W=(0,F.Z)(B().mark(function N(x){var $,U,v;return B().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return $=K.ZP.localStorage.getPravateDocUrl(x),C.prev=1,C.next=4,k.WY.get({url:$});case 4:if(U=C.sent,v=U.data,!(v.code===0&&v.data)){C.next=8;break}return C.abrupt("return",v.data.docResourceDownloadUrl||"");case 8:return C.abrupt("return","");case 11:return C.prev=11,C.t0=C.catch(1),C.abrupt("return","");case 14:case"end":return C.stop()}},N,null,[[1,11]])}));return function(x){return W.apply(this,arguments)}}(),M=function(N){var x=N.studyInfo,$=N.progress,U=N.recent_start,v=N.page_count,m=N.enterpriseId,C=N.userId,A=N.token,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,g=x.studyType;if(g==="studyTask"&&(b=K.ZP.SaveProgress.studySaveProgress(x)),(g==="course"||g==="enterprise")&&(b=K.ZP.SaveProgress.enterpriseCourseSaveProgress(x)),g==="studyProject"&&(b=K.ZP.SaveProgress.projectSaveProgress(x)),g==="platform"&&(b="".concat(K.ZP.SaveProgress.platformCourseSaveProgress(x))),(L||g==="platform")&&(b+="?enterprise_id=".concat(m,"&user_id=").concat(C)),L)return b+="&access_token=".concat(A||localStorage.getItem("token")),b;var c={progress:$,recent_start:U,tempTime:Date.parse(new Date)};return v&&(c.page_count=v),x.evaluationId&&(c.evaluation_id=x.evaluationId),k.WY.post({url:b,data:c})},P=W=>{var N=W.popupId,x=W.planId,$=W.resourceId,U=W.type;return k.WY.post({url:K.ZP.TaskStudyRecord.setRandomPopupRecord(x),data:{course_id:$,terminal_type:"PC",popup_id:N,type:U}})},j=(W,N)=>{var x=K.ZP.SaveProgress.reportStatusInterval(W);return k.WY.post({url:x,data:N})}},21594:function(ve,q,t){"use strict";t.d(q,{pu:function(){return K},RG:function(){return l},Gp:function(){return E},O8:function(){return T}});var F=t(88986),w=t(69164),B=t(38642),k=t(41225),K=u=>{var r="";switch(u){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":r="studyTask";break;case"enterprise":r="enterprise";break;case"courseProject":r="studyProject";break;case"platform":case"purchased":r="platform";break;default:break}return r},l=(u,r)=>{var M={};return r.forEach(P=>{var j=u.find(U=>U.type===P.type);if(j)if(P.type==="document_duration_limit"){var W=j.action_list,N=W.find(U=>U.type==="random_popup_verification");!(0,B.UI)("RANDOM_POPUP_VERIFY")||!N?M[P.name]="CLOSE":M[P.name]=N.param.checked==="true"?"OPEN":"CLOSE"}else if(P.type==="document_player"){var x=JSON.parse(j.actions);x.forEach(U=>{U.param.checked==="true"&&(M[P.name]=U.type)})}else if(P.type==="dynamic_watermark"){var $=j.action_list;$.forEach(U=>{U.type===P.resourceType&&U.param.checked==="true"&&(M[P.name]=U.param.comment)})}else M[P.name]=j.switch_status}),M},E=u=>{(0,k.sH)((0,F.Z)({progress:100,recent_start:1},u)).then(r=>{r&&r.data&&(0,w.Z)(r.data.integral_info||"")})},T=u=>{var r=document.createElement("div");return r.innerHTML=u,r.childNodes[0]}},24144:function(ve,q,t){"use strict";t.d(q,{G2:function(){return G},Sc:function(){return g},Ur:function(){return He},VI:function(){return We},Lh:function(){return st},DZ:function(){return v},ZM:function(){return C},tX:function(){return c},VQ:function(){return x},_D:function(){return De},iM:function(){return Ue},vx:function(){return Le},$Y:function(){return N},ws:function(){return j},Pd:function(){return W}});var F=t(43185),w=t(53251),B=t(62029),k=t(34792),K=t(48086),l=t(88986),E=t(33565),T=t(12924),u=t.n(T),r=t(91768),M=t(10237),P=t(37055);function j(p){var R=P.ZP.Common.upload();return M.WY.post({url:R,data:p})}function W(p){var R=P.ZP.CourseManageList.uploadAiImage();return M.WY.post({url:R,data:p})}function N(p){var R=P.ZP.CourseManageList.saveAiImage();return M.WY.post({url:R,data:p})}function x(p){var R=p.idList,ae=P.ZP.CourseManageList.deleteAiImage();return M.WY.put({url:ae,data:{id_list:R}})}var $=t(72387),U=t(76343),v={IMAGE:"image"},m=p=>{var R=p.uploadConfig,ae=p.uploadType,J=p.clip,re=p.size,ie=p.quality,ye=p.t,pe=Array.isArray(p.fileList)?p.fileList:[],_e=(0,T.useState)(!1),ne=(0,E.Z)(_e,2),oe=ne[0],de=ne[1],me=(0,T.useState)(!1),Ae=(0,E.Z)(me,2),ke=Ae[0],Ze=Ae[1],be=(0,T.useState)(0),xe=(0,E.Z)(be,2),je=xe[0],ze=xe[1],$e=(0,T.useState)(!1),Q=(0,E.Z)($e,2),s=Q[0],n=Q[1],a=(0,T.useState)({}),e=(0,E.Z)(a,2),i=e[0],o=e[1],d=H=>{var ee=H.file;J?f({file:ee},J):h({file:ee})},f=(H,ee)=>{var te=H.file;ee==="crop"&&(o(te),S())},h=H=>{var ee=H.file;de(!0);var te=new FormData;te.append("file",ee),Ee(te,ae).then(ue=>{var he="".concat(ue.data.data.server,"/").concat(ue.data.data.fileNewName),Ne=ue.data.data.fileNewName,fe=[(0,l.Z)({url:he,uid:Ne,name:Ne,thumbUrl:he,status:"done",response:"Server Error 500"},ue.data.data)];_({newImgList:fe})}).catch(ue=>{Z({error:ue,data:{fileList:[{fileName:ee.name}]}})}).finally(()=>{de(!1)})},O=H=>{p.onUploadedListChange&&p.onUploadedListChange(H)},_=H=>{var ee=H.newImgList,te=R.maxCount;p.onUploadSuccess&&p.onUploadSuccess({fileList:[...ee]});var ue=[...pe,...ee],he=[];typeof te=="number"&&te===1?he=ee:typeof te=="number"&&ue.length>te?he=ue.slice(0,te+1):he=ue,O({fileList:he})},Z=H=>{var ee=H.error,te=H.data;p.onUploadFailed&&p.onUploadFailed({error:ee,data:te})},S=()=>{n(!0)},D=()=>{n(!1)},Y=H=>{if(p.onBeforeUpload)return p.onBeforeUpload(H);var ee=R.accept;if(ee&&ee.indexOf(H.name.split(".").pop().toLowerCase())<0)return K.default.error(ye("component.imgTypeError")),!1;if(re&&re.value&&re.unit){var te=re.value,ue=re.unit,he=ue.toLowerCase()==="kb"?H.size/1024<te:H.size/1024/1024<te;if(!he)return K.default.error("".concat(ye("component.imgUploadLimit")).concat(te).concat(ue,"!")),!1}return!0},X=H=>{var ee=[...pe],te=ee.findIndex(ue=>ue.uid===H.uid);ee.splice(te,1),O({fileList:ee})},se=H=>{var ee=pe.findIndex(te=>te.uid===H.uid);ze(ee),Ze(!0)},le=()=>{Ze(!1)},z=H=>{var ee=H.fileName,te=H.imgUrl,ue=H.fileNewName,he={url:te,uid:ue,fileName:ee,name:ue,thumbUrl:te,status:"done"};_({newImgList:[he]}),n(!1)},Ee=(H,ee)=>ee===v.IMAGE?j(H):null,Ce={listType:"picture-card",accept:"*",fileList:[],beforeUpload:Y,customRequest:d,onPreview:se,onRemove:X};return u().createElement(u().Fragment,null,u().createElement(w.Z,(0,B.Z)({},Ce,R,p,{className:"upload_container_19fb1b0b-5573-42cb-b6a2-b39518df62cd ".concat(p.className)}),p.render((0,l.Z)((0,l.Z)({},p),{},{loading:oe}))),u().createElement($.Z,{visible:ke,imgList:pe.map(H=>H.url),defaultActive:je,onClose:le}),s&&u().createElement(U.Z,(0,B.Z)({visible:s,file:i,widthScale:16,heightScale:9,sizeLimit:re.value,sizeLimitUnit:re.unit,accept:R.accept,onCancel:D,onOk:z,onUploadFailed:Z,quality:ie},p.imgCropConfig)))};m.defaultProps={fileList:[],uploadType:"image",size:{},clip:"",quality:void 0};var C=(0,r.Z)()(m);function A(p){return(0,l.Z)((0,l.Z)({},p),{},{lastModified:p.lastModified,lastModifiedDate:p.lastModifiedDate,name:p.name,size:p.size,type:p.type,uid:p.uid,percent:0,originFileObj:p})}var L={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},b=p=>{var R=(0,T.useRef)({fileList:[],file:{}}),ae=p.uploadConfig,J=p.size,re=p.t;(0,T.useEffect)(()=>{R.current.fileList=p.fileList?p.fileList:[]},[p.fileList]);function ie(ne){var oe=!0;if(J&&J.value&&J.unit){var de=J.value,me=J.unit,Ae=me.toLowerCase()==="kb"?ne.size/1024<de:ne.size/1024/1024<de;Ae||(K.default.error("".concat(re("component.imgUploadLimit")).concat(de).concat(me,"!")),oe=!1)}return oe&&(R.current.fileList=[...R.current.fileList,A(ne)]),oe}function ye(ne){var oe=ne.file,de=ne.onError,me=ne.onProgress,Ae=ne.onSuccess,ke=new FormData;return ke.append("file",oe),j(ke,{onUploadProgress:Ze=>{var be=Ze.total,xe=Ze.loaded;me({percent:Math.round(xe/be*100).toFixed(2)},oe)}}).then(Ze=>{var be=Ze.data;Ae(be,oe)}).catch(de),{abort(){console.log("upload progress is aborted.")}}}var pe={listType:"text",accept:"*",beforeUpload:ie,customRequest:ye,onStart(ne){R.current.file=ne,R.current.fileList=R.current.fileList.map(oe=>oe.uid===ne.uid?(0,l.Z)((0,l.Z)({},oe),{},{status:"uploading"}):oe),p.onChange&&p.onChange(c({file:R.current.file,fileList:R.current.fileList}))},onSuccess(ne,oe){R.current.file=oe,R.current.fileList=R.current.fileList.map(de=>de.uid===oe.uid?(0,l.Z)((0,l.Z)({},de),{},{response:ne,status:"done"}):de),p.onChange&&p.onChange(c({file:R.current.file,fileList:R.current.fileList}))},onError(ne,oe){p.onChange(c({file:R.current.file,fileList:R.current.fileList.map(de=>de.url?de:(0,l.Z)((0,l.Z)({},de),{},{status:"error"}))}))},onProgress(ne,oe){var de=ne.percent;R.current.file=oe,R.current.fileList=R.current.fileList.map(me=>me.uid===oe.uid?(0,l.Z)((0,l.Z)({},me),{},{percent:de}):me),p.onChange&&p.onChange(c({file:R.current.file,fileList:R.current.fileList}))}},_e=(0,l.Z)((0,l.Z)({},pe),ae);return u().createElement(u().Fragment,null,u().createElement(w.Z,_e,p.render((0,l.Z)({},p))))},g=(0,r.Z)()(b);function c(p){var R=p.file,ae=p.fileList;return{file:(0,l.Z)({},R),fileList:ae.map(J=>{var re=J.response,ie=J.name,ye=J.type,pe=J.size,_e=J.status,ne=J.percent,oe=J.uid,de=J.url;if(re){var me=re.data,Ae=re.error;return Ae?(0,l.Z)((0,l.Z)((0,l.Z)({},J),me),{},{status:"error"}):(0,l.Z)((0,l.Z)((0,l.Z)({},J),me),{},{url:"".concat(me.server,"/").concat(me.fileNewName)})}return{name:ie,size:pe,type:ye,percent:ne,status:_e,url:de,uid:oe}})}}function y(p){var R=p.name,ae=R.match(/\.([0-9a-z]+)(?:[\?#]|$)/i),J=(0,E.Z)(ae,1),re=J[0];switch(re.toLowerCase()){case".mp3":return v.AUDIO;case".mp4":return v.VIDEO;case".webp":case".svg":case".png":case".gif":case".jpg":case".jpeg":case".jfif":case".bmp":case".dpg":case".ico":return v.IMAGE;default:return""}}function I(p){var R=p.split("/"),ae=R[R.length-1],J=ae.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(J)||[""])[0]}var V=p=>u().createElement(C,(0,B.Z)({},p,{uploadConfig:(0,l.Z)((0,l.Z)({},p.uploadConfig),{},{showUploadList:!1,maxCount:1,fileList:p.fileList}),className:"sample_upload_image_container",render:R=>De(R)}));V.defaultProps={uploadConfig:{listType:"picture-card",maxCount:1},addTitle:"",size:{value:2,unit:"MB"},fileList:[]};var G=(0,r.Z)()(V),ce=t(20228),Pe=t(11382),Ie=t(7085),we=t(49101),De=p=>{var R=p.uploadConfig,ae=p.loading,J=p.fileList,re=p.addTitle,ie=p.changeTip,ye=ie===void 0?"":ie,pe=p.imageContainerClassName,_e=R.maxCount;return ae?u().createElement(Ie.Z,null):J.length>0&&J.length<=_e?u().createElement("div",{className:"avatar_list_container ".concat(pe)},u().createElement("img",{className:"avatar",src:J[0].url,alt:"img"}),ye&&u().createElement("div",{className:"change_btn"},ye)):u().createElement("div",{className:"avatar_select_container"},u().createElement(we.Z,null),u().createElement("div",{className:"avatar_select_tip"},re))},Ue=p=>{var R=p.uploadConfig,ae=p.loading,J=p.fileList,re=p.selectTip,ie=R.maxCount;return ae?u().createElement(Ie.Z,null):J.length>=ie?null:u().createElement("div",{className:"picture_select"},u().createElement(we.Z,null),re&&u().createElement("div",{className:"picture_select_tip"},re))},Le=p=>{var R=p.loading,ae=p.fileList,J=p.changeTip,re=p.addTitle,ie=p.renderClassName,ye=(0,E.Z)(ae,1),pe=ye[0];return R?u().createElement(Pe.Z,{spinning:R,indicator:u().createElement(Ie.Z,{spin:!0})},u().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(ie)})):pe?u().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(ie)},u().createElement("img",{src:pe,alt:"image"}),u().createElement("div",{className:"change_btn"},J)):u().createElement("div",{className:"upload_btn_container ".concat(ie)},u().createElement("div",{className:"upload_btn"},u().createElement(we.Z,null),re&&u().createElement("div",{className:"avatar_select_tip"},re)))},Se=p=>{var R=p.loading,ae=p.fileList,J=p.changeTip,re=p.reset,ie=p.renderClassName,ye=_slicedToArray(ae,1),pe=ye[0],_e=ne=>{ne.stopPropagation(),re.resetEvent&&re.resetEvent(ne)};return R?React.createElement(_Spin,{spinning:R,indicator:React.createElement(LoadingOutlined,{spin:!0})},React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(ie)})):React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(ie)},React.createElement("img",{src:pe,alt:"image"}),React.createElement("div",{className:"change_btns"},React.createElement("span",{className:"operate_item operate_change"},J),React.createElement("span",{onClick:ne=>{_e(ne)},className:"operate_item operate_reset"},re.tip)))},Oe=t(84874),Fe=p=>{var R=ae=>{p.onChange&&p.onChange(ae)};return u().createElement(g,(0,B.Z)({onChange:R,uploadType:v.VIDEO},p,{uploadConfig:(0,l.Z)({accept:"video/*",showUploadList:!1},p.uploadConfig),render:()=>u().createElement("span",{className:"icon"},u().createElement(Oe.Z,{iconClass:"icon-shipinfujian",color:p.iconColor,size:"16px"}))}))};Fe.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Re=(0,r.Z)()(Fe),Be=p=>{var R=ae=>{p.onChange&&p.onChange(ae)};return u().createElement(g,(0,B.Z)({onChange:R,uploadType:v.AUDIO},p,{uploadConfig:(0,l.Z)({accept:"audio/*",showUploadList:!1},p.uploadConfig),render:()=>u().createElement("span",{className:"icon"},u().createElement(Oe.Z,{iconClass:"icon-yinpinfujian",size:"16px",color:p.iconColor}))}))};Be.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var dt=(0,r.Z)()(Be),pt=t(22385),Xe=t(31097),qe=t(86506),et=t.n(qe),Ye=p=>{var R=ae=>{p.onChange&&p.onChange(ae)};return u().createElement(g,(0,B.Z)({onChange:R,uploadType:v.IMAGE},p,{uploadConfig:(0,l.Z)({accept:"image/*",showUploadList:!1},p.uploadConfig),render:()=>u().createElement(u().Fragment,null,p.uploadImageIcon?p.uploadImageIcon((0,l.Z)({},p.uploadConfig)):u().createElement(Xe.Z,{title:p.t("examination.uploadImgTip"),overlayStyle:{fontSize:"12px"}},u().createElement("span",{className:et()["icon-container"]},u().createElement(Oe.Z,{iconClass:"icon-tupianfujian",color:"#979797",size:"16px"}))))}))};Ye.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var He=(0,r.Z)()(Ye),Ge=t(34669),tt=t(82833),mt=t(12968),at=t(44208),rt=t(54549),Qe=t(56653),Te=t.n(Qe),nt=t(76466),We={OPEN:"open",CLOSE:"close",CUSTOM:"custom"},Je=p=>{var R=p.t,ae=p.preview,J=p.previewSize,re=p.remove,ie=p.status,ye=p.name,pe=p.extension,_e=!ie||ie==="done",ne=ie&&ie==="error",oe=p.resourceType||y({name:ye,extension:pe}),de=(0,T.useState)({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),me=(0,E.Z)(de,2),Ae=me[0],ke=me[1],Ze=(0,T.useState)({visible:!1,destroyOnClose:!0,title:R("common.resourcePreview"),onCancel:n}),be=(0,E.Z)(Ze,2),xe=be[0],je=be[1];function ze(a){var e=a||window.event;e.stopPropagation(),e.cancelBubble=!0,p.onDeleteItem&&p.onDeleteItem()}function $e(a){var e=a.percent,i=a.url;if(_e)switch(oe){case v.IMAGE:return u().createElement("div",{className:Te().cover},u().createElement(at.Z,{width:J,height:J,alt:"img",className:Te()["ant-image-container"],src:i}));case v.VIDEO:return u().createElement("div",{className:Te().cover},u().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117263953920.png",alt:"video"}));case v.AUDIO:return u().createElement("div",{className:Te().cover},u().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117280731136.png",alt:"audio"}));default:return null}if(ne)return u().createElement("div",{className:"".concat(Te().cover," ").concat(Te()["error-cover"])},R("component.uploadFailed"));var o=Math.floor(e);return u().createElement("div",{className:Te().cover},u().createElement("div",{className:Te()["cover-content"]},u().createElement(tt.Z,{showInfo:!1,strokeWidth:4,percent:Math.floor(o)}),u().createElement("span",{className:Te()["progress-tip"]},o>0?"\u4E0A\u4F20\u4E2D...":"\u7B49\u5F85\u4E2D")))}function Q(){switch(oe){case v.IMAGE:return u().createElement(Oe.Z,{iconClass:"icon-FView",size:"16px",color:"#fff"});case v.VIDEO:case v.AUDIO:return u().createElement(Oe.Z,{iconClass:"icon-bofang",size:"22px",color:"#fff"});default:return null}}function s(a,e){var i=e.type,o=e.url,d=e.resourceList,f=e.resourceType,h=e.index,O=a||window.event;if(O.stopPropagation(),O.cancelBubble=!0,ae!==We.CLOSE){if(ae===We.CUSTOM&&p.onPreview){p.onPreview({resourceList:d,resourceType:f,index:h,e:a});return}if(f.includes(v.VIDEO)||i.includes(v.AUDIO)){var _=p.extension==="mp3";ke((0,l.Z)((0,l.Z)({},Ae),{},{watchType:"video",resourceInfo:{source:{FD:o,OD:o},originUrl:o,contentType:_?"audio/mp3":f},autoPlay:!0,draggable:!0})),je((0,l.Z)((0,l.Z)({},xe),{},{visible:!0}))}}}function n(a){var e=a||window.event;e.stopPropagation(),e.cancelBubble=!0,ke({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),je((0,l.Z)((0,l.Z)({},xe),{},{visible:!1}))}return u().createElement(u().Fragment,null,u().createElement("div",{className:Te()["resource-item-container"],style:{width:"".concat(J,"px"),height:"".concat(J,"px")}},$e(p),(!ie||ie==="done"||ie==="error")&&u().createElement("div",null,ae!==We.CLOSE&&ie!=="error"&&oe!==v.IMAGE&&u().createElement("div",{className:Te().mask,onClick:a=>{s(a,p)}},Q(p)),re&&u().createElement("div",{className:Te().delete,onClick:ze},u().createElement(rt.Z,{className:Te()["delete-icon"]})))),ae===We.OPEN&&oe!==v.IMAGE&&u().createElement(nt.Z,(0,B.Z)({},Ae,{previewInfo:xe})))};Je.defaultProps={preview:We.OPEN,previewSize:72,remove:!0,resourceType:""};var st=(0,r.Z)()(Je)},31652:function(ve,q,t){"use strict";t.d(q,{Z:function(){return b}});var F=t(13254),w=t(14277),B=t(20228),k=t(11382),K=t(14781),l=t(53431),E=t(88986),T=t(57361),u=t(9754),r=t.n(u),M=t(12924),P=t.n(M),j=t(91768),W=t(76828),N=t(71194),x=t(57016),$=t(76243),U=t(84874);class v extends P().Component{constructor(){super(...arguments);this.handleSelect=()=>{var c=this.props,y=c.id,I=c.src,V=c.shouldRenderDelete;V||this.props.onSelect({id:y,src:I})},this.handleDelete=()=>{var c=this.props,y=c.id,I=c.src,V=c.onDelete,G=c.t;x.Z.confirm({title:G("authentication.certificateDetailOfficialTplDeleteTitle"),content:G("authentication.certificateDetailOfficialTplDeleteContent"),onOk(){V({id:y,src:I})}})},this.renderImageContent=()=>{var c=this.props,y=c.prefixCls,I=c.isPreset,V=c.src,G=c.layout,ce="".concat(y,"__img");return P().createElement("div",{className:ce,onClick:this.handleSelect},P().createElement("img",{className:"".concat(ce,"__cover"),src:V}),I&&P().createElement("img",{className:"".concat(ce,"__content"),src:$.To[G]}))},this.renderSelectedMask=()=>{var c=this.props,y=c.prefixCls,I=c.shouldRenderSelected,V=c.shouldRenderDelete;if(!I||V)return null;var G="".concat(y,"__selected");return P().createElement("div",{className:G},P().createElement("span",{className:"".concat(G,"__icon")},P().createElement(U.Z,{iconClass:"icon-xuanzhongzhengshu",size:"32px",color:"#fff"})))},this.renderDelete=()=>{var c=this.props,y=c.prefixCls,I=c.shouldRenderDelete,V=c.isPreset,G=c.t;if(!I||V)return null;var ce="".concat(y,"__delete");return P().createElement("div",{className:ce,onClick:this.handleDelete},P().createElement("span",{className:"".concat(ce,"__icon")},P().createElement(U.Z,{iconClass:"iconf-delete",size:"12px"}),G("common.delete")))}}render(){var c=this.props,y=c.prefixCls,I=c.type;return P().createElement("div",{className:"".concat(y," ").concat(I,"__image")},this.renderImageContent(),this.renderSelectedMask(),this.renderDelete())}}v.defaultProps={prefixCls:"certificate-template-image",type:"vertical",shouldRenderSelected:!1,shouldRenderDelete:!1,isPreset:!1,id:"",src:"",onSelect:()=>{},onDelete:()=>{}};var m=(0,j.Z)()(v),C=t(6793),A={vertical:{page_number:1,page_size:10},horizontal:{page_number:1,page_size:8}};class L extends P().Component{constructor(c){var y;super(c);y=this,this.onImgClick=I=>{var V=I.id,G=I.src;!this.props.showSelect||this.props.onSelect({id:V,src:G})},this.onPageChange=(I,V)=>{this.setState({imagePage:{page_number:I,page_size:V},isLoading:!0},this.getImagesList)},this.getImagesList=(0,T.Z)(r().mark(function I(){var V,G,ce,Pe,Ie,we,De,Ue,Le,Se,Oe;return r().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return V=y.props,G=V.type,ce=V.showSelect,Pe=V.selectedId,Ie=V.showDelete,we=y.state.imagePage,De=(0,E.Z)({style:G},we),Ie&&(De.template_type="custom"),Re.next=6,(0,W.ar)(De);case 6:Ue=Re.sent,Le=Ue.data,Se=Le.list,Oe=Le.total,y.setState({dataList:Se,dataTotal:Oe,isLoading:!1}),ce&&!Pe&&Se.length&&y.props.onSelect({id:Se[0].id,src:Se[0].url},"default");case 11:case"end":return Re.stop()}},I)})),this.handleDelete=I=>{var V=I.id;(0,W.Xc)(V).then(()=>{this.props.onDelete(V),this.getImagesList()})},this.renderContent=()=>{var I=this.props,V=I.prefixCls,G=I.showDelete,ce=I.type,Pe=I.layout,Ie=I.isPreset,we=I.showSelect,De=I.selectedId,Ue=this.state.dataList,Le="".concat(V,"__content ").concat(ce,"__content");return P().createElement("div",{className:Le},Ue.map(Se=>P().createElement(m,{type:ce,layout:Pe,key:Se.id,id:Se.id,src:Se.url,shouldRenderDelete:G&&Se.template_type!=="system",shouldRenderSelected:we&&De===Se.id,isPreset:Ie&&Se.template_type==="system",onSelect:this.onImgClick,onDelete:this.handleDelete})))},this.renderFooter=()=>{var I=this.props,V=I.prefixCls,G=I.smallPagination,ce=I.t,Pe=this.state,Ie=Pe.dataTotal,we=Pe.imagePage,De="".concat(V,"__page");return P().createElement("div",{className:De},G?P().createElement(l.Z,{size:"small",defaultPageSize:we.page_size,current:we.page_number,total:Ie,onChange:this.onPageChange}):P().createElement(l.Z,{showTotal:Ue=>(0,C.ZT)("".concat(ce("course.totalCount")),Ue),current:we.page_number,pageSize:we.page_size,showSizeChanger:!0,total:Ie,onChange:this.onPageChange}))},this.state={isLoading:!0,imagePage:(0,E.Z)({},A[c.type]),dataList:[],dataTotal:0}}componentDidMount(){this.getImagesList()}componentDidUpdate(c){var y=this.props,I=y.type,V=y.showDelete;(c.type!==I||c.showDelete!==V)&&this.onPageChange(A[I].page_number,A[I].page_size)}render(){var c=this.props,y=c.prefixCls,I=c.type,V=c.t,G=this.state,ce=G.isLoading,Pe=G.dataList;return P().createElement("div",{className:"".concat(y," ").concat(I,"__list")},ce?P().createElement(k.Z,null):P().createElement(P().Fragment,null,Pe.length?P().createElement("div",null,this.renderContent(),this.renderFooter()):P().createElement(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE,description:V("authentication.noDataTip")})))}}L.defaultProps={prefixCls:"certificate-template-list",type:"vertical",showSelect:!1,selectedId:"",smallPagination:!1,showDelete:!1,onSelect:()=>{},onDelete:()=>{}};var b=(0,j.Z)()(L)},35717:function(ve,q,t){"use strict";var F=t(88986),w=t(57663),B=t(71577),k=t(34669),K=t(82833),l=t(12924),E=t.n(l),T=t(91768),u=t(84391),r=t(76828),M=t(18329),P=t(84874),j=t(24144),W=t(6793),N=".jpg,.jpeg,.png",x={uploadProcess:"empty",warningText:"",uploadProgress:0,uploadSuccessInfo:{name:"",url:""}};class $ extends E().Component{constructor(v){super(v);this.onBeforeUpload=m=>{var C=5120,A=this.props.t;if(N.indexOf(m.name.split(".").pop().toLowerCase())<0)return this.setState({uploadProcess:"uploadWarning",warningText:A("authentication.certificateDetailOfficialTplUploadFormat")}),!1;var L=m.size/1024<C;return L?(this.setState({uploadProcess:"uploading",uploadProgress:Math.floor(100*Math.random())}),!0):(this.setState({uploadProcess:"uploadWarning",warningText:A("authentication.certificateDetailOfficialTplUploadSize")}),!1)},this.onUploadSuccess=m=>{var C=m.fileList,A=C.length>0?C[0].url:"",L=C.length>0?C[0].fileName:"";this.setState({uploadProcess:"uploadSuccess",uploadSuccessInfo:{name:L,url:A}})},this.onUploadFailed=()=>{this.setState({uploadProcess:"uploadError"})},this.renderWrapper=()=>{var m=this.props.prefixCls,C=this.state,A=C.uploadProcess,L=C.typeValue,b="".concat(m,"__wrapper"),g;switch(A){case"uploadWarning":g=this.renderWrapperWarning();break;case"uploading":g=this.renderWrapperUploading();break;case"uploadError":g=this.renderWrapperError();break;case"uploadSuccess":g=this.renderWrapperSuccess();break;default:g=this.renderWrapperEmpty();break}return E().createElement("div",{className:"".concat(b," ").concat(L,"__wrapper")},A==="uploadSuccess"?this.renderWrapperSuccess():E().createElement("div",{className:"".concat(b,"__center")},g))},this.renderWrapperEmpty=()=>{var m=this.props,C=m.prefixCls,A=m.t,L="".concat(C,"__wrapper__empty");return E().createElement("div",{className:L},E().createElement("span",null,E().createElement(P.Z,{iconClass:"icon-zhengshuyulan",size:"58px",color:"#CDCDCD"})),E().createElement("p",null,A("authentication.certificateDetailOfficialTplUploadTip")))},this.renderWrapperWarning=()=>{var m=this.props.prefixCls,C=this.state.warningText,A="".concat(m,"__wrapper__warning");return E().createElement("div",{className:A},E().createElement(P.Z,{iconClass:"icon-f-tipe",size:"32px",color:"#FAAD14"}),E().createElement("p",null,C))},this.renderWrapperUploading=()=>{var m=this.props,C=m.prefixCls,A=m.t,L=this.state.uploadProgress,b="".concat(C,"__wrapper__uploading");return E().createElement("div",{className:b},E().createElement(K.Z,{percent:L}),E().createElement("p",null,A("authentication.certificateDetailOfficialTplUploadLoading")))},this.renderWrapperError=()=>{var m=this.props,C=m.prefixCls,A=m.t,L=this.state.uploadProgress,b="".concat(C,"__wrapper__error");return E().createElement("div",{className:b},E().createElement(K.Z,{percent:L,status:"exception"}),E().createElement("p",null,A("authentication.certificateDetailOfficialTplUploadError")))},this.renderWrapperSuccess=()=>{var m=this.props.prefixCls,C=this.state.uploadSuccessInfo,A="".concat(m,"__wrapper__success");return E().createElement("div",{className:A},E().createElement("img",{className:"".concat(A,"__tpl"),src:C.url}))},this.handleCancel=()=>this.props.onCancel(),this.handleOk=()=>{var m=this.state.uploadSuccessInfo,C=m.name,A=m.url,L=this.state.typeValue,b={title:C,url:A,style:L};(0,r.eZ)(b).then(()=>{this.props.onOk()})},this.renderTip=()=>{var m=this.props,C=m.prefixCls,A=m.t,L=this.state.typeValue,b=L==="vertical"?"1795*2598":"2598*1795",g="".concat(C,"__tip");return E().createElement("p",{className:g},(0,W.ZT)("".concat(A("authentication.certificateDetailOfficialTplUploadLimit")),b))},this.renderUploader=()=>{var m=this.props,C=m.prefixCls,A=m.t,L=this.state.uploadProcess,b="".concat(C,"__antduploader"),g=L==="uploading";return E().createElement("div",{className:b},E().createElement(j.ZM,{uploadConfig:{listType:"picture",accept:N,showUploadList:!1,disabled:g,maxCount:1},onBeforeUpload:this.onBeforeUpload,onUploadSuccess:this.onUploadSuccess,onUploadFailed:this.onUploadFailed,render:()=>E().createElement(B.Z,{type:"link",disabled:g},E().createElement(u.Z,null)," ",A(L==="empty"?"authentication.certificateDetailOfficialTplUpload":"authentication.certificateDetailOfficialTplUploadBtnRst"))}))},this.state=(0,F.Z)((0,F.Z)({},x),{},{typeValue:v.type})}componentDidUpdate(v,m){v.visible&&v.visible!==this.props.visible&&this.setState((0,F.Z)({},x)),m.typeValue!==this.props.type&&this.setState({typeValue:this.props.type})}render(){var v=this.props,m=v.prefixCls,C=v.visible,A=v.t,L=this.state.uploadProcess;return E().createElement(M.ZP,{title:A("authentication.certificateDetailOfficialTplUpload"),width:536,visible:C,okButtonProps:{disabled:L!=="uploadSuccess"},onCancel:this.handleCancel,onOk:this.handleOk},E().createElement("div",{className:m},this.renderWrapper(),this.renderTip(),this.renderUploader()))}}$.defaultProps={prefixCls:"certificateimg-selector__upload",visible:!1,type:"vertical",onOk:()=>{},onCancel:()=>{}},q.Z=(0,T.Z)()($)},11874:function(ve,q,t){"use strict";t.r(q),t.d(q,{default:function(){return L}});var F=t(18106),w=t(88108),B=t(57663),k=t(71577),K=t(12924),l=t.n(K),E=t(91768),T=t(38819),u=t(90631),r=t(76243),M=t(38642);class P extends l().Component{constructor(g){super(g);this.onLayoutClick=c=>{this.props.onLayoutChange(c)},this.onDownload=c=>{window.location.href=r.$1[c]},this.renderLayoutTab=c=>{var y=this.props,I=y.prefixCls,V=y.t,G=y.type,ce=y.activeLayout;return l().createElement("div",{className:"".concat(I,"__content__item")},l().createElement("p",{className:"".concat(I,"__content__item__tip")},c.endsWith("Left")?V("authentication.layoutLeft"):V("authentication.layoutCenter")),l().createElement("div",{className:"".concat(I,"__content__item__img ").concat(G,"__img"),onClick:()=>{this.onLayoutClick(c)}},l().createElement("img",{src:r.MJ[c]}),ce===c&&l().createElement("div",{className:"".concat(I,"__content__item__img__active")},l().createElement(T.Z,{style:{fontSize:"32px",color:"#fff"}}))),l().createElement("span",{className:"".concat(I,"__content__item__download cl-pointer"),onClick:()=>{this.onDownload(c)}},l().createElement(u.Z,null)," ",V("authentication.downloadLayoutPsd")))},this.renderLayoutMRJ=c=>{var y=this.props,I=y.prefixCls,V=y.t,G=y.type,ce=y.activeLayout;return l().createElement("div",{className:"".concat(I,"__content__item")},l().createElement("p",{className:"".concat(I,"__content__item__tip")},"\u5B9A\u5236\u8BC1\u4E66"),l().createElement("div",{className:"".concat(I,"__content__item__img ").concat(G,"__img"),onClick:()=>{this.onLayoutClick(c)}},l().createElement("img",{src:r.MJ[c]}),ce===c&&l().createElement("div",{className:"".concat(I,"__content__item__img__active")},l().createElement(T.Z,{style:{fontSize:"32px",color:"#fff"}}))),l().createElement("span",{className:"".concat(I,"__content__item__download cl-pointer"),onClick:()=>{this.onDownload(c)}},l().createElement(u.Z,null)," ",V("authentication.downloadLayoutPsd")))},this.state={isMRJ:(0,M.UI)("MRJ_WHITE_FLAG")}}render(){var g=this.props,c=g.prefixCls,y=g.type,I=g.t;return l().createElement("section",{className:c},l().createElement("p",{className:"certificate-layout-page__subtitle"},I("authentication.layoutTitle"),"\uFF1A ",l().createElement("span",null,I("authentication.layoutSubTitle"))," "),l().createElement("div",{className:"".concat(c,"__content")},this.renderLayoutTab("".concat(y,"Left")),this.renderLayoutTab("".concat(y,"Center")),this.state.isMRJ&&y==="vertical"?this.renderLayoutMRJ("verticalMRJ"):""))}}P.defaultProps={prefixCls:"certificate-layout-tab"};var j=(0,E.Z)()(P),W=t(35717),N=t(31652),x=t(18329);class $ extends l().Component{constructor(){super(...arguments);this.state={deleteIds:[]},this.handleDelete=g=>{var c=[].concat(this.state.deleteIds);c.push(g),this.setState({deleteIds:c})},this.handleCompleted=()=>{this.props.onOk(this.state.deleteIds)},this.renderModalFooter=()=>{var g=this.props.t;return[l().createElement(k.Z,{key:"completed",type:"primary",onClick:this.handleCompleted},g("common.completed"))]}}render(){var g=this.props,c=g.prefixCls,y=g.visible,I=g.t,V=g.type;return l().createElement(x.ZP,{title:I("authentication.certificateManagement"),width:920,destroyOnClose:!0,visible:y,footer:this.renderModalFooter(),onCancel:this.handleCompleted},l().createElement("div",{className:c},l().createElement(N.Z,{smallPagination:!0,type:V,showDelete:!0,onDelete:this.handleDelete})))}}$.defaultProps={prefixCls:"certificate-img-management"};var U=(0,E.Z)()($);class v extends l().Component{constructor(){super(...arguments);this.state={uploadModalShow:!1,managementModalShow:!1,reload:!1},this.onImgChange=g=>{var c=g.id,y=g.src;this.props.onImgChange({id:c,src:y})},this.handleUploadCancel=()=>{this.setState({uploadModalShow:!1})},this.handleUploadOk=()=>{this.setState({uploadModalShow:!1,reload:!0},()=>{this.setState({reload:!1})})},this.handleShowUploadModal=()=>{this.setState({uploadModalShow:!0})},this.handleManagementOk=g=>{var c=this.props.activeImgId;this.setState({managementModalShow:!1,reload:!0},()=>{this.setState({reload:!1})}),g.includes(c)&&this.props.onImgChange({id:"",src:""})},this.handleManagementShow=()=>{this.setState({managementModalShow:!0})}}render(){var g=this.props,c=g.prefixCls,y=g.activeImgId,I=g.t,V=g.type,G=this.state,ce=G.uploadModalShow,Pe=G.managementModalShow,Ie=G.reload;return l().createElement("section",{className:c},l().createElement("div",{className:"".concat(c,"__header")},l().createElement("p",{className:"certificate-layout-page__subtitle"},I("authentication.backgroundTitle"),"\uFF1A ",l().createElement("span",null,I("authentication.backgroundSubTitle"))," "),l().createElement("div",null,l().createElement(k.Z,{type:"link",onClick:this.handleManagementShow},I("authentication.certificateDetailOfficialTplManage")),l().createElement(k.Z,{type:"primary",ghost:!0,onClick:this.handleShowUploadModal},I("authentication.certificateDetailOfficialTplUpload")))),!Ie&&l().createElement(N.Z,{type:V,showSelect:!0,selectedId:y,onSelect:this.onImgChange}),l().createElement(U,{type:V,visible:Pe,onOk:this.handleManagementOk}),l().createElement(W.Z,{type:V,visible:ce,onCancel:this.handleUploadCancel,onOk:this.handleUploadOk}))}}v.defaultProps={prefixCls:"certificate-layout-background"};var m=(0,E.Z)()(v),C=t(4408);class A extends K.Component{constructor(){super(...arguments);this.state={type:"vertical",activeImgId:"",activeImgSrc:"",activeLayout:"verticalLeft"},this.onChangeTab=g=>{this.setState({type:g,activeLayout:"".concat(g,"Left"),activeImgId:"",activeImgSrc:""})},this.onCancel=()=>{this.props.history.push("/knowledgeBase/certificateResources/certificate")},this.onSure=()=>{var g=this.state,c=g.activeLayout,y=g.activeImgId,I=g.activeImgSrc;this.props.history.push("/training/authentication/certificate/detail?layout=".concat(c,"&imgId=").concat(y,"&imgScr=").concat(encodeURIComponent(I)))},this.handleSetActiveImgId=g=>{var c=g.id,y=g.src;this.setState({activeImgId:c,activeImgSrc:y})},this.handleSetActiveLayout=g=>{this.setState({activeLayout:g})},this.renderFooter=()=>{var g=this.props.t;return l().createElement("footer",{className:"cl-form-fixed-footer"},l().createElement("div",{className:"cl-form-fixed-footer__container"},l().createElement(k.Z,{onClick:this.onCancel},g("common.cancel")),l().createElement(k.Z,{type:"primary",onClick:this.onSure},g("common.ok"))))}}render(){var g=this.props,c=g.prefixCls,y=g.t,I=this.state,V=I.type,G=I.activeImgId,ce=I.activeLayout;return l().createElement("div",{className:c},l().createElement(C.Z,{title:y("documentTitle.addCertificate")}),l().createElement("div",{className:"".concat(c,"__content")},l().createElement("h1",{className:"".concat(c,"__htitle")},y("authentication.layoutPageTitle")),l().createElement("p",{className:"".concat(c,"__subtitle")},y("authentication.layoutPageTitle"),"\uFF1A ",l().createElement("span",null,y("authentication.layoutPageSubTitle"))," "),l().createElement(w.Z,{className:"".concat(c,"__tabs"),defaultActiveKey:"vertical",onChange:this.onChangeTab},l().createElement(w.Z.TabPane,{tab:y("authentication.vertical"),key:"vertical"}),l().createElement(w.Z.TabPane,{tab:y("authentication.horizontal"),key:"horizontal"})),l().createElement("div",null,l().createElement(j,{type:V,activeLayout:ce,onLayoutChange:this.handleSetActiveLayout}),l().createElement("div",{className:"".concat(c,"__hr")}),l().createElement(m,{type:V,activeImgId:G,onImgChange:this.handleSetActiveImgId}))),this.renderFooter())}}A.defaultProps={prefixCls:"certificate-layout-page"};var L=(0,E.Z)()(A)},76828:function(ve,q,t){"use strict";t.d(q,{ar:function(){return k},eZ:function(){return K},Xc:function(){return l},el:function(){return E},Nm:function(){return T},xs:function(){return u}});var F=t(88986),w=t(37055),B=t(10237);function k(r){var M=r.page_number,P=r.page_size,j=r.style,W=r.template_type,N=W===void 0?"":W,x=w.ZP.CertificateDetail.getTplList();return B.WY.get({url:x,params:{style:j,page_number:M,page_size:P,template_type:N}})}function K(r){var M=r.title,P=r.url,j=r.style,W=w.ZP.CertificateDetail.addTpl();return B.WY.post({url:W,data:{title:M,url:P,style:j}})}function l(r){var M=w.ZP.CertificateDetail.deleteTpl({templateId:r});return B.WY.post({url:M})}function E(){var r=w.ZP.advancedSetting.getSettingStatusByType("user_view");return B.WY.get({url:r})}function T(r){var M=w.ZP.CertificateDetail.getInfo(r);return B.WY.get({url:M})}function u(r,M){var P=w.ZP.CertificateDetail[M]();return B.WY.post({url:P,data:(0,F.Z)({},r)})}},76243:function(ve,q,t){"use strict";t.d(q,{MJ:function(){return F},$1:function(){return w},To:function(){return B}});var F={verticalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/layout-vertical-left.png",verticalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/layout-vertical-center.png",verticalMRJ:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/layout-vertical-center.png",horizontalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/layout-horizontal-left.png",horizontalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/layout-horizontal-center.png"},w={verticalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/template-vertical-left.psd",verticalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/template-vertical-center.psd",verticalMRJ:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/template-vertical-mrj.psd",horizontalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/template-horizontal-left.psd",horizontalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/template-horizontal-center.psd"},B={verticalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/base-v-left.png",verticalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/base-v-center.png",horizontalLeft:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/base-h-left.png",horizontalCenter:"https://sdn.coolcollege.cn/assets/kuxueyuan/certificate/base-h-center.png"}},9849:function(ve,q,t){"use strict";t.d(q,{Ej:function(){return K},kL:function(){return l},T:function(){return E},NU:function(){return T},FL:function(){return u},fn:function(){return r},bm:function(){return M},jY:function(){return P},Vs:function(){return j},li:function(){return W},Nl:function(){return N},YF:function(){return x},Q6:function(){return $},zW:function(){return U},Zv:function(){return v},Qg:function(){return m},qc:function(){return C},Ve:function(){return L},rS:function(){return b},Rh:function(){return g}});var F=t(10237),w=t(37055),B=t(38642),k={zaraFlag:(0,B.UI)("ZARA_H5")};function K(c,y){var I=w.ZP.StudyProjectList.startStudy(c);return F.WY.post({url:I,data:y})}function l(c){var y=w.ZP.Common.enroll(c);return F.WY.post({url:y})}function E(c,y){var I=c.courseId,V=w.ZP.StudyProjectList.studyProject(I);return F.WY.get({url:V,params:y})}function T(c){var y=c.id,I=k.zaraFlag?w.m1.getAssessmentProjectInfo(y):w.m1.getProjectInfo(y);return F.WY.get({url:I})}function u(c){var y=c.courseId,I=w.ZP.EnterpriseCourse.addScanCount(y);return F.WY.post({url:I})}function r(){var c=w.ZP.StudyProjectList.getAccountInfo();return F.WY.get({url:c})}function M(c){var y=w.ZP.StudyProjectList.projectCertiUrl(c);return F.WY.get({url:y})}function P(c){var y=c.courseId,I=w.ZP.Courses.like(y);return F.WY.post({url:I})}function j(c){var y=w.ZP.EnterpriseCourse.addCommentAndScore();return F.qg.post({url:y,data:c})}function W(c){var y=w.ZP.EnterpriseCourse.getCourseComments();return F.WY.get({url:y,params:c})}function N(c){var y=w.ZP.EnterpriseCourse.addCommentAndScore();return F.qg.post({url:y,data:c})}function x(c){var y=w.ZP.EnterpriseCourse.deleteComment();return F.qg.post({url:y,data:c})}function $(c,y){var I=w.ZP.StudyProjectList.projectStudyRecord(c);return F.WY.get({url:I,params:y})}function U(c){var y=w.ZP.DingSpaceId.getSpaceId();return F.WY.get({url:y,params:c})}function v(c,y){var I=w.ZP.PlatformCourse.learningUrl(c);return F.WY.get({url:I,params:y})}function m(c){var y=w.ZP.MyExamTask.examIntro({examId:c});return F.WY.get({url:y})}function C(c){var y=w.ZP.MyExamTask.examCheckStatus({examId:c});return F.WY.get({url:y})}function A(c,y){var I=CONFIG.Common.getOperateLog(c);return formDataRequest.get({url:I,params:y})}function L(c,y){var I=k.zaraFlag?w.ZP.StudyProjectList.changeCustomStatus(c):w.ZP.StudyProjectList.changeStatus(c);return F.WY.post({url:I,data:y})}function b(c){var y=w.ZP.StudyProjectList.getProjectReward(c);return F.WY.get({url:y})}function g(c){var y=w.ZP.subsidyGz.subsidyCourseSetting(c);return F.WY.get({url:y})}},91648:function(ve,q,t){"use strict";t.d(q,{Z:function(){return F}});function F(w,B){var k,K,l,E,k;if(K="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),k=[],l=void 0,B=B||K.length,w)for(l=0;l<w;)k[l]=K[0|Math.random()*B],l++;else for(E=void 0,k[8]=k[13]=k[18]=k[23]="-",k[14]="4",l=0;l<36;)k[l]||(E=0|Math.random()*16,k[l]=K[l===19?E&3|8:E]),l++;return k.join("")}},69164:function(ve,q,t){"use strict";var F=t(34792),w=t(48086);function B(k){k&&k.length>0&&w.default.success(k)}q.Z=B},4412:function(ve){ve.exports="data:image/png;base64,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"}}]);
