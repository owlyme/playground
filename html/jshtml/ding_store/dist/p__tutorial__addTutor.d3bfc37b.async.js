(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[1485],{4408:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(28216),K=e(17780),G=e(38642),A=d=>({userInfo:d.user}),R=d=>{var p=d.title;return(0,K.xX)()&&setTimeout(()=>{document.title=p},0),(0,w.useEffect)(()=>{if(p&&document.title!==p&&setTimeout(()=>{document.title=p},0),(0,G.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[p]),L().createElement(L().Fragment,null)};R.defautProps={title:""},oe.Z=(0,Y.$j)(A)(R)},76343:function(be,oe,e){"use strict";var w=e(71194),L=e(57016),Y=e(57361),K=e(88986),G=e(57663),A=e(71577),R=e(34792),d=e(48086),p=e(9754),n=e.n(p),u=e(12924),E=e.n(u),M=e(91768),T=e(96120),Z=e.n(T),t=e(24144);class ae extends u.PureComponent{constructor(){super(...arguments);this.state={src:null,crop:{unit:"%",width:80,height:80,x:10,y:10,aspect:16/9},imgBold:{},fileName:"",imgType:"image/jpg"},this.onSelectFile=N=>{if(N.target.files&&N.target.files.length>0){var W=new FileReader,l=N.target.files[0];W.addEventListener("load",()=>{this.setState({src:W.result,fileName:l.name,imgType:l.type})}),W.readAsDataURL(l)}},this.onImageLoaded=N=>{this.imageRef=N},this.onCropComplete=N=>{this.makeClientCrop(N)},this.onCropChange=N=>{this.setState({crop:N})},this.onOk=()=>{var N=this.state,W=N.imgBold,l=N.imgType,h=new File([W],W.name,{type:l}),U=new FormData;U.append("file",h),U.append("access_token",localStorage.getItem("token")),(0,t.ws)(U).then(D=>{D.data.code===0&&(this.props.isShowMsg&&d.default.success("".concat(this.props.t("course.courseDetailCoverSuccess"))),this.handleSuccessUpload(D.data))}).catch(D=>{var _=this.props.onUploadFailed;_&&_({error:D,data:{fileList:[{fileName:h.name}]}})})},this.handleSuccessUpload=N=>{var W=this.props.onOk,l=N.data,h=l.fileNewName,U=l.server,D=l.fileName,_="".concat(U,"/").concat(h);W({fileName:D,imgUrl:_,fileNewName:h})},this.renderFooter=()=>{var N=this.props,W=N.prefixCls,l=N.t,h=N.accept,U="".concat(W,"__upload");return E().createElement("div",{className:"".concat(W,"__footer")},E().createElement(A.Z,{type:"default",className:U},l("component.reUpload"),E().createElement("input",{type:"file",multiple:!1,accept:h,onChange:this.onSelectFile})),E().createElement(A.Z,{type:"primary",onClick:this.onOk},l("common.ok")))}}componentDidMount(){var N=this.props,W=N.file,l=N.widthScale,h=N.heightScale,U=this.state.crop,D=new FileReader;D.readAsDataURL(W),D.addEventListener("load",()=>{this.setState({src:D.result,crop:(0,K.Z)((0,K.Z)({},U),{},{aspect:l/h}),fileName:W.name,imgType:W.type})})}getCroppedImg(N,W,l){var h=this.state.imgType,U=this.props.quality,D=document.createElement("canvas"),_=N.naturalWidth/N.width,k=N.naturalHeight/N.height;U?(D.width=W.width*_,D.height=W.height*_):(D.width=W.width,D.height=W.height);var B=D.getContext("2d");return B.drawImage(N,W.x*_,W.y*k,W.width*_,W.height*k,0,0,D.width,D.height),new Promise((Q,ce)=>{D.toBlob(de=>{if(!de){ce(new Error("Canvas is empty"));return}de.name=l,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(de),this.setState({imgBold:de}),Q(this.fileUrl)},h,U)})}makeClientCrop(N){var W=this;return(0,Y.Z)(n().mark(function l(){return n().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(W.imageRef&&N.width&&N.height)){U.next=3;break}return U.next=3,W.getCroppedImg(W.imageRef,N,W.state.fileName);case 3:case"end":return U.stop()}},l)}))()}render(){var N=this.state,W=N.crop,l=N.src,h=this.props,U=h.visible,D=h.prefixCls,_=h.onCancel;return E().createElement(L.Z,{className:D,title:"\u8C03\u6574\u5C3A\u5BF8",visible:U,footer:this.renderFooter(),width:623,onCancel:_},E().createElement("div",{className:"".concat(D,"__container")},E().createElement("div",{className:"".concat(D,"__container__crop")},l&&E().createElement(Z(),{className:"".concat(D,"__crop"),src:l,crop:W,ruleOfThirds:!0,keepSelection:!0,imageStyle:{width:"100%"},onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}))))}}ae.defaultProps={prefixCls:"img-corp-modal",visible:!1,widthScale:16,heightScale:9,sizeLimit:1,sizeLimitUnit:"MB",accept:"image/jpg,image/jpeg,image/png",isShowMsg:!1,onCancel:()=>{},onOk:()=>{}},oe.Z=(0,M.Z)()(ae)},1164:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(76651),K=e(38642),G=e(91302),A=R=>{var d=navigator.userAgent.toLocaleLowerCase(),p=localStorage.getItem("enterpriseId"),n=(0,K.lz)(p,R.projectType),u=localStorage.getItem("dingPersonnel"),E=G.bl.includes(u),M=R.target;function T(Z){if(M==="self"&&(Z.preventDefault(),Y.m8.push(R.to)),E){if(R.projectType==="student"){window.location.href="".concat(n,"/").concat(R.to);return}Y.m8.push(R.to);return}if(dd.version){Z.preventDefault();var t="";R.to.includes("?")?t="".concat(n).concat(R.to,"&ddtab=true"):t="".concat(n).concat(R.to,"?ddtab=true"),dd.biz.util.openLink({url:t})}else d.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(R.to))}return L().createElement("a",{rel:"noreferrer",href:"".concat(R.projectType==="student"?"".concat(n).concat(R.to):"#".concat(R.to)),className:"".concat(R.wrapCls," cl-pointer"),target:d.indexOf("lark")!==-1||E?"_self":R.target||"_blank",onClick:T},R.children)};A.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},A.targetTo=R=>{var d=R.path,p=R.from,n=R.isExternalLink,u=n===void 0?!1:n,E=R.isAsync,M=E===void 0?!1:E,T=R.openName,Z=T===void 0?"_blank":T,t=R.projectType,ae=t===void 0?"manage":t,j=R.ddTab,N=j===void 0?!0:j,W,l=localStorage.getItem("dingPersonnel"),h=G.bl.includes(l),U=navigator.userAgent.toLocaleLowerCase(),D=localStorage.getItem("enterpriseId"),_=(0,K.lz)(D,ae),k=localStorage.getItem("appType"),B=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var Q="";if(W=u?"":_,h&&!u){if(ae==="student"){window.location.href="".concat(_).concat(d);return}Y.m8.push(d);return}d.includes("?")?Q="".concat(W).concat(d,"&ddtab=").concat(N):Q="".concat(W).concat(d,"?ddtab=").concat(N),dd.biz.util.openLink({url:Q})}else if(U.indexOf("lark")!==-1)W=u?"":_,window.location.href="".concat(W).concat(d);else if(k==="wx_app"&&B&&u&&p==="imgText")W=u?"":ae==="student"?"".concat(_):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(W).concat(d)});else if(W=u?"":ae==="student"?"".concat(_):"#",M){var ce=window.open("","_blank");setTimeout(()=>{ce.location="".concat(W).concat(d)},100)}else window.open("".concat(W).concat(d),Z)},oe.Z=A},87312:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(91768),K=G=>{var A=G.t;return L().createElement("div",{className:G.className?"".concat(G.className," no-result"):"no-result"},L().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886702513426432.png"),className:"no-data-img",alt:""}),L().createElement("p",{className:"no-data-tip"},G.tipText||A("common.empty")))};oe.Z=(0,Y.Z)()(K)},88311:function(be,oe,e){"use strict";e.d(oe,{Z:function(){return Be}});var w=e(62029),L=e(47673),Y=e(4107),K=e(33565),G=e(57361),A=e(34792),R=e(48086),d=e(88986),p=e(43358),n=e(34041),u=e(18106),E=e(88108),M=e(9754),T=e.n(M),Z=e(12924),t=e.n(Z),ae=e(91768),j=e(77043),N=e.n(j),W=e(20228),l=e(11382),h=e(18721),U=e.n(h),D=e(51975),_=e(37055),k={breadNav:[{value:"",label:""}],checkOne:()=>{},checkAll:()=>{},nextLevel:()=>{},changeLevel:()=>{}},B=t().createContext(k),Q={searchResult:[],deptList:[],groupList:[],postList:[],deptUser:[],groupUser:[],postUser:[],clusterList:[],classList:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],initTypeList:()=>{},initTypeUser:()=>{},toggleDisplayItem:()=>{},toggleDisplayList:()=>{},checkListOne:()=>{},checkUserOne:()=>{},removeCheckedUser:()=>{},changeLevel:()=>{},hidePosts:!1,initHidePostsStatus:()=>{},clearSelectedAll:()=>{}},ce=t().createContext(Q),de=e(36017),Oe=e(35247),Te=e(60667);class Ae extends t().Component{constructor(){super(...arguments);this.changeLevel=(P,y,a,s)=>{P.preventDefault(),this.props.contextData.changeLevel(y,a,s)}}render(){var P=this.props.contextData.breadNav.map((y,a)=>t().createElement(Oe.Z.Item,{key:y.value},t().createElement("span",{className:"bread-nav-item",onClick:s=>this.changeLevel(s,y.value,a,!(U()(y,"authorized")&&y.authorized==="true"))},t().createElement(Te.Z,{dataType:"departmentName",value:y.value,name:y.label,type:y.sourceType}))));return t().createElement("div",{className:"bread-nav"},t().createElement(Oe.Z,null,P))}}Ae.defaultProps={contextData:{breadNav:[]},changeLevel:()=>{}};var Ke=Ae,Ye=e(63185),ie=e(9676),le=e(88983),ne=e(47933),Ee=e(22385),Ie=e(31097),$e=e(57119),Ze=e(84874),ze=e(20136),et=e(55241),se=e(13062),ee=e(71230),Ne=e(89032),we=e(15746),Ve=e(28216),tt=e(80430),Fe=e(10237);function ke(){var z=CONFIG.Role.getUserManageRange();return request.get({url:z})}function at(z){var P=_.ZP.OrgDialog.getDeptInfoUrl({departmentId:z.departmentId});return delete z.departmentId,Fe.WY.get({url:P,params:z})}function mt(z){var P=_.ZP.OrgDialog.getDeptUsersUrl({departmentId:z.departmentId});return delete z.departmentId,Fe.WY.get({url:P,params:z})}function Re(z){var P=_.ZP.OrgDialog.getUserDetailUrl();return Fe.WY.get({url:P,params:z})}function Ge(z){var P=_.ZP.OrgDialog.getScopeUsersAndDeptsUrl({departmentId:z.departmentId});return delete z.departmentId,Fe.WY.get({url:P,params:z})}function it(z){var P=_.ZP.OrgDialog.postDeleteCacheUrl({cacheId:z.cacheId});return delete z.cacheId,Fe.WY.post({url:P,params:z})}var qe,st,pt=(qe=(0,Ve.$j)(z=>{var P=z.user;return{enterpriseName:P.enterpriseName}}),qe(st=class extends t().Component{constructor(){super(...arguments);this.state={loading:!0,cardInfoFinal:this.props.cardInfo},this.renderTitle=()=>{var P=this.props,y=P.cardInfo,a=P.prefixCls,s=P.enterpriseName,m=y.source_type,c=y.user_id,r=y.name;return t().createElement("div",{className:"".concat(a,"__header")},t().createElement("div",{className:"".concat(a,"__header-name")},t().createElement(Te.Z,{type:m,value:c,name:r,dataType:"userName"})),t().createElement("div",{className:"".concat(a,"__header-corp")},s||"/"))},this.renderContent=()=>{var P=this.props,y=P.prefixCls,a=P.t,s=this.state.cardInfoFinal,m=s.user_id,c=s.job_number,r=s.post_names,O=r===void 0?[]:r,F=s.department_infos,H=F===void 0?[]:F,me=()=>!(H instanceof Array)||H.length===0?"/":t().createElement(tt.Z,{list:H,displayAll:!0,isBlock:!0}),q=()=>!(O instanceof Array)||O.length===0?"/":O.map(ge=>t().createElement("div",{key:ge},ge)),ve=[{lable:"ID",value:m},{lable:a("personal.jobNumber"),value:c||"/"},{lable:a("setting.postLabel"),value:q()},{lable:a("learnRecord.department"),value:me()}];return t().createElement("div",{className:"".concat(y,"__body")},ve.map(ge=>t().createElement(ee.Z,{className:"".concat(y,"__body-item"),key:ge.value},t().createElement(we.Z,{className:"".concat(y,"__body-item-lable")},ge.lable),t().createElement(we.Z,{className:"".concat(y,"__body-item-value")},ge.value||"/"))))}}render(){var P=this.props,y=P.children,a=P.prefixCls,s=this.state,m=s.loading,c=s.cardInfoFinal;return t().createElement(et.Z,{overlayClassName:a,placement:"rightTop",title:this.renderTitle,content:m?t().createElement("div",{className:"".concat(a,"__body")},t().createElement(l.Z,null)):this.renderContent,onVisibleChange:r=>{r&&(c.detailInfo===!1?Re({user_id:c.id}).then(O=>{this.setState({loading:!1,cardInfoFinal:(0,d.Z)((0,d.Z)((0,d.Z)({},c),O.data),{},{detailInfo:!0})})}).catch(O=>{console.error(O)}):this.setState({loading:!1}))},mouseEnterDelay:.5},y)}})||st);pt.defaultProps={prefixCls:"user-card-popover",cardInfo:{}};var I=(0,ae.Z)()(pt),te=["cluster","class"];class Le extends t().Component{constructor(){super(...arguments);this.checkOne=P=>{P.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=P=>{P.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var P=this.props,y=P.cardInfo,a=P.type,s=P.t;return y.authorized==="false"&&a==="dept"?t().createElement(Ie.Z,{title:s("orgDialog.scopedAuthorize")},t().createElement($e.Z,{style:{marginLeft:"4px"}})):null}}render(){var P=this.props,y=P.t,a=P.cardInfo,s=a===void 0?{}:a,m=P.hidePosts,c=P.type,r=P.userCount,O=null;return this.props.hasNext?(O=t().createElement("div",{className:"next-level"},!(m&&c==="post")&&r>-1?t().createElement("span",{className:"next-level-count"},"(",r,")"):null,te.includes(c)?t().createElement("span",null):t().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},t().createElement(Ze.Z,{iconClass:"icon-xiaji1"}),y("component.nextLevel"))),this.props.single?t().createElement("div",{className:"org-tree-item"},t().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),O):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&t().createElement("div",{className:"org-tree-item"},t().createElement(ie.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),O)):t().createElement("div",{className:"org-tree-item"},this.props.single?t().createElement(ne.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement(I,{cardInfo:s},this.props.title)):t().createElement(I,{cardInfo:s},t().createElement(ie.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title)))}}Le.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var ye=(0,ae.Z)()(Le),Se=["cluster","class"];class _e extends t().Component{constructor(){super(...arguments);this.checkOne=P=>{P.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=P=>{P.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var P=this.props,y=P.cardInfo,a=P.type,s=P.t;return y.authorized==="false"&&a==="dept"?t().createElement(Ie.Z,{title:s("orgDialog.scopedAuthorize")},t().createElement($e.Z,{style:{marginLeft:"4px"}})):null}}render(){var P=this.props,y=P.t,a=P.cardInfo,s=a===void 0?{}:a,m=P.hidePosts,c=P.type,r=P.userCount,O=null;return this.props.hasNext?(O=t().createElement("div",{className:"next-level"},t().createElement("span",{className:"next-level-belle"},!(m&&c==="post")&&r>-1?t().createElement("span",{className:"next-level-count"},"(",r,")"):null,Se.includes(c)?t().createElement("span",null):t().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},t().createElement(Ze.Z,{iconClass:"icon-xiaji1"}),y("component.nextLevel")))),this.props.single?t().createElement("div",{className:"org-tree-item"},t().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),O):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&t().createElement("div",{className:"org-tree-item"},t().createElement(ie.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),O)):t().createElement("div",{className:"org-tree-item"},this.props.single?t().createElement(ne.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement(I,{cardInfo:s},t().createElement("span",{className:"org-tree-item-title"},this.props.title))):t().createElement(I,{cardInfo:s},t().createElement(ie.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},t().createElement("span",{className:"org-tree-item-title"},this.props.title))))}}_e.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var Xe=(0,ae.Z)()(_e),Qe=e(38642),nt=["cluster","class"];class xe extends t().Component{constructor(P){super(P);this.checkAll=(y,a)=>{y.preventDefault(),this.props.contextData.checkAll(a)},this.getIsCheckAll=()=>{var y=[].concat(this.context["".concat(this.props.dataTypeKey,"List")],nt.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")]);if(y.length===0)return!1;var a=y.findIndex(s=>!s.isChecked);return a===-1},this.renderDeptName=(y,a)=>a==="dept"?t().createElement(Te.Z,{type:y.source_type,value:y.id,name:y.name,dataType:"departmentName"}):y.name,this.renderName=y=>t().createElement(Te.Z,{type:y.source_type,value:y.user_id,name:y.name,dataType:"userName"}),this.state={isShowCheckAllEle:!0,whiteList:{belleFlag:(0,Qe.UI)("BELLE_CUSTOMER_WHITE")}}}render(){var P=this.state,y=P.isShowCheckAllEle,a=P.whiteList,s=this.props,m=s.t,c=s.dataTypeKey,r=s.disableHidden,O=s.scrollFlag,F=this.context,H=F.maxDeptUserCount,me=F.hidePosts,q=F.onlyPost,ve=F.onlyUser,ge=F.single,fe=[],ue=this.context["".concat(this.props.dataTypeKey,"List")].map(pe=>(fe.push(t().createElement("div",{className:"title-item",key:pe.id},this.renderDeptName(pe,c))),a.belleFlag&&O?t().createElement(Xe,{type:c,key:pe.id,cardInfo:pe,hasNext:!0,checkable:H&&(pe==null?void 0:pe.userCount)>H?!1:!(q&&pe.post_type==="post_group"||ve),single:ge,userCount:pe.userCount,isChecked:!!pe.isChecked,itemId:pe.id,title:this.renderDeptName(pe,c),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!pe.children,hidePosts:me,disableHidden:r}):t().createElement(ye,{type:c,key:pe.id,cardInfo:pe,hasNext:!0,checkable:H&&(pe==null?void 0:pe.userCount)>H?!1:!(q&&pe.post_type==="post_group"||ve),single:ge,userCount:pe.userCount,isChecked:!!pe.isChecked,itemId:pe.id,title:this.renderDeptName(pe,c),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!pe.children,hidePosts:me,disableHidden:r}))),Pe=[],Je=nt.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")].map(pe=>(Pe.push(t().createElement("div",{className:"title-item",key:pe.id},this.renderName(pe,c))),a.belleFlag&&O?t().createElement(Xe,{key:pe.id,hasNext:!1,title:this.renderName(pe),isChecked:!!pe.isChecked,itemId:pe.id,cardInfo:pe,checkable:!(pe.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:r}):t().createElement(ye,{key:pe.id,hasNext:!1,title:this.renderName(pe),isChecked:!!pe.isChecked,itemId:pe.id,cardInfo:pe,checkable:!(pe.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:r}))),ut=this.getIsCheckAll(),ht=t().createElement("div",{className:"org-tree-item"},t().createElement(ie.Z,{checked:ut,defaultChecked:!0,onClick:pe=>this.checkAll(pe,!ut)},m("common.all")));return t().createElement("div",{className:"".concat(this.context.oneDisplayType?"org-tree more-height":"org-tree"," ").concat(a.belleFlag&&O?"org-tree-belle":"")},!this.context.single&&this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&ue.length===0&&Je.length>0&&y||!this.context.single&&!this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&(ue.length>0||Je.length>0)&&y?ht:null,a.belleFlag&&O&&t().createElement("div",{className:"belle-title-scroll"},fe,Pe),ue,Je)}}xe.contextType=ce,xe.defaultProps={dataTypeKey:"dept",contextData:{},disableHidden:!1,scrollFlag:!1};var We=(0,ae.Z)()(xe),je=e(25547),He="999",rt=1,ot=["clusterList","classList"];class lt extends t().Component{constructor(P,y){var a;super(P);a=this,this.getClusterList=()=>{var s=_.ZP.OrgDialog.getClusterList(),m={keyword:""};Fe.WY.get({url:s,params:m}).then(c=>{this.context.initTypeList("clusterList","checkedCluster",c.data.data.map(r=>({name:r.name,userCount:r.user_count,id:r.id,parentId:[""]})))})},this.getClassList=()=>{this.context.initTypeList("classList","checkedClass",[{name:"\u6D4B\u8BD52",userCount:2,id:"2",parentId:[""]},{name:"\u6D4B\u8BD54",userCount:1,id:"41",parentId:[""]}])},this.flatTreeData=(s,m)=>(s.children.forEach(c=>{c.children&&(m[c.id]=c.children,this.flatTreeData(c,m))}),m),this.getDeptList=function(s){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Promise((c,r)=>{var O=a.state.cacheId;at({departmentId:s,cache_id:O,filter_auth:m&&!a.props.filterAuthOpen}).then(F=>{var H=F.data.children||[];H.forEach(q=>{q.parentId=F.data.id,q.userCount=q.user_count,q.name=q.department_name,q.all_name=t().createElement("span",null,a.state.contextData.breadNav.map(ve=>t().createElement("span",{key:ve.value},ve.label,"/")),q.department_name)});var me=[];a.context.asyncDeptTree?me=H:me=a.flatTreeData(F.data,{[F.data.id]:H}),a.setState({deptList:me}),a.context.initTypeList("deptList","checkedDept",H),c(F.data)}).catch(F=>{console.error(F),r(F)})})},this.getDeptUserList=function(s){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=a.state.cacheId;mt({departmentId:s,cache_id:c,filter_auth:m&&!a.props.filterAuthOpen}).then(r=>{r.data&&r.data.forEach(O=>{O.name=O.user_name,O.detailInfo=!1}),a.context.initTypeUser("deptUser",r.data)}).catch(r=>{console.error(r)})},this.getGroupList=()=>{var s=_.ZP.Organization.getGroupList(),m={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Fe.WY.get({url:s,params:m}).then(c=>{c.data.groups=c.data.groups||[],c.data.groups.forEach(r=>{r.parentId=this.state.contextData.breadNav.map(O=>O.value),r.userCount=r.user_count,r.name=r.group_name}),this.setState({groupList:c.data.groups}),this.context.initTypeList("groupList","checkedGroup",c.data.groups)})},this.getGroupUserList=s=>{var m=_.ZP.Organization.getGroupUserList({groupId:s}),c={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Fe.WY.get({url:m,params:c}).then(r=>{r.data.users&&r.data.users.forEach(O=>{O.name=O.user_name,O.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("groupUser",r.data.users)})},this.getPostList=s=>{var m=_.ZP.Organization.getPostTree(),c={filter_auth:!this.props.filterAuthOpen,post_id:s,user_type:this.context.userType};Fe.WY.get({url:m,params:c}).then(r=>{r.data.posts=r.data.posts||[],r.data.posts.forEach(O=>{O.parentId=this.state.contextData.breadNav.map(F=>F.value),O.userCount=O.user_count,O.name=O.post_name}),this.setState({postList:r.data.posts}),this.context.initTypeList("postList","checkedPost",r.data.posts),this.context.initHidePostsStatus(r.data.hide_posts==="true")})},this.getPostUserList=s=>{var m=_.ZP.Organization.getPostUserList({postId:s}),c={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Fe.WY.get({url:m,params:c}).then(r=>{r.data.users&&r.data.users.forEach(O=>{O.name=O.user_name,O.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("postUser",r.data.users)})},this.getUserList=function(s){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a.props.type==="dept"?a.getDeptUserList(s,m):a.props.type==="group"?a.getGroupUserList(s):a.getPostUserList(s)},this.checkOne=(s,m,c)=>{var r=this.state.checkedCount;if(m==="list"){var O=this.context[this.state.listType].find(H=>H.id===s);O.isChecked=c,O.all_name&&typeof O.all_name=="object"&&delete O.all_name,r=c?r+1:r-1,this.context.checkListOne(O,this.state.checkedListType,this.state.listType)}else if(m==="user"){var F=this.context[this.state.checkedUserType].find(H=>H.id===s);F.isChecked=c,r=c?r+1:r-1,this.context.checkUserOne(F,this.state.checkedUserType)}this.updateCheckedCount(r)},this.updateCheckedCount=s=>{this.setState({checkedCount:s})},this.checkAll=function(){var s=(0,G.Z)(T().mark(function m(c){var r,O,F,H,me,q,ve,ge,fe,ue,Pe,Je,ut,ht,pe;return T().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(r=a.state,O=r.contextData,F=r.cacheId,H=[...O.breadNav].reverse(),me=(0,K.Z)(H,1),q=me[0],ve=q.value,ge=[...a.context[a.state.checkedListType]],fe=q.authorized==="false",ue={departments:[],users:[]},!fe){Et.next=12;break}return Et.next=9,Ge({departmentId:ve,cache_id:F});case 9:Pe=Et.sent,Je=Pe.data,ue={departments:Je.departments.map(Ue=>(Ue.isChecked=c,Ue.name=Ue.department_name,Ue.parentId=Ue.parent_ids.split("/"),Ue.parentAuthorize=!1,Ue.userCount=Ue.user_count,Ue)),users:Je.users.map(Ue=>(Ue.isChecked=c,Ue.name=Ue.user_name,Ue.parentAuthorize=!1,Ue))};case 12:ut=a.context[a.state.listType].map(Ue=>{Ue.isChecked=c,a.props.type!=="dept"&&ge.forEach(Ct=>{Ct.parentId.indexOf("".concat(Ue.id))!==-1&&(Ct.isChecked=!1)});var yt=ge.findIndex(Ct=>Ct.id===Ue.id);return yt!==-1?ge[yt].isChecked=c:ge.push(Ue),Ue}),ht=[],a.context.checkedUser.forEach(Ue=>{if(a.props.type!=="dept"){if(typeof Ue.parentId!="undefined"&&Ue.parentId.indexOf("".concat(ve))!==-1&&Ue.parentId[Ue.parentId.length-1]!==ve)return}else{var yt=typeof Ue.parentId!="undefined"?Ue.parentId:Ue.department_ids||[];if(yt.indexOf(ve)!==-1)return}ht.push(Ue)}),pe=ot.includes(a.state.listType)?[]:a.context[a.state.checkedUserType].map(Ue=>{Ue.isChecked=c;var yt=ht.findIndex(Ct=>Ct.id===Ue.id);return yt!==-1?ht[yt].isChecked=c:ht.push(Ue),Ue}),a.context.toggleDisplayList(a.state.checkedListType,N()(ue.departments,ge,"id"),a.state.listType,ut,a.state.checkedUserType,pe,N()(ue.users,ht,"id")),a.setState({checkedCount:c?(ot.includes(a.state.listType)?0:a.context[a.state.checkedUserType].length)+a.context[a.state.listType].length:0});case 18:case"end":return Et.stop()}},m)}));return function(m){return s.apply(this,arguments)}}(),this.nextLevel=(s,m,c)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var r=[...this.state.contextData.breadNav,{value:s.id,label:m,authorized:s.authorized}];this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{breadNav:r})},()=>{this.props.type==="post"?this.nextPostLevel(s.id,c):this.props.type==="dept"?this.nextDeptLevel(s.id,!(U()(s,"authorized")&&s.authorized==="true")):this.context.initTypeList("groupList","checkedGroup",[]),this.getUserList(s.id===He?rt:s.id,!(U()(s,"authorized")&&s.authorized==="true"))})},this.nextDeptLevel=(s,m)=>{if(this.context.asyncDeptTree)this.getDeptList(s,m);else{var c=this.state.deptList[s];typeof c!="undefined"&&c.forEach(r=>{r.parentId=this.state.contextData.breadNav.map(O=>O.value),r.userCount=r.user_count,r.name=r.department_name}),this.context.initTypeList("deptList","checkedDept",c||[])}},this.nextPostLevel=(s,m)=>{if(m){var c=(0,je.lK)(this.state.postList,s),r=c.children.map(O=>(O.name=O.post_name,O.parentId=this.state.contextData.breadNav.concat([s]).map(F=>F.value),O.userCount=O.user_count,O));this.context.initTypeList("postList","checkedPost",r)}},this.changeLevel=(s,m,c)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var r=this.props.type==="group"?[this.state.contextData.breadNav[0]]:this.state.contextData.breadNav.slice(0,m+1);this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{breadNav:r}),isSearch:!1},()=>{this.props.type==="dept"?this.changeDeptLevel(s,c):this.props.type==="group"?this.changeGroupLevel(s):this.props.type==="cluster"?this.getClusterList():this.props.type==="class"?this.getClassList():this.changePostLevel(s)})},this.changeDeptLevel=function(s){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(a.context.asyncDeptTree)a.getDeptList(s,m);else{var c=a.state.deptList[s];c.forEach(r=>{r.parentId=a.state.contextData.breadNav.map(O=>O.value),r.userCount=r.user_count,r.name=r.department_name}),a.context.initTypeList("deptList","checkedDept",c)}a.getDeptUserList(s===He?rt:s,m)},this.changePostLevel=s=>{var m=s==="1"?this.state.postList:(0,je.lK)(this.state.postList,s).children,c=m.map(r=>(r.name=r.post_name,r.parentId=this.state.contextData.breadNav.concat([s]).map(O=>O.value),r.userCount=r.user_count,r));this.context.initTypeList("postList","checkedPost",c),s!=="1"&&this.getPostUserList(s===He?rt:s)},this.changeGroupLevel=s=>{s||(this.context.initTypeUser("groupUser",[]),this.context.initTypeList("groupList","checkedGroup",this.state.groupList))},this.state={postList:[],deptList:[],groupList:[],clusterList:[],classList:[],contextData:{breadNav:[this.props.defaultBreadNav],checkOne:this.checkOne,checkAll:this.checkAll,nextLevel:this.nextLevel,changeLevel:this.changeLevel},checkedCount:0,listType:"".concat(this.props.type,"List"),checkedListType:"checked".concat(this.props.type.charAt(0).toUpperCase()).concat(this.props.type.substr(1)),checkedUserType:"".concat(this.props.type,"User"),isSearch:!1,searchResult:[],loadDept:!1,loadUser:!1,cacheId:y.cacheId}}componentDidMount(){this.props.type!=="group"?this.props.type==="dept"?this.getDeptList("1").then(P=>{this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{breadNav:[{value:P.id,label:P.department_name,sourceType:P.source_type,authorized:P.authorized}]})}),this.getDeptUserList("1")}):this.getPostList("1"):this.getGroupList(1),this.props.type==="cluster"&&this.getClusterList(),this.props.type==="class"&&this.getClassList()}render(){return t().createElement(B.Provider,{value:this.state.contextData},t().createElement("div",{className:"org-display-container org-display-dept"},t().createElement(ct,null),this.props.type==="dept"&&(this.state.loadDept||this.state.loadUser)?t().createElement("div",{className:"dept-loading"},t().createElement(l.Z,null)):null,t().createElement(dt,{dataTypeKey:this.props.type,disableHidden:this.props.disableHidden,scrollFlag:this.props.scrollFlag})))}}lt.contextType=ce;var ct=(0,D.l)(B,Ke),dt=(0,D.l)(B,We);lt.defaultProps={defaultBreadNav:{value:"",label:"\u9177\u6E32\u79D1\u6280"},queryType:1,type:"dept",filterAuthOpen:!1,disableHidden:!1,scrollFlag:!1};var gt=lt,vt=e(57663),ft=e(71577),Ce=e(54549);class g extends t().Component{constructor(){super(...arguments);this.removeItem=(P,y,a,s)=>{P.preventDefault(),y.isChecked=!1,s==="user"?this.context.removeCheckedUser(y):this.context.checkListOne(y,a,"".concat(s,"List"))},this.displayName=(P,y)=>{var a={user:"userName",dept:"departmentName"}[P]||"",s={user:y.unionid||y.user_id||y.userId,dept:y.id}[P]||y.id;return t().createElement(Te.Z,{value:s,name:y.name,type:y.source_type||y.sourceType,dataType:a})},this.displayItem=P=>{var y=this.context,a=y.hidePosts,s=y.showUserCount,m="checked".concat(P.charAt(0).toUpperCase()).concat(P.substr(1)),c=this.context[m].map(r=>r.isChecked&&r.authorized!=="false"?t().createElement(Ie.Z,{key:r.id,placement:"top",title:r.all_name||"",getPopupContainer:()=>document.querySelector(".checked-display-container")},t().createElement("div",{className:"display-item",key:r.id},this.displayName(P,r),P==="user"||a&&P==="post"?"":s&&r.userCount>-1?"(".concat(r.userCount,")"):"",r.reserve?null:t().createElement("span",{className:"display-item-close",onClick:O=>this.removeItem(O,r,m,P)},t().createElement(Ce.Z,{style:{fontSize:"8px",color:"#afb5d2"}})))):null);return c},this.handleClearSelected=()=>{this.context.clearSelectedAll()}}render(){var P=this.props.t,y=["dept","group","post","user","cluster","class"].map(a=>this.displayItem(a));return t().createElement("div",{className:"checked-display-container"},t().createElement("div",{className:"checked-display-container-header"},t().createElement("span",null,P("orgDialog.selected"),":"),t().createElement(ft.Z,{type:"link",onClick:this.handleClearSelected},P("orgDialog.clearAll"))),y)}}g.contextType=ce;var v=(0,ae.Z)()(g),o=e(67222),i=e(6793),f=Y.Z.Search;class C extends t().Component{constructor(P){var y;super(P);y=this,this.onChange=a=>{var s=this.props.appType,m=localStorage.getItem("qyWechatBook");if(a.preventDefault(),this.setState({value:a.target.value}),!(!a.target.value&&!this.props.showCancel)&&!this.props.disableChange){var c=s==="wx_app"&&m==="true";!(0,Qe.eY)("ORG_DIALOG_SEARCH")||c||(0,i.Ds)(this.debounceChange,500)()}},this.handleSearch=(a,s)=>{s.preventDefault(),!(!a&&!this.props.showCancel)&&this.extendReturn(a)},this.debounceChange=()=>{this.extendReturn(this.state.value)},this.extendReturn=function(){var a=(0,G.Z)(T().mark(function s(m){var c,r,O,F,H,me,q,ve,ge;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(c=y.props,r=c.appType,O=c.selectType,F=c.appId,H=localStorage.getItem("qyWechatBook"),me="",q=r==="wx_app"&&H==="true"&&F==="9005",!(m&&O==="user"&&q)){ue.next=17;break}return ue.prev=5,ue.next=8,(0,o.F_)(m);case 8:ve=ue.sent,ge=ve.data,ge.success&&(me=ge.data),ue.next=17;break;case 13:ue.prev=13,ue.t0=ue.catch(5),console.error(ue.t0),me="";case 17:y.props.onSearch(m,me);case 18:case"end":return ue.stop()}},s,null,[[5,13]])}));return function(s){return a.apply(this,arguments)}}(),this.state={value:""}}render(){var P=this.props,y=P.t,a=P.selectType;return t().createElement("div",{className:"top-search"},t().createElement(f,{placeholder:y(a==="user"?"component.searchStudent":a==="dept"?"component.searchDepartment":a==="post"?"component.searchPost":a==="cluster"?"component.searchCluster":a==="class"?"component.searchClass":"setting.searchGroup"),value:this.state.value,onSearch:this.handleSearch,allowClear:!0,onChange:this.onChange}))}}var S=(0,Ve.$j)(z=>({appType:z.user.appType,appId:z.user.appId}))((0,ae.Z)()(C)),b=e(87312);class x extends Z.Component{constructor(){super(...arguments);this.checkedAll=(P,y)=>{this.props.checkedAll(y)},this.getIsCheckedAll=()=>{var P=this.props.list,y=[].concat(P);if(y.length===0)return!1;var a=y.findIndex(s=>!s.isChecked);return a===-1},this.checkUser=(P,y)=>{y.isChecked=!y.isChecked,this.context.checkUserOne(y,"checkedUser")},this.checkSingleUser=(P,y)=>{y.isChecked=!0,this.context.checkUserOne(y,"checkedUser")},this.checkDept=(P,y)=>{y.isChecked=!y.isChecked,this.context.checkListOne(y,"checkedDept","deptList")},this.checkPost=(P,y)=>{y.isChecked=!y.isChecked,this.context.checkListOne(y,"checkedPost","postList")},this.checkGroup=(P,y)=>{y.isChecked=!y.isChecked,this.context.checkListOne(y,"checkedGroup","groupList")},this.checkedCluster=(P,y)=>{y.isChecked=!y.isChecked,this.context.checkListOne(y,"checkedCluster","clusterList")}}renderList(){var P=this.props,y=P.userListType,a=P.list,s=P.t,m=P.isSingle,c=P.hidePosts;return y==="user"&&!m?a.map(r=>t().createElement("div",{className:"search-result-item",key:r.id,onClick:O=>{this.checkUser(O,r)}},t().createElement(ie.Z,{checked:r.isChecked},t().createElement(I,{cardInfo:r},t().createElement("span",{className:"user-names"},t().createElement(Te.Z,{dataType:"userName",value:r.user_id,name:r.user_name,type:r.source_type}))),r.department_names&&r.department_names.length>0?t().createElement("span",{className:"user-dept"},t().createElement(tt.Z,{sourceType:r.source_type,list:r.leaf_department_ids,nameList:r.department_names})):null))):y==="user"&&m?a.map(r=>t().createElement("div",{className:"search-result-item",key:r.id,onClick:O=>{this.checkSingleUser(O,r)}},t().createElement("div",{className:"user-name"},t().createElement(I,{cardInfo:r},t().createElement(Te.Z,{dataType:"userName",value:r.user_id,name:r.user_name,type:r.source_type}))),r.department_names&&r.department_names.length>0?t().createElement("span",{className:"user-name-dept"},t().createElement(tt.Z,{sourceType:r.source_type,list:r.leaf_department_ids,nameList:r.department_names})):null)):y==="dept"?a.map(r=>t().createElement("div",{className:"search-result-dept-item",key:r.id,onClick:O=>{this.checkDept(O,r)}},t().createElement(ie.Z,{checked:r.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},t().createElement(Te.Z,{dataType:"departmentName",value:r.id,name:r.department_name,type:r.source_type})),r.path&&r.path.length>0?t().createElement(Ie.Z,{title:r.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement(tt.Z,{list:r.department_infos||[],displayAll:!0}))):null)),t().createElement("div",{className:"department-right"},"(",r.userCount,s("common.userUnit"),")"))):y==="post"?a.map(r=>t().createElement("div",{className:"search-result-dept-item",key:r.id,onClick:O=>{this.checkPost(O,r)}},t().createElement(ie.Z,{checked:r.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},r.name),r.path&&r.path.length>0?t().createElement(Ie.Z,{title:r.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement("span",null,r.path.join(">")))):null)),!c&&t().createElement("div",{className:"department-right"},"(",r.userCount,s("common.userUnit"),")"))):y==="group"?a.map(r=>t().createElement("div",{className:"search-result-dept-item",key:r.id,onClick:O=>{this.checkGroup(O,r)}},t().createElement(ie.Z,{checked:r.isChecked,className:"department-left"},t().createElement("div",{className:"department-left-department"},t().createElement("div",{className:"user-name"},r.name),r.path&&r.path.length>0?t().createElement(Ie.Z,{title:r.path.join(">"),mouseEnterDelay:.8},t().createElement("span",{className:"user-name-dept"},t().createElement("span",null,r.path.join(">")))):null)),t().createElement("div",{className:"department-right"},"(",r.userCount,s("common.userUnit"),")"))):y==="cluster"?a.map(r=>t().createElement("div",{className:"search-result-dept-item",key:r.id,onClick:O=>{this.checkedCluster(O,r)}},t().createElement(ie.Z,{checked:r.isChecked,className:"department-left"},t().createElement("span",{className:"user-name"},r.name)),t().createElement("div",{className:"department-right"},"(",r.userCount,s("common.userUnit"),")"))):null}render(){var P=this.props,y=P.t,a=P.isSingle,s=this.getIsCheckedAll(),m=t().createElement("div",{className:"search-result-all"},t().createElement(ie.Z,{checked:s,onClick:c=>this.checkedAll(c,!s)},y("common.all")));return t().createElement("div",{className:"search-result-container more-height"},this.props.list.length>0?t().createElement(t().Fragment,null,!a&&m,this.renderList()):t().createElement(b.Z,{tipText:y("component.searchUserEmpty")}))}}x.contextType=ce,x.defaultProps={list:[]};var J=(0,ae.Z)()(x),X=e(18329),re=e(65202),V=e(91648),$=E.Z.TabPane,he=n.Z.Option,De={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0 20px"},maskClosable:!1};class Me extends t().Component{constructor(P){var y;super(P);y=this,this.onCancel=()=>{var a=this.props.onCancel;this.setState({showCancel:!1}),a&&this.props.onCancel()},this.onOk=()=>{var a=this.props.onOk,s=this.state.contextData;this.setState({showCancel:!1});var m=0;if(a){var c=[];s.checkedDept.map(q=>(m+=q.isChecked?q.user_count:0,q.isChecked&&q.authorized!=="false"?c.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"dept"})):null));var r=[];s.checkedPost.map(q=>(m+=q.isChecked?q.user_count:0,q.isChecked?r.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"post"})):null));var O=[];s.checkedGroup.map(q=>(m+=q.isChecked?q.user_count:0,q.isChecked?O.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"group"})):null));var F=[];s.checkedUser.map(q=>{if(!q.reserve)return m+=q.isChecked?1:0,q.isChecked?F.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"user"})):null});var H=[];s.checkedCluster.map(q=>{if(!q.reserve)return m+=q.isChecked?1:0,q.isChecked?H.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"cluster"})):null});var me=[];if(s.checkedClass.map(q=>{if(!q.reserve)return m+=q.isChecked?1:0,q.isChecked?me.push((0,d.Z)((0,d.Z)({},q),{},{renderType:"class"})):null}),m>this.props.maxUserCount){R.default.warn(this.props.beyondLimitTip);return}a({dept:c,post:r,group:O,user:F,cluster:H,classes:me})}},this.getListParentId=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];s.forEach(ve=>{ve.isChecked=!0,ve.parentId=[""],ve.userCount=ve.userCount||ve.user_count||0});var F=a.map(ve=>ve.id),H=c.map(ve=>ve.id);if(F||H){var me=_.ZP.OrgDialog.getDeptParent(),q={query_type:1,dept_ids:F,user_ids:H};Fe.WY.post({url:me,data:(0,d.Z)({},q)}).then(ve=>{var ge=ve.data.data;a.forEach(fe=>{fe.isChecked=!0;var ue=ge.find(Pe=>Pe.id===fe.id)||{path:[]};fe.parentId=ue.path[0]?ue.path[0].split("/").slice(1):[],fe.userCount=ue.user_count||fe.userCount||fe.user_count||0}),m.forEach(fe=>{fe.isChecked=!0;var ue=ge.find(Pe=>Pe.id===fe.id)||{path:[]};fe.parentId=ue.path[0]?ue.path[0].split("/").slice(1):[],fe.userCount=fe.userCount||fe.user_count||0}),c.forEach(fe=>{fe.isChecked=!0;var ue=[];ge.forEach(Pe=>{Pe.id===fe.id&&Pe.path.map(Je=>{ue.push(...Je.split("/").slice(1))})}),fe.parentId=Array.from(new Set(ue))}),r.forEach(fe=>{fe.isChecked=!0;var ue=ge.find(Pe=>Pe.id===fe.id)||{path:[]};fe.parentId=ue.path[0]?ue.path[0].split("/").slice(1):[],fe.userCount=fe.userCount||fe.user_count||0}),O.forEach(fe=>{fe.isChecked=!0;var ue=ge.find(Pe=>Pe.id===fe.id)||{path:[]};fe.parentId=ue.path[0]?ue.path[0].split("/").slice(1):[],fe.userCount=fe.userCount||fe.user_count||0}),y.setState({contextData:(0,d.Z)((0,d.Z)({},y.state.contextData),{},{checkedDept:a,checkedGroup:s,checkedPost:m,checkedUser:c,checkedCluster:r,checkedClass:O})})})}else s.length>0?y.setState({contextData:(0,d.Z)((0,d.Z)({},y.state.contextData),{},{checkedGroup:s})}):y.setState({contextData:(0,d.Z)((0,d.Z)({},y.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[]})})},this.initHidePostsStatus=a=>{var s=this.state.contextData;this.setState({contextData:(0,d.Z)((0,d.Z)({},s),{},{hidePosts:a})})},this.initTypeList=(a,s,m)=>{m.forEach(c=>{var r=this.findItemIndex(c.id,s);r===-1?c.isChecked=!1:c.isChecked=this.state.contextData[s][r].isChecked}),this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{[a]:m})})},this.initTypeUser=(a,s)=>{var m=s||[...this.state.contextData[a]],c=this.props.reserveUser;m.forEach(r=>{var O=this.findItemIndex(r.id,"checkedUser");c.findIndex(F=>F.id===r.id)!==-1&&(r.reserve=!0),O===-1?r.isChecked=!1:r.isChecked=this.state.contextData.checkedUser[O].isChecked}),this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{[a]:m})})},this.toggleDisplayItem=(a,s)=>{var m=this.findItemIndex(a.id,s);return m===-1?s.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[s]:this.checkListParentId(s,a),checkedUser:a.isChecked?this.checkParentId(this.state.contextData.checkedUser,a.id):this.state.contextData.checkedUser}:{[s]:[...this.state.contextData[s],a]}:s.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[s]:this.checkListParentId(s,a),checkedUser:a.isChecked?this.checkParentId(this.state.contextData.checkedUser,a.id):this.state.contextData.checkedUser}:{checkedUser:this.getNewList(a,"checkedUser",!0),[s]:this.getNewList(a,s)}},this.toggleDisplayList=(a,s,m,c,r,O,F)=>{this.deleteAllName(s),this.deleteAllName(c),this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{[a]:s,[m]:c,[r]:O,checkedUser:F})})},this.deleteAllName=a=>{a.map(s=>(s.all_name&&typeof s.all_name=="object"&&delete s.all_name,s))},this.checkUserOne=(a,s)=>{this.props.single?this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{checkedUser:[a],[s]:s==="checkedUser"?[a]:this.getSingleUserList(a,s)})}):this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),this.toggleDisplayItem(a,s))})},this.dealAuthorizedFalseChecked=function(){var a=(0,G.Z)(T().mark(function s(m){var c,r,O,F,H,me,q,ve,ge;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return c=y.state.contextData,r=c.cacheId,O=c.checkedDept,F=c.checkedUser,H={checkedDept:[],checkedUser:[]},ue.prev=2,ue.next=5,Ge({departmentId:m.id,cache_id:r});case 5:me=ue.sent,q=me.data,ve=q.departments,ge=q.users,ve.push(m),ve.map(Pe=>(Pe.isChecked=!0,Pe.name=Pe.department_name,Pe.parentId=Pe.parent_ids.split("/"),Pe.parentAuthorize=!1,Pe.userCount=Pe.user_count,Pe)),ge.map(Pe=>(Pe.isChecked=!0,Pe.name=Pe.user_name,Pe.parentAuthorize=!1,y.toggleDisplayItem(Pe,"deptUser"),Pe)),H=(0,d.Z)((0,d.Z)({},H),{},{checkedUser:N()(ge,F,"id"),checkedDept:N()(ve,O,"id")}),ue.next=16;break;case 13:ue.prev=13,ue.t0=ue.catch(2),console.error("\u83B7\u53D6\u90E8\u95E8\u7BA1\u8F96\u8303\u56F4\u51FA\u9519",ue.t0);case 16:return ue.abrupt("return",H);case 17:case"end":return ue.stop()}},s,null,[[2,13]])}));return function(s){return a.apply(this,arguments)}}(),this.dealAuthorizedFalseUnChecked=a=>{var s=this.state.contextData,m=s.checkedDept,c=s.checkedUser,r=s.deptUser,O=[],F=m.filter(me=>me.parent_ids.split("/").indexOf(a.id)===-1),H=c.filter(me=>{var q=me.department_ids.indexOf(a.id)===-1;return q||O.push(me.id),q});return{checkedDept:F,checkedUser:H,deptUser:O.length>0?r.map(me=>(O.indexOf(me.id)>-1&&(me.isChecked=!1),me)):r}},this.checkListOne=function(){var a=(0,G.Z)(T().mark(function s(m,c,r){var O;return T().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(O={checkedDept:[],checkedUser:[]},!(m.authorized==="false"&&c==="checkedDept")){H.next=12;break}if(!m.isChecked){H.next=8;break}return H.next=5,y.dealAuthorizedFalseChecked(m);case 5:H.t0=H.sent,H.next=9;break;case 8:H.t0=y.dealAuthorizedFalseUnChecked(m);case 9:O=H.t0,H.next=14;break;case 12:m.parentAuthorize===!1&&m.isChecked===!1&&y.unCheckedParentDept(m,c),O=(0,d.Z)({[r]:y.getNewList(m,r,!1)},y.toggleDisplayItem(m,c));case 14:y.setState({contextData:(0,d.Z)((0,d.Z)({},y.state.contextData),O)});case 15:case"end":return H.stop()}},s)}));return function(s,m,c){return a.apply(this,arguments)}}(),this.removeCheckedUser=a=>{this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{checkedUser:this.getNewList(a,"checkedUser"),deptUser:this.getNewList(a,"deptUser"),postUser:this.getNewList(a,"postUser"),groupUser:this.getNewList(a,"groupUser"),searchResult:this.getNewList(a,"searchResult")})})},this.unCheckedParentDept=(a,s)=>{var m=this.state.contextData.checkedDept,c=m.filter(F=>F.authorized==="false"&&s==="checkedUser"?a.department_ids.indexOf(F.id)>-1:s==="checkedDept"?a.parentId.indexOf(F.id)>-1:!1),r=(0,K.Z)(c,1),O=r[0];O&&(O.isChecked=!1,this.toggleDisplayItem(O,"checkedDept"),this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{checkedDept:c})}))},this.checkListParentId=(a,s)=>{var m=[...this.state.contextData[a]],c=this.findItemIndex(s.id,a);return m.forEach(r=>{r.id!==s.id&&r.parentId.indexOf("".concat(s.id))!==-1?r.isChecked=!1:r.id===s.id&&(r.isChecked=s.isChecked)}),c===-1&&m.push(s),m},this.checkParentId=(a,s)=>{var m=[];return a.forEach(c=>{var r=typeof c.parentId!="undefined"?c.parentId:c.department_ids||[];r.indexOf(s)===-1&&m.push(c)}),m},this.getNewList=(a,s,m)=>{var c=[...this.state.contextData[s]],r=this.findItemIndex(a.id,s);return r===-1?m&&c.push(a):c[r].isChecked=a.isChecked,c},this.getSingleUserList=(a,s)=>{var m=[...this.state.contextData[s]];return m.forEach(c=>{c.id===a.id?c.isChecked=a.isChecked:c.isChecked=!1}),m},this.findItemIndex=(a,s)=>this.state.contextData[s].findIndex(m=>m.id===a),this.clearTabPanelList=(a,s)=>{this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{[a]:[],[s]:[]})})},this.getTabs=()=>{var a=[],s,m,c=this.props,r=c.t,O=c.filterAuthOpen,F=c.disableHidden,H=c.scrollFlag,me=this.state.contextData,q=me.canUseGroups,ve=me.canUseClass;return this.state.displayType.forEach(ge=>{switch(ge){case"dept":a.push({label:r("component.orgDialogDeptLabel"),key:"dept",defaultBreadNav:{value:"",label:"",sourceType:""},queryType:1});break;case"group":a.push({label:r("component.orgDialogGroupLabel"),key:"group",queryType:2,defaultBreadNav:{value:"",label:r("component.userGroup")}});break;case"post":a.push({label:r("component.orgDialogPostLabel"),key:"post",defaultBreadNav:{value:"1",label:r("common.post")},queryType:3});break;case"cluster":q&&a.push({label:r("component.orgDialogClusterLabel"),key:"cluster",defaultBreadNav:{value:"",label:""},queryType:4});break;case"class":ve&&a.push({label:r("component.orgDialogClassLabel"),key:"class",defaultBreadNav:{value:"",label:""},queryType:5});break}}),a.length===1?m=t().createElement(gt,{defaultBreadNav:a[0].defaultBreadNav,queryType:a[0].queryType,type:a[0].key,filterAuthOpen:O,disableHidden:F,scrollFlag:H}):(s=a.map(ge=>t().createElement($,{tab:ge.label,key:ge.key},t().createElement(gt,{defaultBreadNav:ge.defaultBreadNav,queryType:ge.queryType,type:ge.key,filterAuthOpen:O,disableHidden:F,scrollFlag:H}))),m=t().createElement(E.Z,null,s)),m},this.handleSearch=(a,s)=>{var m=this.state.selectType;m==="user"?this.getUserList(a,s):m==="dept"?this.getDeptList(a):m==="post"?this.getPostList(a):m==="cluster"?this.getClusterResult(a):m==="class"?this.getClassResult(a):this.getGroupList(a)},this.getClusterResult=a=>{var s=_.ZP.OrgDialog.getClusterList(),m={keyword:a};Fe.WY.get({url:s,params:m}).then(c=>{this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedCluster",c.data.data.map(r=>({name:r.name,userCount:r.user_count,id:r.id,parentId:[""]})))})},this.getUserList=(a,s)=>{var m=_.ZP.OrgDialog.getUserByName(),c={user_name:s===""?a:"",filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType,userIds:s};Fe.WY.get({url:m,params:c}).then(r=>{r.data.users&&r.data.users.forEach(O=>{O.name=O.user_name}),this.setState({showCancel:!0}),this.initTypeUser("searchResult",r.data.users||[])})},this.getDeptList=a=>{var s=_.ZP.Organization.queryDept(),m={department_name:a,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Fe.WY.get({url:s,params:m}).then(c=>{c.data.departments&&c.data.departments.forEach(r=>{r.name=r.department_name,r.parentId=r.parent_ids?r.parent_ids.split("/"):[],r.userCount=r.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedDept",c.data.departments||[])})},this.getPostList=a=>{var s=_.ZP.Organization.addPost(),m={post_name:a,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Fe.WY.get({url:s,params:m}).then(c=>{c.data.posts&&c.data.posts.forEach(r=>{r.name=r.post_name,r.parentId=r.parent_id?r.parent_id.split("/"):[],r.userCount=r.user_count}),this.setState({hidePosts:c.data.hide_posts,showCancel:!0}),this.initTypeList("searchResult","checkedPost",c.data.posts||[])})},this.getGroupList=a=>{var s=_.ZP.Organization.getGroupList(),m={group_name:a,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Fe.WY.get({url:s,params:m}).then(c=>{c.data.groups&&c.data.groups.forEach(r=>{r.name=r.group_name,r.parentId=r.parent_id?r.parent_id.split("/"):[],r.userCount=r.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedGroup",c.data.groups||[])})},this.checkAllResult=a=>{var s=this.state,m=s.selectType,c=s.contextData,r="checked".concat(m.charAt(0).toUpperCase()).concat(m.substr(1)),O=[...c[r]],F=c.searchResult.map(me=>{me.isChecked=a;var q=O.findIndex(ve=>ve.id===me.id);return q!==-1?O[q].isChecked=a:O.push(me),me}),H=O;this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{[r]:H,searchResult:F})})},this.clearSelectedAll=()=>{var a=this.state.contextData,s=a.checkedDept,m=a.checkedGroup,c=a.checkedPost,r=a.checkedUser,O=a.checkedCluster,F=a.checkedClass,H=a.deptList,me=a.groupList,q=a.postList,ve=a.clusterList,ge=a.classList,fe=a.deptUser,ue=a.groupUser,Pe=a.postUser,Je=ut=>(ut.forEach(ht=>{ht.isChecked=!1}),ut);this.setState({contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],deptList:s.length>0?Je(H):H,groupList:m.length>0?Je(me):me,postList:c.length>0?Je(q):q,clusterList:O.length>0?Je(ve):ve,classList:F.length>0?Je(ge):ge,deptUser:r.length>0?Je(fe):fe,groupUser:r.length>0?Je(ue):ue,postUser:r.length>0?Je(Pe):Pe})})},this.handleCancel=()=>{this.setState({showCancel:!1})},this.handleSelectChange=a=>{this.setState({selectType:a,contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{searchResult:[]})})},this.state={title:P.title||P.t("component.chooseAssignScope"),displayType:P.displayType?P.displayType:["dept"],selectType:"user",showCancel:!1,hidePosts:!1,contextData:{showUserCount:P.showUserCount,deptList:[],groupList:[],postList:[],clusterList:[],classList:[],deptUser:[],groupUser:[],postUser:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[],onlyUser:P.onlyUser,onlyDept:P.onlyDept,onlyPost:P.onlyPost,canUseGroups:P.useGroups,canUseClass:P.useClass,single:P.single,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,userType:this.props.userType,initTypeList:this.initTypeList,initTypeUser:this.initTypeUser,toggleDisplayItem:this.toggleDisplayItem,toggleDisplayList:this.toggleDisplayList,checkListOne:this.checkListOne,checkUserOne:this.checkUserOne,removeCheckedUser:this.removeCheckedUser,clearTabPanelList:this.clearTabPanelList,maxDeptUserCount:P.maxDeptUserCount,hidePosts:!1,initHidePostsStatus:this.initHidePostsStatus,cacheId:(0,V.Z)(),clearSelectedAll:this.clearSelectedAll}}}componentDidUpdate(P){if(P.visible!==this.props.visible&&this.props.visible){var y=this.props.initData,a=y.dept,s=y.group,m=y.post,c=y.user,r=y.cluster,O=y.classes;console.warn(c,"user");var F=this.props,H=F.reserveUser,me=F.t,q=F.onlyDept,ve=F.onlyPost;H.forEach(ge=>{ge.reserve=!0}),this.setState({title:this.props.title||me("component.chooseAssignScope"),displayType:this.props.displayType?this.props.displayType:["dept"],selectType:ve?"post":q?"dept":"user",contextData:(0,d.Z)((0,d.Z)({},this.state.contextData),{},{deptList:[],groupList:[],postList:[],deptUser:[],clusterList:[],classList:[],groupUser:[],postUser:[],searchResult:[],onlyUser:this.props.onlyUser,onlyDept:this.props.onlyDept,canUseGroups:this.props.useGroups,canUseClass:this.props.useClass,onlyPost:this.props.onlyPost,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,cacheId:(0,V.Z)()})},()=>{this.getListParentId(a,s,m,c.concat(H),r,O)})}}componentWillUnmount(){it({cacheId:this.state.contextData.cacheId}).then(()=>{console.warn("\u6E05\u9664\u7F13\u5B58\u6210\u529F")}).catch(P=>{console.error("\u6E05\u9664\u7F13\u5B58\u5931\u8D25",P)})}render(){var P=this.getTabs(),y=this.props,a=y.t,s=y.onlyUser,m=y.onlyDept,c=y.onlyPost,r=y.displayType,O=y.useGroups,F=y.useClass,H=y.onlyChoosePost,me=(0,re.p)(),q=this.state,ve=q.showCancel,ge=q.selectType,fe=q.hidePosts;return De.okText=this.props.okText||a("common.ok"),t().createElement(X.ZP,(0,w.Z)({},De,this.props.modalConfig,{visible:this.props.visible,title:this.state.title,wrapClassName:[this.props.className,"cl-org-modal"],onCancel:this.onCancel,onOk:this.onOk}),t().createElement(ce.Provider,{value:this.state.contextData},t().createElement("div",{className:"cl-org"},t().createElement("div",{className:"cl-org-left"},this.props.visible?t().createElement("div",{className:"cl-org-left__top"},t().createElement(Y.Z.Group,{compact:!0},t().createElement(n.Z,{className:"cl-org-left__top__select",value:ge,style:{width:80},onChange:this.handleSelectChange},t().createElement(he,{value:"user",disabled:m||c||H},a("authGroup.userLabel")),t().createElement(he,{value:"dept",disabled:s||H},a("setting.deptLabel")),t().createElement(he,{value:"post",disabled:!c&&(m||s)||r.length===1},a("common.post")),t().createElement(he,{value:"group",disabled:m||s||r.length===1||H},a("component.userGroup")),O?t().createElement(he,{value:"cluster"},a("component.useCluster")):null,F?t().createElement(he,{value:"class"},a("component.useClass")):null),t().createElement(S,{selectType:ge,onSearch:this.handleSearch,showCancel:ve,disableChange:this.props.disableChange})),ve?t().createElement("div",{className:"cl-org-left__top__cancel",onClick:this.handleCancel,style:{color:me}},a("common.cancel")):null):null,ve?t().createElement(J,{isSingle:this.props.single,list:this.state.contextData.searchResult,userListType:ge,checkedAll:this.checkAllResult,hidePosts:fe}):P),t().createElement("div",{className:"cl-org-right"},t().createElement(v,null)))))}}Me.defaultProps={visible:!0,showUserCount:!0,displayType:["dept","group","post","cluster","class"],initData:{dept:[],post:[],group:[],user:[],cluster:[],classes:[]},reserveUser:[],onlyUser:!1,onlyDept:!1,onlyPost:!1,useGroups:!1,useClass:!1,asyncDeptTree:!0,userType:"active",single:!1,maxUserCount:Infinity,filterAuthOpen:!1,disableHidden:!1,beyondLimitTip:"",onOk:()=>{},modalConfig:{},maxDeptUserCount:0,onlyChoosePost:!1,scrollFlag:!1};var Be=(0,ae.Z)()(Me)},72387:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(84874);class K extends L().PureComponent{constructor(A){super(A);this.onPrev=()=>{var R=this.state.activeIndex;this.setState({activeIndex:R<=0?0:R-1})},this.onNext=()=>{var R=this.props.imgList,d=this.state.activeIndex;this.setState({activeIndex:R.length<=d+1?d:d+1})},this.state={activeIndex:A.defaultActive}}componentDidUpdate(A){A.visible!==this.props.visible&&this.props.visible&&this.setState({activeIndex:this.props.defaultActive})}render(){var A=this.props,R=A.visible,d=A.imgList,p=this.state.activeIndex;return L().createElement("div",{className:"preview-img-mask",style:{display:R?"block":"none"}},L().createElement("div",{className:"preview-img-bg"},L().createElement("div",{className:"preview-img"},L().createElement("img",{src:d[p]}),L().createElement("span",{className:"preview-img-close",onClick:this.props.onClose},L().createElement(Y.Z,{iconClass:"iconf-close"})))),p>=1?L().createElement("span",{className:"preview-img-left",onClick:this.onPrev},L().createElement(Y.Z,{iconClass:"iconf-arrow-left",size:"20px"})):null,p<=d.length-2?L().createElement("span",{className:"preview-img-right",onClick:this.onNext},L().createElement(Y.Z,{iconClass:"iconf-arrow-right",size:"20px"})):null)}}K.defaultProps={visible:!1,imgList:[],defaultActive:0,onClose:()=>{}},oe.Z=K},99891:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(28216),K=e(91768),G=e(37055),A=e(10237),R=e(60667);class d extends L().PureComponent{constructor(u){super(u);this.getWaterMarkText=E=>{var M=this.props.userInfo,T=M.jobNumber,Z=localStorage.getItem("waterMarkPostName"),t=[],ae=E.find(N=>N.type==="content_setting"),j=E.find(N=>N.type==="content_custom");return ae.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),j.param.checked==="true"&&j.param.comment[0]!==""&&this.setState({commentText:j.param.comment[0]}),ae.param.comment.indexOf("position")!==-1&&Z&&Z!==""&&t.push("".concat(Z)),ae.param.comment.indexOf("jobnumber")!==-1&&T&&T!==""&&t.push("".concat(T)),t.join("-")},this.getWaterMarkApplication=E=>{var M=this.props.scenes,T=E.find(Z=>Z.type==="application_scenario");T.param.comment.indexOf(M)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=E=>{var M=E.find(T=>T.type==="dispersive");this.setState({isDispersive:M.param.checked==="true"})},this.getDynamicSet=()=>{var E=G.ZP.advancedSetting.dynamicWaterMarkNew(),M={access_token:window.localStorage.getItem("token")};A.WY.get({url:E,params:M}).then(T=>{var Z=JSON.parse(T.data.actions);this.setState({waterMarkText:this.getWaterMarkText(Z),actions:Z}),this.getWaterMarkApplication(Z),this.getWaterIsDispersive(Z)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var u=localStorage.getItem("waterMarkPostName");u===""||u===null?this.getPostName():this.getDynamicSet()}getPostName(){var u=G.ZP.advancedSetting.getPostName();A.WY.get({url:u}).then(E=>{localStorage.setItem("waterMarkPostName",E.data.post_names[0]||""),this.getDynamicSet()})}render(){var u=this.state,E=u.showWaterMark,M=u.waterMarkCount,T=u.isUserName,Z=u.isDispersive,t=u.waterMarkText,ae=u.actions,j=u.commentText,N=this.props.userInfo,W=N.name,l=N.unionid,h=N.sourceType;return L().createElement("div",{className:"common-watermark"},E&&new Array(M).fill(0).map((U,D)=>L().createElement("div",{key:D,className:"common-watermark-item ".concat(Z?"isDispersive":"")},L().createElement("span",{className:"common-watermark-item-content"},j!==""&&L().createElement("span",{className:"item-part"},j),T&&L().createElement("span",null,j!==""&&L().createElement("span",null,"-"),L().createElement(R.Z,{dataType:"userName",value:l,name:W,type:h})),L().createElement("span",{className:"item-part"},(T||j!=="")&&t!==""&&L().createElement("span",null,"-"),t)))))}}var p=n=>({userInfo:n.user});oe.Z=(0,Y.$j)(p)((0,K.Z)()(d))},87143:function(be,oe,e){"use strict";var w=e(57338),L=e(83107),Y=e(54029),K=e(62529),G=e(20228),A=e(11382),R=e(57663),d=e(71577),p=e(13062),n=e(71230),u=e(22385),E=e(31097),M=e(89032),T=e(15746),Z=e(34792),t=e(48086),ae=e(43358),j=e(34041),N=e(71153),W=e(60331),l=e(12924),h=e.n(l),U=e(91768),D=e(59239),_=e(55446),k=e.n(_),B=e(49101),Q=e(6793),ce=e(28531),de=e(87312),Oe=e(63521),Te=W.Z.CheckableTag,Ae=j.Z.Option;class Ke extends h().Component{constructor(ie){super(ie);this.onAddCancel=le=>{this.setState({addVisible:!1}),le!==""&&le&&this.getTagListByGroupData(le)},this.onAddOpen=()=>{this.setState({addVisible:!0})},this.onSubmit=()=>{this.props.onOk(this.state.selectTagsList),this.onClearTags()},this.onClearTag=(le,ne)=>{le.preventDefault(),this.handleChangeTag(ne,!1)},this.onClearTags=()=>{this.setState({selectTagsList:[],selectTagKey:[],selectGroupKey:[]})},this.getTagGroupData=()=>{(0,ce.VL)(this.props.status).then(le=>{this.setState({tagsGroupList:le.data||[]}),le.data&&le.data.length>0&&this.getTagListByGroupData(le.data[0].id)})},this.getTagListByGroupData=le=>{this.setState({groupId:le}),(0,ce.BY)(le,this.props.status).then(ne=>{this.setState({tagData:ne.data.group_tag_vo_list})})},this.handleTagsCancel=()=>{this.setState({inputSelectedTags:this.props.selectedAllTags,searchVal:"",tagsGroupList:[],tagData:[],searchTagsList:[],selectTagsList:[],isLoadingSearch:!1}),this.props.onCancel()},this.handleChangeTag=(le,ne)=>{var Ee=!0;ne?this.checkTag(le)&&this.setState(Ie=>({selectTagsList:[...Ie.selectTagsList,le],selectTagKey:[...Ie.selectTagKey,le.tag_id],selectGroupKey:[...Ie.selectGroupKey,le.group_id]})):this.setState(Ie=>({selectTagsList:Ie.selectTagsList.filter($e=>$e.tag_id!==le.tag_id),selectTagKey:Ie.selectTagKey.filter($e=>$e!==le.tag_id),selectGroupKey:Ie.selectGroupKey.filter($e=>{var Ze=Ee&&$e===le.group_id;return $e===le.group_id&&(Ee=!1),!Ze})}))},this.checkTag=le=>{var ne=this.state,Ee=ne.selectTagsList,Ie=ne.selectGroupKey,$e=ne.selectTagKey,Ze=this.props,ze=Ze.t,et=Ze.maxNum,se=Ze.canSingle;return le.tag_id?Ee.length===et?(t.default.destroy(),t.default.error((0,Q.ZT)("".concat(ze("tagManage.limitTip")),et)),!1):$e.indexOf(le.tag_id)!==-1?(t.default.destroy(),t.default.error(ze("tagManage.hasTag")),!1):se&&Ie.indexOf(le.group_id)!==-1?(t.default.destroy(),t.default.error(ze("tagManage.groupLimit")),!1):!0:(t.default.destroy(),t.default.error(ze("tagManage.errorTagId")),!1)},this.handleSearchTagsList=le=>{this.setState({searchTagsList:[],isLoadingSearch:!0}),(0,ce.Mj)((0,Q.fy)(le),this.props.status).then(ne=>{this.setState({searchTagsList:ne.data,isLoadingSearch:!1})})},this.handleSelectChange=(le,ne)=>{this.setState({searchVal:le}),this.checkTag({tag_id:ne.key})&&this.setState(Ee=>({selectTagsList:[...Ee.selectTagsList,{group_id:ne.titleTemp,group_name:ne.titleTempText,tag_id:ne.key,tag_name:ne.label}],selectGroupKey:[...Ee.selectGroupKey,ne.titleTemp],selectTagKey:[...Ee.selectTagKey,ne.key]}))},this.computeGroupNmu=le=>{var ne=this.state.selectGroupKey,Ee=0;return ne.forEach(Ie=>{Ie===le&&(Ee+=1)}),Ee},this.renderTagsFooter=()=>{var le=this.state.selectTagsList,ne=this.props,Ee=ne.prefixCls,Ie=ne.t,$e=ne.maxNum,Ze=localStorage.getItem("themeColor")||"#465dcd";return h().createElement(h().Fragment,null,h().createElement(n.Z,{className:"".concat(Ee,"__result")},h().createElement(T.Z,{span:4},h().createElement("span",{className:"selectTitle"},"".concat(Ie("component.selected"),"(").concat(le.length,"/").concat($e,"):"))),h().createElement(T.Z,{span:18,className:"".concat(Ee,"__result__center")},le.map(ze=>h().createElement(E.Z,{key:ze.tag_id,title:"".concat(ze.tag_name).concat(ze.tag_group_name?"("+ze.tag_group_name+")":"")},h().createElement(W.Z,{closable:!0,className:"".concat(Ee,"__tagList"),onClose:et=>this.onClearTag(et,ze)},h().createElement("span",{className:"".concat(Ee,"__tagNameText")},ze.tag_name))))),h().createElement(T.Z,{span:2,className:"".concat(Ee,"__delete")},h().createElement("span",{style:{color:"".concat(le.length>0?Ze:"rgba(0,0,0,0.25)","  ")},onClick:this.onClearTags},Ie("common.clear")))),h().createElement(n.Z,{className:"".concat(Ee,"__action")},h().createElement(T.Z,{span:24},h().createElement(d.Z,{onClick:this.handleTagsCancel},Ie("common.cancel")),h().createElement(d.Z,{type:"primary",onClick:this.onSubmit},Ie("common.ok")))))},this.state={searchVal:"",tagsGroupList:[],tagData:[],searchTagsList:[],selectTagsList:[],groupId:"",selectGroupKey:[],selectTagKey:[],isLoadingTags:!1,isLoadingSearch:!1,inputSelectedTags:ie.selectedAllTags,addVisible:!1}}UNSAFE_componentWillReceiveProps(ie){this.setState({inputSelectedTags:ie.selectedAllTags})}componentDidUpdate(ie){this.props.visible&&this.props.visible!==ie.visible&&this.setState(le=>({selectTagsList:[...le.selectTagsList,...le.inputSelectedTags],selectTagKey:[...le.inputSelectedTags.map(ne=>ne.tag_id)],selectGroupKey:[...le.inputSelectedTags.map(ne=>ne.group_id||ne.tag_group_id)]}),()=>{this.getTagGroupData()})}render(){var ie=this.props,le=ie.visible,ne=ie.prefixCls,Ee=ie.t,Ie=ie.canAdd,$e=ie.maxNum,Ze=this.state,ze=Ze.searchTagsList,et=Ze.isLoadingSearch,se=Ze.isLoadingTags,ee=Ze.tagsGroupList,Ne=Ze.groupId,we=Ze.tagData,Ve=Ze.selectTagKey,tt=Ze.addVisible,Fe=Ze.searchVal;return h().createElement(L.Z,{visible:le,width:680,maskClosable:!1,className:"".concat(ne),title:Ee("common.detailChooseTag"),onClose:this.handleTagsCancel,okText:Ee("common.ok"),cancelText:Ee("common.cancel"),footer:this.renderTagsFooter()},h().createElement(n.Z,{className:"".concat(ne,"__search__warp")},h().createElement(T.Z,{span:19},h().createElement(j.Z,{allowClear:!0,style:{width:"260px"},showSearch:!0,filterOption:!1,value:Fe===""?null:Fe,optionLabelProp:"label",placeholder:(0,Q.ZT)("".concat(Ee("tagManage.search")),$e),showArrow:!1,onSearch:this.handleSearchTagsList,onSelect:this.handleSelectChange,notFoundContent:et&&ze.length?h().createElement(A.Z,{size:"small"}):null},ze.length>0&&ze.map(ke=>h().createElement(Ae,{className:"".concat(ne,"__option"),key:ke.tag_id,titleTemp:ke.tag_group_id,titleTempText:ke.tag_group_name,value:ke.tag_id,label:ke.tag_name},h().createElement(E.Z,{title:"".concat(ke.tag_name).concat(ke.tag_group_name?"("+ke.tag_group_name+")":"")},h().createElement("span",null,"".concat(ke.tag_name)),h().createElement("span",{className:"groupName"},"".concat(ke.tag_group_name?"("+ke.tag_group_name+")":""))))))),h().createElement(T.Z,{span:5,className:"".concat(ne,"__addBtn")},Ie&&h().createElement(d.Z,{onClick:this.onAddOpen,icon:h().createElement(B.Z,null)},Ee("tagManage.add")))),h().createElement(n.Z,{className:"".concat(ne,"__content")},h().createElement(T.Z,{span:6,className:"".concat(ne,"__tagGroupList")},ee.map(ke=>h().createElement("div",{key:ke.id,className:Ne===ke.id?"".concat(ne,"__groupName active"):"".concat(ne,"__groupName"),onClick:()=>this.getTagListByGroupData(ke.id)},h().createElement(E.Z,{title:ke.group_name},h().createElement("span",{className:"".concat(ne,"__groupNameText")},ke.group_name)),h().createElement(K.Z,{size:"small",count:this.computeGroupNmu(ke.id)})))),h().createElement(T.Z,{className:"".concat(ne,"__tagListResult"),span:18},se?h().createElement("div",{className:"".concat(ne,"__loading")},h().createElement(A.Z,null)):null,we&&we.map(ke=>h().createElement(Te,{type:"text",className:"".concat(ne,"__tagList"),key:ke.tag_id,checked:Ve.indexOf(ke.tag_id)!==-1,onChange:at=>this.handleChangeTag(ke,at)},h().createElement(E.Z,{title:ke.tag_name},ke.tag_name))),!we||we.length===0?h().createElement(de.Z,{className:"".concat(ne,"__noResult")}):null)),h().createElement(Oe.Z,{visible:tt,enable:!0,onCancel:ke=>this.onAddCancel(ke)}))}}Ke.defaultProps={prefixCls:"cl-all-tags",maxNum:5,canAdd:!1,canSingle:!1,status:1},oe.Z=D.Z.create({name:"ClAllTags"})((0,U.Z)()(Ke))},80430:function(be,oe,e){"use strict";var w=e(12924),L=e.n(w),Y=e(60667),K=G=>{var A=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},M=E.department_ids.split("/"),T=E.department_names.split("/"),Z=M.map((t,ae)=>L().createElement(Y.Z,{key:t,dataType:"departmentName",value:t,name:T[ae],type:E.source_type}));return L().createElement(L().Fragment,null,Z.map((t,ae)=>L().createElement("span",{key:t},t,ae===T.length-1?"":"/")))},R=u=>L().createElement(Y.Z,{dataType:"departmentName",value:u.department_id,name:u.department_name,type:u.source_type}),d=()=>{var u=G.list,E=u===void 0?[]:u,M=G.isBlock;if(!E.length)return null;var T=E.map(Z=>A(Z));return T.length&&T.length>1?L().createElement(L().Fragment,null,T.map((Z,t)=>M?L().createElement("div",{key:Z},Z):L().createElement("span",{key:Z},Z,t===T.length-1?"":"\uFF0C"))):L().createElement(L().Fragment,null,T[0]||"")},p=()=>{var u=G.list,E=G.nameList,M=G.sourceType,T=G.isBlock,Z=u.map((t,ae)=>R({department_id:t,department_name:E[ae],source_type:M}));return L().createElement(L().Fragment,null,Z.map((t,ae)=>T?L().createElement("div",{key:t},t):L().createElement("span",{key:t},t,ae===Z.length-1?"":"\uFF0C")))},n=()=>G.displayAll?d():p();return n()};K.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},oe.Z=K},60667:function(be,oe,e){"use strict";e.d(oe,{Z:function(){return d}});var w=e(33565),L=e(12924),Y=e.n(L),K=e(28216);function G(p){var n=p.type,u=p.openid,E=p.from,M=(0,L.useRef)(null);return(0,L.useLayoutEffect)(()=>{E==="vue"?window.parent.WWOpenData.bind(M.current):WWOpenData.bind(M.current)}),Y().createElement("ww-open-data",{ref:M,type:n,openid:u})}var A=p=>{var n=p.wxWorkApiFlag,u=p.appType,E=p.from,M=(0,L.useState)(!1),T=(0,w.Z)(M,2),Z=T[0],t=T[1];(0,L.useEffect)(()=>{var N=localStorage.getItem("qyWechatBook");(u!=="wx_app"||n||N==="false"||E==="vue"||E==="taro")&&t(!0)},[n,u,E]);var ae=(0,L.useCallback)(()=>{var N=p.type,W=p.value,l=p.name,h=l===void 0?"":l;switch(console.warn(p,"props"),N){case"wx_sync":{var U=p.dataType;return W?Y().createElement(G,{from:E,type:U,openid:W}):h}default:return h}},[p]),j=()=>{var N=p.name,W=p.dataType,l=localStorage.getItem("qyWechatBook");if(W===""||l==="false")return N;if(E==="vue"||E==="taro")return ae();switch(p.appType){case"wx_app":return ae();default:return N}};return Z?j():p.name};A.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var R=p=>({appType:p.user.appType,wxWorkApiFlag:p.user.wxWorkApiFlag}),d=(0,K.$j)(R)(A)},49616:function(be,oe,e){"use strict";var w=e(62029),L=e(57663),Y=e(71577),K=e(22385),G=e(31097),A=e(81211),R=e(34792),d=e(48086),p=e(43358),n=e(34041),u=e(12924),E=e.n(u),M=e(28216),T=e(91768),Z=e(80991),t=e(8812),ae=e(6793),j=e(87143),N=e(28531),W=U=>({themeColor:U.advancedSetting.themeColor}),l=n.Z.Option;class h extends E().Component{constructor(D){super(D);this.handleSelectOptionNull=_=>{this.setState({searchTagsList:[{tag_id:"",tag_name:this.props.t(_||"tagManage.searchOther")}]})},this.handleAllTags=()=>{this.setState({visible:!0}),this.allTags.getTagGroupData&&this.allTags.getTagGroupData()},this.handleCancel=()=>{this.setState({visible:!1})},this.handleOk=_=>{this.setState({selectTagsList:_,selectTagName:_.map(k=>k.tag_name),selectGroupKey:_.map(k=>k.group_id),selectTagKey:_.map(k=>k.tag_id),visible:!1},()=>{this.setFieldValueForFormik(this.state.selectTagsList)})},this.initRef=_=>{this.selectRef=_},this.handleSelectChange=(_,k)=>{var B=this.state.selectTagsList;B.length<k.length?k.forEach(Q=>{this.checkTag(Q)&&this.setTagVal(Q)}):this.setNullTagVal(()=>{k.length===0&&this.setFieldValueForFormik(this.state.selectTagsList),k.forEach(Q=>{setTimeout(()=>{this.setTagVal(Q)},0)})}),this.handleSelectOptionNull()},this.setTagVal=_=>{var k=this.state,B=k.selectTagsList,Q=k.selectTagName,ce=k.selectGroupKey,de=k.selectTagKey;this.setState({selectTagsList:[...B,{group_id:_.titleTemp,group_name:_.titleTempName,tag_id:_.key,tag_name:_.tagName}],selectTagName:[...Q,_.label],selectGroupKey:[...ce,_.titleTemp],selectTagKey:[...de,_.key]},()=>{this.setFieldValueForFormik(this.state.selectTagsList)})},this.setNullTagVal=_=>{this.setState({selectTagsList:[],selectTagName:[],selectGroupKey:[],selectTagKey:[]},_)},this.setFieldValueForFormik=_=>{this.props.formik.setFieldValue?this.props.formik.setFieldValue(this.props.name,{resourceType:this.props.defaultFieldList.resourceType,tagsNameList:_}):this.props.setFieldValue(_)},this.handleSearchTagsList=_=>{_!==""?(0,N.Mj)(_,this.state.status).then(k=>{k.data.length>0?this.setState({searchTagsList:k.data}):this.handleSelectOptionNull("customFields.noData")}):this.handleSelectOptionNull()},this.getResourceQueryTags=(_,k)=>{(0,N.S8)(_,k).then(B=>{B.data.data.forEach(Q=>{var ce={titleTemp:Q.group_id,titleTempName:Q.group_name,key:Q.tag_id,value:Q.tag_id,tagName:Q.tag_name};this.setTagVal(ce)}),this.setFieldValueForFormik(this.state.selectTagsList)})},this.checkTag=_=>{var k=this.state,B=k.selectTagsList,Q=k.selectGroupKey,ce=k.selectTagKey,de=k.canSingle,Oe=this.props,Te=Oe.t,Ae=Oe.maxNum;return _.key?B.length===Ae?(d.default.destroy(),d.default.error(Te("common.detailAllTagLimit")),!1):ce.indexOf(_.key)!==-1?!1:de&&Q.indexOf(_.titleTemp)!==-1?(d.default.destroy(),d.default.error(Te("tagManage.groupLimit")),!1):!0:!1},this.getOptionTags=()=>{var _=this.state,k=_.searchTagsList,B=_.selectTagsList,Q=k.concat(B);if(Q.length===0)return[];var ce={};return Q.map(de=>{if(de.tag_group_name=de.tag_group_name?de.tag_group_name:de.group_name,de.tag_group_id=de.tag_group_id?de.tag_group_id:de.group_id,!ce[de.tag_id])return ce[de.tag_id]=!0,de})},this.getTagSettings=()=>{(0,N.kF)("create_new_label").then(_=>{this.setState({canAdd:_.data.status})}),(0,N.kF)("tag_select_mode").then(_=>{this.setState({canSingle:_.data.status})})},this.state={visible:!1,selectTagsList:[],searchTagsList:[],selectGroupKey:[],selectTagKey:[],selectTagName:[],canAdd:!1,canSingle:!1,status:1}}componentDidMount(){var D=this.props.defaultFieldList,_=D.resourceId,k=D.resourceType;_?this.getResourceQueryTags(_,k):this.handleSelectOptionNull(),this.getTagSettings()}render(){var D=this.state,_=D.selectTagsList,k=D.visible,B=D.canAdd,Q=D.canSingle,ce=D.selectTagKey,de=this.getOptionTags().filter(ie=>ie&&ie.tag_id),Oe=this.props,Te=Oe.t,Ae=Oe.maxNum,Ke=Oe.selectWidth,Ye=(0,A.Z)(Oe,["t","maxNum","selectWidth"]);return E().createElement(u.Fragment,null,E().createElement("div",(0,w.Z)({className:"select_box"},Ye),E().createElement("div",{className:"select_parent",style:{width:Ke||"auto",flex:Ke?"initial":"1"}},E().createElement(n.Z,{showSearch:!0,className:"search_tag",ref:this.initRef,mode:"multiple",maxTagTextLength:30,filterOption:!1,optionLabelProp:"label",placeholder:(0,ae.ZT)("".concat(Te("tagManage.search")),Ae),value:ce,getPopupContainer:ie=>ie.parentNode,onSearch:this.handleSearchTagsList,onChange:this.handleSelectChange,onBlur:()=>this.handleSelectOptionNull(),onFocus:()=>{this.handleSelectOptionNull()}},de.length>0&&de.map(ie=>E().createElement(l,{className:ie.tag_id===""?"invisible":"result",key:ie.tag_id,titleTemp:ie.tag_group_id,titleTempName:ie.tag_group_name,value:ie.tag_id,tagName:ie.tag_name,label:ie.tag_name},E().createElement(G.Z,{title:"".concat(ie.tag_name).concat(ie.tag_group_name?"("+ie.tag_group_name+")":"")},E().createElement("span",null,"".concat(ie.tag_name)),E().createElement("span",{className:"groupName"},"".concat(ie.tag_group_name?"("+ie.tag_group_name+")":""))))))),E().createElement("div",{className:"add_parent"},E().createElement(Y.Z,{block:!0,onClick:this.handleAllTags},E().createElement("span",{className:"select_btn_text"},Te("common.detailChooseTag")),E().createElement(t.Z,null)),E().createElement(j.Z,{ref:ie=>this.allTags=ie,visible:k,t:Te,maxNum:Ae,canAdd:B,canSingle:Q,selectedAllTags:_,onCancel:this.handleCancel,onOk:this.handleOk}))))}}h.defaultProps={defaultFieldList:{resourceType:"",resourceId:""},maxNum:5,name:"tagGroup"},oe.Z=(0,M.$j)(W)((0,Z.$j)((0,T.Z)()(h)))},28531:function(be,oe,e){"use strict";e.d(oe,{tB:function(){return Y},VL:function(){return K},BY:function(){return G},Mj:function(){return A},S8:function(){return d},kF:function(){return p}});var w=e(37055),L=e(10237);function Y(n){var u=n.tags,E=n.resourceId,M=n.resourceType,T=w.ZP.tagsInformation.addResourceTags();return L.WY.post({url:T,data:{tags:u.map(Z=>Z.tag_name),tagGroupInfoList:u,resourceId:E,resourceType:M}})}var K=n=>{var u=w.ZP.tagsInformation.tagGroupList();return L.WY.get({url:u,params:{status:n===1?n:"",is_deleted:1}})},G=(n,u)=>{var E=w.ZP.tagsInformation.tagsList();return L.WY.get({url:E,params:{group_id:n,status:u===1?u:"",is_deleted:1}})},A=(n,u)=>{var E=w.ZP.tagsInformation.getAllTagList();return L.WY.get({url:E,params:{group_status:u===1?u:"",keyword:n,status:u===1?u:"",is_deleted:1}})},R=(n,u)=>{var E=CONFIG.tagsInformation.recommendedTags();return request.get({url:E,params:{num:n,type:u}})},d=(n,u)=>{var E=w.ZP.tagsInformation.resourceQueryTags();return L.WY.get({url:E,params:{resourceId:n,type:u,isNewTag:!0}})},p=n=>{var u=w.ZP.advancedSetting.getSettingStatusByType(n);return L.WY.get({url:u})}},64262:function(be,oe,e){"use strict";var w=e(88986),L=e(20228),Y=e(11382),K=e(22385),G=e(31097),A=e(32157),R=e(75869),d=e(62999),p=e(85733),n=e(12924),u=e.n(n),E=e(91768),M=e(60667),T=e(38642),Z=e(10237),t=e(37055),ae=p.Z.TreeNode;class j extends u().Component{constructor(W){super(W);this.getDeptTree=l=>{var h=this.props,U=h.filterAuth,D=h.handleLoadedCbk,_=this.state.whiteList,k=t.ZP.OrgTree.getDeptTree(),B={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:l,filter_auth:U,query_selected_user_id:this.props.querySelectedUserId,sync_organization:_.organizationFlag?"lenovo_sync":this.props.organizationType||""};Z.WY.get({url:k,params:B}).then(Q=>{var ce=this.sumCheckedKeys(Q.data.children||[],Q.data.selected==="true"?[Q.data.id]:[]);D&&D({department_name:Q.data.department_name,id:Q.data.id,source_type:Q.data.source_type}),this.setState({treeData:[{department_name:Q.data.department_name,id:Q.data.id,source_type:Q.data.source_type,children:Q.data.children,user_count:Q.data.user_count,enable_edit:Q.enable_edit,enable_delete:Q.enable_delete}],checkedKeys:ce}),this.props.handleCheck&&this.props.handleCheck(ce)})},this.sumCheckedKeys=(l,h)=>(l instanceof Array&&l.forEach(U=>{U.selected==="true"?h.push(U.id):U.children&&this.sumCheckedKeys(U.children,h)}),h),this.loadChildren=l=>new Promise(h=>{if(l.props.children){h();return}var U=this.props.filterAuth,D=this.state.whiteList,_=t.ZP.OrgTree.getDeptTree(),k={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:l.props.dataRef.id,filter_auth:U,query_selected_user_id:this.props.querySelectedUserId,sync_organization:D.organizationFlag?"lenovo_sync":this.props.organizationType||""};Z.WY.get({url:_,params:k}).then(B=>{if(B.data.children){var Q=B.data.children.map(de=>({department_name:de.department_name,id:de.id,user_count:de.user_count,selected:de.selected,has_children:de.has_children,enable_edit:de.enable_edit,enable_delete:de.enable_delete,source_type:de.source_type}));l.props.dataRef.children=Q;var ce=this.sumCheckedKeys(Q,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:ce}),this.props.handleCheck&&this.props.handleCheck(ce)}else l.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});h()})}),this.handleCheck=l=>{this.setState({checkedKeys:l}),this.props.handleCheck&&this.props.handleCheck(l)},this.treeSelectChange=(l,h)=>{this.setState({treeSelectValue:l});var U=this.props,D=U.handleTreeSelectChange,_=U.onTreeSelectChange;D?D(l||"",h):_&&_(l||"",h)},this.renderTreeNodes=l=>l.map(h=>h.children?u().createElement(R.Z.TreeNode,{title:this.renderTitle(h),key:h.id,value:h.id,isLeaf:h.has_children!=="true",switcherIcon:h.children.length===0?u().createElement("span",null):null,dataRef:h,selected:h.selected==="true"},this.renderTreeNodes(h.children)):u().createElement(R.Z.TreeNode,{title:this.renderTitle(h),dataRef:h,value:h.id,key:h.id,isLeaf:h.has_children!=="true",switcherIcon:this.props.asyncLoad?null:u().createElement("span",null),selected:h.selected==="true"})),this.renderSelectTreeNodes=l=>{var h=this.props.disabledFirstNode,U=this.state.treeData.length?this.state.treeData[0].id:"";return l.map(D=>D.children?u().createElement(ae,{title:this.renderTitle(D),key:D.id,value:D.id,isLeaf:!1,switcherIcon:D.children.length===0?u().createElement("span",null):null,dataRef:D,disabled:h?D.id===U:!1,selected:D.selected==="true",departmentName:D.department_name},this.renderSelectTreeNodes(D.children)):u().createElement(ae,{title:this.renderTitle(D),dataRef:D,value:D.id,key:D.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:u().createElement("span",null),selected:D.selected==="true",departmentName:D.department_name}))},this.dealText=l=>{var h=this.props.showUserCount;return u().createElement(n.Fragment,null,u().createElement(M.Z,{type:l.source_type,value:l.id,node:l,name:l.department_name,dataType:"departmentName"}),h&&u().createElement("span",null,"(",l.user_count,")"))},this.renderTitle=l=>{var h=this.props,U=h.showTitleToolTip,D=h.DeptTreeNodeTitle,_=h.titleOperateProps,k=_===void 0?{}:_,B=this.dealText(l);return D?u().createElement(D,{title:B,titleOperateProps:k,deptId:l.id||"1",deptName:l.department_name,enableEdit:l.enable_edit==="true",enableDelete:l.enable_delete==="true"}):U?u().createElement(G.Z,{title:B},u().createElement("span",null,B)):B},this.renderTree=()=>{var l={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(l.loadData=this.loadChildren),this.state.treeData.length>0?u().createElement(R.Z,l,this.renderTreeNodes(this.state.treeData)):u().createElement("div",{style:{textAlign:"center"}},u().createElement(Y.Z,null))},this.renderTreeSelect=()=>{var l=this.props,h=l.t,U=l.width,D=U===void 0?180:U,_=l.placeholder,k=l.open,B=(0,w.Z)((0,w.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:D},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:D},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:_||h("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:k});return this.props.asyncLoad&&(B.loadData=this.loadChildren),this.state.treeData.length>=0?u().createElement(p.Z,B,this.renderSelectTreeNodes(this.state.treeData)):u().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,T.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(W){W.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return u().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}j.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},oe.Z=(0,E.Z)("",{withRef:!0})(j)},76466:function(be,oe,e){"use strict";e.d(oe,{Z:function(){return ft}});var w=e(20228),L=e(11382),Y=e(57663),K=e(71577),G=e(62029),A=e(57361),R=e(9754),d=e.n(R),p=e(12924),n=e.n(p),u=e(91512),E=e(68654),M=e(91768),T=e(4412),Z=e.n(T);class t extends n().Component{render(){var g=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:Z(),alt:"picture"}),n().createElement("h2",null,g("localStorage.tip")),n().createElement("p",null,g("localStorage.banPreview"))))}}var ae=(0,M.Z)()(t),j=e(88986),N=e(34792),W=e(48086),l=e(28216),h=e(21594),U=e(41225),D=e(10237),_=(Ce,g)=>(0,j.Z)({id:Ce||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},g),k=_;class B extends p.Component{constructor(){super(...arguments);this.setupPlayer=g=>{var v=this.props,o=v.onVideoReady,i=o===void 0?()=>{}:o,f=v.playerConfig,C=v.contentType;g&&g==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,j.Z)((0,j.Z)({},f),{},{contentType:C==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:f.source,autoplay:f.autoplay,width:f.width,id:f.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:S=>{S.on("sourceloaded",b=>{var x=b.paramData,J=x.desc,X=x.definition;S.getComponent("VideoQuality")&&S.getComponent("VideoQuality").setCurrentQuality(J,X,f.id)}),S.on("ready",()=>{i()}),this.playerInstance=S,this.setPlayerConfig()}}))}}componentDidUpdate(g){g.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(g){this.player&&this.player.seek(g)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(g){this.player.setSpeed(g)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var g=this.props,v=g.onPlay,o=v===void 0?()=>{}:v,i=g.onTimeUpDate,f=i===void 0?()=>{}:i,C=g.onEnd,S=C===void 0?()=>{}:C,b=g.onPause,x=b===void 0?()=>{}:b,J=g.onError,X=J===void 0?()=>{}:J,re=this.playerInstance;re.on("play",()=>{o()}),re.on("pause",()=>{x()}),re.on("timeupdate",V=>{f(V)}),re.on("ended",()=>{S()}),re.on("error",(0,A.Z)(d().mark(function V(){return d().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:X();case 1:case"end":return he.stop()}},V)})))}render(){var g=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:g.id}))}}B.playerInstance=null,B.defaultProps={playerConfig:k(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var Q=B,ce=(Ce,g)=>(0,j.Z)({id:Ce||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},g),de=ce;class Oe extends p.Component{constructor(){super(...arguments);this.setupPlayer=g=>{g&&g==="resetPlayer"&&this.player.dispose();var v=this.props,o=v.playerConfig,i=v.onVideoReady,f=i===void 0?()=>{}:i;this.player=new Aliplayer(o,C=>{C.on("sourceloaded",S=>{var b=S.paramData,x=b.desc,J=b.definition;C.getComponent("VideoQuality")&&C.getComponent("VideoQuality").setCurrentQuality(x,J,o.id)})}),this.player.on("ready",()=>{f()})},this.setPlayerConfig=()=>{var g=this.props,v=g.onPlay,o=v===void 0?()=>{}:v,i=g.onTimeUpDate,f=i===void 0?()=>{}:i,C=g.onEnd,S=C===void 0?()=>{}:C,b=g.onPause,x=b===void 0?()=>{}:b,J=g.onError,X=J===void 0?()=>{}:J;this.player.on("play",()=>{o()}),this.player.on("pause",()=>{x()}),this.player.on("timeupdate",re=>{f(re)}),this.player.on("ended",()=>{S()}),this.player.on("error",(0,A.Z)(d().mark(function re(){return d().wrap(function($){for(;;)switch($.prev=$.next){case 0:X();case 1:case"end":return $.stop()}},re)})))},this.getPlayerContent=g=>{this.playerContainer=g}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(g){g.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(g){this.player.seek(g)}exitFull(){var g=this.player.fullscreenService;g&&g.isFullScreen&&g.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var g=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:g.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}Oe.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:de()};var Te=Oe;class Ae{constructor(g){this.hasCreated=!1,this.definition="",this.getQuality=g}createEl(g,v){var o=v._options&&v._options.language,i=v._el.id;this.isEn=o&&o==="en-us";var f=(0,h.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),C=(0,h.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),S=document.querySelector("#".concat(i," .prism-controlbar"));S.appendChild(f),g.appendChild(C)}setCurrentQuality(g,v,o){var i=document.querySelector("#".concat(o," .current-quality"));i.innerText=g,i.dataset.def=v,this.definition=v;var f=document.querySelector("#".concat(o," .quality-list")),C=f.querySelector(".current");C&&(C.className="");var S=f.querySelector('li[data-def="'.concat(v,'"]'));S&&(S.className="current")}created(g){this._urls=g._urls;var v=g._el.id,o=document.querySelector("#".concat(v," .current-quality")),i=document.querySelector("#".concat(v," .quality-list")),f=document.querySelector("#".concat(v," .quality-modal")),C=this._urls.map(x=>'<li data-def="'.concat(x.definition,'">').concat(x.desc,"</li>"));if(i.innerHTML=C.join(""),this.hasCreated==!1&&this.definition){var S=i.querySelector('li[data-def="'.concat(this.definition,'"]'));S.className="current"}this.hasCreated=!0;var b=null;o.onclick=()=>{i.style.display="block"},o.onmouseleave=()=>{b=setTimeout(()=>{i.style.display="none"},100)},i.onmouseenter=()=>{clearTimeout(b)},i.onmouseleave=()=>{i.style.display="none"},i.onclick=x=>{var J=x.target,X=J.dataset.def,re=J.innerText;if(X&&J.className!=="current"){var V=this._urls.find($=>$.definition===X);g.loadByUrl(V.Url,g.getCurrentTime(),!0,!0),this.setCurrentQuality(V.desc,V.definition,v),f.style.display="block",f.querySelector("span.current-quality-tag").innerText=V.desc}this.getQuality(X,re)}}ready(g){var v=g._el.id,o=document.querySelector("#".concat(v," .quality-modal"));o.style.display="none";var i=document.querySelector("#".concat(v," .prism-setting-item.prism-setting-quality"));i&&i.classList.add("player-hidden")}}class Ke{createEl(g,v){var o=v._el.id,i=(0,h.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),f=document.querySelector("#".concat(o," .prism-controlbar"));f.appendChild(i)}ready(g){var v=g._el.id,o=document.querySelector("#".concat(v," .current-rate")),i=document.querySelector("#".concat(v," .rate-list")),f=null,C=document.querySelector("#".concat(v," .prism-setting-item.prism-setting-speed"));C&&C.classList.add("player-hidden"),o.onclick=()=>{i.style.display="block"},o.onmouseleave=()=>{f=setTimeout(()=>{i.style.display="none"},100)},i.onmouseenter=()=>{clearTimeout(f)},i.onmouseleave=()=>{i.style.display="none"},i.onclick=S=>{var b=S.target,x=b.dataset.rate;if(x){if(g.setSpeed(x),b.className!=="current"){var J=i.querySelector(".current");J&&(J.className=""),b.className="current"}i.style.display="none",o.innerText="".concat(x,"x")}}}}var Ye=e(69164),ie=e(37055);function le(Ce){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=ie.ZP.local.getLocalUrl(Ce);return D.WY.get({url:v,params:g})}var ne=e(91648),Ee=e(18329),Ie=e(38642),$e=e(9849),Ze=e(99891);class ze extends p.Component{constructor(g){super();this.WaterMarkText=g,this.html=document.getElementsByClassName("common-watermark")}createEl(g){setTimeout(()=>{g.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var et=ze,se=Ce=>({userInfo:Ce.user});class ee extends p.Component{constructor(g){var v;super(g);v=this,this.onVideoReady=o=>{var i=this.props,f=i.resourceInfo,C=i.mode,S=i.autoPlay,b=i.t,x=f.storageType;o==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(o),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(C==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),C==="preview"&&S&&this.play.play()):x==="ALIBABA_PRIVATE"||x==="LOCAL"?this.updateSource("resetPlayer"):(D.WY.logger({keyword:"video",moduleName:"video-play",msg:b("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var o=this.props,i=o.draggable,f=o.mode,C=o.t,S=o.studyInfo,b=o.needCurrentTime,x=o.onCurrentTime,J=x===void 0?()=>{}:x,X=S.studyType,re=S.studyId,V=S.resourceId,$=this.state,he=$.showPreventHang,De=$.dragSwitch,Me=$.showRandomAlert,Be=$.randomAlertDialogVisible,z=this.playingVideo,P=z.oneTime,y=z.popupWindowCount,a=z.maxPlayTime,s=z.progress,m=z.auditionLength,c=z.auditionType,r=z.duration,O=z.recentStart,F=this.play.getCurrentTime(),H=(he==="OPEN"||Me==="OPEN")&&y>0;if(b&&J(F),m>0&&c===2&&F>m&&(this.play.seek(m),W.default.warning(C("component.haveALookOverTip")),this.play.pause()),f==="learn"&&H){var me=r-P*y;if(y>0&&F>me)if(this.play.pause(),Me==="OPEN"){if(!Be){var q=(0,ne.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:q},()=>{(0,U.qp)({popupId:q,planId:re,resourceId:V,type:"popup_start"})}),this.play.exitFull()}}else he==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((i||s===100)&&(F>0&&(this.playingVideo.recentStart=F),!((X==="enterprise"||X==="studyProject")&&De==="OPEN")))return!1;F>a?F-O>2?(this.playingVideo.recentStart=a,this.play.seek(a),W.default.warning(C("component.preventFastWatchTip"))):(this.playingVideo.recentStart=F,this.playingVideo.maxPlayTime=F):F>0&&F>this.playingVideo.recentStart&&(this.playingVideo.recentStart=F)},this.onPlay=()=>{var o=this.props,i=o.mode,f=o.onPlay,C=f===void 0?()=>{}:f;C();var S=this;i==="learn"&&!S.timer&&(S.timer=setTimeout(function b(){S.saveProgress(),clearTimeout(S.timer),S.timer=setTimeout(b,2e4)},2e4))},this.onPause=()=>{var o=this.props,i=o.studyInfo,f=o.mode,C=i.studyType;clearTimeout(this.timer),this.timer=null,f==="learn"&&(C==="platform"||C==="enterprise"||C==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var o=this.props.mode;o==="learn"&&this.saveProgress()},this.onError=o=>{var i=this.props.resourceInfo,f=i.storageType;(f==="ALIBABA_PRIVATE"||f==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var o=this.props.mode;this.initPlayVideo(),o==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var o=this.state,i=o.showPreventHang,f=o.showRandomAlert,C=this.props,S=C.t,b=C.playingVideo,x=C.studyInfo,J=C.autoPlay,X=b.recentStart,re=b.duration,V=b.progress,$=x.studyType,he=(i==="OPEN"||f==="OPEN")&&($==="studyTask"||$==="enterprise"||$==="studyProject")&&V<100;he?(f==="OPEN"?this.setState({promptMessage:S("component.preventAlertTip"),dialogVisible:!0}):i==="OPEN"&&this.setState({promptMessage:S("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):J&&(this.play.play(),Math.ceil(X)<parseInt(re)&&this.play.seek(X))},this.playerShowPreventHang=()=>{var o=this.playingVideo,i=o.duration,f=o.recentStart,C=0;i>0&&i<180?(C=i/2,this.playingVideo.oneTime=C,f>=C?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):i>=180&&i<600?(C=i/3,this.playingVideo.oneTime=C,f>=2*C?this.playingVideo.popupWindowCount=0:f>=C?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(C=i/4,this.playingVideo.oneTime=C,f>=3*C?this.playingVideo.popupWindowCount=0:f>=2*C?this.playingVideo.popupWindowCount=1:f>=C?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var o=this.props,i=o.playingVideo,f=o.mode;if(f==="learn"){this.playingVideo=(0,j.Z)({},i);var C=i.duration,S=i.progress;this.playingVideo.hasFinished=parseInt(S)===100,this.playingVideo.maxPlayTime=parseInt(C)*parseInt(S)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,A.Z)(d().mark(function o(){var i,f,C,S,b,x,J,X,re,V,$,he,De,Me,Be,z,P,y,a,s,m,c,r,O;return d().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(i=v.state,f=i.speedSwitch,C=i.dragSwitch,S=i.whiteList,b=v.props,x=b.resourceInfo,J=b.showQuality,X=x.contentType,re=x.storageType,V=x.source,$=x.playId,he=x.playerId,De=x.showFullScreen,Me=De===void 0?!0:De,Be=de(he),Be.components=[],z=typeof V=="object"&&V.hasOwnProperty("FD")&&V.FD.indexOf("m3u8")===-1,J&&z&&X!=="mp3"&&(re&&re==="PUBLIC_CLOUD"||!re)&&Be.components.push({name:"VideoQuality",type:Ae,args:[()=>{v.play.pause(),v.playingVideo.readyCount=0}]}),f==="OPEN"&&Be.components.push({name:"VideoRate",type:Ke}),Me&&(P=Be.skinLayout.find(me=>me.name==="controlBar"),P&&P.children.splice(P.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),Be.components.push({name:"VideoWaterMark",type:et}),y=V.FD,a=V.OD,y.indexOf("http://")>-1&&(y=y.replace("http://","https://")),a.indexOf("http://")>-1&&(a=a.replace("http://","https://")),s=S.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",V.OD=a&&a.indexOf(s)>-1&&a.indexOf(".mp4")>-1?a:y,V.FD=y,m=typeof V!="string"?JSON.stringify(V):V,Be.source=m,C==="OPEN"&&(Be.disableSeek=!0),re!=="ALIBABA_PRIVATE"){H.next=32;break}return H.next=22,(0,U.BR)($);case 22:if(c=H.sent,!c){H.next=28;break}Be.source=c,Be.vodRetry=1,H.next=30;break;case 28:return v.setState({showPrivateVodError:!0}),H.abrupt("return");case 30:H.next=38;break;case 32:if(re!=="LOCAL"){H.next=38;break}return H.next=35,le($);case 35:r=H.sent,O=r.data,O.code===0&&(Be.source="".concat(V.FD,"?auth_key=").concat(O.data.auth_key),Be.vodRetry=1);case 38:v.setState({playerConfig:Be});case 39:case"end":return H.stop()}},o)})),this.updateSource=function(){var o=(0,A.Z)(d().mark(function i(f){var C,S,b,x,J,X,re,V;return d().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(C=v.state.playerConfig,S=v.props.resourceInfo,b=S.storageType,x=S.source,J=S.playId,v.playingVideo.readyCount=0,b!=="ALIBABA_PRIVATE"){he.next=16;break}return he.next=7,(0,U.BR)(J);case 7:if(X=he.sent,!X){he.next=12;break}Object.assign(C,{source:X,vodRetry:1}),he.next=14;break;case 12:return v.setState({showPrivateVodError:!0}),he.abrupt("return");case 14:he.next=22;break;case 16:if(b!=="LOCAL"){he.next=22;break}return he.next=19,le(J);case 19:re=he.sent,V=re.data,V.code===0&&Object.assign(C,{source:"".concat(x.FD,"?auth_key=").concat(V.data.auth_key),vodRetry:1});case 22:v.setState({playerConfig:C},()=>{v.play.setupPlayer(f)});case 23:case"end":return he.stop()}},i)}));return function(i){return o.apply(this,arguments)}}(),this.saveProgress=()=>{var o=this.props,i=o.studyInfo,f=o.userInfo,C=f.isLogin,S=f.enterpriseId,b=f.id,x=this.playingVideo,J=x.recentStart,X=x.duration,re=x.hasFinished,V=Math.ceil(+J);V>Number(X)&&(V=Number(X));var $=Math.ceil(V/+X*100);if(($>100||re)&&($=100),C){var he=this.playingVideo,De=he.auditionType,Me=he.auditionLength;if(Me>0&&De===2){var Be=Math.ceil(Me/X*100);Be<=$&&($=Be,V=Me)}(0,U.sH)({studyInfo:i,progress:$,recent_start:V,enterpriseId:S,userId:b}).then(z=>{z&&z.data&&(0,Ye.Z)(z.data.integral_info||"")})}},this.getInfoFromSettings=(0,A.Z)(d().mark(function o(){var i,f,C,S,b,x,J,X,re;return d().wrap(function($){for(;;)switch($.prev=$.next){case 0:return i=v.props.studyInfo,f=i.studyType,C=i.projectId,$.next=4,(0,U.Gw)();case 4:if(S=$.sent,b=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],x=(0,h.RG)(S,b),f!=="studyProject"){$.next=14;break}return $.next=10,(0,$e.NU)({id:C});case 10:J=$.sent,X=J.status,re=J.data,X===200&&(x.showPreventHang=re.prevent_cut_screen?"OPEN":"CLOSED",x.speedSwitch=re.speed_play?"OPEN":"CLOSED",x.dragSwitch=re.prevent_drag?"OPEN":"CLOSED");case 14:v.setState(x,()=>{v.dealVideoConfig()});case 15:case"end":return $.stop()}},o)})),this.dealAudioPoster=()=>{var o=this.props.resourceInfo.contentType,i=o===void 0?"":o;this.setState({showAudioPoster:i==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var o=this.state.showAudioPoster,i=this.play.playerContainer;o&&i&&(i.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),i.style.backgroundSize="cover")},this.getPlayInstance=o=>{this.play=o},this.handleOk=()=>{this.setState({dialogVisible:!1});var o=this.state.btnType,i=this.playingVideo.recentStart,f=this.props.t;o==="know"?(this.play.play(),this.play.seek(i),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:f("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,A.Z)(d().mark(function o(){var i,f,C,S;return d().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:i=v.props.studyInfo,f=i.studyId,C=i.resourceId,S=v.state.randomAlertUUID,(0,U.qp)({popupId:S,planId:f,resourceId:C,type:"popup_end"}).then(()=>{v.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),v.playingVideo.popupWindowCount-=1,v.play.play();case 6:case"end":return x.stop()}},o)})),this.renderFooter=()=>{var o=this.state.btnType,i=this.props.t;return n().createElement(K.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(o)},i(o==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var o=this.props.t;return n().createElement(K.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},o("common.ok"))},this.state={playerConfig:de(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:g.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:g.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:g.t("component.randomAlertTip"),randomAlertModal:{title:g.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ie.UI)("CL_VIDEO_BAIYING_COM_CN")}},g.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(g){var v=typeof g.resourceInfo.source!="string"?JSON.stringify(g.resourceInfo.source):g.resourceInfo.source,o=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;v!==o&&o!==""&&this.initInfo()}componentWillUnmount(){var g=this.props.mode;g==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var g=this.state,v=g.playerConfig,o=g.showPrivateVodError,i=g.dialogVisible,f=g.dialogModal,C=g.promptMessage,S=g.randomAlertDialogVisible,b=g.randomAlertModal,x=g.randomAlertTip,J=g.encryptedSwitch,X=this.props,re=X.resourceInfo,V=X.t,$=J==="OPEN"?Q:Te;return n().createElement(p.Fragment,null,n().createElement($,(0,G.Z)({ref:this.getPlayInstance},re,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:v,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(Ee.ZP,(0,G.Z)({visible:i},f,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},C)),n().createElement(Ee.ZP,(0,G.Z)({visible:S},b,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},x)),o&&n().createElement("div",{className:"video-business-vod-error"},V("privateCloud.docReadError")),n().createElement(Ze.Z,{scenes:"video"}))}}var Ne=(0,l.$j)(se,null,null,{forwardRef:!0})((0,M.Z)("translation",{withRef:!0})(ee)),we=e(94184),Ve=e.n(we),tt=e(84874),Fe=Ce=>({userInfo:Ce.user}),ke={getPravateDocUrl:ie.ZP.localStorage.getPravateDocUrl};function at(Ce){return JSON.stringify(Ce,(g,v)=>(typeof v=="function"&&(v=v.toString()),v))}function mt(Ce){var g=parseInt(parseInt(Ce,10)/60,10),v=parseInt(parseInt(Ce,10)%60,10);return g<10&&(g="0".concat(g)),v<10&&(v="0".concat(v)),"".concat(g,":").concat(v)}class Re extends p.Component{constructor(g){var v;super(g);v=this,this.messageFun=o=>{var i=this.props,f=i.docType,C=i.progress,S=i.studyTimeLimit,b=i.studyTime,x=this.state,J=x.jumpPageTag,X=x.totalTime,re=x.timeRemaining,V=this.state.previewDocData,$={};try{$=JSON.parse(o.data)}catch(he){return}switch($.action){case"preview.ready":this.initDocData();break;case"preview.meta":V.totalPage=$.data.pc||1,V.currentPage=1,this.setState({previewDocData:V},()=>{this.reportStatusInterval()}),S>0?(this.saveProgress(C,b||"1",$.data.pc||1),this.setState({showCountDownContainer:!0})):f==="xlsx"||f==="xls"||V.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(C,b||"1",$.data.pc||1),S>0&&C<100?(this.setState({showCountDown:!0}),f==="xlsx"||f==="xls"?X=S:X=S*$.data.pc,re=parseInt(X*(1-C/100),10),this.setState({timeRemaining:re,totalTime:X},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(J){J=!1,this.setState({jumpPageTag:J});return}V.currentPage=$.data.pageIndex+1,this.setState({previewDocData:V}),S||this.saveProgress(Math.ceil(V.currentPage/V.totalPage*100),V.currentPage,V.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":W.default.error($.data.result);break;default:break}},this.initDocData=(0,A.Z)(d().mark(function o(){var i,f,C,S,b,x,J,X,re,V,$,he,De,Me;return d().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(v.setState({isShowPrivateError:!1}),i=v.props,f=i.docType,C=i.userInfo,S=i.documentWatermarkSettings,b=i.storageType,x=i.privateDocId,J=C.name,X=C.jobNumber,re=C.position,V="",$={},b!=="ALIBABA_PRIVATE"){z.next=18;break}return z.prev=6,he=ke.getPravateDocUrl(x),z.next=10,D.WY.get({url:he});case 10:De=z.sent,Me=De.data,Me.code===0?$=Me.data||{}:v.setState({isShowPrivateError:!0}),z.next=18;break;case 15:z.prev=15,z.t0=z.catch(6),v.setState({isShowPrivateError:!0});case 18:if(S.indexOf("name")>-1&&(V="".concat(V+J," ")),S.indexOf("position")>-1&&(V="".concat(V+re," ")),S.indexOf("jobnumber")>-1&&(V+=X),V.length>0?window.sendMessage("preview.init",(0,j.Z)({wmType:1,wmValue:V,wmColor:"rgba(192, 192, 192, 0.4)"},$)):window.sendMessage("preview.init",(0,j.Z)({},$)),f!=="xlsx"&&f!=="ppt"&&f!=="pptx"&&f!=="xls"?v.setState({pageOperateContainerVisible:!0}):v.setState({pageOperateContainerVisible:!1}),!(f==="ppt"||f==="pptx")){z.next=29;break}z.t1=window,z.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},z.t1.sendMessage.call(z.t1,"setConfig",z.t2),z.next=32;break;case 29:z.t3=window,z.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},z.t3.sendMessage.call(z.t3,"setConfig",z.t4);case 32:case"end":return z.stop()}},o,null,[[6,15]])})),this.handleJumpPage=o=>{var i=this.state.previewDocData;i.currentPage=o,this.setState({jumpPageTag:!0,previewDocData:i});var f=o/i.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(f),o,i.totalPage),window.sendMessage("logic.toPage",{pageIndex:o-1})},this.redirectPage=()=>{var o=this.props,i=o.studyTimeLimit,f=o.studyTime,C=0;i===0&&(C=f-1>0?f-1:0),window.sendMessage("logic.toPage",{pageIndex:C})},this.docCountDown=()=>{var o=this.state.timeRemaining,i=this.state,f=i.totalTime,C=i.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{o-=1,this.setState({timeRemaining:o}),o<1&&(this.saveProgress(100,0,C.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var S=(f-o)/f*100;o<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(S),o,C.totalPage)},2e4)},this.saveProgress=(o,i,f)=>{var C=this.props.onSaveProgress;C&&C(o,i,f)},this.reportStatusInterval=()=>{var o=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var i=this.state.previewDocData.currentPage;o&&o({currentPage:i})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=o=>{this.docReader=o},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(g,v)=>{var o=this.docReader.contentWindow;o.postMessage(at({action:g,data:v}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var g=this.props,v=g.t,o=g.storageType,i=g.privateDocId,f=this.props.aliUrl,C=this.state,S=C.previewDocData,b=C.pageOperateContainerVisible,x=C.timeRemaining,J=C.showCountDown,X=C.showCountDownContainer,re=C.showPageOperateContainer,V=C.isShowPrivateError;return o==="ALIBABA_PRIVATE"&&(f="https://preview.imm.aliyuncs.com/index.html?docId=".concat(i)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:b?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:f,id:"aliyunPreview",ref:this.dealPreviewRef}),X?n().createElement("div",{className:"ali-doc-container__countdown"},J?n().createElement("div",null,n().createElement(tt.Z,{iconClass:"iconf-tipe",size:"16px"}),v("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",mt(x)," "),v("component.canDone")):n().createElement("div",null,n().createElement(tt.Z,{iconClass:"iconf-tipe",size:"16px"}),v("component.docHasFinish"))):null,b?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:Ve()(["ali-doc__operate__content",re?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},S.currentPage," / ",S.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,v("component.choosePage"),n().createElement(tt.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},v("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:S.totalPage})).map(($,he)=>n().createElement("li",{key:$,onClick:()=>this.handleJumpPage(he+1)},he+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},v("common.collapse"))))),n().createElement("div",{className:Ve()("ali-doc__operate__unfold",re?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},v("common.expand"))):null,V&&n().createElement("div",{className:"ali-doc__error"},v("privateCloud.docReadError"))),n().createElement(Ze.Z,{scenes:"document"}))}}Re.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Ge=(0,l.$j)(Fe)((0,M.Z)()(Re)),it=Ce=>({userInfo:Ce.user}),qe="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),st="".concat("https://doc.coolcollege.cn");class pt extends n().Component{constructor(g){var v;super(g);v=this,this.onSaveProgress=(o,i,f)=>{var C=this.props,S=C.mode,b=C.studyInfo,x=C.userInfo,J=x.enterpriseId,X=x.id;S==="learn"&&(0,U.sH)({studyInfo:b,progress:o,page_count:f,recent_start:i,enterpriseId:J,userId:X}).then(re=>{re&&re.data&&(0,Ye.Z)(re.data.integral_info||"")})},this.messageFun=function(){var o=(0,A.Z)(d().mark(function i(f){var C,S,b,x,J,X;return d().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(f.data!=="local-resource"){V.next=9;break}if(C=v.props.resourceInfo,S=C.storageType,b=C.playId,!(S&&S==="LOCAL")){V.next=9;break}return V.next=6,le(b);case 6:x=V.sent,J=x.data,J.code===0&&(X=document.getElementById("local-resource-box"),X.contentWindow.postMessage({msg:"local-auth-key",authKey:J.data.auth_key},"*"));case 9:case"end":return V.stop()}},i)}));return function(i){return o.apply(this,arguments)}}(),this.getInfoFromSettings=(0,A.Z)(d().mark(function o(){var i,f,C;return d().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,U.Gw)();case 2:i=b.sent,f=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],C=(0,h.RG)(i,f),v.setState(C,()=>{v.initDocPage(v.props)});case 6:case"end":return b.stop()}},o)})),this.initDocPage=(0,A.Z)(d().mark(function o(){var i,f,C,S,b,x,J,X,re,V,$,he,De,Me,Be,z,P,y,a,s,m,c,r,O,F,H,me,q,ve,ge,fe,ue,Pe,Je,ut=arguments;return d().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(i=ut.length>0&&ut[0]!==void 0?ut[0]:{},f=i.resourceInfo,C=i.mode,S=i.studyInfo,b=i.userInfo,x=v.state.documentPlayerMode,J=f.docType,X=f.docTitle,re=f.url,V=f.studyTimeLimit,$=f.studyTime,he=f.aliUrl,De=f.progress,Me=f.storageType,Be=f.playId,z=S.studyType,P=S.courseId,y=S.studyId,a=S.resourceId,s=b.enterpriseId,m=b.id,c=b.isLogin,r=b.token,O=x==="compat"&&he.indexOf("preview.imm.aliyun")>-1||Me==="ALIBABA_PRIVATE",!O){pe.next=11;break}v.setState({showAliReader:!0}),pe.next=31;break;case 11:if(F=(0,U.sH)({enterpriseId:s,userId:m,token:r,studyInfo:S},!0),H=z==="studyTask"?2:1,me=ie.ZP.SaveProgress.reportStatusInterval(S),q={isSaveProgress:c&&C==="learn"&&F,isSaveRecord:!1,access_token:r,userId:m,hostUrl:qe,courseId:P,resourceId:a,courseType:1,planId:y,studyTimeLimit:V,studyTime:$,saveProgressUrl:F,type:"eapp",progress:De,saveRecordProgressUrl:me,actionType:H},!(Me&&Me==="LOCAL")){pe.next=26;break}return pe.next=18,le(Be);case 18:if(ve=pe.sent,ge=ve.data,ge.code!==0){pe.next=25;break}q.auth_key=ge.data.auth_key,q.url=re,pe.next=26;break;case 25:return pe.abrupt("return");case 26:fe=JSON.stringify(q),ue="".concat(X,".").concat(J).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),Pe="".concat(st,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(fe),"&furl=").concat(re,"?attname=").concat(ue),Me&&Me==="LOCAL"&&(Je="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),Pe="".concat(Je,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(fe),"&furl=").concat(re,"?attname=").concat(ue)),v.setState({encodeUrl:Pe});case 31:case"end":return pe.stop()}},o)})),this.handleReportStatusInterval=o=>{var i=o.currentPage,f=this.props,C=f.resourceInfo,S=f.mode,b=f.studyInfo,x=f.userInfo,J=C.type,X=b.courseId,re=b.studyId,V=b.resourceId,$=x.enterpriseId,he=x.id,De=x.isLogin,Me="",Be="",z=0,P=!1;switch(J){case"enterprise":z=1,P=!0;break;case"study":Me=re,z=2,P=!0;break;case"project":Be=re,z=1,P=!0;break;default:break}if(!(!P||!De)){var y={plan_id:Me,enterprise_id:$,user_id:he,course_id:X,project_course_id:Be,resource_id:V,current_page:i,action_type:z,send_time:Date.parse(new Date)};S==="learn"&&(0,U.Xc)(b,y)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(g){this.initDocPage(g)}render(){var g=this.props.resourceInfo,v=this.state,o=v.encodeUrl,i=v.documentWatermarkSettings,f=v.showAliReader,C=g.docType,S=g.type,b=g.studyTimeLimit,x=g.studyTime,J=g.aliUrl,X=g.progress,re=g.storageType,V=g.playId;return f?n().createElement(Ge,{privateDocId:V,storageType:re,aliUrl:J,docType:C,progress:X,studyTime:x,studyTimeLimit:b,documentWatermarkSettings:i,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:S}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:o,frameBorder:"0",allowFullScreen:!0}),n().createElement(Ze.Z,{scenes:"document"}))}}var I=(0,l.$j)(it)(pt),te=e(38979),Le=e(90706),ye=e(12968),Se=e(44208),_e=e(60667),Xe=Ce=>({userInfo:Ce.user});class Qe extends n().Component{constructor(){var g;super(...arguments);g=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var v=this.props,o=v.studyInfo,i=v.mode,f=v.userInfo,C=f.enterpriseId,S=f.id;i==="learn"&&(0,h.Gp)({studyInfo:o,enterpriseId:C,userId:S})},this.getInfoFromSettings=(0,A.Z)(d().mark(function v(){var o,i,f;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,U.Gw)();case 2:o=S.sent,i=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],f=(0,h.RG)(o,i),g.setState(f,()=>{g.renderWatermark()});case 6:case"end":return S.stop()}},v)})),this.renderWatermark=()=>{var v=this.props.userInfo,o=this.state.imageWatermark,i=v.name,f=v.unionid,C=v.sourceType,S=v.jobNumber,b=v.position,x=[];o.indexOf("name")>-1&&x.push(n().createElement(_e.Z,{dataType:"userName",value:f,name:i,type:C})),o.indexOf("position")>-1&&x.push(n().createElement("span",null,b)),o.indexOf("jobnumber")>-1&&x.push(n().createElement("span",null,S)),o.length>0&&this.setState({watermark:x.map((J,X)=>n().createElement("span",{key:X},J))})},this.handleError=v=>{var o=this.props.onError;o&&o(v)},this.getImageUrl=(0,A.Z)(d().mark(function v(){var o,i,f,C,S,b,x,J,X,re;return d().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(o=g.props,i=o.resourceInfo,f=o.t,C=i.playId,S=i.url,b=i.storageType,x=S,!b){$.next=21;break}if(b!=="ALIBABA_PRIVATE"){$.next=15;break}return $.next=7,(0,U.J7)(C);case 7:if(J=$.sent,!J){$.next=12;break}x=J,$.next=13;break;case 12:return $.abrupt("return",W.default.info(f("privateCloud.docReadError")));case 13:$.next=21;break;case 15:if(b!=="LOCAL"){$.next=21;break}return $.next=18,le(C);case 18:X=$.sent,re=X.data,re.code===0&&(x="".concat(S,"?auth_key=").concat(re.data.auth_key));case 21:g.setState({imageUrl:[x]},()=>{var he=g.state.imageUrl,De="image-business",Me=document.querySelectorAll(".".concat(De,"-image img"));Me.forEach((Be,z)=>{Be.onerror=()=>{g.handleError(he[z])}})});case 22:case"end":return $.stop()}},v)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var g="image-business",v=this.props.resourceInfo,o=v.preview,i=o===void 0?!1:o,f=this.state,C=f.watermark,S=f.imageUrl;return n().createElement("div",{className:g},n().createElement(Ze.Z,{scenes:"image"}),n().createElement(Le.Z,{className:"".concat(g,"-carousel")},S.map((b,x)=>n().createElement("div",{className:"".concat(g,"-image"),key:x.toString()},n().createElement(Se.Z,{src:b,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:i})))))}}Qe.defaultProps={prefixCls:"watch-image-page"};var nt=(0,l.$j)(Xe)((0,M.Z)()(Qe)),xe=Ce=>({userInfo:Ce.user});class We extends n().Component{constructor(){var g;super(...arguments);g=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,A.Z)(d().mark(function v(){var o,i,f;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,U.Gw)();case 2:o=S.sent,i=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],f=(0,h.RG)(o,i),g.setState(f,()=>{g.renderWatermark()});case 6:case"end":return S.stop()}},v)})),this.renderWatermark=()=>{var v=this.props.userInfo,o=this.state.htmlWatermark,i=v.name,f=v.unionid,C=v.sourceType,S=v.jobNumber,b=v.position,x=[];o.indexOf("name")>-1&&x.push(n().createElement(_e.Z,{dataType:"userName",value:f,name:i,type:C})),o.indexOf("position")>-1&&x.push(n().createElement("span",null,b)),o.indexOf("jobnumber")>-1&&x.push(n().createElement("span",null,S)),o.length>0&&this.setState({watermark:x.map((J,X)=>n().createElement("span",{key:X},J))})},this.saveProgress=()=>{var v=this.props,o=v.studyInfo,i=v.mode,f=v.userInfo,C=f.enterpriseId,S=f.id;i==="learn"&&(0,h.Gp)({studyInfo:o,enterpriseId:C,userId:S})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var g="html-business",v=this.props.resourceInfo,o=v.url,i=this.state.watermark;return n().createElement("div",{className:g},n().createElement("div",{className:"".concat(g,"__html-watermark")},i),n().createElement("iframe",{title:"html",className:"".concat(g,"_iframe"),src:o}))}}var je=(0,l.$j)(xe)((0,M.Z)()(We)),He=e(57068),rt=e(1164),ot=Ce=>({userInfo:Ce.user});class lt extends n().PureComponent{constructor(){super(...arguments);this.getHost=g=>{var v=g.split("//"),o=v[1].split("/");return[v[0],o[0]].join("//")},this.getScormUrl=()=>{var g=this.props,v=g.studyInfo,o=g.mode,i=g.userInfo,f=g.resourceInfo,C=g.from,S=i.enterpriseId,b=i.id,x=f.url,J=this.getHost(x);if(o==="learn"){var X=(0,j.Z)({userId:b,enterpriseId:S,access_token:localStorage.token,from:C,scormUrl:encodeURIComponent(x),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},v);return"".concat(J).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(He.stringify(X))}return"".concat(J,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(x))},this.handleOpenScormLink=g=>{rt.Z.targetTo({path:g,isExternalLink:!0})}}render(){var g=this.props.t,v="scorm-business",o=this.getScormUrl(),i=(0,Ie.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:v},i?n().createElement("div",{className:"".concat(v,"_scorm")},n().createElement("img",{className:"".concat(v,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,g("resourcePlay.scormTip")),n().createElement(K.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(o)},g("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(v,"_iframe"),src:o}))}}var ct=(0,l.$j)(ot)((0,M.Z)()(lt));class dt extends n().Component{render(){var g=this.props,v=g.visible,o=g.title,i=g.onCancel,f=g.t,C=n().createElement("span",null,o);return n().createElement(Ee.ZP,{visible:v,title:C,onCancel:i,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:Z(),alt:"picture"}),n().createElement("h2",null,f("localStorage.tip")),n().createElement("p",null,f("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(K.Z,{type:"primary",className:"know",onClick:i},f("localStorage.onKnow"))))}}var gt=(0,M.Z)()(dt);class vt extends p.Component{constructor(){var g;super(...arguments);g=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=v=>{var o=this.props.previewInfo,i=o.onCancel;this.onCancel(),i(v)},this.onGetVideoBusiness=v=>{var o=this.props.onRef,i=o===void 0?()=>{}:o;this.videoBusiness=v,i(v)},this.onFullScreen=()=>{var v=this.state.fullScreen;this.setState({fullScreen:!v})},this.handleJudgeNetwork=(0,A.Z)(d().mark(function v(){var o,i,f,C,S,b,x,J,X,re,V,$=arguments;return d().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(o=$.length>0&&$[0]!==void 0?$[0]:null,i=g.props,f=i.resourceInfo,C=i.watchType,S=f.storageType,b=f.playId,x=f.originUrl,J=C==="image"||C==="video"||C==="doc",X=null,o?X=o:x?X=x:X=f.url,!(J&&X&&b&&S&&S==="LOCAL")){De.next=22;break}return De.prev=7,De.next=10,(0,U.NY)(b);case 10:return re=De.sent,De.next=13,(0,U.Hy)(X,re);case 13:V=De.sent,V?g.setState({showBan:"no"}):g.setState({showBan:"yes"}),De.next=20;break;case 17:De.prev=17,De.t0=De.catch(7),g.setState({showBan:"yes"});case 20:De.next=23;break;case 22:g.setState({showBan:"no"});case 23:case"end":return De.stop()}},v,null,[[7,17]])})),this.renderOuter=()=>{var v=this.props,o=v.prefixCls,i=v.watchType,f=v.onCurrentTime,C=f===void 0?()=>{}:f;return n().createElement("div",{className:"".concat(o,"-outer")},i==="video"&&n().createElement(Ne,(0,G.Z)({onCurrentTime:C,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),i==="doc"&&n().createElement(I,this.props),i==="image"&&n().createElement(nt,(0,G.Z)({onError:this.handleJudgeNetwork},this.props)),i==="html"&&n().createElement(je,this.props),i==="scorm"&&n().createElement(ct,this.props))},this.renderFooter=()=>{var v=this.props,o=v.resourceInfo.storageType,i=v.t,f=this.state.showBan,C=f!==""&&f==="yes";return o&&o!=="PUBLIC_CLOUD"&&C?n().createElement(K.Z,{type:"primary",className:"know",onClick:this.onCancelModel},i("localStorage.onKnow")):null}}componentDidMount(){var g=this.props.mode;g==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(g){g.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var g=this.state,v=g.showBan,o=g.fullScreen,i=this.props,f=i.mode,C=i.previewWay,S=i.previewInfo,b=i.prefixCls,x=i.t,J=i.showEnlarge,X=i.footer,re=X===void 0?null:X,V=S.visible,$=S.destroyOnClose,he=S.title,De=v!==""&&v==="yes",Me=v!==""&&v==="no";return n().createElement(p.Fragment,null,f==="preview"&&C==="popups"&&n().createElement(Ee.ZP,{destroyOnClose:$,visible:V,title:he,onCancel:this.onCancelModel,footer:re||this.renderFooter(),wrapClassName:"".concat(b,"-resource ").concat(o?"".concat(b,"-full"):"")},J&&n().createElement("div",{className:"".concat(b,"-resource-out-icon"),onClick:this.onFullScreen},o?n().createElement(u.Z,{className:"".concat(b,"-resource-icon")}):n().createElement(E.Z,{className:"".concat(b,"-resource-icon")})),n().createElement("div",{className:"".concat(b,"-inner")},!V&&n().createElement(L.Z,{size:"large"}),V&&Me&&this.renderOuter(),De&&n().createElement(ae,null))),(f==="learn"||C==="page")&&Me&&this.renderOuter(),(f==="learn"||C==="page")&&n().createElement(gt,{visible:De,title:he||x("questionn.warmHint"),onCancel:this.onCancel}))}}vt.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ft=(0,M.Z)("translation",{withRef:!0})(vt)},41225:function(be,oe,e){"use strict";e.d(oe,{Hy:function(){return A},NY:function(){return R},Gw:function(){return d},sH:function(){return u},BR:function(){return p},qp:function(){return E},Xc:function(){return M},J7:function(){return n}});var w=e(57361),L=e(9754),Y=e.n(L),K=e(10237),G=e(37055),A=function(){var T=(0,w.Z)(Y().mark(function Z(){var t,ae,j,N,W,l,h,U=arguments;return Y().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return t=U.length>0&&U[0]!==void 0?U[0]:"",ae=U.length>1&&U[1]!==void 0?U[1]:"",j="",t.startsWith("http")?(N=t.split("//")[1].trim(),W=N.split("/")[0],j="https://".concat(W,"/cms/ticket")):(l=t.split("/")[0],j="https://".concat(l,"/cms/ticket")),_.prev=4,_.next=7,K.ZQ.get({url:j,params:{ticket:ae}});case 7:if(h=_.sent,!(h.status===200||h.status===403)){_.next=10;break}return _.abrupt("return",Promise.resolve(!0));case 10:return _.abrupt("return",Promise.resolve(!1));case 13:return _.prev=13,_.t0=_.catch(4),_.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return _.stop()}},Z,null,[[4,13]])}));return function(){return T.apply(this,arguments)}}(),R=function(){var T=(0,w.Z)(Y().mark(function Z(t){var ae,j;return Y().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,K.ZQ.get({url:G.ZP.local.getTicket(t)});case 2:if(ae=W.sent,j=ae.data,j.code!==0){W.next=6;break}return W.abrupt("return",Promise.resolve(j.data.ticket));case 6:return W.abrupt("return",Promise.resolve(""));case 7:case"end":return W.stop()}},Z)}));return function(t){return T.apply(this,arguments)}}(),d=function(){var T=(0,w.Z)(Y().mark(function Z(){var t;return Y().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,K.WY.get({url:G.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return t=j.sent,j.abrupt("return",t.data.list);case 4:case"end":return j.stop()}},Z)}));return function(){return T.apply(this,arguments)}}(),p=function(){var T=(0,w.Z)(Y().mark(function Z(t){var ae,j,N;return Y().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,K.WY.get({url:G.ZP.localStorage.getPravateVideoUrl(t)});case 2:if(ae=l.sent,ae.data.code!==0){l.next=6;break}return j=ae.data.data.videoPlayInfo,N=j===void 0?"":j,l.abrupt("return",N);case 6:return l.abrupt("return","");case 7:case"end":return l.stop()}},Z)}));return function(t){return T.apply(this,arguments)}}(),n=function(){var T=(0,w.Z)(Y().mark(function Z(t){var ae,j,N;return Y().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return ae=G.ZP.localStorage.getPravateDocUrl(t),l.prev=1,l.next=4,K.WY.get({url:ae});case 4:if(j=l.sent,N=j.data,!(N.code===0&&N.data)){l.next=8;break}return l.abrupt("return",N.data.docResourceDownloadUrl||"");case 8:return l.abrupt("return","");case 11:return l.prev=11,l.t0=l.catch(1),l.abrupt("return","");case 14:case"end":return l.stop()}},Z,null,[[1,11]])}));return function(t){return T.apply(this,arguments)}}(),u=function(Z){var t=Z.studyInfo,ae=Z.progress,j=Z.recent_start,N=Z.page_count,W=Z.enterpriseId,l=Z.userId,h=Z.token,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D,_=t.studyType;if(_==="studyTask"&&(D=G.ZP.SaveProgress.studySaveProgress(t)),(_==="course"||_==="enterprise")&&(D=G.ZP.SaveProgress.enterpriseCourseSaveProgress(t)),_==="studyProject"&&(D=G.ZP.SaveProgress.projectSaveProgress(t)),_==="platform"&&(D="".concat(G.ZP.SaveProgress.platformCourseSaveProgress(t))),(U||_==="platform")&&(D+="?enterprise_id=".concat(W,"&user_id=").concat(l)),U)return D+="&access_token=".concat(h||localStorage.getItem("token")),D;var k={progress:ae,recent_start:j,tempTime:Date.parse(new Date)};return N&&(k.page_count=N),t.evaluationId&&(k.evaluation_id=t.evaluationId),K.WY.post({url:D,data:k})},E=T=>{var Z=T.popupId,t=T.planId,ae=T.resourceId,j=T.type;return K.WY.post({url:G.ZP.TaskStudyRecord.setRandomPopupRecord(t),data:{course_id:ae,terminal_type:"PC",popup_id:Z,type:j}})},M=(T,Z)=>{var t=G.ZP.SaveProgress.reportStatusInterval(T);return K.WY.post({url:t,data:Z})}},21594:function(be,oe,e){"use strict";e.d(oe,{pu:function(){return G},RG:function(){return A},Gp:function(){return R},O8:function(){return d}});var w=e(88986),L=e(69164),Y=e(38642),K=e(41225),G=p=>{var n="";switch(p){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},A=(p,n)=>{var u={};return n.forEach(E=>{var M=p.find(j=>j.type===E.type);if(M)if(E.type==="document_duration_limit"){var T=M.action_list,Z=T.find(j=>j.type==="random_popup_verification");!(0,Y.UI)("RANDOM_POPUP_VERIFY")||!Z?u[E.name]="CLOSE":u[E.name]=Z.param.checked==="true"?"OPEN":"CLOSE"}else if(E.type==="document_player"){var t=JSON.parse(M.actions);t.forEach(j=>{j.param.checked==="true"&&(u[E.name]=j.type)})}else if(E.type==="dynamic_watermark"){var ae=M.action_list;ae.forEach(j=>{j.type===E.resourceType&&j.param.checked==="true"&&(u[E.name]=j.param.comment)})}else u[E.name]=M.switch_status}),u},R=p=>{(0,K.sH)((0,w.Z)({progress:100,recent_start:1},p)).then(n=>{n&&n.data&&(0,L.Z)(n.data.integral_info||"")})},d=p=>{var n=document.createElement("div");return n.innerHTML=p,n.childNodes[0]}},24144:function(be,oe,e){"use strict";e.d(oe,{G2:function(){return de},Sc:function(){return _},Ur:function(){return Ve},VI:function(){return qe},Lh:function(){return pt},DZ:function(){return N},ZM:function(){return l},tX:function(){return k},VQ:function(){return t},_D:function(){return Ye},iM:function(){return ie},vx:function(){return le},$Y:function(){return Z},ws:function(){return M},Pd:function(){return T}});var w=e(43185),L=e(53251),Y=e(62029),K=e(34792),G=e(48086),A=e(88986),R=e(33565),d=e(12924),p=e.n(d),n=e(91768),u=e(10237),E=e(37055);function M(I){var te=E.ZP.Common.upload();return u.WY.post({url:te,data:I})}function T(I){var te=E.ZP.CourseManageList.uploadAiImage();return u.WY.post({url:te,data:I})}function Z(I){var te=E.ZP.CourseManageList.saveAiImage();return u.WY.post({url:te,data:I})}function t(I){var te=I.idList,Le=E.ZP.CourseManageList.deleteAiImage();return u.WY.put({url:Le,data:{id_list:te}})}var ae=e(72387),j=e(76343),N={IMAGE:"image"},W=I=>{var te=I.uploadConfig,Le=I.uploadType,ye=I.clip,Se=I.size,_e=I.quality,Xe=I.t,Qe=Array.isArray(I.fileList)?I.fileList:[],nt=(0,d.useState)(!1),xe=(0,R.Z)(nt,2),We=xe[0],je=xe[1],He=(0,d.useState)(!1),rt=(0,R.Z)(He,2),ot=rt[0],lt=rt[1],ct=(0,d.useState)(0),dt=(0,R.Z)(ct,2),gt=dt[0],vt=dt[1],ft=(0,d.useState)(!1),Ce=(0,R.Z)(ft,2),g=Ce[0],v=Ce[1],o=(0,d.useState)({}),i=(0,R.Z)(o,2),f=i[0],C=i[1],S=a=>{var s=a.file;ye?b({file:s},ye):x({file:s})},b=(a,s)=>{var m=a.file;s==="crop"&&(C(m),V())},x=a=>{var s=a.file;je(!0);var m=new FormData;m.append("file",s),P(m,Le).then(c=>{var r="".concat(c.data.data.server,"/").concat(c.data.data.fileNewName),O=c.data.data.fileNewName,F=[(0,A.Z)({url:r,uid:O,name:O,thumbUrl:r,status:"done",response:"Server Error 500"},c.data.data)];X({newImgList:F})}).catch(c=>{re({error:c,data:{fileList:[{fileName:s.name}]}})}).finally(()=>{je(!1)})},J=a=>{I.onUploadedListChange&&I.onUploadedListChange(a)},X=a=>{var s=a.newImgList,m=te.maxCount;I.onUploadSuccess&&I.onUploadSuccess({fileList:[...s]});var c=[...Qe,...s],r=[];typeof m=="number"&&m===1?r=s:typeof m=="number"&&c.length>m?r=c.slice(0,m+1):r=c,J({fileList:r})},re=a=>{var s=a.error,m=a.data;I.onUploadFailed&&I.onUploadFailed({error:s,data:m})},V=()=>{v(!0)},$=()=>{v(!1)},he=a=>{if(I.onBeforeUpload)return I.onBeforeUpload(a);var s=te.accept;if(s&&s.indexOf(a.name.split(".").pop().toLowerCase())<0)return G.default.error(Xe("component.imgTypeError")),!1;if(Se&&Se.value&&Se.unit){var m=Se.value,c=Se.unit,r=c.toLowerCase()==="kb"?a.size/1024<m:a.size/1024/1024<m;if(!r)return G.default.error("".concat(Xe("component.imgUploadLimit")).concat(m).concat(c,"!")),!1}return!0},De=a=>{var s=[...Qe],m=s.findIndex(c=>c.uid===a.uid);s.splice(m,1),J({fileList:s})},Me=a=>{var s=Qe.findIndex(m=>m.uid===a.uid);vt(s),lt(!0)},Be=()=>{lt(!1)},z=a=>{var s=a.fileName,m=a.imgUrl,c=a.fileNewName,r={url:m,uid:c,fileName:s,name:c,thumbUrl:m,status:"done"};X({newImgList:[r]}),v(!1)},P=(a,s)=>s===N.IMAGE?M(a):null,y={listType:"picture-card",accept:"*",fileList:[],beforeUpload:he,customRequest:S,onPreview:Me,onRemove:De};return p().createElement(p().Fragment,null,p().createElement(L.Z,(0,Y.Z)({},y,te,I,{className:"upload_container_19fb1b0b-5573-42cb-b6a2-b39518df62cd ".concat(I.className)}),I.render((0,A.Z)((0,A.Z)({},I),{},{loading:We}))),p().createElement(ae.Z,{visible:ot,imgList:Qe.map(a=>a.url),defaultActive:gt,onClose:Be}),g&&p().createElement(j.Z,(0,Y.Z)({visible:g,file:f,widthScale:16,heightScale:9,sizeLimit:Se.value,sizeLimitUnit:Se.unit,accept:te.accept,onCancel:$,onOk:z,onUploadFailed:re,quality:_e},I.imgCropConfig)))};W.defaultProps={fileList:[],uploadType:"image",size:{},clip:"",quality:void 0};var l=(0,n.Z)()(W);function h(I){return(0,A.Z)((0,A.Z)({},I),{},{lastModified:I.lastModified,lastModifiedDate:I.lastModifiedDate,name:I.name,size:I.size,type:I.type,uid:I.uid,percent:0,originFileObj:I})}var U={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},D=I=>{var te=(0,d.useRef)({fileList:[],file:{}}),Le=I.uploadConfig,ye=I.size,Se=I.t;(0,d.useEffect)(()=>{te.current.fileList=I.fileList?I.fileList:[]},[I.fileList]);function _e(xe){var We=!0;if(ye&&ye.value&&ye.unit){var je=ye.value,He=ye.unit,rt=He.toLowerCase()==="kb"?xe.size/1024<je:xe.size/1024/1024<je;rt||(G.default.error("".concat(Se("component.imgUploadLimit")).concat(je).concat(He,"!")),We=!1)}return We&&(te.current.fileList=[...te.current.fileList,h(xe)]),We}function Xe(xe){var We=xe.file,je=xe.onError,He=xe.onProgress,rt=xe.onSuccess,ot=new FormData;return ot.append("file",We),M(ot,{onUploadProgress:lt=>{var ct=lt.total,dt=lt.loaded;He({percent:Math.round(dt/ct*100).toFixed(2)},We)}}).then(lt=>{var ct=lt.data;rt(ct,We)}).catch(je),{abort(){console.log("upload progress is aborted.")}}}var Qe={listType:"text",accept:"*",beforeUpload:_e,customRequest:Xe,onStart(xe){te.current.file=xe,te.current.fileList=te.current.fileList.map(We=>We.uid===xe.uid?(0,A.Z)((0,A.Z)({},We),{},{status:"uploading"}):We),I.onChange&&I.onChange(k({file:te.current.file,fileList:te.current.fileList}))},onSuccess(xe,We){te.current.file=We,te.current.fileList=te.current.fileList.map(je=>je.uid===We.uid?(0,A.Z)((0,A.Z)({},je),{},{response:xe,status:"done"}):je),I.onChange&&I.onChange(k({file:te.current.file,fileList:te.current.fileList}))},onError(xe,We){I.onChange(k({file:te.current.file,fileList:te.current.fileList.map(je=>je.url?je:(0,A.Z)((0,A.Z)({},je),{},{status:"error"}))}))},onProgress(xe,We){var je=xe.percent;te.current.file=We,te.current.fileList=te.current.fileList.map(He=>He.uid===We.uid?(0,A.Z)((0,A.Z)({},He),{},{percent:je}):He),I.onChange&&I.onChange(k({file:te.current.file,fileList:te.current.fileList}))}},nt=(0,A.Z)((0,A.Z)({},Qe),Le);return p().createElement(p().Fragment,null,p().createElement(L.Z,nt,I.render((0,A.Z)({},I))))},_=(0,n.Z)()(D);function k(I){var te=I.file,Le=I.fileList;return{file:(0,A.Z)({},te),fileList:Le.map(ye=>{var Se=ye.response,_e=ye.name,Xe=ye.type,Qe=ye.size,nt=ye.status,xe=ye.percent,We=ye.uid,je=ye.url;if(Se){var He=Se.data,rt=Se.error;return rt?(0,A.Z)((0,A.Z)((0,A.Z)({},ye),He),{},{status:"error"}):(0,A.Z)((0,A.Z)((0,A.Z)({},ye),He),{},{url:"".concat(He.server,"/").concat(He.fileNewName)})}return{name:_e,size:Qe,type:Xe,percent:xe,status:nt,url:je,uid:We}})}}function B(I){var te=I.name,Le=te.match(/\.([0-9a-z]+)(?:[\?#]|$)/i),ye=(0,R.Z)(Le,1),Se=ye[0];switch(Se.toLowerCase()){case".mp3":return N.AUDIO;case".mp4":return N.VIDEO;case".webp":case".svg":case".png":case".gif":case".jpg":case".jpeg":case".jfif":case".bmp":case".dpg":case".ico":return N.IMAGE;default:return""}}function Q(I){var te=I.split("/"),Le=te[te.length-1],ye=Le.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(ye)||[""])[0]}var ce=I=>p().createElement(l,(0,Y.Z)({},I,{uploadConfig:(0,A.Z)((0,A.Z)({},I.uploadConfig),{},{showUploadList:!1,maxCount:1,fileList:I.fileList}),className:"sample_upload_image_container",render:te=>Ye(te)}));ce.defaultProps={uploadConfig:{listType:"picture-card",maxCount:1},addTitle:"",size:{value:2,unit:"MB"},fileList:[]};var de=(0,n.Z)()(ce),Oe=e(20228),Te=e(11382),Ae=e(7085),Ke=e(49101),Ye=I=>{var te=I.uploadConfig,Le=I.loading,ye=I.fileList,Se=I.addTitle,_e=I.changeTip,Xe=_e===void 0?"":_e,Qe=I.imageContainerClassName,nt=te.maxCount;return Le?p().createElement(Ae.Z,null):ye.length>0&&ye.length<=nt?p().createElement("div",{className:"avatar_list_container ".concat(Qe)},p().createElement("img",{className:"avatar",src:ye[0].url,alt:"img"}),Xe&&p().createElement("div",{className:"change_btn"},Xe)):p().createElement("div",{className:"avatar_select_container"},p().createElement(Ke.Z,null),p().createElement("div",{className:"avatar_select_tip"},Se))},ie=I=>{var te=I.uploadConfig,Le=I.loading,ye=I.fileList,Se=I.selectTip,_e=te.maxCount;return Le?p().createElement(Ae.Z,null):ye.length>=_e?null:p().createElement("div",{className:"picture_select"},p().createElement(Ke.Z,null),Se&&p().createElement("div",{className:"picture_select_tip"},Se))},le=I=>{var te=I.loading,Le=I.fileList,ye=I.changeTip,Se=I.addTitle,_e=I.renderClassName,Xe=(0,R.Z)(Le,1),Qe=Xe[0];return te?p().createElement(Te.Z,{spinning:te,indicator:p().createElement(Ae.Z,{spin:!0})},p().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(_e)})):Qe?p().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(_e)},p().createElement("img",{src:Qe,alt:"image"}),p().createElement("div",{className:"change_btn"},ye)):p().createElement("div",{className:"upload_btn_container ".concat(_e)},p().createElement("div",{className:"upload_btn"},p().createElement(Ke.Z,null),Se&&p().createElement("div",{className:"avatar_select_tip"},Se)))},ne=I=>{var te=I.loading,Le=I.fileList,ye=I.changeTip,Se=I.reset,_e=I.renderClassName,Xe=_slicedToArray(Le,1),Qe=Xe[0],nt=xe=>{xe.stopPropagation(),Se.resetEvent&&Se.resetEvent(xe)};return te?React.createElement(_Spin,{spinning:te,indicator:React.createElement(LoadingOutlined,{spin:!0})},React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(_e)})):React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(_e)},React.createElement("img",{src:Qe,alt:"image"}),React.createElement("div",{className:"change_btns"},React.createElement("span",{className:"operate_item operate_change"},ye),React.createElement("span",{onClick:xe=>{nt(xe)},className:"operate_item operate_reset"},Se.tip)))},Ee=e(84874),Ie=I=>{var te=Le=>{I.onChange&&I.onChange(Le)};return p().createElement(_,(0,Y.Z)({onChange:te,uploadType:N.VIDEO},I,{uploadConfig:(0,A.Z)({accept:"video/*",showUploadList:!1},I.uploadConfig),render:()=>p().createElement("span",{className:"icon"},p().createElement(Ee.Z,{iconClass:"icon-shipinfujian",color:I.iconColor,size:"16px"}))}))};Ie.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var $e=(0,n.Z)()(Ie),Ze=I=>{var te=Le=>{I.onChange&&I.onChange(Le)};return p().createElement(_,(0,Y.Z)({onChange:te,uploadType:N.AUDIO},I,{uploadConfig:(0,A.Z)({accept:"audio/*",showUploadList:!1},I.uploadConfig),render:()=>p().createElement("span",{className:"icon"},p().createElement(Ee.Z,{iconClass:"icon-yinpinfujian",size:"16px",color:I.iconColor}))}))};Ze.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var ze=(0,n.Z)()(Ze),et=e(22385),se=e(31097),ee=e(86506),Ne=e.n(ee),we=I=>{var te=Le=>{I.onChange&&I.onChange(Le)};return p().createElement(_,(0,Y.Z)({onChange:te,uploadType:N.IMAGE},I,{uploadConfig:(0,A.Z)({accept:"image/*",showUploadList:!1},I.uploadConfig),render:()=>p().createElement(p().Fragment,null,I.uploadImageIcon?I.uploadImageIcon((0,A.Z)({},I.uploadConfig)):p().createElement(se.Z,{title:I.t("examination.uploadImgTip"),overlayStyle:{fontSize:"12px"}},p().createElement("span",{className:Ne()["icon-container"]},p().createElement(Ee.Z,{iconClass:"icon-tupianfujian",color:"#979797",size:"16px"}))))}))};we.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Ve=(0,n.Z)()(we),tt=e(34669),Fe=e(82833),ke=e(12968),at=e(44208),mt=e(54549),Re=e(56653),Ge=e.n(Re),it=e(76466),qe={OPEN:"open",CLOSE:"close",CUSTOM:"custom"},st=I=>{var te=I.t,Le=I.preview,ye=I.previewSize,Se=I.remove,_e=I.status,Xe=I.name,Qe=I.extension,nt=!_e||_e==="done",xe=_e&&_e==="error",We=I.resourceType||B({name:Xe,extension:Qe}),je=(0,d.useState)({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),He=(0,R.Z)(je,2),rt=He[0],ot=He[1],lt=(0,d.useState)({visible:!1,destroyOnClose:!0,title:te("common.resourcePreview"),onCancel:v}),ct=(0,R.Z)(lt,2),dt=ct[0],gt=ct[1];function vt(o){var i=o||window.event;i.stopPropagation(),i.cancelBubble=!0,I.onDeleteItem&&I.onDeleteItem()}function ft(o){var i=o.percent,f=o.url;if(nt)switch(We){case N.IMAGE:return p().createElement("div",{className:Ge().cover},p().createElement(at.Z,{width:ye,height:ye,alt:"img",className:Ge()["ant-image-container"],src:f}));case N.VIDEO:return p().createElement("div",{className:Ge().cover},p().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117263953920.png",alt:"video"}));case N.AUDIO:return p().createElement("div",{className:Ge().cover},p().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117280731136.png",alt:"audio"}));default:return null}if(xe)return p().createElement("div",{className:"".concat(Ge().cover," ").concat(Ge()["error-cover"])},te("component.uploadFailed"));var C=Math.floor(i);return p().createElement("div",{className:Ge().cover},p().createElement("div",{className:Ge()["cover-content"]},p().createElement(Fe.Z,{showInfo:!1,strokeWidth:4,percent:Math.floor(C)}),p().createElement("span",{className:Ge()["progress-tip"]},C>0?"\u4E0A\u4F20\u4E2D...":"\u7B49\u5F85\u4E2D")))}function Ce(){switch(We){case N.IMAGE:return p().createElement(Ee.Z,{iconClass:"icon-FView",size:"16px",color:"#fff"});case N.VIDEO:case N.AUDIO:return p().createElement(Ee.Z,{iconClass:"icon-bofang",size:"22px",color:"#fff"});default:return null}}function g(o,i){var f=i.type,C=i.url,S=i.resourceList,b=i.resourceType,x=i.index,J=o||window.event;if(J.stopPropagation(),J.cancelBubble=!0,Le!==qe.CLOSE){if(Le===qe.CUSTOM&&I.onPreview){I.onPreview({resourceList:S,resourceType:b,index:x,e:o});return}if(b.includes(N.VIDEO)||f.includes(N.AUDIO)){var X=I.extension==="mp3";ot((0,A.Z)((0,A.Z)({},rt),{},{watchType:"video",resourceInfo:{source:{FD:C,OD:C},originUrl:C,contentType:X?"audio/mp3":b},autoPlay:!0,draggable:!0})),gt((0,A.Z)((0,A.Z)({},dt),{},{visible:!0}))}}}function v(o){var i=o||window.event;i.stopPropagation(),i.cancelBubble=!0,ot({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),gt((0,A.Z)((0,A.Z)({},dt),{},{visible:!1}))}return p().createElement(p().Fragment,null,p().createElement("div",{className:Ge()["resource-item-container"],style:{width:"".concat(ye,"px"),height:"".concat(ye,"px")}},ft(I),(!_e||_e==="done"||_e==="error")&&p().createElement("div",null,Le!==qe.CLOSE&&_e!=="error"&&We!==N.IMAGE&&p().createElement("div",{className:Ge().mask,onClick:o=>{g(o,I)}},Ce(I)),Se&&p().createElement("div",{className:Ge().delete,onClick:vt},p().createElement(mt.Z,{className:Ge()["delete-icon"]})))),Le===qe.OPEN&&We!==N.IMAGE&&p().createElement(it.Z,(0,Y.Z)({},rt,{previewInfo:dt})))};st.defaultProps={preview:qe.OPEN,previewSize:72,remove:!0,resourceType:""};var pt=(0,n.Z)()(st)},51975:function(be,oe,e){"use strict";e.d(oe,{l:function(){return K}});var w=e(62029),L=e(12924),Y=e.n(L),K=(G,A)=>function(d){return Y().createElement(G.Consumer,null,p=>Y().createElement(A,(0,w.Z)({},d,{contextData:p})))}},11449:function(be,oe,e){"use strict";e.d(oe,{Z:function(){return Q}});var w=e(88986),L=e(33565),Y=e(12924),K=e.n(Y),G=e(3115),A=e(49111),R=e(19650),d=e(62029),p=e(57663),n=e(71577),u=e(91768),E=e(28216),M=e(37055),T=e(10237);function Z(ce){var de=M.ZP.getHelpContentByMenuKey(),Oe={key:ce};return T.WY.get({url:de,params:Oe})}var t=e(74228),ae=e.n(t),j=e(1164),N=e(76466),W=e(38642);class l extends K().Component{constructor(de){var Oe;super(de);Oe=this,this.getHelpContentByMenuKey=()=>{var Te=this.props.defaultMenuKey;Z(Te).then(Ae=>{var Ke=Ae.data,Ye=Ke.help_url,ie=Ke.video_url;this.setState({videoUrl:ie,helpUrl:Ye})})},this.handleOpenHelpUrl=Te=>{if((0,W.ve)()){window.open(Te,"_blank");return}j.Z.targetTo({path:Te,isExternalLink:!0})},this.handleOpenVideo=function(Te){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe.props.t("helpCenter.video");Oe.setState(Ke=>({resourcePlayInfo:(0,w.Z)((0,w.Z)({},Ke.resourcePlayInfo),{},{resourceInfo:{originUrl:Te,source:{FD:Te,OD:Te},contentType:"mp4"}}),previewInfo:(0,w.Z)((0,w.Z)({},Ke.previewInfo),{},{title:Ae,visible:!0,onCancel:Oe.handleCancelPreview})}))},this.handleCancelPreview=()=>{var Te=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,w.Z)((0,w.Z)({},Te),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:de.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var de=this.state,Oe=de.helpUrl,Te=de.resourcePlayInfo,Ae=de.previewInfo,Ke=de.videoUrl,Ye=this.props.t;return K().createElement("div",{className:ae().helpCenter},Ke&&K().createElement(n.Z,{type:"link",className:ae()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(Ke)},Ye("helpCenter.video")),Oe&&K().createElement(n.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(Oe)},Ye("helpCenter.tutorial")),K().createElement(N.Z,(0,d.Z)({},Te,{previewInfo:Ae})))}}var h=ce=>({defaultMenuKey:ce.currentRoute.menuKey});l.defaultProps={defaultMenuKey:""};var U=(0,E.$j)(h)((0,u.Z)()(l));function D(ce){var de=ce.extra,Oe=localStorage.getItem("dingPersonnel"),Te=sessionStorage.getItem("dingPersonnel");return K().createElement(R.Z,null,de,Oe!=="dingPersonnel"&&Te!=="dingPersonnel"&&(0,W.eY)("COMMONEXTRA_HELP_CENTER")&&K().createElement(U,null))}var _=D,k=e(4408);function B(ce){var de=(0,Y.useState)({helpCenter:(0,W.eY)("HEAD_HELP_CENTER_BUT")}),Oe=(0,L.Z)(de,1),Te=Oe[0],Ae=ce.pageContainerParams,Ke=Ae===void 0?{}:Ae,Ye=ce.noPadding,ie=Ye===void 0?!1:Ye,le=ce.isPersonal,ne=le===void 0?!1:le,Ee=ce.pageTitle,Ie=ce.className,$e=Ie===void 0?"":Ie,Ze={extra:Te.helpCenter?K().createElement(_,{extra:Ke.extra}):Ke.extra},ze=(0,w.Z)((0,w.Z)({},Ke),Ze);return K().createElement("div",{className:"page-container-content ".concat(ie?"page-container-noPadding":""," ").concat(ne?"page-container-content_personal_background":""," ").concat($e)},Ee&&K().createElement(k.Z,{title:Ee}),ne?K().createElement(G.Z,null,ce.children):K().createElement(G.Z,ze,ce.children))}var Q=B},63521:function(be,oe,e){"use strict";var w=e(71194),L=e(57016),Y=e(62029),K=e(34792),G=e(48086),A=e(57361),R=e(9715),d=e(86585),p=e(33565),n=e(43358),u=e(34041),E=e(9754),M=e.n(E),T=e(12924),Z=e.n(T),t=e(91768),ae=e(35428),j=e(30565),N=e.n(j),W=e(2396),l=u.Z.Option,h=U=>{var D=U.t,_=U.group_id,k=U.visible,B=k===void 0?!1:k,Q=U.onCancel,ce=U.enable,de=ce===void 0?!1:ce,Oe=d.Z.useForm(),Te=(0,p.Z)(Oe,1),Ae=Te[0],Ke=(0,T.useState)(!1),Ye=(0,p.Z)(Ke,2),ie=Ye[0],le=Ye[1],ne=(0,T.useState)([]),Ee=(0,p.Z)(ne,2),Ie=Ee[0],$e=Ee[1],Ze=(0,T.useState)({}),ze=(0,p.Z)(Ze,2),et=ze[0],se=ze[1],ee=(0,T.useState)(void 0),Ne=(0,p.Z)(ee,2),we=Ne[0],Ve=Ne[1];(0,T.useEffect)(()=>{tt()},[]),(0,T.useEffect)(()=>{B?Ae.setFieldsValue({group_id:_||void 0}):Ae.resetFields()},[Ae,B,_]);var tt=()=>{(0,ae.iJ)(de).then(Re=>{Re.success==="true"&&$e(Re.data||[])})},Fe=function(){var Re=(0,A.Z)(M().mark(function Ge(it){var qe,st,pt;return M().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return le(!0),te.next=3,(0,ae.pM)({group_id:it.group_id,tag_names:it.tag_names});case 3:qe=te.sent,st=qe.data,pt=qe.success,le(!1),pt==="true"&&(st.exists_tag_names&&st.exists_tag_names.length>0?G.default.success(D("tagManage.createSuccess",{num:st.exists_tag_names.length})):G.default.success(D("personnelDevelope.createSuccess")),Q(it.group_id));case 8:case"end":return te.stop()}},Ge)}));return function(it){return Re.apply(this,arguments)}}(),ke=Re=>{Ve(Re.slice(0,30))},at=Re=>{Ve(void 0),Re&&Re.length>0&&Re[Re.length-1].length>0?(Ae.setFieldsValue({tag_names:Re}),se({})):Ae.setFieldsValue({tag_names:Re.slice(0,-1)})},mt=(Re,Ge)=>{var it=!1,qe=new RegExp(W.fA.tagName);return Ge.forEach(st=>{qe.test(st)&&(it=!0)}),it?Promise.reject(D("tagManage.tagValidMessage")):Promise.resolve()};return Z().createElement(T.Fragment,null,Z().createElement(L.Z,{title:D("tagManage.add"),visible:B,destroyOnClose:!0,width:620,onOk:()=>{Ae.validateFields().then(Re=>{Fe(Re)})},confirmLoading:ie,onCancel:()=>Q(),className:N().addTagModal},Z().createElement(d.Z,{form:Ae,colon:!1,preserve:!1,initialValues:{group_id:_||void 0}},Z().createElement(d.Z.Item,(0,Y.Z)({name:"tag_names",label:D("tagManage.tags")},et,{validateFirst:!0,rules:[{required:!0,message:D("common.requiredNotBlank"),type:"array"},{validator:mt}]}),Z().createElement(u.Z,{className:N().selectTag,mode:"tags",placeholder:D("tagManage.placeholderTag2"),onSearch:ke,onChange:at,maxTagCount:100,maxTagPlaceholder:D("tagManage.addTagsLimit"),maxTagTextLength:30,open:!1,optionFilterProp:"label",searchValue:we})),Z().createElement(d.Z.Item,{name:"group_id",label:D("tagManage.group"),rules:[{required:!0,message:D("common.requiredNotBlank")}]},Z().createElement(u.Z,{showSearch:!0,placeholder:D("tagManage.selectTagGroups"),filterOption:(Re,Ge)=>Ge.children.toLowerCase().indexOf(Re.toLowerCase())>=0},Ie.map(Re=>Z().createElement(l,{key:Re.id,value:Re.id},Re.group_name)))))))};oe.Z=(0,t.Z)()(h)},9849:function(be,oe,e){"use strict";e.d(oe,{Ej:function(){return G},kL:function(){return A},T:function(){return R},NU:function(){return d},FL:function(){return p},fn:function(){return n},bm:function(){return u},jY:function(){return E},Vs:function(){return M},li:function(){return T},Nl:function(){return Z},YF:function(){return t},Q6:function(){return ae},zW:function(){return j},Zv:function(){return N},Qg:function(){return W},qc:function(){return l},Ve:function(){return U},rS:function(){return D},Rh:function(){return _}});var w=e(10237),L=e(37055),Y=e(38642),K={zaraFlag:(0,Y.UI)("ZARA_H5")};function G(k,B){var Q=L.ZP.StudyProjectList.startStudy(k);return w.WY.post({url:Q,data:B})}function A(k){var B=L.ZP.Common.enroll(k);return w.WY.post({url:B})}function R(k,B){var Q=k.courseId,ce=L.ZP.StudyProjectList.studyProject(Q);return w.WY.get({url:ce,params:B})}function d(k){var B=k.id,Q=K.zaraFlag?L.m1.getAssessmentProjectInfo(B):L.m1.getProjectInfo(B);return w.WY.get({url:Q})}function p(k){var B=k.courseId,Q=L.ZP.EnterpriseCourse.addScanCount(B);return w.WY.post({url:Q})}function n(){var k=L.ZP.StudyProjectList.getAccountInfo();return w.WY.get({url:k})}function u(k){var B=L.ZP.StudyProjectList.projectCertiUrl(k);return w.WY.get({url:B})}function E(k){var B=k.courseId,Q=L.ZP.Courses.like(B);return w.WY.post({url:Q})}function M(k){var B=L.ZP.EnterpriseCourse.addCommentAndScore();return w.qg.post({url:B,data:k})}function T(k){var B=L.ZP.EnterpriseCourse.getCourseComments();return w.WY.get({url:B,params:k})}function Z(k){var B=L.ZP.EnterpriseCourse.addCommentAndScore();return w.qg.post({url:B,data:k})}function t(k){var B=L.ZP.EnterpriseCourse.deleteComment();return w.qg.post({url:B,data:k})}function ae(k,B){var Q=L.ZP.StudyProjectList.projectStudyRecord(k);return w.WY.get({url:Q,params:B})}function j(k){var B=L.ZP.DingSpaceId.getSpaceId();return w.WY.get({url:B,params:k})}function N(k,B){var Q=L.ZP.PlatformCourse.learningUrl(k);return w.WY.get({url:Q,params:B})}function W(k){var B=L.ZP.MyExamTask.examIntro({examId:k});return w.WY.get({url:B})}function l(k){var B=L.ZP.MyExamTask.examCheckStatus({examId:k});return w.WY.get({url:B})}function h(k,B){var Q=CONFIG.Common.getOperateLog(k);return formDataRequest.get({url:Q,params:B})}function U(k,B){var Q=K.zaraFlag?L.ZP.StudyProjectList.changeCustomStatus(k):L.ZP.StudyProjectList.changeStatus(k);return w.WY.post({url:Q,data:B})}function D(k){var B=L.ZP.StudyProjectList.getProjectReward(k);return w.WY.get({url:B})}function _(k){var B=L.ZP.subsidyGz.subsidyCourseSetting(k);return w.WY.get({url:B})}},62300:function(be,oe,e){"use strict";e.r(oe),e.d(oe,{default:function(){return ze}});var w=e(57663),L=e(71577),Y=e(47673),K=e(4107),G=e(48736),A=e(27049),R=e(62029),d=e(34792),p=e(48086),n=e(88986),u=e(43358),E=e(34041),M=e(88983),T=e(47933),Z=e(12924),t=e.n(Z),ae=e(28216),j=e(91768),N=e(59239),W=e(49101),l=e(76651),h=e(57068),U=e(854),D=e(77576),_=e(59314),k=e(24144);class B extends t().Component{constructor(){super(...arguments);this.state={avatar:this.props.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),type:"crop"},this.onUploadChange=se=>{var ee=se.fileList,Ne=ee.length>0?ee[0].url:"";this.setState({avatar:Ne},()=>{this.props.onChange(Ne)})},this.handleSwitch=se=>{se?this.setState({type:""}):this.setState({type:"crop"})}}static getDerivedStateFromProps(se,ee){return se.avatar!==ee.avatar?{avatar:se.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png")}:null}render(){var se=this.state,ee=se.avatar,Ne=se.type,we=this.props.t;return t().createElement("div",{className:"avatar__content"},t().createElement("div",{className:"avatar__img"},t().createElement(k.G2,{imageContainerClassName:"upload_avatar_container",fileList:ee?[{url:ee}]:[],uploadConfig:{accept:"jpeg, jpg, png"},onUploadedListChange:this.onUploadChange,size:{value:500,unit:"kb"},changeTip:we("setting.change"),clip:Ne,imgCropConfig:{widthScale:1,heightScale:1}})),t().createElement("div",{className:"avatar__tip-content"},t().createElement("div",null,t().createElement(_.Z,{defaultChecked:!1,onChange:this.handleSwitch}),t().createElement("span",{className:"item-margin"},we("resourceLibrary.originUpload"))),t().createElement("span",{className:"avatar__tip"},we("lecturerPage.avatarMeasureTip"),", ",we("lecturerPage.avatarSizeTip"),", ",we("lecturerPage.avatarTypeTip"))))}}var Q=(0,j.Z)()(B),ce=e(49616),de=e(84874),Oe=e(88311),Te=e(64262),Ae=e(4408),Ke=e(11449),Ye=e(28531),ie=e(37781),le=e(86726),ne=N.Z.Item,Ee=T.ZP.Group,Ie=E.Z.Option;class $e extends t().Component{constructor(){super(...arguments);this.state={orgDialogVisible:!1,deptDialogVisible:!1,rangeList:{dept:[],post:[],group:[],user:[]},AddLevelVisible:!1,levelList:[],level:"",tutorDetail:{avatar:"",user_id:"",user_name:"",gender:"female",department_id:"",level_id:"",description:"",department_name:"",tags:[]},showError:!1,loading:!1,loadingDetail:!1,allowActions:(0,le.V9)("tutorLevel",this.props.userInfo.modules)},this.getTutorData=se=>{(0,ie.PQ)(se).then(ee=>{ee.data.code===0&&this.setState({loadingDetail:!0,tutorDetail:(0,n.Z)((0,n.Z)({},ee.data.data),{},{level_id:ee.data.data.level_id||"",department_id:ee.data.data.department_id||""})})})},this.handleSubmit=()=>{var se=this.state.tutorDetail,ee=h.parse(l.m8.location.search),Ne=ee.tutorId;if(!se.user_id){this.setState({showError:!0});return}this.setState({showError:!1}),this.props.form.validateFields(we=>{if(!we){var Ve=(0,n.Z)({},se);Ne?this.editAjax(Ve,se.tags):this.newCreateAjax(Ve,se.tags)}})},this.editAjax=(se,ee)=>{var Ne=h.parse(l.m8.location.search),we=Ne.tutorId,Ve=this.props.t;this.setState({loading:!0}),(0,ie.zv)((0,n.Z)({tutorId:we},se)).then(tt=>{this.setState({loading:!1}),tt.data.code===0&&(p.default.success(Ve("lecturerPage.editSuccess")),(0,Ye.tB)({tags:ee,resourceId:we,resourceType:"tutor"}),l.m8.replace("/tutorialManage/detail?tutorId=".concat(we)))}).catch(()=>{this.setState({loading:!1})})},this.newCreateAjax=(se,ee)=>{var Ne=this.props.t;this.setState({loading:!0}),(0,ie.Vu)(se).then(we=>{this.setState({loading:!1}),we.data.code===0&&(p.default.success(Ne("lecturerPage.addSuccess")),(0,Ye.tB)({tags:ee,resourceId:we.data.data,resourceType:"tutor"}),l.m8.replace("/tutorialManage/detail?tutorId=".concat(we.data.data)))}).catch(()=>{this.setState({loading:!1})})},this.getLevelList=()=>{var se=this.state.level;(0,ie.Qd)({}).then(ee=>{this.setState({level:ee.data.list.map(Ne=>Ne.id).indexOf(se)>-1?se:""}),this.setState({levelList:ee.data.list})})},this.renderDepContent=()=>{var se=this.state.tutorDetail;return se.department_id?t().createElement("span",{className:"cl-employee-selector__gallery__row__item"},se.department_name,t().createElement("span",{onClick:()=>this.handleDeleteItem(se.department_id)},t().createElement(de.Z,{iconClass:"icon-guanbi",size:"12px"}))):null},this.handleDeleteItem=()=>{var se=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},se),{},{department_id:"",department_name:""})})},this.getLecturer=se=>{var ee=se.user,Ne=this.state.tutorDetail;this.setState({orgDialogVisible:!1,showError:ee.length===0,tutorDetail:(0,n.Z)((0,n.Z)({},Ne),{},{user_id:ee.length?ee[0].id:Ne.id,user_name:ee.length?ee[0].user_name:Ne.user_name})})},this.openOrg=()=>{this.setState({orgDialogVisible:!0})},this.getDeptData=se=>{var ee=se.dept,Ne=this.state.tutorDetail;this.setState({orgDialogVisible:!1,tutorDetail:(0,n.Z)((0,n.Z)({},Ne),{},{user_id:ee.length?ee[0].department_id:Ne.department_id,user_name:ee.length?ee[0].department_name:Ne.department_name})}),this.setState({rangeList:se,deptDialogVisible:!1})},this.handleAddLevel=se=>{this.getLevelList(),this.setState({AddLevelVisible:!1}),this.handleSelectLevel(se)},this.handleSelectLevel=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{level_id:se||""})})},this.changeAvatar=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{avatar:se})})},this.changeTag=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{tags:se})})},this.changeGender=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{gender:se.target.value})})},this.changeDesc=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{description:se.target.value})})},this.handleTreeSelectChange=se=>{var ee=this.state.tutorDetail;this.setState({tutorDetail:(0,n.Z)((0,n.Z)({},ee),{},{department_id:se})})}}componentDidMount(){this.getLevelList();var se=h.parse(l.m8.location.search),ee=se.tutorId;ee?this.getTutorData(ee):this.setState({loadingDetail:!0})}render(){var se=this.props,ee=se.t,Ne=se.prefixCls,we=se.themeColor,Ve=this.state,tt=Ve.orgDialogVisible,Fe=Ve.showError,ke=Ve.loading,at=Ve.tutorDetail,mt=Ve.loadingDetail,Re=Ve.deptDialogVisible,Ge=Ve.rangeList,it=Ve.AddLevelVisible,qe=Ve.levelList,st=Ve.allowActions,pt=this.props.form.getFieldDecorator,I=(0,le.H3)("add",st),te={labelCol:{span:2},wrapperCol:{span:22}},Le=h.parse(l.m8.location.search),ye=Le.tutorId,Se={resourceType:"tutor",resourceId:ye};return t().createElement(Ke.Z,{pageContainerParams:{header:{title:ee("tutorial.manage")}}},t().createElement(Ae.Z,{title:ee("documentTitle.newTutor")}),t().createElement("div",{className:"".concat(Ne,"__content")},t().createElement("span",{className:"".concat(Ne,"__content__header")},ye?ee("common.edit")+ee("tutorial.tutor"):ee("common.add")),t().createElement("div",{className:"".concat(Ne,"__content__form")},t().createElement(N.Z,{ref:this.formRef,layout:"horizontal",colon:!0},t().createElement(ne,(0,R.Z)({},te,{label:ee("tutorial.tutor"),required:!0}),t().createElement(t().Fragment,null,at.user_name&&t().createElement("span",{className:"cl-employee-selector__gallery__row__item"},at.user_name),ye?null:t().createElement("div",{className:"people-add-btn",style:{color:we,border:"1px solid ".concat(we)},onClick:()=>this.setState({orgDialogVisible:!0})},t().createElement(W.Z,null)," ",ee("tutorial.chooseTutor")),Fe&&t().createElement("p",{className:"error-select-people"},ee("tutorial.tutorEmptyTip")))),t().createElement(ne,(0,R.Z)({},te,{label:ee("tutorial.avatar"),className:"FormItem-className"}),t().createElement(Q,{avatar:at.avatar,onChange:this.changeAvatar})),t().createElement(ne,(0,R.Z)({},te,{label:ee("lecturerPage.sex")}),t().createElement(Ee,{onChange:this.changeGender,value:at.gender},t().createElement(T.ZP,{value:"male"},ee("lecturerPage.male")),t().createElement(T.ZP,{value:"female"},ee("lecturerPage.female")))),t().createElement(ne,(0,R.Z)({},te,{label:ee("common.teachingDepartmented")}),mt&&t().createElement(Te.Z,{className:"cl-search-normal-width",parentId:"",checkable:!1,asyncLoad:!0,defaultValue:at.department_name,treeSelect:!0,handleTreeSelectChange:this.handleTreeSelectChange})),t().createElement(ne,(0,R.Z)({},te,{label:ee("lecturerPage.selectGraded")}),t().createElement("div",{onMouseDown:_e=>(_e.preventDefault(),!1)},t().createElement(E.Z,{className:"select_input",placeholder:ee("lecturerPage.selectGrade"),value:at.level_id,allowClear:!0,onChange:this.handleSelectLevel,dropdownRender:_e=>t().createElement("div",null,_e,I&&t().createElement(t().Fragment,null,t().createElement(A.Z,{style:{margin:"4px 0"}}),t().createElement("div",{onClick:()=>this.setState({AddLevelVisible:!0}),style:{padding:"8px",cursor:"pointer",color:"rgba(0, 0, 0, 0.85)"}},t().createElement(W.Z,null),ee("lecturerPage.newGrade"))))},qe.map(_e=>t().createElement(Ie,{value:_e.id,key:_e.id},_e.name))))),t().createElement(ne,(0,R.Z)({},te,{label:ee("tutorial.tutorIntroducedd")}),t().createElement(K.Z.TextArea,{placeholder:ee("validation.pleaseEnter")+ee("tutorial.tutorIntroduced"),rows:8,value:at.description,onChange:this.changeDesc})),t().createElement(ne,(0,R.Z)({},te,{label:ee("lecturerPage.tags")}),pt("tagGroup",{initialValue:""})(t().createElement(ce.Z,{defaultFieldList:Se,setFieldValue:this.changeTag}))),t().createElement(N.Z.Item,te,t().createElement(L.Z,{type:"primary",loading:ke,onClick:this.handleSubmit},ee("common.submit"))))),t().createElement(Oe.Z,{visible:tt,title:ee("tutorial.chooseTutor"),onOk:this.getLecturer,onCancel:()=>this.setState({orgDialogVisible:!1}),onlyUser:!0,single:!0}),t().createElement(U.Z,{visible:it,onCancel:()=>this.setState({AddLevelVisible:!1}),level:"",onHandleList:this.handleAddLevel}),t().createElement(Oe.Z,{visible:Re,initData:Ge,displayType:["dept"],onlyDept:!0,single:!0,onOk:this.getDeptData,onCancel:()=>this.setState({deptDialogVisible:!1})})))}}$e.defaultProps={prefixCls:"tutorial-add"};var Ze=et=>({userInfo:et.user,themeColor:et.advancedSetting.themeColor}),ze=(0,j.Z)()((0,ae.$j)(Ze)(N.Z.create()($e)))},854:function(be,oe,e){"use strict";var w=e(62029),L=e(34792),Y=e(48086),K=e(47673),G=e(4107),A=e(9715),R=e(86585),d=e(12924),p=e.n(d),n=e(91768),u=e(18329),E=e(6793),M=e(37781),T=e(2396),Z=R.Z.Item,t=G.Z.TextArea;class ae extends p().Component{constructor(){super(...arguments);this.formRef=p().createRef(),this.state={loading:!1},this.onCancel=()=>{var N=this.props.onCancel;N&&this.props.onCancel()},this.handleSubmit=()=>{this.formRef.current.validateFields().then(N=>{this.handleLevel(N)})},this.handleLevel=N=>{var W=this.props.t,l=this.state.loading,h={id:this.props.level.id||"",name:(0,E.fy)(N.name),standard:N.standard||""};if(!l){this.setState({loading:!0});var U=null;this.props.level?U=(0,M.Tw)(h):U=(0,M.t3)(h),U.then(D=>{if(this.setState({loading:!1}),D.data.code===0){var _=this.props.level?W("lecturerPage.editSuccess"):W("lecturerPage.addSuccess");Y.default.success(_),this.props.onHandleList&&this.props.onHandleList(D.data.data.id)}}).catch(()=>this.setState({loading:!1}))}}}render(){var N=this.props,W=N.level,l=W===void 0?[]:W,h=N.visible,U=N.t,D={okText:U("common.ok"),cancelText:U("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"20px"},maskClosable:!1},_={labelCol:{span:3},wrapperCol:{span:20}},k=U(l?"lecturerPage.editGrade":"lecturerPage.newGrade"),B={name:l?l.name:"",standard:l?l.standard:""};return p().createElement(u.ZP,(0,w.Z)({},D,{visible:h,title:k,onCancel:this.onCancel,onOk:this.handleSubmit}),p().createElement("div",{className:"addLevel"},p().createElement(R.Z,{ref:this.formRef,name:"control-ref",initialValues:B},p().createElement(Z,{name:"name",label:U("lecturerPage.gradeName"),rules:[{required:!0}]},p().createElement(G.Z,{placeholder:U("lecturerPage.limitWords"),maxLength:32,style:{width:552},onInput:Q=>(0,T.q_)(Q,32)})),p().createElement(Z,(0,w.Z)({},_,{name:"standard",label:p().createElement("span",{className:"tutorial__standard__label"},U("lecturerPage.levelDescription"))}),p().createElement(t,{placeholder:U("lecturerPage.enterTextareaTip"),rows:6,maxLength:500,style:{width:552}})))))}}oe.Z=(0,n.Z)()(ae)},37781:function(be,oe,e){"use strict";e.d(oe,{Q_:function(){return Y},O$:function(){return K},PQ:function(){return G},zv:function(){return A},Vu:function(){return R},Qd:function(){return d},t3:function(){return p},Tw:function(){return n},kV:function(){return u},W5:function(){return E},MA:function(){return M},Mm:function(){return T},pF:function(){return Z},ZK:function(){return t},iT:function(){return ae},Nf:function(){return j},hB:function(){return N},GK:function(){return W}});var w=e(37055),L=e(10237);function Y(l){var h=l.tutorialsId,U=l.tutorUserId,D=l.userId,_=w.ZP.tutor.getCoachDetail({tutorialsId:h,tutorUserId:U,userId:D});return L.WY.get({url:_,params:{status:"single"}})}function K(l){var h=l.tutorialsId,U=l.status,D=l.keyword,_=w.ZP.tutor.getUserListByCoach(h);return L.WY.get({url:_,params:{status:U,keyword:D}})}function G(l){var h=w.ZP.tutor.queryTutor(l);return L.WY.get({url:h})}function A(l){var h=l.tutorId,U=l.user_id,D=l.gender,_=l.level_id,k=l.department_id,B=l.description,Q=l.avatar,ce=w.ZP.tutor.editTutor(h);return L.WY.post({url:ce,data:{user_id:U,gender:D,level_id:_,description:B,department_id:k,avatar:Q}})}function R(l){var h=l.user_id,U=l.gender,D=l.level_id,_=l.description,k=l.avatar,B=l.department_id,Q=w.ZP.tutor.addTutor();return L.WY.post({url:Q,data:{user_id:h,gender:U,level_id:D,description:_,department_id:B,avatar:k}})}function d(l){var h=l.keyword,U=h===void 0?"":h,D=w.ZP.tutor.levelList();return L.WY.get({url:D,params:{keyword:U}})}function p(l){var h=l.name,U=l.standard,D=w.ZP.tutor.addLevel();return L.WY.post({url:D,data:{name:h,standard:U}})}function n(l){var h=l.id,U=l.name,D=l.standard,_=w.ZP.tutor.editLevel(h);return L.WY.post({url:_,data:{id:h,name:U,standard:D}})}function u(l){var h=l.resourceId,U=l.type,D=w.ZP.tagsInformation.resourceQueryTags();return L.WY.get({url:D,params:{type:U,resourceId:h,isNewTag:!0}})}function E(l){var h=l.tutorId,U=l.keyword,D=l.page_size,_=l.page_number,k=w.ZP.tutor.apprenticeList(h);return L.WY.get({url:k,params:{keyword:U,page_size:D,page_number:_}})}function M(l){var h=w.ZP.tutor.deleteApprentice(l);return L.WY.post({url:h})}function T(l){var h=l.tutorId,U=l.user_ids,D=w.ZP.tutor.addApprentice(h);return L.WY.post({url:D,data:{user_ids:U}})}function Z(l){var h=w.ZP.tutor.deleteLevel(l);return L.WY.post({url:h})}function t(l){var h=l.source_id,U=l.destination_id,D=w.ZP.tutor.sortLevel(h);return L.WY.post({url:D,data:{source_id:h,destination_id:U}})}function ae(l){var h=l.tutorId,U=l.status,D=w.ZP.tutor.updateStatusTutor(h);return L.WY.post({url:D,data:{status:U}})}function j(l){var h=l.keyword,U=l.status,D=l.department_id,_=l.page_number,k=l.page_size,B=w.ZP.tutor.listTutor();return L.WY.get({url:B,params:{keyword:h,status:U,department_id:D,page_number:_,page_size:k}})}function N(l){var h=l.source_id,U=l.destination_id,D=w.ZP.tutor.updateSortTutor(h);return L.WY.post({url:D,data:{source_id:h,destination_id:U}})}function W(l){var h=w.ZP.tutor.deleteTutor(l);return L.WY.post({url:h})}},91648:function(be,oe,e){"use strict";e.d(oe,{Z:function(){return w}});function w(L,Y){var K,G,A,R,K;if(G="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),K=[],A=void 0,Y=Y||G.length,L)for(A=0;A<L;)K[A]=G[0|Math.random()*Y],A++;else for(R=void 0,K[8]=K[13]=K[18]=K[23]="-",K[14]="4",A=0;A<36;)K[A]||(R=0|Math.random()*16,K[A]=G[A===19?R&3|8:R]),A++;return K.join("")}},86726:function(be,oe,e){"use strict";e.d(oe,{V9:function(){return L},H3:function(){return Y},e:function(){return K},F:function(){return G}});var w=e(93485);function L(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=[];function p(n,u){var E=(0,w.Z)(u),M;try{for(E.s();!(M=E.n()).done;){var T=M.value;if(T.key===n){d=T.actions;break}T.children instanceof Array&&T.children.length&&p(A,T.children)}}catch(Z){E.e(Z)}finally{E.f()}}return p(A,R),d}function Y(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=R.find(p=>p.key===A)||{};return d.checked||!1}function K(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=!1;function p(n,u){var E=(0,w.Z)(u),M;try{for(E.s();!(M=E.n()).done;){var T=M.value;if(T.key===n){d=T.checked;break}T.children instanceof Array&&T.children.length&&p(A,T.children)}}catch(Z){E.e(Z)}finally{E.f()}}return p(A,R),d}function G(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d="";function p(n,u){var E=(0,w.Z)(u),M;try{for(E.s();!(M=E.n()).done;){var T=M.value;if(T.key===n){d=T.id;break}T.children instanceof Array&&T.children.length&&p(A,T.children)}}catch(Z){E.e(Z)}finally{E.f()}}return p(A,R),d}},69164:function(be,oe,e){"use strict";var w=e(34792),L=e(48086);function Y(K){K&&K.length>0&&L.default.success(K)}oe.Z=Y},65202:function(be,oe,e){"use strict";e.d(oe,{p:function(){return w}});function w(){return localStorage.getItem("themeColor")||"#516AE6"}},25547:function(be,oe,e){"use strict";e.d(oe,{Yd:function(){return Y},VX:function(){return G},lK:function(){return A},NP:function(){return R}});var w=e(88986),L=e(93485);function Y(d,p,n){var u=0;function E(M,T){for(var Z=0;Z<M.length;Z++){var t=M[Z];if(t[d]===p){u=T;break}else t.children instanceof Array&&t.children.length&&E(t.children,T+1)}}return E(n,1),u}function K(d){var p=1;function n(u,E){u.forEach(M=>{E>p&&(p=E),M.children&&M.children.length>0&&n(M.children,E+1)})}return n(d,1),p}function G(d,p,n){d.forEach((u,E,M)=>{if(u.id===p)return n(u,E,M);if(u.children)return G(u.children,p,n)})}function A(d,p){var n;function u(E){var M=(0,L.Z)(E),T;try{for(M.s();!(T=M.n()).done;){var Z=T.value;if(Z.id==p){n={id:Z.id,name:Z.name,children:Z.children,parentId:Z.parentId};break}Z.children&&Z.children instanceof Array&&Z.children.length>0&&u(Z.children)}}catch(t){M.e(t)}finally{M.f()}}return u(d),n?(0,w.Z)((0,w.Z)({},n),{},{children:n.children instanceof Array?n.children:[]}):{children:[],id:"",name:""}}var R=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",E=[...p];function M(T){Object.keys(n).forEach(Z=>{var t=Z,ae=n[Z];T[ae]=T[t],T[u]=T[u]&&T[u]instanceof Array?[...T[u]]:[],T[u].length?T[u].forEach(j=>{M(j)}):delete T[u]})}return E.forEach(T=>M(T)),E}},2396:function(be,oe,e){"use strict";e.d(oe,{fA:function(){return Y},kh:function(){return K},kR:function(){return G},rw:function(){return R},$s:function(){return d},q_:function(){return p},QK:function(){return n}});var w=e(6793),L={limitWords(u,E){return{rules:[{max:u,message:"\u6700\u591A\u8F93\u5165".concat(u,"\u4E2A\u5B57")},{required:!0,message:E||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(u){return{rules:[{max:u,message:"\u6700\u591A\u8F93\u5165".concat(u,"\u4E2A\u6807\u7B7E")}]}},required(u){return{rules:[{required:!0,message:u||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(u,E){return{rules:[{required:!0,message:u||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:E}]}}},Y={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},K=u=>isNaN(u)||!u||!(u>=0&&u<1e3)||!Y.score.test(u),G=u=>isNaN(u)||!u||!(u>-1e3&&u<1e3),A=u=>isNaN(u)||!u||!(u>=0&&u<1e3)||!Y.examScore.test(u),R=(u,E)=>{for(var M=0,T=0;T<u.length;T++){var Z=u.charAt(T);if(Z.match(/[^\x00-\xff]/ig)!=null?M+=1:M+=.5,M>E)return T}return 0},d=u=>{for(var E=0,M=0;M<u.length;M++){var T=u.charAt(M);T.match(/[^\x00-\xff]/ig)!=null?E+=1:E+=.5}return E},p=(u,E)=>{var M=u.target.value,T=u.target.dataset.originLength;if(u.target.dataset.originLength||(T=E,u.target.dataset.originLength=T),!!T){var Z=d(M);Z*1<E*1?u.target.setAttribute("maxLength",E*2):u.target.setAttribute("maxLength",E)}},n=(u,E)=>{var M="";return(!u||!(0,w.fy)(u))&&(M=E),M}},4412:function(be){be.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACPCAYAAAD0gYXiAAAW/ElEQVR4Xu2dCZAcV3mA/9fHaGZ2V9qVdlejvbQ7O7NaWdqNTbgxlmVbxkeME3AcHJwqKhCC44AJV0zZjg8ScwRDqLIMwUnsJEAKF4aCGEIigyVjAthQMTLWbcnyCmmtY6/Znav7vT/190yvenp7prtHM5Lm6NLUaHve1f/X//W6+zWD5lazEmA1O/LmwKEJr4ZPgia8JrwalkAND72peU14NSyBGh56U/N8wkNE6ZVXXrlIUZQrEPG5vr6+H/tsomLFm/A8iHJ6enowlUptYYxdwTm/HABWIaJZ89uqqn4sEokc8tBURYs04TmIc2ZmpiOTyVwmhLiCgAkhYlTMBObwnQaALwaDwfu7u7vnK0qoRGNNeDkogZmZmTdrmmZoFyL+rhBCLgbMCs8G8igAfHJgYODfGWOLqlktmA0JDxHZ9PT0GCJuAQCC9VZEbHGCYgJ00rpimggAzwohbhsaGvp5tcBRuw0Hb3p6+osAcBMiribhu0FxBJRKA2Q1wOWtBfVtZUnzvp7JZG5ft27db6sBsaHgzc7OXiuEeKIYtKJmUteBvTwBbM8BkPYeBPbKEQBZBn3zm0G77GJAVTHYOIFmjJEP/AwiPjA0NES+sWJbw8BDRHV2dvY3iDhSwmflANDn2KsAew4YwNj+l4Fls45CxxXLIft7l4N+0RggnHZzDifIywDw8Wg0+q1K0WsYeHNzcx/lnH++aNQ4MwewZz/A7gM5aHMJXzIWg32Quf4q4P1rSkWlwBjbAQC3RaPRX/vqwKFwQ8BLJBLdnPN9ALCiQOt+OwnwzLMAu/fnNK0Cm/a634Hs1ZeBaGtZYkpNbWSMcUT8J0S8Kx6Pnyi324aANzc391VE/LMCU6ZzwPu+ADB5vFzZFa2HywKQvfxiyL719QCKAkKIxbI2k70tHo9fWe4A6h7e9PT0RbIsP2fmbabZFD/6CcA3v1eu3DzVEys7IHPdFaBtGClmSlOyLK8sN5Cpe3hzc3M7EPGSAl+XmAdx52cBkilPEM60kB4bhPR1W4BHupZAFEJsGRkZebKcPuoaXjKZ/ENd1x+zBynia48D7vhZOfIquw5KDFI3vxOyF8QLTCgifjYej99eTsN1C29iYiLU0dGxWwixtgDexFHgn/oCgKj67NUSHtqFGyB50/WG9lkmtn8Vi8Ve24RnkcDCwsJdQoj77Ikz//yXAfccKEdWZ1xHtLZA4s4PLWaD+bGJYDDY3dfXd8pvB3Wpeclksg8R9wghjHjdBCh+tRP4Q4/6lVFFy89/+H2gR7rsacQfxeNxw7z72eoV3teEEO+2mCbArAbanZ8BODnlRz4VL5u+9nLIXPIGu+l8OBaLvd9vZ3UHT9O0N2Wz2Z/SlQOryeTffxLEt3/gVz4VL6+NRCH53nfZ4b0ci8WG/HZWV/AIWCqV+gUivq4gGZ6ZBe2TnwbIZPzKpyLlWVsLKBvXgzq2HpT1cTiSSoKQcqK3WId4LBbz5YzrCl4qlXoPIj5ii+ZAe/jrIP73uYqA8NSIqoIyGgN1/AIDmDzYD0ySFqtO7t4DyWWBgpSBMXbL8PDwVzy1ny9UN/BOnDjR1trauhcR11i1Thw8DNqn6BJeFTfGDEAmLALHAqfh2HuenZyEqVSqwHQyxh4fHh6+wc8o6wZeJpMZFULstqcG2fu/BGLfQT8y8VRW6u4EZWx9DtjGUZDaWkvWo3HxiaOgvbAb0ocnYObqSxfNZn7M08PDw52MsdMToS4jqRt4dJypVGoCEftMX0JCyX5uKyBdNTjDjbWEQdk4etoURrpdW+RT06C/sBu0nbsNaDgzmwPGGCT+5q9AhJYV+D1Jkt4QjUafdW243swmHU8mk3mEc/4eKzz+xJOgP/6EV3mcLqcqoKyLGT7L8FvRtQV+y6lBkUqDvmsvaDt3GbDEkWNF+03e/A7QxkYLTKckSXdEo9H7vQ623jSPcruvmfDom3xeli79uG0MQF7bn4sIyRSOxoFZggqn6sg56PsPgfbCLtB37gb9wEEA7s3qZd/4Gkj9wVX2iertsVhss9tQzd/rCh7dVJROp49RyrAIUAhIf/AOgIXkEpmwzpWgjl0A6vh6UDeuB2lFm7vf+u0k6C/sypnCXXsB6GakMjaxqgMSn7hl0Wzm/V4mHA6v7OnpWTpYhz7qCh4dXzqd/rUQYtxqOrWtj4L45fPAwqGc38oHGvKa1a5iF5QjGj4rZwpxasa1jtcCidtvBd6+vMDvAcDVsVjsh17aqEd4DyDiRwqumu89AIHWVlCGB139FqYzoO3al4O1czeIiarctQeiYwXMf+zPARWlwHQyxu4eHh6+r1HhXY2IPyhIGRLzEF7tHB0afuullw2fZfguSis49yK7MyqTooBlfL3d5yWDweBob2/vhJfG607zEDGcyWSmhBBGHG5qYFDTQW5fYciEH51cjAj1F/cCnqUr6iYQPToAyQ/8id3f0d/3Dg8P3+MFHJWpO3h0UKlU6ilENLJgUwPZ7n3An33eMIV46txdWaAcL3nbe4H35PytxUJMhEKhUa/BSj3DuwMA/tbq9/hzz4O29RGvJ3XVymlveA2kb7hmidYxxv54aGjoP/x0XJeal81mX885p6sLp4U0vwAZShlOP1fnR04VKYvBZZC8/VYQLWG71v00Go1e7LeTuoSHiHI6nT6BiB1W05S59wHAQ6/4lVHFymffvgWyl7zRrnVCkqTXr1279ld+O6pLeCSEdDr9OCK+w6p92reeAP7ENr8yqkh50bUKUh//AGD+0pDlOt6/DA4OvrecTuoZ3i2I+JDV74ld+4yJ6nOxpd93E/D1udv+LGOaC4VCI6tXry7rXvt6hhdDxP0F+Z6uQ/bL/wp0I9LZ3PhoDDLvf/eSG24B4K/Xrl37uXLHUrfw8qbzkBBi0BaSg9i9H/RvfAfwCD2FXN2NzGTmE7eA6O60wzswMDCwgTHm/OyYh2HVO7yHEfF99tsijL85B77jZ8C/818A8wseRFVeEX3TG0H7/dzVA+vdbLIsX9/b23tGD0vUO7y3AcB3rbMtNp8DuJAE/t3/BvHjZwAsT/OUh6qwFraEIXPHhwBDQeMH82khSZK29fX1lf10kNlLXcPLm86YEIIu6F1XMFltyQENwR6dBPHN7wH+Zs8ZccOOdhDrhkGsiwKPRwFaw3at04UQF65du/bFM+qoXqfHnISSTqe3cM7/AQAuWKJ9FpMmdu4yIMKrHp95DAVBjEQB1w0DrouB6Fppjyjtvu7B/v7+D54pOKpf95pnFRIiKqlUilKIv0fEZQUzMFZN5BzEj54BpJzQfrFVlgGjA4CjMYDRGIj+XgCJlXyU2RIwnaJn4vv7+ysyudpQ8EiIx48fv0SW5e2yLDNZNtbJKb6cBz3H950fAhw6DEA52mgMMD4EEAgUmELHgMg6NZf/P2PsL3t7eyuWaDYUPFr07dSpU78EgIsMs8MYKIoCkiQVXU/Ffithqb+dfmOMzQohtgPAtp6enq/Q8+iVMJkNZzZPnTpFz6V/1S48gkdaSDCLmVIf0DTG2M+FEE/SZ9++fc9u3rxZrxQwazvnjeY99dRTfYFAYGtbW9vbq3KgjEF3d7cBqUhAA5xzWL58+aImegFGVhcAdiGiAUuSpO1na/G48wLe9u3b3wQAtPRhpq2tzXiStdLbihf2Qks4DPCW1wFYnhswfd7x48cNeAS3vb0dWlpaigYhuq6nZVmmxXC2EbSurq7qT9U4COScw3v66affwzknX7BMVdXD1YCnpDLQ/eCjwNIZwN41ADdeBzASXRTH/Pw8zM3NFYgnEAhAR0cH0Dcl15lMBpLJ5MmTJ092ptNpMrGU/N+8efPms7ZEo53fOYP32GOPyd3d3TQp+xFzUNWC1/nDHbDsucIFh/CijQDvvAZ4+wqKQAumrqxCUlUVNE0zdmWz2cPz8/OLloEx9gIAXL9p06azvlDqOQtY7rnnHunSSy/9PgBcZRNUxTUveGIKVv3j152voCsKzNz2p7AQzk1fuW12ePnyJxljV27atOn/3OpX+vdzonkvvvhia3d3t7G4l3Wylv4UQhSMyWuobrZla48azIEz/hUu7GbUsUSY1vEUCfux4G7s/Pg553eOjY39XaXhuLV3TuAdP368VZKkxBJB2+Ybi4ErCsqlvh2O3/6LwW0oeKR5kUhkEZ5ViE55lpPQvOyjtszczX4ieKlvnvlOE9rW+rquN47m0ZrOU1NTxgPi9qklN9NlN7VeoLhpsFubbvUbFl4pWE5w/cAqVd/LSeK1PgB8eHR09EtuPqrSv58Tn0eaNz09nbGbSyfzWUkhu2mQV1Nqb4cxduu6deseqjQct/bOKTwnc1XM/7kJ1ouWlmrbS/1iJ1LDwvNiNq1lstksLCwsFCxAav5OZ+JKkEDqWuV40lLd2dn8c+GWO6cpqKFpMZpNcfN/Rfx0Y2nezMyMY8BSyqfpug4nT54sak2W/2YftP3nNsDNbwG45jKA4Onkm9qluuZsiVMjy5YtA5pR8QrQUq4x4fnxaclkcskcpAlB1nRYvfXfgCXyU41trYDXvw3gTa81rnRT3ZmZ0k+1kvaFw7l7TooBdNI8MpvxeLxxfN7s7OxiwOLVF5HZm5pyvoNg5Y5fQOjpXyxVqIFeEDdeB6+2BJeYWnth0rpgXluLBVNOY21IeG5BiFN0SLP/pEXWLTCXgE7SOt35InXihmtgbr3xLqeiG12QJa2zX1UvNkarBjYcvLm5uSWa5zWHo0s0dO3NFKCcWAApf+OsPemn5YG17s4lZtBuFgmaFxNeJJ1pLLNphVeOBpYRVJT0ZX5SFIeyjQfPtGHFkmcvmlhKW5yCCy9tepk8sJVpwiulgaUEWi5AL2ay1Alg+a2x4CUSicU8z4vw3cykn6kvN2iUtDu9haRYPURsLHjz8/OuAUu5c51e8jQ3gMVOliLW4dbh4eHGyfOs8Lxqnt2EeQkySmlsBes3FryFhQVD87wI0EmT/GhOJTW4SL+NCc+rLzuLkaNjvudysjQePK/5nR9z6SdiLbd/ez0KWBrK55HZdMvzKqVtXn2qnxzQaoqFEI0FL5lMlp0q+PGT5YLz0ofZNs1tDg4ONk60WQyeqY1+8iy73/RjZksFQ141seHgpVKponmek7n0E12WW9/Bl5nnkmMQY9HOxtI8Kzy/gUO5vrAUHC9a5lQ/f19oY8FLp9OeZ1is/qccDfSajpQDkNomszkwMFB/Pm9qaoqWIvwLXdcv0TSti3N+Qtf1n65Zs+bGcoVVqXnMUhrs5SSxBix1BY9WXkgmk1/inN+iaRqjm4esn56eHs/JcKWEXO5Mi1vECgD1pXnpdHor55w0rgCa+Xdvb6/r8hdO5s5LCF8Kkpf6fhP9uoKnadrFiPi0k8ZZ4fkVkh8zWyVIxj0u5rgpnaEPIj7POf/nVCr16IYNG87ak7JVuWOac/4NXddvKqZ1tJ80z9zcoJQC4TVSPVM/SbcF0scEZn7TvTQWiK/quv6h0dFR3+9/LchJPP5RFXhCiCOapvUWg0cH7GQ2ywVRbfNKa7XQx7zxqRRAIQQ9IHrH+vXrP+2RQdnFqgKPc57RdT1QSvP6+ow3pS2aIDftc9PSatUnaOaiAh7hEWQC+K4NGzZUVQOrAs9N8whqf3+/r4DFiw/zUsZPCkBlzTuoi4FzMp/5sq8yxmLV9IFVgefm88hsmprnxxd50S4v/tErZLvWlQBV4AstfvCD4+PjD5ZtF10qVgWel2hzYGDAVfO8gPCrSV7AmWVCoZDxWLSLjzNuALaXyWvfk+Pj41tqCh4N1i3Pc4JXbsBSLcjmKkhWMHZQJcAR0KPj4+Onw+oKU6yK5uUhlJxhIXhOAYsJ0OtsSLHyXudDS/XX2tq6RKtcYC1qIJVDxOzY2FjuxbBV2KoCj9Yq2bdvX08mkxlub2+/MhAI0HrKcSFEq6Zp85qm7R8cHHwNvXnkfNM26wllDVa8+jurliLiSVVVLxwZGTnKGDu9CEyFQFYU3sGDB1enUil68wMt8VTyjIvFYh+VJMlYMtgKsJQmeAluvPjAUoGPtT49bGn3eU6aV2wfALzIGKP1remugcOhUGh/NBot6wUYTrzPGN7+/fuXCSGGhBAxWZZLv3TVMoKWlpb+SCRyFyK2Wk2c3yvopcB7CU6c6pv7rMl5Mc1zSiFMmIyxR1VV/R+b4OcQ8SVJkg7F4/HF+3jKUcay4U1OTraQliHigBAiN+HnsplrXZqPZ7W2tna2t7dfyxgjB7jYhk+YdAwsv6xU7jt3hVSi/yO1i8AQkPYtlhUCpdw+WmcbGa23Y5RHkauX39/W1tZOV0j85nmIOK0oyq2SJKVMsViPX5IkwRh7hbQxEomU9WIH3/Bo6an5+flhxljkfFhgXJIkhTGmIKKa+5ZUxoTxjUjfqJLwcx+mInIFABWdiwCC8bsiBCpC5yrtFwiK4JoqBCgCudrR3t4XiUQu5JwzH34PJUn6dCAQ+InbCZ1bRwgnU6nUS34Tes/w6CCPHDkyiIg9jM7sEhvNoFg3Mj/Wrdjv9v3FurC2xzmXA4EAaYZKH0lSjf9LElOE0FXOCV4OKM+DBAEqMlS4pqkCqB6oIHiuDRSK4Ej7FeRC5ZyrkcjqkY6OjnUmwFLpApEAgIdVVf2GOX4vx0/HTqlFNBo9xBjztKyxJ3iTk5PdmUymPxAIOK/x63J6eYVlP0gPZy1ZSNIIVQimShKqTFEMCKRxBkSU6NvQQAOeAZOrKDFF17QAlWGkfQRRz50A9OEoVBBC4VxQGaW9fUV/Z+eqDRSIFcv7EPEUY+yBcDj8o3JO1vzkty7L8pFIJHLc7fhLwiNtm5yc7GOMeQ5E3Dqsxu9kOjmXVEniqiQRLPpwVbAcPGOSPA/UMKOcq8hIM3mA/i8AjH2L4AwN5CqBQ2qHG54zoUhysre3p0VRlI1CiGFd1+nlitOc85cA4KlgMEjvBvL0gno3OSBiIhKJHCmlhUXhHT16NBwOh1dns9lCm+fW6zn4nbEgkySNTFyAS5IqcQNeAFGoTJVU1ISqaVqAwOqY00oqC3mQBBck0JBDGplIyoxRADGvBINzKmNz4XD4rF1gtYovEAjoyWTy1WIvAXaER6+rnpqaoveqeDKr54DXki51XVYJoCzLAdJCxpgqRCaQ00IyfVyWJJkjIhdCaEJkNQA1raqBZCgkJ4U1RzkfDig/hlAohKFQaIoxtkSjl8BBxJZkMrmc6iaTSUd44XDYcbbALF/sd1MmfsvZZenUfjqdljVNUyUpJMOy/EmXAQyQYeRcDwaDi0FANfq3yqsax9/Z2TnLchZhcSuAMzExEWpvb28rBo0maq0brQHmZzPrF6tnHnSzf2el6e7unmOMLeaNi/DIDyQSiRV+YDTLnn0JtLW1kQYay80b8PKzE8tnZ2cdZ0oSiYSj+Wxrayswn2Y5r/vNQzfzxnyOtEQizf5Py7+lpYV3dHSQBhrTRXDo0KHgihUrqnbp4uyfn/XdI63bNjQ0lDbg0ZRXV1eX5yM+caLwxYBe65Zbzz6wctspt9752D+9r4gmY5Vjx47lVgm1bWvWrCkwi8eOHTNgF9vvmb7Hgs3+S8pfI3i0Oqjh6w4cOOBJrLFY4Qp6Zj37fk+NWQo1+/clf2Fonl8hN8ufHxIgeNK9995bMJq77777rI6u2X958q+Z6a+zejbVSGdNeDUCymmYTXhNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjoTc1rwqthCdTw0Jua14RXwxKo4aE3Na8Jr4YlUMNDb2peE14NS6CGh97UvCa8GpZADQ+9qXlNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjo/w+0S4IKs9Wq0AAAAABJRU5ErkJggg=="}}]);
