(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[5754],{30311:function(Qe,se,e){"use strict";var j=e(22385),E=e(31097),i=e(12924),W=e.n(i),c=e(8812),y=e(28216),O=x=>{var l=(0,y.v9)(p=>{var P=p.advancedSetting;return{themeColor:P.themeColor}}),n=l.themeColor;return W().createElement(E.Z,{placement:"top",title:x.name},W().createElement("span",{className:"cl-table__cell-arrow",onClick:x.onClick},W().createElement("span",{style:{color:n}},x.name),W().createElement("span",{className:"cl-table__cell-arrow-icon"},W().createElement(c.Z,null))))};se.Z=O},4408:function(Qe,se,e){"use strict";var j=e(12924),E=e.n(j),i=e(28216),W=e(17780),c=e(38642),y=x=>({userInfo:x.user}),O=x=>{var l=x.title;return(0,W.xX)()&&setTimeout(()=>{document.title=l},0),(0,j.useEffect)(()=>{if(l&&document.title!==l&&setTimeout(()=>{document.title=l},0),(0,c.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var n=document.querySelector(".zoom-report");n&&(n.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[l]),E().createElement(E().Fragment,null)};O.defautProps={title:""},se.Z=(0,i.$j)(y)(O)},1164:function(Qe,se,e){"use strict";var j=e(12924),E=e.n(j),i=e(76651),W=e(38642),c=e(91302),y=O=>{var x=navigator.userAgent.toLocaleLowerCase(),l=localStorage.getItem("enterpriseId"),n=(0,W.lz)(l,O.projectType),p=localStorage.getItem("dingPersonnel"),P=c.bl.includes(p),I=O.target;function h(o){if(I==="self"&&(o.preventDefault(),i.m8.push(O.to)),P){if(O.projectType==="student"){window.location.href="".concat(n,"/").concat(O.to);return}i.m8.push(O.to);return}if(dd.version){o.preventDefault();var _="";O.to.includes("?")?_="".concat(n).concat(O.to,"&ddtab=true"):_="".concat(n).concat(O.to,"?ddtab=true"),dd.biz.util.openLink({url:_})}else x.indexOf("lark")!==-1&&(window.location.href="".concat(n).concat(O.to))}return E().createElement("a",{rel:"noreferrer",href:"".concat(O.projectType==="student"?"".concat(n).concat(O.to):"#".concat(O.to)),className:"".concat(O.wrapCls," cl-pointer"),target:x.indexOf("lark")!==-1||P?"_self":O.target||"_blank",onClick:h},O.children)};y.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},y.targetTo=O=>{var x=O.path,l=O.from,n=O.isExternalLink,p=n===void 0?!1:n,P=O.isAsync,I=P===void 0?!1:P,h=O.openName,o=h===void 0?"_blank":h,_=O.projectType,N=_===void 0?"manage":_,Z=O.ddTab,U=Z===void 0?!0:Z,C,g=localStorage.getItem("dingPersonnel"),S=c.bl.includes(g),M=navigator.userAgent.toLocaleLowerCase(),L=localStorage.getItem("enterpriseId"),K=(0,W.lz)(L,N),B=localStorage.getItem("appType"),F=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var b="";if(C=p?"":K,S&&!p){if(N==="student"){window.location.href="".concat(K).concat(x);return}i.m8.push(x);return}x.includes("?")?b="".concat(C).concat(x,"&ddtab=").concat(U):b="".concat(C).concat(x,"?ddtab=").concat(U),dd.biz.util.openLink({url:b})}else if(M.indexOf("lark")!==-1)C=p?"":K,window.location.href="".concat(C).concat(x);else if(B==="wx_app"&&F&&p&&l==="imgText")C=p?"":N==="student"?"".concat(K):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(x)});else if(C=p?"":N==="student"?"".concat(K):"#",I){var G=window.open("","_blank");setTimeout(()=>{G.location="".concat(C).concat(x)},100)}else window.open("".concat(C).concat(x),o)},se.Z=y},36202:function(Qe,se,e){"use strict";e.d(se,{f:function(){return Z}});var j=e(62029),E=e(57361),i=e(33565),W=e(9754),c=e.n(W),y=e(12924),O=e.n(y),x=e(28175),l=e(41647),n=e(93485);function p(U){var C={};if(U.length===0)return C;var g=(0,n.Z)(U),S;try{for(g.s();!(S=g.n()).done;){var M=S.value,L=M,K=L.field,B=L.fixed,F=L.order,b=L.show;b?b==="true"||b===!0?C[K]={fixed:B,order:F,show:!0}:C[K]={fixed:B,order:F,show:!1}:C[K]={fixed:B,order:F,show:!0}}}catch(G){g.e(G)}finally{g.f()}return C}function P(U){var C=[],g=Object.entries(U);if(g.length===0)return C;for(var S=0,M=g;S<M.length;S++){var L=M[S],K=(0,i.Z)(L,2),B=K[0],F=K[1],b=F.fixed,G=F.order,q=F.show;C.push({field:B,show:q,fixed:b,order:G})}return C}var I=e(38642),h=(U,C)=>{var g=(0,y.useState)(U),S=(0,i.Z)(g,2),M=S[0],L=S[1];return(0,y.useEffect)(()=>{var K=setTimeout(()=>{L(U)},C);return()=>{clearTimeout(K)}},[U,C]),M},o=h;function _(U,C){var g=useRef(C);useEffect(()=>{g.current=C},[C]),useEffect(()=>{var S=M=>{var L,K;console.warn(U.current,"node.current",M.target),!((L=(K=U.current)===null||K===void 0?void 0:K.contains(M.target))!==null&&L!==void 0?L:!1)&&g.current&&g.current()};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[U])}var N=!1;function Z(U){var C=(0,y.useState)({}),g=(0,i.Z)(C,2),S=g[0],M=g[1],L=U.prefixCls,K=U.rowKey,B=U.columnEmptyText,F=U.pagination,b=U.headerTitle,G=U.toolBarRender,q=U.size,X=U.loading,oe=X===void 0?!1:X,fe=U.tableUUID;fe||console.error("tableUUID is required!!!"),(0,y.useEffect)(()=>{function We($e){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,E.Z)(c().mark(function $e(Ne){var me,Be,Le,Me,be,tt,Ue,ot;return c().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,(0,I.Kb)((0,l.U)(Ne));case 2:if(me=ce.sent,Be=(0,i.Z)(me,2),Le=Be[0],Me=Be[1],!Le){ce.next=8;break}return ce.abrupt("return");case 8:be=Me.data,tt=be.data,Ue=tt.fields,ot=p(Ue)||{},ot&&(N=!1,M(ot));case 13:case"end":return ce.stop()}},$e)})),Ce.apply(this,arguments)}return fe&&We(fe),()=>{N=!1}},[fe]);var ee=o(S,1e3);(0,y.useEffect)(()=>{!N||(0,l.I)(fe,P(S))},[ee]);function Oe(We){N=!0,M(We)}return O().createElement("div",{className:"SampleProTable_container ".concat(U.className)},O().createElement(x.ZP,(0,j.Z)({size:q||"middle",rowKey:K||"id",columnEmptyText:B||!1,pagination:F||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:oe,headerTitle:b||"",toolBarRender:G||null,columnsStateMap:S,onColumnsStateChange:Oe},U,{className:"".concat(L,"-table")})))}},41647:function(Qe,se,e){"use strict";e.d(se,{I:function(){return i},U:function(){return W}});var j=e(37055),E=e(10237);function i(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=j.ZP.tableHeader.save(),x={fields:y,key:c};return E.WY.post({url:O,data:x})}function W(c){var y=j.ZP.tableHeader.get(c);return E.WY.get({url:y})}},99891:function(Qe,se,e){"use strict";var j=e(12924),E=e.n(j),i=e(28216),W=e(91768),c=e(37055),y=e(10237),O=e(60667);class x extends E().PureComponent{constructor(p){super(p);this.getWaterMarkText=P=>{var I=this.props.userInfo,h=I.jobNumber,o=localStorage.getItem("waterMarkPostName"),_=[],N=P.find(U=>U.type==="content_setting"),Z=P.find(U=>U.type==="content_custom");return N.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),Z.param.checked==="true"&&Z.param.comment[0]!==""&&this.setState({commentText:Z.param.comment[0]}),N.param.comment.indexOf("position")!==-1&&o&&o!==""&&_.push("".concat(o)),N.param.comment.indexOf("jobnumber")!==-1&&h&&h!==""&&_.push("".concat(h)),_.join("-")},this.getWaterMarkApplication=P=>{var I=this.props.scenes,h=P.find(o=>o.type==="application_scenario");h.param.comment.indexOf(I)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=P=>{var I=P.find(h=>h.type==="dispersive");this.setState({isDispersive:I.param.checked==="true"})},this.getDynamicSet=()=>{var P=c.ZP.advancedSetting.dynamicWaterMarkNew(),I={access_token:window.localStorage.getItem("token")};y.WY.get({url:P,params:I}).then(h=>{var o=JSON.parse(h.data.actions);this.setState({waterMarkText:this.getWaterMarkText(o),actions:o}),this.getWaterMarkApplication(o),this.getWaterIsDispersive(o)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var p=localStorage.getItem("waterMarkPostName");p===""||p===null?this.getPostName():this.getDynamicSet()}getPostName(){var p=c.ZP.advancedSetting.getPostName();y.WY.get({url:p}).then(P=>{localStorage.setItem("waterMarkPostName",P.data.post_names[0]||""),this.getDynamicSet()})}render(){var p=this.state,P=p.showWaterMark,I=p.waterMarkCount,h=p.isUserName,o=p.isDispersive,_=p.waterMarkText,N=p.actions,Z=p.commentText,U=this.props.userInfo,C=U.name,g=U.unionid,S=U.sourceType;return E().createElement("div",{className:"common-watermark"},P&&new Array(I).fill(0).map((M,L)=>E().createElement("div",{key:L,className:"common-watermark-item ".concat(o?"isDispersive":"")},E().createElement("span",{className:"common-watermark-item-content"},Z!==""&&E().createElement("span",{className:"item-part"},Z),h&&E().createElement("span",null,Z!==""&&E().createElement("span",null,"-"),E().createElement(O.Z,{dataType:"userName",value:g,name:C,type:S})),E().createElement("span",{className:"item-part"},(h||Z!=="")&&_!==""&&E().createElement("span",null,"-"),_)))))}}var l=n=>({userInfo:n.user});se.Z=(0,i.$j)(l)((0,W.Z)()(x))},55285:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return F}});var j=e(20228),E=e(11382),i=e(62029),W=e(88986),c=e(22385),y=e(31097),O=e(57361),x=e(33565),l=e(9754),n=e.n(l),p=e(12924),P=e.n(p),I=e(91768),h=e(28216),o=e(93485),_=e(38642);function N(b){var G={};if(b)for(var q=0,X=Object.entries(b);q<X.length;q++){var oe=X[q],fe=(0,x.Z)(oe,2),ee=fe[0],Oe=fe[1];G["user_info_".concat((0,_.FI)(ee))]=Oe}return G}function Z(b){if(!Array.isArray(b))return[];var G=b.map(q=>{var X=q.user_info,oe=q.userInfo,fe={},ee=X||oe;if(ee){var Oe=ee.extendList,We=ee.extend_list,Ce=Oe||We||[];if(Ce.length>0){var $e=(0,o.Z)(Ce),Ne;try{for($e.s();!(Ne=$e.n()).done;){var me=Ne.value,Be=me.columnKey,Le=me.column_key,Me=me.extendValue,be=me.extend_value;fe["user_info_".concat((0,_.FI)(Be||Le))]=Me||be}}catch(tt){$e.e(tt)}finally{$e.f()}}}return(0,W.Z)((0,W.Z)((0,W.Z)({},q),fe),N(ee))});return G}function U(b,G){for(var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",X=b.slice(0).reverse(),oe=0;oe<X.length;oe+=1)for(var fe=oe+1;fe<X.length;fe+=1)X[oe][G]===X[fe][G]&&(X.splice(fe,1),fe-=1);return q==="right"?X.reverse():X}var C=e(17215),g=e(36202),S=e(6793),M=e(9925),L=e(6934),K=b=>({userInfo:b.user}),B=(0,p.forwardRef)((b,G)=>{var q=b.tableUUID,X=b.withLoginPhoneNumber,oe=b.withCustomField,fe=b.withLoginEmail,ee=b.withJoinTime,Oe=b.onlyShowCurrentDept,We=(0,p.useState)([]),Ce=(0,x.Z)(We,2),$e=Ce[0],Ne=Ce[1],me=(0,p.useState)([]),Be=(0,x.Z)(me,2),Le=Be[0],Me=Be[1],be=(0,p.useState)(!1),tt=(0,x.Z)(be,2),Ue=tt[0],ot=tt[1];q||console.error("tableUUID is required!!!"),(0,p.useImperativeHandle)(G,()=>({getColumns:()=>$e})),(0,p.useEffect)(()=>{function ce(){return w.apply(this,arguments)}function w(){return w=(0,O.Z)(n().mark(function Q(){var Y,De,ye,ae,ie;return n().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return ot(!0),we.next=3,(0,_.Kb)((0,C.h)());case 3:if(Y=we.sent,De=(0,x.Z)(Y,2),ye=De[0],ae=De[1],!ye){we.next=10;break}return ot(!1),we.abrupt("return");case 10:ie=ae.data,oe||(ie=ie.filter(Te=>Object.keys(Te)[0].indexOf("column")===-1)),fe||(ie=ie.filter(Te=>Object.keys(Te)[0].indexOf("loginEmail")===-1)),ee||(ie=ie.filter(Te=>Object.keys(Te)[0].indexOf("joinTime")===-1)),ot(!1),Me(ie);case 16:case"end":return we.stop()}},Q)})),w.apply(this,arguments)}ce()},[]),(0,p.useEffect)(()=>{var ce=Le.map((Y,De)=>{var ye=(0,x.Z)(Array.from(Object.entries(Y))[0],2),ae=ye[0],ie=ye[1];return b.nameColumn&&De===0?b.nameColumn:ae==="name"?{title:ie,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,fixed:"left",render:(de,we)=>P().createElement(y.Z,{title:P().createElement(M.Z,{userId:we.user_info.id,userName:de})},P().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},we.user_info&&P().createElement(M.Z,{userId:we.user_info.id,userName:de}),!we.user_info&&de))}:ae==="deptName"||ae==="dept_name"?{title:ie,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,fixed:"left",render:(de,we)=>{var Te=we.user_info,he=Te.department_infos,ze=Te.department_info;return de?P().createElement(y.Z,{title:P().createElement(L.P,{allDepartmentsList:he||[]})},P().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},P().createElement(L.P,{allDepartmentsList:(Oe?ze:he)||[]}))):"--"}}:ae==="joinTime"?{title:ie,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,render:de=>P().createElement(y.Z,{title:de?(0,S.p6)(de,"yyyy-MM-dd hh:mm:ss"):"--"},P().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},de?(0,S.p6)(de,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:ie,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,render:de=>P().createElement(y.Z,{title:de},P().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},de||"--"))}}),w=b.columns.map(Y=>Y.dataIndex==="creator_user_name"?(0,W.Z)((0,W.Z)({},Y),{},{render:(De,ye)=>P().createElement(y.Z,{title:P().createElement(M.Z,{userId:ye.creator_sync_user_id,userName:De})},P().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},P().createElement(M.Z,{userId:ye.creator_sync_user_id,userName:De})))}):Y),Q=b.headExtra.concat(ce).concat(X?[{title:b.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:Y=>Y||"--"}]:[]).concat(w);Ne(Q)},[b.headExtra,b.columns,b.nameColumn,Le,b.userInfo.appType]);var et=(0,p.useMemo)(()=>Z(b.dataSource),[b.dataSource]);return P().createElement(E.Z,{spinning:Ue},P().createElement(g.f,(0,i.Z)({scroll:{y:b.y||"100%",x:b.x||"max-content"}},b,{columns:$e,dataSource:et})))});B.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var F=(0,h.$j)(K,null,null,{forwardRef:!0})((0,I.Z)("translation",{withRef:!0})(B))},17215:function(Qe,se,e){"use strict";e.d(se,{h:function(){return i}});var j=e(37055),E=e(10237);function i(){var W=j.ZP.getUserInfoColumnConfig();return E.WY.get({url:W})}},80430:function(Qe,se,e){"use strict";var j=e(12924),E=e.n(j),i=e(60667),W=c=>{var y=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},I=P.department_ids.split("/"),h=P.department_names.split("/"),o=I.map((_,N)=>E().createElement(i.Z,{key:_,dataType:"departmentName",value:_,name:h[N],type:P.source_type}));return E().createElement(E().Fragment,null,o.map((_,N)=>E().createElement("span",{key:_},_,N===h.length-1?"":"/")))},O=p=>E().createElement(i.Z,{dataType:"departmentName",value:p.department_id,name:p.department_name,type:p.source_type}),x=()=>{var p=c.list,P=p===void 0?[]:p,I=c.isBlock;if(!P.length)return null;var h=P.map(o=>y(o));return h.length&&h.length>1?E().createElement(E().Fragment,null,h.map((o,_)=>I?E().createElement("div",{key:o},o):E().createElement("span",{key:o},o,_===h.length-1?"":"\uFF0C"))):E().createElement(E().Fragment,null,h[0]||"")},l=()=>{var p=c.list,P=c.nameList,I=c.sourceType,h=c.isBlock,o=p.map((_,N)=>O({department_id:_,department_name:P[N],source_type:I}));return E().createElement(E().Fragment,null,o.map((_,N)=>h?E().createElement("div",{key:_},_):E().createElement("span",{key:_},_,N===o.length-1?"":"\uFF0C")))},n=()=>c.displayAll?x():l();return n()};W.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},se.Z=W},60667:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return x}});var j=e(33565),E=e(12924),i=e.n(E),W=e(28216);function c(l){var n=l.type,p=l.openid,P=l.from,I=(0,E.useRef)(null);return(0,E.useLayoutEffect)(()=>{P==="vue"?window.parent.WWOpenData.bind(I.current):WWOpenData.bind(I.current)}),i().createElement("ww-open-data",{ref:I,type:n,openid:p})}var y=l=>{var n=l.wxWorkApiFlag,p=l.appType,P=l.from,I=(0,E.useState)(!1),h=(0,j.Z)(I,2),o=h[0],_=h[1];(0,E.useEffect)(()=>{var U=localStorage.getItem("qyWechatBook");(p!=="wx_app"||n||U==="false"||P==="vue"||P==="taro")&&_(!0)},[n,p,P]);var N=(0,E.useCallback)(()=>{var U=l.type,C=l.value,g=l.name,S=g===void 0?"":g;switch(console.warn(l,"props"),U){case"wx_sync":{var M=l.dataType;return C?i().createElement(c,{from:P,type:M,openid:C}):S}default:return S}},[l]),Z=()=>{var U=l.name,C=l.dataType,g=localStorage.getItem("qyWechatBook");if(C===""||g==="false")return U;if(P==="vue"||P==="taro")return N();switch(l.appType){case"wx_app":return N();default:return U}};return o?Z():l.name};y.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var O=l=>({appType:l.user.appType,wxWorkApiFlag:l.user.wxWorkApiFlag}),x=(0,W.$j)(O)(y)},6934:function(Qe,se,e){"use strict";e.d(se,{P:function(){return N}});var j=e(12924),E=e.n(j),i=e(18446),W=e.n(i),c=e(57361),y=e(33565),O=e(9754),x=e.n(O),l=e(28216);function n(Z){var U=Z.openid,C=(0,j.useRef)(null);return(0,j.useLayoutEffect)(()=>{var g=window.parent.WWOpenData;g&&g.bind(C.current)}),E().createElement("ww-open-data",{ref:C,type:"departmentName",openid:U})}var p=e(14441),P=Z=>{var U=Z.separator,C=Z.departmentIds,g=Z.departmentNames,S=Z.appType,M=(0,j.useState)([]),L=(0,y.Z)(M,2),K=L[0],B=L[1];(0,j.useEffect)(()=>{S==="wx_app"&&F()},[C]);function F(){return b.apply(this,arguments)}function b(){return b=(0,c.Z)(x().mark(function X(){var oe,fe,ee;return x().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,(0,p.t)(C);case 2:oe=We.sent,fe=oe.code,ee=oe.data,fe==="200000"&&ee&&B(ee);case 5:case"end":return We.stop()}},X)})),b.apply(this,arguments)}function G(){return K.length?E().createElement(E().Fragment,null,K.map((X,oe)=>X.hasName?E().createElement(E().Fragment,null,X.name,oe===g.length-1?"":U):E().createElement(E().Fragment,null,E().createElement(n,{openid:X.thirdId}),oe===g.length-1?"":U," "))):null}function q(){var X="";return g.forEach((oe,fe)=>{X+=oe+(fe===g.length-1?"":U)}),E().createElement(E().Fragment,null,X)}switch(S){case"wx_app":return G();default:return q()}};P.defaultProps={departmentIds:[],departmentNames:[],separator:","};var I=Z=>({appType:Z.user.appType}),h=E().memo((0,l.$j)(I)(P)),o=Z=>{var U=Z.allDepartmentsList,C=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},M=S.department_ids.split("/"),L=S.department_names.split("/");return E().createElement(h,{departmentNames:L,departmentIds:M,separator:"/"})};return U.length?E().createElement(E().Fragment,null,U.map((g,S)=>E().createElement("span",{key:g.department_ids},C(g),S===U.length-1?"":"\uFF0C"))):null};o.defaultProps={allDepartmentsList:[]};function _(Z,U){return W()(Z,U)}var N=E().memo(o,_)},48479:function(Qe,se,e){"use strict";var j=e(62029),E=e(57361),i=e(47673),W=e(4107),c=e(9754),y=e.n(c),O=e(12924),x=e.n(O),l=e(91768),n=e(94184),p=e.n(n),P=e(28216),I=e(84874),h=e(67222),o=e(2396),_=W.Z.Search;class N extends x().Component{constructor(U){var C;super(U);C=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>x().createElement(I.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var g=(0,E.Z)(y().mark(function S(M){var L,K,B,F,b,G,q,X,oe;return y().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(L=C.props,K=L.appType,B=L.exChange,F=L.appId,b=localStorage.getItem("qyWechatBook"),G="",q=K==="wx_app"&&b==="true"&&B&&F==="9005",!(M&&q)){ee.next=17;break}return ee.prev=5,ee.next=8,(0,h.F_)(M);case 8:X=ee.sent,oe=X.data,oe.success?G=oe.data:G="",ee.next=17;break;case 13:ee.prev=13,ee.t0=ee.catch(5),console.error(ee.t0),G="";case 17:C.props.onSearch(M,G);case 18:case"end":return ee.stop()}},S,null,[[5,13]])}));return function(S){return g.apply(this,arguments)}}(),this.handleChange=g=>{var S=g.target.value,M=g.type,L=S;this.props.LimitLength&&(0,o.$s)(S)>this.props.LimitLength&&(L=S.substring(0,(0,o.rw)(S,this.props.LimitLength))),this.setState({searchValue:L});var K=!1;this.props.onSearch&&(M==="click"&&(K=!0),this.props.immediate&&M==="change"&&(K=!0)),K&&this.handleSearch(S)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(U){U.onRef&&U.onRef(this)}render(){var U=this.state.searchValue,C=this.props,g=C.prefixCls,S=C.placeholder,M=C.width,L=C.maxLength,K=L===void 0?400:L,B=C.height,F=C.immediate,b=C.value,G=p()(["".concat(g)]),q={width:M,height:B},X={};return b&&(X.value=b),x().createElement(_,(0,j.Z)({className:G,style:q,value:U,placeholder:S,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:K,allowClear:!0,defaultValue:b,immediate:F.toString()},X))}}N.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},se.Z=(0,P.$j)(Z=>({appType:Z.user.appType,appId:Z.user.appId}))((0,l.Z)()(N))},9925:function(Qe,se,e){"use strict";var j=e(57361),E=e(33565),i=e(9754),W=e.n(i),c=e(12924),y=e.n(c),O=e(28216),x=e(14441),l=p=>{var P=p.userId,I=p.userName,h=p.appType,o=(0,c.useRef)(null),_=(0,c.useState)(""),N=(0,E.Z)(_,2),Z=N[0],U=N[1],C=(0,c.useState)(""),g=(0,E.Z)(C,2),S=g[0],M=g[1],L=(0,c.useState)(!0),K=(0,E.Z)(L,2),B=K[0],F=K[1];(0,c.useEffect)(()=>{h==="wx_app"&&(P?b():(console.warn("userId is required"),M(I)))},[P]);function b(){return G.apply(this,arguments)}function G(){return G=(0,j.Z)(W().mark(function X(){var oe,fe,ee,Oe,We,Ce,$e,Ne,me,Be;return W().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.prev=0,Me.next=3,(0,x.v)(P);case 3:oe=Me.sent,fe=oe.code,ee=oe.data,fe==="200000"&&ee&&(Oe=ee.hasName,We=Oe===void 0?!0:Oe,Ce=ee.sourceType,$e=ee.name,Ne=$e===void 0?"":$e,me=ee.thirdId,F(We),We?M(Ne):Ce==="wx_sync"&&(U(me),Be=window.parent.WWOpenData,Be&&Be.bind(o.current))),Me.next=12;break;case 8:Me.prev=8,Me.t0=Me.catch(0),console.error(Me.t0,"error"),M(I);case 12:case"end":return Me.stop()}},X,null,[[0,8]])})),G.apply(this,arguments)}function q(){return B?S:y().createElement("ww-open-data",{ref:o,type:"userName",openid:Z})}switch(h){case"wx_app":return q();default:return I}};l.defaultProps={userName:""};var n=p=>({appType:p.user.appType});se.Z=y().memo((0,O.$j)(n)(l))},85372:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return fa}});var j=e(62029),E=e(49111),i=e(19650),W=e(57663),c=e(71577),y=e(34792),O=e(48086),x=e(88986),l=e(71194),n=e(57016),p=e(57338),P=e(83107),I=e(33565),h=e(12924),o=e.n(h),_=e(7145),N=e.n(_),Z=e(45578),U=e.n(Z),C=e(91768),g=e(28216),S=e(18106),M=e(88108),L=M.Z.TabPane,K=D=>{var ge=D.t,je=D.tabList,Ve=D.activeTab,re=D.setActiveTab,te=D.type,ne={immediate:ge("component.immediateSelectUser"),import:ge("component.importUser"),department:ge("component.chooseDepartment"),post:ge("component.choosePost"),group:ge("component.chooseGroup"),cluster:ge("component.chooseCluster"),role:ge("component.chooseRoles"),user:ge("component.choosePerson"),scope:ge("component.chooseScope")};return o().createElement(M.Z,{activeKey:Ve,onChange:ue=>re(ue),type:te},je.map(ue=>o().createElement(L,{tab:ne[ue],key:ue})))};K.defaultProps={t:()=>{},tabList:[],activeTab:"",setActiveTab:()=>{},type:"line"};var B=K,F=e(54549),b=e(61066),G=(0,h.createContext)({}),q=()=>(0,h.useContext)(G),X=()=>{var D=q(),ge=(0,h.useState)(!1),je=(0,I.Z)(ge,2),Ve=je[0],re=je[1];return(0,h.useEffect)(()=>{re(D.active==="scope")},[D.active]),o().createElement("div",{className:"selected-users"},o().createElement("div",{className:"selected-header"},o().createElement("div",{className:"selected"},o().createElement("span",{className:"selected-label"},D.t("component.selected"),":")),o().createElement("span",{className:"selected-clear",onClick:()=>D.clearData()},D.t("component.clearAllData"))),Ve&&o().createElement("div",{className:"selected-scope-tips"},o().createElement("span",null,D.t("component.selectedScopeTips1"),"\uFF1A"),o().createElement("span",null,"1.",D.t("component.selectedScopeTips2")),o().createElement("span",null,"2.",D.t("component.selectedScopeTips3")),o().createElement("span",null,"3.",D.t("component.selectedScopeTips4")),o().createElement("span",{className:"scope-tips-close"},o().createElement(F.Z,{onClick:()=>re(!1)}))),o().createElement(b.Z,{store:D,showTips:Ve,showToolTip:!0}))},oe=X,fe=e(57361),ee=e(9754),Oe=e.n(ee),We=e(25325),Ce=e.n(We),$e=e(50361),Ne=e.n($e),me=e(93212),Be=e(22385),Le=e(31097),Me=e(26726),be=e.n(Me),tt=e(45697),Ue=e.n(tt),ot=e(36202),et=e(91648),ce=(0,et.Z)(),w=D=>{var ge=(ne,ue)=>{D.pagination.onShowSizeChange(ne,ue)},je=(ne,ue)=>{var Ie=document.querySelector(".".concat(D.className," .ant-table-body"));Ie.scrollTop=0,D.pagination.onChange(ne,ue)},Ve={showSizeChanger:!0,showTotal:ne=>"".concat(D.t("historicRecords.altogether")).concat(ne).concat(D.t("historicRecords.strip")),pageSizeOptions:[20,30,40,50],total:D.pagination.total,onChange:je,current:D.pagination.current,pageSize:D.pagination.pageSize,size:"middle",onShowSizeChange:ge},re=()=>o().createElement("div",{onClick:()=>D.cancelSelect(),style:{color:D.themeColor,cursor:"pointer"}},D.t("component.cancelSelect")),te=ne=>({onClick:ue=>{ue.currentTarget.getElementsByClassName("ant-checkbox-wrapper")[0].click()}});return o().createElement("div",{className:"table-template"},o().createElement(ot.f,{dataSource:D.dataSource,columns:D.columns,loading:D.loading,rowKey:D.rowKey||"id",className:"table-template-pro ".concat(D.className),rowSelection:D.rowSelection,scroll:{x:"max-content",y:"calc(100% - 47px)"},toolBarRender:()=>D.toolBarRender,tableAlertOptionRender:!1,tableAlertRender:!1,onRow:te,tableUUID:ce,pagination:Ve}))};w.defaultProps={toolBarRender:o().createElement(o().Fragment,null),columns:[],dataSource:[],pagination:{},loading:!1,rowSelection:{selectedRowKeys:[],type:"checkbox"},className:"custom-table",rowKey:"",cancelSelect:()=>{},scroll:{y:"100%"}},w.PropTypes={cancelSelect:Ue().func,pagination:Ue().object,columns:Ue().array,dataSource:Ue().array,loading:Ue().bool,rowSelection:Ue().object,rowKey:Ue().func||Ue().string,className:Ue().string,scroll:Ue().object,toolBarRender:Ue().element};var Q=D=>{var ge=D.advancedSetting;return{themeColor:ge.themeColor}},Y=(0,g.$j)(Q)((0,C.Z)()(w)),De=e(6793),ye=e(48479),ae=e(37055),ie=e(10237),de={userGroup:ae.ZP.choose.userGroup,userCluster:ae.ZP.choose.userCluster,userRoles:ae.ZP.choose.userRoles},we={keyword:"",page_number:1,page_size:20},Te=D=>{var ge=q(),je=ge.groups,Ve=ge.setGroups,re=ge.clusters,te=ge.setClusters,ne=ge.roles,ue=ge.setRoles,Ie=ge.t,Je=ge.checkable,it=(0,h.useState)(Ne()(we)),Ge=(0,I.Z)(it,2),lt=Ge[0],Re=Ge[1],dt=(0,h.useState)(0),ut=(0,I.Z)(dt,2),ft=ut[0],Dt=ut[1],yt=(0,h.useState)([]),rt=(0,I.Z)(yt,2),Ot=rt[0],Et=rt[1],Nt=(0,h.useState)(!1),Lt=(0,I.Z)(Nt,2),Ut=Lt[0],Wt=Lt[1],st=null,Ae={cluster:{columns:[{title:Ie("component.clusterName"),dataIndex:"name",key:"name",fixed:"left",width:120,render:J=>o().createElement(Le.Z,{title:J},o().createElement("div",{className:"cl-text-ellipsis",style:{width:220}},J||"--"))},{title:Ie("common.creator"),dataIndex:"create_user",key:"create_user",width:120,render:J=>o().createElement(Le.Z,{title:J},o().createElement("div",{className:"cl-text-ellipsis",style:{width:120}},J||"--"))},{title:Ie("common.createTime"),dataIndex:"create_time",key:"create_time",width:120}],setData:te,data:re,url:de.userCluster(),searchPlaceholder:Ie("component.clusterSearch"),handleList:J=>{var H=Ne()(J);return H.map($=>({name:$.name,create_user:$.create_user,create_time:$.create_time?(0,De.p6)($.create_time,"yyyy-MM-dd  hh:mm:ss"):"",key:$.id,id:$.id,path:$.path}))}},group:{columns:[{title:Ie("component.groupName"),dataIndex:"name",key:"name",fixed:"left",width:120,render:J=>o().createElement(Le.Z,{title:J},o().createElement("div",{className:"cl-text-ellipsis",style:{width:220}},J||"--"))},{title:Ie("common.creator"),dataIndex:"create_user",key:"create_user",width:120,render:J=>o().createElement(Le.Z,{title:J},o().createElement("div",{className:"cl-text-ellipsis",style:{width:120}},J||"--"))},{title:Ie("common.updateTime"),dataIndex:"update_time",key:"update_time",width:120}],setData:Ve,data:je,searchPlaceholder:Ie("component.groupSearch"),url:de.userGroup(),handleList:J=>{var H=Ne()(J);return H.map($=>({name:$.name,create_user:$.create_user,update_time:$.update_time?(0,De.p6)($.update_time,"yyyy-MM-dd  hh:mm:ss"):"",id:$.id,path:$.path}))}},role:{columns:[{title:Ie("setting.roleName"),dataIndex:"role_name",key:"role_name"}],data:ne,setData:ue,searchPlaceholder:Ie("component.roleSearch"),url:de.userRoles(),handleList:J=>{var H=Ne()(J);return H.map($=>({role_name:$.role_name,id:$.id,name:$.role_name}))}}},Ye=D.show?D.type:"group",Fe=Ae[Ye],at=Fe.columns,Tt=Fe.data,mt=Fe.setData,nt=Fe.handleList,_t=Fe.url,Yt=Fe.searchPlaceholder;(0,h.useEffect)(()=>{Re(J=>N()(J,{$set:we})),Et(J=>N()(J,{$set:[]})),Dt(J=>N()(J,{$set:0})),D.show&&(st&&st.clear(),wt(we))},[D.type]);var wt=function(){var J=(0,fe.Z)(Oe().mark(function H($){var Se,Ee,Zt,At,Pt,jt,va,ga;return Oe().wrap(function(ra){for(;;)switch(ra.prev=ra.next){case 0:return Se=$.page_number,Ee=$.page_size,Zt=$.keyword,ra.prev=1,Wt(!0),ra.next=5,ie.WY.get({url:_t,params:{page_number:Se,page_size:Ee,keyword:Zt}});case 5:At=ra.sent,Wt(!1),Pt=At.data.data,jt=Pt.total_size,va=Pt.list,ga=Array.isArray(va)?nt(va):[],Et(ga),Dt(jt),ra.next=16;break;case 13:ra.prev=13,ra.t0=ra.catch(1),Wt(!1);case 16:case"end":return ra.stop()}},H,null,[[1,13]])}));return function($){return J.apply(this,arguments)}}(),Xt=J=>{Re(H=>N()(H,{keyword:{$set:J},page_number:{$set:1}})),wt({keyword:J,page_number:1,page_size:lt.page_size})},ta=(J,H,$)=>{var Se=Tt.map(Ee=>Ee.id);J?$.forEach(Ee=>{Se.includes(Ee.id)||mt(Zt=>N()(Zt,{$push:[aa(Ee)]}))}):mt(Ee=>N()(Ee,{$set:be()($,Ee,"id")}))},aa=J=>({id:J.id,name:J.name}),pe=(J,H)=>{if(!Je){mt(Se=>N()(Se,{$set:[aa(J)]}));return}if(H)mt(Se=>N()(Se,{$push:[aa(J)]}));else{var $=Tt.findIndex(Se=>Se.id===J.id);mt(Se=>N()(Se,{$splice:[[$,1]]}))}},_e=()=>o().createElement(ye.Z,{placeholder:Yt,onSearch:Xt,width:"220px",onRef:J=>st=J});return o().createElement(Y,{toolBarRender:_e(),dataSource:Ot,columns:at,rowSelection:{type:Je?"checkbox":"radio",selectedRowKeys:Tt.map(J=>J.id),onSelect:pe,onSelectAll:ta},className:D.type,cancelSelect:()=>mt([]),loading:Ut,pagination:{total:ft,pageSize:lt.page_size,current:lt.page_number,onShowSizeChange:(J,H)=>{Re($=>N()($,{page_size:{$set:H}}))},onChange:(J,H)=>{var $=lt.page_size===H?J:1;Re(Se=>N()(Se,{page_number:{$set:$}})),wt({page_number:$,page_size:H,keyword:lt.keyword})}}})};Te.defaultProps={type:"group",show:!0};var he=Te,ze=e(59676),qe={chooseDepartment:ae.ZP.choose.chooseDepartment,choosePost:ae.ZP.choose.choosePost},ke=()=>{var D=q(),ge=D.scopeList,je=D.filterAuth,Ve=D.departments,re=D.posts,te=D.setDepartments,ne=D.setPosts,ue=D.isOnlyPost,Ie=D.showScopeTabs,Je=D.active,it=D.t,Ge=(0,h.useState)(ge[0]),lt=(0,I.Z)(Ge,2),Re=lt[0],dt=lt[1],ut={department:{data:Ve,setData:te,url:qe.chooseDepartment(),id:"dept_id"},post:{data:re,setData:ne,url:qe.choosePost(),id:"post_id"}},ft=function(){var st=(0,fe.Z)(Oe().mark(function Ae(Ye,Fe,at,Tt){var mt,nt,_t,Yt,wt,Xt,ta;return Oe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(mt=ut[Tt],nt=Ne()(mt.data),_t=Ye.findIndex(_e=>_e.id===Fe),!at){pe.next=15;break}if(!(_t>-1&&Ye[_t].have_auth==="true")){pe.next=8;break}nt=[...nt,Ye[_t]],pe.next=13;break;case 8:return pe.next=10,ie.WY.get({url:mt.url,params:{[mt.id]:Fe}});case 10:Yt=pe.sent,wt=Yt.data,Xt=wt.code,ta=wt.data,Xt==="200000"&&(nt=[...nt,ta]);case 13:pe.next=16;break;case 15:nt=(0,me.XB)(nt,Fe);case 16:mt.setData(nt);case 17:case"end":return pe.stop()}},Ae)}));return function(Ye,Fe,at,Tt){return st.apply(this,arguments)}}(),Dt={department:{treeData:(0,me.z8)(Ve),handleTreeData:(st,Ae,Ye)=>ft(st,Ae,Ye,"department")},post:{treeData:(0,me.z8)(re),handleTreeData:(st,Ae,Ye)=>ft(st,Ae,Ye,"post")}},yt=["group","cluster","role"],rt=["department","post"],Ot=Ce()(ge,rt).length,Et=Ce()(ge,yt).length,Nt=yt.includes(Re),Lt=rt.includes(Re),Ut=()=>{if(!Ot)return null;var st=Lt?Dt[Re]:{},Ae=st.treeData,Ye=Ae===void 0?[]:Ae,Fe=st.handleTreeData,at=Fe===void 0?()=>{}:Fe;return o().createElement("div",{className:"scope-selector-depart-post",style:{display:Lt?"block":"none"}},o().createElement(ze.Z,{businessType:Re,filterAuth:je,haveAuth:!1,isOnlyPost:ue,hasCheckList:Ye,searchWidth:220,onCheck:at,onSelect:at,active:Je}))};(0,h.useEffect)(()=>{dt(ge[0])},[Je,ge]);var Wt=()=>Et?o().createElement("div",{style:{display:Nt?"block":"none"},className:"rgc-selector"},o().createElement(he,{type:Re,show:Nt})):null;return o().createElement("div",{className:"scope-selector"},Ie&&o().createElement("div",{className:"scope-selector-panel"},o().createElement(B,{t:it,tabList:ge,activeTab:Re,setActiveTab:dt})),o().createElement("div",{className:"scope-selector-body ".concat(Ie?"scope-selector-body-have":"")},Ut(),Wt()))},xe=ke,ht=e(78138),Xe=e.n(ht),vt=e(20136),He=e(55241),gt=e(71153),bt=e(60331),oa=e(13062),qt=e(71230),Ft=e(59250),Bt=e(13013),sa=e(89032),Vt=e(15746),ea=e(63185),Kt=e(9676),na=e(47673),Qt=e(4107),xt=e(9715),le=e(86585),m=e(14965),u=e(11448),r=e(43358),t=e(34041),a=e(58491),s=e(57254),d=e(60667),v=t.Z.Option,f=u.Z.RangePicker,k=D=>{var ge=D.onSearch,je=D.initialValues,Ve=D.customFields,re=q(),te=re.t,ne=re.filterAuth,ue=re.isOnlyPost,Ie=(0,h.useState)(!1),Je=(0,I.Z)(Ie,2),it=Je[0],Ge=Je[1],lt=(0,h.useState)([]),Re=(0,I.Z)(lt,2),dt=Re[0],ut=Re[1],ft=(0,h.useState)([]),Dt=(0,I.Z)(ft,2),yt=Dt[0],rt=Dt[1],Ot=(0,h.useState)(!0),Et=(0,I.Z)(Ot,2),Nt=Et[0],Lt=Et[1],Ut=le.Z.useForm(),Wt=(0,I.Z)(Ut,1),st=Wt[0],Ae=[{label:te("common.departmentLabel"),key:"department_ids",type:"department",dataIndex:"departmentId",placeholder:"".concat(te("common.all")).concat(te("common.departmentLabel")),isChecked:!0,span:8},{label:te("common.postLabel"),key:"post_ids",type:"post",dataIndex:"postId",placeholder:"".concat(te("common.all")).concat(te("common.postLabel")),isChecked:!0,span:8},{label:te("searchInputPlaceholder.userNameOp"),key:"user_name",type:"input",dataIndex:"username",isChecked:!0,inputProps:{maxLength:50},span:8},{label:te("searchInputPlaceholder.jobNumberOp"),key:"job_number",type:"input",dataIndex:"jobNumber",isChecked:!0,inputProps:{maxLength:50},span:8}],Ye=(0,h.useState)(Ae),Fe=(0,I.Z)(Ye,2),at=Fe[0],Tt=Fe[1],mt=H=>{var $=Ne()(H);$.join_time&&($.start_time=$.join_time.length>0?Xe()($.join_time[0]).valueOf():"",$.end_time=$.join_time.length>0?Xe()($.join_time[1]).valueOf():"");var Se=[];Object.keys($).forEach(Ee=>{Ee.indexOf("column")>-1&&$[Ee]&&Se.push({column_key:Ee,column_value:$[Ee]})}),$.department_ids=dt.map(Ee=>Ee.id).join(","),$.post_ids=yt.map(Ee=>Ee.id).join(","),$.extend_column_vos=Se,delete $.join_time,ge($)},nt=(H,$)=>{$==="post"?rt(H):$==="department"&&ut(H)},_t=(H,$)=>{if(H==="department"){var Se=dt.findIndex(Zt=>Zt.id===$);ut(Zt=>N()(Zt,{$splice:[[Se,1]]}))}else if(H==="post"){var Ee=yt.findIndex(Zt=>Zt.id===$);rt(Zt=>N()(Zt,{$splice:[[Ee,1]]}))}},Yt=H=>{st.setFieldsValue({join_time:H||[]})},wt=(H,$)=>{st.setFieldsValue({[$]:H.target.value.trim()})},Xt=H=>{Lt(H)},ta=H=>{if(H.type==="input")return o().createElement(Qt.Z,(0,j.Z)({placeholder:"".concat(te("common.input"))},H.inputProps,{allowClear:!0,onChange:Se=>wt(Se,H.key)}));if(H.type==="select")return o().createElement(t.Z,{placeholder:"".concat(te("common.select")),disabled:H.disabled},H.dataSource.map(Se=>o().createElement(v,{value:Se.value,key:Se.value},Se.label)));if(H.type==="rangePicker")return o().createElement(f,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onChange:Yt,style:{width:"100%"}});if(H.type==="department"||H.type==="post"){var $={department:dt,post:yt}[H.type]||[];return o().createElement("div",{className:"form-select"},o().createElement("div",{className:"select-wrapper",style:{display:$.length?"flex":"none"}},o().createElement(A,{onClose:_t,hasCheckList:$,type:H.type})),o().createElement(t.Z,{dropdownStyle:{width:"400px",padding:"20px"},dropdownMatchSelectWidth:!1,placeholder:$.length?"":H.placeholder,showArrow:!0,autoFocus:!1,showSearch:!1,onDropdownVisibleChange:Xt,mode:"multiple",maxTagCount:"responsive",dropdownRender:()=>o().createElement(ze.Z,{businessStyle:{height:400},searchWidth:320,filterAuth:ne,haveAuth:!1,checkable:!0,isOnlyPost:ue,showSearch:Nt,businessType:H.type,hasCheckList:$,onCheck:Se=>nt(Se,H.type),onSelect:Se=>nt(Se,H.type)})}))}return null},aa=()=>{st.resetFields(),ut([]),rt([]),ge({},"reset")};(0,h.useEffect)(()=>{if(Array.isArray(Ve)){var H=Ve.map(Se=>({label:Se.value,key:Se.label,type:"input",dataIndex:Se.label,isChecked:!1,inputProps:{maxLength:50},span:8})),$=[...Ne()(Ae),{label:te("searchInputPlaceholder.loginNumber"),key:"login_mobile",type:"input",inputProps:{maxLength:50},dataIndex:"loginMobile",isChecked:!1,span:8},{label:te("marketing.loginEmail"),key:"login_email",type:"input",dataIndex:"loginEmail",isChecked:!1,inputProps:{maxLength:50},span:8},...H,{label:te("setting.joinTime"),key:"join_time",type:"rangePicker",dataIndex:"joinTime",isChecked:!1,span:16}];Tt($)}},[Ve]);var pe=H=>{var $=Ne()(at);$.forEach((Se,Ee)=>{Ee>3&&(Se.isChecked=H.includes(Se.key))}),Tt($)},_e=o().createElement("div",null,o().createElement(Kt.Z.Group,{style:{width:"100%"},onChange:pe},at.slice(4,at.length).map((H,$)=>o().createElement(Kt.Z,{value:H.key,key:$.toString()},H.label)))),J=()=>{var H=at.reduce((Se,Ee)=>Se+(Ee.isChecked?Ee.span:0),0),$=at.filter(Se=>Se.isChecked&&Se.span===16);return $.length&&H%24==8?8:24-H%24};return o().createElement(le.Z,{form:st,name:"basic",initialValues:je,className:"search-form",onFinish:mt,autoComplete:"off"},o().createElement(qt.Z,{gutter:24},at.map((H,$)=>$>3&&!H.isChecked?null:o().createElement(Vt.Z,{span:H.span,key:$.toString()},o().createElement(le.Z.Item,{label:H.label,name:H.key},ta(H)))),o().createElement(Vt.Z,{span:J(),style:{textAlign:"right"}},o().createElement(Bt.Z,{overlay:_e,trigger:["click"],overlayClassName:"dropdown-more"},o().createElement(c.Z,{onClick:()=>{Ge(!it)}},te("common.more")," ",it?o().createElement(a.Z,null):o().createElement(s.Z,null))),o().createElement(c.Z,{htmlType:"submit",style:{margin:"0 12px"},type:"primary"},te("setting.searchLabel")),o().createElement("a",{onClick:aa},te("common.reset")))))};function A(D){var ge=D.type,je=D.hasCheckList,Ve=D.onClose,re=ne=>{ne.preventDefault(),ne.stopPropagation()};if(!je.length)return null;var te=()=>je.map((ne,ue)=>o().createElement("span",{key:ne.id},o().createElement(d.Z,{type:ne.source_type,name:ne.name,value:ne.id,dataType:"departmentName"}),ue!==je.length-1?"\uFF1B":""));return o().createElement(He.Z,{title:"",content:te(),getPopupContainer:()=>document.querySelector(".search-form"),overlayClassName:"select-tooltip",placement:"topLeft",arrowPointAtCenter:!0},o().createElement("div",null,je.slice(0,2).map(ne=>o().createElement(bt.Z,{onMouseDown:re,key:ne.id,closable:!0,onClose:()=>Ve(ge,ne.id),style:{marginRight:3}},o().createElement("div",{className:"label-span"},o().createElement(d.Z,{type:ne.source_type,name:ne.name,value:ne.id,dataType:"departmentName"})))),je.length>2&&o().createElement("span",{className:"tag-more"},"...")))}k.defaultProps={onSearch:()=>{},initialValues:{user_type:""},customFields:[]};var V=k,R=e(17215),T=e(38642),z=e(80430),ve={getUsers:ae.ZP.choose.users},Ze={ding:"sync",third_oa_app:"third_oa_sync",weixin:"wx_sync",app:"create",fs:"fs_sync ",lenovo_sync:""},Ke={e_app:"sync",third_oa_app:"third_oa_sync",wx_app:"wx_sync",app:"create",fs_app:"fs_sync",seeyon_app:""},Pe=D=>{var ge=q(),je=ge.users,Ve=ge.setUsers,re=ge.filterAuth,te=ge.checkable,ne=ge.userType,ue=ge.appType,Ie=ge.t,Je=D.organizationType,it={page_number:1,page_size:20,user_name:"",filter_auth:re,user_type:ne,department_ids:"",post_ids:"",job_number:"",login_mobile:"",login_email:"",start_time:"",end_time:"",source_type:Je?Ze[Je]:Ke[ue]||""},Ge=(0,h.useState)(Ne()(it)),lt=(0,I.Z)(Ge,2),Re=lt[0],dt=lt[1],ut=(0,h.useState)(0),ft=(0,I.Z)(ut,2),Dt=ft[0],yt=ft[1],rt=(0,h.useState)([]),Ot=(0,I.Z)(rt,2),Et=Ot[0],Nt=Ot[1],Lt=(0,h.useState)(!1),Ut=(0,I.Z)(Lt,2),Wt=Ut[0],st=Ut[1],Ae=(0,h.useState)([]),Ye=(0,I.Z)(Ae,2),Fe=Ye[0],at=Ye[1],Tt=(0,h.useState)([{title:Ie("common.userName"),dataIndex:"user_name",key:"user_name",fixed:"left",width:150,render:(pe,_e)=>{var J=()=>o().createElement(d.Z,{type:_e.source_type,name:_e.user_name,value:_e.user_id,dataType:"userName"});return o().createElement(Le.Z,{title:J()},o().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},J()))}},{title:"ID",dataIndex:"id",key:"id",width:100},{title:Ie("authentication.job_number"),dataIndex:"job_number",key:"job_number",width:150,render:pe=>o().createElement("span",null,pe||"--")},{title:Ie("common.departmentLabel"),dataIndex:"department_infos",key:"department_infos",width:210,render:pe=>{var _e=()=>o().createElement(z.Z,{list:pe,displayAll:!0});return o().createElement(Le.Z,{title:_e()},o().createElement("div",{className:"cl-text-ellipsis",style:{width:200}},_e()))}},{title:Ie("authentication.position"),dataIndex:"post_names",width:150,key:"post_names",render:pe=>{var _e=Array.isArray(pe)?pe.join("\uFF0C"):"";return o().createElement(Le.Z,{title:_e},o().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},_e||"--"))}},{title:Ie("marketing.loginEmail"),dataIndex:"login_email",key:"login_email",width:150,render:pe=>o().createElement("span",null,pe||"--")},{title:Ie("searchInputPlaceholder.loginNumber"),dataIndex:"login_mobile",key:"login_mobile",width:150,render:pe=>o().createElement("span",null,pe||"--")},{title:Ie("setting.joinTime"),dataIndex:"create_time",key:"create_time",width:150,render:pe=>o().createElement("span",null,pe?Xe()(Number(pe)).format("YYYY-MM-DD HH:mm"):"--")}]),mt=(0,I.Z)(Tt,2),nt=mt[0],_t=mt[1];(0,h.useEffect)(()=>{Yt()},[Re]);var Yt=function(){var pe=(0,fe.Z)(Oe().mark(function _e(){var J,H,$,Se,Ee;return Oe().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.prev=0,st(!0),At.next=4,ie.WY.post({url:ve.getUsers(),data:Re});case 4:J=At.sent,st(!1),H=J.data.data,$=H.total_size,Se=H.list,Ee=Se.map(Pt=>(Array.isArray(Pt.extend_list)&&Pt.extend_list.forEach(jt=>{Pt[jt.column_key]=jt.extend_value}),Pt.path=Pt.department_infos,(0,x.Z)((0,x.Z)({},Pt),{},{user_name:Pt.user_name,job_number:Pt.job_number,login_mobile:Pt.login_mobile,login_email:Pt.login_email,department_names:Pt.department_names,post_names:Pt.post_names,user_id:Pt.user_id,name:Pt.user_name,path:Pt.path}))),Nt(Ee),yt($),At.next=15;break;case 12:At.prev=12,At.t0=At.catch(0),st(!1);case 15:case"end":return At.stop()}},_e,null,[[0,12]])}));return function(){return pe.apply(this,arguments)}}(),wt=pe=>({id:pe.id,name:pe.name,path:pe.path,source_type:pe.source_type,user_id:pe.user_id}),Xt=(pe,_e,J)=>{if(pe){var H=je.map($=>$.id);J.forEach($=>{H.includes($.id)||Ve(Se=>N()(Se,{$push:[wt($)]}))})}else Ve($=>N()($,{$set:be()(J,$,"id")}))},ta=(pe,_e)=>{if(te)if(_e)Ve(H=>N()(H,{$push:[wt(pe)]}));else{var J=je.findIndex(H=>H.id===pe.id);Ve(H=>N()(H,{$splice:[[J,1]]}))}else Ve(H=>N()(H,{$set:[wt(pe)]}))},aa=(pe,_e)=>{dt(_e==="reset"?J=>N()(J,{$set:it}):J=>N()(J,{$set:(0,x.Z)((0,x.Z)({},J),{},{page_number:1},pe)}))};return(0,h.useEffect)(()=>{(function(){var pe=(0,fe.Z)(Oe().mark(function J(){var H,$,Se,Ee,Zt,At;return Oe().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return jt.next=2,(0,T.Kb)((0,R.h)());case 2:if(H=jt.sent,$=(0,I.Z)(H,2),Se=$[0],Ee=$[1],!Se){jt.next=8;break}return jt.abrupt("return");case 8:Zt=Ee.data,At=[],Array.isArray(Zt)&&Zt.forEach(va=>{Object.keys(va).forEach(ga=>{ga.indexOf("column")>-1&&At.push({label:ga,value:va[ga]})})}),at(At);case 12:case"end":return jt.stop()}},J)}));function _e(){return pe.apply(this,arguments)}return _e})()()},[]),(0,h.useEffect)(()=>{var pe=Fe.map(_e=>({title:_e.value,dataIndex:_e.label,key:_e.label,render:J=>o().createElement(Le.Z,{title:J},o().createElement("div",{className:"cl-text-ellipsis",style:{width:100}},J||"--"))}));_t([...nt,...pe])},[Fe]),o().createElement("div",{className:"direct-select-user"},o().createElement("div",{className:"direct-header"},o().createElement(V,{onSearch:aa,initialValues:{user_type:ne},customFields:Fe})),o().createElement("div",{className:"direct-body"},o().createElement(Y,{hasSearch:!1,dataSource:Et,columns:nt,rowSelection:{type:te?"checkbox":"radio",selectedRowKeys:je.map(pe=>pe.id),onSelect:ta,onSelectAll:Xt},cancelSelect:()=>Ve([]),loading:Wt,pagination:{total:Dt,pageSize:Re.page_size,current:Re.page_number,onShowSizeChange:(pe,_e)=>{dt(J=>N()(J,{$set:(0,x.Z)((0,x.Z)({},J),{},{page_size:_e})}))},onChange:pe=>{dt(_e=>N()(_e,{$set:(0,x.Z)((0,x.Z)({},_e),{},{page_number:pe})}))}}})))},It=()=>({}),Ct=(0,g.$j)(It)((0,C.Z)()(Pe)),St=e(66456),Jt=e(55313),Mt=e(43185),$t=e(53251),zt=e(30887),kt=e(99210),ct=e(8812),pt=e(49101),Ht=e(90631),Gt=e(97593),ia=e(18329),la={size:"middle",destroyOnClose:!0,bodyStyle:{padding:"0 32px"},maskClosable:!1},ca={downloadTemplate:ae.ZP.Organization.downloadTemplate,uploadUsers:ae.ZP.Organization.importUserTemplate},pa=D=>{var ge=(0,h.useState)(!1),je=(0,I.Z)(ge,2),Ve=je[0],re=je[1],te=(0,h.useState)([]),ne=(0,I.Z)(te,2),ue=ne[0],Ie=ne[1],Je=(0,h.useState)(""),it=(0,I.Z)(Je,2),Ge=it[0],lt=it[1],Re=q(),dt=Re.users,ut=Re.setUsers,ft=Re.fileList,Dt=Re.setFileList,yt=[{key:"userId",label:D.t("component.importByUserId")},{key:"mobile",label:D.t("component.importByMobile")},{key:"jobNumber",label:D.t("component.importByJobNum")}],rt=o().createElement(kt.Z,null,yt.map(Ae=>o().createElement(kt.Z.Item,{onClick:()=>Nt(Ae.key),key:Ae.key},Ae.label))),Ot=[{title:D.t("component.fileName"),dataIndex:"file_name",key:"file_name",width:200,textWrap:"word-break",ellipsis:!0},{title:D.t("component.successLabel"),dataIndex:"success_count"},{title:D.t("component.failedLabel"),dataIndex:"failed_count",render:(Ae,Ye)=>o().createElement("div",null,Ae," ",Ae>0&&o().createElement(c.Z,{type:"link",size:"small",onClick:()=>Et(!0,Ye.error_msg_list),icon:o().createElement(ct.Z,null)}))},{title:D.t("common.operate"),dataIndex:"operate",render:(Ae,Ye)=>o().createElement(c.Z,{type:"link",onClick:()=>Lt(Ye)},D.t("component.importUser"))}],Et=(Ae,Ye)=>{Ie(Ye),re(Ae)},Nt=Ae=>{lt(Ae)},Lt=Ae=>{var Ye=Ae.success_list,Fe=dt.map(at=>at.id);Ye.forEach(at=>{Fe.includes(at.id)||ut(Tt=>N()(Tt,{$push:[at]}))})},Ut=Ae=>{O.default.config({maxCount:5});var Ye=Ae.file,Fe=Ye===void 0?{}:Ye,at=Fe.response,Tt=at===void 0?{}:at,mt=Tt.code,nt=Tt.data,_t=Tt.message;if(Fe.status==="error")mt==="4000001"?O.default.error("".concat(Fe.name," ").concat(D.t("component.dataManyTip",{count:3e3})),3):O.default.error(_t||"".concat(Fe.name," ").concat(D.t("setting.uploadFail")),3);else if(Fe.status==="done")if(mt==="200000"){var Yt={key:Fe.uid,file_name:Fe.name,success_count:nt.success_count,success_list:nt.success_list,failed_count:nt.failed_count,error_msg_list:nt.error_msg_list||[]};Dt(wt=>N()(wt,{$set:[...wt,Yt]})),O.default.success("".concat(Fe.name," ").concat(D.t("setting.uploadSuccess")),1)}else O.default.error("".concat(Fe.name," ").concat(D.t("component.checkFileError")),3)},Wt=Ae=>{var Ye={page:"selectUserTemplate",query:"?download_type=".concat(Ae),props:D};(0,Gt.N)(Ye)},st={name:"file",multiple:!0,action:"".concat(ca.uploadUsers(),"?access_token=").concat(window.localStorage.getItem("token"),"&type=").concat(Ge),showUploadList:!1,headers:{authorization:"authorization-text","Enterprise-Id":window.localStorage.getItem("enterpriseId")},accept:".xlsx",onChange:Ut};return o().createElement("div",{className:"import-user"},o().createElement("div",{className:"import-user-header"},o().createElement("div",{className:"import-user-tips"},o().createElement("div",{className:"import-user-tip"},D.t("component.importTipTitle"),"\uFF1A"),o().createElement("div",{className:"import-user-tip"},D.t("component.importUserTips1")),o().createElement("div",{className:"import-user-tip"},D.t("component.importUserTips2")),o().createElement("div",{className:"import-user-tip"},D.t("component.importUserTips3"))),o().createElement(i.Z,null,o().createElement($t.Z,st,o().createElement(Bt.Z,{overlay:rt},o().createElement(c.Z,{onClick:Ae=>{Ae.stopPropagation()},icon:o().createElement(pt.Z,null),type:"primary",ghost:!0},D.t("component.selectFile")))),o().createElement(c.Z,{icon:o().createElement(Ht.Z,null),onClick:()=>Wt("group"),type:"primary",ghost:!0},D.t("component.downLoadTemplate")),o().createElement(c.Z,{icon:o().createElement(Ht.Z,null),onClick:()=>Wt("empty_template"),type:"primary",ghost:!0},D.t("component.downloadEmptyTemplate")))),o().createElement("div",{className:"import-user-body"},o().createElement(Jt.Z,{dataSource:ft,columns:Ot,rowKey:Ae=>Ae.key,pagination:!1,scroll:{y:"calc(100% - 55px)"}})),o().createElement(ia.Om,(0,j.Z)({className:"err-view-dialog"},la,{title:D.t("component.importErrorTip"),visible:Ve,onCancel:()=>Et(!1,[]),onOk:()=>Et(!1,[])}),ue.map(Ae=>o().createElement("div",{className:"err-view-item",key:Ae},Ae))))},da=(0,g.$j)()((0,C.Z)()(pa)),ua=D=>{var ge=q(),je=ge.chooseUserList,Ve=ge.showChooseTabs,re=ge.active,te=ge.t,ne=(0,h.useState)(je[0]),ue=(0,I.Z)(ne,2),Ie=ue[0],Je=ue[1];return(0,h.useEffect)(()=>{Je(je[0])},[re,je]),o().createElement("div",{className:"direct-selector"},Ve&&o().createElement("div",{className:"direct-selector-panel"},o().createElement(B,{t:te,tabList:je,activeTab:Ie,setActiveTab:Je})),o().createElement("div",{className:"direct-selector-body ".concat(Ve?"direct-selector-body-have":"")},Ie==="immediate"&&o().createElement(Ct,{organizationType:D.organizationType}),Ie==="import"&&o().createElement(da,null)))},ma=ua,ha=D=>{var ge=(0,h.useState)(D.tabs[0]),je=(0,I.Z)(ge,2),Ve=je[0],re=je[1],te=(0,h.useState)([]),ne=(0,I.Z)(te,2),ue=ne[0],Ie=ne[1],Je=(0,h.useState)([]),it=(0,I.Z)(Je,2),Ge=it[0],lt=it[1],Re=(0,h.useState)([]),dt=(0,I.Z)(Re,2),ut=dt[0],ft=dt[1],Dt=(0,h.useState)([]),yt=(0,I.Z)(Dt,2),rt=yt[0],Ot=yt[1],Et=(0,h.useState)([]),Nt=(0,I.Z)(Et,2),Lt=Nt[0],Ut=Nt[1],Wt=(0,h.useState)([]),st=(0,I.Z)(Wt,2),Ae=st[0],Ye=st[1],Fe=(0,h.useState)([]),at=(0,I.Z)(Fe,2),Tt=at[0],mt=at[1],nt=D.tabs.length>1,_t=D.scopeList.length>1,Yt=D.chooseUserList.length>1,wt=(0,h.useState)(!1),Xt=(0,I.Z)(wt,2),ta=Xt[0],aa=Xt[1],pe={wrapper:D.showType==="drawer"?P.Z:n.Z,height:D.showType==="drawer"?"100%":"642px",config:D.showType==="drawer"?{className:"".concat(D.className," cl-user-selector")}:{wrapClassName:"".concat(D.className," cl-user-selector")}},_e=()=>{Ie([]),lt([]),Ot([]),ft([]),Ye([]),Ut([])},J=(0,x.Z)({users:ue,setUsers:Ie,departments:Ge,setDepartments:lt,posts:ut,setPosts:ft,groups:rt,setGroups:Ot,clusters:Lt,setClusters:Ut,roles:Ae,setRoles:Ye,clearData:_e,active:Ve,showTabs:nt,showScopeTabs:_t,showChooseTabs:Yt,fileList:Tt,setFileList:mt,appType:D.appType,tableHeight:pe.height},D),H=()=>{if(D.maxUserConfig.limitCount&&ue.length>D.maxUserConfig.limitCount){O.default.warn(D.maxUserConfig.limitTip);return}var Ee={};D.tabs.includes("user")&&(Ee.users=U()(ue,"id")),D.tabs.includes("scope")&&(D.scopeList.includes("department")&&(Ee.departments=Ge),D.scopeList.includes("post")&&(Ee.posts=ut),D.scopeList.includes("group")&&(Ee.groups=U()(rt,"id")),D.scopeList.includes("cluster")&&(Ee.clusters=U()(Lt,"id")),D.scopeList.includes("role")&&(Ee.roles=U()(Ae,"id"))),D.onOk((0,x.Z)({},Ee))};(0,h.useEffect)(()=>(D.tabs.includes("user")&&Ie(Ee=>N()(Ee,{$set:D.value.users||[]})),D.scopeList.includes("department")&&lt(Ee=>N()(Ee,{$set:D.value.departments||[]})),D.scopeList.includes("post")&&ft(Ee=>N()(Ee,{$set:D.value.posts||[]})),D.scopeList.includes("group")&&Ot(Ee=>N()(Ee,{$set:D.value.groups||[]})),D.scopeList.includes("cluster")&&Ut(Ee=>N()(Ee,{$set:D.value.clusters||[]})),D.scopeList.includes("role")&&Ye(Ee=>N()(Ee,{$set:D.value.roles||[]})),()=>{re(D.tabs[0])}),[D.value,D.tabs,D.scopeList]);var $=()=>{_e(),D.onCancel()};(0,h.useEffect)(()=>{var Ee=ue.length||Ge.length||ut.length||rt.length||Lt.length||Ae.length;aa(!Ee)},[ue,Ge,ut,rt,Lt,Ae]);var Se=()=>o().createElement(i.Z,null,o().createElement(c.Z,{onClick:$},D.cancelText||D.t("common.cancel")),o().createElement(c.Z,{type:"primary",onClick:H,disabled:ta},D.okText||D.t("common.ok")));return o().createElement(pe.wrapper,(0,j.Z)({},D.wrapperConfig,{visible:D.visible,title:D.title||D.t("component.chooseObject")},pe.config,{onClose:$,onCancel:$,footer:Se()}),o().createElement(G.Provider,{value:J},o().createElement("div",{className:"user-selector-wrapper"},o().createElement("div",{className:"wrapper-layout",style:{height:pe.height}},o().createElement("div",{className:"layout-left"},nt&&o().createElement("div",{className:"selector-panel"},o().createElement(B,{activeTab:Ve,t:D.t,tabList:D.tabs,setActiveTab:re,type:"card"})),D.tabs.includes("user")&&o().createElement("div",{className:"layout-left-content ".concat(nt?"layout-left-content-have":""),style:{display:Ve==="user"?"block":"none"}},o().createElement(ma,{organizationType:D.organizationType})),D.tabs.includes("scope")&&o().createElement("div",{className:"layout-left-content ".concat(nt?"layout-left-content-have":""),style:{display:Ve==="scope"?"block":"none"}},o().createElement(xe,null))),o().createElement("div",{className:"layout-right"},o().createElement(oe,null))))))};ha.defaultProps={visible:!1,value:{users:[],departments:[],posts:[],clusters:[],groups:[],roles:[]},title:"",businessId:"",tabs:["user","scope"],chooseUserList:["immediate","import"],scopeList:["department","post","group","cluster","role"],checkable:!0,filterAuth:!0,userType:"active",maxUserConfig:{limitCount:0,limitTip:""},isOnlyPost:!1,wrapperConfig:{width:"1200px",destroyOnClose:!0,bodyStyle:{padding:0},maskClosable:!1,size:"medium"},showType:"modal",okText:"",onOk:()=>{},onCancel:()=>{}};var Rt=D=>({appType:D.user.appType}),fa=(0,g.$j)(Rt)((0,C.Z)()(ha))},61066:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return Ne}});var j=e(62029),E=e(33565),i=e(7359),W=e(2829),c=e(12924),y=e.n(c),O=e(7145),x=e.n(O),l=e(50361),n=e.n(l),p=e(18095),P=e(18267),I=e(91768),h=e(93212),o=e(54549),_=e(28216),N=e(60667),Z=e(84874),U=me=>{var Be=me.data,Le=me.type,Me=me.appType,be=me.store,tt=me.isShowRemove,Ue=tt===void 0?!0:tt,ot=(et,ce)=>{var w=be[ce].findIndex(ie=>ie.id===et.id),Q={groups:be.setGroups,users:be.setUsers,clusters:be.setClusters,roles:be.setRoles};if(Object.keys(Q).forEach(ie=>{if(ce===ie){var de=n()(be[ce]);Array.isArray(de)&&(de.splice(w,1),Q[ie](de))}}),ce==="departments"){var Y=n()(be.departments),De=(0,h.XB)(Y,et.id,et);be.setDepartments(De)}if(ce==="posts"){var ye=n()(be.posts),ae=(0,h.XB)(ye,et.id,et);be.setPosts(ae)}};return y().createElement("div",{className:"render-item"},y().createElement("div",{className:"render-item-name"},y().createElement("span",{className:"item-name-icon"},Le==="users"?y().createElement(Z.Z,{className:"iconfont",color:"#C0C3CD",iconClass:"icon-danren1"}):y().createElement(Z.Z,{className:"iconfont",color:"#C0C3CD",iconClass:"icon-duoren1"})),["users","departments"].includes(Le)?y().createElement(N.Z,{type:Be.source_type,name:Be.name,value:Me==="wx_app"&&Le==="users"?Be.user_id:Be.id,dataType:Le==="users"?"userName":"departmentName"}):Be.name),Ue?y().createElement("span",{className:"render-item-close",onClick:()=>ot(Be,Le)},y().createElement(o.Z,{style:{fontSize:"12px",color:"#AFB5D2"}})):"")},C=me=>({appType:me.user.appType}),g=(0,_.$j)(C)(U),S=e(22385),M=e(31097),L=e(88986),K=e(57361),B=e(20228),F=e(11382),b=e(9754),G=e.n(b),q=e(10237),X=e(37055),oe=me=>q.WY.get({url:X.ZP.choose.chooseDepartmentPath({departmentId:me})}),fe=me=>q.WY.get({url:X.ZP.choose.choosePostPath({postId:me})}),ee=e(80430),Oe=me=>{var Be=me.showToolTip,Le=Be===void 0?!1:Be,Me=me.data,be=me.type,tt=me.store,Ue=me.isShowRemove,ot=Ue===void 0?!0:Ue,et=(0,c.useState)(!0),ce=(0,E.Z)(et,2),w=ce[0],Q=ce[1],Y=(0,c.useState)(Me),De=(0,E.Z)(Y,2),ye=De[0],ae=De[1],ie=(de,we)=>{var Te=Array.isArray(ye.path)&&ye.path.length,he=Te&&ye.path.every(qe=>Boolean(qe.post_names)),ze=Te&&ye.path.every(qe=>Boolean(qe.department_names));if(we==="posts"&&he)return de.path[0].post_names;if(ze)return y().createElement(ee.Z,{list:de.path,displayAll:!0})};return["users","departments","posts"].includes(be)&&Le?y().createElement(M.Z,{placement:"top",title:w?y().createElement(F.Z,{size:"small",className:"cl-user-selector-selected-body-tooltip"}):ie(ye,be),mouseEnterDelay:.5,trigger:["hover","focus","click"],onVisibleChange:function(){var de=(0,K.Z)(G().mark(function we(Te){var he,ze;return G().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(!(Te&&["departments","posts"].includes(be))){ke.next=22;break}if(ke.prev=1,be!=="departments"){ke.next=8;break}return ke.next=5,oe(ye.id);case 5:ke.t0=ke.sent,ke.next=11;break;case 8:return ke.next=10,fe(ye.id);case 10:ke.t0=ke.sent;case 11:he=ke.t0,ze=he.data.data.path,ae((0,h.sg)([(0,L.Z)((0,L.Z)({},ye),{},{path:ze})],be==="departments"?"department":"post")[0]),Q(!1),ke.next=20;break;case 17:ke.prev=17,ke.t1=ke.catch(1),console.error("\u83B7\u53D6path\u5931\u8D25",ke.t1);case 20:ke.next=23;break;case 22:Te&&["users"].includes(be)&&Q(!1);case 23:case"end":return ke.stop()}},we,null,[[1,17]])}));return function(we){return de.apply(this,arguments)}}()},y().createElement("span",null,y().createElement(g,{store:tt,data:ye,type:be,isShowRemove:ot}))):y().createElement(g,{store:tt,data:ye,type:be,isShowRemove:ot})},We=Oe,Ce=W.Z.Panel,$e=me=>{var Be=me.showTips,Le=Be===void 0?!1:Be,Me=me.showToolTip,be=Me===void 0?!1:Me,tt=me.isCollapseTree,Ue=tt===void 0?!1:tt,ot=me.isShowRemove,et=ot===void 0?!0:ot,ce=me.collapseProps,w=ce===void 0?{showExpandArrow:!0,expandIconPosition:"right",ghost:!0}:ce,Q=me.store,Y=Q===void 0?{departments:[],posts:[],users:[],groups:[],clusters:[],roles:[],setGroups:()=>{},setUsers:()=>{},setClusters:()=>{},setRoles:()=>{},setDepartments:()=>{},setPosts:()=>{}}:Q,De=me.t,ye=(0,c.useState)({departments:[],posts:[]}),ae=(0,E.Z)(ye,2),ie=ae[0],de=ae[1];(0,c.useEffect)(()=>{de(he=>x()(he,{departments:{$set:(0,h.sg)(Y.departments,"department")}}))},[Y.departments]),(0,c.useEffect)(()=>{de(he=>x()(he,{posts:{$set:(0,h.sg)(Y.posts,"post")}}))},[Y.posts]);var we=he=>{var ze=he.key,qe=he.data,ke={fontSize:"16px",marginRight:"8px",cursor:"pointer",color:"#C0C3CD"};return y().createElement("div",{className:"render-department-post"},qe.map(xe=>y().createElement("div",{key:xe.id,className:"department-post-wrapper ".concat(xe.have_auth==="true"?"inline":"")},xe.have_auth==="true"?y().createElement(We,{store:Y,data:xe,type:ze,showToolTip:be,isShowRemove:et}):y().createElement("div",{className:"render-parent"},xe.isExpand?y().createElement(p.Z,{style:ke,onClick:()=>Te(xe,ze)}):y().createElement(P.Z,{style:ke,onClick:()=>Te(xe,ze)}),ze==="departments"?y().createElement(N.Z,{type:xe.source_type,name:xe.name,value:xe.id,dataType:"departmentName"}):xe.name),Array.isArray(xe.sub_list)&&xe.sub_list.length&&xe.isExpand?y().createElement("div",{className:"render-child"},xe.sub_list.map(ht=>y().createElement(We,{store:Y,data:ht,key:ht.id,type:ze,showToolTip:be,isShowRemove:et}))):null)))},Te=(he,ze)=>{if(ze==="departments"){var qe=n()(Y.departments).map(xe=>(xe.id===he.id&&(xe.isExpand=!xe.isExpand),xe));Y.setDepartments(qe)}else if(ze==="posts"){var ke=n()(Y.posts).map(xe=>(xe.id===he.id&&(xe.isExpand=!xe.isExpand),xe));Y.setPosts(ke)}};return y().createElement("div",{className:"cl-user-selector-selected-body ".concat(Le?"cl-user-selector-selected-body-tips":"")},y().createElement(W.Z,(0,j.Z)({defaultActiveKey:Ue?[]:["1","2","3","4","5","6"]},w),Array.isArray(Y.users)&&Y.users.length?y().createElement(Ce,{header:De("personal.user"),key:"1",showArrow:w.showExpandArrow},Y.users.map(he=>y().createElement(We,{store:Y,data:he,key:he.id,type:"users",showToolTip:be,isShowRemove:et}))):null,Array.isArray(Y.departments)&&Y.departments.length?y().createElement(Ce,{header:De("common.departmentLabel"),key:"2",showArrow:w.showExpandArrow,collapsible:!0},we({key:"departments",data:ie.departments})):null,Array.isArray(Y.posts)&&Y.posts.length?y().createElement(Ce,{header:De("authentication.position"),key:"3",showArrow:w.showExpandArrow,collapsible:!0},we({key:"posts",data:ie.posts})):null,Array.isArray(Y.groups)&&Y.groups.length?y().createElement(Ce,{header:De("component.userGroup"),key:"4",showArrow:w.showExpandArrow,collapsible:!0},Y.groups.map(he=>y().createElement(g,{store:Y,type:"groups",data:he,key:he.id,isShowRemove:et}))):null,Array.isArray(Y.clusters)&&Y.clusters.length?y().createElement(Ce,{header:De("component.useCluster"),key:"5",showArrow:w.showExpandArrow},Y.clusters.map(he=>y().createElement(g,{store:Y,type:"clusters",data:he,key:he.id,isShowRemove:et}))):null,Array.isArray(Y.roles)&&Y.roles.length?y().createElement(Ce,{header:De("searchInputPlaceholder.roles"),key:"6",showArrow:w.showExpandArrow},Y.roles.map(he=>y().createElement(g,{store:Y,type:"roles",data:he,key:he.id,isShowRemove:et}))):null))};$e.defaultProps={store:{users:[],departments:[],posts:[],clusters:[],groups:[],roles:[],setGroups:()=>{},setUsers:()=>{},setClusters:()=>{},setRoles:()=>{},setDepartments:()=>{},setPosts:()=>{}},showTips:!1,showToolTip:!1,isExpand:!1,isCollapseTree:!1,isShowRemove:!0};var Ne=(0,I.Z)()($e)},93212:function(Qe,se,e){"use strict";e.d(se,{XB:function(){return i},GU:function(){return c},sg:function(){return y},z8:function(){return O}});var j=e(50361),E=e.n(j),i=(l,n,p)=>{var P={key:p?p.level:n,name:p?"level":"id"},I=W(l),h=(N,Z)=>{N.forEach((U,C)=>{U[P.name]===Z&&N.splice(C,1),U.sub_list&&U.sub_list.length&&h(U.sub_list,Z)})},o=N=>{var Z=E()(N);return Z.forEach((U,C)=>{U.have_auth==="false"&&U.sub_list&&U.sub_list.length===0&&Z.splice(C,1)}),Z};h(I,P.key);var _=o(I);return _},W=l=>{var n=E()(l);return n.forEach(p=>{p.level=[p.id].join("&"),Array.isArray(p.sub_list)&&p.sub_list.length&&p.sub_list.forEach(P=>{P.level=[p.id,P.id].join("&")})}),n},c=l=>{var n=E()(l),p=[];return n.forEach(P=>{p.push({id:P.id,sub_list:P.sub_list&&P.sub_list.map(I=>({id:I.id}))})}),p},y=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0,P=E()(n)||[],I=h=>{var o=[];if(Array.isArray(h.path)&&h.path.length){var _=[],N=h.path.map(Z=>Z.id||Z.key);N.includes(h.id||h.key)?_=h.path:_=[...h.path,h],p==="department"?o=[{department_ids:_.map(Z=>Z.id||Z.key).join("/"),department_names:_.map(Z=>Z.name||Z.title).join("/"),source_type:h.source_type}]:p==="post"&&(o=[{post_ids:_.map(Z=>Z.id||Z.key).join("/"),post_names:_.map(Z=>Z.name||Z.title).join("/")}])}return o};return P.forEach(h=>{h.level=[h.id].join("&"),h.path=I(h),Array.isArray(h.sub_list)&&h.sub_list.length&&h.sub_list.forEach(o=>{o.level=[h.id,o.id].join("&"),o.path=I(o)})}),P},O=l=>{var n=[],p=P=>{P.forEach(I=>{n.push(I),Array.isArray(I.sub_list)&&I.sub_list.length&&p(I.sub_list)})};return p(l),n},x=l=>{var n=[cloneDeep(l)],p=P=>{P.forEach(I=>{I.path=[...I.path,{id:I.id,name:I.name,source_type:I.source_type}],Array.isArray(I.sub_list)&&I.sub_list.length&&p(I.sub_list)})};return p(n),n}},64262:function(Qe,se,e){"use strict";var j=e(88986),E=e(20228),i=e(11382),W=e(22385),c=e(31097),y=e(32157),O=e(75869),x=e(62999),l=e(85733),n=e(12924),p=e.n(n),P=e(91768),I=e(60667),h=e(38642),o=e(10237),_=e(37055),N=l.Z.TreeNode;class Z extends p().Component{constructor(C){super(C);this.getDeptTree=g=>{var S=this.props,M=S.filterAuth,L=S.handleLoadedCbk,K=this.state.whiteList,B=_.ZP.OrgTree.getDeptTree(),F={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:g,filter_auth:M,query_selected_user_id:this.props.querySelectedUserId,sync_organization:K.organizationFlag?"lenovo_sync":this.props.organizationType||""};o.WY.get({url:B,params:F}).then(b=>{var G=this.sumCheckedKeys(b.data.children||[],b.data.selected==="true"?[b.data.id]:[]);L&&L({department_name:b.data.department_name,id:b.data.id,source_type:b.data.source_type}),this.setState({treeData:[{department_name:b.data.department_name,id:b.data.id,source_type:b.data.source_type,children:b.data.children,user_count:b.data.user_count,enable_edit:b.enable_edit,enable_delete:b.enable_delete}],checkedKeys:G}),this.props.handleCheck&&this.props.handleCheck(G)})},this.sumCheckedKeys=(g,S)=>(g instanceof Array&&g.forEach(M=>{M.selected==="true"?S.push(M.id):M.children&&this.sumCheckedKeys(M.children,S)}),S),this.loadChildren=g=>new Promise(S=>{if(g.props.children){S();return}var M=this.props.filterAuth,L=this.state.whiteList,K=_.ZP.OrgTree.getDeptTree(),B={recursion:!this.props.asyncLoad,query_user_count:this.props.showUserCount,parent_id:g.props.dataRef.id,filter_auth:M,query_selected_user_id:this.props.querySelectedUserId,sync_organization:L.organizationFlag?"lenovo_sync":this.props.organizationType||""};o.WY.get({url:K,params:B}).then(F=>{if(F.data.children){var b=F.data.children.map(q=>({department_name:q.department_name,id:q.id,user_count:q.user_count,selected:q.selected,has_children:q.has_children,enable_edit:q.enable_edit,enable_delete:q.enable_delete,source_type:q.source_type}));g.props.dataRef.children=b;var G=this.sumCheckedKeys(b,this.state.checkedKeys);this.setState({treeData:[...this.state.treeData],checkedKeys:G}),this.props.handleCheck&&this.props.handleCheck(G)}else g.props.dataRef.children=[],this.setState({treeData:[...this.state.treeData]});S()})}),this.handleCheck=g=>{this.setState({checkedKeys:g}),this.props.handleCheck&&this.props.handleCheck(g)},this.treeSelectChange=(g,S)=>{this.setState({treeSelectValue:g});var M=this.props,L=M.handleTreeSelectChange,K=M.onTreeSelectChange;L?L(g||"",S):K&&K(g||"",S)},this.renderTreeNodes=g=>g.map(S=>S.children?p().createElement(O.Z.TreeNode,{title:this.renderTitle(S),key:S.id,value:S.id,isLeaf:S.has_children!=="true",switcherIcon:S.children.length===0?p().createElement("span",null):null,dataRef:S,selected:S.selected==="true"},this.renderTreeNodes(S.children)):p().createElement(O.Z.TreeNode,{title:this.renderTitle(S),dataRef:S,value:S.id,key:S.id,isLeaf:S.has_children!=="true",switcherIcon:this.props.asyncLoad?null:p().createElement("span",null),selected:S.selected==="true"})),this.renderSelectTreeNodes=g=>{var S=this.props.disabledFirstNode,M=this.state.treeData.length?this.state.treeData[0].id:"";return g.map(L=>L.children?p().createElement(N,{title:this.renderTitle(L),key:L.id,value:L.id,isLeaf:!1,switcherIcon:L.children.length===0?p().createElement("span",null):null,dataRef:L,disabled:S?L.id===M:!1,selected:L.selected==="true",departmentName:L.department_name},this.renderSelectTreeNodes(L.children)):p().createElement(N,{title:this.renderTitle(L),dataRef:L,value:L.id,key:L.id,isLeaf:!1,switcherIcon:this.props.asyncLoad?null:p().createElement("span",null),selected:L.selected==="true",departmentName:L.department_name}))},this.dealText=g=>{var S=this.props.showUserCount;return p().createElement(n.Fragment,null,p().createElement(I.Z,{type:g.source_type,value:g.id,node:g,name:g.department_name,dataType:"departmentName"}),S&&p().createElement("span",null,"(",g.user_count,")"))},this.renderTitle=g=>{var S=this.props,M=S.showTitleToolTip,L=S.DeptTreeNodeTitle,K=S.titleOperateProps,B=K===void 0?{}:K,F=this.dealText(g);return L?p().createElement(L,{title:F,titleOperateProps:B,deptId:g.id||"1",deptName:g.department_name,enableEdit:g.enable_edit==="true",enableDelete:g.enable_delete==="true"}):M?p().createElement(c.Z,{title:F},p().createElement("span",null,F)):F},this.renderTree=()=>{var g={showLine:{showLeafIcon:!1},checkable:this.props.checkable,checkStrictly:this.props.checkStrictly,checkedKeys:this.state.checkedKeys,onCheck:this.handleCheck,onSelect:this.props.handleSelect,defaultExpandAll:this.props.defaultExpandAll,defaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],className:this.props.className};return this.props.asyncLoad&&(g.loadData=this.loadChildren),this.state.treeData.length>0?p().createElement(O.Z,g,this.renderTreeNodes(this.state.treeData)):p().createElement("div",{style:{textAlign:"center"}},p().createElement(i.Z,null))},this.renderTreeSelect=()=>{var g=this.props,S=g.t,M=g.width,L=M===void 0?180:M,K=g.placeholder,B=g.open,F=(0,j.Z)((0,j.Z)({},this.props),{},{showLine:{showLeafIcon:!1},style:{width:L},value:this.state.treeSelectValue,dropdownStyle:{maxHeight:300,overflow:"scroll",whiteSpace:"nowrap",maxWidth:L},dropdownMatchSelectWidth:!1,treeDefaultExpandedKeys:this.state.treeData.length>0?["".concat(this.state.treeData[0].id)]:[""],placeholder:K||S("component.chooseDeptTip"),allowClear:!0,multiple:this.props.multiple,disabled:this.props.disabled,onChange:this.treeSelectChange,className:this.props.className,treeNodeFilterProp:"departmentName",open:B});return this.props.asyncLoad&&(F.loadData=this.loadChildren),this.state.treeData.length>=0?p().createElement(l.Z,F,this.renderSelectTreeNodes(this.state.treeData)):p().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[],whiteList:{organizationFlag:(0,h.UI)("ORG_TREE_SYNC_ORGANIZATION")}}}componentDidMount(){this.getDeptTree(this.props.parentId)}componentDidUpdate(C){C.refresh!==this.props.refresh&&this.setState({treeData:[],checkedKeys:[],treeSelectValue:this.props.defaultValue||[]},()=>{this.getDeptTree(this.props.parentId)})}render(){return p().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.props.treeSelect?this.renderTreeSelect():this.renderTree())}}Z.defaultProps={parentId:"",asyncLoad:!1,checkable:!0,disabledFirstNode:!1,querySelectedUserId:"",checkStrictly:!1,showUserCount:!1,showTitleToolTip:!1,defaultExpandAll:!1,multiple:!1,treeSelect:!1,filterAuth:!0,organizationType:"",disabled:!1,handleCheck:()=>{},handleLoadedCbk:()=>{},handleTreeSelectChange:void 0,onTreeSelectChange:void 0},se.Z=(0,P.Z)("",{withRef:!0})(Z)},76466:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return xt}});var j=e(20228),E=e(11382),i=e(57663),W=e(71577),c=e(62029),y=e(57361),O=e(9754),x=e.n(O),l=e(12924),n=e.n(l),p=e(91512),P=e(68654),I=e(91768),h=e(4412),o=e.n(h);class _ extends n().Component{render(){var m=this.props.t;return n().createElement("div",{className:"net-preview"},n().createElement("div",{className:"net-preview-center"},n().createElement("img",{src:o(),alt:"picture"}),n().createElement("h2",null,m("localStorage.tip")),n().createElement("p",null,m("localStorage.banPreview"))))}}var N=(0,I.Z)()(_),Z=e(88986),U=e(34792),C=e(48086),g=e(28216),S=e(21594),M=e(41225),L=e(10237),K=(le,m)=>(0,Z.Z)({id:le||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},m),B=K;class F extends l.Component{constructor(){super(...arguments);this.setupPlayer=m=>{var u=this.props,r=u.onVideoReady,t=r===void 0?()=>{}:r,a=u.playerConfig,s=u.contentType;m&&m==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,Z.Z)((0,Z.Z)({},a),{},{contentType:s==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:a.source,autoplay:a.autoplay,width:a.width,id:a.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:d=>{d.on("sourceloaded",v=>{var f=v.paramData,k=f.desc,A=f.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(k,A,a.id)}),d.on("ready",()=>{t()}),this.playerInstance=d,this.setPlayerConfig()}}))}}componentDidUpdate(m){m.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(m){this.player&&this.player.seek(m)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(m){this.player.setSpeed(m)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var m=this.props,u=m.onPlay,r=u===void 0?()=>{}:u,t=m.onTimeUpDate,a=t===void 0?()=>{}:t,s=m.onEnd,d=s===void 0?()=>{}:s,v=m.onPause,f=v===void 0?()=>{}:v,k=m.onError,A=k===void 0?()=>{}:k,V=this.playerInstance;V.on("play",()=>{r()}),V.on("pause",()=>{f()}),V.on("timeupdate",R=>{a(R)}),V.on("ended",()=>{d()}),V.on("error",(0,y.Z)(x().mark(function R(){return x().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:A();case 1:case"end":return z.stop()}},R)})))}render(){var m=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:m.id}))}}F.playerInstance=null,F.defaultProps={playerConfig:B(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var b=F,G=(le,m)=>(0,Z.Z)({id:le||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},m),q=G;class X extends l.Component{constructor(){super(...arguments);this.setupPlayer=m=>{m&&m==="resetPlayer"&&this.player.dispose();var u=this.props,r=u.playerConfig,t=u.onVideoReady,a=t===void 0?()=>{}:t;this.player=new Aliplayer(r,s=>{s.on("sourceloaded",d=>{var v=d.paramData,f=v.desc,k=v.definition;s.getComponent("VideoQuality")&&s.getComponent("VideoQuality").setCurrentQuality(f,k,r.id)})}),this.player.on("ready",()=>{a()})},this.setPlayerConfig=()=>{var m=this.props,u=m.onPlay,r=u===void 0?()=>{}:u,t=m.onTimeUpDate,a=t===void 0?()=>{}:t,s=m.onEnd,d=s===void 0?()=>{}:s,v=m.onPause,f=v===void 0?()=>{}:v,k=m.onError,A=k===void 0?()=>{}:k;this.player.on("play",()=>{r()}),this.player.on("pause",()=>{f()}),this.player.on("timeupdate",V=>{a(V)}),this.player.on("ended",()=>{d()}),this.player.on("error",(0,y.Z)(x().mark(function V(){return x().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:A();case 1:case"end":return T.stop()}},V)})))},this.getPlayerContent=m=>{this.playerContainer=m}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(m){m.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(m){this.player.seek(m)}exitFull(){var m=this.player.fullscreenService;m&&m.isFullScreen&&m.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var m=this.props.playerConfig;return n().createElement("div",{className:"common-video-player-container"},n().createElement("div",{id:m.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}X.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:q()};var oe=X;class fe{constructor(m){this.hasCreated=!1,this.definition="",this.getQuality=m}createEl(m,u){var r=u._options&&u._options.language,t=u._el.id;this.isEn=r&&r==="en-us";var a=(0,S.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),s=(0,S.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),d=document.querySelector("#".concat(t," .prism-controlbar"));d.appendChild(a),m.appendChild(s)}setCurrentQuality(m,u,r){var t=document.querySelector("#".concat(r," .current-quality"));t.innerText=m,t.dataset.def=u,this.definition=u;var a=document.querySelector("#".concat(r," .quality-list")),s=a.querySelector(".current");s&&(s.className="");var d=a.querySelector('li[data-def="'.concat(u,'"]'));d&&(d.className="current")}created(m){this._urls=m._urls;var u=m._el.id,r=document.querySelector("#".concat(u," .current-quality")),t=document.querySelector("#".concat(u," .quality-list")),a=document.querySelector("#".concat(u," .quality-modal")),s=this._urls.map(f=>'<li data-def="'.concat(f.definition,'">').concat(f.desc,"</li>"));if(t.innerHTML=s.join(""),this.hasCreated==!1&&this.definition){var d=t.querySelector('li[data-def="'.concat(this.definition,'"]'));d.className="current"}this.hasCreated=!0;var v=null;r.onclick=()=>{t.style.display="block"},r.onmouseleave=()=>{v=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(v)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=f=>{var k=f.target,A=k.dataset.def,V=k.innerText;if(A&&k.className!=="current"){var R=this._urls.find(T=>T.definition===A);m.loadByUrl(R.Url,m.getCurrentTime(),!0,!0),this.setCurrentQuality(R.desc,R.definition,u),a.style.display="block",a.querySelector("span.current-quality-tag").innerText=R.desc}this.getQuality(A,V)}}ready(m){var u=m._el.id,r=document.querySelector("#".concat(u," .quality-modal"));r.style.display="none";var t=document.querySelector("#".concat(u," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class ee{createEl(m,u){var r=u._el.id,t=(0,S.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),a=document.querySelector("#".concat(r," .prism-controlbar"));a.appendChild(t)}ready(m){var u=m._el.id,r=document.querySelector("#".concat(u," .current-rate")),t=document.querySelector("#".concat(u," .rate-list")),a=null,s=document.querySelector("#".concat(u," .prism-setting-item.prism-setting-speed"));s&&s.classList.add("player-hidden"),r.onclick=()=>{t.style.display="block"},r.onmouseleave=()=>{a=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(a)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=d=>{var v=d.target,f=v.dataset.rate;if(f){if(m.setSpeed(f),v.className!=="current"){var k=t.querySelector(".current");k&&(k.className=""),v.className="current"}t.style.display="none",r.innerText="".concat(f,"x")}}}}var Oe=e(69164),We=e(37055);function Ce(le){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=We.ZP.local.getLocalUrl(le);return L.WY.get({url:u,params:m})}var $e=e(91648),Ne=e(18329),me=e(38642),Be=e(9849),Le=e(99891);class Me extends l.Component{constructor(m){super();this.WaterMarkText=m,this.html=document.getElementsByClassName("common-watermark")}createEl(m){setTimeout(()=>{m.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var be=Me,tt=le=>({userInfo:le.user});class Ue extends l.Component{constructor(m){var u;super(m);u=this,this.onVideoReady=r=>{var t=this.props,a=t.resourceInfo,s=t.mode,d=t.autoPlay,v=t.t,f=a.storageType;r==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(r),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(s==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),s==="preview"&&d&&this.play.play()):f==="ALIBABA_PRIVATE"||f==="LOCAL"?this.updateSource("resetPlayer"):(L.WY.logger({keyword:"video",moduleName:"video-play",msg:v("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var r=this.props,t=r.draggable,a=r.mode,s=r.t,d=r.studyInfo,v=r.needCurrentTime,f=r.onCurrentTime,k=f===void 0?()=>{}:f,A=d.studyType,V=d.studyId,R=d.resourceId,T=this.state,z=T.showPreventHang,ve=T.dragSwitch,Ze=T.showRandomAlert,Ke=T.randomAlertDialogVisible,Pe=this.playingVideo,It=Pe.oneTime,Ct=Pe.popupWindowCount,St=Pe.maxPlayTime,Jt=Pe.progress,Mt=Pe.auditionLength,$t=Pe.auditionType,zt=Pe.duration,kt=Pe.recentStart,ct=this.play.getCurrentTime(),pt=(z==="OPEN"||Ze==="OPEN")&&Ct>0;if(v&&k(ct),Mt>0&&$t===2&&ct>Mt&&(this.play.seek(Mt),C.default.warning(s("component.haveALookOverTip")),this.play.pause()),a==="learn"&&pt){var Ht=zt-It*Ct;if(Ct>0&&ct>Ht)if(this.play.pause(),Ze==="OPEN"){if(!Ke){var Gt=(0,$e.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Gt},()=>{(0,M.qp)({popupId:Gt,planId:V,resourceId:R,type:"popup_start"})}),this.play.exitFull()}}else z==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||Jt===100)&&(ct>0&&(this.playingVideo.recentStart=ct),!((A==="enterprise"||A==="studyProject")&&ve==="OPEN")))return!1;ct>St?ct-kt>2?(this.playingVideo.recentStart=St,this.play.seek(St),C.default.warning(s("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ct,this.playingVideo.maxPlayTime=ct):ct>0&&ct>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ct)},this.onPlay=()=>{var r=this.props,t=r.mode,a=r.onPlay,s=a===void 0?()=>{}:a;s();var d=this;t==="learn"&&!d.timer&&(d.timer=setTimeout(function v(){d.saveProgress(),clearTimeout(d.timer),d.timer=setTimeout(v,2e4)},2e4))},this.onPause=()=>{var r=this.props,t=r.studyInfo,a=r.mode,s=t.studyType;clearTimeout(this.timer),this.timer=null,a==="learn"&&(s==="platform"||s==="enterprise"||s==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var r=this.props.mode;r==="learn"&&this.saveProgress()},this.onError=r=>{var t=this.props.resourceInfo,a=t.storageType;(a==="ALIBABA_PRIVATE"||a==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var r=this.props.mode;this.initPlayVideo(),r==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var r=this.state,t=r.showPreventHang,a=r.showRandomAlert,s=this.props,d=s.t,v=s.playingVideo,f=s.studyInfo,k=s.autoPlay,A=v.recentStart,V=v.duration,R=v.progress,T=f.studyType,z=(t==="OPEN"||a==="OPEN")&&(T==="studyTask"||T==="enterprise"||T==="studyProject")&&R<100;z?(a==="OPEN"?this.setState({promptMessage:d("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:d("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):k&&(this.play.play(),Math.ceil(A)<parseInt(V)&&this.play.seek(A))},this.playerShowPreventHang=()=>{var r=this.playingVideo,t=r.duration,a=r.recentStart,s=0;t>0&&t<180?(s=t/2,this.playingVideo.oneTime=s,a>=s?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(s=t/3,this.playingVideo.oneTime=s,a>=2*s?this.playingVideo.popupWindowCount=0:a>=s?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(s=t/4,this.playingVideo.oneTime=s,a>=3*s?this.playingVideo.popupWindowCount=0:a>=2*s?this.playingVideo.popupWindowCount=1:a>=s?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var r=this.props,t=r.playingVideo,a=r.mode;if(a==="learn"){this.playingVideo=(0,Z.Z)({},t);var s=t.duration,d=t.progress;this.playingVideo.hasFinished=parseInt(d)===100,this.playingVideo.maxPlayTime=parseInt(s)*parseInt(d)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,y.Z)(x().mark(function r(){var t,a,s,d,v,f,k,A,V,R,T,z,ve,Ze,Ke,Pe,It,Ct,St,Jt,Mt,$t,zt,kt;return x().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(t=u.state,a=t.speedSwitch,s=t.dragSwitch,d=t.whiteList,v=u.props,f=v.resourceInfo,k=v.showQuality,A=f.contentType,V=f.storageType,R=f.source,T=f.playId,z=f.playerId,ve=f.showFullScreen,Ze=ve===void 0?!0:ve,Ke=q(z),Ke.components=[],Pe=typeof R=="object"&&R.hasOwnProperty("FD")&&R.FD.indexOf("m3u8")===-1,k&&Pe&&A!=="mp3"&&(V&&V==="PUBLIC_CLOUD"||!V)&&Ke.components.push({name:"VideoQuality",type:fe,args:[()=>{u.play.pause(),u.playingVideo.readyCount=0}]}),a==="OPEN"&&Ke.components.push({name:"VideoRate",type:ee}),Ze&&(It=Ke.skinLayout.find(Ht=>Ht.name==="controlBar"),It&&It.children.splice(It.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),Ke.components.push({name:"VideoWaterMark",type:be}),Ct=R.FD,St=R.OD,Ct.indexOf("http://")>-1&&(Ct=Ct.replace("http://","https://")),St.indexOf("http://")>-1&&(St=St.replace("http://","https://")),Jt=d.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",R.OD=St&&St.indexOf(Jt)>-1&&St.indexOf(".mp4")>-1?St:Ct,R.FD=Ct,Mt=typeof R!="string"?JSON.stringify(R):R,Ke.source=Mt,s==="OPEN"&&(Ke.disableSeek=!0),V!=="ALIBABA_PRIVATE"){pt.next=32;break}return pt.next=22,(0,M.BR)(T);case 22:if($t=pt.sent,!$t){pt.next=28;break}Ke.source=$t,Ke.vodRetry=1,pt.next=30;break;case 28:return u.setState({showPrivateVodError:!0}),pt.abrupt("return");case 30:pt.next=38;break;case 32:if(V!=="LOCAL"){pt.next=38;break}return pt.next=35,Ce(T);case 35:zt=pt.sent,kt=zt.data,kt.code===0&&(Ke.source="".concat(R.FD,"?auth_key=").concat(kt.data.auth_key),Ke.vodRetry=1);case 38:u.setState({playerConfig:Ke});case 39:case"end":return pt.stop()}},r)})),this.updateSource=function(){var r=(0,y.Z)(x().mark(function t(a){var s,d,v,f,k,A,V,R;return x().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(s=u.state.playerConfig,d=u.props.resourceInfo,v=d.storageType,f=d.source,k=d.playId,u.playingVideo.readyCount=0,v!=="ALIBABA_PRIVATE"){z.next=16;break}return z.next=7,(0,M.BR)(k);case 7:if(A=z.sent,!A){z.next=12;break}Object.assign(s,{source:A,vodRetry:1}),z.next=14;break;case 12:return u.setState({showPrivateVodError:!0}),z.abrupt("return");case 14:z.next=22;break;case 16:if(v!=="LOCAL"){z.next=22;break}return z.next=19,Ce(k);case 19:V=z.sent,R=V.data,R.code===0&&Object.assign(s,{source:"".concat(f.FD,"?auth_key=").concat(R.data.auth_key),vodRetry:1});case 22:u.setState({playerConfig:s},()=>{u.play.setupPlayer(a)});case 23:case"end":return z.stop()}},t)}));return function(t){return r.apply(this,arguments)}}(),this.saveProgress=()=>{var r=this.props,t=r.studyInfo,a=r.userInfo,s=a.isLogin,d=a.enterpriseId,v=a.id,f=this.playingVideo,k=f.recentStart,A=f.duration,V=f.hasFinished,R=Math.ceil(+k);R>Number(A)&&(R=Number(A));var T=Math.ceil(R/+A*100);if((T>100||V)&&(T=100),s){var z=this.playingVideo,ve=z.auditionType,Ze=z.auditionLength;if(Ze>0&&ve===2){var Ke=Math.ceil(Ze/A*100);Ke<=T&&(T=Ke,R=Ze)}(0,M.sH)({studyInfo:t,progress:T,recent_start:R,enterpriseId:d,userId:v}).then(Pe=>{Pe&&Pe.data&&(0,Oe.Z)(Pe.data.integral_info||"")})}},this.getInfoFromSettings=(0,y.Z)(x().mark(function r(){var t,a,s,d,v,f,k,A,V;return x().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return t=u.props.studyInfo,a=t.studyType,s=t.projectId,T.next=4,(0,M.Gw)();case 4:if(d=T.sent,v=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],f=(0,S.RG)(d,v),a!=="studyProject"){T.next=14;break}return T.next=10,(0,Be.NU)({id:s});case 10:k=T.sent,A=k.status,V=k.data,A===200&&(f.showPreventHang=V.prevent_cut_screen?"OPEN":"CLOSED",f.speedSwitch=V.speed_play?"OPEN":"CLOSED",f.dragSwitch=V.prevent_drag?"OPEN":"CLOSED");case 14:u.setState(f,()=>{u.dealVideoConfig()});case 15:case"end":return T.stop()}},r)})),this.dealAudioPoster=()=>{var r=this.props.resourceInfo.contentType,t=r===void 0?"":r;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var r=this.state.showAudioPoster,t=this.play.playerContainer;r&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=r=>{this.play=r},this.handleOk=()=>{this.setState({dialogVisible:!1});var r=this.state.btnType,t=this.playingVideo.recentStart,a=this.props.t;r==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:a("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,y.Z)(x().mark(function r(){var t,a,s,d;return x().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=u.props.studyInfo,a=t.studyId,s=t.resourceId,d=u.state.randomAlertUUID,(0,M.qp)({popupId:d,planId:a,resourceId:s,type:"popup_end"}).then(()=>{u.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),u.playingVideo.popupWindowCount-=1,u.play.play();case 6:case"end":return f.stop()}},r)})),this.renderFooter=()=>{var r=this.state.btnType,t=this.props.t;return n().createElement(W.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(r)},t(r==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var r=this.props.t;return n().createElement(W.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},r("common.ok"))},this.state={playerConfig:q(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:m.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:m.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:m.t("component.randomAlertTip"),randomAlertModal:{title:m.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,me.UI)("CL_VIDEO_BAIYING_COM_CN")}},m.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(m){var u=typeof m.resourceInfo.source!="string"?JSON.stringify(m.resourceInfo.source):m.resourceInfo.source,r=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;u!==r&&r!==""&&this.initInfo()}componentWillUnmount(){var m=this.props.mode;m==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var m=this.state,u=m.playerConfig,r=m.showPrivateVodError,t=m.dialogVisible,a=m.dialogModal,s=m.promptMessage,d=m.randomAlertDialogVisible,v=m.randomAlertModal,f=m.randomAlertTip,k=m.encryptedSwitch,A=this.props,V=A.resourceInfo,R=A.t,T=k==="OPEN"?b:oe;return n().createElement(l.Fragment,null,n().createElement(T,(0,c.Z)({ref:this.getPlayInstance},V,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:u,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),n().createElement(Ne.ZP,(0,c.Z)({visible:t},a,{footer:this.renderFooter()}),n().createElement("div",{className:"video-business-prompt"},s)),n().createElement(Ne.ZP,(0,c.Z)({visible:d},v,{footer:this.renderRandomFooter()}),n().createElement("div",{className:"video-player-container__prompt"},f)),r&&n().createElement("div",{className:"video-business-vod-error"},R("privateCloud.docReadError")),n().createElement(Le.Z,{scenes:"video"}))}}var ot=(0,g.$j)(tt,null,null,{forwardRef:!0})((0,I.Z)("translation",{withRef:!0})(Ue)),et=e(94184),ce=e.n(et),w=e(84874),Q=le=>({userInfo:le.user}),Y={getPravateDocUrl:We.ZP.localStorage.getPravateDocUrl};function De(le){return JSON.stringify(le,(m,u)=>(typeof u=="function"&&(u=u.toString()),u))}function ye(le){var m=parseInt(parseInt(le,10)/60,10),u=parseInt(parseInt(le,10)%60,10);return m<10&&(m="0".concat(m)),u<10&&(u="0".concat(u)),"".concat(m,":").concat(u)}class ae extends l.Component{constructor(m){var u;super(m);u=this,this.messageFun=r=>{var t=this.props,a=t.docType,s=t.progress,d=t.studyTimeLimit,v=t.studyTime,f=this.state,k=f.jumpPageTag,A=f.totalTime,V=f.timeRemaining,R=this.state.previewDocData,T={};try{T=JSON.parse(r.data)}catch(z){return}switch(T.action){case"preview.ready":this.initDocData();break;case"preview.meta":R.totalPage=T.data.pc||1,R.currentPage=1,this.setState({previewDocData:R},()=>{this.reportStatusInterval()}),d>0?(this.saveProgress(s,v||"1",T.data.pc||1),this.setState({showCountDownContainer:!0})):a==="xlsx"||a==="xls"||R.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(s,v||"1",T.data.pc||1),d>0&&s<100?(this.setState({showCountDown:!0}),a==="xlsx"||a==="xls"?A=d:A=d*T.data.pc,V=parseInt(A*(1-s/100),10),this.setState({timeRemaining:V,totalTime:A},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(k){k=!1,this.setState({jumpPageTag:k});return}R.currentPage=T.data.pageIndex+1,this.setState({previewDocData:R}),d||this.saveProgress(Math.ceil(R.currentPage/R.totalPage*100),R.currentPage,R.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(T.data.result);break;default:break}},this.initDocData=(0,y.Z)(x().mark(function r(){var t,a,s,d,v,f,k,A,V,R,T,z,ve,Ze;return x().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(u.setState({isShowPrivateError:!1}),t=u.props,a=t.docType,s=t.userInfo,d=t.documentWatermarkSettings,v=t.storageType,f=t.privateDocId,k=s.name,A=s.jobNumber,V=s.position,R="",T={},v!=="ALIBABA_PRIVATE"){Pe.next=18;break}return Pe.prev=6,z=Y.getPravateDocUrl(f),Pe.next=10,L.WY.get({url:z});case 10:ve=Pe.sent,Ze=ve.data,Ze.code===0?T=Ze.data||{}:u.setState({isShowPrivateError:!0}),Pe.next=18;break;case 15:Pe.prev=15,Pe.t0=Pe.catch(6),u.setState({isShowPrivateError:!0});case 18:if(d.indexOf("name")>-1&&(R="".concat(R+k," ")),d.indexOf("position")>-1&&(R="".concat(R+V," ")),d.indexOf("jobnumber")>-1&&(R+=A),R.length>0?window.sendMessage("preview.init",(0,Z.Z)({wmType:1,wmValue:R,wmColor:"rgba(192, 192, 192, 0.4)"},T)):window.sendMessage("preview.init",(0,Z.Z)({},T)),a!=="xlsx"&&a!=="ppt"&&a!=="pptx"&&a!=="xls"?u.setState({pageOperateContainerVisible:!0}):u.setState({pageOperateContainerVisible:!1}),!(a==="ppt"||a==="pptx")){Pe.next=29;break}Pe.t1=window,Pe.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},Pe.t1.sendMessage.call(Pe.t1,"setConfig",Pe.t2),Pe.next=32;break;case 29:Pe.t3=window,Pe.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},Pe.t3.sendMessage.call(Pe.t3,"setConfig",Pe.t4);case 32:case"end":return Pe.stop()}},r,null,[[6,15]])})),this.handleJumpPage=r=>{var t=this.state.previewDocData;t.currentPage=r,this.setState({jumpPageTag:!0,previewDocData:t});var a=r/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(a),r,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:r-1})},this.redirectPage=()=>{var r=this.props,t=r.studyTimeLimit,a=r.studyTime,s=0;t===0&&(s=a-1>0?a-1:0),window.sendMessage("logic.toPage",{pageIndex:s})},this.docCountDown=()=>{var r=this.state.timeRemaining,t=this.state,a=t.totalTime,s=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{r-=1,this.setState({timeRemaining:r}),r<1&&(this.saveProgress(100,0,s.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var d=(a-r)/a*100;r<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(d),r,s.totalPage)},2e4)},this.saveProgress=(r,t,a)=>{var s=this.props.onSaveProgress;s&&s(r,t,a)},this.reportStatusInterval=()=>{var r=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;r&&r({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=r=>{this.docReader=r},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(m,u)=>{var r=this.docReader.contentWindow;r.postMessage(De({action:m,data:u}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var m=this.props,u=m.t,r=m.storageType,t=m.privateDocId,a=this.props.aliUrl,s=this.state,d=s.previewDocData,v=s.pageOperateContainerVisible,f=s.timeRemaining,k=s.showCountDown,A=s.showCountDownContainer,V=s.showPageOperateContainer,R=s.isShowPrivateError;return r==="ALIBABA_PRIVATE"&&(a="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),n().createElement("div",{className:"doc-reader-container"},n().createElement("div",{className:"ali-doc-container",style:{paddingBottom:v?"56px":"0"}},n().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:a,id:"aliyunPreview",ref:this.dealPreviewRef}),A?n().createElement("div",{className:"ali-doc-container__countdown"},k?n().createElement("div",null,n().createElement(w.Z,{iconClass:"iconf-tipe",size:"16px"}),u("component.docStillStudy"),n().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",ye(f)," "),u("component.canDone")):n().createElement("div",null,n().createElement(w.Z,{iconClass:"iconf-tipe",size:"16px"}),u("component.docHasFinish"))):null,v?n().createElement("div",{className:"ali-doc__operate"},n().createElement("div",{className:ce()(["ali-doc__operate__content",V?"":"ali-doc__operate__hide-content"])},n().createElement("div",{className:"ali-doc__operate__pagination"},n().createElement("div",{className:"ali-doc__operate__pagination__pages"},d.currentPage," / ",d.totalPage),n().createElement("div",{className:"ali-doc__operate__pagination__toggle"},n().createElement("div",{className:"ali-doc__operate__pagination__choose"},n().createElement("span",null,u("component.choosePage"),n().createElement(w.Z,{iconClass:"iconf-arrow-under",size:"14px"})),n().createElement("div",{className:"ali-doc__operate__page-list-container"},n().createElement("div",{className:"ali-doc__operate__choose-page"},u("component.fastChoosePage")),n().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:d.totalPage})).map((T,z)=>n().createElement("li",{key:T,onClick:()=>this.handleJumpPage(z+1)},z+1))))),n().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},u("common.collapse"))))),n().createElement("div",{className:ce()("ali-doc__operate__unfold",V?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},u("common.expand"))):null,R&&n().createElement("div",{className:"ali-doc__error"},u("privateCloud.docReadError"))),n().createElement(Le.Z,{scenes:"document"}))}}ae.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var ie=(0,g.$j)(Q)((0,I.Z)()(ae)),de=le=>({userInfo:le.user}),we="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Te="".concat("https://doc.coolcollege.cn");class he extends n().Component{constructor(m){var u;super(m);u=this,this.onSaveProgress=(r,t,a)=>{var s=this.props,d=s.mode,v=s.studyInfo,f=s.userInfo,k=f.enterpriseId,A=f.id;d==="learn"&&(0,M.sH)({studyInfo:v,progress:r,page_count:a,recent_start:t,enterpriseId:k,userId:A}).then(V=>{V&&V.data&&(0,Oe.Z)(V.data.integral_info||"")})},this.messageFun=function(){var r=(0,y.Z)(x().mark(function t(a){var s,d,v,f,k,A;return x().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(a.data!=="local-resource"){R.next=9;break}if(s=u.props.resourceInfo,d=s.storageType,v=s.playId,!(d&&d==="LOCAL")){R.next=9;break}return R.next=6,Ce(v);case 6:f=R.sent,k=f.data,k.code===0&&(A=document.getElementById("local-resource-box"),A.contentWindow.postMessage({msg:"local-auth-key",authKey:k.data.auth_key},"*"));case 9:case"end":return R.stop()}},t)}));return function(t){return r.apply(this,arguments)}}(),this.getInfoFromSettings=(0,y.Z)(x().mark(function r(){var t,a,s;return x().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,M.Gw)();case 2:t=v.sent,a=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],s=(0,S.RG)(t,a),u.setState(s,()=>{u.initDocPage(u.props)});case 6:case"end":return v.stop()}},r)})),this.initDocPage=(0,y.Z)(x().mark(function r(){var t,a,s,d,v,f,k,A,V,R,T,z,ve,Ze,Ke,Pe,It,Ct,St,Jt,Mt,$t,zt,kt,ct,pt,Ht,Gt,ia,la,ca,pa,da,ua,ma=arguments;return x().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(t=ma.length>0&&ma[0]!==void 0?ma[0]:{},a=t.resourceInfo,s=t.mode,d=t.studyInfo,v=t.userInfo,f=u.state.documentPlayerMode,k=a.docType,A=a.docTitle,V=a.url,R=a.studyTimeLimit,T=a.studyTime,z=a.aliUrl,ve=a.progress,Ze=a.storageType,Ke=a.playId,Pe=d.studyType,It=d.courseId,Ct=d.studyId,St=d.resourceId,Jt=v.enterpriseId,Mt=v.id,$t=v.isLogin,zt=v.token,kt=f==="compat"&&z.indexOf("preview.imm.aliyun")>-1||Ze==="ALIBABA_PRIVATE",!kt){Rt.next=11;break}u.setState({showAliReader:!0}),Rt.next=31;break;case 11:if(ct=(0,M.sH)({enterpriseId:Jt,userId:Mt,token:zt,studyInfo:d},!0),pt=Pe==="studyTask"?2:1,Ht=We.ZP.SaveProgress.reportStatusInterval(d),Gt={isSaveProgress:$t&&s==="learn"&&ct,isSaveRecord:!1,access_token:zt,userId:Mt,hostUrl:we,courseId:It,resourceId:St,courseType:1,planId:Ct,studyTimeLimit:R,studyTime:T,saveProgressUrl:ct,type:"eapp",progress:ve,saveRecordProgressUrl:Ht,actionType:pt},!(Ze&&Ze==="LOCAL")){Rt.next=26;break}return Rt.next=18,Ce(Ke);case 18:if(ia=Rt.sent,la=ia.data,la.code!==0){Rt.next=25;break}Gt.auth_key=la.data.auth_key,Gt.url=V,Rt.next=26;break;case 25:return Rt.abrupt("return");case 26:ca=JSON.stringify(Gt),pa="".concat(A,".").concat(k).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),da="".concat(Te,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ca),"&furl=").concat(V,"?attname=").concat(pa),Ze&&Ze==="LOCAL"&&(ua="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),da="".concat(ua,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ca),"&furl=").concat(V,"?attname=").concat(pa)),u.setState({encodeUrl:da});case 31:case"end":return Rt.stop()}},r)})),this.handleReportStatusInterval=r=>{var t=r.currentPage,a=this.props,s=a.resourceInfo,d=a.mode,v=a.studyInfo,f=a.userInfo,k=s.type,A=v.courseId,V=v.studyId,R=v.resourceId,T=f.enterpriseId,z=f.id,ve=f.isLogin,Ze="",Ke="",Pe=0,It=!1;switch(k){case"enterprise":Pe=1,It=!0;break;case"study":Ze=V,Pe=2,It=!0;break;case"project":Ke=V,Pe=1,It=!0;break;default:break}if(!(!It||!ve)){var Ct={plan_id:Ze,enterprise_id:T,user_id:z,course_id:A,project_course_id:Ke,resource_id:R,current_page:t,action_type:Pe,send_time:Date.parse(new Date)};d==="learn"&&(0,M.Xc)(v,Ct)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(m){this.initDocPage(m)}render(){var m=this.props.resourceInfo,u=this.state,r=u.encodeUrl,t=u.documentWatermarkSettings,a=u.showAliReader,s=m.docType,d=m.type,v=m.studyTimeLimit,f=m.studyTime,k=m.aliUrl,A=m.progress,V=m.storageType,R=m.playId;return a?n().createElement(ie,{privateDocId:R,storageType:V,aliUrl:k,docType:s,progress:A,studyTime:f,studyTimeLimit:v,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:d}):n().createElement("div",{className:"doc-reader-container"},n().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:r,frameBorder:"0",allowFullScreen:!0}),n().createElement(Le.Z,{scenes:"document"}))}}var ze=(0,g.$j)(de)(he),qe=e(38979),ke=e(90706),xe=e(12968),ht=e(44208),Xe=e(60667),vt=le=>({userInfo:le.user});class He extends n().Component{constructor(){var m;super(...arguments);m=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var u=this.props,r=u.studyInfo,t=u.mode,a=u.userInfo,s=a.enterpriseId,d=a.id;t==="learn"&&(0,S.Gp)({studyInfo:r,enterpriseId:s,userId:d})},this.getInfoFromSettings=(0,y.Z)(x().mark(function u(){var r,t,a;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,M.Gw)();case 2:r=d.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],a=(0,S.RG)(r,t),m.setState(a,()=>{m.renderWatermark()});case 6:case"end":return d.stop()}},u)})),this.renderWatermark=()=>{var u=this.props.userInfo,r=this.state.imageWatermark,t=u.name,a=u.unionid,s=u.sourceType,d=u.jobNumber,v=u.position,f=[];r.indexOf("name")>-1&&f.push(n().createElement(Xe.Z,{dataType:"userName",value:a,name:t,type:s})),r.indexOf("position")>-1&&f.push(n().createElement("span",null,v)),r.indexOf("jobnumber")>-1&&f.push(n().createElement("span",null,d)),r.length>0&&this.setState({watermark:f.map((k,A)=>n().createElement("span",{key:A},k))})},this.handleError=u=>{var r=this.props.onError;r&&r(u)},this.getImageUrl=(0,y.Z)(x().mark(function u(){var r,t,a,s,d,v,f,k,A,V;return x().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(r=m.props,t=r.resourceInfo,a=r.t,s=t.playId,d=t.url,v=t.storageType,f=d,!v){T.next=21;break}if(v!=="ALIBABA_PRIVATE"){T.next=15;break}return T.next=7,(0,M.J7)(s);case 7:if(k=T.sent,!k){T.next=12;break}f=k,T.next=13;break;case 12:return T.abrupt("return",C.default.info(a("privateCloud.docReadError")));case 13:T.next=21;break;case 15:if(v!=="LOCAL"){T.next=21;break}return T.next=18,Ce(s);case 18:A=T.sent,V=A.data,V.code===0&&(f="".concat(d,"?auth_key=").concat(V.data.auth_key));case 21:m.setState({imageUrl:[f]},()=>{var z=m.state.imageUrl,ve="image-business",Ze=document.querySelectorAll(".".concat(ve,"-image img"));Ze.forEach((Ke,Pe)=>{Ke.onerror=()=>{m.handleError(z[Pe])}})});case 22:case"end":return T.stop()}},u)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var m="image-business",u=this.props.resourceInfo,r=u.preview,t=r===void 0?!1:r,a=this.state,s=a.watermark,d=a.imageUrl;return n().createElement("div",{className:m},n().createElement(Le.Z,{scenes:"image"}),n().createElement(ke.Z,{className:"".concat(m,"-carousel")},d.map((v,f)=>n().createElement("div",{className:"".concat(m,"-image"),key:f.toString()},n().createElement(ht.Z,{src:v,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}He.defaultProps={prefixCls:"watch-image-page"};var gt=(0,g.$j)(vt)((0,I.Z)()(He)),bt=le=>({userInfo:le.user});class oa extends n().Component{constructor(){var m;super(...arguments);m=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,y.Z)(x().mark(function u(){var r,t,a;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,M.Gw)();case 2:r=d.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],a=(0,S.RG)(r,t),m.setState(a,()=>{m.renderWatermark()});case 6:case"end":return d.stop()}},u)})),this.renderWatermark=()=>{var u=this.props.userInfo,r=this.state.htmlWatermark,t=u.name,a=u.unionid,s=u.sourceType,d=u.jobNumber,v=u.position,f=[];r.indexOf("name")>-1&&f.push(n().createElement(Xe.Z,{dataType:"userName",value:a,name:t,type:s})),r.indexOf("position")>-1&&f.push(n().createElement("span",null,v)),r.indexOf("jobnumber")>-1&&f.push(n().createElement("span",null,d)),r.length>0&&this.setState({watermark:f.map((k,A)=>n().createElement("span",{key:A},k))})},this.saveProgress=()=>{var u=this.props,r=u.studyInfo,t=u.mode,a=u.userInfo,s=a.enterpriseId,d=a.id;t==="learn"&&(0,S.Gp)({studyInfo:r,enterpriseId:s,userId:d})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var m="html-business",u=this.props.resourceInfo,r=u.url,t=this.state.watermark;return n().createElement("div",{className:m},n().createElement("div",{className:"".concat(m,"__html-watermark")},t),n().createElement("iframe",{title:"html",className:"".concat(m,"_iframe"),src:r}))}}var qt=(0,g.$j)(bt)((0,I.Z)()(oa)),Ft=e(57068),Bt=e(1164),sa=le=>({userInfo:le.user});class Vt extends n().PureComponent{constructor(){super(...arguments);this.getHost=m=>{var u=m.split("//"),r=u[1].split("/");return[u[0],r[0]].join("//")},this.getScormUrl=()=>{var m=this.props,u=m.studyInfo,r=m.mode,t=m.userInfo,a=m.resourceInfo,s=m.from,d=t.enterpriseId,v=t.id,f=a.url,k=this.getHost(f);if(r==="learn"){var A=(0,Z.Z)({userId:v,enterpriseId:d,access_token:localStorage.token,from:s,scormUrl:encodeURIComponent(f),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},u);return"".concat(k).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(Ft.stringify(A))}return"".concat(k,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(f))},this.handleOpenScormLink=m=>{Bt.Z.targetTo({path:m,isExternalLink:!0})}}render(){var m=this.props.t,u="scorm-business",r=this.getScormUrl(),t=(0,me.UI)("SCORM_EXTERNAL_WATCH");return n().createElement("div",{className:u},t?n().createElement("div",{className:"".concat(u,"_scorm")},n().createElement("img",{className:"".concat(u,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),n().createElement("h5",null,m("resourcePlay.scormTip")),n().createElement(W.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(r)},m("resourceLibrary.h5LinkPlayButton"))):n().createElement("iframe",{title:"scorm",className:"".concat(u,"_iframe"),src:r}))}}var ea=(0,g.$j)(sa)((0,I.Z)()(Vt));class Kt extends n().Component{render(){var m=this.props,u=m.visible,r=m.title,t=m.onCancel,a=m.t,s=n().createElement("span",null,r);return n().createElement(Ne.ZP,{visible:u,title:s,onCancel:t,footer:null},n().createElement("div",{className:"ban-preview"},n().createElement("div",{className:"ban-preview-center"},n().createElement("img",{src:o(),alt:"picture"}),n().createElement("h2",null,a("localStorage.tip")),n().createElement("p",null,a("localStorage.banPreview"))),n().createElement("hr",null),n().createElement(W.Z,{type:"primary",className:"know",onClick:t},a("localStorage.onKnow"))))}}var na=(0,I.Z)()(Kt);class Qt extends l.Component{constructor(){var m;super(...arguments);m=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=u=>{var r=this.props.previewInfo,t=r.onCancel;this.onCancel(),t(u)},this.onGetVideoBusiness=u=>{var r=this.props.onRef,t=r===void 0?()=>{}:r;this.videoBusiness=u,t(u)},this.onFullScreen=()=>{var u=this.state.fullScreen;this.setState({fullScreen:!u})},this.handleJudgeNetwork=(0,y.Z)(x().mark(function u(){var r,t,a,s,d,v,f,k,A,V,R,T=arguments;return x().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(r=T.length>0&&T[0]!==void 0?T[0]:null,t=m.props,a=t.resourceInfo,s=t.watchType,d=a.storageType,v=a.playId,f=a.originUrl,k=s==="image"||s==="video"||s==="doc",A=null,r?A=r:f?A=f:A=a.url,!(k&&A&&v&&d&&d==="LOCAL")){ve.next=22;break}return ve.prev=7,ve.next=10,(0,M.NY)(v);case 10:return V=ve.sent,ve.next=13,(0,M.Hy)(A,V);case 13:R=ve.sent,R?m.setState({showBan:"no"}):m.setState({showBan:"yes"}),ve.next=20;break;case 17:ve.prev=17,ve.t0=ve.catch(7),m.setState({showBan:"yes"});case 20:ve.next=23;break;case 22:m.setState({showBan:"no"});case 23:case"end":return ve.stop()}},u,null,[[7,17]])})),this.renderOuter=()=>{var u=this.props,r=u.prefixCls,t=u.watchType,a=u.onCurrentTime,s=a===void 0?()=>{}:a;return n().createElement("div",{className:"".concat(r,"-outer")},t==="video"&&n().createElement(ot,(0,c.Z)({onCurrentTime:s,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&n().createElement(ze,this.props),t==="image"&&n().createElement(gt,(0,c.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&n().createElement(qt,this.props),t==="scorm"&&n().createElement(ea,this.props))},this.renderFooter=()=>{var u=this.props,r=u.resourceInfo.storageType,t=u.t,a=this.state.showBan,s=a!==""&&a==="yes";return r&&r!=="PUBLIC_CLOUD"&&s?n().createElement(W.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var m=this.props.mode;m==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(m){m.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var m=this.state,u=m.showBan,r=m.fullScreen,t=this.props,a=t.mode,s=t.previewWay,d=t.previewInfo,v=t.prefixCls,f=t.t,k=t.showEnlarge,A=t.footer,V=A===void 0?null:A,R=d.visible,T=d.destroyOnClose,z=d.title,ve=u!==""&&u==="yes",Ze=u!==""&&u==="no";return n().createElement(l.Fragment,null,a==="preview"&&s==="popups"&&n().createElement(Ne.ZP,{destroyOnClose:T,visible:R,title:z,onCancel:this.onCancelModel,footer:V||this.renderFooter(),wrapClassName:"".concat(v,"-resource ").concat(r?"".concat(v,"-full"):"")},k&&n().createElement("div",{className:"".concat(v,"-resource-out-icon"),onClick:this.onFullScreen},r?n().createElement(p.Z,{className:"".concat(v,"-resource-icon")}):n().createElement(P.Z,{className:"".concat(v,"-resource-icon")})),n().createElement("div",{className:"".concat(v,"-inner")},!R&&n().createElement(E.Z,{size:"large"}),R&&Ze&&this.renderOuter(),ve&&n().createElement(N,null))),(a==="learn"||s==="page")&&Ze&&this.renderOuter(),(a==="learn"||s==="page")&&n().createElement(na,{visible:ve,title:z||f("questionn.warmHint"),onCancel:this.onCancel}))}}Qt.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var xt=(0,I.Z)("translation",{withRef:!0})(Qt)},41225:function(Qe,se,e){"use strict";e.d(se,{Hy:function(){return y},NY:function(){return O},Gw:function(){return x},sH:function(){return p},BR:function(){return l},qp:function(){return P},Xc:function(){return I},J7:function(){return n}});var j=e(57361),E=e(9754),i=e.n(E),W=e(10237),c=e(37055),y=function(){var h=(0,j.Z)(i().mark(function o(){var _,N,Z,U,C,g,S,M=arguments;return i().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return _=M.length>0&&M[0]!==void 0?M[0]:"",N=M.length>1&&M[1]!==void 0?M[1]:"",Z="",_.startsWith("http")?(U=_.split("//")[1].trim(),C=U.split("/")[0],Z="https://".concat(C,"/cms/ticket")):(g=_.split("/")[0],Z="https://".concat(g,"/cms/ticket")),K.prev=4,K.next=7,W.ZQ.get({url:Z,params:{ticket:N}});case 7:if(S=K.sent,!(S.status===200||S.status===403)){K.next=10;break}return K.abrupt("return",Promise.resolve(!0));case 10:return K.abrupt("return",Promise.resolve(!1));case 13:return K.prev=13,K.t0=K.catch(4),K.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return K.stop()}},o,null,[[4,13]])}));return function(){return h.apply(this,arguments)}}(),O=function(){var h=(0,j.Z)(i().mark(function o(_){var N,Z;return i().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,W.ZQ.get({url:c.ZP.local.getTicket(_)});case 2:if(N=C.sent,Z=N.data,Z.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(Z.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},o)}));return function(_){return h.apply(this,arguments)}}(),x=function(){var h=(0,j.Z)(i().mark(function o(){var _;return i().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,W.WY.get({url:c.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return _=Z.sent,Z.abrupt("return",_.data.list);case 4:case"end":return Z.stop()}},o)}));return function(){return h.apply(this,arguments)}}(),l=function(){var h=(0,j.Z)(i().mark(function o(_){var N,Z,U;return i().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,W.WY.get({url:c.ZP.localStorage.getPravateVideoUrl(_)});case 2:if(N=g.sent,N.data.code!==0){g.next=6;break}return Z=N.data.data.videoPlayInfo,U=Z===void 0?"":Z,g.abrupt("return",U);case 6:return g.abrupt("return","");case 7:case"end":return g.stop()}},o)}));return function(_){return h.apply(this,arguments)}}(),n=function(){var h=(0,j.Z)(i().mark(function o(_){var N,Z,U;return i().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return N=c.ZP.localStorage.getPravateDocUrl(_),g.prev=1,g.next=4,W.WY.get({url:N});case 4:if(Z=g.sent,U=Z.data,!(U.code===0&&U.data)){g.next=8;break}return g.abrupt("return",U.data.docResourceDownloadUrl||"");case 8:return g.abrupt("return","");case 11:return g.prev=11,g.t0=g.catch(1),g.abrupt("return","");case 14:case"end":return g.stop()}},o,null,[[1,11]])}));return function(_){return h.apply(this,arguments)}}(),p=function(o){var _=o.studyInfo,N=o.progress,Z=o.recent_start,U=o.page_count,C=o.enterpriseId,g=o.userId,S=o.token,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L,K=_.studyType;if(K==="studyTask"&&(L=c.ZP.SaveProgress.studySaveProgress(_)),(K==="course"||K==="enterprise")&&(L=c.ZP.SaveProgress.enterpriseCourseSaveProgress(_)),K==="studyProject"&&(L=c.ZP.SaveProgress.projectSaveProgress(_)),K==="platform"&&(L="".concat(c.ZP.SaveProgress.platformCourseSaveProgress(_))),(M||K==="platform")&&(L+="?enterprise_id=".concat(C,"&user_id=").concat(g)),M)return L+="&access_token=".concat(S||localStorage.getItem("token")),L;var B={progress:N,recent_start:Z,tempTime:Date.parse(new Date)};return U&&(B.page_count=U),_.evaluationId&&(B.evaluation_id=_.evaluationId),W.WY.post({url:L,data:B})},P=h=>{var o=h.popupId,_=h.planId,N=h.resourceId,Z=h.type;return W.WY.post({url:c.ZP.TaskStudyRecord.setRandomPopupRecord(_),data:{course_id:N,terminal_type:"PC",popup_id:o,type:Z}})},I=(h,o)=>{var _=c.ZP.SaveProgress.reportStatusInterval(h);return W.WY.post({url:_,data:o})}},21594:function(Qe,se,e){"use strict";e.d(se,{pu:function(){return c},RG:function(){return y},Gp:function(){return O},O8:function(){return x}});var j=e(88986),E=e(69164),i=e(38642),W=e(41225),c=l=>{var n="";switch(l){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":n="studyTask";break;case"enterprise":n="enterprise";break;case"courseProject":n="studyProject";break;case"platform":case"purchased":n="platform";break;default:break}return n},y=(l,n)=>{var p={};return n.forEach(P=>{var I=l.find(Z=>Z.type===P.type);if(I)if(P.type==="document_duration_limit"){var h=I.action_list,o=h.find(Z=>Z.type==="random_popup_verification");!(0,i.UI)("RANDOM_POPUP_VERIFY")||!o?p[P.name]="CLOSE":p[P.name]=o.param.checked==="true"?"OPEN":"CLOSE"}else if(P.type==="document_player"){var _=JSON.parse(I.actions);_.forEach(Z=>{Z.param.checked==="true"&&(p[P.name]=Z.type)})}else if(P.type==="dynamic_watermark"){var N=I.action_list;N.forEach(Z=>{Z.type===P.resourceType&&Z.param.checked==="true"&&(p[P.name]=Z.param.comment)})}else p[P.name]=I.switch_status}),p},O=l=>{(0,W.sH)((0,j.Z)({progress:100,recent_start:1},l)).then(n=>{n&&n.data&&(0,E.Z)(n.data.integral_info||"")})},x=l=>{var n=document.createElement("div");return n.innerHTML=l,n.childNodes[0]}},59676:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return ce}});var j=e(57361),E=e(88986),i=e(33565),W=e(9754),c=e.n(W),y=e(12924),O=e.n(y),x=e(50361),l=e.n(x),n=e(45578),p=e.n(n),P=e(91768),I=e(7145),h=e.n(I),o=e(28216),_=e(37055),N=e(10237),Z=function(Q,Y){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ye="";return Q==="department"?ye=De?"https://55ce2acf-537b-41f2-922f-d8388e98d090.mock.pstmn.io/department":_.ZP.choose.department():Q==="post"&&(ye=De?"https://55ce2acf-537b-41f2-922f-d8388e98d090.mock.pstmn.io/post":_.ZP.choose.post()),N.WY.get({url:ye,params:Y})},U=w=>{var Q=w.originData,Y=w.mapData,De=w.businessType,ye=[];return Q.length===0?[]:(Q.forEach(ae=>{var ie={path:ae.path?ae.path[0]:[],position:ae.position};De==="department"&&(ie.source_type=ae.source_type);for(var de in Y)Y.hasOwnProperty(de)&&(ie[de]=ae[Y[de]]);ye.push(ie)}),ye)},C=w=>{var Q=w.originData,Y=w.mapData,De=w.businessType,ye=[];return Q.length===0?[]:(Q.forEach(ae=>{var ie={path:ae.path,position:ae.position,have_auth:ae.have_auth};De==="department"&&(ie.source_type=ae.source_type);for(var de in Y)Y.hasOwnProperty(de)&&(ie[Y[de]]=ae[de]);ye.push(ie)}),ye)},g=w=>{var Q=w.originData,Y=w.mapData,De=w.businessType,ye=w.isFirst,ae=ye===void 0?!1:ye,ie=w.haveAuth,de=ie===void 0?!1:ie,we=w.isOnlyPost,Te=we===void 0?!1:we,he=w.checkList,ze=he===void 0?[]:he,qe=w.checkedKey,ke=qe===void 0?"":qe,xe=[];if(Q.length===0)return[];Q.forEach(Xe=>{var vt={isLeaf:Xe.have_sub_node==="false"||!1,disabled:de?Xe.have_auth==="false":!1,path:Xe.path||[],have_sub_node:Xe.have_sub_node,have_auth:Xe.have_auth};De==="post"&&Te&&(vt.disabled=Xe.source_type==="post_group"),De==="department"&&(vt.source_type=Xe.source_type);for(var He in Y)Y.hasOwnProperty(He)&&(vt[He]=Xe[Y[He]]);xe.push(vt)}),xe.forEach(Xe=>{Xe.position=Xe.key,Xe.parentId=0,ae&&(Xe.path=[(0,E.Z)({},Xe)])});var ht=S({treeData:xe,checkList:ze,checkedKey:ke});return ht},S=w=>{var Q=w.treeData,Y=Q===void 0?[]:Q,De=w.checkList,ye=De===void 0?[]:De,ae=l()(Y);if(ae.length===0)return Y;var ie=ye.map(we=>we.key),de=we=>{we.forEach(Te=>{Array.isArray(ie)&&ie.length?Te.isLeaf=ie.includes(Te.key)||Te.have_sub_node==="false":Te.isLeaf=Te.have_sub_node==="false"||!1,Array.isArray(Te.children)&&Te.children.length&&de(Te.children)})};return de(ae),ae},M=e(13254),L=e(14277),K=e(62029),B=e(81211),F=e(48479),b=e(11520),G=e(32157),q=e(75869),X=e(60667),oe=w=>{var Q=w.checkedList,Y=w.selectedKeys,De=w.onExpand,ye=w.expandedKeys,ae=w.businessType,ie=w.multiple,de=w.searching,we=w.onSelect,Te=w.onCheck,he=w.loadData,ze=w.treeData,qe=w.prefixCls,ke=w.checkable,xe=w.selectable,ht=w.showLine,Xe=w.titleWrap,vt=(0,B.Z)(w,["checkedList","selectedKeys","onExpand","expandedKeys","businessType","multiple","searching","onSelect","onCheck","loadData","treeData","prefixCls","checkable","selectable","showLine","titleWrap"]),He=gt=>O().createElement("div",{className:"".concat(qe,"_title ").concat(Xe?"":"".concat(qe,"_wrap"))},ae==="department"?O().createElement(X.Z,{type:gt.source_type,name:gt.title,value:gt.key,dataType:"departmentName"}):gt.title);return O().createElement("div",{className:"".concat(qe," ").concat(de?"".concat(qe,"_display_none"):"")},O().createElement(q.Z,(0,K.Z)({showLine:ht,checkedKeys:Q,selectedKeys:Y,checkable:ke,selectable:!ke||xe,loadData:he,treeData:ze,multiple:ie,titleRender:He,onCheck:Te,onSelect:we,checkStrictly:!0,onExpand:De,expandedKeys:ye},vt)))};oe.defaultProps={prefixCls:"select-tree-data",checkable:!0,selectable:!1,multiple:!1,showLine:!0,checkedList:[],titleWrap:!1,searching:!1,businessType:"department",loadData:()=>{},onCheck:()=>{},onSelect:()=>{}};var fe=(0,P.Z)()(oe),ee=e(20228),Oe=e(11382),We=e(88983),Ce=e(47933),$e=e(63185),Ne=e(9676),me=e(246),Be=e.n(me),Le=w=>{var Q=w.checkedList,Y=w.titleWrap,De=w.businessType,ye=w.onSelect,ae=w.loadMore,ie=w.searchHasMore,de=w.searchLoading,we=w.multiple,Te=w.searchData,he=w.prefixCls,ze=w.searching,qe=w.checkable,ke=w.selectedKeys,xe=w.onRadioSelect,ht=He=>O().createElement("div",{className:"".concat(he,"_title ").concat(Y?"":"".concat(he,"_wrap"))},De==="department"?O().createElement(X.Z,{type:He.source_type,name:He.title,value:He.key,dataType:"departmentName"}):He.title),Xe=(He,gt)=>{ye(He,gt)},vt=He=>{xe(He)};return O().createElement("div",{className:"".concat(he," ").concat(ze?"":"".concat(he,"_display_none"))},O().createElement(Be(),{initialLoad:!1,pageStart:0,loadMore:ae,hasMore:!de&&ie,useWindow:!1,threshold:100},(qe||we)&&Te.map((He,gt)=>O().createElement("div",{className:"".concat(he,"_checkbox"),key:gt.toString()},O().createElement(Ne.Z,{onChange:bt=>Xe(bt,He),disabled:He.disabled,checked:Q.findIndex(bt=>bt.key===He.key)>-1},ht(He)))),!qe&&!we&&O().createElement(Ce.ZP.Group,{onChange:vt,value:ke[0]},Te.map((He,gt)=>O().createElement("div",{className:"".concat(he,"_checkbox"),key:gt.toString()},O().createElement(Ce.ZP,{value:He.key,disabled:He.disabled,data:He},ht(He))))),de&&ie&&O().createElement("div",{className:"".concat(he,"_loading")},O().createElement(Oe.Z,null))))};Le.defaultProps={prefixCls:"search-tree-data",checkedList:[],searching:!1,searchHasMore:!1,searchLoading:!1,titleWrap:!1,checkable:!0,multiple:!1,selectedKeys:[],businessType:"department",onSelect:()=>{},onRadioSelect:()=>{},loadMore:()=>{}};var Me=(0,P.Z)()(Le),be=w=>{var Q=w.onChecked,Y=w.onSearchMore,De=w.onSearch,ye=w.onExpand,ae=w.expandedKeys,ie=w.checkList,de=w.businessType,we=w.selectedKeys,Te=w.multiple,he=w.searching,ze=w.treeData,qe=w.hasSearch,ke=w.loading,xe=w.searchData,ht=w.searchHasMore,Xe=w.searchLoading,vt=w.onSelectNodes,He=w.loadData,gt=w.searchWidth,bt=w.searchPlaceholder,oa=w.style,qt=w.active,Ft=w.showSearch,Bt=w.t,sa=(0,B.Z)(w,["onChecked","onSearchMore","onSearch","onExpand","expandedKeys","checkList","businessType","selectedKeys","multiple","searching","treeData","hasSearch","loading","searchData","searchHasMore","searchLoading","onSelectNodes","loadData","searchWidth","searchPlaceholder","style","active","showSearch","t"]),Vt=null,ea=(le,m)=>{var u=m.node.key,r=[...ie,...m.checkedNodes];if(!m.checked){var t=r.findIndex(a=>a.key===u);r.splice(t,1)}Q(p()(r,"key"),u,m.checked)},Kt=(le,m)=>{var u=le.target.checked,r=l()(ie),t=r.findIndex(a=>a.key===m.key);u?t===-1&&r.push(m):t>-1&&r.splice(t,1),Q(r,m.key,u)},na=le=>{var m=le.target.data,u=[{key:m.key,title:m.title}];vt(u)},Qt=()=>{Y()},xt=(le,m)=>{var u=m.selected,r=m.node,t=l()(we);if(Te){var a=t.findIndex(s=>s.key===r.key);u?a===-1&&t.push((0,E.Z)({},r)):a>-1&&t.splice(a,1)}else t=[(0,E.Z)({},r)];vt(t)};return(0,y.useEffect)(()=>{(de==="department"||de==="post")&&Vt&&Vt.clear()},[de,qt,Ft]),O().createElement("div",{className:"all-select-out",style:oa},qe&&O().createElement("div",{className:"all-select-out_input"},O().createElement(F.Z,{width:gt?"".concat(gt,"px"):"100%",placeholder:bt,onSearch:De,onRef:le=>Vt=le})),O().createElement("div",{className:"all-select-out_tree ".concat(qe?"all-select-out_has_search":"")},ke&&O().createElement(b.Z,{fullScreen:!1}),ze.length>0&&O().createElement(fe,(0,K.Z)({searching:he,treeData:ze,multiple:Te,businessType:de,selectedKeys:we.map(le=>le.key),checkedList:ie.map(le=>le.key),onExpand:ye,expandedKeys:ae,loadData:He,onCheck:ea,onSelect:xt},sa)),O().createElement(Me,(0,K.Z)({searching:he,searchData:xe,checkedList:ie,multiple:Te,selectedKeys:we.map(le=>le.key),searchHasMore:ht,searchLoading:Xe,businessType:de,onSelect:Kt,onRadioSelect:na,loadMore:Qt},sa)),!ke&&(!he&&ze.length===0||he&&xe.length===0)&&O().createElement("div",{className:"all-select-out_tree_no_data"},O().createElement(L.Z,{description:Bt("lineClassStudy.noResult")}))))};be.defaultProps={style:{},checkable:!0,selectable:!1,showLine:!0,multiple:!1,hasSearch:!0,searchPlaceholder:"Search",searchWidth:200,searchConfig:{},titleWrap:!1,treeData:[],checkList:[],selectedKeys:[],searchData:[],searchHasMore:!1,searchLoading:!1,loading:!1,showSearch:!1,businessType:"department",active:"",onSearch:()=>{},onChecked:()=>{},onSearchMore:()=>{},onSelectNodes:()=>{},loadData:()=>{}};var tt=(0,P.Z)()(be),Ue=w=>{var Q=w.businessType,Y=w.filterAuth,De=w.receiveFields,ye=w.hasCheckList,ae=w.returnFields,ie=w.showSearch,de=w.onCheck,we=w.onSelect,Te=w.checkable,he=w.titleWrap,ze=w.searchWidth,qe=w.style,ke=w.businessStyle,xe=w.isOnlyPost,ht=w.haveAuth,Xe=w.multiple,vt=w.active,He=w.appType,gt=w.t,bt={page_number:1,page_size:1e4,filter_auth:Y,source_type:He==="wx_app"?"wx_sync":""},oa=(0,y.useState)(!0),qt=(0,i.Z)(oa,2),Ft=qt[0],Bt=qt[1],sa=(0,y.useState)([]),Vt=(0,i.Z)(sa,2),ea=Vt[0],Kt=Vt[1],na=(0,y.useState)([]),Qt=(0,i.Z)(na,2),xt=Qt[0],le=Qt[1],m=(0,y.useState)(""),u=(0,i.Z)(m,2),r=u[0],t=u[1],a=(0,y.useState)([]),s=(0,i.Z)(a,2),d=s[0],v=s[1],f=(0,y.useState)([]),k=(0,i.Z)(f,2),A=k[0],V=k[1],R=(0,y.useState)(!1),T=(0,i.Z)(R,2),z=T[0],ve=T[1],Ze=(0,y.useState)(!1),Ke=(0,i.Z)(Ze,2),Pe=Ke[0],It=Ke[1],Ct=(0,y.useState)(!1),St=(0,i.Z)(Ct,2),Jt=St[0],Mt=St[1],$t=(0,y.useState)(l()((0,E.Z)((0,E.Z)({},bt),{},{page_size:50}))),zt=(0,i.Z)($t,2),kt=zt[0],ct=zt[1],pt=(0,y.useState)([]),Ht=(0,i.Z)(pt,2),Gt=Ht[0],ia=Ht[1];(0,y.useEffect)(()=>{var re=ca(ye,ae,Q);v(te=>h()(te,{$set:re})),le(te=>h()(te,{$set:re}))},[ye,ae,Q]),(0,y.useEffect)(()=>{Kt([]),la(),(Q==="department"||Q==="post")&&pa()},[Q,vt]);var la=()=>{ve(!1),It(!1),ct(l()((0,E.Z)((0,E.Z)({},bt),{},{page_size:50}))),V([]),ia([])};(0,y.useEffect)(()=>{ie&&la()},[ie]);var ca=(re,te,ne)=>{var ue=U({originData:re||[],mapData:te,businessType:ne});return ue},pa=function(){var re=(0,j.Z)(c().mark(function te(){var ne,ue,Ie,Je,it,Ge;return c().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return ne=ca(ye,ae,Q),Bt(!0),Re.next=4,da();case 4:ue=Re.sent,Bt(!1),Ie=ue.dept_page,Je=ue.post_page,it=Q==="post"?Je:Ie,Ge=g({originData:it.list,mapData:De,businessType:Q,isFirst:!0,haveAuth:ht,isOnlyPost:xe,checkList:ne,checkedKey:r}),Kt(Ge);case 10:case"end":return Re.stop()}},te)}));return function(){return re.apply(this,arguments)}}(),da=function(){var re=(0,j.Z)(c().mark(function te(ne){var ue,Ie,Je;return c().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return ue=l()(bt),ne&&(Q==="department"&&(ue.department_id=ne),Q==="post"&&(ue.post_id=ne)),Ge.next=4,Z(Q,ue,!1);case 4:if(Ie=Ge.sent,Ie.data.code!=="200000"){Ge.next=8;break}return Je=Ie.data.data,Ge.abrupt("return",Je);case 8:return Ge.abrupt("return",[]);case 9:case"end":return Ge.stop()}},te)}));return function(ne){return re.apply(this,arguments)}}(),ua=(re,te,ne)=>re.map(ue=>ue.key===te?(0,E.Z)((0,E.Z)({},ue),{},{children:ne}):ue.children?(0,E.Z)((0,E.Z)({},ue),{},{children:ua(ue.children,te,ne)}):ue),ma=re=>{var te=re.key,ne=re.children,ue=re.path,Ie=re.disabled;return new Promise(Je=>{if(ne){Je();return}var it=xt.map(Re=>Re.key),Ge=it.includes(te),lt=l()(xt);da(te).then(Re=>{var dt=Re.post_page,ut=Re.dept_page,ft=Q==="post"?dt:ut,Dt=l()(ft.list),yt=g({originData:Dt,mapData:De,businessType:Q,haveAuth:ht,isOnlyPost:xe,checkList:xt,checkedKey:r});yt.forEach(Et=>{var Nt=[(0,E.Z)({},Et)];Et.parentId=te,Et.path=[...ue,...Nt],Ge&&Ie&&(Et.disabled=!0)}),Te&&Ge&&Ie&&le(p()([...lt,...yt],"key"));var rt=l()(ea),Ot=ua(rt,te,yt);Kt(Ot),Je()})})},ha=function(){var re=(0,j.Z)(c().mark(function te(ne){var ue,Ie,Je,it,Ge,lt,Re,dt,ut,ft,Dt=arguments;return c().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return ue=Dt.length>1&&Dt[1]!==void 0?Dt[1]:!1,Ie=l()(ne),Je=ue?[]:l()(A),rt.next=5,Z(Q,Ie,!1);case 5:it=rt.sent,it.data.code==="200000"&&(Ge=it.data.data,lt=Ge.post_page,Re=Ge.dept_page,dt=Q==="post"?lt:Re,Bt(!1),It(dt.has_next_page==="true"),Mt(!1),ut=dt.list,ft=g({originData:ut,mapData:De,businessType:Q,haveAuth:ht}),V([...Je,...ft]));case 7:case"end":return rt.stop()}},te)}));return function(ne){return re.apply(this,arguments)}}(),Rt=re=>{if(ve(re!==""),V([]),re!==""){Bt(!0);var te=l()(kt);te.page_number=1,te.keyword=re,ct(te),ha(te,!0)}else{var ne=l()(kt);ne.keyword="",ne.page_number=1,ct(ne),ve(!1)}},fa=(re,te,ne)=>{le(re),t(te);var ue=C({originData:re,mapData:ae,businessType:Q}),Ie=l()(Gt);ne&&(Ie=Ie.filter(Je=>Je!==te)),ia(Ie),de(ue,te,ne)},D=()=>{Mt(!0);var re=l()(kt);re.page_number+=1,ct(re),ha(re)},ge=re=>{v(re);var te=C({originData:re,mapData:ae,businessType:Q});we(p()(te,ae.key))},je=()=>{var re="search";return Q==="department"&&(re=gt("component.departSearch")),Q==="post"&&(re=gt("component.postSearch")),re},Ve=re=>{ia(re)};return(0,y.useEffect)(()=>{var re=S({treeData:ea,checkList:xt,checkedKey:r});Kt(re)},[xt,ke]),O().createElement("div",{className:"tree-business",style:ke},O().createElement(tt,{style:qe,searchConfig:kt,loading:Ft,checkable:Te,selectable:!Te,treeData:ea,searchPlaceholder:je(),checkList:xt,selectedKeys:d,searchData:A,searching:z,multiple:Xe,showSearch:ie,active:vt,searchWidth:ze,searchHasMore:Pe,searchLoading:Jt,titleWrap:he,businessType:Q,onExpand:Ve,expandedKeys:Gt,onSearch:Rt,loadData:ma,onChecked:fa,onSearchMore:D,onSelectNodes:ge}))};Ue.defaultProps={style:{},businessStyle:{},businessType:"department",filterAuth:!0,haveAuth:!1,isOnlyPost:!1,receiveFields:{title:"name",key:"id"},returnFields:{title:"name",key:"id"},checkable:!0,multiple:!1,titleWrap:!1,active:"",showSearch:!1,searchWidth:200,hasCheckList:[],onCheck:()=>{},onSelect:()=>{}};var ot=w=>({appType:w.user.appType}),et=(0,o.$j)(ot)((0,P.Z)()(Ue)),ce=et},11449:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return b}});var j=e(88986),E=e(33565),i=e(12924),W=e.n(i),c=e(3115),y=e(49111),O=e(19650),x=e(62029),l=e(57663),n=e(71577),p=e(91768),P=e(28216),I=e(37055),h=e(10237);function o(G){var q=I.ZP.getHelpContentByMenuKey(),X={key:G};return h.WY.get({url:q,params:X})}var _=e(74228),N=e.n(_),Z=e(1164),U=e(76466),C=e(38642);class g extends W().Component{constructor(q){var X;super(q);X=this,this.getHelpContentByMenuKey=()=>{var oe=this.props.defaultMenuKey;o(oe).then(fe=>{var ee=fe.data,Oe=ee.help_url,We=ee.video_url;this.setState({videoUrl:We,helpUrl:Oe})})},this.handleOpenHelpUrl=oe=>{if((0,C.ve)()){window.open(oe,"_blank");return}Z.Z.targetTo({path:oe,isExternalLink:!0})},this.handleOpenVideo=function(oe){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.props.t("helpCenter.video");X.setState(ee=>({resourcePlayInfo:(0,j.Z)((0,j.Z)({},ee.resourcePlayInfo),{},{resourceInfo:{originUrl:oe,source:{FD:oe,OD:oe},contentType:"mp4"}}),previewInfo:(0,j.Z)((0,j.Z)({},ee.previewInfo),{},{title:fe,visible:!0,onCancel:X.handleCancelPreview})}))},this.handleCancelPreview=()=>{var oe=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,j.Z)((0,j.Z)({},oe),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:q.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var q=this.state,X=q.helpUrl,oe=q.resourcePlayInfo,fe=q.previewInfo,ee=q.videoUrl,Oe=this.props.t;return W().createElement("div",{className:N().helpCenter},ee&&W().createElement(n.Z,{type:"link",className:N()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ee)},Oe("helpCenter.video")),X&&W().createElement(n.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(X)},Oe("helpCenter.tutorial")),W().createElement(U.Z,(0,x.Z)({},oe,{previewInfo:fe})))}}var S=G=>({defaultMenuKey:G.currentRoute.menuKey});g.defaultProps={defaultMenuKey:""};var M=(0,P.$j)(S)((0,p.Z)()(g));function L(G){var q=G.extra,X=localStorage.getItem("dingPersonnel"),oe=sessionStorage.getItem("dingPersonnel");return W().createElement(O.Z,null,q,X!=="dingPersonnel"&&oe!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&W().createElement(M,null))}var K=L,B=e(4408);function F(G){var q=(0,i.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),X=(0,E.Z)(q,1),oe=X[0],fe=G.pageContainerParams,ee=fe===void 0?{}:fe,Oe=G.noPadding,We=Oe===void 0?!1:Oe,Ce=G.isPersonal,$e=Ce===void 0?!1:Ce,Ne=G.pageTitle,me=G.className,Be=me===void 0?"":me,Le={extra:oe.helpCenter?W().createElement(K,{extra:ee.extra}):ee.extra},Me=(0,j.Z)((0,j.Z)({},ee),Le);return W().createElement("div",{className:"page-container-content ".concat(We?"page-container-noPadding":""," ").concat($e?"page-container-content_personal_background":""," ").concat(Be)},Ne&&W().createElement(B.Z,{title:Ne}),$e?W().createElement(c.Z,null,G.children):W().createElement(c.Z,Me,G.children))}var b=F},43649:function(Qe,se,e){"use strict";e.r(se),e.d(se,{default:function(){return m}});var j=e(34792),E=e(48086),i=e(88986),W=e(12924),c=e.n(W),y=e(91768),O=e(57068),x=e(28216),l=e(14781),n=e(53431),p=e(62029),P=e(59250),I=e(13013),h=e(22385),o=e(31097),_=e(57663),N=e(71577),Z=e(30887),U=e(99210),C=e(57361),g=e(71194),S=e(57016),M=e(43358),L=e(34041),K=e(47673),B=e(4107),F=e(9754),b=e.n(F),G=e(76651),q=e(57254),X=e(67222),oe=e(84874),fe=e(55285),ee=e(37055),Oe=e(30311),We=e(86726),Ce=e(60667),$e=e(50361),Ne=e.n($e),me=e(13254),Be=e(14277),Le=e(20228),Me=e(11382),be=e(7359),tt=e(2829),Ue=tt.Z.Panel,ot=B.Z.Search;class et extends c().Component{constructor(r){var t;super(r);t=this,this.onSearchChange=a=>{var s=a.target.value,d=a.type;d==="click"&&this.handleSearch(s)},this.onCollapseChange=a=>{var s=this.state.collapseProps;this.setState({collapseProps:(0,i.Z)((0,i.Z)({},s),{},{activeKey:a})})},this.handleSearch=function(){var a=(0,C.Z)(b().mark(function s(d){var v;return b().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:v=t.props.onHandleSearch,v(d);case 2:case"end":return k.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),this.baseItemRender=a=>c().createElement("div",{className:"self-scope-define-list"},a.map((s,d)=>c().createElement(o.Z,{placement:"top",title:s.all_name||"",key:s.id||d},c().createElement("div",{className:"self-scope-define-item"},s.name)))),this.state={collapseProps:{showExpandArrow:!0,expandIconPosition:"right",ghost:!0,activeKey:["1","2","3","4","5","6"]}}}render(){var r=this.state.collapseProps,t=this.props,a=t.t,s=t.loading,d=t.defineCollapseData,v=d.dept,f=d.user,k=d.post,A=d.group,V=d.clusters,R=d.roles;return c().createElement("div",{className:"self-scope-define-belle"},c().createElement("div",{className:"search"},c().createElement("span",{className:"search-input"},c().createElement(B.Z.Group,{compact:!0},c().createElement(ot,{ref:T=>{this.mySearch=T},className:"top-operate-search",onSearch:this.handleSearch,onChange:this.onSearchChange,allowClear:!0,width:172,placeholder:a("community.pleaseInputKeywords")})))),c().createElement(tt.Z,(0,p.Z)({defaultActiveKey:["1","2","3","4","5","6"]},r,{onChange:this.onCollapseChange}),Array.isArray(f)&&f.length?c().createElement(Ue,{header:a("personal.user"),key:"1",showArrow:r.showExpandArrow},c().createElement("div",{className:"self-scope-define-list"},f.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||"",key:T.id||z},c().createElement("div",{className:"self-scope-define-item"},c().createElement(Ce.Z,{dataType:"userName",value:T.sync_user_id,name:T.name,type:T.sync_source_type})))))):null,Array.isArray(v)&&v.length?c().createElement(Ue,{header:a("common.departmentLabel"),key:"2",showArrow:r.showExpandArrow,collapsible:!0},c().createElement("div",{className:"self-scope-define-list"},v.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||"",key:T.id||z},c().createElement("div",{className:"self-scope-define-item"},c().createElement(Ce.Z,{dataType:"departmentName",value:T.id,name:T.all_name,type:T.dept_sync_source_type})))))):null,Array.isArray(k)&&k.length?c().createElement(Ue,{header:a("authentication.position"),key:"3",showArrow:r.showExpandArrow,collapsible:!0},this.baseItemRender(k)):null,Array.isArray(A)&&A.length?c().createElement(Ue,{header:a("component.userGroup"),key:"4",showArrow:r.showExpandArrow,collapsible:!0},this.baseItemRender(A)):null,Array.isArray(V)&&V.length?c().createElement(Ue,{header:a("component.useCluster"),key:"5",showArrow:r.showExpandArrow},this.baseItemRender(V)):null,Array.isArray(R)&&R.length?c().createElement(Ue,{header:a("searchInputPlaceholder.roles"),key:"6",showArrow:r.showExpandArrow},this.baseItemRender(R)):null),!f.length&&!v.length&&!k.length&&!A.length&&!R.length&&!V.length&&c().createElement("div",{className:"empty-main"},s?c().createElement(Me.Z,null):c().createElement(Be.Z,null)))}}et.defaultProps={defineCollapseData:{},loading:!1};var ce=(0,y.Z)()(et),w=e(18329),Q=e(10237),Y=e(38642);class De extends c().Component{constructor(r){var t;super(r);t=this,this.onCancel=()=>{this.props.onCancel();var a=this.state.whiteList;a.belleFlag&&this.setState({cacheData:{department_infos:[],user_infos:[],position_infos:[],user_group_infos:[],activeKey:Date.now()},defineCollapseData:{dept:[],user:[],post:[],group:[],clusters:[],roles:[]}})},this.onHandleSearch=function(){var a=(0,C.Z)(b().mark(function s(d){return b().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t.setDefineCollapseData(d);case 1:case"end":return f.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),this.setDefineCollapseData=a=>{var s=this.state,d=s.defineCollapseData,v=s.cacheData,f=v===void 0?{}:v,k=f.department_infos,A=f.user_infos,V=f.position_infos,R=f.user_group_infos,T=a?(0,i.Z)((0,i.Z)({},d),{},{dept:k&&k.length&&k.filter(z=>z.all_name.includes(a))||[],user:A&&A.length&&A.filter(z=>z.name.includes(a))||[],post:V&&V.length&&V.filter(z=>z.name.includes(a))||[],group:R&&R.length&&R.filter(z=>z.name.includes(a))||[]}):(0,i.Z)((0,i.Z)({},d),{},{dept:k,user:A,post:V,group:R,clusters:[],roles:[]});this.setState({defineCollapseData:T})},this.getUserAuthScope=()=>{var a=ee.ZP.Role.getUserAuthScope(),s={user_id:this.props.userId},d=this.state.whiteList;this.setState({loading:!0}),Q.WY.get({url:a,params:s}).then(v=>{var f=v.data.custom_range_info,k=f===void 0?{}:f,A=k.user_infos,V=k.user_group_infos,R=k.position_infos,T=k.department_infos;this.setState({dept:T,user:A,post:R,group:V}),d.belleFlag&&this.setState({cacheData:Ne()({department_infos:T,user_infos:A,position_infos:R,user_group_infos:V,activeKey:Date.now()})},()=>{this.setDefineCollapseData()}),this.setState({loading:!1})})},this.state={dept:[],group:[],post:[],user:[],whiteList:{belleFlag:(0,Y.UI)("BELLE_CUSTOMER_WHITE")},cacheData:{department_infos:[],user_infos:[],position_infos:[],user_group_infos:[],activeKey:Date.now()},defineCollapseData:{dept:[],user:[],post:[],group:[],clusters:[],roles:[]}}}componentDidUpdate(r){r.visible!==this.props.visible&&this.props.visible&&this.setState({dept:[],group:[],post:[],user:[]},()=>{this.getUserAuthScope()})}render(){var r=this.state,t=r.dept,a=r.user,s=r.post,d=r.group,v=r.whiteList,f=r.defineCollapseData,k=r.loading,A=this.props,V=A.name,R=A.t;return c().createElement(w.ZP,{title:c().createElement("div",null,R("setting.rolePermission"),"\uFF08",V,"\uFF09"),visible:this.props.visible,onCancel:this.onCancel,onOk:this.onCancel,footer:null},c().createElement("div",null,!v.belleFlag&&c().createElement("div",{className:"self-scope-define"},c().createElement("div",{className:"self-scope-define-list"},t.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||""},c().createElement("div",{className:"self-scope-define-item",key:z},c().createElement(Ce.Z,{dataType:"departmentName",value:T.id,name:T.name,type:T.dept_sync_source_type})))),s.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||""},c().createElement("div",{className:"self-scope-define-item",key:z},T.name))),d.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||""},c().createElement("div",{className:"self-scope-define-item",key:z},T.name)))),c().createElement("div",{className:"self-scope-define-list"},a.map((T,z)=>c().createElement(o.Z,{placement:"top",title:T.all_name||""},c().createElement("div",{className:"self-scope-define-item",key:z},c().createElement(Ce.Z,{dataType:"userName",value:T.sync_user_id,name:T.name,type:T.sync_source_type})))))),v.belleFlag&&c().createElement(ce,{defineCollapseData:f,loading:k,onHandleSearch:this.onHandleSearch})))}}var ye=(0,y.Z)()(De),ae=e(64262);class ie extends c().Component{constructor(r){super(r);this.handleCheck=t=>{t.checked?this.setState({selectedKeys:t.checked?t.checked:[]}):t instanceof Array&&t.length?this.setState({selectedKeys:t}):this.setState({selectedKeys:[]})},this.showConfirmTip=()=>{var t=this.props.t;if(this.state.selectedKeys.length<=0){E.default.warning(t("setting.setPermissionScopeTip"));return}this.setState({dialogConfig:(0,i.Z)((0,i.Z)({},this.state.dialogConfig),{},{bodyMask:!0})},()=>{var a=this.state.setPerConfirmConfig,s=a.title,d=a.content;S.Z.confirm({title:s,content:d,onOk:()=>{this.sure()},onCancel:()=>{this.hideConfirmTip()}})})},this.hideConfirmTip=()=>{this.setState({dialogConfig:(0,i.Z)((0,i.Z)({},this.state.dialogConfig),{},{bodyMask:!1})})},this.cancel=()=>{this.props.onCancel()},this.sure=()=>{this.setState({dialogConfig:(0,i.Z)((0,i.Z)({},this.state.dialogConfig),{},{bodyMask:!1})}),this.props.onSure(this.state.selectedKeys)},this.state={dialogConfig:{mask:!0,bodyMask:!1,width:450,title:r.t("setting.changePermissionScope"),wrapClassName:"dept-permission",onCancel:this.cancel},setPerConfirmConfig:{title:r.t("common.tip"),content:r.t("setting.changePermissionScopeTip")},selectedKeys:[]}}render(){var r=this.props.t,t=localStorage,a=t.appType;return c().createElement(w.ZP,(0,p.Z)({},this.state.dialogConfig,{visible:this.props.visible,bodyMask:!1,onOk:this.showConfirmTip}),c().createElement("div",{className:"dept-permission-tip"},c().createElement("div",{className:"tip-one"},"1. ",r(a==="e_app"?"setting.rolePermissionScopeTipOne":"setting.authDescWxTip1")),c().createElement("div",{className:"tip-one"},"2. ",r("setting.rolePermissionScopeTipTwo")),c().createElement("div",{className:"tip-one"},"3. ",r("setting.rolePermissionScopeTipThree")),c().createElement("div",{className:"tip-one"},"4. ",r("setting.rolePermissionScopeTipFour"))),c().createElement("div",{className:"org-tree-wrapper"},this.props.visible?c().createElement(ae.Z,{parentId:"",checkable:!0,asyncLoad:!0,checkStrictly:!1,handleCheck:this.handleCheck,defaultExpandAll:!1,filterAuth:!1,querySelectedUserId:this.props.querySelectedUserId}):null))}}ie.defaultProps={visible:!1,querySelectedUserId:"",onCancel:()=>{},onSure:()=>{}};var de=(0,y.Z)()(ie),we=B.Z.Search,Te=L.Z.Option,he=u=>({userInfo:u.user,appType:u.user.appType,qyShield:u.user.qyShield,appId:u.user.appId});class ze extends c().Component{constructor(){var r;super(...arguments);r=this,this.state={setDeptPerVisible:!1,allowActions:(0,We.V9)("role",this.props.userInfo.modules),selfDefineProps:{visible:!1,userId:"",name:""},searchType:"user_name"},this.onSelectChange=t=>{this.props.onSelectChange(t)},this.handleAdd=()=>{this.props.onAdd()},this.handleDelete=()=>{var t=this.props,a=t.selectedRowKeys,s=t.t;if(!a.length){E.default.warning(s("setting.deleteUserTip"));return}S.Z.confirm({title:s("common.delete"),content:s("setting.deleteCheckedUser"),onOk:()=>{this.props.onDelete()}})},this.handleTableChange=(t,a)=>{this.props.onTableChange({current:t,pageSize:a})},this.handleToPermission=()=>{this.props.onToPermission()},this.handleToDeptPermission=()=>{var t=this.props,a=t.selectedRowKeys,s=t.t,d=t.roleId;a.length>1?S.Z.confirm({title:s("common.tip"),content:s("setting.multipleSetAuthScopeTip"),onOk:()=>{G.m8.push("/enterprise/system/authScope?userIds=".concat(a.join(","),"&roleId=").concat(d))}}):G.m8.push("/enterprise/system/authScope?userIds=".concat(a.join(","),"&roleId=").concat(d))},this.setDeptPerSure=t=>{this.props.setDeptPer(t),this.setState({setDeptPerVisible:!1})},this.setDeptPerCancel=()=>{this.setState({setDeptPerVisible:!1})},this.handleSearch=function(){var t=(0,C.Z)(b().mark(function a(s){var d,v,f,k,A,V,R,T,z;return b().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(d=r.props,v=d.appType,f=d.appId,k=r.state.searchType,A=localStorage.getItem("qyWechatBook"),V="",R=v==="wx_app"&&A==="true"&&f==="9005",!(k==="user_name"&&s&&R)){Ze.next=18;break}return Ze.prev=6,Ze.next=9,(0,X.F_)(s);case 9:T=Ze.sent,z=T.data,z.success&&(V=z.data),Ze.next=18;break;case 14:Ze.prev=14,Ze.t0=Ze.catch(6),console.error(Ze.t0),V="";case 18:r.props.onSearch&&r.props.onSearch(s,k,V);case 19:case"end":return Ze.stop()}},a,null,[[6,14]])}));return function(a){return t.apply(this,arguments)}}(),this.searchChange=t=>{var a=t.target.value,s=t.type;s==="click"&&this.props.onSearch&&this.handleSearch(a)},this.showSelfDefineUsers=t=>{var a=t.user_info,s=a.userId,d=a.sourceType,v=a.name;this.setState(f=>({selfDefineProps:(0,i.Z)((0,i.Z)({},f.selfDefineProps),{},{visible:!0,userId:t.id,name:c().createElement(Ce.Z,{dataType:"userName",value:s,name:v,type:d})})}))},this.closeSelfDefineUsers=()=>{this.setState(t=>({selfDefineProps:(0,i.Z)((0,i.Z)({},t.selfDefineProps),{},{visible:!1,userId:"",name:""})}))},this.getPlaceholder=()=>{var t=this.state.searchType,a=this.props.t,s=null;switch(t){case"job_number":s=a("searchInputPlaceholder.jobNumber");break;case"user_name":s=a("searchInputPlaceholder.userName");break;default:s=a("searchInputPlaceholder.userName");break}return s},this.changeSelectType=t=>{this.setState({searchType:t},()=>{var a=this.mySearch.state.value;this.handleSearch(a)})},this.headerTitle=()=>{var t=this.props,a=t.sysRole,s=t.t,d=t.authGroupConfig,v=t.userInfo,f=this.state.allowActions,k=(0,We.H3)("authority_range",f),A=c().createElement(U.Z,null,c().createElement(U.Z.Item,{key:"0",disabled:this.props.selectedRowKeys.length===0},c().createElement("div",{onClick:this.handleDelete,className:"span-del"},s("setting.multipleDelete"))));return c().createElement("div",{className:"header__operatebox"},a.id==="20000000"?null:c().createElement(N.Z,{type:"primary",onClick:this.handleToPermission},c().createElement(oe.Z,{iconClass:"icon-quanxianguanli1"}),s("setting.permissionSet")),(v.isAdmin||!v.isAdmin&&a.id!=="20000000")&&c().createElement(N.Z,{type:"primary",ghost:!0,onClick:this.handleAdd},c().createElement(oe.Z,{iconClass:"icon-icon_addx"}),s("setting.addUser")),k&&a.id==="40000000"&&d||k&&!d&&a.id!=="20000000"?c().createElement(o.Z,{placement:"top",title:s("setting.setAuthScopeTip")},c().createElement(N.Z,{type:"primary",ghost:!0,disabled:this.props.selectedRowKeys.length===0,onClick:this.handleToDeptPermission},s("setting.rolePermission"))):null,(v.isAdmin||!v.isAdmin&&a.id!=="20000000")&&c().createElement(I.Z,{overlay:A},c().createElement(N.Z,null,"".concat(s("common.more"),"  ").concat(s("common.operate")),"  ",c().createElement(q.Z,null))))},this.toolBarRender=()=>{var t=this.getPlaceholder(),a=this.state.searchType,s=this.props.t;return c().createElement("div",{className:"role-container__content__search"},c().createElement(B.Z.Group,{compact:!0},c().createElement(L.Z,{style:{width:"90px",display:"inline-block"},defaultValue:a,onChange:this.changeSelectType},c().createElement(Te,{value:"user_name"},s("searchInputPlaceholder.userNameOp")),c().createElement(Te,{value:"job_number"},s("searchInputPlaceholder.jobNumberOp"))),c().createElement(we,{ref:d=>{this.mySearch=d},className:"search-input",onSearch:this.handleSearch,onChange:this.searchChange,allowClear:!0,width:172,placeholder:t})))}}render(){var r=this.props,t=r.list,a=r.loading,s=r.selectedRowKeys,d=r.paginationParams,v=r.sysRole,f=r.t,k={selectedRowKeys:s,onChange:this.onSelectChange},A=(0,i.Z)((0,i.Z)({},ee.XE.INITIAL_PAGINATION),d),V=this.state.selfDefineProps,R={title:f("common.userName"),dataIndex:"name",key:"name",width:"80px",fixed:this.props.appType==="wx_app"?!1:"left",render:(z,ve)=>c().createElement(o.Z,{title:c().createElement(Ce.Z,{dataType:"userName",value:ve.user_info.userId||ve.user_info.user_id,name:z,type:ve.user_info.sourceType||ve.user_info.source_type})},c().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},c().createElement(Ce.Z,{dataType:"userName",value:ve.user_info.userId||ve.user_info.user_id,name:z,type:ve.user_info.sourceType||ve.user_info.source_type})))},T=[{title:f("setting.permissionScope"),dataIndex:"rangeType",key:"rangeType",width:"110px",fixed:"right",render:(z,ve)=>{if(z==="all")return f("common.allCompany");switch(z){case"all":return f("common.allCompany");case"only_me":return f("authScope.onlyMe");case"custom":return c().createElement(Oe.Z,{name:f("authScope.selfDefine"),onClick:()=>this.showSelfDefineUsers(ve)});case"dept_with_sub_ids":return f("authScope.deptAndChild");default:return""}}}];return Object.keys(v).length?c().createElement("div",{className:"role-container__content"},c().createElement("header",{className:"role-container__content__header header"},c().createElement("h3",{className:"header__title"},v.roleNameDesc)),c().createElement("div",{className:"role-container__content__table table-wrapper"},c().createElement("div",{className:"role-container-content-list"},c().createElement(fe.Z,{nameColumn:R,columns:T,rowKey:"id",dataSource:t,pagination:!1,loading:a,onChange:this.handleTableChange,rowSelection:k,headerTitle:this.headerTitle(),toolBarRender:this.toolBarRender,tableUUID:"fff1864c-e8da-4531-8160-802edaeb4a6e"})),c().createElement("div",{className:"role-container-pagination-wrapper"},c().createElement(n.Z,(0,p.Z)({},A,{onChange:this.handleTableChange,className:"role-container-pagination"})))),c().createElement(de,{visible:this.state.setDeptPerVisible,querySelectedUserId:this.props.selectedRowKeys.length>1?"":this.props.selectedRowKeys[0],onSure:this.setDeptPerSure,onCancel:this.setDeptPerCancel}),c().createElement(ye,(0,p.Z)({},V,{onCancel:this.closeSelfDefineUsers}))):null}}var qe=(0,x.$j)(he)((0,y.Z)()(ze)),ke=e(20136),xe=e(55241),ht=e(94184),Xe=e.n(ht),vt=e(59239),He=e(55446),gt=vt.Z.create({name:"form_in_modal"})(class extends c().Component{render(){var r=this.props,t=r.visible,a=r.onCancel,s=r.onCreate,d=r.form,v=r.title,f=r.roleName,k=r.t,A=d.getFieldDecorator;return c().createElement(w.ZP,{size:"small",visible:t,title:v,onCancel:a,onOk:s,footer:[c().createElement(N.Z,{key:"submit",type:"primary",onClick:s},k("common.save"))]},c().createElement(vt.Z,{layout:"vertical"},c().createElement(vt.Z.Item,{label:k("setting.roleName")},A("roleName",{initialValue:f,rules:[{required:!0,message:k("setting.addRoleNameTip")}]})(c().createElement(B.Z,{maxLength:15,placeholder:k("setting.roleNameInputTip")})))))}}),bt=(0,y.Z)()(gt),oa=e(2871),qt=B.Z.Search,Ft={getList:ee.ZP.Role.getList,del:ee.ZP.Role.deleteRole,add:ee.ZP.Role.addRole,edit:ee.ZP.Role.editRole};class Bt extends c().Component{constructor(){var r;super(...arguments);r=this,this.state={list:[],activeListItemId:"",popoverVisible:{},visible:!1,operateData:{id:"",value:"",type:"add"},delConfirmProps:{tempDeleteId:""}},this.getAppointRole=t=>{Q.WY.get({url:Ft.getList(),params:{}}).then(a=>{var s=a.data.data||[];this.props.onChangeRoleId(t),this.setState({list:s,activeListItemId:t})})},this.getList=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Q.WY.get({url:Ft.getList(),params:{keyword:t}}).then(s=>{var d=s.data.data||[],v=a?d.length?d[0].id:"":r.state.activeListItemId?r.state.activeListItemId:d.length?d[0].id:"";r.props.onChangeRoleId(v),r.setState({list:d,activeListItemId:v})})},this.searchChange=t=>{var a=t.target.value,s=t.type;s==="click"&&this.getList&&this.getList(a,!0)},this.handleSelectItem=t=>{t.id!==this.state.activeListItemId&&setTimeout(()=>{this.props.onChangeRoleId(t.id),this.setState({activeListItemId:t.id})},0)},this.setPopoverVisible=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=(0,i.Z)({},t);return Object.keys(s).forEach(d=>{s[d]=a}),s},this.handleAddRole=()=>{this.setState(t=>({popoverVisible:this.setPopoverVisible(t.popoverVisible),visible:!0,operateData:{id:"",value:"",type:"add"}}))},this.handleRename=(t,a)=>{a.stopPropagation(),this.setState(s=>({popoverVisible:this.setPopoverVisible(s.popoverVisible),visible:!0,operateData:{id:t.id,value:t.roleName,type:"rename"}}))},this.saveFormRef=t=>{this.formRef=t},this.handleCreate=()=>{var t=this.formRef.props.form;t.validateFields((a,s)=>{if(!a){if(!s.roleName.trim().length){E.default.warning(this.props.t("setting.addRoleNameTip"));return}var d=this.state.operateData.type,v=d==="add";this[v?"dockInterfaceAdd":"dockInterfaceRename"](s.roleName).then(()=>{this.handleResetModal(),this.getList()})}})},this.dockInterfaceAdd=t=>new Promise(a=>{Q.qg.post({url:Ft.add(),data:{roleName:t}}).then(s=>{var d=s.data,v=d.code,f=d.msg;E.default[v===0?"success":"warning"](f),a()})}),this.dockInterfaceRename=t=>new Promise(a=>{Q.qg.post({url:Ft.edit(),data:{id:this.state.operateData.id,roleName:t}}).then(s=>{var d=s.data,v=d.code,f=d.msg;E.default[v===0?"success":"warning"](f),a()})}),this.handleCancel=()=>{this.handleResetModal()},this.handleResetModal=()=>{var t=this.formRef.props.form;this.setState({visible:!1,operateData:{id:"",value:"",type:"add"}}),t.resetFields()},this.handleDelete=function(){var t=(0,C.Z)(b().mark(function a(s,d){var v,f,k,A;return b().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return d.stopPropagation(),v=r.props.t,R.next=4,(0,oa.$)("ROLE",s.id,v("searchInputPlaceholder.roles"));case 4:if(f=R.sent,!f){R.next=7;break}return R.abrupt("return");case 7:k=r.state.delConfirmProps,A=r,r.setState(T=>({popoverVisible:r.setPopoverVisible(T.popoverVisible),delConfirmProps:(0,i.Z)((0,i.Z)({},k),{},{tempDeleteId:s.id})}),()=>{S.Z.confirm({title:v("common.delete"),content:v("setting.deleteRoleTip"),onOk(){A.confirmOk()}})});case 10:case"end":return R.stop()}},a)}));return function(a,s){return t.apply(this,arguments)}}(),this.confirmOk=()=>{var t=this.state.delConfirmProps;Q.qg.post({url:Ft.del(),data:{id:t.tempDeleteId}}).then(a=>{var s=a.data,d=s.code,v=s.msg;E.default[d===0?"success":"warning"](v),this.setState({activeListItemId:"",delConfirmProps:(0,i.Z)((0,i.Z)({},t),{},{tempDeleteId:""})}),d===0&&this.getList()})},this.renderPopoverContent=t=>{var a=this.props.t,s=c().createElement("div",null,c().createElement("span",{className:"cl-block cl-padded cl-text-center cl-hover",style:{cursor:"pointer"},onClick:d=>this.handleDelete(t,d)},a("setting.deleteRoleLabel")),c().createElement("span",{className:"cl-block cl-padded cl-text-center cl-hover",style:{cursor:"pointer"},onClick:d=>this.handleRename(t,d)},a("setting.renameLabel")));return s},this.handlePopoverVisibleChange=t=>{var a=t.visible,s=t.id;this.setState(d=>({popoverVisible:(0,i.Z)((0,i.Z)({},d.popoverVisible),{},{["".concat(s)]:a})}))}}static getDerivedStateFromProps(r,t){var a=[...t.list],s=r.activeRoleInfo;return a.forEach(d=>{d.id===s.roleId&&(d.personNum=s.total)}),{list:a}}componentDidMount(){var r=this;return(0,C.Z)(b().mark(function t(){var a,s;return b().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(a=O.parse(G.m8.location.search),s=a.appointRoleId,!s){v.next=6;break}return v.next=4,r.getAppointRole(s);case 4:v.next=8;break;case 6:return v.next=8,r.getList();case 8:setTimeout(()=>{r.props.dispatch({type:"advancedSetting/judgeShowUpdateGuide",payload:{type:"deptHeads2"}})},200);case 9:case"end":return v.stop()}},t)}))()}render(){var r=this.props.t,t=this.state,a=t.list,s=t.activeListItemId,d=t.visible,v=t.operateData,f=t.popoverVisible,k={add:r("setting.addRole"),rename:r("setting.editRole")};return c().createElement("div",{className:"role-container__list"},c().createElement("div",{className:"role-container__list__title"},r("searchInputPlaceholder.roles")),c().createElement(qt,{placeholder:r("searchInputPlaceholder.role"),allowClear:!0,onChange:this.searchChange,onSearch:A=>{this.getList(A,!0)},className:"role-container__list__search"}),c().createElement("h1",{className:"role-container__list__add",onClick:this.handleAddRole},c().createElement(oe.Z,{iconClass:"icon-icon_addx"}),r("setting.addRole")),c().createElement("div",{className:"list-set-wrapper"},c().createElement("ul",{className:"role-container__list__set set"},a.map(A=>{var V=s===A.id,R=Xe()(["set__item",V?"active":""]),T=A.internal||!1;return c().createElement("li",{className:R,key:A.id,onClick:()=>{this.handleSelectItem(A)}},c().createElement(o.Z,{title:"".concat(A.roleName,"(").concat(A.personNum," ").concat(r("shareInfo.signLimitUnit"),")")},c().createElement("span",{id:A.id==="40000000"&&"guide-deptHeads2",className:"set__item__title"},A.roleName,"(",A.personNum," ",r("shareInfo.signLimitUnit"),")")),T?null:c().createElement(xe.Z,{key:A.id,content:this.renderPopoverContent(A),placement:"bottom",trigger:"hover",visible:f[A.id]||!1,onVisibleChange:z=>this.handlePopoverVisibleChange({visible:z,id:A.id})},c().createElement("span",{className:"set__item__icon"},c().createElement(oe.Z,{iconClass:"icon-icon_morex"}))))}))),c().createElement(bt,{wrappedComponentRef:this.saveFormRef,visible:d,title:k[v.type],roleName:v.value,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}var sa=(0,x.$j)()((0,y.Z)()(Bt)),Vt=e(11449),ea=e(85372),Kt=e(4408),na=e(26885),Qt=u=>({user:u.user}),xt={getList:ee.ZP.Role.getUsersByRoleId,deleteUsers:ee.ZP.Role.deleteUsers,appendUserRole:ee.ZP.Role.appendUserRole,getAuthGroupConfig:ee.ZP.Role.authGroupConfig};class le extends c().Component{constructor(){var r;super(...arguments);r=this,this.state={roleId:"",activeRoleInfo:{},org:{title:this.props.t("setting.addUser"),visible:!1,initData:{dept:[],group:[],post:[],user:[]},qyWeChatVo:""},sysRole:{},list:[],loading:!0,selectedRowKeys:[],paginationParams:{},authGroupConfig:!1},this.handleChange=t=>{this.getTableList(t)},this.getTableList=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"user_name",f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"";r.setState({loading:!0,roleId:t});var k={roleId:t,pageNumber:a,pageSize:s,keyword:d,type:v};v==="user_name"&&f!==""&&(k.userIds=f,k.keyword=""),Q.WY.get({url:xt.getList(),params:k}).then(A=>{var V=A.data,R=V.sysRole,T=V.userList,z=T.list,ve=T.pageNum,Ze=T.pageSize,Ke=T.total;r.setState(()=>({loading:!1,selectedRowKeys:[],sysRole:R||{},list:z,paginationParams:{total:Ke*1,current:ve,pageSize:Ze},activeRoleInfo:{roleId:t,total:Number(Ke)}}),()=>({activeRoleInfo:{}}))})},this.getAuthGroupConfig=()=>{Q.WY.get({url:xt.getAuthGroupConfig()}).then(t=>{this.setState({authGroupConfig:t.data.data==="true"})})},this.handleTableChange=t=>{var a=this.state.roleId,s=t.current,d=t.pageSize;this.getTableList(a,s,d)},this.handleSelectChange=t=>{this.setState({selectedRowKeys:t})},this.handleSelectWx=()=>{var t=this.props.user;(0,na.Sk)({}).then(a=>{(0,na.$f)({result:a,user:t,hasDefault:!1}).then(s=>{var d=s.qyWeChatVo,v=s.rangeList;this.setState({org:(0,i.Z)((0,i.Z)({},this.state.org),{},{qyWeChatVo:d})},()=>{this.AddUsersOkWithApi((0,i.Z)((0,i.Z)({},v),{},{users:v.user}))})})}).catch(()=>{this.setState({org:(0,i.Z)((0,i.Z)({},this.state.org),{},{visible:!1})})})},this.handleAddUsers=()=>{var t=localStorage.getItem("authorityType"),a=this.props.user.loginMode;if(a==="WE_COM"&&t==="1")this.handleSelectWx();else{var s=this.state.org;this.setState({org:(0,i.Z)((0,i.Z)({},s),{},{visible:!0})})}},this.handleAddUsersOk=t=>{var a=this.state.org;this.setState({org:(0,i.Z)((0,i.Z)({},a),{},{visible:!1})}),this.AddUsersOkWithApi(t)},this.AddUsersOkWithApi=t=>{var a=t.users,s=this.state.roleId,d=this.state.org.qyWeChatVo,v=a.map(f=>f.id);Q.qg.post({url:xt.appendUserRole(),data:{roleId:s,userIds:v.join(","),qy_we_chat_vo:d}}).then(f=>{var k=f.data,A=k.code,V=k.msg;A===0?(this.checkAuthUser(a),this.getTableList(s)):E.default.warning(V)})},this.handleAddUsersCancel=()=>{var t=this.state.org;this.setState({org:(0,i.Z)((0,i.Z)({},t),{},{visible:!1})})},this.handleDeleteUsers=()=>{var t=this.state.selectedRowKeys;this.deleteUsersWithApi(t)},this.deleteUsersWithApi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=r.state.roleId;Q.qg.post({url:xt.deleteUsers(),data:{roleId:a,departmentIds:"",userIds:t.join(",")}}).then(s=>{var d=s.data,v=d.code,f=d.msg;v===0?(E.default.success(r.props.t("common.deleteSuccess")),r.getTableList(a)):E.default.warning(f)})},this.handleToPermission=()=>{var t=this.state.roleId;this.props.history.push({pathname:"/enterprise/system/permission",search:O.stringify({roleId:t})})},this.setDeptPer=t=>{var a=this.props.t,s=ee.ZP.OrgTree.setDeptPer(window.localStorage.getItem("enterpriseId")),d={department_ids:t,user_ids:this.state.selectedRowKeys};Q.WY.post({url:s,data:d}).then(v=>{var f=v.msg;f?E.default.warning(f):(E.default.success(a("setting.setSuccess")),this.getTableList(this.state.roleId)),this.setState({selectedRowKeys:[]})})},this.search=(t,a,s)=>{this.getTableList(this.state.roleId,1,20,t,a,s)}}componentDidMount(){this.getAuthGroupConfig()}checkAuthUser(r){var t=this.props.t,a=this.state.org.qyWeChatVo,s=[...r],d={},v=!1;a&&(d=JSON.parse(a),d.selectedUserCount>s.length&&(v=!0)),v?E.default.warn("".concat(t("component.selected")).concat(d.selectedUserCount-s.length).concat(t("component.selectedErrorTips2"))):E.default.success(t("common.addSuccess"))}render(){var r=this.props.prefixCls,t=this.state,a=t.roleId,s=t.list,d=t.loading,v=t.sysRole,f=t.selectedRowKeys,k=t.paginationParams,A=t.org,V=t.activeRoleInfo,R=t.authGroupConfig;return c().createElement(Vt.Z,{pageContainerParams:{header:{title:this.props.t("setting.roleManage")}}},c().createElement(Kt.Z,{title:this.props.t("setting.roleManage")}),c().createElement("div",{className:r},c().createElement("div",{className:"".concat(r,"__main-content")},c().createElement(sa,{roleId:a,activeRoleInfo:V,onChangeRoleId:this.handleChange}),c().createElement(qe,{roleId:a,loading:d,sysRole:v,list:s,authGroupConfig:R,paginationParams:k,selectedRowKeys:f,onSelectChange:this.handleSelectChange,onTableChange:this.handleTableChange,onAdd:this.handleAddUsers,onDelete:this.handleDeleteUsers,onToPermission:this.handleToPermission,setDeptPer:this.setDeptPer,onSearch:this.search})),A.visible&&c().createElement(ea.Z,{onOk:this.handleAddUsersOk,onCancel:this.handleAddUsersCancel,tabs:["user"],visible:A.visible,title:this.props.t("common.addSome")})))}}le.defaultProps={prefixCls:"role-container"};var m=(0,x.$j)(Qt)((0,y.Z)()(le))},9849:function(Qe,se,e){"use strict";e.d(se,{Ej:function(){return c},kL:function(){return y},T:function(){return O},NU:function(){return x},FL:function(){return l},fn:function(){return n},bm:function(){return p},jY:function(){return P},Vs:function(){return I},li:function(){return h},Nl:function(){return o},YF:function(){return _},Q6:function(){return N},zW:function(){return Z},Zv:function(){return U},Qg:function(){return C},qc:function(){return g},Ve:function(){return M},rS:function(){return L},Rh:function(){return K}});var j=e(10237),E=e(37055),i=e(38642),W={zaraFlag:(0,i.UI)("ZARA_H5")};function c(B,F){var b=E.ZP.StudyProjectList.startStudy(B);return j.WY.post({url:b,data:F})}function y(B){var F=E.ZP.Common.enroll(B);return j.WY.post({url:F})}function O(B,F){var b=B.courseId,G=E.ZP.StudyProjectList.studyProject(b);return j.WY.get({url:G,params:F})}function x(B){var F=B.id,b=W.zaraFlag?E.m1.getAssessmentProjectInfo(F):E.m1.getProjectInfo(F);return j.WY.get({url:b})}function l(B){var F=B.courseId,b=E.ZP.EnterpriseCourse.addScanCount(F);return j.WY.post({url:b})}function n(){var B=E.ZP.StudyProjectList.getAccountInfo();return j.WY.get({url:B})}function p(B){var F=E.ZP.StudyProjectList.projectCertiUrl(B);return j.WY.get({url:F})}function P(B){var F=B.courseId,b=E.ZP.Courses.like(F);return j.WY.post({url:b})}function I(B){var F=E.ZP.EnterpriseCourse.addCommentAndScore();return j.qg.post({url:F,data:B})}function h(B){var F=E.ZP.EnterpriseCourse.getCourseComments();return j.WY.get({url:F,params:B})}function o(B){var F=E.ZP.EnterpriseCourse.addCommentAndScore();return j.qg.post({url:F,data:B})}function _(B){var F=E.ZP.EnterpriseCourse.deleteComment();return j.qg.post({url:F,data:B})}function N(B,F){var b=E.ZP.StudyProjectList.projectStudyRecord(B);return j.WY.get({url:b,params:F})}function Z(B){var F=E.ZP.DingSpaceId.getSpaceId();return j.WY.get({url:F,params:B})}function U(B,F){var b=E.ZP.PlatformCourse.learningUrl(B);return j.WY.get({url:b,params:F})}function C(B){var F=E.ZP.MyExamTask.examIntro({examId:B});return j.WY.get({url:F})}function g(B){var F=E.ZP.MyExamTask.examCheckStatus({examId:B});return j.WY.get({url:F})}function S(B,F){var b=CONFIG.Common.getOperateLog(B);return formDataRequest.get({url:b,params:F})}function M(B,F){var b=W.zaraFlag?E.ZP.StudyProjectList.changeCustomStatus(B):E.ZP.StudyProjectList.changeStatus(B);return j.WY.post({url:b,data:F})}function L(B){var F=E.ZP.StudyProjectList.getProjectReward(B);return j.WY.get({url:F})}function K(B){var F=E.ZP.subsidyGz.subsidyCourseSetting(B);return j.WY.get({url:F})}},14441:function(Qe,se,e){"use strict";e.d(se,{v:function(){return i},t:function(){return W}});var j=e(10237),E=e(5430);function i(c){var y=E.Fc.getUserName();return j.WY.get({url:y,params:{user_id:c}})}function W(c){var y=E.Fc.getDepartmentNames();return j.WY.post({url:y,data:{ids:c}})}},2871:function(Qe,se,e){"use strict";e.d(se,{$:function(){return l}});var j=e(71194),E=e(57016),i=e(57361),W=e(9754),c=e.n(W),y=e(78001),O=e(37055),x=e(10237),l=function(){var n=(0,i.Z)(c().mark(function p(P,I){var h,o,_,N,Z,U,C,g=arguments;return c().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return h=g.length>2&&g[2]!==void 0?g[2]:"",o=O.ZP.autoAssigned.getRuleQuote(),_={org_type:P,org_value:I},M.next=5,x.WY.get({url:o,params:_});case 5:if(N=M.sent,Z=N.data,U=Z.success,C=Z.data,U==="true"){M.next=10;break}return M.abrupt("return",!0);case 10:if(!C.list.length){M.next=13;break}return E.Z.warning({title:y.Z.t("autoAssign.notice"),content:y.Z.t("autoAssign.deleteDesc",{name:h.toLowerCase()}),okText:y.Z.t("common.close")}),M.abrupt("return",C.list);case 13:return M.abrupt("return",!1);case 14:case"end":return M.stop()}},p)}));return function(P,I){return n.apply(this,arguments)}}()},97593:function(Qe,se,e){"use strict";e.d(se,{N:function(){return x}});var j=e(34792),E=e(48086),i=e(37055),W={examinationPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/plan_exam_export"),pkReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/report/list_export"),pkReportDetails:l=>{var n=l.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(n,"/report/list_report")},pkReportDetailsDetails:l=>{var n=l.competitionId,p=l.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(p,"/pk/").concat(n,"/list_export")},opearationReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(i.ZP.enterpriseId,"/tutor_report_data/export"),courseDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v3/").concat(i.ZP.enterpriseId,"/courses/all/export"),taskReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesList"),taskReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_plans_archives_detail_export"),taskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/report/trainArchives/exportUserTrainArchivesDetailList/back-end"),personalTaskReportInfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/report/trainArchives/exportUserTrainArchivesDetailListToStudent"),selfReportedReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/course_archives_export"),selfReportedReportTotalDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/course_archives_detail_export"),exportTrainingMonthlyReport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(i.ZP.enterpriseId,"/excel/exportReport"),selfReportedinfo:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_course_archives_export"),authenticationReportSummary:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/qualification_archives_export"),authenticationReportDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/qualification_archives_detail_export"),authenticationReportDetailsDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(i.ZP.enterpriseId,"/user_qualification_archives_export"),studentFilesListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/list_export"),studentFilesDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/detailed_export"),staffTrainingSummaryExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/getStaffData"),studentExclusiveDetailExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/student_archives/youjia_list_export"),authInfo:l=>{var n=l.enterpriseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v2/").concat(n,"/dazheng/exportForm")},exportStudentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/learn_duration/student_export"),exportDepartmentRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/learn_duration/department_export"),creditRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRank"),creditRankingDetails:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/score/exportScoreRecord"),integralRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral/rank_export"),integralRankingDetails:l=>{var n=l.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/user/").concat(n,"/integral_export")},teacherImportPoints:l=>{var n=l.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecture/").concat(n,"/integral_list_export")},certificateRanking:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificate_ranks_export"),certificateRankingDetials:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificate_details_export"),signRecord:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/sign/export"),operationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/log/export"),zaraOperationLog:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/").concat(i.ZP.enterpriseId,"/zara/exportReport"),loginStatistic:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/userLoginIp/").concat(i.ZP.enterpriseId,"/user-detail/export"),studyProject:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_projects_export"),signAnalysisExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(l,"/sign-analysis-export"),signAnalysisDetailExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(l.id,"/sign-detail-export"),studyProjectMonitorExport:l=>{var n=l.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_projects/").concat(n,"/user_monitors_export")},studyProjectPaymentList:l=>{var n=l.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_project/").concat(n,"/study_project_transaction_export")},study_project_transaction_export:l=>{var n=l.projectId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/study_project/").concat(n,"/study_project_transaction_export")},courseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/courses/export"),whCourseManageSend:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/courses/exportV2"),liveDetail:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(i.ZP.enterpriseId,"/course/live/watchInfo/export"),liveDetailProject:l=>{var n=l.projectId,p=l.courseId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v1/").concat(i.ZP.enterpriseId,"/study_project/").concat(n,"/course/").concat(p,"/live_monitors/export")},graphicLessonStudentData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/export"),graphicLessonClientData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/course/imageText/client/export"),graphicLessonTaskList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/plan_exam_export"),certificate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificates_export"),certificatePeople:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/certificates/").concat(l.certificateId,"/users/export?type=").concat(l.typeStatus,"&access_token=").concat(localStorage.token),learningTaskManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/plan_study_export"),learningMonitor:l=>{var n=l.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/plans/").concat(n,"/monitors_export")},learningOffline:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportLatojaMonitorDetailList"),learningQuestionnairePaper:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/investigates/").concat(l.investigateId,"/statistics_export?access_token=").concat(localStorage.token),learningRateUser:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/rate_user_export"),learningWorkUserData:l=>{var n=l.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/operations/").concat(n,"/user_monitors_export")},huaLaiShiWorkUserData:l=>{var n=l.operationId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/operations/").concat(n,"/user_monitors_export")},learningFaceMonitor:l=>{var n=l.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/user-recognition/course/").concat(n,"/export")},learningDetailMonitor:l=>{var n=l.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/user-recognition/v2/course/").concat(n,"/export")},classLearningMonitor:l=>{var n=l.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/").concat(i.ZP.enterpriseId,"/study-record/plan/").concat(n,"/export")},employeeResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/plan/employeeTrain/exportTrainMonitor"),employeeQuestionnairePaper:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/investigates/").concat(l.investigateId,"/statistics_export?access_token=").concat(localStorage.token),exportExamResult:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportExamResult?access_token=").concat(localStorage.token),exportAnswerList:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(l.examId,"/export_detail?access_token=").concat(localStorage.token),exportAnswerDetails:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(l.examId,"/answer_detail_export?access_token=").concat(localStorage.token),exportQuestionAnalysis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/plan/exam/exportQuestionAnalysis?access_token=").concat(localStorage.token),exportMakeupExamMonitors:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/exam-api/v2/").concat(i.ZP.enterpriseId,"/exams/").concat(l.examId,"/makeupExam_monitors_export?access_token=").concat(localStorage.token),submitReportManagement:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v1/").concat(i.ZP.enterpriseId,"/submit/export"),exportPracticeMonitors:l=>{var n=l.practiceId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/practices/").concat(n,"/monitors/export")},exportPk_game:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/user/").concat(i.ZP.userId,"/list/export"),exportPkMonitor:l=>{var n=l.competitionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/competition/").concat(n,"/user/list/export")},exportPostMap:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/post_maps/").concat(l.mapId,"/users_export"),exportPowerMonitor:l=>{var n=l.abilityId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/qualifications/").concat(n,"/monitors_export")},exportQuestionnaire:l=>{var n=l.taskId,p=l.questionnaireId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/studies/").concat(n,"/investigates/").concat(p,"/statistics_export")},exportGoodsExchangeDetail:l=>{var n=l.goodsId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/").concat(n,"/export_orders")},teacherExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/teacher-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecture/export"),teacherLatojaImport:l=>{var n=l.lecturerId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/").concat(i.ZP.enterpriseId,"/lecturer/").concat(n,"/latojas/export")},clueStatis:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v1/clue/clueListExport"),postTalentAssessment:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v2/").concat(i.ZP.enterpriseId,"/export/plan/").concat(n,"/model")},offlineCrouseCheckIn:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(l,"/sign-analysis-export"),monitorUserExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/offline-courses/").concat(l,"/monitors-export"),evaluateAnalyzeExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/").concat(i.ZP.enterpriseId,"/course/").concat(l,"/evaluate-analysis/export-evaluate-info-list"),learnAbilityRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_learn_ability"),learnShareRank:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/study-power/export_share_ability"),coachAnalysisDetail:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/tutor-manager-api/v2/").concat(i.ZP.enterpriseId,"/plan/").concat(l.planId,"/tutorials/").concat(l.tutorialsId,"/evaluation_export"),offlineCourseListExport:l=>{var n=l.taskId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/offline-course/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/").concat(n,"/offline-course/list/export")},abilityModelListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(i.ZP.enterpriseId,"/post/ability_model/project/export"),selectUserTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(i.ZP.enterpriseId,"/users/").concat(i.ZP.userId,"/export_address_book"),resourceSettings:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/knowledge-api/v2/").concat(i.ZP.enterpriseId,"/resource_classifications/export"),evaluationResultExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/talentability/v1/").concat(i.ZP.enterpriseId,"/post/download"),learningTaskCourseExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/").concat(l,"/courses-export"),studyProjectCourseExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/study_projects/").concat(l,"/courses-export"),studyProjectPracticeExport:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training-manage-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/study_projects/").concat(l,"/practice-export"),trainingTandardsDetail:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/train-objective/v2/").concat(i.ZP.enterpriseId,"/objective/").concat(l,"/export"),trainingDemandExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/training-demands/export"),exportPlan:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/plans/export"),exportAnnualPlan:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training/v2/enterprises/").concat(i.ZP.enterpriseId,"/annual-plans/").concat(n,"/export")},courseDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/course_details/export"),loginDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/platform_overview/login_detail_export"),ExamDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/exam_details/export"),medalDetailsExportData:l=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/medal/group/").concat(l,"/user/detail/export"),trainDetailsExportData:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/").concat(i.ZP.enterpriseId,"/").concat(i.ZP.userId,"/train_details/export"),exportExamList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/export_exam_list"),exportNewExamResult:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/export-user-task")},exportNewExamAnswerList:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/export_student_detail")},exportNewExamAnswerListPDF:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/training-export-service/v2/enterprises/").concat(i.ZP.enterpriseId,"/exams/").concat(n,"/download")},exportQuestionAnswerDetails:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/export_question_answer")},exportAnswerDataList:l=>{var n=l.planId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/export-question-analysis")},exportSubmitList:l=>{var n=l.planId,p=l.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/user-id/").concat(p,"/export_user_submit")},exportFaceRecognitionRecord:l=>{var n=l.userId,p=l.examId,P=l.submitId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/users/").concat(n,"/exams/").concat(p,"/submit-id/").concat(P,"/export_face-info")},exportQuestionDetails:l=>{var n=l.planId,p=l.questionId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/new-exam-api/v2/enterprises/").concat(i.ZP.enterpriseId,"/exam-plan/").concat(n,"/export-question-user-result/").concat(p)},exportPointsDetail:l=>{var n=l.userId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/user/").concat(n,"/integral_export")},exportPointsList:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/integral/rank_export"),downloadPointsTemplate:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v3/").concat(i.ZP.enterpriseId,"/integral/import/download_template"),employeeTrainReportExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api/v3/plan/employeeTrain/authority/exportTrainMonitor"),exchangeRecordListExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/export_orders"),exchangeGoodRecordListExport:l=>{var n=l.goodId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/incentive-api/v2/").concat(i.ZP.enterpriseId,"/integral_mall/goods/").concat(n,"/export_orders")},exportLotteryOverview:l=>{var n=l.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/lottery/").concat(n,"/prizeOverview/export")},exportLotteryDetailList:l=>{var n=l.lotteryId;return"".concat("https://app123492.eapps.dingtalkcloud.com","/interaction-api/v1/").concat(i.ZP.enterpriseId,"/lottery/").concat(n,"/prizeDetail/list/export")},taskDownLoadImport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/evaluation-api/v1/").concat(i.ZP.enterpriseId,"/evaluation/relation/download"),pointCourseDetailsExport:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/customize-api/v3/ydt/records/export"),exportBelleGroupUsers:()=>"".concat("https://app123492.eapps.dingtalkcloud.com","/user-center-api/v2/").concat(i.ZP.enterpriseId,"/users/").concat(i.ZP.userId,"/group/export_address_book")},c=W,y=e(10237),O=e(31457),x=l=>{var n=l.page,p=l.props,P=l.query,I=P===void 0?"":P,h=l.rest,o=l.sendType,_=o===void 0?"get":o,N=l.success,Z=l.fail,U=Z===void 0?"":Z,C=c[n](h)+(_==="get"?I:""),g=y.WY[_];g.call(y.WY,_==="get"?{url:C}:{url:C,data:I}).then(S=>{if(C.includes("/v3/")&&S.success==="true"||S.data.code===0||S.data.code===200||S.data.code===2e5||S.data.code==="200000"||S.data.resultCode==="200"||S.data.result_code==="200")(0,O.Pp)(p),E.default.success(p.t("study.compoundSucceed")),N&&N({code:200});else{if(U){U(S);return}E.default.error(p.t("community.isError"))}})}},91648:function(Qe,se,e){"use strict";e.d(se,{Z:function(){return j}});function j(E,i){var W,c,y,O,W;if(c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),W=[],y=void 0,i=i||c.length,E)for(y=0;y<E;)W[y]=c[0|Math.random()*i],y++;else for(O=void 0,W[8]=W[13]=W[18]=W[23]="-",W[14]="4",y=0;y<36;)W[y]||(O=0|Math.random()*16,W[y]=c[y===19?O&3|8:O]),y++;return W.join("")}},86726:function(Qe,se,e){"use strict";e.d(se,{V9:function(){return E},H3:function(){return i},e:function(){return W},F:function(){return c}});var j=e(93485);function E(y){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=[];function l(n,p){var P=(0,j.Z)(p),I;try{for(P.s();!(I=P.n()).done;){var h=I.value;if(h.key===n){x=h.actions;break}h.children instanceof Array&&h.children.length&&l(y,h.children)}}catch(o){P.e(o)}finally{P.f()}}return l(y,O),x}function i(y){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=O.find(l=>l.key===y)||{};return x.checked||!1}function W(y){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=!1;function l(n,p){var P=(0,j.Z)(p),I;try{for(P.s();!(I=P.n()).done;){var h=I.value;if(h.key===n){x=h.checked;break}h.children instanceof Array&&h.children.length&&l(y,h.children)}}catch(o){P.e(o)}finally{P.f()}}return l(y,O),x}function c(y){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x="";function l(n,p){var P=(0,j.Z)(p),I;try{for(P.s();!(I=P.n()).done;){var h=I.value;if(h.key===n){x=h.id;break}h.children instanceof Array&&h.children.length&&l(y,h.children)}}catch(o){P.e(o)}finally{P.f()}}return l(y,O),x}},69164:function(Qe,se,e){"use strict";var j=e(34792),E=e(48086);function i(W){W&&W.length>0&&E.default.success(W)}se.Z=i},2396:function(Qe,se,e){"use strict";e.d(se,{fA:function(){return i},kh:function(){return W},kR:function(){return c},rw:function(){return O},$s:function(){return x},q_:function(){return l},QK:function(){return n}});var j=e(6793),E={limitWords(p,P){return{rules:[{max:p,message:"\u6700\u591A\u8F93\u5165".concat(p,"\u4E2A\u5B57")},{required:!0,message:P||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(p){return{rules:[{max:p,message:"\u6700\u591A\u8F93\u5165".concat(p,"\u4E2A\u6807\u7B7E")}]}},required(p){return{rules:[{required:!0,message:p||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(p,P){return{rules:[{required:!0,message:p||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:P}]}}},i={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s]|[ ]$/gi},W=p=>isNaN(p)||!p||!(p>=0&&p<1e3)||!i.score.test(p),c=p=>isNaN(p)||!p||!(p>-1e3&&p<1e3),y=p=>isNaN(p)||!p||!(p>=0&&p<1e3)||!i.examScore.test(p),O=(p,P)=>{for(var I=0,h=0;h<p.length;h++){var o=p.charAt(h);if(o.match(/[^\x00-\xff]/ig)!=null?I+=1:I+=.5,I>P)return h}return 0},x=p=>{for(var P=0,I=0;I<p.length;I++){var h=p.charAt(I);h.match(/[^\x00-\xff]/ig)!=null?P+=1:P+=.5}return P},l=(p,P)=>{var I=p.target.value,h=p.target.dataset.originLength;if(p.target.dataset.originLength||(h=P,p.target.dataset.originLength=h),!!h){var o=x(I);o*1<P*1?p.target.setAttribute("maxLength",P*2):p.target.setAttribute("maxLength",P)}},n=(p,P)=>{var I="";return(!p||!(0,j.fy)(p))&&(I=P),I}},26885:function(Qe,se,e){"use strict";e.d(se,{mw:function(){return h},kr:function(){return o},w8:function(){return _},Sk:function(){return Z},$f:function(){return U}});var j=e(34792),E=e(48086),i=e(88986),W=e(57361),c=e(9754),y=e.n(c),O=e(76651),x=e(78001),l=e(37055),n=e(10237),p=localStorage.getItem("corpId"),P=(C,g)=>{wx.config({beta:!0,debug:!1,appId:C.corpId||localStorage.getItem("corpId"),timestamp:C.timeStamp,nonceStr:C.nonceStr,signature:C.signature,jsApiList:["openDefaultBrowser","innerSaveWebPerformance"]}),wx.ready(()=>{g&&o()}),wx.error(S=>{console.log("error",S)})},I=(C,g)=>{wx.agentConfig({corpid:C.corpId,agentid:C.agentId,timestamp:C.timeStamp,nonceStr:C.nonceStr,signature:C.signature,jsApiList:["openDefaultBrowser","selectExternalContact","selectEnterpriseContact","selectPrivilegedContact","createChatWithMsg","openEnterpriseChat","openExistedChatWithMsg"],success:()=>{g("success"),(0,O.Qm)()._store.dispatch({type:"user/setWxWorkApiFlag",payload:{wxWorkApiFlag:(0,O.Qm)()._store.getState().user.wxWorkApiFlag+=1}})},fail:S=>{S.errMsg.indexOf("function not exist")>-1&&alert("\u7248\u672C\u8FC7\u4F4E\u8BF7\u5347\u7EA7")}})},h=(C,g,S)=>{window.wx.openEnterpriseChat({userIds:C.join(";"),groupName:g.title,chatId:"",success:function(L){var K=L.chatId;window.wx.invoke("openExistedChatWithMsg",{chatId:K,msg:{msgtype:"link",link:{title:g.title,desc:g.desc,url:g.url,imgUrl:g.imgUrl}}},function(B){B.err_msg=="openExistedChatWithMsg:ok"&&S&&S(K)})},fail:function(L){L.errMsg.indexOf("function not exist")>-1&&alert("\u7248\u672C\u8FC7\u4F4E\u8BF7\u5347\u7EA7")}})},o=function(){var C=(0,W.Z)(y().mark(function g(S){var M,L,K,B,F,b,G=arguments;return y().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return M=G.length>1&&G[1]!==void 0?G[1]:()=>{},L=l.ZP.util.getAppSignature(),K=window.location.href.split("#")[0],B=S||l.ZP.enterpriseId,X.next=6,n.WY.get({url:L,params:{enterprise_id:B,url:K,batch_id:""}});case 6:F=X.sent,b=F.data,I(b,M);case 9:case"end":return X.stop()}},g)}));return function(S){return C.apply(this,arguments)}}(),_=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(navigator.userAgent.toLowerCase().indexOf("wxwork")>-1){var M=l.ZP.util.getCorpSignature(),L=window.location.href.split("#")[0];n.WY.get({url:M,params:{enterprise_id:l.ZP.enterpriseId,url:L,batch_id:S}}).then(K=>{var B=K.data;P(B,g)})}else g&&o()},N=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=CONFIG.util.getSignature(),M=window.location.href;request.get({url:S,params:{corpId:p,url:M,uuid:""}}).then(L=>{var K=L.data;P(K,g)})},Z=C=>{var g=C.userIds,S=g===void 0?[]:g,M=C.deptIds,L=M===void 0?[]:M,K=C.mode,B=K===void 0?"multi":K;return new Promise((F,b)=>{window.wx.invoke("selectPrivilegedContact",{fromDepartmentId:0,mode:B,selectedContextContact:0,selectedOpenUserIds:S||[],selectedTickets:L||[]},G=>{G.err_msg==="selectPrivilegedContact:ok"?(typeof G.result=="string"&&(G.result=JSON.parse(G.result)),F(G.result)):G.err_msg==="selectPrivilegedContact:cancel"&&b("cancel")})})},U=C=>{var g=C.type,S=g===void 0?"employeeRange":g,M=C.result,L=M===void 0?{}:M,K=C.user,B=K===void 0?{}:K,F=C.reserveUser,b=F===void 0?[]:F,G=C.rangeType,q=G===void 0?"all":G,X=C.hasDefault,oe=X===void 0?!0:X;return new Promise(fe=>{var ee=L.userList,Oe=ee===void 0?[]:ee,We=L.selectedUserCount,Ce=Oe||[];if(S==="employeeRange"){var $e=B.unionid,Ne="";!Oe.length&&We?(oe&&(Ce.push({id:$e,unionid:$e,openUserId:$e}),L.userList=[{id:$e,unionid:$e,openUserId:$e}],L.selectedUserCount+=1),Ne=!0):Ne=!1;var me={dept:[],post:[],group:[],user:Ce.map(ce=>(0,i.Z)((0,i.Z)({},ce),{},{unionid:ce.openUserId,id:ce.openUserId,user_id:ce.openUserId,source_type:"wx_sync"})),classes:[],cluster:[]};q==="onlyDeptUser"&&(me={dept:[],user:Ce.map(ce=>(0,i.Z)((0,i.Z)({},ce),{},{unionid:ce.openUserId,id:ce.openUserId,user_id:ce.openUserId,source_type:"wx_sync"}))});var Be={isShowType:Ne,qyWeChatVo:JSON.stringify(L),rangeList:me},Le=L.selectedUserCount-me.user.length;Le>0&&(Ne&&oe?E.default.warning(x.Z.t("component.selectedErrorTips",{count:Le})):E.default.warning(x.Z.t("component.selectedErrorTips2",{count:Le}))),fe(Be)}if(S==="supervision"){Oe&&(Ce.find(ce=>ce.openUserId===(b[0].unionid||b[0].user_id||b[0].name))&&(L.selectedUserCount-=1),Ce=Ce.filter(ce=>ce.openUserId!==b[0].unionid&&ce.openUserId!==b[0].user_id&&ce.openUserId!==b[0].name).map(ce=>ce));var Me=Ce.map(ce=>(0,i.Z)((0,i.Z)({},ce),{},{unionid:ce.openUserId,id:ce.openUserId,user_id:ce.openUserId,source_type:"wx_sync"})),be={qyWeChatVo:JSON.stringify(L),user:Me},tt=L.selectedUserCount-Me.length;tt>0&&E.default.warning(x.Z.t("component.selectedErrorTips2",{count:tt})),fe(be)}if(S==="normal"){var Ue=Ce.map(ce=>(0,i.Z)((0,i.Z)({},ce),{},{unionid:ce.openUserId,id:ce.openUserId,user_id:ce.openUserId,source_type:"wx_sync",qyWeChatVo:JSON.stringify(L)})),ot={qyWeChatVo:JSON.stringify(L),user:Ue},et=L.selectedUserCount-Ue.length;et>0&&E.default.warning(x.Z.t("component.selectedErrorTips2",{count:et})),fe(ot)}})}},4412:function(Qe){Qe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACPCAYAAAD0gYXiAAAW/ElEQVR4Xu2dCZAcV3mA/9fHaGZ2V9qVdlejvbQ7O7NaWdqNTbgxlmVbxkeME3AcHJwqKhCC44AJV0zZjg8ScwRDqLIMwUnsJEAKF4aCGEIigyVjAthQMTLWbcnyCmmtY6/Znav7vT/190yvenp7prtHM5Lm6NLUaHve1f/X//W6+zWD5lazEmA1O/LmwKEJr4ZPgia8JrwalkAND72peU14NSyBGh56U/N8wkNE6ZVXXrlIUZQrEPG5vr6+H/tsomLFm/A8iHJ6enowlUptYYxdwTm/HABWIaJZ89uqqn4sEokc8tBURYs04TmIc2ZmpiOTyVwmhLiCgAkhYlTMBObwnQaALwaDwfu7u7vnK0qoRGNNeDkogZmZmTdrmmZoFyL+rhBCLgbMCs8G8igAfHJgYODfGWOLqlktmA0JDxHZ9PT0GCJuAQCC9VZEbHGCYgJ00rpimggAzwohbhsaGvp5tcBRuw0Hb3p6+osAcBMiribhu0FxBJRKA2Q1wOWtBfVtZUnzvp7JZG5ft27db6sBsaHgzc7OXiuEeKIYtKJmUteBvTwBbM8BkPYeBPbKEQBZBn3zm0G77GJAVTHYOIFmjJEP/AwiPjA0NES+sWJbw8BDRHV2dvY3iDhSwmflANDn2KsAew4YwNj+l4Fls45CxxXLIft7l4N+0RggnHZzDifIywDw8Wg0+q1K0WsYeHNzcx/lnH++aNQ4MwewZz/A7gM5aHMJXzIWg32Quf4q4P1rSkWlwBjbAQC3RaPRX/vqwKFwQ8BLJBLdnPN9ALCiQOt+OwnwzLMAu/fnNK0Cm/a634Hs1ZeBaGtZYkpNbWSMcUT8J0S8Kx6Pnyi324aANzc391VE/LMCU6ZzwPu+ADB5vFzZFa2HywKQvfxiyL719QCKAkKIxbI2k70tHo9fWe4A6h7e9PT0RbIsP2fmbabZFD/6CcA3v1eu3DzVEys7IHPdFaBtGClmSlOyLK8sN5Cpe3hzc3M7EPGSAl+XmAdx52cBkilPEM60kB4bhPR1W4BHupZAFEJsGRkZebKcPuoaXjKZ/ENd1x+zBynia48D7vhZOfIquw5KDFI3vxOyF8QLTCgifjYej99eTsN1C29iYiLU0dGxWwixtgDexFHgn/oCgKj67NUSHtqFGyB50/WG9lkmtn8Vi8Ve24RnkcDCwsJdQoj77Ikz//yXAfccKEdWZ1xHtLZA4s4PLWaD+bGJYDDY3dfXd8pvB3Wpeclksg8R9wghjHjdBCh+tRP4Q4/6lVFFy89/+H2gR7rsacQfxeNxw7z72eoV3teEEO+2mCbArAbanZ8BODnlRz4VL5u+9nLIXPIGu+l8OBaLvd9vZ3UHT9O0N2Wz2Z/SlQOryeTffxLEt3/gVz4VL6+NRCH53nfZ4b0ci8WG/HZWV/AIWCqV+gUivq4gGZ6ZBe2TnwbIZPzKpyLlWVsLKBvXgzq2HpT1cTiSSoKQcqK3WId4LBbz5YzrCl4qlXoPIj5ii+ZAe/jrIP73uYqA8NSIqoIyGgN1/AIDmDzYD0ySFqtO7t4DyWWBgpSBMXbL8PDwVzy1ny9UN/BOnDjR1trauhcR11i1Thw8DNqn6BJeFTfGDEAmLALHAqfh2HuenZyEqVSqwHQyxh4fHh6+wc8o6wZeJpMZFULstqcG2fu/BGLfQT8y8VRW6u4EZWx9DtjGUZDaWkvWo3HxiaOgvbAb0ocnYObqSxfNZn7M08PDw52MsdMToS4jqRt4dJypVGoCEftMX0JCyX5uKyBdNTjDjbWEQdk4etoURrpdW+RT06C/sBu0nbsNaDgzmwPGGCT+5q9AhJYV+D1Jkt4QjUafdW243swmHU8mk3mEc/4eKzz+xJOgP/6EV3mcLqcqoKyLGT7L8FvRtQV+y6lBkUqDvmsvaDt3GbDEkWNF+03e/A7QxkYLTKckSXdEo9H7vQ623jSPcruvmfDom3xeli79uG0MQF7bn4sIyRSOxoFZggqn6sg56PsPgfbCLtB37gb9wEEA7s3qZd/4Gkj9wVX2iertsVhss9tQzd/rCh7dVJROp49RyrAIUAhIf/AOgIXkEpmwzpWgjl0A6vh6UDeuB2lFm7vf+u0k6C/sypnCXXsB6GakMjaxqgMSn7hl0Wzm/V4mHA6v7OnpWTpYhz7qCh4dXzqd/rUQYtxqOrWtj4L45fPAwqGc38oHGvKa1a5iF5QjGj4rZwpxasa1jtcCidtvBd6+vMDvAcDVsVjsh17aqEd4DyDiRwqumu89AIHWVlCGB139FqYzoO3al4O1czeIiarctQeiYwXMf+zPARWlwHQyxu4eHh6+r1HhXY2IPyhIGRLzEF7tHB0afuullw2fZfguSis49yK7MyqTooBlfL3d5yWDweBob2/vhJfG607zEDGcyWSmhBBGHG5qYFDTQW5fYciEH51cjAj1F/cCnqUr6iYQPToAyQ/8id3f0d/3Dg8P3+MFHJWpO3h0UKlU6ilENLJgUwPZ7n3An33eMIV46txdWaAcL3nbe4H35PytxUJMhEKhUa/BSj3DuwMA/tbq9/hzz4O29RGvJ3XVymlveA2kb7hmidYxxv54aGjoP/x0XJeal81mX885p6sLp4U0vwAZShlOP1fnR04VKYvBZZC8/VYQLWG71v00Go1e7LeTuoSHiHI6nT6BiB1W05S59wHAQ6/4lVHFymffvgWyl7zRrnVCkqTXr1279ld+O6pLeCSEdDr9OCK+w6p92reeAP7ENr8yqkh50bUKUh//AGD+0pDlOt6/DA4OvrecTuoZ3i2I+JDV74ld+4yJ6nOxpd93E/D1udv+LGOaC4VCI6tXry7rXvt6hhdDxP0F+Z6uQ/bL/wp0I9LZ3PhoDDLvf/eSG24B4K/Xrl37uXLHUrfw8qbzkBBi0BaSg9i9H/RvfAfwCD2FXN2NzGTmE7eA6O60wzswMDCwgTHm/OyYh2HVO7yHEfF99tsijL85B77jZ8C/818A8wseRFVeEX3TG0H7/dzVA+vdbLIsX9/b23tGD0vUO7y3AcB3rbMtNp8DuJAE/t3/BvHjZwAsT/OUh6qwFraEIXPHhwBDQeMH82khSZK29fX1lf10kNlLXcPLm86YEIIu6F1XMFltyQENwR6dBPHN7wH+Zs8ZccOOdhDrhkGsiwKPRwFaw3at04UQF65du/bFM+qoXqfHnISSTqe3cM7/AQAuWKJ9FpMmdu4yIMKrHp95DAVBjEQB1w0DrouB6Fppjyjtvu7B/v7+D54pOKpf95pnFRIiKqlUilKIv0fEZQUzMFZN5BzEj54BpJzQfrFVlgGjA4CjMYDRGIj+XgCJlXyU2RIwnaJn4vv7+ysyudpQ8EiIx48fv0SW5e2yLDNZNtbJKb6cBz3H950fAhw6DEA52mgMMD4EEAgUmELHgMg6NZf/P2PsL3t7eyuWaDYUPFr07dSpU78EgIsMs8MYKIoCkiQVXU/Ffithqb+dfmOMzQohtgPAtp6enq/Q8+iVMJkNZzZPnTpFz6V/1S48gkdaSDCLmVIf0DTG2M+FEE/SZ9++fc9u3rxZrxQwazvnjeY99dRTfYFAYGtbW9vbq3KgjEF3d7cBqUhAA5xzWL58+aImegFGVhcAdiGiAUuSpO1na/G48wLe9u3b3wQAtPRhpq2tzXiStdLbihf2Qks4DPCW1wFYnhswfd7x48cNeAS3vb0dWlpaigYhuq6nZVmmxXC2EbSurq7qT9U4COScw3v66affwzknX7BMVdXD1YCnpDLQ/eCjwNIZwN41ADdeBzASXRTH/Pw8zM3NFYgnEAhAR0cH0Dcl15lMBpLJ5MmTJ092ptNpMrGU/N+8efPms7ZEo53fOYP32GOPyd3d3TQp+xFzUNWC1/nDHbDsucIFh/CijQDvvAZ4+wqKQAumrqxCUlUVNE0zdmWz2cPz8/OLloEx9gIAXL9p06azvlDqOQtY7rnnHunSSy/9PgBcZRNUxTUveGIKVv3j152voCsKzNz2p7AQzk1fuW12ePnyJxljV27atOn/3OpX+vdzonkvvvhia3d3t7G4l3Wylv4UQhSMyWuobrZla48azIEz/hUu7GbUsUSY1vEUCfux4G7s/Pg553eOjY39XaXhuLV3TuAdP368VZKkxBJB2+Ybi4ErCsqlvh2O3/6LwW0oeKR5kUhkEZ5ViE55lpPQvOyjtszczX4ieKlvnvlOE9rW+rquN47m0ZrOU1NTxgPi9qklN9NlN7VeoLhpsFubbvUbFl4pWE5w/cAqVd/LSeK1PgB8eHR09EtuPqrSv58Tn0eaNz09nbGbSyfzWUkhu2mQV1Nqb4cxduu6deseqjQct/bOKTwnc1XM/7kJ1ouWlmrbS/1iJ1LDwvNiNq1lstksLCwsFCxAav5OZ+JKkEDqWuV40lLd2dn8c+GWO6cpqKFpMZpNcfN/Rfx0Y2nezMyMY8BSyqfpug4nT54sak2W/2YftP3nNsDNbwG45jKA4Onkm9qluuZsiVMjy5YtA5pR8QrQUq4x4fnxaclkcskcpAlB1nRYvfXfgCXyU41trYDXvw3gTa81rnRT3ZmZ0k+1kvaFw7l7TooBdNI8MpvxeLxxfN7s7OxiwOLVF5HZm5pyvoNg5Y5fQOjpXyxVqIFeEDdeB6+2BJeYWnth0rpgXluLBVNOY21IeG5BiFN0SLP/pEXWLTCXgE7SOt35InXihmtgbr3xLqeiG12QJa2zX1UvNkarBjYcvLm5uSWa5zWHo0s0dO3NFKCcWAApf+OsPemn5YG17s4lZtBuFgmaFxNeJJ1pLLNphVeOBpYRVJT0ZX5SFIeyjQfPtGHFkmcvmlhKW5yCCy9tepk8sJVpwiulgaUEWi5AL2ay1Alg+a2x4CUSicU8z4vw3cykn6kvN2iUtDu9haRYPURsLHjz8/OuAUu5c51e8jQ3gMVOliLW4dbh4eHGyfOs8Lxqnt2EeQkySmlsBes3FryFhQVD87wI0EmT/GhOJTW4SL+NCc+rLzuLkaNjvudysjQePK/5nR9z6SdiLbd/ez0KWBrK55HZdMvzKqVtXn2qnxzQaoqFEI0FL5lMlp0q+PGT5YLz0ofZNs1tDg4ONk60WQyeqY1+8iy73/RjZksFQ141seHgpVKponmek7n0E12WW9/Bl5nnkmMQY9HOxtI8Kzy/gUO5vrAUHC9a5lQ/f19oY8FLp9OeZ1is/qccDfSajpQDkNomszkwMFB/Pm9qaoqWIvwLXdcv0TSti3N+Qtf1n65Zs+bGcoVVqXnMUhrs5SSxBix1BY9WXkgmk1/inN+iaRqjm4esn56eHs/JcKWEXO5Mi1vECgD1pXnpdHor55w0rgCa+Xdvb6/r8hdO5s5LCF8Kkpf6fhP9uoKnadrFiPi0k8ZZ4fkVkh8zWyVIxj0u5rgpnaEPIj7POf/nVCr16IYNG87ak7JVuWOac/4NXddvKqZ1tJ80z9zcoJQC4TVSPVM/SbcF0scEZn7TvTQWiK/quv6h0dFR3+9/LchJPP5RFXhCiCOapvUWg0cH7GQ2ywVRbfNKa7XQx7zxqRRAIQQ9IHrH+vXrP+2RQdnFqgKPc57RdT1QSvP6+ow3pS2aIDftc9PSatUnaOaiAh7hEWQC+K4NGzZUVQOrAs9N8whqf3+/r4DFiw/zUsZPCkBlzTuoi4FzMp/5sq8yxmLV9IFVgefm88hsmprnxxd50S4v/tErZLvWlQBV4AstfvCD4+PjD5ZtF10qVgWel2hzYGDAVfO8gPCrSV7AmWVCoZDxWLSLjzNuALaXyWvfk+Pj41tqCh4N1i3Pc4JXbsBSLcjmKkhWMHZQJcAR0KPj4+Onw+oKU6yK5uUhlJxhIXhOAYsJ0OtsSLHyXudDS/XX2tq6RKtcYC1qIJVDxOzY2FjuxbBV2KoCj9Yq2bdvX08mkxlub2+/MhAI0HrKcSFEq6Zp85qm7R8cHHwNvXnkfNM26wllDVa8+jurliLiSVVVLxwZGTnKGDu9CEyFQFYU3sGDB1enUil68wMt8VTyjIvFYh+VJMlYMtgKsJQmeAluvPjAUoGPtT49bGn3eU6aV2wfALzIGKP1remugcOhUGh/NBot6wUYTrzPGN7+/fuXCSGGhBAxWZZLv3TVMoKWlpb+SCRyFyK2Wk2c3yvopcB7CU6c6pv7rMl5Mc1zSiFMmIyxR1VV/R+b4OcQ8SVJkg7F4/HF+3jKUcay4U1OTraQliHigBAiN+HnsplrXZqPZ7W2tna2t7dfyxgjB7jYhk+YdAwsv6xU7jt3hVSi/yO1i8AQkPYtlhUCpdw+WmcbGa23Y5RHkauX39/W1tZOV0j85nmIOK0oyq2SJKVMsViPX5IkwRh7hbQxEomU9WIH3/Bo6an5+flhxljkfFhgXJIkhTGmIKKa+5ZUxoTxjUjfqJLwcx+mInIFABWdiwCC8bsiBCpC5yrtFwiK4JoqBCgCudrR3t4XiUQu5JwzH34PJUn6dCAQ+InbCZ1bRwgnU6nUS34Tes/w6CCPHDkyiIg9jM7sEhvNoFg3Mj/Wrdjv9v3FurC2xzmXA4EAaYZKH0lSjf9LElOE0FXOCV4OKM+DBAEqMlS4pqkCqB6oIHiuDRSK4Ej7FeRC5ZyrkcjqkY6OjnUmwFLpApEAgIdVVf2GOX4vx0/HTqlFNBo9xBjztKyxJ3iTk5PdmUymPxAIOK/x63J6eYVlP0gPZy1ZSNIIVQimShKqTFEMCKRxBkSU6NvQQAOeAZOrKDFF17QAlWGkfQRRz50A9OEoVBBC4VxQGaW9fUV/Z+eqDRSIFcv7EPEUY+yBcDj8o3JO1vzkty7L8pFIJHLc7fhLwiNtm5yc7GOMeQ5E3Dqsxu9kOjmXVEniqiQRLPpwVbAcPGOSPA/UMKOcq8hIM3mA/i8AjH2L4AwN5CqBQ2qHG54zoUhysre3p0VRlI1CiGFd1+nlitOc85cA4KlgMEjvBvL0gno3OSBiIhKJHCmlhUXhHT16NBwOh1dns9lCm+fW6zn4nbEgkySNTFyAS5IqcQNeAFGoTJVU1ISqaVqAwOqY00oqC3mQBBck0JBDGplIyoxRADGvBINzKmNz4XD4rF1gtYovEAjoyWTy1WIvAXaER6+rnpqaoveqeDKr54DXki51XVYJoCzLAdJCxpgqRCaQ00IyfVyWJJkjIhdCaEJkNQA1raqBZCgkJ4U1RzkfDig/hlAohKFQaIoxtkSjl8BBxJZkMrmc6iaTSUd44XDYcbbALF/sd1MmfsvZZenUfjqdljVNUyUpJMOy/EmXAQyQYeRcDwaDi0FANfq3yqsax9/Z2TnLchZhcSuAMzExEWpvb28rBo0maq0brQHmZzPrF6tnHnSzf2el6e7unmOMLeaNi/DIDyQSiRV+YDTLnn0JtLW1kQYay80b8PKzE8tnZ2cdZ0oSiYSj+Wxrayswn2Y5r/vNQzfzxnyOtEQizf5Py7+lpYV3dHSQBhrTRXDo0KHgihUrqnbp4uyfn/XdI63bNjQ0lDbg0ZRXV1eX5yM+caLwxYBe65Zbzz6wctspt9752D+9r4gmY5Vjx47lVgm1bWvWrCkwi8eOHTNgF9vvmb7Hgs3+S8pfI3i0Oqjh6w4cOOBJrLFY4Qp6Zj37fk+NWQo1+/clf2Fonl8hN8ufHxIgeNK9995bMJq77777rI6u2X958q+Z6a+zejbVSGdNeDUCymmYTXhNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjoTc1rwqthCdTw0Jua14RXwxKo4aE3Na8Jr4YlUMNDb2peE14NS6CGh97UvCa8GpZADQ+9qXlNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjo/w+0S4IKs9Wq0AAAAABJRU5ErkJggg=="}}]);
