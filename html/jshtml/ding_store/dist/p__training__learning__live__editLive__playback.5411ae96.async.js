(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[9542],{11110:function(ce,z,a){"use strict";var M=a(88986),E=a(12924),g=a.n(E),j=a(28216),V=a(38642);class r extends g().Component{constructor(m){super(m);this.initMessage=()=>{var O=localStorage.getItem("appType");this.removeScript(),((S,K,F,B)=>{S[F]=function(){S.cbk=S.cbk||[],S.cbk.push(arguments)},B=K.createElement("script"),B.async=!0,B.id="zhichiScript",B.className=this.props.activeBtn||"zhiCustomBtn",B.src="https://kuxueyuan.sobot.com/chat/frame/v2/entrance.js?sysnum=98a88d91298542da9ca5a7c2a2bc89ba",K.body.appendChild(B)})(window,document,"zc");var C=4;switch(O){case"e_app":C=1;break;case"wx_app":C=2;break;case"fs_app":C=3;break;default:break}zc("config",(0,M.Z)({robotid:C,custom:!0},this.state.messageParams)),zc("dynamic_ready")},this.removeScript=()=>{var O=document.querySelector("#zhichiScript");O&&O.parentNode.removeChild(O);var C=document.querySelector("#zc__sdk__container");C&&C.parentNode.removeChild(C);var S=document.querySelector("#zc__wapper__shadow");S&&S.parentNode.removeChild(S);var K=document.querySelector("#zc__bubble_container");K&&K.parentNode.removeChild(K)},this.state={messageParams:{uname:m.user.name,realname:"".concat(m.user.enterpriseName,"--").concat(m.user.name),face:m.user.avatar,title_flag:m.user.enterpriseName,tel:m.user.mobile,is_vip:m.user.isVip,color:localStorage.getItem("themeColor")&&localStorage.getItem("themeColor").split("#")[1]||"516AE6"}},this.props.onRef(this)}componentDidMount(){this.setState({},()=>{this.initMessage()}),(0,V.UI)("SCALE")&&(window.onmessage=m=>{m.data==='{"name":"init"}'&&m.origin==="https://kuxueyuan.sobot.com"&&(document.getElementById("zc__sdk__container").style.zoom=(0,V.uN)(.8).zoom)})}componentWillUnmount(){this.removeScript()}render(){return null}}z.Z=(0,j.$j)(t=>({user:t.user}))(r)},34522:function(ce,z,a){"use strict";var M=a(88986),E=a(57361),g=a(9754),j=a.n(g),V=a(12924),r=a.n(V),t=a(28216),m=a(80991),O=a(43859),C=a(84874),S=a(31151),K=a(60667);class F extends r().Component{constructor(e){var s;super(e);s=this,this.onSelectTeacher=function(){var D=(0,E.Z)(j().mark(function L(Z){var x,Q,G,Y,l;return j().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(x=s.props,Q=x.onHiddenDialog,G=x.onFieldChange,Y=x.beforeSelected,!Y){b.next=7;break}return b.next=4,Y(Z);case 4:if(l=b.sent,l){b.next=7;break}return b.abrupt("return");case 7:Q&&Q(),s.setState({teacherSelectorVisible:!1}),G&&G((0,M.Z)((0,M.Z)({},Z),{},{name:Z.lecturer_name,lecturer_name:Z.lecturer_name,type:Z.teacher_sync_type,lecturer_sync_user_id:Z.teacher_sync_user_id,lecturer_source_type:Z.teacher_sync_source_type}));case 10:case"end":return b.stop()}},L)}));return function(L){return D.apply(this,arguments)}}(),this.onCancelSelectTeacher=()=>{var D=this.props.onHiddenDialog;D&&D(),this.setState({teacherSelectorVisible:!1})},this.onCancelSelected=()=>{var D=this.props.onFieldChange;D&&D("")},this.onShowSelectTeacher=()=>{var D=this.props.onShowDialog;D&&D(),this.setState({teacherSelectorVisible:!0})},this.state={teacherSelectorVisible:!1}}render(){var e=this.state.teacherSelectorVisible,s=this.props.value,D=this.props,L=D.disabled,Z=D.canCancel,x=D.isInternal,Q=localStorage.getItem("themeColor")||"#516AE6";return r().createElement("div",{className:"offline-train-form-teacher"},s.name?Z&&!L?r().createElement("span",{className:"teacher_name_with_delete",style:{color:Q},onClick:this.onCancelSelected},r().createElement("span",{className:"teacher_name"},s.type==="inside"?r().createElement(K.Z,{dataType:"userName",value:s.lecturer_sync_user_id,name:s.lecturer_name||s.name,type:s.lecturer_source_type}):s.name),r().createElement("span",{className:"icon_container"},r().createElement(C.Z,{iconClass:"icon-f-close",size:"10px"}))):r().createElement("span",{className:"offline-train-form-teacher_name",style:{color:Q}},s.type==="inside"?r().createElement(K.Z,{dataType:"userName",value:s.lecturer_sync_user_id,name:s.lecturer_name||s.name,type:s.lecturer_source_type}):s.name):null,L?r().createElement("span",{className:"add-teacher-btn add-teacher-btn-disabled"},r().createElement(C.Z,{iconClass:"iconf-add-man"})):r().createElement("span",{className:"add-teacher-btn add-teacher-btn_able",style:{color:Q,borderColor:Q},onClick:this.onShowSelectTeacher},r().createElement(C.Z,{iconClass:"iconf-add-man"})),r().createElement(S.Z,{visible:e,selected:s,isInternal:x,onOk:this.onSelectTeacher,onCancel:this.onCancelSelectTeacher}),x&&r().createElement("span",{className:"internal-teacher-tip",style:{marginLeft:"20px"}},this.props.t("live.onlyInner")))}}F.defaultProps={value:void 0,disabled:!1,canCancel:!1,isInternal:!1};var B=$=>{var e=$.user;return{user:e}};z.Z=(0,t.$j)(B)((0,O.Z)((0,m.$j)(F)))},65893:function(ce,z,a){"use strict";var M=a(62029),E=a(36017),g=a(35247),j=a(81211),V=a(12924),r=a.n(V),t=a(91768),m=a(76651),O=a(66380),C=a.n(O),S=a(84874),K=F=>{var B=F.current,$=F.onBackFun,e=F.list,s=(0,j.Z)(F,["current","onBackFun","list"]),D=()=>{typeof $=="function"?$():m.m8.go(-1)},L=(Z,x)=>{Z.linkToPath&&typeof Z.linkToPath=="function"?Z.linkToPath():m.m8.push(Z.path)};return r().createElement("div",(0,M.Z)({className:C()["breadcrumb-router-box"]},s),r().createElement(g.Z,null,r().createElement("span",{className:C()["back-router"],onClick:D},r().createElement(S.Z,{iconClass:"icon-fanhui",size:"14px"})),e.map((Z,x)=>r().createElement(g.Z.Item,{key:"Breadcrumb__".concat(x)},B==Z.path?Z.name:r().createElement("span",{className:C()["cl-pointer-menu"],onClick:L.bind(void 0,Z)},Z.name)))))};K.defaultProps={current:"",list:[]},z.Z=(0,t.Z)()(K)},72538:function(ce,z,a){"use strict";a.d(z,{I4:function(){return M},K5:function(){return g}});var M={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},E={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:24},sm:{span:24}}},g={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},j={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:18,offset:3}}}},17381:function(ce,z,a){"use strict";a.d(z,{Xs:function(){return j},fV:function(){return V},_w:function(){return r},G5:function(){return t},g2:function(){return m},uy:function(){return O},il:function(){return C},y2:function(){return S},$k:function(){return F},gm:function(){return $},C:function(){return e},Wl:function(){return s},ZS:function(){return D},XZ:function(){return L},LI:function(){return Z},fR:function(){return Q},Pt:function(){return G}});var M=a(37055),E=a(10237),g=a(5430);function j(l){var f=l.login_mobile,b=l.verification_code,R=l.password,H=l.encrypt,A=M.ZP.Login.clResetPassword();return E.WY.post({url:A,data:{login_mobile:f,verification_code:b,password:R,encrypt:H}})}function V(){var l=M.ZP.points.getPointsCategory();return E.WY.get({url:l})}function r(l){var f=l.login_mobile,b=l.verification_code,R=l.password,H=l.encrypt,A=M.ZP.Login.bindUserAccount();return E.WY.post({url:A,data:{login_mobile:f,verification_code:b,password:R,encrypt:H}})}function t(l){var f=l.action_type,b=l.login_mobile,R=M.ZP.Login.bindSendVerification();return E.WY.post({url:R,data:{action_type:f,login_mobile:b}})}function m(l){var f=l.action_type,b=l.login_mobile,R=l.enterpriseId,H=M.ZP.Login.clSendVerification();return E.WY.post({url:H,data:{action_type:f,login_mobile:b,enterprise_id:R}})}function O(l){var f=M.ZP.advancedSetting.identityQuery();return E.WY.get({url:f,params:l})}function C(l){var f=M.ZP.advancedSetting.saveIdentity();return E.WY.post({url:f,data:l})}function S(l){var f=M.ZP.advancedSetting.isShowAuth();return E.WY.get({url:f,data:l})}function K(l){return request.get({url:CONFIG.lineClass.getOfflineCourseBasicById(l)})}function F(l){return E.WY.get({url:M.ZP.lineClassStudy.coursesInfo(l)})}function B(l,f){return request.get({url:CONFIG.lineClassStudy.getAttendanceInfo(l),params:{type:f}})}function $(l){return E.WY.get({url:M.ZP.lineClassStudy.getStuAttendanceInfo(l),params:{}})}function e(l){var f=M.ZP.learn.getShowLearnStatus(l);return E.WY.get({url:f})}function s(l){var f=l.examId,b=l.taskId,R=g.OB.examData.examTaskInfo(f);return E.WY.get({url:R,params:{task_id:b}})}function D(l){var f=g.OB.examData.getExamsTaskList();return E.WY.get({url:f,params:l})}function L(l,f){var b=g.OB.examData.checkStatus(l);return E.WY.get({url:b,params:{task_id:f}})}function Z(){var l=M.ZP.lineClass.whetherLecture();return E.WY.get({url:l})}function x(){var l=TRAINING_PROJECT_LIST.personal.list();return request.get({url:l})}function Q(l){var f=l.startTime,b=l.endTime,R=l.excludeSelf,H=R===void 0?!1:R,A=l.pageNumber,X=l.pageSize,he=M.ZP.Personal.exportMyScore();return E.WY.get({url:he,params:{startTime:f,endTime:b,excludeSelf:H,pageNumber:A,pageSize:X}})}function G(l,f){var b=f.begin_time,R=f.end_time,H=f.page_number,A=f.page_size,X=f.integral_type,he=M.ZP.points.getUserPointsDetail(l);return E.WY.get({url:he,params:{begin_time:b,end_time:R,page_number:H,page_size:A,integral_type:X}})}function Y(l){var f=l.integral_type,b=l.update_reason,R=l.begin_time,H=l.end_time,A=CONFIG.points.exportPointsDetail();return request.post({url:A,params:{integral_type:f,update_reason:b,begin_time:R,end_time:H}})}},90365:function(ce,z,a){"use strict";var M=a(71194),E=a(57016),g=a(57663),j=a(71577),V=a(12924),r=a.n(V),t=a(91768),m=a(11110),O=C=>{var S=C.t,K=C.visible,F=C.type,B=C.edit,$=e=>{e?C.addAction(B):C.cancelAction()};return r().createElement(r().Fragment,null,r().createElement(E.Z,{className:"edit_live",visible:K,maskClosable:!1,onCancel:()=>$(!1),footer:null},r().createElement("div",{className:"edit_live-warning"},r().createElement("div",{className:"edit_live-warning-icons"},"!"),r().createElement("div",{className:"edit_live-warning-title"},F==="no_check_allow"?S("live.hasOverman"):F==="no_live_course"?S("live.hasNoDingTalk"):"")),r().createElement("div",{className:"edit_live-warning-content"},F==="no_check_allow"?S("live.hasOvermanDescribe"):F==="no_live_course"?S("live.hasNoDingTalkDesc"):""),r().createElement("div",{className:"edit_live-button"},r().createElement(j.Z,{className:"form-page-container-bottom-btn",onClick:()=>$(!1)},F==="no_check_allow"?S("common.cancel"):F==="no_live_course"?S("common.unactivated"):""),F==="no_check_allow"?r().createElement(j.Z,{type:"primary",onClick:()=>$(!0)},S("common.continue")):null,F==="no_live_course"?r().createElement("div",null,r().createElement(j.Z,{type:"primary",className:"recharge"},S("live.goPay")),r().createElement(m.Z,{onRef:e=>{var s=e},options:{type:1},activeBtn:"recharge"})):null)))};z.Z=(0,t.Z)()(O)},81150:function(ce,z,a){"use strict";a.d(z,{fL:function(){return at},aV:function(){return nt},n5:function(){return et},kz:function(){return qe},lR:function(){return lt},JD:function(){return tt}});var M=a(77576),E=a(59314),g=a(62029),j=a(43358),V=a(34041),r=a(12924),t=a.n(r),m=a(91768),O=a(80991),C=a(78140),S=V.Z.Option,K=n=>{var i=n.t,o=n.defaultFieldList,c=n.formik,d=n.disabled,v=_=>{c.setFieldValue("remindTime",{open:_,time:o.time})},P=_=>{c.setFieldValue("remindTime",{open:o.open,time:_})};return t().createElement(t().Fragment,null,t().createElement(E.Z,(0,g.Z)({},o.open,{disabled:d,onChange:v,defaultChecked:o.open,style:{marginRight:15}})),o.open&&t().createElement(t().Fragment,null,t().createElement(V.Z,{className:"cl-search-normal-width",placeholder:i("course.chooseStatus"),onChange:P,disabled:d,style:{marginRight:"10px"},value:o.time},C.$2.map(_=>t().createElement(S,{key:_.value,value:_.value},i(_.label))))),t().createElement("span",{className:"remindTip"},i("live.startRemind")))},F=(0,m.Z)()((0,O.$j)(K)),B=a(39002),$=a(68351);class e extends t().Component{render(){var i=(0,g.Z)({},this.props);return t().createElement($.Z,i)}}var s=(0,m.Z)()(e),D=a(47673),L=a(4107),Z=a(47166),x=a.n(Z),Q=a(64018),G=a.n(Q),Y=x().bind(G()),l=n=>{var i=n.t,o=n.switchProps,c=n.inputProps,d=n.defaultFieldList,v=n.formik,P=n.disabled,_=n.style,q=le=>{v.setFieldValue("ddGroup",{switchValue:le,groupName:d.groupName})},se=le=>{v.setFieldValue("ddGroup",{switchValue:d.switchValue,groupName:le.target.value})};return t().createElement("div",{className:Y("create-dd-group")},t().createElement("div",{className:Y("select-part")},t().createElement(E.Z,(0,g.Z)({disabled:P},o,{onChange:q,style:{marginRight:15},defaultChecked:d.switchValue})),t().createElement("span",{className:"dingGroupTip"},i("ddLive.dingGroupInfo"))),d.switchValue&&t().createElement("div",{className:Y("select-content")},t().createElement("div",{className:Y("create-item")},t().createElement("div",{className:Y("label")},i("ddLive.dingGroupName")),t().createElement("div",{className:Y("content")},t().createElement(L.Z,(0,g.Z)({disabled:P,placeholder:i("live.inputGroutName")},c,{onChange:se,value:d.groupName,style:_}))))))},f=(0,m.Z)()((0,O.$j)(l)),b=a(88983),R=a(47933),H=n=>{var i=n.t,o=n.formik,c=n.defaultValue,d=v=>{o.setFieldValue("studyType",v.target.value)};return t().createElement(t().Fragment,null,t().createElement(R.ZP.Group,{onChange:d,value:c},t().createElement(R.ZP,{value:""},i("course.courseStudyTypeDefault")),t().createElement(R.ZP,{value:"requiredCourse"},i("course.courseStudyTypeTrue")),t().createElement(R.ZP,{value:"notRequiredCourse"},i("course.courseStudyTypeFalse"))))},A=(0,m.Z)()((0,O.$j)(H)),X=a(71194),he=a(57016),Ve=a(43185),Me=a(53251),ke=a(34792),ie=a(48086),ne=a(33565),ge=a(96486),pe=a(37055),Ae={upload:pe.ZP.Common.upload},We=n=>{var i=n.t,o=n.formik,c=n.defaultValue,d=n.disabled,v=c?[{uid:"-1",name:"default",url:c,status:"done"}]:[],P=(0,r.useState)(v),_=(0,ne.Z)(P,2),q=_[0],se=_[1],le=(0,r.useState)(!1),oe=(0,ne.Z)(le,2),ve=oe[0],J=oe[1],Te=(0,r.useState)(c),Ee=(0,ne.Z)(Te,2),Pe=Ee[0],fe=Ee[1],_e=h=>{var ee=["jpeg","jpg","png"],ae=h.type.split("/").pop(),Ie=ee.indexOf(ae.toLocaleLowerCase())>-1;Ie||ie.default.error(i("setting.uploadImgTip"));var Se=h.size/1024/1024<1;return Se||ie.default.error(i("ddLive.imgSizeLimit")),Ie&&Se},ye=h=>{var ee=h.file,ae=h.fileList;if(ae.length!==0){if(ae.length>1&&ae.splice(0,1),!_e(ee))return;ee.status==="done"?(ie.default.success("".concat(h.file.name," ").concat(i("course.courseDetailCoverSuccess"))),o.setFieldValue("picIntroductionUrl","".concat(ee.response.data.server,"/").concat(ee.response.data.fileNewName))):ee.status==="error"&&ie.default.error("".concat(h.file.name," ").concat(i("course.courseDetailCoverFailure")))}se((0,ge.cloneDeep)(ae))},Oe=h=>{fe(h.thumbUrl||h.url),J(!0)},Ce=()=>{J(!1)},be=()=>{o.setFieldValue("picIntroductionUrl","")},De={name:"file",accept:"image/*",action:Ae.upload(),data:{access_token:localStorage.token},fileList:q,onChange:ye,onPreview:Oe,onRemove:be};return t().createElement(t().Fragment,null,t().createElement(Me.Z,(0,g.Z)({className:"image-desc"},De,{beforeUpload:_e,listType:"picture-card",disabled:d,size:{value:1,unit:"MB"},maxCount:1}),(0,ge.isEmpty)(q)?t().createElement("div",null,t().createElement("div",{style:{fontSize:"30px"}},"+")):null),t().createElement("div",{style:{position:"absolute",left:120,top:70,color:"rgba(0,0,0,0.25)"}},i("ddLive.imgLimit")),t().createElement(he.Z,{visible:ve,title:i("ddLive.previewImg"),footer:null,onCancel:Ce},t().createElement("img",{alt:"example",style:{width:"100%"},src:Pe})))},Be=(0,m.Z)()((0,O.$j)(We)),Ue={upload:pe.ZP.Common.upload},Ze=n=>{var i=n.t,o=n.formik,c=n.defaultValue,d=n.disabled,v=c?[{uid:"-1",name:"default",url:c,status:"done"}]:[],P=(0,r.useState)(v),_=(0,ne.Z)(P,2),q=_[0],se=_[1],le=(0,r.useState)(!1),oe=(0,ne.Z)(le,2),ve=oe[0],J=oe[1],Te=(0,r.useState)(c),Ee=(0,ne.Z)(Te,2),Pe=Ee[0],fe=Ee[1],_e=h=>{var ee=["jpeg","jpg","png"],ae=h.type.split("/").pop(),Ie=ee.indexOf(ae.toLocaleLowerCase())>-1;Ie||ie.default.error(i("setting.uploadImgTip"));var Se=h.size/1024/1024<1;return Se||ie.default.error(i("ddLive.imgSizeLimit")),Ie&&Se},ye=h=>{var ee=h.file,ae=h.fileList;if(ae.length!==0){if(ae.length>1&&ae.splice(0,1),!_e(ee))return;ee.status==="done"?(ie.default.success("".concat(h.file.name," ").concat(i("course.courseDetailCoverSuccess"))),o.setFieldValue("splashImg","".concat(ee.response.data.server,"/").concat(ee.response.data.fileNewName))):ee.status==="error"&&ie.default.error("".concat(h.file.name," ").concat(i("course.courseDetailCoverFailure")))}se((0,ge.cloneDeep)(ae))},Oe=h=>{fe(h.thumbUrl||h.url),J(!0)},Ce=()=>{J(!1)},be=()=>{o.setFieldValue("splashImg","")},De={name:"file",accept:"image/*",action:Ue.upload(),data:{access_token:localStorage.token},fileList:q,onChange:ye,onPreview:Oe,onRemove:be};return t().createElement(t().Fragment,null,t().createElement(Me.Z,(0,g.Z)({className:"image-desc"},De,{beforeUpload:_e,listType:"picture-card",disabled:d,size:{value:1,unit:"MB"},maxCount:1}),(0,ge.isEmpty)(q)?t().createElement("div",null,t().createElement("div",{style:{fontSize:"30px"}},"+")):null),t().createElement("div",{style:{position:"absolute",left:120,top:70,color:"rgba(0,0,0,0.25)"}},i("ddLive.imgLimit")),t().createElement(he.Z,{visible:ve,title:i("ddLive.previewImg"),footer:null,onCancel:Ce},t().createElement("img",{alt:"example",style:{width:"100%"},src:Pe})))},Ne=(0,m.Z)()((0,O.$j)(Ze)),k=a(77883),T=a(21888),p=a(63185),I=a(9676),u=n=>{var i=n.t,o=n.formik,c=n.defaultValue,d=P=>{o.setFieldValue("studyLimit.score",P)},v=P=>{var _=P.target.checked;o.setFieldValue("studyLimit",{checked:_,score:c.score})};return t().createElement(t().Fragment,null,t().createElement("span",null,t().createElement(I.Z,{onChange:v,checked:c.checked}),t().createElement(T.Z,{min:1,max:100,style:{margin:"0 10px"},value:c.score===0?90:c.score,disabled:!c.checked,onChange:d}),t().createElement("span",null,"%"),t().createElement("span",{className:"info-part"},i("ddLive.watchInfo"))))},y=(0,m.Z)()((0,O.$j)(u)),N=V.Z.Option,W=n=>{var i=n.t,o=n.formik,c=n.prefixCls,d=n.defaultValue,v=n.disabled,P=_=>{o.setFieldValue("liveType",_)};return t().createElement(t().Fragment,null,t().createElement(V.Z,{defaultValue:d,style:{width:180},className:"".concat(c,"__select"),disabled:v,onChange:P},(0,C.ZT)().map(_=>t().createElement(N,{key:_.value,value:_.value},i(_.label)))))},re=(0,m.Z)()((0,O.$j)(W)),Ke=n=>{var i=n.t,o=n.defaultValue,c=n.formik,d=n.disabled,v=P=>{c.setFieldValue("makePublic",P)};return t().createElement(t().Fragment,null,t().createElement(E.Z,{disabled:d,onChange:v,defaultChecked:o,style:{marginRight:15}}),t().createElement("span",{className:"makePublicTip"},i("live.makePublicTip")))},ue=(0,m.Z)()((0,O.$j)(Ke)),de=n=>{var i=n.t,o=n.formik,c=n.value,d=n.liveTemplateOptions,v=n.disabled,P=_=>{o.setFieldValue("scene",_.target.value)};return t().createElement(t().Fragment,null,t().createElement(R.ZP.Group,{onChange:P,disabled:v,value:c},d.map(_=>t().createElement(R.ZP,{key:_.value,value:_.value},i(_.label)))))},Re=(0,m.Z)()((0,O.$j)(de)),U=a(58024),me=a(39144),w=a(79508);class Le extends t().Component{constructor(i){super(i);this.setTrainingScene=(o,c)=>{var d=this.props,v=d.formik,P=d.disabled;if(P)return!1;var _=this.state.listCard;_.map(q=>{q.key==c.key?q.active=!0:q.active=!1}),this.setState({listCard:_}),v.setFieldValue("makePublic",c.key===2)},this.state={listCard:C.z2}}componentDidMount(){var i=this.props,o=i.sceneType,c=i.value;C.z2.map(d=>{o==="Live"&&c===!1&&d.key===1||o==="Live"&&c===!0&&d.key===2||o==="meeting"&&d.key===3?d.active=!0:d.active=!1}),o==="Live"?this.setState({listCard:C.z2.filter(d=>d.key<3)}):o==="meeting"&&this.setState({listCard:C.z2.filter(d=>d.key>=3)})}render(){var i=this.state.listCard,o=this.props,c=o.disabled,d=o.t;return t().createElement(t().Fragment,null,t().createElement("div",{className:"training-scena"},i.map((v,P)=>t().createElement(me.Z,{className:"training-scena_item ".concat(v.active?c?"active_disabled":"active":c?"disabled":""),key:P,onClick:_=>this.setTrainingScene(_,v)},t().createElement("p",{className:"training-scena_item_title ".concat(v.active?c?"active-item_disabled":"active-item":c?"active-item_disabled":"")},d(v.title)),t().createElement("p",{className:"training-scena_item_desc ".concat(v.active?c?"active-item_disabled":"active-item":c?"active-item_disabled":"")},d(v.describe)),t().createElement("div",{className:"".concat(v.active?c?"active-right_disabled":"active-right":"")},v.active&&t().createElement(w.Z,{style:{fontSize:"12px"}}))))))}}var we=(0,m.Z)()((0,O.$j)(Le)),Fe=a(91302),xe=a(11110),je=V.Z.Option,ze=n=>{var i=n.t,o=n.formik,c=n.prefixCls,d=n.defaultValue,v=n.polyWeiLiveConfig,P=n.recordList,_=n.scene,q=n.disabled,se=n.defaultMember,le=se===void 0?"":se,oe=n.showTextDescription,ve=oe===void 0?!0:oe,J=localStorage.getItem("themeColor")||"#516AE6",Te=h=>{ye(h.target.value),o.setFieldValue("liveType",h.target.value)},Ee=h=>{De(Fe.mY[h]),o.setFieldValue("memberCardType",h)},Pe=(0,r.useState)(d),fe=(0,ne.Z)(Pe,2),_e=fe[0],ye=fe[1],Oe=(0,r.useState)(Fe.mY[le]),Ce=(0,ne.Z)(Oe,2),be=Ce[0],De=Ce[1];return(0,r.useEffect)(()=>{P.length&&!le&&(De(Fe.mY[P[0].memberCardType]),o.setFieldValue("memberCardType",P[0].memberCardType))},[P]),(0,r.useEffect)(()=>{var h=(0,C.ZT)(!v);h.length===1&&(ye(h[0].value),o.setFieldValue("liveType",h[0].value),o.setFieldValue("memberCardType",h[0].value))},[v]),t().createElement(t().Fragment,null,t().createElement(R.ZP.Group,{onChange:Te,value:_e,buttonStyle:"solid"},(0,C.ZT)(!v).map(h=>t().createElement(R.ZP.Button,{key:h.value,disabled:q,value:h.value},i(h.label)))),_e==="poly_wei"&&t().createElement(t().Fragment,null,t().createElement("div",null,t().createElement("span",null,i("live.remaining"),t().createElement("span",{style:{color:J},className:v.remained_duration>99?"".concat(c,"_charge_info"):"".concat(c,"_charge_danger")},v.remained_duration),i("common.minutes")),t().createElement("span",{className:"".concat(c,"__recharge recharge"),style:{color:J}},i("live.goRecharge")),t().createElement(xe.Z,{onRef:h=>{var ee=h},options:{type:1},activeBtn:"recharge"})),t().createElement("div",null,i("live.polyWeiChannel"))),_e==="live_course"&&t().createElement("div",null,P.length==0&&_===!0&&ve?t().createElement("div",{style:{color:"#F03A3A"}},i("live.doNotSupport")):"",P.length==0&&_===!1&&ve?t().createElement("div",null,i("live.innerDingDescibe")):"",P.length>0?t().createElement(t().Fragment,null,t().createElement("div",null,i("live.dingTalkChannel")),t().createElement("div",null,i("live.liveChannel"),"\uFF1A",t().createElement(V.Z,{style:{width:180},className:"".concat(c,"__select"),onChange:Ee,value:be+i("live.liveRoomNumber"),disabled:q},P.map(h=>t().createElement(je,{key:h.memberName,value:h.memberCardType},Fe.mY[h.memberCardType],i("live.liveRoomNumber")))),t().createElement("div",null,i("live.dingTalkOverman")))):t().createElement("div",null,ve?t().createElement(t().Fragment,null,i("live.adviceOpen"),"\u300C",t().createElement("span",{style:{color:J}},i("live.commercialChannel")),"\u300D",i("live.supportAbility"),t().createElement("span",{className:"".concat(c,"__recharge recharge"),style:{color:J}},i("live.goPay"))):null,t().createElement(xe.Z,{onRef:()=>{},options:{type:1},activeBtn:"recharge"}))))},Ge=(0,m.Z)()((0,O.$j)(ze)),$e=n=>{var i=n.t,o=n.formik,c=n.name,d=n.value,v=n.describe,P=_=>{o.setFieldValue(c,_)};return t().createElement(t().Fragment,null,t().createElement(E.Z,{checkedChildren:i("live.on"),unCheckedChildren:i("live.off"),checked:d,onChange:P}),v?t().createElement("div",{className:"switch-choose__describe"},v):"")},Ye=(0,m.Z)()((0,O.$j)($e));class He extends t().Component{constructor(i){super(i);this.handleChangeChecbox=o=>{var c=o.target.checked;this.props.formik.setFieldValue("credit",{checked:c,score:this.props.defaultFieldList.score})},this.handleChangeInput=o=>{this.props.formik.setFieldValue("credit",{checked:this.props.defaultFieldList.checked,score:o})},this.renderInput=()=>{var o=this.props,c=o.defaultFieldList,d=o.defaultDisable,v=o.t;return t().createElement("span",null,t().createElement(T.Z,{precision:0,min:0,max:999,value:c.score,disabled:!d,onChange:this.handleChangeInput}),t().createElement("span",{className:"info-part-right"},v("live.replayPerson")))}}render(){return t().createElement(t().Fragment,null,this.renderInput())}}var Je=(0,O.$j)((0,m.Z)()(He)),Qe=n=>{var i=n.t,o=n.formik,c=n.defaultStudyValue,d=n.defaultFieldList,v=n.defaultDisable,P=(0,r.useState)(v),_=(0,ne.Z)(P,2),q=_[0],se=_[1],le=J=>{se(J),o.setFieldValue("studyLimit.checked",J),o.setFieldValue("credit.checked",J)},oe=J=>{o.setFieldValue("studyLimit.score",J)},ve=J=>{o.setFieldValue("credit.score",J)};return t().createElement(t().Fragment,null,t().createElement("div",{className:"complete-standard"},t().createElement(E.Z,{className:"complete-standard__switch",checkedChildren:i("live.on"),unCheckedChildren:i("live.off"),checked:q,onChange:le}),q?t().createElement(t().Fragment,null,t().createElement("div",{className:"complete-standard__study"},t().createElement("span",null,i("live.theProgress")),t().createElement(T.Z,{min:1,max:100,className:"complete-standard__study__input",value:c.score===0?90:c.score,onChange:oe}),t().createElement("span",null,"%")),t().createElement("div",{className:"complete-standard__score"},t().createElement("span",null,i("live.reward")),t().createElement(T.Z,{precision:0,min:1,max:999,className:"complete-standard__score__input",value:d.score,onChange:ve}),t().createElement("span",null,i("live.score")))):null),t().createElement("div",{className:"complete-standard__tips"},i("live.replayPerson")))},Xe=(0,m.Z)()((0,O.$j)(Qe)),te=a(43859),qe=(0,te.Z)(F),it=(0,te.Z)(s),rt=(0,te.Z)(f),st=(0,te.Z)(A),ot=(0,te.Z)(Be),ct=(0,te.Z)(Ne),ut=(0,te.Z)(y),dt=(0,te.Z)(re),mt=(0,te.Z)(ue),et=(0,te.Z)(Re),tt=(0,te.Z)(we),at=(0,te.Z)(Ge),lt=(0,te.Z)(Ye),vt=(0,te.Z)(Je),nt=(0,te.Z)(Xe)},52111:function(ce,z,a){"use strict";a.d(z,{eS:function(){return O},WW:function(){return C},u9:function(){return K},Pe:function(){return F},rU:function(){return $}});var M=a(78138),E=a.n(M),g=a(6793),j=a(3407),V=(0,g.me)(),r=j.Z[V],t=j.Z[V].ddLive.validation;function m(s){for(var D=0,L=0;L<s.length;L++)D+=1;return D}var O=s=>(0,g.fy)(s)?m((0,g.fy)(s))>60?t.courseNameLimit:"":t.courseNameNull,C=s=>m((0,g.fy)(s))>150?t.ddInstronction:"",S=s=>{if(!s.switchValue)return"";var D=s.groupName;return trim(D)?m(trim(D))>20?t.groupameLimit:"":t.groupNameNull},K=(s,D)=>D||s.id?"":r.employeeSummary.chooseTeacher,F=(s,D)=>{if(D)return"";if(!s)return t.chooseStartTime;var L=E()(new Date(s)).valueOf(),Z=E()(new Date).valueOf();return L<Z?t.timeBefore:""},B=(s,D)=>D||s?"":t.chooseImage,$=(s,D,L)=>{if(L)return"";var Z=Number(s.time)*6e4,x=E()(new Date(D)).valueOf(),Q=E()(new Date).valueOf();return x-Z<Q&&s.open?t.remindTimeInfo:""},e=s=>{var D=s?"":t.classifyNull;return D}},78140:function(ce,z,a){"use strict";a.d(z,{SP:function(){return V},zv:function(){return r},mc:function(){return t},O7:function(){return m},Ib:function(){return O},ZT:function(){return C},z2:function(){return S},xu:function(){return K},$2:function(){return F},iy:function(){return B},wL:function(){return $}});var M=a(88986),E=a(78138),g=a.n(E),j=a(2019);function V(e){var s=e.classify,D=e.covers,L=e.employeeRange,Z=e.title,x=e.liveType,Q=e.splashImg,G=e.scene,Y=e.memberCardType,l=L.rangeList,f=l.dept,b=l.group,R=l.post,H=l.user,A=(0,M.Z)((0,M.Z)({title:Z,bizType:x,liveType:x,memberCardType:Y,splashImg:Q},D),{},{courseClassify:s,startTime:e.datePicker instanceof Object?e.datePicker.valueOf():Date.parse(e.datePicker.replace(/\-/g,"/")),remindStatus:e.remindTime.open?"true":"false",minute:e.remindTime.time,chatStatus:e.ddGroup.switchValue?"create":"not",dingGroupName:e.ddGroup.groupName,teacherId:e.teacher.id,makePublic:"".concat(e.makePublic),introduction:e.introduction,picIntroductionUrl:e.picIntroductionUrl,studyType:e.studyType,tags:"",studyTimeLimit:e.studyLimit.checked?e.studyLimit.score:0,credit:e.credit.checked?e.credit.score:0,isAll:L.rangeType,departmentIds:f.map(X=>X.id).join(","),postIds:R.map(X=>X.id).join(","),groupIds:b.map(X=>X.id).join(","),userIds:H.map(X=>X.id).join(","),syncProgress:e.syncProgress===0||e.syncProgress===!1?"false":"true",download:e.download===0||e.download===!1?"false":"true",commentSwitch:e.commentSwitch?1:0});return e.tagGroup&&Array.isArray(e.tagGroup.tagsNameList)&&(A.tags=e.tagGroup.tagsNameList.map(X=>X.tag_name).join(",")),x==="poly_wei"&&(A.scene=G),A}function r(e){var s={title:e.title,covers:{coverType:e.coverType,cover:e.cover,baseCover:e.baseCover},bizType:e.liveType,liveType:e.liveType,datePicker:g()(parseInt(e.startTime)).format("YYYY-MM-DD HH:mm:ss"),classify:e.courseClassify,classifyName:e.classifyName,classify_name:e.classifyName,teacher:{name:e.teacherName||"",id:e.teacherId},makePublic:e.makePublic==="true",introduction:e.introduction,picIntroductionUrl:e.picIntroductionUrl,employeeRange:{rangeType:e.isAll,rangeList:{dept:e.departmentList||[],post:e.postList||[],group:e.groupList||[],user:e.userList||[]}},remindTime:{open:e.remindStatus==="true",time:"".concat(e.minute)},ddGroup:{switchValue:e.chatStatus==="create",groupName:e.dingGroupName},splashImg:e.splashImg,credit:{checked:e.credit!==0,score:e.credit===0?1:e.credit},studyLimit:{checked:e.studyTimeLimit!==0,score:e.studyTimeLimit===0?90:e.studyTimeLimit},complete:e.credit!==0&&e.studyTimeLimit!==0,studyType:e.studyType,syncProgress:e.syncProgress==="false"?0:1,download:e.download==="false"?0:1,commentSwitch:e.commentSwitch?1:0,memberCardType:e.memberCardType};return e.liveType==="poly_wei"&&(s.scene=e.scene||B[0].value),s}function t(e){var s={endTime:Number(e.endTime),startTime:Number(e.startTime),updateTime:Number(e.updateTime)};return Object.assign(e,s)}var m=[{value:"",label:"live.allLiveChannel"},{value:"live_course",label:"live.liveCourse"},{value:"poly_wei",label:"live.polyWei"}],O=()=>[{value:"",label:"live.allLiveChannel",show:!0},{value:"live_course",label:"live.liveCourse",show:(0,j.Dp)()},{value:"poly_wei",label:"live.polyWei",show:!0}].filter(e=>e.show),C=e=>(0,j.Dp)()&&!e?[{value:"poly_wei",label:"live.polyWei"},{value:"live_course",label:"live.liveCourse"}]:e?[{value:"live_course",label:"live.liveCourse"}]:[{value:"poly_wei",label:"live.polyWei"}],S=[{key:1,title:"live.innerLive",describe:"live.innerDescribe",active:!1},{key:2,title:"live.publicLive",describe:"live.publicDescribe",active:!1},{key:3,title:"live.normalMeeting",describe:"live.normalMeetingDescribe",active:!1}],K=[{value:"all",iconColor:"",label:"live.allLiveStatus"},{value:"prepartion",iconColor:"#0040FF",label:"common.notStarted"},{value:"live",iconColor:"#01DF3A",label:"live.liveing"},{value:"meeting",iconColor:"#01DF3A",label:"live.meeting"},{value:"expired",iconColor:"#BDBDBD",label:"ddLive.expired"}],F=[{value:"0",label:"live.remindA"},{value:"5",label:"live.remindB"},{value:"15",label:"live.remindC"},{value:"30",label:"live.remindD"},{value:"60",label:"live.remindE"},{value:"120",label:"live.remindF"},{value:"240",label:"live.remindG"}],B=[{value:"ppt",label:"course.documentAndVideo"},{value:"alone",label:"course.pureVideo"}],$=[{value:"99",label:"live.allPublishStatus"},{value:"1",iconColor:"#0040FF",label:"courseManage.published"},{value:"0",iconColor:"#BDBDBD",label:"courseManage.unPublished"}]},40038:function(ce,z,a){"use strict";a.r(z);var M=a(48736),E=a(27049),g=a(62029),j=a(20228),V=a(11382),r=a(57663),t=a(71577),m=a(22385),O=a(31097),C=a(34792),S=a(48086),K=a(57361),F=a(9754),B=a.n(F),$=a(12924),e=a.n($),s=a(28216),D=a(91768),L=a(80991),Z=a(76651),x=a(96486),Q=a.n(x),G=a(60333),Y=a(52111),l=a(81150),f=a(90365),b=a(78140),R=a(84874),H=a(52670),A=a(72538),X=a(34522),he=a(4408),Ve=a(38642),Me=a(28531),ke=a(11110),ie=a(7584),ne=a(98078),ge=a(17381),pe=a(62615),Ae=a(40572),We=a(70075),Be=a(65893),Ue=Ne=>({userInfo:Ne.user});class Ze extends e().Component{constructor(k){var T;super(k);T=this,this.getWhetherLecture=(0,K.Z)(B().mark(function p(){var I;return B().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=3,(0,ge.LI)();case 3:I=y.sent,I.data.data&&(0,G.hF)(I.data.data).then(N=>{N.status===200&&N.data&&(T.setState({isWeatherLecture:N.data}),T.formRef.setFieldValue("teacher",{name:T.state.isWeatherLecture.lecturer_name,id:T.state.isWeatherLecture.id}))}).catch(N=>{console.warn(N)}),y.next=10;break;case 7:y.prev=7,y.t0=y.catch(0),console.warn(y.t0);case 10:case"end":return y.stop()}},p,null,[[0,7]])})),this.getSelectRecordList=()=>{(0,G.lH)({bizType:"live_course"}).then(p=>{p.data.code&&p.data.code=="200000"&&this.setState({recordList:p.data.data.filter(I=>I.unassignedQuota>0)})})},this.getLiveRoomNum=()=>{(0,G.xR)().then(p=>{this.setState({polyWeiLiveConfig:p.data.data,noClickable:p.data.data.remained_number==="0"})})},this.getScoreRule=()=>{(0,G.lq)().then(p=>{this.formRef.setFieldValue("credit",{checked:!0,score:p.data.data.courseScoreList?p.data.data.courseScoreList[0].score:0})})},this.getHasOpenEquity=p=>!(p.liveType==="live_course"&&p.makePublic=="true"&&this.state.recordList.length==0),this.handleSubmit=function(){var p=(0,K.Z)(B().mark(function I(u){var y,N,W,re;return B().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(y=T.state.courseId,N=(0,x.get)(u,"tagGroup.tagsNameList"),W=(0,b.SP)(u),W.splashImg=W.baseCover,N&&(W.tags=N.map(de=>de.tag_name).join(",")),re=T.getHasOpenEquity(W),re){ue.next=9;break}return T.setState({visible:!0,type:"no_live_course"}),ue.abrupt("return");case 9:T.setState({isSubmitting:!0,submitParams:W,submitTagsNameList:N}),y?(W.courseId=y,(0,G.yF)(W).then(de=>{T.setState({isSubmitting:!1}),T.handleSubmitCallBack(de,N,"edit")}).catch(()=>{T.setState({isSubmitting:!1})})):(0,G.Bj)(W).then(de=>{T.setState({isSubmitting:!1}),T.handleSubmitCallBack(de,N,"add")}).catch(()=>{T.setState({isSubmitting:!1})});case 11:case"end":return ue.stop()}},I)}));return function(I){return p.apply(this,arguments)}}(),this.cancelAction=()=>{this.setState({visible:!1,type:null,isSubmitting:!1})},this.addAction=function(){var p=(0,K.Z)(B().mark(function I(u){return B().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:T.setState({visible:!1,type:null}),u?(0,G.yF)(T.state.submitParams).then(W=>{T.setState({isSubmitting:!1}),T.handleSubmitCallBack(W,T.state.submitTagsNameList,"edit")}).catch(()=>{T.setState({isSubmitting:!1})}):(0,G.Bj)(T.state.submitParams).then(W=>{T.setState({isSubmitting:!1}),T.handleSubmitCallBack(W,T.state.submitTagsNameList,"add")}).catch(()=>{T.setState({isSubmitting:!1})});case 2:case"end":return N.stop()}},I)}));return function(I){return p.apply(this,arguments)}}(),this.handleSubmitCallBack=(p,I,u)=>{var y=this.props.t;this.setState({isSubmitting:!1}),p.data.code===2e5?(this.saveTags(I||[],u==="add"?p.data.data:this.state.courseId),S.default.success(y(u==="edit"?"common.editSuccess":"common.releaseSuccess")),this.handCancel()):S.default.error(y(u==="edit"?"common.editFailure":"common.saveFailure"))},this.saveTags=(p,I)=>{var u={tags:p,resourceId:I,resourceType:"course"};(0,Me.tB)(u)},this.getLiveDetail=(0,K.Z)(B().mark(function p(){var I;return B().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:I=T.state.courseId,(0,G.jG)({courseId:I,appId:"cool"}).then(N=>{var W=(0,b.zv)(N.data.data);T.setState({initialParams:W,editFinished:!0,liveStatus:N.data.data.liveStatus})});case 2:case"end":return y.stop()}},p)})),this.handCancel=()=>{var p=this.props.location.query,I=p.from;I==="course"?(0,Ve.eJ)({url:"/course/management"}):Z.m8.push("/knowledgeBase/learningResources/liveRoom?activeKey=livePlayback")},this.teacherChange=p=>{var I=this.props.t,u=p.id;return new Promise(y=>{(0,G.Dr)({teacherId:u}).then(N=>{var W=(0,x.get)(N,"data.data.isDingUser");W||S.default.error(I("ddLive.ddUser")),y(W)})})},this.renderChannelTip=p=>{var I=this.props,u=I.t,y=I.prefixCls,N=this.state.polyWeiLiveConfig,W=localStorage.getItem("themeColor")||"#516AE6";return e().createElement(e().Fragment,null,e().createElement("div",{className:"".concat(y,"__config ").concat(p==="poly_wei"?"show":"hidden")},e().createElement("span",{className:"live-title"},u("live.totalLiveRoom"),"\uFF1A"),e().createElement("span",null,N.total_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.alreadyLiveRoom"),"\uFF1A"),e().createElement("span",null,N.used_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.haveLiveRoom"),"\uFF1A"),e().createElement("span",null,N.remained_number,u("common.count")),e().createElement("span",{className:"live-title"},u("live.remainDuration"),"\uFF1A"),e().createElement("span",{className:"".concat(y,"__remined")},N.remained_duration,u("common.minutes")),e().createElement(O.Z,{placement:"top",title:u("live.durationTips")},e().createElement("span",{className:"".concat(y,"__durationTips")},e().createElement(R.Z,{iconClass:"icon-icon_attentionx1",size:"14px"}))),e().createElement("span",{className:"".concat(y,"__recharge recharge"),style:{color:W}},u("live.recharge")),e().createElement(ke.Z,{onRef:re=>{this.messageModal=re},options:{type:1},activeBtn:"recharge"})),p==="poly_wei"&&e().createElement("div",{className:"".concat(y,"__translate")},e().createElement("div",null,e().createElement("p",null,u("live.support"),":"),e().createElement("p",null,u("live.polyWeiSupportOne")),e().createElement("p",null,u("live.polyWeisupportTwo")),e().createElement("p",null,u("live.notSupport"),":"),e().createElement("p",null,u("live.polyWeiNotSupportOne")))),p==="live_course"&&e().createElement("div",{className:"".concat(y,"__translate")},e().createElement("p",null,u("live.support"),":"),e().createElement("p",null,u("live.dingSupportOne")),e().createElement("p",null,u("live.notSupport"),":"),e().createElement("p",null,u("live.dingNotSupportOne")),e().createElement("p",null,u("live.dingNotSupportTwo")),e().createElement("p",null,u("live.dingNotSupportThree"))))},this.renderFooter=()=>{var p=this.state,I=p.isSubmitting,u=p.courseId,y=p.noClickable,N=p.liveType,W=this.props.t,re=y&&!u&&N==="poly_wei";return e().createElement("div",{className:"cl-form-fixed-footer"},e().createElement("div",{className:"cl-form-fixed-footer__container"},e().createElement(t.Z,{type:"primary",disabled:re,loading:I,htmlType:"submit"},W(u?"common.save":"common.release")),e().createElement(t.Z,{onClick:this.handCancel},W("common.cancel"))))},this.state={initialParams:{title:"",liveType:"poly_wei",memberCardType:"",covers:{coverType:1,cover:"",baseCover:""},datePicker:"",scene:b.iy[0].value,classify:"",classifyName:"",teacher:{name:"",id:""},studyTimeLimit:0,syncProgress:0,makePublic:!1,download:0,commentSwitch:1,employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[]}},remindTime:{open:!1,time:"15"},ddGroup:{switchValue:!1,groupName:""},splashImg:"",introduction:"",picIntroductionUrl:"",credit:{checked:!0,score:1},studyLimit:{checked:!0,score:90},complete:!0,studyType:""},editFinished:!1,isSubmitting:!1,noClickable:!1,liveStatus:"prepartion",courseId:"",tagGroupInit:{resourceType:"course",resourceId:""},polyWeiLiveConfig:{},routerList:[{name:k.t("live.live"),path:"/knowledgeBase/learningResources/liveRoom"},{name:k.location.query.courseId?k.t("live.editCourse"):k.t("live.addLive"),path:"/training/learning/task/liveRoom/editLive"}],current:"/training/learning/task/liveRoom/editLive",isWeatherLecture:null,recordList:[],visible:!1,type:null,submitParams:{},submitTagsNameList:[]}}componentWillMount(){var k=this.props.location.query;this.getLiveRoomNum(),this.getSelectRecordList(),this.setState({courseId:k.courseId||"",editFinished:!k.courseId,tagGroupInit:{resourceType:"course",resourceId:k.courseId||""}},()=>{this.state.courseId&&this.getLiveDetail()})}componentDidMount(){var k=this.props.location.query;k.courseId||setTimeout(()=>{this.getScoreRule(),this.getWhetherLecture()},0)}render(){var k=this.state,T=k.initialParams,p=k.editFinished,I=k.liveStatus,u=k.courseId,y=k.tagGroupInit,N=k.polyWeiLiveConfig,W=k.routerList,re=k.current,Ke=k.recordList,ue=k.visible,de=k.type,Re=this.props,U=Re.t,me=Re.prefixCls;return e().createElement(e().Fragment,null,e().createElement("div",{className:me},e().createElement(he.Z,{title:U(u?"common.edit":"live.addLiveCourse")}),e().createElement(Be.Z,{current:re,list:W}),e().createElement("div",{className:"".concat(me,"__formPart")},p?e().createElement("div",{className:"".concat(me,"__divPart")},e().createElement("div",{className:"".concat(me,"__divPart__new")},U(u?"live.editLive":"live.addLive")),e().createElement(L.J9,{ref:w=>{this.formRef=w},initialValues:T,onSubmit:this.handleSubmit,render:w=>e().createElement(L.l0,{className:"cl-form"},e().createElement(L.gN,(0,g.Z)({component:ie.Z,name:"title",placeholder:U("ddLive.title"),label:U("live.liveCourseName"),autocomplete:"off",validate:Y.eS,required:!0,type:"text",style:{width:"50%"},defaultValue:w.values.title},A.I4)),e().createElement(L.gN,(0,g.Z)({name:"classify",required:!0,label:U("learning.learningProjectAddCategory"),displayType:"Custom",hasDefaultValue:!0,component:Ae.Z,placeholder:U("validation.checkClassify"),value:w.values.classify,classifyName:w.values.classify_name,validate:H.ZE,style:{width:"50%"},formItemClassName:["cl-form_list-item"]},A.I4)),w.values.liveType==="live_course"&&e().createElement(e().Fragment,null,e().createElement(L.gN,(0,g.Z)({required:!0,component:X.Z,name:"teacher",t:this.props.t,isInternal:!0,label:U("customFields.teacher"),displayType:"Custom",canCancel:!0,beforeSelected:this.teacherChange,defaultFieldList:w.values.teacher,disabled:u},A.I4,{validate:Le=>(0,Y.u9)(Le,I==="end")}))),w.values.liveType==="poly_wei"&&e().createElement(e().Fragment,null,e().createElement(L.gN,(0,g.Z)({required:!0,component:X.Z,name:"teacher",label:U("customFields.teacher"),displayType:"Custom",defaultFieldList:w.values.teacher,disabled:u,canCancel:!0},A.I4,{validate:Le=>(0,Y.u9)(Le,I==="end")}))),e().createElement(L.gN,(0,g.Z)({component:pe.QS,displayType:"Custom",style:{width:"50%"},name:"tagGroup",label:U("common.detailTag"),defaultFieldList:y},A.I4)),e().createElement(L.gN,(0,g.Z)({component:We.Z,name:"introduction",label:U("ddLive.liveSummary"),type:"text",displayType:"Custom",style:{width:"50%"},placeholder:U("live.validation.ddInstronction"),defaultValue:w.values.introduction,validate:Y.WW},A.I4)),e().createElement(L.gN,(0,g.Z)({component:pe.Y9,label:U("course.courseCreatePanelFTCover"),displayType:"Custom",name:"covers",required:!0,style:{width:"50%"}},A.I4)),e().createElement("div",{className:"".concat(me,"__divider")}," "),e().createElement("div",{className:"".concat(me,"__divPart__new")},U("live.advancedSetting")),e().createElement("div",{className:"cl-form__sectitle"},U("live.featureSetting")),(0,ne.WC)()&&w.values.liveType==="poly_wei"&&e().createElement(L.gN,{component:l.n5,name:"scene",label:U("course.liveTemplate"),liveTemplateOptions:b.iy,disabled:u!=="",defaultValue:w.values.scene}),e().createElement(L.gN,(0,g.Z)({component:l.lR,name:"syncProgress",label:U("ddLive.livePlaybackNew"),type:"text",value:w.values.syncProgress},A.I4)),w.values.liveType==="poly_wei"&&e().createElement(L.gN,(0,g.Z)({component:l.lR,name:"download",label:U("live.downLoadCourse"),type:"text",value:w.values.download,describe:U("live.downLoadLiveFile")},A.I4)),w.values.liveType==="poly_wei"&&e().createElement(L.gN,(0,g.Z)({type:"text",component:l.lR,value:w.values.commentSwitch,label:U("live.commentTitle"),name:"commentSwitch",describe:U("live.commentLive")},A.I4)),e().createElement("div",{className:"".concat(me,"__divPart__high__divider")},e().createElement(E.Z,null)),e().createElement("div",{className:"cl-form__sectitle"},U("common.ruleSetting")),e().createElement(L.gN,(0,g.Z)({component:pe.ww,displayType:"Custom",name:"employeeRange",mode:["all","part","private"],orgProps:{title:U("component.chooseVisibleScope")},showSectitle:!1,label:U("common.visibleRange"),defaultFieldList:w.values.employeeRange,validate:H.FI},A.I4)),e().createElement(L.gN,(0,g.Z)({component:l.aV,label:U("course.courseDetailRewardScore"),displayType:"Custom",name:"complete",defaultDisable:w.values.complete,defaultStudyValue:w.values.studyLimit,defaultFieldList:w.values.credit},A.I4)),e().createElement(pe.I,null),this.renderFooter())})):e().createElement(V.Z,{size:"large"}))),e().createElement(f.Z,{visible:ue,type:de,edit:u!=="",cancelAction:this.cancelAction,addAction:this.addAction}))}}Ze.defaultProps={prefixCls:"editLiveWrap"},z.default=(0,s.$j)(Ue)((0,D.Z)()(Ze))}}]);
