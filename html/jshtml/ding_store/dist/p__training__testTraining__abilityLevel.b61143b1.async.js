(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[2093],{26096:function(oe,G,a){"use strict";var d=a(30887),c=a(99210),F=a(62029),b=a(22385),V=a(31097),T=a(12924),h=a.n(T),g=a(71967),E=a.n(g),o=a(1164),N=m=>m.type==="more"?m.disabled?h().createElement(c.Z.Item,(0,F.Z)({},m,{key:m.key,disabled:!0}),m.tooltip?h().createElement(V.Z,{title:m.tooltip},h().createElement("p",{className:"cl-dropdown-menuitem"},m.title)):h().createElement("p",{className:"cl-dropdown-menuitem"},m.title)):m.link?h().createElement(c.Z.Item,(0,F.Z)({},m,{key:m.key}),h().createElement(o.Z,{to:m.link},h().createElement("p",{className:"cl-dropdown-menuitem"},m.title))):h().createElement(c.Z.Item,(0,F.Z)({},m,{key:m.key}),h().createElement("p",{className:"cl-dropdown-menuitem",onClick:m.click},m.title)):m.disabled?m.tooltip?h().createElement(h().Fragment,{key:m.key},h().createElement(V.Z,{title:m.tooltip},h().createElement("span",{className:"".concat(E().pointer," ").concat(E().disabled)},m.title))):h().createElement(h().Fragment,{key:m.key},h().createElement("span",{className:"".concat(E().pointer," ").concat(E().disabled)},m.title)):m.link?h().createElement(h().Fragment,{key:m.key},h().createElement(o.Z,{to:m.link},h().createElement("span",{className:"cl-pointer ".concat(E().pointer)},m.title))):h().createElement(h().Fragment,{key:m.key},h().createElement("span",{className:"cl-pointer ".concat(E().pointer),onClick:m.click},m.title));G.Z=N},4408:function(oe,G,a){"use strict";var d=a(12924),c=a.n(d),F=a(28216),b=a(17780),V=a(38642),T=g=>({userInfo:g.user}),h=g=>{var E=g.title;return(0,b.xX)()&&setTimeout(()=>{document.title=E},0),(0,d.useEffect)(()=>{if(E&&document.title!==E&&setTimeout(()=>{document.title=E},0),(0,V.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var o=document.querySelector(".zoom-report");o&&(o.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[E]),c().createElement(c().Fragment,null)};h.defautProps={title:""},G.Z=(0,F.$j)(T)(h)},1164:function(oe,G,a){"use strict";var d=a(12924),c=a.n(d),F=a(76651),b=a(38642),V=a(91302),T=h=>{var g=navigator.userAgent.toLocaleLowerCase(),E=localStorage.getItem("enterpriseId"),o=(0,b.lz)(E,h.projectType),N=localStorage.getItem("dingPersonnel"),m=V.bl.includes(N),R=h.target;function C(S){if(R==="self"&&(S.preventDefault(),F.m8.push(h.to)),m){if(h.projectType==="student"){window.location.href="".concat(o,"/").concat(h.to);return}F.m8.push(h.to);return}if(dd.version){S.preventDefault();var Z="";h.to.includes("?")?Z="".concat(o).concat(h.to,"&ddtab=true"):Z="".concat(o).concat(h.to,"?ddtab=true"),dd.biz.util.openLink({url:Z})}else g.indexOf("lark")!==-1&&(window.location.href="".concat(o).concat(h.to))}return c().createElement("a",{rel:"noreferrer",href:"".concat(h.projectType==="student"?"".concat(o).concat(h.to):"#".concat(h.to)),className:"".concat(h.wrapCls," cl-pointer"),target:g.indexOf("lark")!==-1||m?"_self":h.target||"_blank",onClick:C},h.children)};T.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},T.targetTo=h=>{var g=h.path,E=h.from,o=h.isExternalLink,N=o===void 0?!1:o,m=h.isAsync,R=m===void 0?!1:m,C=h.openName,S=C===void 0?"_blank":C,Z=h.projectType,x=Z===void 0?"manage":Z,w=h.ddTab,_=w===void 0?!0:w,A,I=localStorage.getItem("dingPersonnel"),U=V.bl.includes(I),k=navigator.userAgent.toLocaleLowerCase(),H=localStorage.getItem("enterpriseId"),K=(0,b.lz)(H,x),L=localStorage.getItem("appType"),W=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var z="";if(A=N?"":K,U&&!N){if(x==="student"){window.location.href="".concat(K).concat(g);return}F.m8.push(g);return}g.includes("?")?z="".concat(A).concat(g,"&ddtab=").concat(_):z="".concat(A).concat(g,"?ddtab=").concat(_),dd.biz.util.openLink({url:z})}else if(k.indexOf("lark")!==-1)A=N?"":K,window.location.href="".concat(A).concat(g);else if(L==="wx_app"&&W&&N&&E==="imgText")A=N?"":x==="student"?"".concat(K):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(A).concat(g)});else if(A=N?"":x==="student"?"".concat(K):"#",R){var ee=window.open("","_blank");setTimeout(()=>{ee.location="".concat(A).concat(g)},100)}else window.open("".concat(A).concat(g),S)},G.Z=T},36202:function(oe,G,a){"use strict";a.d(G,{f:function(){return w}});var d=a(62029),c=a(57361),F=a(33565),b=a(9754),V=a.n(b),T=a(12924),h=a.n(T),g=a(28175),E=a(41647),o=a(93485);function N(_){var A={};if(_.length===0)return A;var I=(0,o.Z)(_),U;try{for(I.s();!(U=I.n()).done;){var k=U.value,H=k,K=H.field,L=H.fixed,W=H.order,z=H.show;z?z==="true"||z===!0?A[K]={fixed:L,order:W,show:!0}:A[K]={fixed:L,order:W,show:!1}:A[K]={fixed:L,order:W,show:!0}}}catch(ee){I.e(ee)}finally{I.f()}return A}function m(_){var A=[],I=Object.entries(_);if(I.length===0)return A;for(var U=0,k=I;U<k.length;U++){var H=k[U],K=(0,F.Z)(H,2),L=K[0],W=K[1],z=W.fixed,ee=W.order,ae=W.show;A.push({field:L,show:ae,fixed:z,order:ee})}return A}var R=a(38642),C=(_,A)=>{var I=(0,T.useState)(_),U=(0,F.Z)(I,2),k=U[0],H=U[1];return(0,T.useEffect)(()=>{var K=setTimeout(()=>{H(_)},A);return()=>{clearTimeout(K)}},[_,A]),k},S=C;function Z(_,A){var I=useRef(A);useEffect(()=>{I.current=A},[A]),useEffect(()=>{var U=k=>{var H,K;console.warn(_.current,"node.current",k.target),!((H=(K=_.current)===null||K===void 0?void 0:K.contains(k.target))!==null&&H!==void 0?H:!1)&&I.current&&I.current()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[_])}var x=!1;function w(_){var A=(0,T.useState)({}),I=(0,F.Z)(A,2),U=I[0],k=I[1],H=_.prefixCls,K=_.rowKey,L=_.columnEmptyText,W=_.pagination,z=_.headerTitle,ee=_.toolBarRender,ae=_.size,q=_.loading,se=q===void 0?!1:q,ue=_.tableUUID;ue||console.error("tableUUID is required!!!"),(0,T.useEffect)(()=>{function fe(we){return ge.apply(this,arguments)}function ge(){return ge=(0,c.Z)(V().mark(function we(Ee){var Ce,De,Pe,Oe,ke,r,y,B;return V().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,R.Kb)((0,E.U)(Ee));case 2:if(Ce=$.sent,De=(0,F.Z)(Ce,2),Pe=De[0],Oe=De[1],!Pe){$.next=8;break}return $.abrupt("return");case 8:ke=Oe.data,r=ke.data,y=r.fields,B=N(y)||{},B&&(x=!1,k(B));case 13:case"end":return $.stop()}},we)})),ge.apply(this,arguments)}return ue&&fe(ue),()=>{x=!1}},[ue]);var ce=S(U,1e3);(0,T.useEffect)(()=>{!x||(0,E.I)(ue,m(U))},[ce]);function he(fe){x=!0,k(fe)}return h().createElement("div",{className:"SampleProTable_container ".concat(_.className)},h().createElement(g.ZP,(0,d.Z)({size:ae||"middle",rowKey:K||"id",columnEmptyText:L||!1,pagination:W||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:se,headerTitle:z||"",toolBarRender:ee||null,columnsStateMap:U,onColumnsStateChange:he},_,{className:"".concat(H,"-table")})))}},41647:function(oe,G,a){"use strict";a.d(G,{I:function(){return F},U:function(){return b}});var d=a(37055),c=a(10237);function F(V){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=d.ZP.tableHeader.save(),g={fields:T,key:V};return c.WY.post({url:h,data:g})}function b(V){var T=d.ZP.tableHeader.get(V);return c.WY.get({url:T})}},16598:function(oe,G,a){"use strict";var d=a(59250),c=a(13013),F=a(30887),b=a(99210),V=a(62029),T=a(12924),h=a.n(T),g=a(57254),E=a(91768),o=a(26096),N=(R,C)=>{var S=R.map(Z=>h().createElement(o.Z,(0,V.Z)({},Z,{type:C,key:Z.key||Z.type})));return C==="more"?h().createElement(b.Z,null,S):S},m=R=>{var C=R.buttons,S=R.t,Z=R.visibleNum,x=C.filter(I=>I.visible),w=Z||1,_=[],A=[];if(x.length<=w)A=[...x];else if(x.length>w)A=[...x.slice(0,w)],_=[...x.slice(w)];else return"/";return h().createElement("div",{className:"cl-table__cell-action"},N(A),A.some(I=>I.visible)&&_.some(I=>I.visible)?h().createElement(h().Fragment,null,h().createElement("span",{className:"cl-pointer-divide"}),h().createElement(c.Z,{overlay:N(_,"more")},h().createElement("span",{className:"cl-pointer"},S("common.more")," ",h().createElement(g.Z,null)))):null)};m.defaultProps={visibleNum:1},G.Z=(0,E.Z)()(m)},99891:function(oe,G,a){"use strict";var d=a(12924),c=a.n(d),F=a(28216),b=a(91768),V=a(37055),T=a(10237),h=a(60667);class g extends c().PureComponent{constructor(N){super(N);this.getWaterMarkText=m=>{var R=this.props.userInfo,C=R.jobNumber,S=localStorage.getItem("waterMarkPostName"),Z=[],x=m.find(_=>_.type==="content_setting"),w=m.find(_=>_.type==="content_custom");return x.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),w.param.checked==="true"&&w.param.comment[0]!==""&&this.setState({commentText:w.param.comment[0]}),x.param.comment.indexOf("position")!==-1&&S&&S!==""&&Z.push("".concat(S)),x.param.comment.indexOf("jobnumber")!==-1&&C&&C!==""&&Z.push("".concat(C)),Z.join("-")},this.getWaterMarkApplication=m=>{var R=this.props.scenes,C=m.find(S=>S.type==="application_scenario");C.param.comment.indexOf(R)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=m=>{var R=m.find(C=>C.type==="dispersive");this.setState({isDispersive:R.param.checked==="true"})},this.getDynamicSet=()=>{var m=V.ZP.advancedSetting.dynamicWaterMarkNew(),R={access_token:window.localStorage.getItem("token")};T.WY.get({url:m,params:R}).then(C=>{var S=JSON.parse(C.data.actions);this.setState({waterMarkText:this.getWaterMarkText(S),actions:S}),this.getWaterMarkApplication(S),this.getWaterIsDispersive(S)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var N=localStorage.getItem("waterMarkPostName");N===""||N===null?this.getPostName():this.getDynamicSet()}getPostName(){var N=V.ZP.advancedSetting.getPostName();T.WY.get({url:N}).then(m=>{localStorage.setItem("waterMarkPostName",m.data.post_names[0]||""),this.getDynamicSet()})}render(){var N=this.state,m=N.showWaterMark,R=N.waterMarkCount,C=N.isUserName,S=N.isDispersive,Z=N.waterMarkText,x=N.actions,w=N.commentText,_=this.props.userInfo,A=_.name,I=_.unionid,U=_.sourceType;return c().createElement("div",{className:"common-watermark"},m&&new Array(R).fill(0).map((k,H)=>c().createElement("div",{key:H,className:"common-watermark-item ".concat(S?"isDispersive":"")},c().createElement("span",{className:"common-watermark-item-content"},w!==""&&c().createElement("span",{className:"item-part"},w),C&&c().createElement("span",null,w!==""&&c().createElement("span",null,"-"),c().createElement(h.Z,{dataType:"userName",value:I,name:A,type:U})),c().createElement("span",{className:"item-part"},(C||w!=="")&&Z!==""&&c().createElement("span",null,"-"),Z)))))}}var E=o=>({userInfo:o.user});G.Z=(0,F.$j)(E)((0,b.Z)()(g))},60667:function(oe,G,a){"use strict";a.d(G,{Z:function(){return g}});var d=a(33565),c=a(12924),F=a.n(c),b=a(28216);function V(E){var o=E.type,N=E.openid,m=E.from,R=(0,c.useRef)(null);return(0,c.useLayoutEffect)(()=>{m==="vue"?window.parent.WWOpenData.bind(R.current):WWOpenData.bind(R.current)}),F().createElement("ww-open-data",{ref:R,type:o,openid:N})}var T=E=>{var o=E.wxWorkApiFlag,N=E.appType,m=E.from,R=(0,c.useState)(!1),C=(0,d.Z)(R,2),S=C[0],Z=C[1];(0,c.useEffect)(()=>{var _=localStorage.getItem("qyWechatBook");(N!=="wx_app"||o||_==="false"||m==="vue"||m==="taro")&&Z(!0)},[o,N,m]);var x=(0,c.useCallback)(()=>{var _=E.type,A=E.value,I=E.name,U=I===void 0?"":I;switch(console.warn(E,"props"),_){case"wx_sync":{var k=E.dataType;return A?F().createElement(V,{from:m,type:k,openid:A}):U}default:return U}},[E]),w=()=>{var _=E.name,A=E.dataType,I=localStorage.getItem("qyWechatBook");if(A===""||I==="false")return _;if(m==="vue"||m==="taro")return x();switch(E.appType){case"wx_app":return x();default:return _}};return S?w():E.name};T.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var h=E=>({appType:E.user.appType,wxWorkApiFlag:E.user.wxWorkApiFlag}),g=(0,b.$j)(h)(T)},76466:function(oe,G,a){"use strict";a.d(G,{Z:function(){return ht}});var d=a(20228),c=a(11382),F=a(57663),b=a(71577),V=a(62029),T=a(57361),h=a(9754),g=a.n(h),E=a(12924),o=a.n(E),N=a(91512),m=a(68654),R=a(91768),C=a(4412),S=a.n(C);class Z extends o().Component{render(){var n=this.props.t;return o().createElement("div",{className:"net-preview"},o().createElement("div",{className:"net-preview-center"},o().createElement("img",{src:S(),alt:"picture"}),o().createElement("h2",null,n("localStorage.tip")),o().createElement("p",null,n("localStorage.banPreview"))))}}var x=(0,R.Z)()(Z),w=a(88986),_=a(34792),A=a(48086),I=a(28216),U=a(21594),k=a(41225),H=a(10237),K=(J,n)=>(0,w.Z)({id:J||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),L=K;class W extends E.Component{constructor(){super(...arguments);this.setupPlayer=n=>{var s=this.props,t=s.onVideoReady,e=t===void 0?()=>{}:t,i=s.playerConfig,l=s.contentType;n&&n==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,w.Z)((0,w.Z)({},i),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:i.source,autoplay:i.autoplay,width:i.width,id:i.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:u=>{u.on("sourceloaded",v=>{var p=v.paramData,O=p.desc,D=p.definition;u.getComponent("VideoQuality")&&u.getComponent("VideoQuality").setCurrentQuality(O,D,i.id)}),u.on("ready",()=>{e()}),this.playerInstance=u,this.setPlayerConfig()}}))}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(n){this.player&&this.player.seek(n)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(n){this.player.setSpeed(n)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var n=this.props,s=n.onPlay,t=s===void 0?()=>{}:s,e=n.onTimeUpDate,i=e===void 0?()=>{}:e,l=n.onEnd,u=l===void 0?()=>{}:l,v=n.onPause,p=v===void 0?()=>{}:v,O=n.onError,D=O===void 0?()=>{}:O,M=this.playerInstance;M.on("play",()=>{t()}),M.on("pause",()=>{p()}),M.on("timeupdate",f=>{i(f)}),M.on("ended",()=>{u()}),M.on("error",(0,T.Z)(g().mark(function f(){return g().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:D();case 1:case"end":return Y.stop()}},f)})))}render(){var n=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:n.id}))}}W.playerInstance=null,W.defaultProps={playerConfig:L(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var z=W,ee=(J,n)=>(0,w.Z)({id:J||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),ae=ee;class q extends E.Component{constructor(){super(...arguments);this.setupPlayer=n=>{n&&n==="resetPlayer"&&this.player.dispose();var s=this.props,t=s.playerConfig,e=s.onVideoReady,i=e===void 0?()=>{}:e;this.player=new Aliplayer(t,l=>{l.on("sourceloaded",u=>{var v=u.paramData,p=v.desc,O=v.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(p,O,t.id)})}),this.player.on("ready",()=>{i()})},this.setPlayerConfig=()=>{var n=this.props,s=n.onPlay,t=s===void 0?()=>{}:s,e=n.onTimeUpDate,i=e===void 0?()=>{}:e,l=n.onEnd,u=l===void 0?()=>{}:l,v=n.onPause,p=v===void 0?()=>{}:v,O=n.onError,D=O===void 0?()=>{}:O;this.player.on("play",()=>{t()}),this.player.on("pause",()=>{p()}),this.player.on("timeupdate",M=>{i(M)}),this.player.on("ended",()=>{u()}),this.player.on("error",(0,T.Z)(g().mark(function M(){return g().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:D();case 1:case"end":return P.stop()}},M)})))},this.getPlayerContent=n=>{this.playerContainer=n}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(n){this.player.seek(n)}exitFull(){var n=this.player.fullscreenService;n&&n.isFullScreen&&n.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var n=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:n.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}q.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:ae()};var se=q;class ue{constructor(n){this.hasCreated=!1,this.definition="",this.getQuality=n}createEl(n,s){var t=s._options&&s._options.language,e=s._el.id;this.isEn=t&&t==="en-us";var i=(0,U.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,U.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),u=document.querySelector("#".concat(e," .prism-controlbar"));u.appendChild(i),n.appendChild(l)}setCurrentQuality(n,s,t){var e=document.querySelector("#".concat(t," .current-quality"));e.innerText=n,e.dataset.def=s,this.definition=s;var i=document.querySelector("#".concat(t," .quality-list")),l=i.querySelector(".current");l&&(l.className="");var u=i.querySelector('li[data-def="'.concat(s,'"]'));u&&(u.className="current")}created(n){this._urls=n._urls;var s=n._el.id,t=document.querySelector("#".concat(s," .current-quality")),e=document.querySelector("#".concat(s," .quality-list")),i=document.querySelector("#".concat(s," .quality-modal")),l=this._urls.map(p=>'<li data-def="'.concat(p.definition,'">').concat(p.desc,"</li>"));if(e.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var u=e.querySelector('li[data-def="'.concat(this.definition,'"]'));u.className="current"}this.hasCreated=!0;var v=null;t.onclick=()=>{e.style.display="block"},t.onmouseleave=()=>{v=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(v)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=p=>{var O=p.target,D=O.dataset.def,M=O.innerText;if(D&&O.className!=="current"){var f=this._urls.find(P=>P.definition===D);n.loadByUrl(f.Url,n.getCurrentTime(),!0,!0),this.setCurrentQuality(f.desc,f.definition,s),i.style.display="block",i.querySelector("span.current-quality-tag").innerText=f.desc}this.getQuality(D,M)}}ready(n){var s=n._el.id,t=document.querySelector("#".concat(s," .quality-modal"));t.style.display="none";var e=document.querySelector("#".concat(s," .prism-setting-item.prism-setting-quality"));e&&e.classList.add("player-hidden")}}class ce{createEl(n,s){var t=s._el.id,e=(0,U.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),i=document.querySelector("#".concat(t," .prism-controlbar"));i.appendChild(e)}ready(n){var s=n._el.id,t=document.querySelector("#".concat(s," .current-rate")),e=document.querySelector("#".concat(s," .rate-list")),i=null,l=document.querySelector("#".concat(s," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),t.onclick=()=>{e.style.display="block"},t.onmouseleave=()=>{i=setTimeout(()=>{e.style.display="none"},100)},e.onmouseenter=()=>{clearTimeout(i)},e.onmouseleave=()=>{e.style.display="none"},e.onclick=u=>{var v=u.target,p=v.dataset.rate;if(p){if(n.setSpeed(p),v.className!=="current"){var O=e.querySelector(".current");O&&(O.className=""),v.className="current"}e.style.display="none",t.innerText="".concat(p,"x")}}}}var he=a(69164),fe=a(37055);function ge(J){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=fe.ZP.local.getLocalUrl(J);return H.WY.get({url:s,params:n})}var we=a(91648),Ee=a(18329),Ce=a(38642),De=a(9849),Pe=a(99891);class Oe extends E.Component{constructor(n){super();this.WaterMarkText=n,this.html=document.getElementsByClassName("common-watermark")}createEl(n){setTimeout(()=>{n.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var ke=Oe,r=J=>({userInfo:J.user});class y extends E.Component{constructor(n){var s;super(n);s=this,this.onVideoReady=t=>{var e=this.props,i=e.resourceInfo,l=e.mode,u=e.autoPlay,v=e.t,p=i.storageType;t==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(t),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&u&&this.play.play()):p==="ALIBABA_PRIVATE"||p==="LOCAL"?this.updateSource("resetPlayer"):(H.WY.logger({keyword:"video",moduleName:"video-play",msg:v("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var t=this.props,e=t.draggable,i=t.mode,l=t.t,u=t.studyInfo,v=t.needCurrentTime,p=t.onCurrentTime,O=p===void 0?()=>{}:p,D=u.studyType,M=u.studyId,f=u.resourceId,P=this.state,Y=P.showPreventHang,X=P.dragSwitch,te=P.showRandomAlert,ne=P.randomAlertDialogVisible,j=this.playingVideo,ye=j.oneTime,me=j.popupWindowCount,ve=j.maxPlayTime,Me=j.progress,Te=j.auditionLength,_e=j.auditionType,Ae=j.duration,be=j.recentStart,pe=this.play.getCurrentTime(),de=(Y==="OPEN"||te==="OPEN")&&me>0;if(v&&O(pe),Te>0&&_e===2&&pe>Te&&(this.play.seek(Te),A.default.warning(l("component.haveALookOverTip")),this.play.pause()),i==="learn"&&de){var We=Ae-ye*me;if(me>0&&pe>We)if(this.play.pause(),te==="OPEN"){if(!ne){var Le=(0,we.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Le},()=>{(0,k.qp)({popupId:Le,planId:M,resourceId:f,type:"popup_start"})}),this.play.exitFull()}}else Y==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((e||Me===100)&&(pe>0&&(this.playingVideo.recentStart=pe),!((D==="enterprise"||D==="studyProject")&&X==="OPEN")))return!1;pe>ve?pe-be>2?(this.playingVideo.recentStart=ve,this.play.seek(ve),A.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=pe,this.playingVideo.maxPlayTime=pe):pe>0&&pe>this.playingVideo.recentStart&&(this.playingVideo.recentStart=pe)},this.onPlay=()=>{var t=this.props,e=t.mode,i=t.onPlay,l=i===void 0?()=>{}:i;l();var u=this;e==="learn"&&!u.timer&&(u.timer=setTimeout(function v(){u.saveProgress(),clearTimeout(u.timer),u.timer=setTimeout(v,2e4)},2e4))},this.onPause=()=>{var t=this.props,e=t.studyInfo,i=t.mode,l=e.studyType;clearTimeout(this.timer),this.timer=null,i==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var t=this.props.mode;t==="learn"&&this.saveProgress()},this.onError=t=>{var e=this.props.resourceInfo,i=e.storageType;(i==="ALIBABA_PRIVATE"||i==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var t=this.props.mode;this.initPlayVideo(),t==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var t=this.state,e=t.showPreventHang,i=t.showRandomAlert,l=this.props,u=l.t,v=l.playingVideo,p=l.studyInfo,O=l.autoPlay,D=v.recentStart,M=v.duration,f=v.progress,P=p.studyType,Y=(e==="OPEN"||i==="OPEN")&&(P==="studyTask"||P==="enterprise"||P==="studyProject")&&f<100;Y?(i==="OPEN"?this.setState({promptMessage:u("component.preventAlertTip"),dialogVisible:!0}):e==="OPEN"&&this.setState({promptMessage:u("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):O&&(this.play.play(),Math.ceil(D)<parseInt(M)&&this.play.seek(D))},this.playerShowPreventHang=()=>{var t=this.playingVideo,e=t.duration,i=t.recentStart,l=0;e>0&&e<180?(l=e/2,this.playingVideo.oneTime=l,i>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):e>=180&&e<600?(l=e/3,this.playingVideo.oneTime=l,i>=2*l?this.playingVideo.popupWindowCount=0:i>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=e/4,this.playingVideo.oneTime=l,i>=3*l?this.playingVideo.popupWindowCount=0:i>=2*l?this.playingVideo.popupWindowCount=1:i>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var t=this.props,e=t.playingVideo,i=t.mode;if(i==="learn"){this.playingVideo=(0,w.Z)({},e);var l=e.duration,u=e.progress;this.playingVideo.hasFinished=parseInt(u)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(u)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,T.Z)(g().mark(function t(){var e,i,l,u,v,p,O,D,M,f,P,Y,X,te,ne,j,ye,me,ve,Me,Te,_e,Ae,be;return g().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(e=s.state,i=e.speedSwitch,l=e.dragSwitch,u=e.whiteList,v=s.props,p=v.resourceInfo,O=v.showQuality,D=p.contentType,M=p.storageType,f=p.source,P=p.playId,Y=p.playerId,X=p.showFullScreen,te=X===void 0?!0:X,ne=ae(Y),ne.components=[],j=typeof f=="object"&&f.hasOwnProperty("FD")&&f.FD.indexOf("m3u8")===-1,O&&j&&D!=="mp3"&&(M&&M==="PUBLIC_CLOUD"||!M)&&ne.components.push({name:"VideoQuality",type:ue,args:[()=>{s.play.pause(),s.playingVideo.readyCount=0}]}),i==="OPEN"&&ne.components.push({name:"VideoRate",type:ce}),te&&(ye=ne.skinLayout.find(We=>We.name==="controlBar"),ye&&ye.children.splice(ye.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ne.components.push({name:"VideoWaterMark",type:ke}),me=f.FD,ve=f.OD,me.indexOf("http://")>-1&&(me=me.replace("http://","https://")),ve.indexOf("http://")>-1&&(ve=ve.replace("http://","https://")),Me=u.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",f.OD=ve&&ve.indexOf(Me)>-1&&ve.indexOf(".mp4")>-1?ve:me,f.FD=me,Te=typeof f!="string"?JSON.stringify(f):f,ne.source=Te,l==="OPEN"&&(ne.disableSeek=!0),M!=="ALIBABA_PRIVATE"){de.next=32;break}return de.next=22,(0,k.BR)(P);case 22:if(_e=de.sent,!_e){de.next=28;break}ne.source=_e,ne.vodRetry=1,de.next=30;break;case 28:return s.setState({showPrivateVodError:!0}),de.abrupt("return");case 30:de.next=38;break;case 32:if(M!=="LOCAL"){de.next=38;break}return de.next=35,ge(P);case 35:Ae=de.sent,be=Ae.data,be.code===0&&(ne.source="".concat(f.FD,"?auth_key=").concat(be.data.auth_key),ne.vodRetry=1);case 38:s.setState({playerConfig:ne});case 39:case"end":return de.stop()}},t)})),this.updateSource=function(){var t=(0,T.Z)(g().mark(function e(i){var l,u,v,p,O,D,M,f;return g().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(l=s.state.playerConfig,u=s.props.resourceInfo,v=u.storageType,p=u.source,O=u.playId,s.playingVideo.readyCount=0,v!=="ALIBABA_PRIVATE"){Y.next=16;break}return Y.next=7,(0,k.BR)(O);case 7:if(D=Y.sent,!D){Y.next=12;break}Object.assign(l,{source:D,vodRetry:1}),Y.next=14;break;case 12:return s.setState({showPrivateVodError:!0}),Y.abrupt("return");case 14:Y.next=22;break;case 16:if(v!=="LOCAL"){Y.next=22;break}return Y.next=19,ge(O);case 19:M=Y.sent,f=M.data,f.code===0&&Object.assign(l,{source:"".concat(p.FD,"?auth_key=").concat(f.data.auth_key),vodRetry:1});case 22:s.setState({playerConfig:l},()=>{s.play.setupPlayer(i)});case 23:case"end":return Y.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.saveProgress=()=>{var t=this.props,e=t.studyInfo,i=t.userInfo,l=i.isLogin,u=i.enterpriseId,v=i.id,p=this.playingVideo,O=p.recentStart,D=p.duration,M=p.hasFinished,f=Math.ceil(+O);f>Number(D)&&(f=Number(D));var P=Math.ceil(f/+D*100);if((P>100||M)&&(P=100),l){var Y=this.playingVideo,X=Y.auditionType,te=Y.auditionLength;if(te>0&&X===2){var ne=Math.ceil(te/D*100);ne<=P&&(P=ne,f=te)}(0,k.sH)({studyInfo:e,progress:P,recent_start:f,enterpriseId:u,userId:v}).then(j=>{j&&j.data&&(0,he.Z)(j.data.integral_info||"")})}},this.getInfoFromSettings=(0,T.Z)(g().mark(function t(){var e,i,l,u,v,p,O,D,M;return g().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return e=s.props.studyInfo,i=e.studyType,l=e.projectId,P.next=4,(0,k.Gw)();case 4:if(u=P.sent,v=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],p=(0,U.RG)(u,v),i!=="studyProject"){P.next=14;break}return P.next=10,(0,De.NU)({id:l});case 10:O=P.sent,D=O.status,M=O.data,D===200&&(p.showPreventHang=M.prevent_cut_screen?"OPEN":"CLOSED",p.speedSwitch=M.speed_play?"OPEN":"CLOSED",p.dragSwitch=M.prevent_drag?"OPEN":"CLOSED");case 14:s.setState(p,()=>{s.dealVideoConfig()});case 15:case"end":return P.stop()}},t)})),this.dealAudioPoster=()=>{var t=this.props.resourceInfo.contentType,e=t===void 0?"":t;this.setState({showAudioPoster:e==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var t=this.state.showAudioPoster,e=this.play.playerContainer;t&&e&&(e.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),e.style.backgroundSize="cover")},this.getPlayInstance=t=>{this.play=t},this.handleOk=()=>{this.setState({dialogVisible:!1});var t=this.state.btnType,e=this.playingVideo.recentStart,i=this.props.t;t==="know"?(this.play.play(),this.play.seek(e),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:i("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,T.Z)(g().mark(function t(){var e,i,l,u;return g().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:e=s.props.studyInfo,i=e.studyId,l=e.resourceId,u=s.state.randomAlertUUID,(0,k.qp)({popupId:u,planId:i,resourceId:l,type:"popup_end"}).then(()=>{s.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),s.playingVideo.popupWindowCount-=1,s.play.play();case 6:case"end":return p.stop()}},t)})),this.renderFooter=()=>{var t=this.state.btnType,e=this.props.t;return o().createElement(b.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(t)},e(t==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var t=this.props.t;return o().createElement(b.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},t("common.ok"))},this.state={playerConfig:ae(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:n.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:n.t("component.randomAlertTip"),randomAlertModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ce.UI)("CL_VIDEO_BAIYING_COM_CN")}},n.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(n){var s=typeof n.resourceInfo.source!="string"?JSON.stringify(n.resourceInfo.source):n.resourceInfo.source,t=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;s!==t&&t!==""&&this.initInfo()}componentWillUnmount(){var n=this.props.mode;n==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var n=this.state,s=n.playerConfig,t=n.showPrivateVodError,e=n.dialogVisible,i=n.dialogModal,l=n.promptMessage,u=n.randomAlertDialogVisible,v=n.randomAlertModal,p=n.randomAlertTip,O=n.encryptedSwitch,D=this.props,M=D.resourceInfo,f=D.t,P=O==="OPEN"?z:se;return o().createElement(E.Fragment,null,o().createElement(P,(0,V.Z)({ref:this.getPlayInstance},M,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:s,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),o().createElement(Ee.ZP,(0,V.Z)({visible:e},i,{footer:this.renderFooter()}),o().createElement("div",{className:"video-business-prompt"},l)),o().createElement(Ee.ZP,(0,V.Z)({visible:u},v,{footer:this.renderRandomFooter()}),o().createElement("div",{className:"video-player-container__prompt"},p)),t&&o().createElement("div",{className:"video-business-vod-error"},f("privateCloud.docReadError")),o().createElement(Pe.Z,{scenes:"video"}))}}var B=(0,I.$j)(r,null,null,{forwardRef:!0})((0,R.Z)("translation",{withRef:!0})(y)),Q=a(94184),$=a.n(Q),re=a(84874),ie=J=>({userInfo:J.user}),le={getPravateDocUrl:fe.ZP.localStorage.getPravateDocUrl};function Se(J){return JSON.stringify(J,(n,s)=>(typeof s=="function"&&(s=s.toString()),s))}function Ne(J){var n=parseInt(parseInt(J,10)/60,10),s=parseInt(parseInt(J,10)%60,10);return n<10&&(n="0".concat(n)),s<10&&(s="0".concat(s)),"".concat(n,":").concat(s)}class Ze extends E.Component{constructor(n){var s;super(n);s=this,this.messageFun=t=>{var e=this.props,i=e.docType,l=e.progress,u=e.studyTimeLimit,v=e.studyTime,p=this.state,O=p.jumpPageTag,D=p.totalTime,M=p.timeRemaining,f=this.state.previewDocData,P={};try{P=JSON.parse(t.data)}catch(Y){return}switch(P.action){case"preview.ready":this.initDocData();break;case"preview.meta":f.totalPage=P.data.pc||1,f.currentPage=1,this.setState({previewDocData:f},()=>{this.reportStatusInterval()}),u>0?(this.saveProgress(l,v||"1",P.data.pc||1),this.setState({showCountDownContainer:!0})):i==="xlsx"||i==="xls"||f.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,v||"1",P.data.pc||1),u>0&&l<100?(this.setState({showCountDown:!0}),i==="xlsx"||i==="xls"?D=u:D=u*P.data.pc,M=parseInt(D*(1-l/100),10),this.setState({timeRemaining:M,totalTime:D},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(O){O=!1,this.setState({jumpPageTag:O});return}f.currentPage=P.data.pageIndex+1,this.setState({previewDocData:f}),u||this.saveProgress(Math.ceil(f.currentPage/f.totalPage*100),f.currentPage,f.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":A.default.error(P.data.result);break;default:break}},this.initDocData=(0,T.Z)(g().mark(function t(){var e,i,l,u,v,p,O,D,M,f,P,Y,X,te;return g().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(s.setState({isShowPrivateError:!1}),e=s.props,i=e.docType,l=e.userInfo,u=e.documentWatermarkSettings,v=e.storageType,p=e.privateDocId,O=l.name,D=l.jobNumber,M=l.position,f="",P={},v!=="ALIBABA_PRIVATE"){j.next=18;break}return j.prev=6,Y=le.getPravateDocUrl(p),j.next=10,H.WY.get({url:Y});case 10:X=j.sent,te=X.data,te.code===0?P=te.data||{}:s.setState({isShowPrivateError:!0}),j.next=18;break;case 15:j.prev=15,j.t0=j.catch(6),s.setState({isShowPrivateError:!0});case 18:if(u.indexOf("name")>-1&&(f="".concat(f+O," ")),u.indexOf("position")>-1&&(f="".concat(f+M," ")),u.indexOf("jobnumber")>-1&&(f+=D),f.length>0?window.sendMessage("preview.init",(0,w.Z)({wmType:1,wmValue:f,wmColor:"rgba(192, 192, 192, 0.4)"},P)):window.sendMessage("preview.init",(0,w.Z)({},P)),i!=="xlsx"&&i!=="ppt"&&i!=="pptx"&&i!=="xls"?s.setState({pageOperateContainerVisible:!0}):s.setState({pageOperateContainerVisible:!1}),!(i==="ppt"||i==="pptx")){j.next=29;break}j.t1=window,j.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},j.t1.sendMessage.call(j.t1,"setConfig",j.t2),j.next=32;break;case 29:j.t3=window,j.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},j.t3.sendMessage.call(j.t3,"setConfig",j.t4);case 32:case"end":return j.stop()}},t,null,[[6,15]])})),this.handleJumpPage=t=>{var e=this.state.previewDocData;e.currentPage=t,this.setState({jumpPageTag:!0,previewDocData:e});var i=t/e.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(i),t,e.totalPage),window.sendMessage("logic.toPage",{pageIndex:t-1})},this.redirectPage=()=>{var t=this.props,e=t.studyTimeLimit,i=t.studyTime,l=0;e===0&&(l=i-1>0?i-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var t=this.state.timeRemaining,e=this.state,i=e.totalTime,l=e.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{t-=1,this.setState({timeRemaining:t}),t<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var u=(i-t)/i*100;t<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(u),t,l.totalPage)},2e4)},this.saveProgress=(t,e,i)=>{var l=this.props.onSaveProgress;l&&l(t,e,i)},this.reportStatusInterval=()=>{var t=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var e=this.state.previewDocData.currentPage;t&&t({currentPage:e})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=t=>{this.docReader=t},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(n,s)=>{var t=this.docReader.contentWindow;t.postMessage(Se({action:n,data:s}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var n=this.props,s=n.t,t=n.storageType,e=n.privateDocId,i=this.props.aliUrl,l=this.state,u=l.previewDocData,v=l.pageOperateContainerVisible,p=l.timeRemaining,O=l.showCountDown,D=l.showCountDownContainer,M=l.showPageOperateContainer,f=l.isShowPrivateError;return t==="ALIBABA_PRIVATE"&&(i="https://preview.imm.aliyuncs.com/index.html?docId=".concat(e)),o().createElement("div",{className:"doc-reader-container"},o().createElement("div",{className:"ali-doc-container",style:{paddingBottom:v?"56px":"0"}},o().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:i,id:"aliyunPreview",ref:this.dealPreviewRef}),D?o().createElement("div",{className:"ali-doc-container__countdown"},O?o().createElement("div",null,o().createElement(re.Z,{iconClass:"iconf-tipe",size:"16px"}),s("component.docStillStudy"),o().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Ne(p)," "),s("component.canDone")):o().createElement("div",null,o().createElement(re.Z,{iconClass:"iconf-tipe",size:"16px"}),s("component.docHasFinish"))):null,v?o().createElement("div",{className:"ali-doc__operate"},o().createElement("div",{className:$()(["ali-doc__operate__content",M?"":"ali-doc__operate__hide-content"])},o().createElement("div",{className:"ali-doc__operate__pagination"},o().createElement("div",{className:"ali-doc__operate__pagination__pages"},u.currentPage," / ",u.totalPage),o().createElement("div",{className:"ali-doc__operate__pagination__toggle"},o().createElement("div",{className:"ali-doc__operate__pagination__choose"},o().createElement("span",null,s("component.choosePage"),o().createElement(re.Z,{iconClass:"iconf-arrow-under",size:"14px"})),o().createElement("div",{className:"ali-doc__operate__page-list-container"},o().createElement("div",{className:"ali-doc__operate__choose-page"},s("component.fastChoosePage")),o().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:u.totalPage})).map((P,Y)=>o().createElement("li",{key:P,onClick:()=>this.handleJumpPage(Y+1)},Y+1))))),o().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},s("common.collapse"))))),o().createElement("div",{className:$()("ali-doc__operate__unfold",M?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},s("common.expand"))):null,f&&o().createElement("div",{className:"ali-doc__error"},s("privateCloud.docReadError"))),o().createElement(Pe.Z,{scenes:"document"}))}}Ze.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Be=(0,I.$j)(ie)((0,R.Z)()(Ze)),Ve=J=>({userInfo:J.user}),xe="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ke="".concat("https://doc.coolcollege.cn");class Fe extends o().Component{constructor(n){var s;super(n);s=this,this.onSaveProgress=(t,e,i)=>{var l=this.props,u=l.mode,v=l.studyInfo,p=l.userInfo,O=p.enterpriseId,D=p.id;u==="learn"&&(0,k.sH)({studyInfo:v,progress:t,page_count:i,recent_start:e,enterpriseId:O,userId:D}).then(M=>{M&&M.data&&(0,he.Z)(M.data.integral_info||"")})},this.messageFun=function(){var t=(0,T.Z)(g().mark(function e(i){var l,u,v,p,O,D;return g().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(i.data!=="local-resource"){f.next=9;break}if(l=s.props.resourceInfo,u=l.storageType,v=l.playId,!(u&&u==="LOCAL")){f.next=9;break}return f.next=6,ge(v);case 6:p=f.sent,O=p.data,O.code===0&&(D=document.getElementById("local-resource-box"),D.contentWindow.postMessage({msg:"local-auth-key",authKey:O.data.auth_key},"*"));case 9:case"end":return f.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getInfoFromSettings=(0,T.Z)(g().mark(function t(){var e,i,l;return g().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,k.Gw)();case 2:e=v.sent,i=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,U.RG)(e,i),s.setState(l,()=>{s.initDocPage(s.props)});case 6:case"end":return v.stop()}},t)})),this.initDocPage=(0,T.Z)(g().mark(function t(){var e,i,l,u,v,p,O,D,M,f,P,Y,X,te,ne,j,ye,me,ve,Me,Te,_e,Ae,be,pe,de,We,Le,it,Xe,qe,et,tt,ot,at=arguments;return g().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(e=at.length>0&&at[0]!==void 0?at[0]:{},i=e.resourceInfo,l=e.mode,u=e.studyInfo,v=e.userInfo,p=s.state.documentPlayerMode,O=i.docType,D=i.docTitle,M=i.url,f=i.studyTimeLimit,P=i.studyTime,Y=i.aliUrl,X=i.progress,te=i.storageType,ne=i.playId,j=u.studyType,ye=u.courseId,me=u.studyId,ve=u.resourceId,Me=v.enterpriseId,Te=v.id,_e=v.isLogin,Ae=v.token,be=p==="compat"&&Y.indexOf("preview.imm.aliyun")>-1||te==="ALIBABA_PRIVATE",!be){Ie.next=11;break}s.setState({showAliReader:!0}),Ie.next=31;break;case 11:if(pe=(0,k.sH)({enterpriseId:Me,userId:Te,token:Ae,studyInfo:u},!0),de=j==="studyTask"?2:1,We=fe.ZP.SaveProgress.reportStatusInterval(u),Le={isSaveProgress:_e&&l==="learn"&&pe,isSaveRecord:!1,access_token:Ae,userId:Te,hostUrl:xe,courseId:ye,resourceId:ve,courseType:1,planId:me,studyTimeLimit:f,studyTime:P,saveProgressUrl:pe,type:"eapp",progress:X,saveRecordProgressUrl:We,actionType:de},!(te&&te==="LOCAL")){Ie.next=26;break}return Ie.next=18,ge(ne);case 18:if(it=Ie.sent,Xe=it.data,Xe.code!==0){Ie.next=25;break}Le.auth_key=Xe.data.auth_key,Le.url=M,Ie.next=26;break;case 25:return Ie.abrupt("return");case 26:qe=JSON.stringify(Le),et="".concat(D,".").concat(O).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),tt="".concat(Ke,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(qe),"&furl=").concat(M,"?attname=").concat(et),te&&te==="LOCAL"&&(ot="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),tt="".concat(ot,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(qe),"&furl=").concat(M,"?attname=").concat(et)),s.setState({encodeUrl:tt});case 31:case"end":return Ie.stop()}},t)})),this.handleReportStatusInterval=t=>{var e=t.currentPage,i=this.props,l=i.resourceInfo,u=i.mode,v=i.studyInfo,p=i.userInfo,O=l.type,D=v.courseId,M=v.studyId,f=v.resourceId,P=p.enterpriseId,Y=p.id,X=p.isLogin,te="",ne="",j=0,ye=!1;switch(O){case"enterprise":j=1,ye=!0;break;case"study":te=M,j=2,ye=!0;break;case"project":ne=M,j=1,ye=!0;break;default:break}if(!(!ye||!X)){var me={plan_id:te,enterprise_id:P,user_id:Y,course_id:D,project_course_id:ne,resource_id:f,current_page:e,action_type:j,send_time:Date.parse(new Date)};u==="learn"&&(0,k.Xc)(v,me)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(n){this.initDocPage(n)}render(){var n=this.props.resourceInfo,s=this.state,t=s.encodeUrl,e=s.documentWatermarkSettings,i=s.showAliReader,l=n.docType,u=n.type,v=n.studyTimeLimit,p=n.studyTime,O=n.aliUrl,D=n.progress,M=n.storageType,f=n.playId;return i?o().createElement(Be,{privateDocId:f,storageType:M,aliUrl:O,docType:l,progress:D,studyTime:p,studyTimeLimit:v,documentWatermarkSettings:e,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:u}):o().createElement("div",{className:"doc-reader-container"},o().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:t,frameBorder:"0",allowFullScreen:!0}),o().createElement(Pe.Z,{scenes:"document"}))}}var je=(0,I.$j)(Ve)(Fe),rt=a(38979),Ye=a(90706),nt=a(12968),He=a(44208),Ue=a(60667),ze=J=>({userInfo:J.user});class Re extends o().Component{constructor(){var n;super(...arguments);n=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var s=this.props,t=s.studyInfo,e=s.mode,i=s.userInfo,l=i.enterpriseId,u=i.id;e==="learn"&&(0,U.Gp)({studyInfo:t,enterpriseId:l,userId:u})},this.getInfoFromSettings=(0,T.Z)(g().mark(function s(){var t,e,i;return g().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,k.Gw)();case 2:t=u.sent,e=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],i=(0,U.RG)(t,e),n.setState(i,()=>{n.renderWatermark()});case 6:case"end":return u.stop()}},s)})),this.renderWatermark=()=>{var s=this.props.userInfo,t=this.state.imageWatermark,e=s.name,i=s.unionid,l=s.sourceType,u=s.jobNumber,v=s.position,p=[];t.indexOf("name")>-1&&p.push(o().createElement(Ue.Z,{dataType:"userName",value:i,name:e,type:l})),t.indexOf("position")>-1&&p.push(o().createElement("span",null,v)),t.indexOf("jobnumber")>-1&&p.push(o().createElement("span",null,u)),t.length>0&&this.setState({watermark:p.map((O,D)=>o().createElement("span",{key:D},O))})},this.handleError=s=>{var t=this.props.onError;t&&t(s)},this.getImageUrl=(0,T.Z)(g().mark(function s(){var t,e,i,l,u,v,p,O,D,M;return g().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(t=n.props,e=t.resourceInfo,i=t.t,l=e.playId,u=e.url,v=e.storageType,p=u,!v){P.next=21;break}if(v!=="ALIBABA_PRIVATE"){P.next=15;break}return P.next=7,(0,k.J7)(l);case 7:if(O=P.sent,!O){P.next=12;break}p=O,P.next=13;break;case 12:return P.abrupt("return",A.default.info(i("privateCloud.docReadError")));case 13:P.next=21;break;case 15:if(v!=="LOCAL"){P.next=21;break}return P.next=18,ge(l);case 18:D=P.sent,M=D.data,M.code===0&&(p="".concat(u,"?auth_key=").concat(M.data.auth_key));case 21:n.setState({imageUrl:[p]},()=>{var Y=n.state.imageUrl,X="image-business",te=document.querySelectorAll(".".concat(X,"-image img"));te.forEach((ne,j)=>{ne.onerror=()=>{n.handleError(Y[j])}})});case 22:case"end":return P.stop()}},s)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var n="image-business",s=this.props.resourceInfo,t=s.preview,e=t===void 0?!1:t,i=this.state,l=i.watermark,u=i.imageUrl;return o().createElement("div",{className:n},o().createElement(Pe.Z,{scenes:"image"}),o().createElement(Ye.Z,{className:"".concat(n,"-carousel")},u.map((v,p)=>o().createElement("div",{className:"".concat(n,"-image"),key:p.toString()},o().createElement(He.Z,{src:v,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:e})))))}}Re.defaultProps={prefixCls:"watch-image-page"};var Qe=(0,I.$j)(ze)((0,R.Z)()(Re)),$e=J=>({userInfo:J.user});class Ge extends o().Component{constructor(){var n;super(...arguments);n=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,T.Z)(g().mark(function s(){var t,e,i;return g().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,k.Gw)();case 2:t=u.sent,e=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],i=(0,U.RG)(t,e),n.setState(i,()=>{n.renderWatermark()});case 6:case"end":return u.stop()}},s)})),this.renderWatermark=()=>{var s=this.props.userInfo,t=this.state.htmlWatermark,e=s.name,i=s.unionid,l=s.sourceType,u=s.jobNumber,v=s.position,p=[];t.indexOf("name")>-1&&p.push(o().createElement(Ue.Z,{dataType:"userName",value:i,name:e,type:l})),t.indexOf("position")>-1&&p.push(o().createElement("span",null,v)),t.indexOf("jobnumber")>-1&&p.push(o().createElement("span",null,u)),t.length>0&&this.setState({watermark:p.map((O,D)=>o().createElement("span",{key:D},O))})},this.saveProgress=()=>{var s=this.props,t=s.studyInfo,e=s.mode,i=s.userInfo,l=i.enterpriseId,u=i.id;e==="learn"&&(0,U.Gp)({studyInfo:t,enterpriseId:l,userId:u})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var n="html-business",s=this.props.resourceInfo,t=s.url,e=this.state.watermark;return o().createElement("div",{className:n},o().createElement("div",{className:"".concat(n,"__html-watermark")},e),o().createElement("iframe",{title:"html",className:"".concat(n,"_iframe"),src:t}))}}var Je=(0,I.$j)($e)((0,R.Z)()(Ge)),lt=a(57068),ut=a(1164),ct=J=>({userInfo:J.user});class dt extends o().PureComponent{constructor(){super(...arguments);this.getHost=n=>{var s=n.split("//"),t=s[1].split("/");return[s[0],t[0]].join("//")},this.getScormUrl=()=>{var n=this.props,s=n.studyInfo,t=n.mode,e=n.userInfo,i=n.resourceInfo,l=n.from,u=e.enterpriseId,v=e.id,p=i.url,O=this.getHost(p);if(t==="learn"){var D=(0,w.Z)({userId:v,enterpriseId:u,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(p),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},s);return"".concat(O).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(lt.stringify(D))}return"".concat(O,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(p))},this.handleOpenScormLink=n=>{ut.Z.targetTo({path:n,isExternalLink:!0})}}render(){var n=this.props.t,s="scorm-business",t=this.getScormUrl(),e=(0,Ce.UI)("SCORM_EXTERNAL_WATCH");return o().createElement("div",{className:s},e?o().createElement("div",{className:"".concat(s,"_scorm")},o().createElement("img",{className:"".concat(s,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),o().createElement("h5",null,n("resourcePlay.scormTip")),o().createElement(b.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(t)},n("resourceLibrary.h5LinkPlayButton"))):o().createElement("iframe",{title:"scorm",className:"".concat(s,"_iframe"),src:t}))}}var pt=(0,I.$j)(ct)((0,R.Z)()(dt));class mt extends o().Component{render(){var n=this.props,s=n.visible,t=n.title,e=n.onCancel,i=n.t,l=o().createElement("span",null,t);return o().createElement(Ee.ZP,{visible:s,title:l,onCancel:e,footer:null},o().createElement("div",{className:"ban-preview"},o().createElement("div",{className:"ban-preview-center"},o().createElement("img",{src:S(),alt:"picture"}),o().createElement("h2",null,i("localStorage.tip")),o().createElement("p",null,i("localStorage.banPreview"))),o().createElement("hr",null),o().createElement(b.Z,{type:"primary",className:"know",onClick:e},i("localStorage.onKnow"))))}}var vt=(0,R.Z)()(mt);class st extends E.Component{constructor(){var n;super(...arguments);n=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=s=>{var t=this.props.previewInfo,e=t.onCancel;this.onCancel(),e(s)},this.onGetVideoBusiness=s=>{var t=this.props.onRef,e=t===void 0?()=>{}:t;this.videoBusiness=s,e(s)},this.onFullScreen=()=>{var s=this.state.fullScreen;this.setState({fullScreen:!s})},this.handleJudgeNetwork=(0,T.Z)(g().mark(function s(){var t,e,i,l,u,v,p,O,D,M,f,P=arguments;return g().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(t=P.length>0&&P[0]!==void 0?P[0]:null,e=n.props,i=e.resourceInfo,l=e.watchType,u=i.storageType,v=i.playId,p=i.originUrl,O=l==="image"||l==="video"||l==="doc",D=null,t?D=t:p?D=p:D=i.url,!(O&&D&&v&&u&&u==="LOCAL")){X.next=22;break}return X.prev=7,X.next=10,(0,k.NY)(v);case 10:return M=X.sent,X.next=13,(0,k.Hy)(D,M);case 13:f=X.sent,f?n.setState({showBan:"no"}):n.setState({showBan:"yes"}),X.next=20;break;case 17:X.prev=17,X.t0=X.catch(7),n.setState({showBan:"yes"});case 20:X.next=23;break;case 22:n.setState({showBan:"no"});case 23:case"end":return X.stop()}},s,null,[[7,17]])})),this.renderOuter=()=>{var s=this.props,t=s.prefixCls,e=s.watchType,i=s.onCurrentTime,l=i===void 0?()=>{}:i;return o().createElement("div",{className:"".concat(t,"-outer")},e==="video"&&o().createElement(B,(0,V.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),e==="doc"&&o().createElement(je,this.props),e==="image"&&o().createElement(Qe,(0,V.Z)({onError:this.handleJudgeNetwork},this.props)),e==="html"&&o().createElement(Je,this.props),e==="scorm"&&o().createElement(pt,this.props))},this.renderFooter=()=>{var s=this.props,t=s.resourceInfo.storageType,e=s.t,i=this.state.showBan,l=i!==""&&i==="yes";return t&&t!=="PUBLIC_CLOUD"&&l?o().createElement(b.Z,{type:"primary",className:"know",onClick:this.onCancelModel},e("localStorage.onKnow")):null}}componentDidMount(){var n=this.props.mode;n==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(n){n.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var n=this.state,s=n.showBan,t=n.fullScreen,e=this.props,i=e.mode,l=e.previewWay,u=e.previewInfo,v=e.prefixCls,p=e.t,O=e.showEnlarge,D=e.footer,M=D===void 0?null:D,f=u.visible,P=u.destroyOnClose,Y=u.title,X=s!==""&&s==="yes",te=s!==""&&s==="no";return o().createElement(E.Fragment,null,i==="preview"&&l==="popups"&&o().createElement(Ee.ZP,{destroyOnClose:P,visible:f,title:Y,onCancel:this.onCancelModel,footer:M||this.renderFooter(),wrapClassName:"".concat(v,"-resource ").concat(t?"".concat(v,"-full"):"")},O&&o().createElement("div",{className:"".concat(v,"-resource-out-icon"),onClick:this.onFullScreen},t?o().createElement(N.Z,{className:"".concat(v,"-resource-icon")}):o().createElement(m.Z,{className:"".concat(v,"-resource-icon")})),o().createElement("div",{className:"".concat(v,"-inner")},!f&&o().createElement(c.Z,{size:"large"}),f&&te&&this.renderOuter(),X&&o().createElement(x,null))),(i==="learn"||l==="page")&&te&&this.renderOuter(),(i==="learn"||l==="page")&&o().createElement(vt,{visible:X,title:Y||p("questionn.warmHint"),onCancel:this.onCancel}))}}st.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ht=(0,R.Z)("translation",{withRef:!0})(st)},41225:function(oe,G,a){"use strict";a.d(G,{Hy:function(){return T},NY:function(){return h},Gw:function(){return g},sH:function(){return N},BR:function(){return E},qp:function(){return m},Xc:function(){return R},J7:function(){return o}});var d=a(57361),c=a(9754),F=a.n(c),b=a(10237),V=a(37055),T=function(){var C=(0,d.Z)(F().mark(function S(){var Z,x,w,_,A,I,U,k=arguments;return F().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return Z=k.length>0&&k[0]!==void 0?k[0]:"",x=k.length>1&&k[1]!==void 0?k[1]:"",w="",Z.startsWith("http")?(_=Z.split("//")[1].trim(),A=_.split("/")[0],w="https://".concat(A,"/cms/ticket")):(I=Z.split("/")[0],w="https://".concat(I,"/cms/ticket")),K.prev=4,K.next=7,b.ZQ.get({url:w,params:{ticket:x}});case 7:if(U=K.sent,!(U.status===200||U.status===403)){K.next=10;break}return K.abrupt("return",Promise.resolve(!0));case 10:return K.abrupt("return",Promise.resolve(!1));case 13:return K.prev=13,K.t0=K.catch(4),K.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return K.stop()}},S,null,[[4,13]])}));return function(){return C.apply(this,arguments)}}(),h=function(){var C=(0,d.Z)(F().mark(function S(Z){var x,w;return F().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,b.ZQ.get({url:V.ZP.local.getTicket(Z)});case 2:if(x=A.sent,w=x.data,w.code!==0){A.next=6;break}return A.abrupt("return",Promise.resolve(w.data.ticket));case 6:return A.abrupt("return",Promise.resolve(""));case 7:case"end":return A.stop()}},S)}));return function(Z){return C.apply(this,arguments)}}(),g=function(){var C=(0,d.Z)(F().mark(function S(){var Z;return F().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,b.WY.get({url:V.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return Z=w.sent,w.abrupt("return",Z.data.list);case 4:case"end":return w.stop()}},S)}));return function(){return C.apply(this,arguments)}}(),E=function(){var C=(0,d.Z)(F().mark(function S(Z){var x,w,_;return F().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,b.WY.get({url:V.ZP.localStorage.getPravateVideoUrl(Z)});case 2:if(x=I.sent,x.data.code!==0){I.next=6;break}return w=x.data.data.videoPlayInfo,_=w===void 0?"":w,I.abrupt("return",_);case 6:return I.abrupt("return","");case 7:case"end":return I.stop()}},S)}));return function(Z){return C.apply(this,arguments)}}(),o=function(){var C=(0,d.Z)(F().mark(function S(Z){var x,w,_;return F().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return x=V.ZP.localStorage.getPravateDocUrl(Z),I.prev=1,I.next=4,b.WY.get({url:x});case 4:if(w=I.sent,_=w.data,!(_.code===0&&_.data)){I.next=8;break}return I.abrupt("return",_.data.docResourceDownloadUrl||"");case 8:return I.abrupt("return","");case 11:return I.prev=11,I.t0=I.catch(1),I.abrupt("return","");case 14:case"end":return I.stop()}},S,null,[[1,11]])}));return function(Z){return C.apply(this,arguments)}}(),N=function(S){var Z=S.studyInfo,x=S.progress,w=S.recent_start,_=S.page_count,A=S.enterpriseId,I=S.userId,U=S.token,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H,K=Z.studyType;if(K==="studyTask"&&(H=V.ZP.SaveProgress.studySaveProgress(Z)),(K==="course"||K==="enterprise")&&(H=V.ZP.SaveProgress.enterpriseCourseSaveProgress(Z)),K==="studyProject"&&(H=V.ZP.SaveProgress.projectSaveProgress(Z)),K==="platform"&&(H="".concat(V.ZP.SaveProgress.platformCourseSaveProgress(Z))),(k||K==="platform")&&(H+="?enterprise_id=".concat(A,"&user_id=").concat(I)),k)return H+="&access_token=".concat(U||localStorage.getItem("token")),H;var L={progress:x,recent_start:w,tempTime:Date.parse(new Date)};return _&&(L.page_count=_),Z.evaluationId&&(L.evaluation_id=Z.evaluationId),b.WY.post({url:H,data:L})},m=C=>{var S=C.popupId,Z=C.planId,x=C.resourceId,w=C.type;return b.WY.post({url:V.ZP.TaskStudyRecord.setRandomPopupRecord(Z),data:{course_id:x,terminal_type:"PC",popup_id:S,type:w}})},R=(C,S)=>{var Z=V.ZP.SaveProgress.reportStatusInterval(C);return b.WY.post({url:Z,data:S})}},21594:function(oe,G,a){"use strict";a.d(G,{pu:function(){return V},RG:function(){return T},Gp:function(){return h},O8:function(){return g}});var d=a(88986),c=a(69164),F=a(38642),b=a(41225),V=E=>{var o="";switch(E){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":o="studyTask";break;case"enterprise":o="enterprise";break;case"courseProject":o="studyProject";break;case"platform":case"purchased":o="platform";break;default:break}return o},T=(E,o)=>{var N={};return o.forEach(m=>{var R=E.find(w=>w.type===m.type);if(R)if(m.type==="document_duration_limit"){var C=R.action_list,S=C.find(w=>w.type==="random_popup_verification");!(0,F.UI)("RANDOM_POPUP_VERIFY")||!S?N[m.name]="CLOSE":N[m.name]=S.param.checked==="true"?"OPEN":"CLOSE"}else if(m.type==="document_player"){var Z=JSON.parse(R.actions);Z.forEach(w=>{w.param.checked==="true"&&(N[m.name]=w.type)})}else if(m.type==="dynamic_watermark"){var x=R.action_list;x.forEach(w=>{w.type===m.resourceType&&w.param.checked==="true"&&(N[m.name]=w.param.comment)})}else N[m.name]=R.switch_status}),N},h=E=>{(0,b.sH)((0,d.Z)({progress:100,recent_start:1},E)).then(o=>{o&&o.data&&(0,c.Z)(o.data.integral_info||"")})},g=E=>{var o=document.createElement("div");return o.innerHTML=E,o.childNodes[0]}},11449:function(oe,G,a){"use strict";a.d(G,{Z:function(){return z}});var d=a(88986),c=a(33565),F=a(12924),b=a.n(F),V=a(3115),T=a(49111),h=a(19650),g=a(62029),E=a(57663),o=a(71577),N=a(91768),m=a(28216),R=a(37055),C=a(10237);function S(ee){var ae=R.ZP.getHelpContentByMenuKey(),q={key:ee};return C.WY.get({url:ae,params:q})}var Z=a(74228),x=a.n(Z),w=a(1164),_=a(76466),A=a(38642);class I extends b().Component{constructor(ae){var q;super(ae);q=this,this.getHelpContentByMenuKey=()=>{var se=this.props.defaultMenuKey;S(se).then(ue=>{var ce=ue.data,he=ce.help_url,fe=ce.video_url;this.setState({videoUrl:fe,helpUrl:he})})},this.handleOpenHelpUrl=se=>{if((0,A.ve)()){window.open(se,"_blank");return}w.Z.targetTo({path:se,isExternalLink:!0})},this.handleOpenVideo=function(se){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q.props.t("helpCenter.video");q.setState(ce=>({resourcePlayInfo:(0,d.Z)((0,d.Z)({},ce.resourcePlayInfo),{},{resourceInfo:{originUrl:se,source:{FD:se,OD:se},contentType:"mp4"}}),previewInfo:(0,d.Z)((0,d.Z)({},ce.previewInfo),{},{title:ue,visible:!0,onCancel:q.handleCancelPreview})}))},this.handleCancelPreview=()=>{var se=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,d.Z)((0,d.Z)({},se),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:ae.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var ae=this.state,q=ae.helpUrl,se=ae.resourcePlayInfo,ue=ae.previewInfo,ce=ae.videoUrl,he=this.props.t;return b().createElement("div",{className:x().helpCenter},ce&&b().createElement(o.Z,{type:"link",className:x()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ce)},he("helpCenter.video")),q&&b().createElement(o.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(q)},he("helpCenter.tutorial")),b().createElement(_.Z,(0,g.Z)({},se,{previewInfo:ue})))}}var U=ee=>({defaultMenuKey:ee.currentRoute.menuKey});I.defaultProps={defaultMenuKey:""};var k=(0,m.$j)(U)((0,N.Z)()(I));function H(ee){var ae=ee.extra,q=localStorage.getItem("dingPersonnel"),se=sessionStorage.getItem("dingPersonnel");return b().createElement(h.Z,null,ae,q!=="dingPersonnel"&&se!=="dingPersonnel"&&(0,A.eY)("COMMONEXTRA_HELP_CENTER")&&b().createElement(k,null))}var K=H,L=a(4408);function W(ee){var ae=(0,F.useState)({helpCenter:(0,A.eY)("HEAD_HELP_CENTER_BUT")}),q=(0,c.Z)(ae,1),se=q[0],ue=ee.pageContainerParams,ce=ue===void 0?{}:ue,he=ee.noPadding,fe=he===void 0?!1:he,ge=ee.isPersonal,we=ge===void 0?!1:ge,Ee=ee.pageTitle,Ce=ee.className,De=Ce===void 0?"":Ce,Pe={extra:se.helpCenter?b().createElement(K,{extra:ce.extra}):ce.extra},Oe=(0,d.Z)((0,d.Z)({},ce),Pe);return b().createElement("div",{className:"page-container-content ".concat(fe?"page-container-noPadding":""," ").concat(we?"page-container-content_personal_background":""," ").concat(De)},Ee&&b().createElement(L.Z,{title:Ee}),we?b().createElement(V.Z,null,ee.children):b().createElement(V.Z,Oe,ee.children))}var z=W},76743:function(oe,G,a){"use strict";a.r(G);var d=a(9715),c=a(86585),F=a(47673),b=a(4107),V=a(34792),T=a(48086),h=a(12924),g=a.n(h),E=a(76651),o=a(91768),N=a(36202),m=a(78138),R=a.n(m),C=a(86726),S=a(11449),Z=a(16598),x=a(4408),w=a(18329),_=a(56075);class A extends h.Component{constructor(U){super(U);this.getList=()=>{(0,_.DK)().then(k=>{k.data.code===0&&this.setState({dataSource:k.data.data})})},this.showEditModal=k=>{this.setState({editVisible:!0,levelName:k.name,levelId:k.id})},this.sureModal=()=>{var k=this.state,H=k.levelName,K=k.levelId,L=k.loading,W=this.props.t;if(H.trim().length===0){T.default.error(W("evaluation.levelValiate"));return}L||(this.setState({loading:!0}),(0,_.y4)({id:K,name:H.trim()}).then(z=>{this.setState({loading:!1}),z.data.code===0&&(T.default.success(W("common.editSuccess")),this.getList(),this.setState({editVisible:!1,levelName:""}))}).catch(()=>{this.setState({loading:!1})}))},this.cancelModal=()=>{this.setState({editVisible:!1,levelName:""})},this.state={actions:(0,C.V9)("abilityLevel",U.modules),dataSource:[],editVisible:!1,levelName:"",levelId:"",loading:!1,isNewAbilityLevel:(0,C.F)("abilityLevel",U.modules)==="856363557683974704"},this.formRef=g().createRef()}componentDidMount(){this.getList()}render(){var U=this.props.t,k=this.state,H=k.dataSource,K=k.editVisible,L=k.levelName,W=k.actions,z=k.isNewAbilityLevel,ee=(0,C.H3)("edit",W),ae=[{title:U("evaluation.abilitylevel"),dataIndex:"name",key:"name"},{title:U("evaluation.defaultScore"),dataIndex:"default_score",key:"default_score"},{title:U("common.updater"),dataIndex:"update_user_str",key:"update_user_str",render:q=>g().createElement("span",null,q||"-")},{title:U("common.updateTime"),dataIndex:"update_time",key:"update_time",render:q=>g().createElement("span",null,R()(q).format("YYYY-MM-DD HH:mm"))},{title:U("common.operate"),key:"operate",render:q=>{var se=[{type:"edit",visible:!0,title:U("common.edit"),click:()=>this.showEditModal(q)}];return g().createElement(Z.Z,{buttons:se})}}];return z&&ae.pop(),ee&&ae.push({title:U("common.operate"),key:"operate",render:q=>{var se=[{type:"edit",visible:!0,title:U("common.edit"),click:()=>this.showEditModal(q)}];return g().createElement(Z.Z,{buttons:se})}}),g().createElement(S.Z,{pageContainerParams:{header:{title:U("evaluation.abilityLevel")}}},g().createElement(x.Z,{title:U("evaluation.abilityLevel")}),g().createElement("div",{className:"ability-level-container"},g().createElement(N.f,{columns:ae,dataSource:H,pagination:!1,tableUUID:"5e33e45d-ab9d-4d60-81e9-072f4a5da5c7"}),g().createElement(w.ZP,{title:U("evaluation.abilityLevelEdit"),visible:K,onOk:this.sureModal,onCancel:this.cancelModal},g().createElement("div",{className:"ability-level-form"},g().createElement(c.Z,{name:"basic",ref:this.formRef},g().createElement(c.Z.Item,{required:!0,label:U("evaluation.levelName")},g().createElement(b.Z,{placeholder:U("evaluation.levelPlaceholder"),value:L,maxLength:20,onChange:q=>this.setState({levelName:q.target.value})})))))))}}G.default=(0,E.$j)(I=>({modules:I.user.modules,userLng:I.user,versionType:I.user.versionType}))((0,o.Z)()(A))},56075:function(oe,G,a){"use strict";a.d(G,{lf:function(){return F},wp:function(){return b},IT:function(){return V},Ty:function(){return T},UN:function(){return h},tb:function(){return g},el:function(){return E},K:function(){return o},yx:function(){return m},aB:function(){return C},VI:function(){return S},B5:function(){return Z},M5:function(){return x},di:function(){return w},b9:function(){return _},tQ:function(){return I},hB:function(){return U},DK:function(){return k},y4:function(){return H},Ys:function(){return K},sG:function(){return L},jh:function(){return W},h4:function(){return z},sE:function(){return ee},lo:function(){return ae},zG:function(){return q},Yy:function(){return se},xX:function(){return ue},m_:function(){return ce},$t:function(){return he},Sh:function(){return fe},$s:function(){return ge},Ne:function(){return we},B:function(){return Ee},TK:function(){return Ce},_u:function(){return De},DF:function(){return Pe},Mq:function(){return Oe},Kx:function(){return ke}});var d=a(37055),c=a(10237);function F(r){var y=r.page_number,B=r.page_size,Q=r.keyword,$=Q===void 0?"":Q,re=d.ZP.evaluateManage.getEvaluateTools();return c.WY.get({url:re,params:{page_number:y,page_size:B,keyword:$}})}function b(r){var y=r.modelId,B=r.productId,Q=d.ZP.evaluateManage.getEvaluateTool();return c.WY.get({url:Q,params:{modelId:y,productId:B}})}function V(){var r=d.ZP.evaluateManage.getEvaluateType();return c.WY.get({url:r})}function T(r){var y=r.evaluation_tools,B=d.ZP.evaluateManage.addEvaluateTools();return c.WY.post({url:B,data:{evaluation_tools:y}})}function h(r){var y=r.keyword,B=y===void 0?"":y,Q=r.industry,$=d.ZP.evaluateManage.queryEvaluateTools();return c.WY.get({url:$,params:{keyword:B,industry:Q}})}function g(r){var y=r.ids,B=r.visible_range,Q=r.department_ids,$=r.group_ids,re=r.post_ids,ie=r.user_ids,le=d.ZP.evaluateManage.setEmployRange();return c.WY.post({url:le,data:{ids:y,visible_range:B,department_ids:Q,group_ids:$,post_ids:re,user_ids:ie}})}function E(r){var y=r.id,B=d.ZP.evaluateManage.deleteEvaluateTool({id:y});return c.WY.post({url:B})}function o(r){var y=r.id,B=d.ZP.evaluateManage.queryVisible({toolId:y});return c.WY.get({url:B})}function N(r){var y=r.page_number,B=r.page_size,Q=r.name,$=r.ability_type,re=r.source,ie=r.evaluation_tool_id,le=CONFIG.evaluateManage.getAbilityList();return request.get({url:le,params:{page_number:y,page_size:B,name:Q,ability_type:$,source:re,evaluation_tool_id:ie}})}function m(r){var y=r.id,B=d.ZP.evaluateManage.getToolsListByAbility({abilityId:y});return c.WY.get({url:B})}function R(r){var y=r.ids,B=r.training_courses,Q=r.isBatchOperation,$=CONFIG.evaluateManage.batchSetCase();return request.post({url:$,data:{ids:y,training_courses:B,isBatchOperation:Q}})}function C(r){var y=r.id,B=r.source,Q=d.ZP.evaluateManage.queryTrainingCase({abilityId:y});return c.WY.get({url:Q,params:{source:B}})}function S(r){var y=r.page_number,B=r.page_size,Q=r.only_see_me,$=r.keyword,re=r.status,ie=r.product_id,le=r.plan_type,Se=d.ZP.PostTalentEvaluation.getList();return c.WY.get({url:Se,params:{page_number:y,page_size:B,only_see_me:Q,keyword:$,status:re,product_id:ie,plan_type:le}})}function Z(r){var y=r.title,B=r.product_id,Q=r.term_type,$=r.start_time,re=r.end_time,ie=r.open_result,le=r.supervisor_Id,Se=r.source,Ne=r.user_ids,Ze=r.department_ids,Be=r.group_ids,Ve=r.post_ids,xe=r.authority_range,Ke=r.status,Fe=r.model_id,je=r.finish_promote,rt=r.certificate_id,Ye=r.is_get_score,nt=r.finish_score,He=r.isEdit,Ue=r.editId,ze=r.evaluation_tool_type,Re=r.evaluation_way_self,Qe=r.evaluation_way_superior,$e=r.evaluation_rule_result_vo,Ge=r.personnel_echo_request_list,Je=He?d.ZP.PostTalentEvaluation.edit(Ue):d.ZP.PostTalentEvaluation.add();return c.WY.post({url:Je,data:{title:y,product_id:B,term_type:Q,start_time:$,end_time:re,open_result:ie,supervisor_Id:le,source:Se,user_ids:Ne,department_ids:Ze,group_ids:Be,post_ids:Ve,authority_range:xe,status:Ke,model_id:Fe,finish_promote:je,certificate_id:rt,is_get_score:Ye,study_score:{finish_score:nt},evaluation_tool_type:ze,evaluation_way_self:Re,evaluation_way_superior:Qe,evaluation_rule_result_vo:$e,personnel_echo_request_list:Ge}})}function x(r){var y=r.taskId,B=d.ZP.PostTalentEvaluation.publish(y);return c.WY.post({url:B})}function w(r){var y=r.taskId,B=d.ZP.PostTalentEvaluation.unPublish(y);return c.WY.post({url:B})}function _(r){var y=r.id,B=d.ZP.evaluateManage.isReferenceWithOther({id:y});return c.WY.get({url:B})}function A(r){var y=r.type,B=CONFIG.deleteResource.check();return request.get({url:B,params:{type:y}})}function I(r){var y=d.ZP.PostTalentEvaluation.delete(r);return c.WY.post({url:y,data:{}})}function U(r){var y=d.ZP.PostTalentEvaluation.getInfo(r);return c.WY.get({url:y,params:{}})}function k(){var r=d.ZP.PostTalentEvaluation.getEvaluationAbilityLevel();return c.WY.get({url:r,params:{}})}function H(r){var y=r.id,B=r.name,Q=d.ZP.PostTalentEvaluation.editEvaluationAbilityLevel();return c.WY.post({url:Q,data:{id:y,name:B}})}function K(r){var y=d.ZP.PostTalentEvaluation.queryAbilityRange(r);return c.WY.get({url:y})}function L(r){var y=r.ability_ids,B=r.visible_range,Q=r.department_ids,$=r.group_ids,re=r.post_ids,ie=r.user_ids,le=r.userId,Se=d.ZP.PostTalentEvaluation.setAbilityRange(le);return c.WY.post({url:Se,data:{ability_ids:y,visible_range:B,department_ids:Q,group_ids:$,post_ids:re,user_ids:ie}})}function W(r){var y=r.only_see_me,B=r.key_word,Q=r.page_number,$=r.page_size,re=r.model_type,ie=d.ZP.PostTalentEvaluation.getEvaluationModel();return c.WY.get({url:ie,params:{only_see_me:y,key_word:B,page_number:Q,page_size:$,model_type:re}})}function z(r){var y=r.ids,B=r.visible_range,Q=r.department_ids,$=r.group_ids,re=r.user_ids,ie=r.post_ids,le=d.ZP.PostTalentEvaluation.settingEvaluationModalRange();return c.WY.post({url:le,data:{ids:y,visible_range:B,department_ids:Q,group_ids:$,user_ids:re,post_ids:ie}})}function ee(r){var y=d.ZP.PostTalentEvaluation.saveEditEvaluationModal();return c.WY.post({url:y,data:r})}function ae(r){var y=d.ZP.PostTalentEvaluation.getEvaluationModal(r);return c.WY.get({url:y})}function q(r){var y=r.abilityName,B=r.abilityType,Q=r.source,$=r.description,re=r.abilityLevels,ie=r.visibleRange,le=d.ZP.PostTalentEvaluation.addEvaluationAbility();return c.WY.post({url:le,data:{abilityName:y,abilityType:B,source:Q,description:$,abilityLevels:re,visibleRange:ie}})}function se(r){var y=d.ZP.PostTalentEvaluation.queryEvaluationAbility(r);return c.WY.get({url:y})}function ue(r){var y=r.id,B=r.abilityName,Q=r.abilityType,$=r.source,re=r.description,ie=r.abilityLevels,le=r.visibleRange,Se=d.ZP.PostTalentEvaluation.editEvaluationAbility({});return c.WY.post({url:Se,data:{id:y,abilityName:B,abilityType:Q,source:$,description:re,abilityLevels:ie,visibleRange:le}})}function ce(r){var y=r.page_number,B=r.page_size,Q=r.name,$=r.ability_type,re=r.source,ie=r.evaluation_tool_id,le=d.ZP.PostTalentEvaluation.getEvaluateList();return c.WY.get({url:le,params:{page_number:y,page_size:B,name:Q,ability_type:$,source:re,evaluation_tool_id:ie}})}function he(r){var y=d.ZP.PostTalentEvaluation.deleteAbilityOption();return c.WY.post({url:y,params:{ability_ids:r}})}function fe(r){var y=d.ZP.PostTalentEvaluation.refEvaluationModel(r);return c.WY.get({url:y})}function ge(r){var y=d.ZP.PostTalentEvaluation.deleteModel(r);return c.WY.post({url:y})}function we(r){var y=r.is_batch_operation,B=r.ids,Q=r.training_courses,$=r.source,re=d.ZP.PostTalentEvaluation.setImprove();return c.WY.post({url:re,data:{is_batch_operation:y,ids:B,training_courses:Q},params:{source:$}})}function Ee(r,y,B){var Q=d.ZP.PostTalentEvaluation.viewModelReport(y,r);return c.WY.get({url:Q,params:{platformType:B}})}function Ce(r){var y=d.ZP.PostTalentEvaluation.checkAbilitiesDelete(r);return c.WY.post({url:y})}function De(r){var y=d.ZP.personnelDevelope.getPostAbility();return c.WY.post({url:y,data:r})}function Pe(r){var y=d.ZP.personnelDevelope.checkPostModal(r);return c.WY.get({url:y})}function Oe(r,y){var B=d.ZP.personnelDevelope.getPostAssessList(y);return c.WY.get({url:B,params:r})}function ke(r){var y=d.ZP.personnelDevelope.importTaskSubmit();return c.WY.get({url:y,params:{new_file_name:r}})}},9849:function(oe,G,a){"use strict";a.d(G,{Ej:function(){return V},kL:function(){return T},T:function(){return h},NU:function(){return g},FL:function(){return E},fn:function(){return o},bm:function(){return N},jY:function(){return m},Vs:function(){return R},li:function(){return C},Nl:function(){return S},YF:function(){return Z},Q6:function(){return x},zW:function(){return w},Zv:function(){return _},Qg:function(){return A},qc:function(){return I},Ve:function(){return k},rS:function(){return H},Rh:function(){return K}});var d=a(10237),c=a(37055),F=a(38642),b={zaraFlag:(0,F.UI)("ZARA_H5")};function V(L,W){var z=c.ZP.StudyProjectList.startStudy(L);return d.WY.post({url:z,data:W})}function T(L){var W=c.ZP.Common.enroll(L);return d.WY.post({url:W})}function h(L,W){var z=L.courseId,ee=c.ZP.StudyProjectList.studyProject(z);return d.WY.get({url:ee,params:W})}function g(L){var W=L.id,z=b.zaraFlag?c.m1.getAssessmentProjectInfo(W):c.m1.getProjectInfo(W);return d.WY.get({url:z})}function E(L){var W=L.courseId,z=c.ZP.EnterpriseCourse.addScanCount(W);return d.WY.post({url:z})}function o(){var L=c.ZP.StudyProjectList.getAccountInfo();return d.WY.get({url:L})}function N(L){var W=c.ZP.StudyProjectList.projectCertiUrl(L);return d.WY.get({url:W})}function m(L){var W=L.courseId,z=c.ZP.Courses.like(W);return d.WY.post({url:z})}function R(L){var W=c.ZP.EnterpriseCourse.addCommentAndScore();return d.qg.post({url:W,data:L})}function C(L){var W=c.ZP.EnterpriseCourse.getCourseComments();return d.WY.get({url:W,params:L})}function S(L){var W=c.ZP.EnterpriseCourse.addCommentAndScore();return d.qg.post({url:W,data:L})}function Z(L){var W=c.ZP.EnterpriseCourse.deleteComment();return d.qg.post({url:W,data:L})}function x(L,W){var z=c.ZP.StudyProjectList.projectStudyRecord(L);return d.WY.get({url:z,params:W})}function w(L){var W=c.ZP.DingSpaceId.getSpaceId();return d.WY.get({url:W,params:L})}function _(L,W){var z=c.ZP.PlatformCourse.learningUrl(L);return d.WY.get({url:z,params:W})}function A(L){var W=c.ZP.MyExamTask.examIntro({examId:L});return d.WY.get({url:W})}function I(L){var W=c.ZP.MyExamTask.examCheckStatus({examId:L});return d.WY.get({url:W})}function U(L,W){var z=CONFIG.Common.getOperateLog(L);return formDataRequest.get({url:z,params:W})}function k(L,W){var z=b.zaraFlag?c.ZP.StudyProjectList.changeCustomStatus(L):c.ZP.StudyProjectList.changeStatus(L);return d.WY.post({url:z,data:W})}function H(L){var W=c.ZP.StudyProjectList.getProjectReward(L);return d.WY.get({url:W})}function K(L){var W=c.ZP.subsidyGz.subsidyCourseSetting(L);return d.WY.get({url:W})}},91648:function(oe,G,a){"use strict";a.d(G,{Z:function(){return d}});function d(c,F){var b,V,T,h,b;if(V="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=[],T=void 0,F=F||V.length,c)for(T=0;T<c;)b[T]=V[0|Math.random()*F],T++;else for(h=void 0,b[8]=b[13]=b[18]=b[23]="-",b[14]="4",T=0;T<36;)b[T]||(h=0|Math.random()*16,b[T]=V[T===19?h&3|8:h]),T++;return b.join("")}},86726:function(oe,G,a){"use strict";a.d(G,{V9:function(){return c},H3:function(){return F},e:function(){return b},F:function(){return V}});var d=a(93485);function c(T){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=[];function E(o,N){var m=(0,d.Z)(N),R;try{for(m.s();!(R=m.n()).done;){var C=R.value;if(C.key===o){g=C.actions;break}C.children instanceof Array&&C.children.length&&E(T,C.children)}}catch(S){m.e(S)}finally{m.f()}}return E(T,h),g}function F(T){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=h.find(E=>E.key===T)||{};return g.checked||!1}function b(T){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=!1;function E(o,N){var m=(0,d.Z)(N),R;try{for(m.s();!(R=m.n()).done;){var C=R.value;if(C.key===o){g=C.checked;break}C.children instanceof Array&&C.children.length&&E(T,C.children)}}catch(S){m.e(S)}finally{m.f()}}return E(T,h),g}function V(T){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g="";function E(o,N){var m=(0,d.Z)(N),R;try{for(m.s();!(R=m.n()).done;){var C=R.value;if(C.key===o){g=C.id;break}C.children instanceof Array&&C.children.length&&E(T,C.children)}}catch(S){m.e(S)}finally{m.f()}}return E(T,h),g}},69164:function(oe,G,a){"use strict";var d=a(34792),c=a(48086);function F(b){b&&b.length>0&&c.default.success(b)}G.Z=F},4412:function(oe){oe.exports="data:image/png;base64,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"}}]);
