(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4696],{30389:function(ee,H,e){"use strict";e.d(H,{Z:function(){return I}});var Q=e(62029),y=e(20228),z=e(11382),Z=e(12924),l=e.n(Z),S=e(91768),A=e(80991),E={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},B=e(62615),h=e(52670);class k extends l().Component{render(){var r=this.props,D=r.values,x=r.mode,N=r.onlyChooseDept,c=r.reserveUser,$=r.t,G=r.orgProps,W=r.rangeAuth,t=r.projectId,i=r.onCancel,v=r.onlyCreateUser;return l().createElement(A.l0,{className:"cl-form"},l().createElement(A.gN,(0,Q.Z)({component:B.ww,displayType:"Custom",showSectitle:!1,name:"employeeRange",label:$("common.visibleRange"),defaultFieldList:D.employeeRange,validate:h.FI,mode:x,rangeAuth:W,onlyChooseDept:N,onlyCreateUser:v,orgProps:G,reserveUser:c,projectId:t,onCancel:i,qwTicketShow:!0},E)))}}var P=(0,S.Z)()(k),R=e(18329),U=e(34773);class M extends l().Component{constructor(){super(...arguments);this.initRefFormik=r=>{this.refFormik=r},this.handleBeforeCreate=()=>{var r=this.refFormik;r.submitForm(),r.runValidations().then(D=>{if(!Object.keys(D).length){var x=r.state.values.employeeRange,N=(0,U.b)(x.rangeList),c={qyWeChatVo:x.qyWeChatVo,id:this.props.actionId,isAll:x.rangeType,groupIds:x.rangeType===2?N.groupIds.join(","):"",departmentIds:x.rangeType===2?N.deptIds.join(","):"",userIds:x.rangeType===2?N.userIds.join(","):"",postIds:x.rangeType===2?N.postIds.join(","):"",clusterIds:x.rangeType===2?N.clusterIds.join(","):"",qy_we_chat_vo:x.qyWeChatVo};this.props.onCreate(c)}})},this.handleBeforeCancel=()=>{var r=this.props.onCancel;r()}}render(){var r=this.props,D=r.visible,x=r.initialParams,N=r.isLoading,c=r.tipInfo,$=r.mode,G=r.onlyChooseDept,W=r.reserveUser,t=W===void 0?[]:W,i=r.t,v=r.title,u=r.orgProps,m=r.rangeAuth,a=r.projectId,s=r.onCancel,d=r.onlyCreateUser,p=r.size;return N?l().createElement(z.Z,{size:"large"}):l().createElement(R.ZP,{wrapClassName:"cl-employee-selector-modal",visible:D,title:v||i("component.changeUser"),okText:i("common.ok"),cancelText:i("common.cancel"),size:p,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},N?l().createElement(z.Z,{size:"large"}):l().createElement(A.J9,{ref:this.initRefFormik,initialValues:x,render:o=>l().createElement(P,(0,Q.Z)({},o,{mode:$,rangeAuth:m,orgProps:u,onlyChooseDept:G,onlyCreateUser:d,reserveUser:t,projectId:a,onCancel:s}))}),c&&l().createElement("p",{style:{padding:"0 24px",wordBreak:"break-all",whiteSpace:"normal"}},c))}}M.defaultProps={visible:!1,initialParams:{employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[],cluster:[]}}},tipInfo:"",isLoading:!1,mode:["all","part"],onlyChooseDept:!1,onlyCreateUser:!1,orgProps:{},onCancel:()=>{},onCreate:()=>{},size:"middle"};var I=(0,S.Z)()(M)},64549:function(ee,H,e){"use strict";var Q=e(12924),y=e.n(Q),z=e(28216),Z=e(84874),l=A=>({guideStatus:A.advancedSetting.guideStatus,isNewUser:A.advancedSetting.isNewUser});class S extends y().Component{constructor(){super(...arguments);this.state={guideIndex:0,showGuide:this.props.renderGuide},this.onNextStep=()=>{var E=this.state.guideIndex,B=this.props.guidePageProps;if(E>=B.length-1){this.onCloseGuide();return}this.setState({guideIndex:E+1})},this.onCloseGuide=()=>{this.setState({showGuide:!1},()=>{this.props.closeGuide&&this.props.closeGuide()}),this.props.isNewUser==="true"&&this.props.dispatch({type:"shouldRenderHeaderGuide",payload:{headerGuideStatus:!0}}),this.updateAllStatus()},this.updateAllStatus=()=>{localStorage.setItem("guideStatus","false"),this.props.dispatch({type:"updateGuideStatus",payload:{guideStatus:"false"}})},this.renderRightItem=E=>y().createElement(y().Fragment,null,y().createElement("div",{className:"clguide-popover__content"},y().createElement("span",{onClick:this.onCloseGuide},y().createElement(Z.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),y().createElement("div",{className:"clguide-popover__content__text"},E.contentText),y().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},E.buttonText)),y().createElement("div",{className:"clguide-popover__righttriangle"}),E.typeText&&y().createElement("div",{className:" clguide-popover__circle"},E.typeText)),this.renderLeftItem=E=>y().createElement(y().Fragment,null,y().createElement("div",{className:" clguide-popover__circle"},E.typeText),y().createElement("div",{className:"clguide-popover__lefttriangle"}),y().createElement("div",{className:"clguide-popover__content"},y().createElement("span",{onClick:this.onCloseGuide},y().createElement(Z.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),y().createElement("div",{className:"clguide-popover__content__text"},E.contentText),y().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},E.buttonText)))}render(){var E=this.state,B=E.guideIndex,h=E.showGuide,k=this.props,P=k.className,R=k.guideStatus,U=k.guidePageProps,M=U===void 0?[]:U,I=k.direction,_=I===void 0?"right":I,r=k.showDownloadBtn;return!h&&!R?null:y().createElement("div",{className:"clguide-popover-container"},h&&R==="true"&&y().createElement("div",{className:"clguide-popover-mask"}),h&&R==="true"&&B===0&&M.length?y().createElement("div",{className:"".concat(P,"_next clguide-popover ").concat(r?"":"right")},_==="left"?this.renderLeftItem(M[0]):this.renderRightItem(M[0])):null,h&&R==="true"&&B===1&&M.length?y().createElement("div",{className:"".concat(P,"_know clguide-popover")},_==="left"?this.renderLeftItem(M[1]):this.renderRightItem(M[1])):null)}}H.Z=(0,z.$j)(l)(S)},19788:function(ee,H,e){"use strict";e.d(H,{Z:function(){return u}});var Q=e(81211),y=e(34792),z=e(48086),Z=e(12924),l=e.n(Z),S=e(91768),A=e(18329),E=e(92592),B=e(28216),h=e(10237),k=e(5430),P=e(93485),R=e(57361),U=e(18106),M=e(88108),I=e(9754),_=e.n(I),r=e(48194),D=M.Z.TabPane;class x extends l().Component{constructor(a){var s;super(a);s=this,this.getWxPermission=(0,R.Z)(_().mark(function d(){var p,o,T,O,b,L;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:p=(0,r.$)(),o=p.data.list,T=(0,P.Z)(o),f.prev=3,T.s();case 5:if((O=T.n()).done){f.next=14;break}if(b=O.value,b.type!=="wechat_applet_setting"){f.next=12;break}return L=b.switch_status==="OPEN",s.setState({isOpenWxQrCode:L}),L&&s.initWxCode(),f.abrupt("break",14);case 12:f.next=5;break;case 14:f.next=19;break;case 16:f.prev=16,f.t0=f.catch(3),T.e(f.t0);case 19:return f.prev=19,T.f(),f.finish(19);case 22:case"end":return f.stop()}},d,null,[[3,16,19,22]])})),this.initWxCode=(0,R.Z)(_().mark(function d(){var p,o,T,O;return _().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return p=s.props.WxOption,o=p.flag,T=p.scene,L.next=3,h.WY.post({url:k.ZP.createWxCode(),data:{flag:o,scene:"".concat(T,"&enterpriseId=").concat(k.ZP.enterpriseId),enterprise_id:k.ZP.enterpriseId}});case 3:O=L.sent,s.setState({codeUrl:O.data.wx_code});case 5:case"end":return L.stop()}},d)})),this.state={codeUrl:"",isOpenWxQrCode:!1}}componentDidMount(){this.getWxPermission()}render(){var a=this.state,s=a.codeUrl,d=a.isOpenWxQrCode,p=this.props,o=p.dingDingOption,T=p.WxOption,O=p.appType;return l().createElement("div",{className:"scan-code-box"},l().createElement(M.Z,{defaultActiveKey:"1",centered:!0},l().createElement(D,{tab:O==="fs_app"?this.props.t("common.fsScanCode"):this.props.t("common.dingDingSanCode"),key:"1"},l().createElement("div",{className:"scan-code-main"},l().createElement("img",{src:o.dingDingUrl,alt:""}),l().createElement("div",{className:"tip"},o.tip))),d&&l().createElement(D,{tab:this.props.t("common.wxScanCode"),key:"2"},l().createElement("div",{className:"scan-code-main"},l().createElement("img",{src:"data:image/png;base64,".concat(s),alt:""}),l().createElement("div",{className:"tip"},T.tip)))))}}var N=m=>({appType:m.user.appType}),c=(0,B.$j)(N)((0,S.Z)()(x)),$=e(11092),G=e(37055),W=m=>{var a=m.user;return{userInfo:a}};class t extends l().Component{constructor(a){super(a);this.onDownload=()=>{var s=this.props.t;if(!(!this.qrcode||!this.qrcode._el.getElementsByTagName)){var d=this.props,p=d.downloadImgName,o=p===void 0?"coolCollege":p,T=d.tipInfo,O=T===void 0?"":T,b=d.downloadImgStyle,L=b===void 0?{width:750,height:981}:b,Y=this.qrcode._el.getElementsByTagName("img")[0],f=this.canvasRef.current.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,L.width,L.height),f.drawImage(Y,138,216,478,478),f.font="36px bold serif",f.fillStyle="#333",f.fillText(s("other.dingCodeTips"),246,140),f.textAlign="center",f.fillText(O,375,783,L.width);var n=this.canvasRef.current.toDataURL("image/jpeg"),g=document.createElement("a");g.setAttribute("href",n),g.setAttribute("download","".concat(o,".jpg")),document.body.insertAdjacentElement("beforeend",g),g.click(),g.remove()}},this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initRef=s=>{this.wrapper=s},this.getShortLink=s=>h.WY.post({url:G.ZP.Common.getQrUrl(),data:{link:s}}),this.canvasRef=l().createRef()}componentDidMount(){var a=(0,$.findDOMNode)(this.wrapper),s=a.querySelector("#qrcode");this.qrcode=new QRCode(s,{width:250,height:250});var d=this.props,p=d.isReferred,o=p===void 0?!0:p,T=d.pageUrl,O=d.type,b=O===void 0?"":O,L=encodeURIComponent(T),Y="dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(L);if(b==="projectShare"){var f="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(L);this.getShortLink(f).then(n=>{this.qrcode.makeCode(n.data.short_link)})}else this.qrcode.makeCode(o?Y:T);s.setAttribute("title","")}render(){var a=this.props,s=a.prefixCls,d=a.tipInfo,p=a.download,o=p===void 0?!1:p,T=a.downloadImgStyle,O=T===void 0?{width:750,height:981}:T,b=a.t,L=d||b("component.useMobileDingtalkScan"),Y=localStorage.getItem("themeColor")||"#465dcd";return l().createElement("div",{className:s,ref:this.initRef},l().createElement("div",{className:"".concat(s,"__qrcode"),id:"qrcode"}),l().createElement("p",{className:"".concat(s,"__qrcodetip")},L),o?l().createElement("p",{className:"".concat(s,"__download"),onClick:this.onDownload,style:{color:Y}},b("other.downloadPictures")):null,l().createElement("canvas",{width:O.width,height:O.height,ref:this.canvasRef}))}}t.defaultProps={prefixCls:"cl-qr-code"};var i=(0,B.$j)(W)((0,S.Z)()(t));class v extends l().Component{constructor(a){super(a);this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initQRCode=()=>{var s=this.props,d=s.isReferred,p=d===void 0?!0:d,o=s.pageUrl,T=s.type,O=T===void 0?"":T,b=s.record,L=b===void 0?{}:b,Y=this.props.userInfo.appType,f=encodeURIComponent(o),n;if(Y==="fs_app"?n="https://applink.feishu.cn/client/web_app/open?corpId=".concat(this.props.userInfo.corpId,"&packageType=1&pVersion=1&path=").concat(f,"&flag=student_evaluation_page&tutorUserId=").concat(L.userId,"&tutorialsId=").concat(L.courseId,"&planId=").concat(L.planId,"&appId=").concat("cli_a0aa5e0fe5f8500d","&appType=lark"):n="dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(f),O==="projectShare"){var g;Y==="fs_app"?g="https://applink.feishu.cn/client/web_app/open?corpId=".concat(this.props.userInfo.corpId,"&packageType=1&pVersion=1&path=").concat(f,"&flag=student_result_page&tutor_user_id=").concat(L.userId,"&tutorials_id=").concat(L.courseId,"&planId=").concat(L.planId,"&appId=").concat("cli_a0aa5e0fe5f8500d","&appType=lark"):g="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(f),this.getShortLink(g).then(C=>{n=C.data.short_link})}E.toDataURL(p?n:o,{width:500}).then(C=>{this.setState({dingDingUrl:C})}).catch(()=>{z.default.error(this.props.t("personal.failedGenerateCode"))})},this.getShortLink=s=>h.WY.post({url:k.ZP.Common.getQrUrl(),data:{link:s}}),this.state={dingDingUrl:""}}componentDidMount(){this.initQRCode()}componentDidUpdate(a){a.visible!==this.props.visible&&this.props.visible&&this.initQRCode()}render(){var a=this.props,s=a.t,d=a.visible,p=a.onCancel,o=a.title,T=a.borderStyle,O=a.WxOption,b=a.tipInfo,L=(0,Q.Z)(a,["t","visible","onCancel","title","borderStyle","WxOption","tipInfo"]),Y=this.state.dingDingUrl,f=this.props.userInfo.appType,n=o||s("component.microCourseScan"),g={dingDingUrl:Y,tip:f==="fs_app"?s("component.useMobileFsScan"):b||s("component.useMobileDingtalkScan")},C={};return O&&(C={flag:O.flag,scene:O.scene,tip:O.tip||s("component.useMobileWxScan")}),d?l().createElement(A.ZP,{visible:d,width:"400",footer:null,bodyStyle:T?{maxHeight:"initial",minHeight:366,width:332}:{width:332},title:n,onCancel:p,destroyOnClose:!0},O||f==="fs_app"?l().createElement(c,{WxOption:C,dingDingOption:g,appS:!0}):l().createElement(i,L)):null}}var u=(0,B.$j)(m=>{var a=m.user;return{userInfo:a}})((0,S.Z)()(v))},63848:function(ee,H,e){"use strict";var Q=e(36877),y=e(32969),z=e(12924),Z=e.n(z),l=e(91768),S=e(56130);class A extends Z().PureComponent{constructor(){super(...arguments);this.onChange=(B,h)=>{this.props.onChange(B,h)}}render(){var B=this.props,h=B.value,k=B.classify,P=B.showLabel,R=B.className,U=B.t,M=B.style;return Z().createElement("div",{className:"classify-cascader ".concat(R)},P?Z().createElement("span",{className:"classify-cascader-label"},U("component.selectClassifyLabel")):null,Z().createElement(y.Z,{changeOnSelect:this.props.changeOnSelect,className:"classify-cascader-select ".concat(R),options:k,onChange:this.onChange,placeholder:U("component.selectClassifyLabel"),value:h,style:M,loadData:this.props.loadData}))}}A.defaultProps={showLabel:!0,changeOnSelect:!0,onChange:()=>{}},H.Z=(0,S.Z)((0,l.Z)()(A))},54792:function(ee,H,e){"use strict";var Q=e(62029),y=e(63185),z=e(9676),Z=e(47673),l=e(4107),S=e(88986),A=e(12924),E=e.n(A),B=e(91768),h=e(59239),k=e(55446),P=e.n(k),R=e(18329),U=e(2396);class M extends E().Component{constructor(){super(...arguments);this.state={isChecked:!1},this.handleBeforeCreate=()=>{var r=this.props,D=r.form,x=r.id,N=r.onCreate,c=this.state.isChecked;D.validateFields(($,G)=>{if(!$){var W=(0,S.Z)({},G);c||(W.value=0);var t=(0,S.Z)((0,S.Z)({},W),{},{id:x});N(t),setTimeout(()=>{D.resetFields()},100)}})},this.handleBeforeCancel=()=>{var r=this.props,D=r.form,x=r.onCancel;x(),setTimeout(()=>{D.resetFields()},100)},this.checkScore=(r,D,x)=>{var N=this.props.t,c=this.state.isChecked;if(c&&(0,U.kh)(D)){x(N("component.setScoreRuleTip"));return}x()},this.handleCheckChange=r=>{this.setState({isChecked:r.target.checked})},this.renderItem=()=>{var r=this.props,D=r.form,x=r.initialValue,N=r.labelTxt,c=this.state.isChecked,$=D.getFieldDecorator,G={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},W=c?$("value",{initialValue:x,rules:[{validator:this.checkScore}]})(E().createElement(l.Z,{maxLength:30,placeholder:""})):null,t=E().createElement(E().Fragment,null,E().createElement(z.Z,{checked:c,onChange:this.handleCheckChange},N));return E().createElement(h.Z.Item,(0,Q.Z)({label:t},G),W)}}componentDidUpdate(r){this.props.visible&&this.props.visible!==r.visible&&this.setState({isChecked:!!this.props.initialValue})}render(){var r=this.props,D=r.visible,x=r.title,N=r.prefixCls;return E().createElement(R.ZP,{size:"small",visible:D,title:x,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},E().createElement(h.Z,{className:"".concat(N),layout:"horizontal",colon:!1},this.renderItem(),E().createElement("div",{className:"".concat(N,"__children")},this.props.children)))}}M.defaultProps={prefixCls:"cl-setscore",id:"",visible:!1,title:"SetScore",labelTxt:"",initialValue:"",onCancel:()=>{},onCreate:()=>{}};var I=h.Z.create({name:"ClSetupBoxInModal"})(M);H.Z=(0,B.Z)()(I)},11449:function(ee,H,e){"use strict";e.d(H,{Z:function(){return v}});var Q=e(88986),y=e(33565),z=e(12924),Z=e.n(z),l=e(3115),S=e(49111),A=e(19650),E=e(62029),B=e(57663),h=e(71577),k=e(91768),P=e(28216),R=e(37055),U=e(10237);function M(u){var m=R.ZP.getHelpContentByMenuKey(),a={key:u};return U.WY.get({url:m,params:a})}var I=e(74228),_=e.n(I),r=e(1164),D=e(76466),x=e(38642);class N extends Z().Component{constructor(m){var a;super(m);a=this,this.getHelpContentByMenuKey=()=>{var s=this.props.defaultMenuKey;M(s).then(d=>{var p=d.data,o=p.help_url,T=p.video_url;this.setState({videoUrl:T,helpUrl:o})})},this.handleOpenHelpUrl=s=>{if((0,x.ve)()){window.open(s,"_blank");return}r.Z.targetTo({path:s,isExternalLink:!0})},this.handleOpenVideo=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.props.t("helpCenter.video");a.setState(p=>({resourcePlayInfo:(0,Q.Z)((0,Q.Z)({},p.resourcePlayInfo),{},{resourceInfo:{originUrl:s,source:{FD:s,OD:s},contentType:"mp4"}}),previewInfo:(0,Q.Z)((0,Q.Z)({},p.previewInfo),{},{title:d,visible:!0,onCancel:a.handleCancelPreview})}))},this.handleCancelPreview=()=>{var s=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,Q.Z)((0,Q.Z)({},s),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:m.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var m=this.state,a=m.helpUrl,s=m.resourcePlayInfo,d=m.previewInfo,p=m.videoUrl,o=this.props.t;return Z().createElement("div",{className:_().helpCenter},p&&Z().createElement(h.Z,{type:"link",className:_()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(p)},o("helpCenter.video")),a&&Z().createElement(h.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(a)},o("helpCenter.tutorial")),Z().createElement(D.Z,(0,E.Z)({},s,{previewInfo:d})))}}var c=u=>({defaultMenuKey:u.currentRoute.menuKey});N.defaultProps={defaultMenuKey:""};var $=(0,P.$j)(c)((0,k.Z)()(N));function G(u){var m=u.extra,a=localStorage.getItem("dingPersonnel"),s=sessionStorage.getItem("dingPersonnel");return Z().createElement(A.Z,null,m,a!=="dingPersonnel"&&s!=="dingPersonnel"&&(0,x.eY)("COMMONEXTRA_HELP_CENTER")&&Z().createElement($,null))}var W=G,t=e(4408);function i(u){var m=(0,z.useState)({helpCenter:(0,x.eY)("HEAD_HELP_CENTER_BUT")}),a=(0,y.Z)(m,1),s=a[0],d=u.pageContainerParams,p=d===void 0?{}:d,o=u.noPadding,T=o===void 0?!1:o,O=u.isPersonal,b=O===void 0?!1:O,L=u.pageTitle,Y=u.className,f=Y===void 0?"":Y,n={extra:s.helpCenter?Z().createElement(W,{extra:p.extra}):p.extra},g=(0,Q.Z)((0,Q.Z)({},p),n);return Z().createElement("div",{className:"page-container-content ".concat(T?"page-container-noPadding":""," ").concat(b?"page-container-content_personal_background":""," ").concat(f)},L&&Z().createElement(t.Z,{title:L}),b?Z().createElement(l.Z,null,u.children):Z().createElement(l.Z,g,u.children))}var v=i},27550:function(ee,H,e){"use strict";var Q=e(57663),y=e(71577),z=e(63185),Z=e(9676),l=e(43358),S=e(34041),A=e(88983),E=e(47933),B=e(12924),h=e.n(B),k=e(28216),P=e(91768),R=e(49101),U=e(84391),M=e(1164),I=e(48479),_=e(2971),r=e(45601),D=e(7249),x=e(64549),N=e(31945),c=G=>{var W=G.user,t=G.currentRoute,i=G.advancedSetting;return{currentPath:t.path,allAuthRoutes:t.allAuthRoutes,userLng:W.lng,themeColor:i.themeColor}};class $ extends h().Component{constructor(W){super(W);this.setPlaceholder=()=>{var t=this.props,i=t.currentPath,v=t.allAuthRoutes,u=t.userLng,m=this.state.language,a=v[i];if(!!a){var s=m[u].searchInputPlaceholder,d="";a.menuKey==="studyTemplate"||a.menuKey==="examTemplate"?d=s.template:a.menuKey==="management"||a.menuKey==="employee"||a.menuKey==="obligatory"||a.menuKey==="elective"||a.menuKey==="plan"||a.menuKey==="evaluation"||a.menuKey==="myEvaluationPlan"?d=s.task:d=s[a.menuKey],this.setState({currentPlaceholder:d})}},this.handleRadiosChange=t=>{this.props.onRadiosChange(t.target.value)},this.handleSelectChange=t=>{this.props.onSelectChange(t)},this.handleSearch=t=>{this.props.onSearch(t)},this.handleChange=t=>{this.props.onCheckboxChange(t.target.checked)},this.handleDownload=()=>{this.props.onDownload()},this.renderRadios=()=>{var t=this.props,i=t.prefixCls,v=t.radioList,u=t.defaultRadioValue,m=t.radioValue;if(!v.length)return null;var a=u||v[0].value,s="".concat(i,"__radios");return h().createElement("div",{className:s},typeof m!="undefined"?h().createElement(E.ZP.Group,{defaultValue:a,value:m,onChange:this.handleRadiosChange},v.map(d=>h().createElement(E.ZP.Button,{key:d.value,value:d.value},d.name))):h().createElement(E.ZP.Group,{defaultValue:a,onChange:this.handleRadiosChange},v.map(d=>h().createElement(E.ZP.Button,{key:d.value,value:d.value},d.name))))},this.renderSelect=()=>{var t=this.props,i=t.prefixCls,v=t.selectList,u=t.defaultSelectValue;if(!v.length)return null;var m=u||v[0].value,a="".concat(i,"__select");return h().createElement("div",{className:a},h().createElement(S.Z,{defaultValue:m,onChange:this.handleSelectChange,getPopupContainer:()=>document.getElementsByClassName("cl-listQueryRow__select")[0],style:{minWidth:100}},v.map(s=>h().createElement(S.Z.Option,{key:s.value,value:s.value},s.name))))},this.renderOther=()=>{var t=this.props,i=t.prefixCls,v=t.renderOther,u=t.showOther,m="".concat(i,"__other");if(u&&v&&typeof v=="function")return h().createElement("div",{className:m},v())},this.renderCheckbox=()=>{var t=this.props,i=t.prefixCls,v=t.t,u=t.label,m=t.showCheckbox,a=t.renderActionSelect,s="".concat(i,"__checkbox");return!m&&a&&typeof a=="function"?h().createElement("div",{className:s},a()):m?h().createElement("div",{className:s},h().createElement(Z.Z,{onChange:this.handleChange},u||v("common.myCreated"))):null},this.renderSearch=()=>{var t=this.props,i=t.prefixCls,v=t.showSearch,u=t.inputPlaceholder,m=t.maxLength,a=m===void 0?400:m,s="".concat(i,"__search");if(!v)return null;var d=this.state.currentPlaceholder;return u?h().createElement("div",{className:s},h().createElement(I.Z,{onSearch:this.handleSearch,placeholder:u,width:272,maxLength:a})):h().createElement("div",{className:s},h().createElement(I.Z,{onSearch:this.handleSearch,placeholder:d,width:272,maxLength:a}))},this.renderActionBtn=()=>{var t=this.props,i=t.prefixCls,v=t.actionText,u=t.t,m=t.tabLink,a=t.showBtn,s=t.renderActionBtn,d=t.popOverProps,p=d===void 0?[]:d,o=t.renderGuide,T=o===void 0?!1:o,O=t.showDownloadBtn,b=O===void 0?!1:O,L=t.guideClassName,Y=L===void 0?"guide-popover":L,f=t.themeColor,n="".concat(i,"__action");return!a&&s&&typeof s=="function"?h().createElement("div",{className:n},s()):!a||!v?null:h().createElement("div",{className:n},h().createElement(M.Z,{to:m},h().createElement(y.Z,{type:"primary",icon:h().createElement(R.Z,null)},v)),h().createElement(x.Z,{className:Y,renderGuide:T,guidePageProps:p,direction:"left",showDownloadBtn:b}),b&&h().createElement(y.Z,{style:{marginLeft:"8px",color:f,border:"1px solid ".concat(f)},icon:h().createElement(U.Z,null),onClick:this.handleDownload},u("common.exportData")))},this.renderQueryRow=()=>{var t=this.props,i=t.queryRowParams,v=t.queryRowList,u=t.queryRowSelectedCourseIds,m=t.queryRowSelectedProjectIds,a=t.queryRowOnForceRender,s=t.queryRowOnClassifyChange,d=t.queryRowOnTypeChange,p=t.queryRowOnCourseTypeChange,o=t.queryRowAllowActions;return h().createElement(N.Z,{params:i,list:v,selectedCourseIds:u,selectedProjectIds:m,onForceRender:a,onClassifyChange:s,onTypeChange:d,onCourseTypeChange:p,allowActions:o,showRenderCondition:!1})},this.rendeExtraBtn=()=>{var t=this.props,i=t.t,v=t.extraBtnSelectedRowKeys,u=t.extraBtnHandleMultiVisibleRange;return h().createElement(y.Z,{disabled:v.length===0,onClick:u},i("courseManage.setTheVisibility"))},this.state={language:{zh_cn:r.Z,en_us:_.Z,zh_hk:D.Z},currentPlaceholder:""}}componentDidMount(){this.setPlaceholder()}componentDidUpdate(W){W.userLng!==this.props.userLng&&this.setPlaceholder()}render(){var W=this.props,t=W.prefixCls,i=W.wrapCls,v=W.showRenderRadios,u=v===void 0?!0:v,m=W.showRenderQueryRow,a=W.showRendeExtraBtn,s=W.showRenderSelect;return h().createElement(h().Fragment,null,h().createElement("div",{className:"render_other"},this.renderOther(),h().createElement("header",{className:"".concat(t," ").concat(i)},h().createElement("section",{className:"".concat(t,"__radiocol")},this.renderActionBtn(),m&&this.renderQueryRow(),a&&this.rendeExtraBtn()),h().createElement("section",{className:"".concat(t,"__searchcol")},this.renderCheckbox(),u&&this.renderRadios(),s&&this.renderSelect(),this.renderSearch()))))}}$.defaultProps={prefixCls:"cl-listQueryRow",wrapCls:"",label:"",actionText:"add",showRadioList:!0,showCheckbox:!0,showSearch:!0,showBtn:!0,inputPlaceholder:"",defaultRadioValue:"",radioList:[],searchStylesProps:{},showRenderSelect:!1,selectList:[],renderActionBtn:()=>null,onRadiosChange:()=>{},onSearch:()=>{},onCheckboxChange:()=>{}},H.Z=(0,k.$j)(c)((0,P.Z)()($))},14328:function(ee,H,e){"use strict";var Q=e(34669),y=e(82833),z=e(88986),Z=e(81211),l=e(12924),S=e.n(l),A=e(91768),E=e(56932),B=e.n(E);class h extends S().Component{constructor(){super(...arguments);this.handleClick=P=>{var R=this.props,U=R.onClick,M=(0,Z.Z)(R,["onClick"]);U({$event:P,props:(0,z.Z)({},M)})},this.renderHeader=()=>{var P=this.props,R=P.prefixCls,U=P.avatar,M=P.name,I=P.showScore,_=P.score,r=P.t,D="".concat(R,"__header"),x=U||B();return S().createElement("h1",{className:D},S().createElement("div",{className:"".concat(D,"__left")},S().createElement("img",{className:"".concat(D,"__avatar"),src:x,alt:""}),S().createElement("span",{className:"".concat(D,"__name")},M),S().createElement("span",{className:"".concat(D,"__infotxt")},r("myExamTask.assigned")),I&&S().createElement("span",{className:"".concat(D,"__score")},_,r("common.credit"))),this.renderTypeBadge())},this.renderTypeBadge=()=>{var P=this.props,R=P.prefixCls,U=P.badgeType,M=U===void 0?"none":U,I=P.t,_={1:I("study.onlineTask"),2:I("study.offlineTask"),3:I("study.hybridTask"),4:I("study.newEmployeeTask"),6:I("study.courseTask")};if(M==="none")return null;var r="".concat(R,"__header__badge ").concat(R,"__header__badge-").concat(M);return S().createElement("div",{className:"".concat(R,"__header__right")},S().createElement("span",{className:r},_[M]))},this.renderBody=()=>{var P=this.props,R=P.prefixCls,U=P.title,M=P.subTile,I="".concat(R,"__body");return S().createElement("div",{className:I},S().createElement("h2",{className:"".concat(I,"__title"),title:U},U),S().createElement("p",{className:"".concat(I,"__subTile")},M))},this.renderFooter=()=>{var P=this.props,R=P.prefixCls,U=P.progress,M=P.renderFooterTip,I=P.qualifiedStatus,_=P.t,r="".concat(R,"__footer"),D=M();return S().createElement("div",{className:r},S().createElement("div",{className:"".concat(r,"__progress")},S().createElement(y.Z,{percent:U,status:"normal",size:"small"})),D&&S().createElement("div",{className:"".concat(r,"__footertip")},D),I==="true"&&S().createElement("div",{className:"".concat(r,"__statusTip")},_("study.employeePass")))}}render(){var P=this.props.prefixCls;return S().createElement("div",{className:P,onClick:this.handleClick},S().createElement("div",{className:"".concat(P,"__main")},this.renderHeader(),this.renderBody(),this.renderFooter()))}}h.defaultProps={prefixCls:"cl-taskCard",avatar:B(),name:"",actionName:"\u6307\u6D3E",title:"",subTile:"",progress:0,item:{},showScore:!1,score:0,badgeType:"none",renderFooterTip:()=>null,onClick:()=>{}},H.Z=(0,A.Z)()(h)},69284:function(ee,H,e){"use strict";e.r(H),e.d(H,{default:function(){return G}});var Q=e(14781),y=e(53431),z=e(20228),Z=e(11382),l=e(88986),S=e(12924),A=e.n(S),E=e(91768),B=e(57068),h=e(14328),k=e(27550),P=e(19788);class R extends A().Component{constructor(t){super(t);this.handleCancel=()=>{this.props.handleCancel()},this.state={}}render(){var t=this.props,i=t.visible,v=t.planId,u=t.t,m="/pages/messageRedirect/messageRedirect?flag=study&planId=".concat(v);return A().createElement(P.Z,{visible:i,pageUrl:m,title:u("exam.taskFaceKnowQrCodeTitle"),tipInfo:u("exam.taskFaceKnowQrCodeTip"),onCancel:this.handleCancel})}}R.defaultProps={visible:!1,handleCancel:()=>{}};var U=(0,E.Z)()(R),M=e(87312),I=e(11449),_=e(10237),r=e(37055),D=e(6793),x=e(4408),N=e(38642),c={getRadiosNum:r.ZP.LearningMyObligatoryTask.getRadiosNum,getTableList:r.ZP.LearningMyObligatoryTask.getTableList,getEvaluationCount:r.ZP.evaluateManage.queryEvaluationCount,getEvaluationList:r.ZP.evaluateManage.queryMyEvaluationList};class $ extends A().Component{constructor(){super(...arguments);this.state={params:{status:0,keyword:"",pageNumber:1,pageSize:20,sortName:"createTime",sortOrder:"desc",type:2,timestamp:Date.parse(new Date)},radioList:[],tableLoading:!0,tableList:[],tableTotal:0,showFaceQrCode:!1,clickTaskId:null},this.initData=()=>{this.initRadioList(),this.initTableList()},this.initRadioList=()=>{var t=this.props,i=t.t,v=t.type;if(v==="myTest"){var u=c.getEvaluationCount();_.WY.get({url:u}).then(a=>{var s=a.data[0],d=s.finished_count,p=s.total_count,o=s.unfinished_count;this.setState({radioList:[{name:"".concat(i("common.all"),"(").concat(p,")"),value:""},{name:"".concat(i("common.unFinish"),"(").concat(o,")"),value:"unfinished"},{name:"".concat(i("dashboard.completed"),"(").concat(d,")"),value:"finished"}]})})}else{var m=c.getRadiosNum();_.WY.get({url:m}).then(a=>{var s=a.data,d=s.finishCount,p=s.totalCount,o=s.unFinishCount;this.setState({radioList:[{name:"".concat(i("common.all"),"(").concat(p,")"),value:0},{name:"".concat(i("common.unFinish"),"(").concat(o,")"),value:1},{name:"".concat(i("dashboard.completed"),"(").concat(d,")"),value:2}]})})}},this.initTableList=()=>{this.setState({tableLoading:!0});var t=this.props.type;if(t==="myTest"){var i=this.state.params,v=i.status,u=i.keyword,m=i.pageNumber,a=i.pageSize,s={keyword:u,page_number:m,page_size:a};v!==0&&(s.status=v);var d=c.getEvaluationList();_.WY.get({url:d,params:s}).then(o=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:o.data.list,tableTotal:o.data.total})},300)})}else{var p=c.getTableList();_.WY.get({url:p,params:this.state.params}).then(o=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:o.data.list,tableTotal:o.data.total})},300)})}},this.handleQueryRowRadiosChange=t=>{this.resetPagination().then(()=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{status:t})}),()=>{this.initTableList()})})},this.handleQueryRowSearch=t=>{this.resetPagination().then(()=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{keyword:t})}),()=>{this.initTableList()})})},this.handleNumberChange=t=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{pageNumber:t})}),()=>{this.initTableList()})},this.handleSizeChange=(t,i)=>{this.setState(v=>({params:(0,l.Z)((0,l.Z)({},v.params),{},{pageSize:i})}),()=>{this.initTableList()})},this.resetPagination=()=>new Promise(t=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{pageNumber:1,pageSize:20})}),()=>{t()})}),this.handleCardClick=t=>{if(t.props.item.faceRecognition==="on"){this.setState({clickTaskId:t.props.item.id,showFaceQrCode:!0});return}var i=this.props.type;i==="myTest"?(0,N.eJ)({url:"/talentedDevelopment/evaluationMenu/myTestTask/trainingTaskDetail?".concat(B.stringify({id:t.props.item.id,fromPage:"myTestTask"}))}):(0,N.eJ)({url:"/training/learning/task/myObligatoryTaskView?".concat(B.stringify({id:t.props.item.id,fromPage:"myObligatoryTask"}))})},this.renderTaskList=()=>{var t=this.props,i=t.prefixCls,v=t.t,u=t.type,m=this.state,a=m.tableList,s=m.tableLoading,d="".concat(i,"__content__tasks cl-flearfix"),p;return s?p=A().createElement(Z.Z,{size:"large"}):a.length?p=a.map(o=>{var T=o.id,O=o.title,b=o.creatorName,L=o.creator_avatar,Y=o.beginTime,f=o.endTime,n=o.process,g=o.show_score,C=o.award_score,K=o.taskType,j=o.qualified_status,w=o.appoint_user_name,F=o.begin_time,V=o.end_time,q=o.term_type,J=o.complete_status,X=o.finish_promote;if(u==="myTest"){var te=X==="false"&&J===1||X==="true"&&j==="true";return A().createElement(h.Z,{key:T,avatar:L,name:w,title:O,subTile:q==="permanent"?v("questionn.investigateDetailPermanent"):"".concat((0,D.p6)(F)," ~ ").concat((0,D.p6)(V)),progress:J===1?100:0,onClick:this.handleCardClick,item:(0,l.Z)({},o),showScore:!1,badgeType:"none",qualifiedStatus:te?"true":"false",renderFooterTip:()=>this.renderTestCardTip(o,te)})}return A().createElement(h.Z,{key:T,avatar:L,name:b,title:O,subTile:"".concat((0,D.p6)(Y)," ~ ").concat((0,D.p6)(f)),progress:n,onClick:this.handleCardClick,item:(0,l.Z)({},o),showScore:g==="true",score:C,badgeType:K,qualifiedStatus:j,renderFooterTip:()=>this.renderTaskCardTip(o)})}):p=A().createElement(M.Z,{className:"no-task-tip"}),A().createElement("div",{className:d},p)},this.renderTaskCardTip=t=>{var i=t.endTime,v=t.process,u=this.state.params.timestamp;return i<u&&+v<100?A().createElement("span",{className:"cl-primary",style:{color:"#D64F4F"}},this.props.t("common.overdue")):null},this.renderTestCardTip=(t,i)=>{var v=t.overdue;return!i&&v==="true"?A().createElement("span",{className:"cl-primary",style:{color:"#D64F4F"}},this.props.t("common.overdue")):null},this.renderPagination=()=>{var t=this.props.prefixCls,i=this.state,v=i.params,u=i.tableTotal,m="".concat(t,"__content__pagination"),a=(0,l.Z)((0,l.Z)({},r.XE.INITIAL_PAGINATION),{},{total:u,current:v.pageNumber,pageSize:v.pageSize,onChange:this.handleNumberChange,onShowSizeChange:this.handleSizeChange});return A().createElement("div",{className:m},A().createElement(y.Z,a))},this.hiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})}}componentWillMount(){this.props.type==="myTest"?(0,N.eJ)({url:"/personal/profile?tab=myAssessment",actionType:"replace"}):(0,N.eJ)({url:"/personal/profile?tab=myObligatoryTask",actionType:"replace"})}componentDidMount(){this.initData()}render(){var t=this.props,i=t.prefixCls,v=t.t,u=t.type,m=this.state,a=m.radioList,s=m.clickTaskId,d=m.showFaceQrCode,p=v(u==="myTest"?"leftMenuLists.myTestTask":"leftMenuLists.myTrainingTask");return A().createElement(I.Z,{pageContainerParams:{header:{title:p}}},A().createElement(x.Z,{title:p}),A().createElement("div",{className:i},A().createElement(k.Z,{radioList:a,defaultRadioValue:"",showCheckbox:!1,showBtn:!1,onRadiosChange:this.handleQueryRowRadiosChange,onSearch:this.handleQueryRowSearch}),A().createElement("div",{className:"".concat(i,"__content")},this.renderTaskList(),this.renderPagination()),A().createElement(U,{planId:s,visible:d,handleCancel:this.hiddenFaceQrCode})))}}$.defaultProps={prefixCls:"my-obligatory-task"};var G=(0,E.Z)()($)},31945:function(ee,H,e){"use strict";e.d(H,{Z:function(){return Y}});var Q=e(88983),y=e(47933),z=e(20228),Z=e(11382),l=e(62029),S=e(30887),A=e(99210),E=e(59250),B=e(13013),h=e(57663),k=e(71577),P=e(63185),R=e(9676),U=e(71194),M=e(57016),I=e(88986),_=e(34792),r=e(48086),D=e(43358),x=e(34041),N=e(12924),c=e.n(N),$=e(28216),G=e(91768),W=e(57254),t=e(18329);class i extends c().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.showReferenceCourseList()}}render(){var n=this.props,g=n.visible,C=n.courseList,K=n.t;return c().createElement(t.ZP,{visible:g,title:K("common.tip"),onCancel:this.onCancel,onOk:this.onCancel},c().createElement("div",{className:"referenceWithOtherCourses"},c().createElement("div",{className:"referenceWithOtherCourses__tip"},K("course.deleteCourseTip")),C.map((j,w)=>c().createElement("div",{className:"referenceWithOtherCourses__item",key:w},C.length>1?"".concat(w+1,"\u3001"):null," ",j))))}}var v=(0,G.Z)()(i),u=e(10237),m=e(63848),a=e(58546),s=e(30389),d=e(54792),p=e(86726),o=e(37055),T=x.Z.Option,O={setClassify:o.ZP.CourseManageList.setClassify,setScore:o.ZP.CourseManageList.setScore,setBatchEmployee:o.ZP.CourseManageList.setBatchEmployee,deleteCourse:o.ZP.CourseManageList.deleteCourse,exportCourseView:o.ZP.CourseManageList.exportCourseView,syncCourse:o.ZP.CourseManageList.syncCourse},b=f=>({qyShield:f.user.qyShield});class L extends c().Component{constructor(){super(...arguments);this.state={classifyProps:{visible:!1},scoreProps:{title:this.props.t("course.setCredits"),labelTxt:this.props.t("course.credit"),initialValue:"",visible:!1},employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}},asyncProps:{value:0,visible:!1},showReferenceCourseListProps:{visible:!1,courseList:[],onOk:this.showReferenceCourseList,onCancel:this.showReferenceCourseList}},this.handleChangeClassify=n=>{this.props.onClassifyChange(n)},this.handleChangeType=n=>{this.props.onTypeChange(n)},this.handleChangeCourseType=n=>{this.props.onCourseTypeChange(n)},this.actionChangeClassify=()=>{this.setState({classifyProps:{visible:!0}})},this.handleCategoryCancel=()=>{this.setState({classifyProps:{visible:!1}})},this.handleCategoryOk=n=>{var g=n.node,C=this.props,K=C.selectedCourseIds,j=C.selectedProjectIds,w=C.onForceRender,F=C.t,V=g.id;V&&u.qg.post({url:O.setClassify(),data:{course_ids:K.join(","),project_ids:j.join(","),classify_id:V}}).then(()=>{r.default.success(F("course.setCourseClassifySuccess")),w()}),this.handleCategoryCancel()},this.actionSetScore=()=>{this.setState(n=>({scoreProps:(0,I.Z)((0,I.Z)({},n.scoreProps),{},{initialValue:"",visible:!0})}))},this.handleScoreCancel=()=>{this.setState(n=>({scoreProps:(0,I.Z)((0,I.Z)({},n.scoreProps),{},{visible:!1})}))},this.handleScoreOk=n=>{var g=n.value;if(g===0){this.handleScoreCancel();return}var C=this.props,K=C.selectedCourseIds,j=C.selectedProjectIds,w=C.onForceRender,F=C.t;u.qg.post({url:O.setScore(),data:{course_ids:K.join(","),project_ids:j.join(","),credit:g}}).then(()=>{r.default.success(F("course.setCourseScoreSuccess")),w()}),this.handleScoreCancel()},this.actionSetEmployeeRange=()=>{this.setState(n=>({employeeProps:(0,I.Z)((0,I.Z)({},n.employeeProps),{},{visible:!0})}))},this.handleEmployeeCancel=()=>{this.setState({employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}}})},this.handleEmployeeOk=n=>{var g=this.props,C=g.selectedCourseIds,K=g.selectedProjectIds,j=g.onForceRender,w=g.t,F=n.isAll,V=n.departmentIds,q=n.groupIds,J=n.postIds,X=n.userIds,te=n.qy_we_chat_vo;u.WY.post({url:O.setBatchEmployee(),data:{course_ids:C.join(","),project_ids:K.join(","),department_ids:V,group_ids:q,is_all:F,post_ids:J,user_ids:X,qy_we_chat_vo:te}}).then(()=>{r.default.success(w("personal.batchSetRangeSuccess")),j()}),this.handleEmployeeCancel()},this.showReferenceCourseList=n=>{this.setState(g=>({showReferenceCourseListProps:(0,I.Z)((0,I.Z)({},g.showReferenceCourseListProps),{},{visible:!g.showReferenceCourseListProps.visible,courseList:n||[]})}))},this.actionDelete=()=>{var n=this.props,g=n.selectedCourseIds,C=n.selectedProjectIds,K=n.list,j=n.onForceRender,w=n.t,F=0,V=0,q=[];if(K.forEach(J=>{g.includes(J.course_id)&&(J.reference_plan_count>0&&(V+=1),J.reference_plan_count>0&&q.push(J.title),J.can_delete==="true"&&(F+=1))}),V>0)this.showReferenceCourseList(q);else if(F!==g.length)r.default.warning(w("personal.deletePlatformCourseTip"));else{if(C.length>0){r.default.warning(w("personal.deleteProjectCourseTip"));return}M.Z.confirm({title:w("common.tip"),content:w("common.confirmDeleteTitle"),onOk(){u.qg.post({url:O.deleteCourse(),data:{enterpriseId:o.ZP.enterpriseId,ids:g.join(","),project_ids:C.join(",")}}).then(J=>{var X=J.data,te=X.code,ae=X.msg;r.default["".concat(te===0?"success":"warning")](ae),te===0&&j()})}})}},this.actionSyncSetting=()=>{this.setState(n=>({asyncProps:(0,I.Z)((0,I.Z)({},n.asyncProps),{},{visible:!0})}))},this.onAsyncChange=n=>{this.setState(g=>({asyncProps:(0,I.Z)((0,I.Z)({},g.asyncProps),{},{value:n.target.value})}))},this.handleSyncCancel=()=>{this.setState({asyncProps:{visible:!1,value:0}})},this.handleSyncOk=()=>{var n=this.props,g=n.selectedCourseIds,C=n.selectedProjectIds,K=n.onForceRender,j=n.t,w=this.state.asyncProps;u.qg.post({url:O.syncCourse(),data:{course_ids:g.join(","),project_ids:C.join(","),syncProgress:w.value}}).then(F=>{var V=F.data,q=V.code,J=V.msg;q===0?(r.default.success(j("setting.setUpSucceed")),K()):r.default.warning(J)}),this.handleSyncCancel()},this.actionImportDetail=()=>{var n=this.props,g=n.selectedCourseIds,C=n.selectedProjectIds,K=n.onForceRender,j=n.t;if(g.concat(C).length>20){r.default.warning(j("courseManage.exportMoreTip"));return}var w=O.exportCourseView(),F={course_Ids:g.join(","),project_Ids:C.join(",")};u.WY.get({url:w,params:F}).then(V=>{V.data.code===200&&r.default.success("\u6587\u4EF6\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u5728\u6587\u4EF6\u4E0B\u8F7D\u4E2D\u4E0B\u8F7D"),K(),this.getDownloadingNumber()})},this.getDownloadingNumber=()=>{var n=o.ZP.downLoadCenter.getDownLoadingCount();u.WY.get({url:n,params:{}}).then(g=>{sessionStorage.setItem("downloadingCount",g.data.data),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:g.data.data})}).catch(()=>{sessionStorage.setItem("downloadingCount",0),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:0})})},this.handleChangeCheckBox=n=>{this.props.onCheckboxChange(n.target.checked)},this.handleSharingQueryRowCheckboxChange=n=>{this.props.onSharingCheckboxChange(n.target.checked)},this.renderCondition=()=>{var n=this.props,g=n.prefixCls,C=n.params,K=n.qyShield,j=n.t,w=C.classify_id?C.classify_id.split(","):[];return c().createElement("div",{className:"".concat(g,"__condition")},this.props.extraDom&&this.props.extraDom(),c().createElement(m.Z,{onChange:this.handleChangeClassify,className:"cl-search-normal-width",value:w,showLabel:!1,placeholder:"Please select",queryType:"course_manage",unclassified:"true"}),c().createElement(x.Z,{value:C.type,className:"cl-search-normal-width",onChange:this.handleChangeType},c().createElement(T,{value:""},this.props.t("courseManage.allOrigin")),c().createElement(T,{value:"original"},this.props.t("courseManage.originalCourse")),c().createElement(T,{value:"notOriginal"},this.props.t("courseManage.nonOriginalCourse")),c().createElement(T,{value:"platform"},this.props.t("courseManage.platformProcurement"))),this.props.courseType&&this.props.courseType=="graphic"?null:c().createElement(x.Z,{value:C.course_type,className:"cl-search-normal-width",onChange:this.handleChangeCourseType},c().createElement(T,{value:"all"},this.props.t("courseManage.allType")),c().createElement(T,{value:"course"},this.props.t("common.courseLabel")),c().createElement(T,{value:"microCourse"},this.props.t("common.microCourse")),c().createElement(T,{value:"project"},this.props.t("leftMenuLists.studyProject"))),c().createElement(R.Z,{onChange:this.handleChangeCheckBox,style:{marginRight:16}},j("common.myCreated")),this.props.courseType&&this.props.courseType==="graphic"&&K==="false"?c().createElement(R.Z,{onChange:this.handleSharingQueryRowCheckboxChange},j("common.sharing")):null)},this.renderActions=()=>{var n=this.props,g=n.prefixCls,C=n.selectedCourseIds,K=n.selectedProjectIds,j=n.showNum,w=j===void 0?1:j,F=this.props.allowActions,V=(0,p.H3)("delete",F),q=(0,p.H3)("adjustment_classification",F),J=(0,p.H3)("set_visible",F),X=(0,p.H3)("export",F),te=(0,p.H3)("set_score",F),ae=(0,p.H3)("progressSync",F),ie=[{name:this.props.t("courseManage.adjustClassification"),type:"actionChangeClassify",isShow:q},{name:this.props.t("courseManage.exportViewDetail"),type:"actionImportDetail",isShow:X},{name:this.props.t("courseManage.setCredits"),type:"actionSetScore",isShow:te},{name:this.props.t("courseManage.setTheVisibilityed"),type:"actionSetEmployeeRange",isShow:J},{name:this.props.t("common.delete"),type:"actionDelete",isShow:V},{name:this.props.t("common.scheduleSyncSetting"),type:"actionSyncSetting",isShow:ae}],re=ie.filter(se=>se.isShow),oe=[],ne=[];if(re.length)w?(oe=[...re.slice(0,w)],ne=[...re.slice(w)]):ne=[...re];else return null;return c().createElement("div",{className:"".concat(g,"__action")},oe.map(se=>c().createElement(k.Z,{style:{marginRight:"8px"},key:se.type,disabled:!(C.length+K.length),onClick:this[se.type]},se.name)),ne.length?c().createElement(B.Z,{disabled:!(C.length+K.length),overlay:this.renderMoreButton({buttons:ne})},c().createElement(k.Z,{className:"cl-pointer"},"".concat(this.props.t("common.more"))," ",c().createElement(W.Z,null))):"")}}renderMoreButton(n){var g=n.buttons,C=this.props,K=C.selectedCourseIds,j=C.selectedProjectIds;return c().createElement(A.Z,{onClick:w=>{var F=w.key;this[F]()}},g.map(w=>w.isShow?c().createElement(A.Z.Item,{key:w.type,disabled:!(K.length+j.length)},c().createElement("span",{className:"cl-pointer"},w.name)):null))}render(){var n=this.props,g=n.prefixCls,C=n.t,K=n.showRenderCondition,j=K===void 0?!0:K,w=n.showRenderActions,F=w===void 0?!0:w,V=this.state,q=V.classifyProps,J=V.scoreProps,X=V.employeeProps,te=V.showReferenceCourseListProps,ae=V.asyncProps;return c().createElement("div",{className:g},j&&this.renderCondition(),F&&this.renderActions(),c().createElement(a.Z,(0,l.Z)({},q,{title:C("personal.chooseClassify"),onCancel:this.handleCategoryCancel,onOk:this.handleCategoryOk})),c().createElement(d.Z,(0,l.Z)({},J,{onCancel:this.handleScoreCancel,onCreate:this.handleScoreOk})),X.visible&&c().createElement(s.Z,(0,l.Z)({},X,{title:C("courseManage.setTheVisibility"),mode:["all","part","private"],orgProps:{title:C("component.chooseVisibleScope")},isLoading:!X.visible,onCancel:this.handleEmployeeCancel,onCreate:this.handleEmployeeOk})),ae.visible&&c().createElement(t.ZP,{wrapClassName:"cl-async-selector-modal",visible:ae.visible,title:C("common.scheduleSyncSetting"),okText:C("common.ok"),cancelText:C("common.cancel"),onCancel:this.handleSyncCancel,onOk:this.handleSyncOk},ae.visible?c().createElement("div",{className:"".concat(g,"__async")},c().createElement("p",null," ",C("common.scheduleSyncSettingTip")),c().createElement(y.ZP.Group,{onChange:this.onAsyncChange,value:ae.value},c().createElement(y.ZP,{value:0},C("common.outSync")),c().createElement(y.ZP,{value:1},C("common.synchronization")))):c().createElement(Z.Z,{size:"large"})),c().createElement(v,(0,l.Z)({},te,{showReferenceCourseList:this.showReferenceCourseList})))}}L.defaultProps={prefixCls:"resource-course-list-page__release__content__queryrow",rangeType:""};var Y=(0,G.Z)()((0,$.$j)(b)(L))},56932:function(ee){ee.exports="data:image/png;base64,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"}}]);
