(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[8537],{4408:function($e,pe,r){"use strict";var Q=r(12924),e=r.n(Q),H=r(28216),h=r(17780),q=r(38642),v=w=>({userInfo:w.user}),O=w=>{var d=w.title;return(0,h.xX)()&&setTimeout(()=>{document.title=d},0),(0,Q.useEffect)(()=>{if(d&&document.title!==d&&setTimeout(()=>{document.title=d},0),(0,q.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var c=document.querySelector(".zoom-report");c&&(c.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[d]),e().createElement(e().Fragment,null)};O.defautProps={title:""},pe.Z=(0,H.$j)(v)(O)},76343:function($e,pe,r){"use strict";var Q=r(71194),e=r(57016),H=r(57361),h=r(88986),q=r(57663),v=r(71577),O=r(34792),w=r(48086),d=r(9754),c=r.n(d),b=r(12924),P=r.n(b),Z=r(91768),R=r(96120),D=r.n(R),j=r(24144);class ee extends b.PureComponent{constructor(){super(...arguments);this.state={src:null,crop:{unit:"%",width:80,height:80,x:10,y:10,aspect:16/9},imgBold:{},fileName:"",imgType:"image/jpg"},this.onSelectFile=E=>{if(E.target.files&&E.target.files.length>0){var C=new FileReader,S=E.target.files[0];C.addEventListener("load",()=>{this.setState({src:C.result,fileName:S.name,imgType:S.type})}),C.readAsDataURL(S)}},this.onImageLoaded=E=>{this.imageRef=E},this.onCropComplete=E=>{this.makeClientCrop(E)},this.onCropChange=E=>{this.setState({crop:E})},this.onOk=()=>{var E=this.state,C=E.imgBold,S=E.imgType,Y=new File([C],C.name,{type:S}),$=new FormData;$.append("file",Y),$.append("access_token",localStorage.getItem("token")),(0,j.ws)($).then(z=>{z.data.code===0&&(this.props.isShowMsg&&w.default.success("".concat(this.props.t("course.courseDetailCoverSuccess"))),this.handleSuccessUpload(z.data))}).catch(z=>{var G=this.props.onUploadFailed;G&&G({error:z,data:{fileList:[{fileName:Y.name}]}})})},this.handleSuccessUpload=E=>{var C=this.props.onOk,S=E.data,Y=S.fileNewName,$=S.server,z=S.fileName,G="".concat($,"/").concat(Y);C({fileName:z,imgUrl:G,fileNewName:Y})},this.renderFooter=()=>{var E=this.props,C=E.prefixCls,S=E.t,Y=E.accept,$="".concat(C,"__upload");return P().createElement("div",{className:"".concat(C,"__footer")},P().createElement(v.Z,{type:"default",className:$},S("component.reUpload"),P().createElement("input",{type:"file",multiple:!1,accept:Y,onChange:this.onSelectFile})),P().createElement(v.Z,{type:"primary",onClick:this.onOk},S("common.ok")))}}componentDidMount(){var E=this.props,C=E.file,S=E.widthScale,Y=E.heightScale,$=this.state.crop,z=new FileReader;z.readAsDataURL(C),z.addEventListener("load",()=>{this.setState({src:z.result,crop:(0,h.Z)((0,h.Z)({},$),{},{aspect:S/Y}),fileName:C.name,imgType:C.type})})}getCroppedImg(E,C,S){var Y=this.state.imgType,$=this.props.quality,z=document.createElement("canvas"),G=E.naturalWidth/E.width,W=E.naturalHeight/E.height;$?(z.width=C.width*G,z.height=C.height*G):(z.width=C.width,z.height=C.height);var K=z.getContext("2d");return K.drawImage(E,C.x*G,C.y*W,C.width*G,C.height*W,0,0,z.width,z.height),new Promise((me,Ie)=>{z.toBlob(Ae=>{if(!Ae){Ie(new Error("Canvas is empty"));return}Ae.name=S,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(Ae),this.setState({imgBold:Ae}),me(this.fileUrl)},Y,$)})}makeClientCrop(E){var C=this;return(0,H.Z)(c().mark(function S(){return c().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!(C.imageRef&&E.width&&E.height)){$.next=3;break}return $.next=3,C.getCroppedImg(C.imageRef,E,C.state.fileName);case 3:case"end":return $.stop()}},S)}))()}render(){var E=this.state,C=E.crop,S=E.src,Y=this.props,$=Y.visible,z=Y.prefixCls,G=Y.onCancel;return P().createElement(e.Z,{className:z,title:"\u8C03\u6574\u5C3A\u5BF8",visible:$,footer:this.renderFooter(),width:623,onCancel:G},P().createElement("div",{className:"".concat(z,"__container")},P().createElement("div",{className:"".concat(z,"__container__crop")},S&&P().createElement(D(),{className:"".concat(z,"__crop"),src:S,crop:C,ruleOfThirds:!0,keepSelection:!0,imageStyle:{width:"100%"},onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}))))}}ee.defaultProps={prefixCls:"img-corp-modal",visible:!1,widthScale:16,heightScale:9,sizeLimit:1,sizeLimitUnit:"MB",accept:"image/jpg,image/jpeg,image/png",isShowMsg:!1,onCancel:()=>{},onOk:()=>{}},pe.Z=(0,Z.Z)()(ee)},1164:function($e,pe,r){"use strict";var Q=r(12924),e=r.n(Q),H=r(76651),h=r(38642),q=r(91302),v=O=>{var w=navigator.userAgent.toLocaleLowerCase(),d=localStorage.getItem("enterpriseId"),c=(0,h.lz)(d,O.projectType),b=localStorage.getItem("dingPersonnel"),P=q.bl.includes(b),Z=O.target;function R(D){if(Z==="self"&&(D.preventDefault(),H.m8.push(O.to)),P){if(O.projectType==="student"){window.location.href="".concat(c,"/").concat(O.to);return}H.m8.push(O.to);return}if(dd.version){D.preventDefault();var j="";O.to.includes("?")?j="".concat(c).concat(O.to,"&ddtab=true"):j="".concat(c).concat(O.to,"?ddtab=true"),dd.biz.util.openLink({url:j})}else w.indexOf("lark")!==-1&&(window.location.href="".concat(c).concat(O.to))}return e().createElement("a",{rel:"noreferrer",href:"".concat(O.projectType==="student"?"".concat(c).concat(O.to):"#".concat(O.to)),className:"".concat(O.wrapCls," cl-pointer"),target:w.indexOf("lark")!==-1||P?"_self":O.target||"_blank",onClick:R},O.children)};v.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},v.targetTo=O=>{var w=O.path,d=O.from,c=O.isExternalLink,b=c===void 0?!1:c,P=O.isAsync,Z=P===void 0?!1:P,R=O.openName,D=R===void 0?"_blank":R,j=O.projectType,ee=j===void 0?"manage":j,N=O.ddTab,E=N===void 0?!0:N,C,S=localStorage.getItem("dingPersonnel"),Y=q.bl.includes(S),$=navigator.userAgent.toLocaleLowerCase(),z=localStorage.getItem("enterpriseId"),G=(0,h.lz)(z,ee),W=localStorage.getItem("appType"),K=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var me="";if(C=b?"":G,Y&&!b){if(ee==="student"){window.location.href="".concat(G).concat(w);return}H.m8.push(w);return}w.includes("?")?me="".concat(C).concat(w,"&ddtab=").concat(E):me="".concat(C).concat(w,"?ddtab=").concat(E),dd.biz.util.openLink({url:me})}else if($.indexOf("lark")!==-1)C=b?"":G,window.location.href="".concat(C).concat(w);else if(W==="wx_app"&&K&&b&&d==="imgText")C=b?"":ee==="student"?"".concat(G):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(w)});else if(C=b?"":ee==="student"?"".concat(G):"#",Z){var Ie=window.open("","_blank");setTimeout(()=>{Ie.location="".concat(C).concat(w)},100)}else window.open("".concat(C).concat(w),D)},pe.Z=v},72387:function($e,pe,r){"use strict";var Q=r(12924),e=r.n(Q),H=r(84874);class h extends e().PureComponent{constructor(v){super(v);this.onPrev=()=>{var O=this.state.activeIndex;this.setState({activeIndex:O<=0?0:O-1})},this.onNext=()=>{var O=this.props.imgList,w=this.state.activeIndex;this.setState({activeIndex:O.length<=w+1?w:w+1})},this.state={activeIndex:v.defaultActive}}componentDidUpdate(v){v.visible!==this.props.visible&&this.props.visible&&this.setState({activeIndex:this.props.defaultActive})}render(){var v=this.props,O=v.visible,w=v.imgList,d=this.state.activeIndex;return e().createElement("div",{className:"preview-img-mask",style:{display:O?"block":"none"}},e().createElement("div",{className:"preview-img-bg"},e().createElement("div",{className:"preview-img"},e().createElement("img",{src:w[d]}),e().createElement("span",{className:"preview-img-close",onClick:this.props.onClose},e().createElement(H.Z,{iconClass:"iconf-close"})))),d>=1?e().createElement("span",{className:"preview-img-left",onClick:this.onPrev},e().createElement(H.Z,{iconClass:"iconf-arrow-left",size:"20px"})):null,d<=w.length-2?e().createElement("span",{className:"preview-img-right",onClick:this.onNext},e().createElement(H.Z,{iconClass:"iconf-arrow-right",size:"20px"})):null)}}h.defaultProps={visible:!1,imgList:[],defaultActive:0,onClose:()=>{}},pe.Z=h},99891:function($e,pe,r){"use strict";var Q=r(12924),e=r.n(Q),H=r(28216),h=r(91768),q=r(37055),v=r(10237),O=r(60667);class w extends e().PureComponent{constructor(b){super(b);this.getWaterMarkText=P=>{var Z=this.props.userInfo,R=Z.jobNumber,D=localStorage.getItem("waterMarkPostName"),j=[],ee=P.find(E=>E.type==="content_setting"),N=P.find(E=>E.type==="content_custom");return ee.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),N.param.checked==="true"&&N.param.comment[0]!==""&&this.setState({commentText:N.param.comment[0]}),ee.param.comment.indexOf("position")!==-1&&D&&D!==""&&j.push("".concat(D)),ee.param.comment.indexOf("jobnumber")!==-1&&R&&R!==""&&j.push("".concat(R)),j.join("-")},this.getWaterMarkApplication=P=>{var Z=this.props.scenes,R=P.find(D=>D.type==="application_scenario");R.param.comment.indexOf(Z)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=P=>{var Z=P.find(R=>R.type==="dispersive");this.setState({isDispersive:Z.param.checked==="true"})},this.getDynamicSet=()=>{var P=q.ZP.advancedSetting.dynamicWaterMarkNew(),Z={access_token:window.localStorage.getItem("token")};v.WY.get({url:P,params:Z}).then(R=>{var D=JSON.parse(R.data.actions);this.setState({waterMarkText:this.getWaterMarkText(D),actions:D}),this.getWaterMarkApplication(D),this.getWaterIsDispersive(D)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var b=localStorage.getItem("waterMarkPostName");b===""||b===null?this.getPostName():this.getDynamicSet()}getPostName(){var b=q.ZP.advancedSetting.getPostName();v.WY.get({url:b}).then(P=>{localStorage.setItem("waterMarkPostName",P.data.post_names[0]||""),this.getDynamicSet()})}render(){var b=this.state,P=b.showWaterMark,Z=b.waterMarkCount,R=b.isUserName,D=b.isDispersive,j=b.waterMarkText,ee=b.actions,N=b.commentText,E=this.props.userInfo,C=E.name,S=E.unionid,Y=E.sourceType;return e().createElement("div",{className:"common-watermark"},P&&new Array(Z).fill(0).map(($,z)=>e().createElement("div",{key:z,className:"common-watermark-item ".concat(D?"isDispersive":"")},e().createElement("span",{className:"common-watermark-item-content"},N!==""&&e().createElement("span",{className:"item-part"},N),R&&e().createElement("span",null,N!==""&&e().createElement("span",null,"-"),e().createElement(O.Z,{dataType:"userName",value:S,name:C,type:Y})),e().createElement("span",{className:"item-part"},(R||N!=="")&&j!==""&&e().createElement("span",null,"-"),j)))))}}var d=c=>({userInfo:c.user});pe.Z=(0,H.$j)(d)((0,h.Z)()(w))},60667:function($e,pe,r){"use strict";r.d(pe,{Z:function(){return w}});var Q=r(33565),e=r(12924),H=r.n(e),h=r(28216);function q(d){var c=d.type,b=d.openid,P=d.from,Z=(0,e.useRef)(null);return(0,e.useLayoutEffect)(()=>{P==="vue"?window.parent.WWOpenData.bind(Z.current):WWOpenData.bind(Z.current)}),H().createElement("ww-open-data",{ref:Z,type:c,openid:b})}var v=d=>{var c=d.wxWorkApiFlag,b=d.appType,P=d.from,Z=(0,e.useState)(!1),R=(0,Q.Z)(Z,2),D=R[0],j=R[1];(0,e.useEffect)(()=>{var E=localStorage.getItem("qyWechatBook");(b!=="wx_app"||c||E==="false"||P==="vue"||P==="taro")&&j(!0)},[c,b,P]);var ee=(0,e.useCallback)(()=>{var E=d.type,C=d.value,S=d.name,Y=S===void 0?"":S;switch(console.warn(d,"props"),E){case"wx_sync":{var $=d.dataType;return C?H().createElement(q,{from:P,type:$,openid:C}):Y}default:return Y}},[d]),N=()=>{var E=d.name,C=d.dataType,S=localStorage.getItem("qyWechatBook");if(C===""||S==="false")return E;if(P==="vue"||P==="taro")return ee();switch(d.appType){case"wx_app":return ee();default:return E}};return D?N():d.name};v.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var O=d=>({appType:d.user.appType,wxWorkApiFlag:d.user.wxWorkApiFlag}),w=(0,h.$j)(O)(v)},76466:function($e,pe,r){"use strict";r.d(pe,{Z:function(){return ne}});var Q=r(20228),e=r(11382),H=r(57663),h=r(71577),q=r(62029),v=r(57361),O=r(9754),w=r.n(O),d=r(12924),c=r.n(d),b=r(91512),P=r(68654),Z=r(91768),R=r(4412),D=r.n(R);class j extends c().Component{render(){var s=this.props.t;return c().createElement("div",{className:"net-preview"},c().createElement("div",{className:"net-preview-center"},c().createElement("img",{src:D(),alt:"picture"}),c().createElement("h2",null,s("localStorage.tip")),c().createElement("p",null,s("localStorage.banPreview"))))}}var ee=(0,Z.Z)()(j),N=r(88986),E=r(34792),C=r(48086),S=r(28216),Y=r(21594),$=r(41225),z=r(10237),G=(T,s)=>(0,N.Z)({id:T||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),W=G;class K extends d.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var i=this.props,a=i.onVideoReady,t=a===void 0?()=>{}:a,o=i.playerConfig,l=i.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,N.Z)((0,N.Z)({},o),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:p=>{p.on("sourceloaded",g=>{var y=g.paramData,A=y.desc,L=y.definition;p.getComponent("VideoQuality")&&p.getComponent("VideoQuality").setCurrentQuality(A,L,o.id)}),p.on("ready",()=>{t()}),this.playerInstance=p,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,p=l===void 0?()=>{}:l,g=s.onPause,y=g===void 0?()=>{}:g,A=s.onError,L=A===void 0?()=>{}:A,U=this.playerInstance;U.on("play",()=>{a()}),U.on("pause",()=>{y()}),U.on("timeupdate",I=>{o(I)}),U.on("ended",()=>{p()}),U.on("error",(0,v.Z)(w().mark(function I(){return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:L();case 1:case"end":return ae.stop()}},I)})))}render(){var s=this.props.playerConfig;return c().createElement("div",{className:"common-video-player-container"},c().createElement("div",{id:s.id}))}}K.playerInstance=null,K.defaultProps={playerConfig:W(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var me=K,Ie=(T,s)=>(0,N.Z)({id:T||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),Ae=Ie;class Ue extends d.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var i=this.props,a=i.playerConfig,t=i.onVideoReady,o=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",p=>{var g=p.paramData,y=g.desc,A=g.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(y,A,a.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,p=l===void 0?()=>{}:l,g=s.onPause,y=g===void 0?()=>{}:g,A=s.onError,L=A===void 0?()=>{}:A;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{y()}),this.player.on("timeupdate",U=>{o(U)}),this.player.on("ended",()=>{p()}),this.player.on("error",(0,v.Z)(w().mark(function U(){return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:L();case 1:case"end":return x.stop()}},U)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return c().createElement("div",{className:"common-video-player-container"},c().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}Ue.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:Ae()};var be=Ue;class Ne{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,i){var a=i._options&&i._options.language,t=i._el.id;this.isEn=a&&a==="en-us";var o=(0,Y.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,Y.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),p=document.querySelector("#".concat(t," .prism-controlbar"));p.appendChild(o),s.appendChild(l)}setCurrentQuality(s,i,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=s,t.dataset.def=i,this.definition=i;var o=document.querySelector("#".concat(a," .quality-list")),l=o.querySelector(".current");l&&(l.className="");var p=o.querySelector('li[data-def="'.concat(i,'"]'));p&&(p.className="current")}created(s){this._urls=s._urls;var i=s._el.id,a=document.querySelector("#".concat(i," .current-quality")),t=document.querySelector("#".concat(i," .quality-list")),o=document.querySelector("#".concat(i," .quality-modal")),l=this._urls.map(y=>'<li data-def="'.concat(y.definition,'">').concat(y.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var p=t.querySelector('li[data-def="'.concat(this.definition,'"]'));p.className="current"}this.hasCreated=!0;var g=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{g=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(g)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=y=>{var A=y.target,L=A.dataset.def,U=A.innerText;if(L&&A.className!=="current"){var I=this._urls.find(x=>x.definition===L);s.loadByUrl(I.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(I.desc,I.definition,i),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=I.desc}this.getQuality(L,U)}}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class Oe{createEl(s,i){var a=i._el.id,t=(0,Y.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(a," .prism-controlbar"));o.appendChild(t)}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .current-rate")),t=document.querySelector("#".concat(i," .rate-list")),o=null,l=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{o=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(o)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=p=>{var g=p.target,y=g.dataset.rate;if(y){if(s.setSpeed(y),g.className!=="current"){var A=t.querySelector(".current");A&&(A.className=""),g.className="current"}t.style.display="none",a.innerText="".concat(y,"x")}}}}var ze=r(69164),Re=r(37055);function V(T){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Re.ZP.local.getLocalUrl(T);return z.WY.get({url:i,params:s})}var J=r(91648),_=r(18329),oe=r(38642),he=r(9849),ue=r(99891);class Se extends d.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Ze=Se,We=T=>({userInfo:T.user});class Te extends d.Component{constructor(s){var i;super(s);i=this,this.onVideoReady=a=>{var t=this.props,o=t.resourceInfo,l=t.mode,p=t.autoPlay,g=t.t,y=o.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&p&&this.play.play()):y==="ALIBABA_PRIVATE"||y==="LOCAL"?this.updateSource("resetPlayer"):(z.WY.logger({keyword:"video",moduleName:"video-play",msg:g("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,o=a.mode,l=a.t,p=a.studyInfo,g=a.needCurrentTime,y=a.onCurrentTime,A=y===void 0?()=>{}:y,L=p.studyType,U=p.studyId,I=p.resourceId,x=this.state,ae=x.showPreventHang,le=x.dragSwitch,Pe=x.showRandomAlert,xe=x.randomAlertDialogVisible,te=this.playingVideo,Ge=te.oneTime,He=te.popupWindowCount,re=te.maxPlayTime,ve=te.progress,ge=te.auditionLength,Le=te.auditionType,Ve=te.duration,st=te.recentStart,je=this.play.getCurrentTime(),Ke=(ae==="OPEN"||Pe==="OPEN")&&He>0;if(g&&A(je),ge>0&&Le===2&&je>ge&&(this.play.seek(ge),C.default.warning(l("component.haveALookOverTip")),this.play.pause()),o==="learn"&&Ke){var ot=Ve-Ge*He;if(He>0&&je>ot)if(this.play.pause(),Pe==="OPEN"){if(!xe){var it=(0,J.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:it},()=>{(0,$.qp)({popupId:it,planId:U,resourceId:I,type:"popup_start"})}),this.play.exitFull()}}else ae==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||ve===100)&&(je>0&&(this.playingVideo.recentStart=je),!((L==="enterprise"||L==="studyProject")&&le==="OPEN")))return!1;je>re?je-st>2?(this.playingVideo.recentStart=re,this.play.seek(re),C.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=je,this.playingVideo.maxPlayTime=je):je>0&&je>this.playingVideo.recentStart&&(this.playingVideo.recentStart=je)},this.onPlay=()=>{var a=this.props,t=a.mode,o=a.onPlay,l=o===void 0?()=>{}:o;l();var p=this;t==="learn"&&!p.timer&&(p.timer=setTimeout(function g(){p.saveProgress(),clearTimeout(p.timer),p.timer=setTimeout(g,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,o=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,o=t.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,o=a.showRandomAlert,l=this.props,p=l.t,g=l.playingVideo,y=l.studyInfo,A=l.autoPlay,L=g.recentStart,U=g.duration,I=g.progress,x=y.studyType,ae=(t==="OPEN"||o==="OPEN")&&(x==="studyTask"||x==="enterprise"||x==="studyProject")&&I<100;ae?(o==="OPEN"?this.setState({promptMessage:p("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:p("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):A&&(this.play.play(),Math.ceil(L)<parseInt(U)&&this.play.seek(L))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,o=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,o>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,o>=2*l?this.playingVideo.popupWindowCount=0:o>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,o>=3*l?this.playingVideo.popupWindowCount=0:o>=2*l?this.playingVideo.popupWindowCount=1:o>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,o=a.mode;if(o==="learn"){this.playingVideo=(0,N.Z)({},t);var l=t.duration,p=t.progress;this.playingVideo.hasFinished=parseInt(p)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(p)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,v.Z)(w().mark(function a(){var t,o,l,p,g,y,A,L,U,I,x,ae,le,Pe,xe,te,Ge,He,re,ve,ge,Le,Ve,st;return w().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(t=i.state,o=t.speedSwitch,l=t.dragSwitch,p=t.whiteList,g=i.props,y=g.resourceInfo,A=g.showQuality,L=y.contentType,U=y.storageType,I=y.source,x=y.playId,ae=y.playerId,le=y.showFullScreen,Pe=le===void 0?!0:le,xe=Ae(ae),xe.components=[],te=typeof I=="object"&&I.hasOwnProperty("FD")&&I.FD.indexOf("m3u8")===-1,A&&te&&L!=="mp3"&&(U&&U==="PUBLIC_CLOUD"||!U)&&xe.components.push({name:"VideoQuality",type:Ne,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),o==="OPEN"&&xe.components.push({name:"VideoRate",type:Oe}),Pe&&(Ge=xe.skinLayout.find(ot=>ot.name==="controlBar"),Ge&&Ge.children.splice(Ge.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),xe.components.push({name:"VideoWaterMark",type:Ze}),He=I.FD,re=I.OD,He.indexOf("http://")>-1&&(He=He.replace("http://","https://")),re.indexOf("http://")>-1&&(re=re.replace("http://","https://")),ve=p.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",I.OD=re&&re.indexOf(ve)>-1&&re.indexOf(".mp4")>-1?re:He,I.FD=He,ge=typeof I!="string"?JSON.stringify(I):I,xe.source=ge,l==="OPEN"&&(xe.disableSeek=!0),U!=="ALIBABA_PRIVATE"){Ke.next=32;break}return Ke.next=22,(0,$.BR)(x);case 22:if(Le=Ke.sent,!Le){Ke.next=28;break}xe.source=Le,xe.vodRetry=1,Ke.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),Ke.abrupt("return");case 30:Ke.next=38;break;case 32:if(U!=="LOCAL"){Ke.next=38;break}return Ke.next=35,V(x);case 35:Ve=Ke.sent,st=Ve.data,st.code===0&&(xe.source="".concat(I.FD,"?auth_key=").concat(st.data.auth_key),xe.vodRetry=1);case 38:i.setState({playerConfig:xe});case 39:case"end":return Ke.stop()}},a)})),this.updateSource=function(){var a=(0,v.Z)(w().mark(function t(o){var l,p,g,y,A,L,U,I;return w().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(l=i.state.playerConfig,p=i.props.resourceInfo,g=p.storageType,y=p.source,A=p.playId,i.playingVideo.readyCount=0,g!=="ALIBABA_PRIVATE"){ae.next=16;break}return ae.next=7,(0,$.BR)(A);case 7:if(L=ae.sent,!L){ae.next=12;break}Object.assign(l,{source:L,vodRetry:1}),ae.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),ae.abrupt("return");case 14:ae.next=22;break;case 16:if(g!=="LOCAL"){ae.next=22;break}return ae.next=19,V(A);case 19:U=ae.sent,I=U.data,I.code===0&&Object.assign(l,{source:"".concat(y.FD,"?auth_key=").concat(I.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:l},()=>{i.play.setupPlayer(o)});case 23:case"end":return ae.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,o=a.userInfo,l=o.isLogin,p=o.enterpriseId,g=o.id,y=this.playingVideo,A=y.recentStart,L=y.duration,U=y.hasFinished,I=Math.ceil(+A);I>Number(L)&&(I=Number(L));var x=Math.ceil(I/+L*100);if((x>100||U)&&(x=100),l){var ae=this.playingVideo,le=ae.auditionType,Pe=ae.auditionLength;if(Pe>0&&le===2){var xe=Math.ceil(Pe/L*100);xe<=x&&(x=xe,I=Pe)}(0,$.sH)({studyInfo:t,progress:x,recent_start:I,enterpriseId:p,userId:g}).then(te=>{te&&te.data&&(0,ze.Z)(te.data.integral_info||"")})}},this.getInfoFromSettings=(0,v.Z)(w().mark(function a(){var t,o,l,p,g,y,A,L,U;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return t=i.props.studyInfo,o=t.studyType,l=t.projectId,x.next=4,(0,$.Gw)();case 4:if(p=x.sent,g=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],y=(0,Y.RG)(p,g),o!=="studyProject"){x.next=14;break}return x.next=10,(0,he.NU)({id:l});case 10:A=x.sent,L=A.status,U=A.data,L===200&&(y.showPreventHang=U.prevent_cut_screen?"OPEN":"CLOSED",y.speedSwitch=U.speed_play?"OPEN":"CLOSED",y.dragSwitch=U.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(y,()=>{i.dealVideoConfig()});case 15:case"end":return x.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,o=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,v.Z)(w().mark(function a(){var t,o,l,p;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:t=i.props.studyInfo,o=t.studyId,l=t.resourceId,p=i.state.randomAlertUUID,(0,$.qp)({popupId:p,planId:o,resourceId:l,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return y.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return c().createElement(h.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return c().createElement(h.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:Ae(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,oe.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var i=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,i=s.playerConfig,a=s.showPrivateVodError,t=s.dialogVisible,o=s.dialogModal,l=s.promptMessage,p=s.randomAlertDialogVisible,g=s.randomAlertModal,y=s.randomAlertTip,A=s.encryptedSwitch,L=this.props,U=L.resourceInfo,I=L.t,x=A==="OPEN"?me:be;return c().createElement(d.Fragment,null,c().createElement(x,(0,q.Z)({ref:this.getPlayInstance},U,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),c().createElement(_.ZP,(0,q.Z)({visible:t},o,{footer:this.renderFooter()}),c().createElement("div",{className:"video-business-prompt"},l)),c().createElement(_.ZP,(0,q.Z)({visible:p},g,{footer:this.renderRandomFooter()}),c().createElement("div",{className:"video-player-container__prompt"},y)),a&&c().createElement("div",{className:"video-business-vod-error"},I("privateCloud.docReadError")),c().createElement(ue.Z,{scenes:"video"}))}}var _e=(0,S.$j)(We,null,null,{forwardRef:!0})((0,Z.Z)("translation",{withRef:!0})(Te)),fe=r(94184),De=r.n(fe),Qe=r(84874),tt=T=>({userInfo:T.user}),at={getPravateDocUrl:Re.ZP.localStorage.getPravateDocUrl};function Xe(T){return JSON.stringify(T,(s,i)=>(typeof i=="function"&&(i=i.toString()),i))}function qe(T){var s=parseInt(parseInt(T,10)/60,10),i=parseInt(parseInt(T,10)%60,10);return s<10&&(s="0".concat(s)),i<10&&(i="0".concat(i)),"".concat(s,":").concat(i)}class rt extends d.Component{constructor(s){var i;super(s);i=this,this.messageFun=a=>{var t=this.props,o=t.docType,l=t.progress,p=t.studyTimeLimit,g=t.studyTime,y=this.state,A=y.jumpPageTag,L=y.totalTime,U=y.timeRemaining,I=this.state.previewDocData,x={};try{x=JSON.parse(a.data)}catch(ae){return}switch(x.action){case"preview.ready":this.initDocData();break;case"preview.meta":I.totalPage=x.data.pc||1,I.currentPage=1,this.setState({previewDocData:I},()=>{this.reportStatusInterval()}),p>0?(this.saveProgress(l,g||"1",x.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||I.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,g||"1",x.data.pc||1),p>0&&l<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?L=p:L=p*x.data.pc,U=parseInt(L*(1-l/100),10),this.setState({timeRemaining:U,totalTime:L},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(A){A=!1,this.setState({jumpPageTag:A});return}I.currentPage=x.data.pageIndex+1,this.setState({previewDocData:I}),p||this.saveProgress(Math.ceil(I.currentPage/I.totalPage*100),I.currentPage,I.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(x.data.result);break;default:break}},this.initDocData=(0,v.Z)(w().mark(function a(){var t,o,l,p,g,y,A,L,U,I,x,ae,le,Pe;return w().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(i.setState({isShowPrivateError:!1}),t=i.props,o=t.docType,l=t.userInfo,p=t.documentWatermarkSettings,g=t.storageType,y=t.privateDocId,A=l.name,L=l.jobNumber,U=l.position,I="",x={},g!=="ALIBABA_PRIVATE"){te.next=18;break}return te.prev=6,ae=at.getPravateDocUrl(y),te.next=10,z.WY.get({url:ae});case 10:le=te.sent,Pe=le.data,Pe.code===0?x=Pe.data||{}:i.setState({isShowPrivateError:!0}),te.next=18;break;case 15:te.prev=15,te.t0=te.catch(6),i.setState({isShowPrivateError:!0});case 18:if(p.indexOf("name")>-1&&(I="".concat(I+A," ")),p.indexOf("position")>-1&&(I="".concat(I+U," ")),p.indexOf("jobnumber")>-1&&(I+=L),I.length>0?window.sendMessage("preview.init",(0,N.Z)({wmType:1,wmValue:I,wmColor:"rgba(192, 192, 192, 0.4)"},x)):window.sendMessage("preview.init",(0,N.Z)({},x)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){te.next=29;break}te.t1=window,te.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},te.t1.sendMessage.call(te.t1,"setConfig",te.t2),te.next=32;break;case 29:te.t3=window,te.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},te.t3.sendMessage.call(te.t3,"setConfig",te.t4);case 32:case"end":return te.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var o=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,o=a.studyTime,l=0;t===0&&(l=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,o=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var p=(o-a)/o*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(p),a,l.totalPage)},2e4)},this.saveProgress=(a,t,o)=>{var l=this.props.onSaveProgress;l&&l(a,t,o)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,i)=>{var a=this.docReader.contentWindow;a.postMessage(Xe({action:s,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,i=s.t,a=s.storageType,t=s.privateDocId,o=this.props.aliUrl,l=this.state,p=l.previewDocData,g=l.pageOperateContainerVisible,y=l.timeRemaining,A=l.showCountDown,L=l.showCountDownContainer,U=l.showPageOperateContainer,I=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),c().createElement("div",{className:"doc-reader-container"},c().createElement("div",{className:"ali-doc-container",style:{paddingBottom:g?"56px":"0"}},c().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),L?c().createElement("div",{className:"ali-doc-container__countdown"},A?c().createElement("div",null,c().createElement(Qe.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),c().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",qe(y)," "),i("component.canDone")):c().createElement("div",null,c().createElement(Qe.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,g?c().createElement("div",{className:"ali-doc__operate"},c().createElement("div",{className:De()(["ali-doc__operate__content",U?"":"ali-doc__operate__hide-content"])},c().createElement("div",{className:"ali-doc__operate__pagination"},c().createElement("div",{className:"ali-doc__operate__pagination__pages"},p.currentPage," / ",p.totalPage),c().createElement("div",{className:"ali-doc__operate__pagination__toggle"},c().createElement("div",{className:"ali-doc__operate__pagination__choose"},c().createElement("span",null,i("component.choosePage"),c().createElement(Qe.Z,{iconClass:"iconf-arrow-under",size:"14px"})),c().createElement("div",{className:"ali-doc__operate__page-list-container"},c().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),c().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:p.totalPage})).map((x,ae)=>c().createElement("li",{key:x,onClick:()=>this.handleJumpPage(ae+1)},ae+1))))),c().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),c().createElement("div",{className:De()("ali-doc__operate__unfold",U?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,I&&c().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),c().createElement(ue.Z,{scenes:"document"}))}}rt.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var ce=(0,S.$j)(tt)((0,Z.Z)()(rt)),et=T=>({userInfo:T.user}),Be="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),Ye="".concat("https://doc.coolcollege.cn");class lt extends c().Component{constructor(s){var i;super(s);i=this,this.onSaveProgress=(a,t,o)=>{var l=this.props,p=l.mode,g=l.studyInfo,y=l.userInfo,A=y.enterpriseId,L=y.id;p==="learn"&&(0,$.sH)({studyInfo:g,progress:a,page_count:o,recent_start:t,enterpriseId:A,userId:L}).then(U=>{U&&U.data&&(0,ze.Z)(U.data.integral_info||"")})},this.messageFun=function(){var a=(0,v.Z)(w().mark(function t(o){var l,p,g,y,A,L;return w().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(o.data!=="local-resource"){I.next=9;break}if(l=i.props.resourceInfo,p=l.storageType,g=l.playId,!(p&&p==="LOCAL")){I.next=9;break}return I.next=6,V(g);case 6:y=I.sent,A=y.data,A.code===0&&(L=document.getElementById("local-resource-box"),L.contentWindow.postMessage({msg:"local-auth-key",authKey:A.data.auth_key},"*"));case 9:case"end":return I.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,v.Z)(w().mark(function a(){var t,o,l;return w().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,$.Gw)();case 2:t=g.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,Y.RG)(t,o),i.setState(l,()=>{i.initDocPage(i.props)});case 6:case"end":return g.stop()}},a)})),this.initDocPage=(0,v.Z)(w().mark(function a(){var t,o,l,p,g,y,A,L,U,I,x,ae,le,Pe,xe,te,Ge,He,re,ve,ge,Le,Ve,st,je,Ke,ot,it,ht,ct,ut,dt,pt,vt,mt=arguments;return w().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(t=mt.length>0&&mt[0]!==void 0?mt[0]:{},o=t.resourceInfo,l=t.mode,p=t.studyInfo,g=t.userInfo,y=i.state.documentPlayerMode,A=o.docType,L=o.docTitle,U=o.url,I=o.studyTimeLimit,x=o.studyTime,ae=o.aliUrl,le=o.progress,Pe=o.storageType,xe=o.playId,te=p.studyType,Ge=p.courseId,He=p.studyId,re=p.resourceId,ve=g.enterpriseId,ge=g.id,Le=g.isLogin,Ve=g.token,st=y==="compat"&&ae.indexOf("preview.imm.aliyun")>-1||Pe==="ALIBABA_PRIVATE",!st){nt.next=11;break}i.setState({showAliReader:!0}),nt.next=31;break;case 11:if(je=(0,$.sH)({enterpriseId:ve,userId:ge,token:Ve,studyInfo:p},!0),Ke=te==="studyTask"?2:1,ot=Re.ZP.SaveProgress.reportStatusInterval(p),it={isSaveProgress:Le&&l==="learn"&&je,isSaveRecord:!1,access_token:Ve,userId:ge,hostUrl:Be,courseId:Ge,resourceId:re,courseType:1,planId:He,studyTimeLimit:I,studyTime:x,saveProgressUrl:je,type:"eapp",progress:le,saveRecordProgressUrl:ot,actionType:Ke},!(Pe&&Pe==="LOCAL")){nt.next=26;break}return nt.next=18,V(xe);case 18:if(ht=nt.sent,ct=ht.data,ct.code!==0){nt.next=25;break}it.auth_key=ct.data.auth_key,it.url=U,nt.next=26;break;case 25:return nt.abrupt("return");case 26:ut=JSON.stringify(it),dt="".concat(L,".").concat(A).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),pt="".concat(Ye,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(U,"?attname=").concat(dt),Pe&&Pe==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),pt="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(U,"?attname=").concat(dt)),i.setState({encodeUrl:pt});case 31:case"end":return nt.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,o=this.props,l=o.resourceInfo,p=o.mode,g=o.studyInfo,y=o.userInfo,A=l.type,L=g.courseId,U=g.studyId,I=g.resourceId,x=y.enterpriseId,ae=y.id,le=y.isLogin,Pe="",xe="",te=0,Ge=!1;switch(A){case"enterprise":te=1,Ge=!0;break;case"study":Pe=U,te=2,Ge=!0;break;case"project":xe=U,te=1,Ge=!0;break;default:break}if(!(!Ge||!le)){var He={plan_id:Pe,enterprise_id:x,user_id:ae,course_id:L,project_course_id:xe,resource_id:I,current_page:t,action_type:te,send_time:Date.parse(new Date)};p==="learn"&&(0,$.Xc)(g,He)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,i=this.state,a=i.encodeUrl,t=i.documentWatermarkSettings,o=i.showAliReader,l=s.docType,p=s.type,g=s.studyTimeLimit,y=s.studyTime,A=s.aliUrl,L=s.progress,U=s.storageType,I=s.playId;return o?c().createElement(ce,{privateDocId:I,storageType:U,aliUrl:A,docType:l,progress:L,studyTime:y,studyTimeLimit:g,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:p}):c().createElement("div",{className:"doc-reader-container"},c().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),c().createElement(ue.Z,{scenes:"document"}))}}var m=(0,S.$j)(et)(lt),B=r(38979),de=r(90706),ie=r(12968),ye=r(44208),we=r(60667),Fe=T=>({userInfo:T.user});class Me extends c().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,p=o.id;t==="learn"&&(0,Y.Gp)({studyInfo:a,enterpriseId:l,userId:p})},this.getInfoFromSettings=(0,v.Z)(w().mark(function i(){var a,t,o;return w().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,$.Gw)();case 2:a=p.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,Y.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.imageWatermark,t=i.name,o=i.unionid,l=i.sourceType,p=i.jobNumber,g=i.position,y=[];a.indexOf("name")>-1&&y.push(c().createElement(we.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&y.push(c().createElement("span",null,g)),a.indexOf("jobnumber")>-1&&y.push(c().createElement("span",null,p)),a.length>0&&this.setState({watermark:y.map((A,L)=>c().createElement("span",{key:L},A))})},this.handleError=i=>{var a=this.props.onError;a&&a(i)},this.getImageUrl=(0,v.Z)(w().mark(function i(){var a,t,o,l,p,g,y,A,L,U;return w().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(a=s.props,t=a.resourceInfo,o=a.t,l=t.playId,p=t.url,g=t.storageType,y=p,!g){x.next=21;break}if(g!=="ALIBABA_PRIVATE"){x.next=15;break}return x.next=7,(0,$.J7)(l);case 7:if(A=x.sent,!A){x.next=12;break}y=A,x.next=13;break;case 12:return x.abrupt("return",C.default.info(o("privateCloud.docReadError")));case 13:x.next=21;break;case 15:if(g!=="LOCAL"){x.next=21;break}return x.next=18,V(l);case 18:L=x.sent,U=L.data,U.code===0&&(y="".concat(p,"?auth_key=").concat(U.data.auth_key));case 21:s.setState({imageUrl:[y]},()=>{var ae=s.state.imageUrl,le="image-business",Pe=document.querySelectorAll(".".concat(le,"-image img"));Pe.forEach((xe,te)=>{xe.onerror=()=>{s.handleError(ae[te])}})});case 22:case"end":return x.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",i=this.props.resourceInfo,a=i.preview,t=a===void 0?!1:a,o=this.state,l=o.watermark,p=o.imageUrl;return c().createElement("div",{className:s},c().createElement(ue.Z,{scenes:"image"}),c().createElement(de.Z,{className:"".concat(s,"-carousel")},p.map((g,y)=>c().createElement("div",{className:"".concat(s,"-image"),key:y.toString()},c().createElement(ye.Z,{src:g,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Me.defaultProps={prefixCls:"watch-image-page"};var Je=(0,S.$j)(Fe)((0,Z.Z)()(Me)),Ee=T=>({userInfo:T.user});class Ce extends c().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,v.Z)(w().mark(function i(){var a,t,o;return w().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,$.Gw)();case 2:a=p.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,Y.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.htmlWatermark,t=i.name,o=i.unionid,l=i.sourceType,p=i.jobNumber,g=i.position,y=[];a.indexOf("name")>-1&&y.push(c().createElement(we.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&y.push(c().createElement("span",null,g)),a.indexOf("jobnumber")>-1&&y.push(c().createElement("span",null,p)),a.length>0&&this.setState({watermark:y.map((A,L)=>c().createElement("span",{key:L},A))})},this.saveProgress=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,p=o.id;t==="learn"&&(0,Y.Gp)({studyInfo:a,enterpriseId:l,userId:p})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",i=this.props.resourceInfo,a=i.url,t=this.state.watermark;return c().createElement("div",{className:s},c().createElement("div",{className:"".concat(s,"__html-watermark")},t),c().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:a}))}}var ke=(0,S.$j)(Ee)((0,Z.Z)()(Ce)),se=r(57068),u=r(1164),n=T=>({userInfo:T.user});class f extends c().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var i=s.split("//"),a=i[1].split("/");return[i[0],a[0]].join("//")},this.getScormUrl=()=>{var s=this.props,i=s.studyInfo,a=s.mode,t=s.userInfo,o=s.resourceInfo,l=s.from,p=t.enterpriseId,g=t.id,y=o.url,A=this.getHost(y);if(a==="learn"){var L=(0,N.Z)({userId:g,enterpriseId:p,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(y),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(A).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(se.stringify(L))}return"".concat(A,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(y))},this.handleOpenScormLink=s=>{u.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,i="scorm-business",a=this.getScormUrl(),t=(0,oe.UI)("SCORM_EXTERNAL_WATCH");return c().createElement("div",{className:i},t?c().createElement("div",{className:"".concat(i,"_scorm")},c().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),c().createElement("h5",null,s("resourcePlay.scormTip")),c().createElement(h.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},s("resourceLibrary.h5LinkPlayButton"))):c().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:a}))}}var M=(0,S.$j)(n)((0,Z.Z)()(f));class k extends c().Component{render(){var s=this.props,i=s.visible,a=s.title,t=s.onCancel,o=s.t,l=c().createElement("span",null,a);return c().createElement(_.ZP,{visible:i,title:l,onCancel:t,footer:null},c().createElement("div",{className:"ban-preview"},c().createElement("div",{className:"ban-preview-center"},c().createElement("img",{src:D(),alt:"picture"}),c().createElement("h2",null,o("localStorage.tip")),c().createElement("p",null,o("localStorage.banPreview"))),c().createElement("hr",null),c().createElement(h.Z,{type:"primary",className:"know",onClick:t},o("localStorage.onKnow"))))}}var X=(0,Z.Z)()(k);class F extends d.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(i)},this.onGetVideoBusiness=i=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=i,t(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,v.Z)(w().mark(function i(){var a,t,o,l,p,g,y,A,L,U,I,x=arguments;return w().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(a=x.length>0&&x[0]!==void 0?x[0]:null,t=s.props,o=t.resourceInfo,l=t.watchType,p=o.storageType,g=o.playId,y=o.originUrl,A=l==="image"||l==="video"||l==="doc",L=null,a?L=a:y?L=y:L=o.url,!(A&&L&&g&&p&&p==="LOCAL")){le.next=22;break}return le.prev=7,le.next=10,(0,$.NY)(g);case 10:return U=le.sent,le.next=13,(0,$.Hy)(L,U);case 13:I=le.sent,I?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),le.next=20;break;case 17:le.prev=17,le.t0=le.catch(7),s.setState({showBan:"yes"});case 20:le.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return le.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,a=i.prefixCls,t=i.watchType,o=i.onCurrentTime,l=o===void 0?()=>{}:o;return c().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&c().createElement(_e,(0,q.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&c().createElement(m,this.props),t==="image"&&c().createElement(Je,(0,q.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&c().createElement(ke,this.props),t==="scorm"&&c().createElement(M,this.props))},this.renderFooter=()=>{var i=this.props,a=i.resourceInfo.storageType,t=i.t,o=this.state.showBan,l=o!==""&&o==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?c().createElement(h.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,i=s.showBan,a=s.fullScreen,t=this.props,o=t.mode,l=t.previewWay,p=t.previewInfo,g=t.prefixCls,y=t.t,A=t.showEnlarge,L=t.footer,U=L===void 0?null:L,I=p.visible,x=p.destroyOnClose,ae=p.title,le=i!==""&&i==="yes",Pe=i!==""&&i==="no";return c().createElement(d.Fragment,null,o==="preview"&&l==="popups"&&c().createElement(_.ZP,{destroyOnClose:x,visible:I,title:ae,onCancel:this.onCancelModel,footer:U||this.renderFooter(),wrapClassName:"".concat(g,"-resource ").concat(a?"".concat(g,"-full"):"")},A&&c().createElement("div",{className:"".concat(g,"-resource-out-icon"),onClick:this.onFullScreen},a?c().createElement(b.Z,{className:"".concat(g,"-resource-icon")}):c().createElement(P.Z,{className:"".concat(g,"-resource-icon")})),c().createElement("div",{className:"".concat(g,"-inner")},!I&&c().createElement(e.Z,{size:"large"}),I&&Pe&&this.renderOuter(),le&&c().createElement(ee,null))),(o==="learn"||l==="page")&&Pe&&this.renderOuter(),(o==="learn"||l==="page")&&c().createElement(X,{visible:le,title:ae||y("questionn.warmHint"),onCancel:this.onCancel}))}}F.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var ne=(0,Z.Z)("translation",{withRef:!0})(F)},41225:function($e,pe,r){"use strict";r.d(pe,{Hy:function(){return v},NY:function(){return O},Gw:function(){return w},sH:function(){return b},BR:function(){return d},qp:function(){return P},Xc:function(){return Z},J7:function(){return c}});var Q=r(57361),e=r(9754),H=r.n(e),h=r(10237),q=r(37055),v=function(){var R=(0,Q.Z)(H().mark(function D(){var j,ee,N,E,C,S,Y,$=arguments;return H().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return j=$.length>0&&$[0]!==void 0?$[0]:"",ee=$.length>1&&$[1]!==void 0?$[1]:"",N="",j.startsWith("http")?(E=j.split("//")[1].trim(),C=E.split("/")[0],N="https://".concat(C,"/cms/ticket")):(S=j.split("/")[0],N="https://".concat(S,"/cms/ticket")),G.prev=4,G.next=7,h.ZQ.get({url:N,params:{ticket:ee}});case 7:if(Y=G.sent,!(Y.status===200||Y.status===403)){G.next=10;break}return G.abrupt("return",Promise.resolve(!0));case 10:return G.abrupt("return",Promise.resolve(!1));case 13:return G.prev=13,G.t0=G.catch(4),G.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return G.stop()}},D,null,[[4,13]])}));return function(){return R.apply(this,arguments)}}(),O=function(){var R=(0,Q.Z)(H().mark(function D(j){var ee,N;return H().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,h.ZQ.get({url:q.ZP.local.getTicket(j)});case 2:if(ee=C.sent,N=ee.data,N.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(N.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},D)}));return function(j){return R.apply(this,arguments)}}(),w=function(){var R=(0,Q.Z)(H().mark(function D(){var j;return H().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,h.WY.get({url:q.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return j=N.sent,N.abrupt("return",j.data.list);case 4:case"end":return N.stop()}},D)}));return function(){return R.apply(this,arguments)}}(),d=function(){var R=(0,Q.Z)(H().mark(function D(j){var ee,N,E;return H().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,h.WY.get({url:q.ZP.localStorage.getPravateVideoUrl(j)});case 2:if(ee=S.sent,ee.data.code!==0){S.next=6;break}return N=ee.data.data.videoPlayInfo,E=N===void 0?"":N,S.abrupt("return",E);case 6:return S.abrupt("return","");case 7:case"end":return S.stop()}},D)}));return function(j){return R.apply(this,arguments)}}(),c=function(){var R=(0,Q.Z)(H().mark(function D(j){var ee,N,E;return H().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return ee=q.ZP.localStorage.getPravateDocUrl(j),S.prev=1,S.next=4,h.WY.get({url:ee});case 4:if(N=S.sent,E=N.data,!(E.code===0&&E.data)){S.next=8;break}return S.abrupt("return",E.data.docResourceDownloadUrl||"");case 8:return S.abrupt("return","");case 11:return S.prev=11,S.t0=S.catch(1),S.abrupt("return","");case 14:case"end":return S.stop()}},D,null,[[1,11]])}));return function(j){return R.apply(this,arguments)}}(),b=function(D){var j=D.studyInfo,ee=D.progress,N=D.recent_start,E=D.page_count,C=D.enterpriseId,S=D.userId,Y=D.token,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z,G=j.studyType;if(G==="studyTask"&&(z=q.ZP.SaveProgress.studySaveProgress(j)),(G==="course"||G==="enterprise")&&(z=q.ZP.SaveProgress.enterpriseCourseSaveProgress(j)),G==="studyProject"&&(z=q.ZP.SaveProgress.projectSaveProgress(j)),G==="platform"&&(z="".concat(q.ZP.SaveProgress.platformCourseSaveProgress(j))),($||G==="platform")&&(z+="?enterprise_id=".concat(C,"&user_id=").concat(S)),$)return z+="&access_token=".concat(Y||localStorage.getItem("token")),z;var W={progress:ee,recent_start:N,tempTime:Date.parse(new Date)};return E&&(W.page_count=E),j.evaluationId&&(W.evaluation_id=j.evaluationId),h.WY.post({url:z,data:W})},P=R=>{var D=R.popupId,j=R.planId,ee=R.resourceId,N=R.type;return h.WY.post({url:q.ZP.TaskStudyRecord.setRandomPopupRecord(j),data:{course_id:ee,terminal_type:"PC",popup_id:D,type:N}})},Z=(R,D)=>{var j=q.ZP.SaveProgress.reportStatusInterval(R);return h.WY.post({url:j,data:D})}},21594:function($e,pe,r){"use strict";r.d(pe,{pu:function(){return q},RG:function(){return v},Gp:function(){return O},O8:function(){return w}});var Q=r(88986),e=r(69164),H=r(38642),h=r(41225),q=d=>{var c="";switch(d){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":c="studyTask";break;case"enterprise":c="enterprise";break;case"courseProject":c="studyProject";break;case"platform":case"purchased":c="platform";break;default:break}return c},v=(d,c)=>{var b={};return c.forEach(P=>{var Z=d.find(N=>N.type===P.type);if(Z)if(P.type==="document_duration_limit"){var R=Z.action_list,D=R.find(N=>N.type==="random_popup_verification");!(0,H.UI)("RANDOM_POPUP_VERIFY")||!D?b[P.name]="CLOSE":b[P.name]=D.param.checked==="true"?"OPEN":"CLOSE"}else if(P.type==="document_player"){var j=JSON.parse(Z.actions);j.forEach(N=>{N.param.checked==="true"&&(b[P.name]=N.type)})}else if(P.type==="dynamic_watermark"){var ee=Z.action_list;ee.forEach(N=>{N.type===P.resourceType&&N.param.checked==="true"&&(b[P.name]=N.param.comment)})}else b[P.name]=Z.switch_status}),b},O=d=>{(0,h.sH)((0,Q.Z)({progress:100,recent_start:1},d)).then(c=>{c&&c.data&&(0,e.Z)(c.data.integral_info||"")})},w=d=>{var c=document.createElement("div");return c.innerHTML=d,c.childNodes[0]}},24144:function($e,pe,r){"use strict";r.d(pe,{G2:function(){return Ae},Sc:function(){return G},Ur:function(){return De},VI:function(){return Be},Lh:function(){return lt},DZ:function(){return E},ZM:function(){return S},tX:function(){return W},VQ:function(){return j},_D:function(){return ze},iM:function(){return Re},vx:function(){return V},$Y:function(){return D},ws:function(){return Z},Pd:function(){return R}});var Q=r(43185),e=r(53251),H=r(62029),h=r(34792),q=r(48086),v=r(88986),O=r(33565),w=r(12924),d=r.n(w),c=r(91768),b=r(10237),P=r(37055);function Z(m){var B=P.ZP.Common.upload();return b.WY.post({url:B,data:m})}function R(m){var B=P.ZP.CourseManageList.uploadAiImage();return b.WY.post({url:B,data:m})}function D(m){var B=P.ZP.CourseManageList.saveAiImage();return b.WY.post({url:B,data:m})}function j(m){var B=m.idList,de=P.ZP.CourseManageList.deleteAiImage();return b.WY.put({url:de,data:{id_list:B}})}var ee=r(72387),N=r(76343),E={IMAGE:"image"},C=m=>{var B=m.uploadConfig,de=m.uploadType,ie=m.clip,ye=m.size,we=m.quality,Fe=m.t,Me=Array.isArray(m.fileList)?m.fileList:[],Je=(0,w.useState)(!1),Ee=(0,O.Z)(Je,2),Ce=Ee[0],ke=Ee[1],se=(0,w.useState)(!1),u=(0,O.Z)(se,2),n=u[0],f=u[1],M=(0,w.useState)(0),k=(0,O.Z)(M,2),X=k[0],F=k[1],ne=(0,w.useState)(!1),T=(0,O.Z)(ne,2),s=T[0],i=T[1],a=(0,w.useState)({}),t=(0,O.Z)(a,2),o=t[0],l=t[1],p=re=>{var ve=re.file;ie?g({file:ve},ie):y({file:ve})},g=(re,ve)=>{var ge=re.file;ve==="crop"&&(l(ge),I())},y=re=>{var ve=re.file;ke(!0);var ge=new FormData;ge.append("file",ve),Ge(ge,de).then(Le=>{var Ve="".concat(Le.data.data.server,"/").concat(Le.data.data.fileNewName),st=Le.data.data.fileNewName,je=[(0,v.Z)({url:Ve,uid:st,name:st,thumbUrl:Ve,status:"done",response:"Server Error 500"},Le.data.data)];L({newImgList:je})}).catch(Le=>{U({error:Le,data:{fileList:[{fileName:ve.name}]}})}).finally(()=>{ke(!1)})},A=re=>{m.onUploadedListChange&&m.onUploadedListChange(re)},L=re=>{var ve=re.newImgList,ge=B.maxCount;m.onUploadSuccess&&m.onUploadSuccess({fileList:[...ve]});var Le=[...Me,...ve],Ve=[];typeof ge=="number"&&ge===1?Ve=ve:typeof ge=="number"&&Le.length>ge?Ve=Le.slice(0,ge+1):Ve=Le,A({fileList:Ve})},U=re=>{var ve=re.error,ge=re.data;m.onUploadFailed&&m.onUploadFailed({error:ve,data:ge})},I=()=>{i(!0)},x=()=>{i(!1)},ae=re=>{if(m.onBeforeUpload)return m.onBeforeUpload(re);var ve=B.accept;if(ve&&ve.indexOf(re.name.split(".").pop().toLowerCase())<0)return q.default.error(Fe("component.imgTypeError")),!1;if(ye&&ye.value&&ye.unit){var ge=ye.value,Le=ye.unit,Ve=Le.toLowerCase()==="kb"?re.size/1024<ge:re.size/1024/1024<ge;if(!Ve)return q.default.error("".concat(Fe("component.imgUploadLimit")).concat(ge).concat(Le,"!")),!1}return!0},le=re=>{var ve=[...Me],ge=ve.findIndex(Le=>Le.uid===re.uid);ve.splice(ge,1),A({fileList:ve})},Pe=re=>{var ve=Me.findIndex(ge=>ge.uid===re.uid);F(ve),f(!0)},xe=()=>{f(!1)},te=re=>{var ve=re.fileName,ge=re.imgUrl,Le=re.fileNewName,Ve={url:ge,uid:Le,fileName:ve,name:Le,thumbUrl:ge,status:"done"};L({newImgList:[Ve]}),i(!1)},Ge=(re,ve)=>ve===E.IMAGE?Z(re):null,He={listType:"picture-card",accept:"*",fileList:[],beforeUpload:ae,customRequest:p,onPreview:Pe,onRemove:le};return d().createElement(d().Fragment,null,d().createElement(e.Z,(0,H.Z)({},He,B,m,{className:"upload_container_19fb1b0b-5573-42cb-b6a2-b39518df62cd ".concat(m.className)}),m.render((0,v.Z)((0,v.Z)({},m),{},{loading:Ce}))),d().createElement(ee.Z,{visible:n,imgList:Me.map(re=>re.url),defaultActive:X,onClose:xe}),s&&d().createElement(N.Z,(0,H.Z)({visible:s,file:o,widthScale:16,heightScale:9,sizeLimit:ye.value,sizeLimitUnit:ye.unit,accept:B.accept,onCancel:x,onOk:te,onUploadFailed:U,quality:we},m.imgCropConfig)))};C.defaultProps={fileList:[],uploadType:"image",size:{},clip:"",quality:void 0};var S=(0,c.Z)()(C);function Y(m){return(0,v.Z)((0,v.Z)({},m),{},{lastModified:m.lastModified,lastModifiedDate:m.lastModifiedDate,name:m.name,size:m.size,type:m.type,uid:m.uid,percent:0,originFileObj:m})}var $={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},z=m=>{var B=(0,w.useRef)({fileList:[],file:{}}),de=m.uploadConfig,ie=m.size,ye=m.t;(0,w.useEffect)(()=>{B.current.fileList=m.fileList?m.fileList:[]},[m.fileList]);function we(Ee){var Ce=!0;if(ie&&ie.value&&ie.unit){var ke=ie.value,se=ie.unit,u=se.toLowerCase()==="kb"?Ee.size/1024<ke:Ee.size/1024/1024<ke;u||(q.default.error("".concat(ye("component.imgUploadLimit")).concat(ke).concat(se,"!")),Ce=!1)}return Ce&&(B.current.fileList=[...B.current.fileList,Y(Ee)]),Ce}function Fe(Ee){var Ce=Ee.file,ke=Ee.onError,se=Ee.onProgress,u=Ee.onSuccess,n=new FormData;return n.append("file",Ce),Z(n,{onUploadProgress:f=>{var M=f.total,k=f.loaded;se({percent:Math.round(k/M*100).toFixed(2)},Ce)}}).then(f=>{var M=f.data;u(M,Ce)}).catch(ke),{abort(){console.log("upload progress is aborted.")}}}var Me={listType:"text",accept:"*",beforeUpload:we,customRequest:Fe,onStart(Ee){B.current.file=Ee,B.current.fileList=B.current.fileList.map(Ce=>Ce.uid===Ee.uid?(0,v.Z)((0,v.Z)({},Ce),{},{status:"uploading"}):Ce),m.onChange&&m.onChange(W({file:B.current.file,fileList:B.current.fileList}))},onSuccess(Ee,Ce){B.current.file=Ce,B.current.fileList=B.current.fileList.map(ke=>ke.uid===Ce.uid?(0,v.Z)((0,v.Z)({},ke),{},{response:Ee,status:"done"}):ke),m.onChange&&m.onChange(W({file:B.current.file,fileList:B.current.fileList}))},onError(Ee,Ce){m.onChange(W({file:B.current.file,fileList:B.current.fileList.map(ke=>ke.url?ke:(0,v.Z)((0,v.Z)({},ke),{},{status:"error"}))}))},onProgress(Ee,Ce){var ke=Ee.percent;B.current.file=Ce,B.current.fileList=B.current.fileList.map(se=>se.uid===Ce.uid?(0,v.Z)((0,v.Z)({},se),{},{percent:ke}):se),m.onChange&&m.onChange(W({file:B.current.file,fileList:B.current.fileList}))}},Je=(0,v.Z)((0,v.Z)({},Me),de);return d().createElement(d().Fragment,null,d().createElement(e.Z,Je,m.render((0,v.Z)({},m))))},G=(0,c.Z)()(z);function W(m){var B=m.file,de=m.fileList;return{file:(0,v.Z)({},B),fileList:de.map(ie=>{var ye=ie.response,we=ie.name,Fe=ie.type,Me=ie.size,Je=ie.status,Ee=ie.percent,Ce=ie.uid,ke=ie.url;if(ye){var se=ye.data,u=ye.error;return u?(0,v.Z)((0,v.Z)((0,v.Z)({},ie),se),{},{status:"error"}):(0,v.Z)((0,v.Z)((0,v.Z)({},ie),se),{},{url:"".concat(se.server,"/").concat(se.fileNewName)})}return{name:we,size:Me,type:Fe,percent:Ee,status:Je,url:ke,uid:Ce}})}}function K(m){var B=m.name,de=B.match(/\.([0-9a-z]+)(?:[\?#]|$)/i),ie=(0,O.Z)(de,1),ye=ie[0];switch(ye.toLowerCase()){case".mp3":return E.AUDIO;case".mp4":return E.VIDEO;case".webp":case".svg":case".png":case".gif":case".jpg":case".jpeg":case".jfif":case".bmp":case".dpg":case".ico":return E.IMAGE;default:return""}}function me(m){var B=m.split("/"),de=B[B.length-1],ie=de.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(ie)||[""])[0]}var Ie=m=>d().createElement(S,(0,H.Z)({},m,{uploadConfig:(0,v.Z)((0,v.Z)({},m.uploadConfig),{},{showUploadList:!1,maxCount:1,fileList:m.fileList}),className:"sample_upload_image_container",render:B=>ze(B)}));Ie.defaultProps={uploadConfig:{listType:"picture-card",maxCount:1},addTitle:"",size:{value:2,unit:"MB"},fileList:[]};var Ae=(0,c.Z)()(Ie),Ue=r(20228),be=r(11382),Ne=r(7085),Oe=r(49101),ze=m=>{var B=m.uploadConfig,de=m.loading,ie=m.fileList,ye=m.addTitle,we=m.changeTip,Fe=we===void 0?"":we,Me=m.imageContainerClassName,Je=B.maxCount;return de?d().createElement(Ne.Z,null):ie.length>0&&ie.length<=Je?d().createElement("div",{className:"avatar_list_container ".concat(Me)},d().createElement("img",{className:"avatar",src:ie[0].url,alt:"img"}),Fe&&d().createElement("div",{className:"change_btn"},Fe)):d().createElement("div",{className:"avatar_select_container"},d().createElement(Oe.Z,null),d().createElement("div",{className:"avatar_select_tip"},ye))},Re=m=>{var B=m.uploadConfig,de=m.loading,ie=m.fileList,ye=m.selectTip,we=B.maxCount;return de?d().createElement(Ne.Z,null):ie.length>=we?null:d().createElement("div",{className:"picture_select"},d().createElement(Oe.Z,null),ye&&d().createElement("div",{className:"picture_select_tip"},ye))},V=m=>{var B=m.loading,de=m.fileList,ie=m.changeTip,ye=m.addTitle,we=m.renderClassName,Fe=(0,O.Z)(de,1),Me=Fe[0];return B?d().createElement(be.Z,{spinning:B,indicator:d().createElement(Ne.Z,{spin:!0})},d().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(we)})):Me?d().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(we)},d().createElement("img",{src:Me,alt:"image"}),d().createElement("div",{className:"change_btn"},ie)):d().createElement("div",{className:"upload_btn_container ".concat(we)},d().createElement("div",{className:"upload_btn"},d().createElement(Oe.Z,null),ye&&d().createElement("div",{className:"avatar_select_tip"},ye)))},J=m=>{var B=m.loading,de=m.fileList,ie=m.changeTip,ye=m.reset,we=m.renderClassName,Fe=_slicedToArray(de,1),Me=Fe[0],Je=Ee=>{Ee.stopPropagation(),ye.resetEvent&&ye.resetEvent(Ee)};return B?React.createElement(_Spin,{spinning:B,indicator:React.createElement(LoadingOutlined,{spin:!0})},React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(we)})):React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(we)},React.createElement("img",{src:Me,alt:"image"}),React.createElement("div",{className:"change_btns"},React.createElement("span",{className:"operate_item operate_change"},ie),React.createElement("span",{onClick:Ee=>{Je(Ee)},className:"operate_item operate_reset"},ye.tip)))},_=r(84874),oe=m=>{var B=de=>{m.onChange&&m.onChange(de)};return d().createElement(G,(0,H.Z)({onChange:B,uploadType:E.VIDEO},m,{uploadConfig:(0,v.Z)({accept:"video/*",showUploadList:!1},m.uploadConfig),render:()=>d().createElement("span",{className:"icon"},d().createElement(_.Z,{iconClass:"icon-shipinfujian",color:m.iconColor,size:"16px"}))}))};oe.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var he=(0,c.Z)()(oe),ue=m=>{var B=de=>{m.onChange&&m.onChange(de)};return d().createElement(G,(0,H.Z)({onChange:B,uploadType:E.AUDIO},m,{uploadConfig:(0,v.Z)({accept:"audio/*",showUploadList:!1},m.uploadConfig),render:()=>d().createElement("span",{className:"icon"},d().createElement(_.Z,{iconClass:"icon-yinpinfujian",size:"16px",color:m.iconColor}))}))};ue.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Se=(0,c.Z)()(ue),Ze=r(22385),We=r(31097),Te=r(86506),_e=r.n(Te),fe=m=>{var B=de=>{m.onChange&&m.onChange(de)};return d().createElement(G,(0,H.Z)({onChange:B,uploadType:E.IMAGE},m,{uploadConfig:(0,v.Z)({accept:"image/*",showUploadList:!1},m.uploadConfig),render:()=>d().createElement(d().Fragment,null,m.uploadImageIcon?m.uploadImageIcon((0,v.Z)({},m.uploadConfig)):d().createElement(We.Z,{title:m.t("examination.uploadImgTip"),overlayStyle:{fontSize:"12px"}},d().createElement("span",{className:_e()["icon-container"]},d().createElement(_.Z,{iconClass:"icon-tupianfujian",color:"#979797",size:"16px"}))))}))};fe.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var De=(0,c.Z)()(fe),Qe=r(34669),tt=r(82833),at=r(12968),Xe=r(44208),qe=r(54549),rt=r(56653),ce=r.n(rt),et=r(76466),Be={OPEN:"open",CLOSE:"close",CUSTOM:"custom"},Ye=m=>{var B=m.t,de=m.preview,ie=m.previewSize,ye=m.remove,we=m.status,Fe=m.name,Me=m.extension,Je=!we||we==="done",Ee=we&&we==="error",Ce=m.resourceType||K({name:Fe,extension:Me}),ke=(0,w.useState)({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),se=(0,O.Z)(ke,2),u=se[0],n=se[1],f=(0,w.useState)({visible:!1,destroyOnClose:!0,title:B("common.resourcePreview"),onCancel:i}),M=(0,O.Z)(f,2),k=M[0],X=M[1];function F(a){var t=a||window.event;t.stopPropagation(),t.cancelBubble=!0,m.onDeleteItem&&m.onDeleteItem()}function ne(a){var t=a.percent,o=a.url;if(Je)switch(Ce){case E.IMAGE:return d().createElement("div",{className:ce().cover},d().createElement(Xe.Z,{width:ie,height:ie,alt:"img",className:ce()["ant-image-container"],src:o}));case E.VIDEO:return d().createElement("div",{className:ce().cover},d().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117263953920.png",alt:"video"}));case E.AUDIO:return d().createElement("div",{className:ce().cover},d().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117280731136.png",alt:"audio"}));default:return null}if(Ee)return d().createElement("div",{className:"".concat(ce().cover," ").concat(ce()["error-cover"])},B("component.uploadFailed"));var l=Math.floor(t);return d().createElement("div",{className:ce().cover},d().createElement("div",{className:ce()["cover-content"]},d().createElement(tt.Z,{showInfo:!1,strokeWidth:4,percent:Math.floor(l)}),d().createElement("span",{className:ce()["progress-tip"]},l>0?"\u4E0A\u4F20\u4E2D...":"\u7B49\u5F85\u4E2D")))}function T(){switch(Ce){case E.IMAGE:return d().createElement(_.Z,{iconClass:"icon-FView",size:"16px",color:"#fff"});case E.VIDEO:case E.AUDIO:return d().createElement(_.Z,{iconClass:"icon-bofang",size:"22px",color:"#fff"});default:return null}}function s(a,t){var o=t.type,l=t.url,p=t.resourceList,g=t.resourceType,y=t.index,A=a||window.event;if(A.stopPropagation(),A.cancelBubble=!0,de!==Be.CLOSE){if(de===Be.CUSTOM&&m.onPreview){m.onPreview({resourceList:p,resourceType:g,index:y,e:a});return}if(g.includes(E.VIDEO)||o.includes(E.AUDIO)){var L=m.extension==="mp3";n((0,v.Z)((0,v.Z)({},u),{},{watchType:"video",resourceInfo:{source:{FD:l,OD:l},originUrl:l,contentType:L?"audio/mp3":g},autoPlay:!0,draggable:!0})),X((0,v.Z)((0,v.Z)({},k),{},{visible:!0}))}}}function i(a){var t=a||window.event;t.stopPropagation(),t.cancelBubble=!0,n({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),X((0,v.Z)((0,v.Z)({},k),{},{visible:!1}))}return d().createElement(d().Fragment,null,d().createElement("div",{className:ce()["resource-item-container"],style:{width:"".concat(ie,"px"),height:"".concat(ie,"px")}},ne(m),(!we||we==="done"||we==="error")&&d().createElement("div",null,de!==Be.CLOSE&&we!=="error"&&Ce!==E.IMAGE&&d().createElement("div",{className:ce().mask,onClick:a=>{s(a,m)}},T(m)),ye&&d().createElement("div",{className:ce().delete,onClick:F},d().createElement(qe.Z,{className:ce()["delete-icon"]})))),de===Be.OPEN&&Ce!==E.IMAGE&&d().createElement(et.Z,(0,H.Z)({},u,{previewInfo:k})))};Ye.defaultProps={preview:Be.OPEN,previewSize:72,remove:!0,resourceType:""};var lt=(0,c.Z)()(Ye)},11449:function($e,pe,r){"use strict";r.d(pe,{Z:function(){return me}});var Q=r(88986),e=r(33565),H=r(12924),h=r.n(H),q=r(3115),v=r(49111),O=r(19650),w=r(62029),d=r(57663),c=r(71577),b=r(91768),P=r(28216),Z=r(37055),R=r(10237);function D(Ie){var Ae=Z.ZP.getHelpContentByMenuKey(),Ue={key:Ie};return R.WY.get({url:Ae,params:Ue})}var j=r(74228),ee=r.n(j),N=r(1164),E=r(76466),C=r(38642);class S extends h().Component{constructor(Ae){var Ue;super(Ae);Ue=this,this.getHelpContentByMenuKey=()=>{var be=this.props.defaultMenuKey;D(be).then(Ne=>{var Oe=Ne.data,ze=Oe.help_url,Re=Oe.video_url;this.setState({videoUrl:Re,helpUrl:ze})})},this.handleOpenHelpUrl=be=>{if((0,C.ve)()){window.open(be,"_blank");return}N.Z.targetTo({path:be,isExternalLink:!0})},this.handleOpenVideo=function(be){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue.props.t("helpCenter.video");Ue.setState(Oe=>({resourcePlayInfo:(0,Q.Z)((0,Q.Z)({},Oe.resourcePlayInfo),{},{resourceInfo:{originUrl:be,source:{FD:be,OD:be},contentType:"mp4"}}),previewInfo:(0,Q.Z)((0,Q.Z)({},Oe.previewInfo),{},{title:Ne,visible:!0,onCancel:Ue.handleCancelPreview})}))},this.handleCancelPreview=()=>{var be=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,Q.Z)((0,Q.Z)({},be),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:Ae.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var Ae=this.state,Ue=Ae.helpUrl,be=Ae.resourcePlayInfo,Ne=Ae.previewInfo,Oe=Ae.videoUrl,ze=this.props.t;return h().createElement("div",{className:ee().helpCenter},Oe&&h().createElement(c.Z,{type:"link",className:ee()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(Oe)},ze("helpCenter.video")),Ue&&h().createElement(c.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(Ue)},ze("helpCenter.tutorial")),h().createElement(E.Z,(0,w.Z)({},be,{previewInfo:Ne})))}}var Y=Ie=>({defaultMenuKey:Ie.currentRoute.menuKey});S.defaultProps={defaultMenuKey:""};var $=(0,P.$j)(Y)((0,b.Z)()(S));function z(Ie){var Ae=Ie.extra,Ue=localStorage.getItem("dingPersonnel"),be=sessionStorage.getItem("dingPersonnel");return h().createElement(O.Z,null,Ae,Ue!=="dingPersonnel"&&be!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&h().createElement($,null))}var G=z,W=r(4408);function K(Ie){var Ae=(0,H.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),Ue=(0,e.Z)(Ae,1),be=Ue[0],Ne=Ie.pageContainerParams,Oe=Ne===void 0?{}:Ne,ze=Ie.noPadding,Re=ze===void 0?!1:ze,V=Ie.isPersonal,J=V===void 0?!1:V,_=Ie.pageTitle,oe=Ie.className,he=oe===void 0?"":oe,ue={extra:be.helpCenter?h().createElement(G,{extra:Oe.extra}):Oe.extra},Se=(0,Q.Z)((0,Q.Z)({},Oe),ue);return h().createElement("div",{className:"page-container-content ".concat(Re?"page-container-noPadding":""," ").concat(J?"page-container-content_personal_background":""," ").concat(he)},_&&h().createElement(W.Z,{title:_}),J?h().createElement(q.Z,null,Ie.children):h().createElement(q.Z,Se,Ie.children))}var me=K},28495:function($e,pe,r){"use strict";var Q=r(88983),e=r(47933),H=r(54029),h=r(62529),q=r(12924),v=r.n(q),O=r(91768),w="";class d extends v().Component{constructor(b){super(b);this.scrollTo=P=>{var Z=this.props.questionListEleId,R=document.getElementById("question".concat(P)).offsetTop-100;document.getElementById(Z).scrollTop=R},this.startCountDown=P=>{var Z=P;w=setInterval(()=>{if(this.setState({remainTimeLabel:this.getRemainLabel(Z)}),Z<=1&&(document.onkeydown=R=>{var D=R.target;D.blur()}),Z<=0){this.props.timeover(),clearInterval(w);return}Z-=1},1e3)},this.getRemainLabel=P=>{if(P<=0)return"00:00";var Z=Math.floor(P/60),R=P%60;return Z=Z>9?Z:"0".concat(Z),R=R>9?R:"0".concat(R),"".concat(Z,":").concat(R)},this.state={remainTimeLabel:""}}componentDidMount(){this.setState({remainTimeLabel:this.getRemainLabel(this.props.remainTime)}),this.startCountDown(this.props.remainTime)}componentWillUnmount(){w&&clearInterval(w)}render(){var b=this.props,P=b.t,Z=b.parseList,R=b.currentParseType,D=b.repeatMarking,j=b.isExam,ee=b.style,N=ee===void 0?{}:ee,E=localStorage.getItem("themeColor")||"#465dcd";return v().createElement("div",{className:"question-index",style:N},v().createElement("div",{className:"question-index_title"},P("examing.questionCard"),j?v().createElement("span",{className:"operate-btn-time"},v().createElement("label",{className:"time-label"},P("examing.countDown")),this.state.remainTimeLabel):""),v().createElement("div",{className:"question-index_filter"},this.props.filterArr.map((C,S)=>v().createElement("div",{key:S,className:"question-index_filter-one"},v().createElement(h.Z,{color:C.bgColor,text:C.label})))),D&&v().createElement("div",{className:"question-index_parse"},v().createElement(e.ZP.Group,{onChange:C=>this.props.choosePareType(C.target.value),defaultValue:R},Z.map(C=>v().createElement(e.ZP.Button,{key:C.key,value:C.key},C.label)))),v().createElement("div",{className:"question-index_type"},this.props.questionIndex.map((C,S)=>C.list.length===0?null:v().createElement("div",{key:S,className:"question-index_type-one"},v().createElement("h5",null,C.label),v().createElement("div",{className:"type-index-list"},C.list.map(Y=>{var $=Y.bgColor||"",z={};return $==="#516ae6"?z={background:"rgba(81, 106, 230,0.16)",color:"#516ae6",border:"1px solid #516ae6"}:$==="#d64f4f"?z={background:"rgba(210, 67, 67, 0.16)",color:"#D24343",border:"1px solid #D24343"}:z={background:"rgba(214, 214, 214, 0.16)",color:"#000000",border:"1px solid #D6D6D6"},v().createElement("span",{onClick:()=>this.scrollTo(Y.index),key:Y.index,className:"type-index-list-one",style:z},Y.index)}))))))}}pe.Z=(0,O.Z)()(d)},25313:function($e,pe,r){"use strict";r.d(pe,{Z:function(){return ke}});var Q=r(12924),e=r.n(Q);function H(){return(se,u)=>{class n extends e().PureComponent{render(){return e().createElement("div",null,e().createElement(se,this.props),e().createElement(u,this.props))}}return n}}var h=H;function q(){return(se,u)=>{class n extends e().PureComponent{render(){return e().createElement("div",null,e().createElement(se,this.props),e().createElement(u,this.props))}}return n}}var v=q,O=r(88983),w=r(47933),d=r(91768),c=r(72387);class b extends e().PureComponent{constructor(u){super(u);this.onClosePreview=()=>{this.setState({showPreview:!1})},this.previewImg=n=>{this.setState({defaultActive:n,showPreview:!0})},this.state={defaultActive:0,showPreview:!1}}render(){return e().createElement("div",{className:"question-image"},this.props.imageList.map((u,n)=>e().createElement("img",{className:"question-image-display",src:u,key:u,onClick:()=>this.previewImg(n)})),e().createElement(c.Z,{visible:this.state.showPreview,imgList:this.props.imageList,defaultActive:this.state.defaultActive,onClose:this.onClosePreview}))}}var P=b,Z=r(84874);class R extends e().PureComponent{constructor(){super(...arguments);this.state={collapsed:!0},this.handleClick=()=>{this.setState(u=>({collapsed:!u.collapsed}))},this.renderHeader=()=>{var u=this.props,n=u.mode,f=u.t,M=n==="plat"?null:e().createElement("span",{className:"icon-arrow",onClick:this.handleClick},e().createElement(Z.Z,{iconClass:"iconf-arrow-under",size:"14px"}));return e().createElement("h5",null,f("exam.knowledgePoint"),"\uFF1A",M)},this.renderPoints=()=>{var u=this.props.points;return e().createElement("div",{className:"question-analysis_kpoint__list"},u.map((n,f)=>e().createElement("p",{key:f},f+1,". ",n)))}}render(){var u=this.props,n=u.shouldRender,f=u.mode,M=this.state.collapsed,k="";return f==="collapse"&&(M?k="question-analysis_kpoint-collapse collapsed":k="question-analysis_kpoint-collapse"),n?e().createElement("div",{className:"question-analysis_kpoint ".concat(k)},e().createElement("div",{className:"analysis-container"},this.renderHeader(),this.renderPoints())):null}}R.defaultProps={mode:"plat",shouldRender:!0,points:[]};var D=(0,d.Z)()(R),j=w.ZP.Group;class ee extends e().Component{constructor(u){super(u);this.onChange=n=>{this.setState({value:[n.target.value]},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.previewImg=n=>{this.setState({previewVisible:!0,previewImgList:[n]})},this.handleCancel=()=>{this.setState({previewVisible:!1})},this.state={value:this.props.question.answer,isCorrect:!1,previewImgList:[],previewVisible:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var u=this.props,n=u.question,f=u.displayResult,M=u.displayQuestionScore,k=u.disabled,X=k===void 0?!1:k,F=u.t,ne=this.state,T=ne.isCorrect,s=ne.previewImgList,i=ne.previewVisible;return e().createElement("div",{className:f?"single-question with-result question-one":"single-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",F("examing.single"),"\u3011"),n.title,M?e().createElement("span",{className:"question-one_score"},"(",n.score,F("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:T===!0?"correct-icon":"error-icon"},e().createElement(Z.Z,{iconClass:T===!0?"iconf-ok":"iconf-close",color:T===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},F("myExamTask.score"),"\uFF1A",n.actual_score,F("examing.scoreLabel"))):null,n.title_images&&n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement(j,{disabled:X,onChange:this.onChange,value:this.state.value[0]},n.options.map(a=>e().createElement("div",{key:a.id,className:"question-one_option-container_option-wrapper"},e().createElement(w.ZP,{value:a.id},a.option_order,".",a.title),a.answer_image?e().createElement("div",{className:"question-one_option-container_img-box",onClick:()=>this.previewImg(a.answer_image)},e().createElement("img",{src:a.answer_image})):null)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),e().createElement(c.Z,{visible:i,imgList:s,defaultActive:0,onClose:this.handleCancel}))}}var N=(0,d.Z)()(ee),E=w.ZP.Group;class C extends e().Component{constructor(u){super(u);this.onChange=n=>{this.setState({value:[n.target.value]},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.state={value:this.props.question.answer,isCorrect:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var u=this.props,n=u.question,f=u.displayResult,M=u.displayQuestionScore,k=u.disabled,X=k===void 0?!1:k,F=u.t,ne=this.state.isCorrect;return e().createElement("div",{className:f?"tof-question with-result question-one":"tof-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",F("examing.tof"),"\u3011"),n.title,M?e().createElement("span",{className:"question-one_score"},"(",n.score,F("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:ne===!0?"correct-icon":"error-icon"},e().createElement(Z.Z,{iconClass:ne===!0?"iconf-ok":"iconf-close",color:ne===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},F("myExamTask.score"),"\uFF1A",n.actual_score,F("examing.scoreLabel"))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement(E,{disabled:X,onChange:this.onChange,value:this.state.value[0]},n.options.map(T=>e().createElement(w.ZP,{value:T.id,key:T.id},T.option_order,".",T.title)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}var S=(0,d.Z)()(C),Y=r(63185),$=r(9676),z=$.Z.Group;class G extends e().Component{constructor(u){super(u);this.onChange=n=>{this.setState({value:n},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.previewImg=n=>{this.setState({previewVisible:!0,previewImgList:[n]})},this.handleCancel=()=>{this.setState({previewVisible:!1})},this.state={value:this.props.question.answer,isCorrect:!1,previewImgList:[],previewVisible:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var u=this.props,n=u.question,f=u.displayResult,M=u.displayQuestionScore,k=u.disabled,X=k===void 0?!1:k,F=u.t,ne=this.state,T=ne.isCorrect,s=ne.previewVisible,i=ne.previewImgList,a=[];return n.options.forEach(t=>{a.push({label:"".concat(t.option_order,".").concat(t.title),value:t.id,answer_image:t.answer_image})}),e().createElement("div",{className:f?"multiple-question with-result question-one":"multiple-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",F("examing.multiple"),"\u3011"),n.title,M?e().createElement("span",{className:"question-one_score"},"(",n.score,F("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:T===!0?"correct-icon":"error-icon"},e().createElement(Z.Z,{iconClass:T===!0?"iconf-ok":"iconf-close",color:T===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},F("myExamTask.score"),"\uFF1A",n.actual_score,F("examing.scoreLabel"))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement(z,{disabled:X,defaultValue:this.state.value,onChange:this.onChange},a.map(t=>e().createElement("div",{key:t.value,className:"question-one_option-container_option-wrapper"},e().createElement($.Z,{value:t.value},t.label),t.answer_image?e().createElement("div",{className:"question-one_option-container_img-box",onClick:()=>this.previewImg(t.answer_image)},e().createElement("img",{src:t.answer_image})):null)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),e().createElement(c.Z,{visible:s,imgList:i,defaultActive:0,onClose:this.handleCancel}))}}var W=(0,d.Z)()(G),K=r(77883),me=r(21888),Ie=r(59239),Ae=r(55446),Ue=r(62029),be=r(20228),Ne=r(11382),Oe=r(88986),ze=r(7085),Re=r(49101),V=r(24144),J=se=>{var u=se.addTitle,n=se.fileList,f=n===void 0?[]:n,M=se.uploadConfig,k=se.size,X=9,F={listType:"picture-card",accept:".jpg,.jpeg,.png,.gif",openFileDialogOnClick:f.length<M.maxCount,maxCount:M.maxCount};return e().createElement("div",{className:"upload-image-container-exam"},e().createElement(V.ZM,(0,Ue.Z)({},se,{uploadConfig:(0,Oe.Z)((0,Oe.Z)({},F),M),size:k,render:ne=>{var T=ne.fileList,s=ne.loading;return e().createElement(Ne.Z,{spinning:s,indicator:e().createElement(ze.Z,{style:{fontSize:24},spin:!0})},e().createElement("span",{style:T.length>=X?{}:{color:"#516AE6"}},e().createElement(Re.Z,null),u))}})))};J.defaultProps={addTitle:"",uploadConfig:{},size:{value:2,unit:"MB"}};var _=(0,d.Z)()(J),oe=r(71194),he=r(57016);class ue extends e().PureComponent{constructor(){super(...arguments);this.state={visible:!1,showUrl:""},this.onImageClick=u=>{this.setState({visible:!0,showUrl:u})},this.handleCancel=()=>{this.setState({visible:!1,showUrl:""})}}render(){var u=this.props,n=u.question,f=u.t,M=n.answer_image_path,k=M===void 0?"":M,X=k.length&&k.split(",")||[];return e().createElement(Q.Fragment,null,X.length>0?e().createElement(Q.Fragment,null,e().createElement("div",{className:"show-answer-img-title"},f("learning.studentUploadTitle"),":"),e().createElement("div",{className:"question-analysis-show-img-container"},X.map(F=>e().createElement("img",{className:"question-analysis-show-img-out",key:F,onClick:()=>this.onImageClick(F),src:F})),e().createElement(he.Z,{visible:this.state.visible,onCancel:this.handleCancel,footer:null,wrapClassName:"showModalImg"},e().createElement("div",{className:"showModalImg"},e().createElement("img",{src:this.state.showUrl,alt:""}))))):null)}}ue.defaultProps={question:{}};var Se=(0,d.Z)()(ue),Ze=14;class We extends e().Component{constructor(u){super(u);this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.setTitle=()=>{var n=this.props.question,f=n.title,M=n.answer_image_path,k=M===void 0?"":M,X=k.length>0?k.split(","):[],F=[];X.forEach((t,o)=>{F=[...F,{uid:o,url:t}]});for(var ne=[],T=1,s=[],i=[];f.indexOf("[[]]")!==-1;)ne.push({type:"str",str:f.substring(0,f.indexOf("[[]]"))}),ne.push({type:"input",index:T}),i.push(70),T+=1,f=f.substring(f.indexOf("[[]]")+4);f.length>0&&ne.push({type:"str",str:f});for(var a=0;a<T-1;a++)s.push(this.props.question.answer[a]||""),i[a]=Ze*(this.props.question.answer[a]?this.props.question.answer[a].length:5);this.setState({titleArr:ne,value:s,inputArrWidth:i,imgList:F})},this.handleChange=(n,f)=>{var M=[...this.state.value];M[f]=n.target.value,this.setState({value:M},()=>{var k=this.state.imgList,X=k===void 0?[]:k,F=[];X.length&&X.forEach(ne=>{F=[...F,ne.url]}),this.props.onUpdateValue(this.props.question.id,M,F.join(","))})},this.handleInput=(n,f)=>{var M=n.target.value,k=M.length*Ze,X=[...this.state.inputArrWidth];k<70||(X[f]=k>600?600:k,this.setState({inputArrWidth:X}))},this.handleMarkQuestionScore=n=>{this.setState({markedScore:n}),this.props.setQuestionScore(n,this.props.question.id)},this.handleUpLoadChange=n=>{var f=n.fileList;this.setState({imgList:f},()=>{var M=this.state.imgList,k=M===void 0?[]:M,X=[];k.length&&k.forEach(F=>{X=[...X,F.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,X.join(","))})},this.state={value:[],titleArr:[],isCorrect:!1,inputArrWidth:[],markedScore:this.props.question.actualScore,imgList:[]}}componentDidMount(){this.setTitle(),this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()}),this.props.displayMarkInput&&this.handleMarkQuestionScore(this.props.question.actualScore)}render(){var u=this.props,n=u.question,f=u.displayResult,M=u.displayAnalysisInput,k=u.displayMarkInput,X=u.displayQuestionScore,F=u.t,ne=u.cut_screen_count,T=this.state,s=T.isCorrect,i=T.inputArrWidth,a=T.markedScore,t=T.titleArr,o=T.value;return e().createElement("div",{className:f?"blank-question with-result question-one":"blank-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,"."),e().createElement("span",{className:"question-one_type"},"\u3010",F("examing.blank"),"\u3011"),t.map((l,p)=>l.type==="str"?e().createElement("span",{key:p,className:"blank-title-str"},l.str):f?e().createElement("span",{className:"blank-title-result",key:p},"(",o[l.index-1],")"):e().createElement("input",{key:p,type:"text",onPaste:g=>(g.preventDefault(),!1),onContextMenu:g=>(g.preventDefault(),!1),style:{width:"".concat(i[l.index-1],"px")},className:"blank-title-input",onBlur:g=>this.handleChange(g,l.index-1),onInput:g=>this.handleInput(g,l.index-1),defaultValue:this.state.value[l.index-1]})),X?e().createElement("span",{className:"question-one_score"},"(",n.score,F("examing.scoreLabel"),")"):null),f&&!k?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:s===!0?"correct-icon":"error-icon"},e().createElement(Z.Z,{iconClass:s===!0?"iconf-ok":"iconf-close",color:s===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},F("myExamTask.score"),"\uFF1A",n.actual_score,F("examing.scoreLabel"))):null,k?e().createElement("div",{className:"question-one_mark"},e().createElement(Ie.Z.Item,{label:F("examing.getScore"),labelCol:{span:8},wrapperCol:{span:14},validateStatus:a>n.score?"error":"",help:a>n.score?F("examing.markScoreTip"):""},e().createElement(me.Z,{precision:1,value:a,min:0,max:n.score,className:"question-one_mark-input",onChange:this.handleMarkQuestionScore}))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,f&&!k?e().createElement("div",{className:"blank-my-answer-list"},n.correct_answer.map((l,p)=>e().createElement("div",{className:"blank-my-answer-list_item",key:p},e().createElement("span",{className:"blank-my-answer-list_item-index"},"(",p+1,")"),e().createElement("span",{className:s===!0?"blank-my-answer-list_item-content correct":"blank-my-answer-list_item-content error"},n.answer[p]?n.answer[p]:"")))):null,f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),ne>=0?null:e().createElement(e().Fragment,null,M||k?e().createElement(Se,{question:n}):"",n.answer_image&&!M&&n.answer_image&&!k?e().createElement(_,{uploadConfig:{maxCount:9},fileList:this.state.imgList,onUploadedListChange:this.handleUpLoadChange,addTitle:F("learning.uploadPictureContent")}):null))}}var Te=(0,d.Z)()(We),_e=r(47673),fe=r(4107),De=r(6793),Qe=fe.Z.TextArea;class tt extends e().Component{constructor(u){super(u);this.onUpLoadChange=n=>{var f=n.fileList;this.setState({imgList:f},()=>{var M=this.state.imgList,k=M===void 0?[]:M,X=[];k.length&&k.forEach(F=>{X=[...X,F.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,X.join(","))})},this.onChange=n=>{this.setState({value:[n.target.value]},()=>{(0,De.Ds)(this.updateValue,500)()})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.updateValue=()=>{var n=this.state.imgList,f=n===void 0?[]:n,M=[];f.length&&f.forEach(k=>{M=[...M,k.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,M.join(","))},this.handleMarkQuestionScore=n=>{this.setState({markedScore:n}),this.props.setQuestionScore(n,this.props.question.id)},this.state={value:this.props.question.answer,isCorrect:!1,markedScore:this.props.question.actualScore,imgList:[]}}componentDidMount(){var u=this.props.question.answer_image_path,n=u===void 0?"":u,f=n.length>0?n.split(","):[],M=[];f.forEach((k,X)=>{M=[...M,{uid:X,url:k}]}),this.setState({imgList:M}),this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()}),this.props.displayMarkInput&&this.handleMarkQuestionScore(this.props.question.actualScore)}render(){var u=this.props,n=u.question,f=u.displayResult,M=u.displayAnalysisInput,k=u.displayMarkInput,X=u.displayQuestionScore,F=u.disabled,ne=F===void 0?!1:F,T=u.t,s=u.cut_screen_count,i=this.state,a=i.isCorrect,t=i.markedScore;return e().createElement("div",{className:f?"describe-question with-result question-one":"describe-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",T("examing.describe"),"\u3011"),n.title,X?e().createElement("span",{className:"question-one_score"},"(",n.score,T("examing.scoreLabel"),")"):null),f&&!k?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:a===!0?"correct-icon":"error-icon"},e().createElement(Z.Z,{iconClass:a===!0?"iconf-ok":"iconf-close",color:a===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},T("myExamTask.score"),"\uFF1A",n.actual_score,T("examing.scoreLabel"))):null,k?e().createElement("div",{className:"question-one_mark"},e().createElement(Ie.Z.Item,{label:T("examing.getScore"),labelCol:{span:8},wrapperCol:{span:14},validateStatus:t>n.score?"error":"",help:t>n.score?T("examing.markScoreTip"):""},e().createElement(me.Z,{value:t,precision:1,min:0,max:n.score,className:"question-one_mark-input",onChange:this.handleMarkQuestionScore}))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},k?e().createElement("div",{className:"describe-question-answer"},this.state.value.join(",")):e().createElement(Qe,{disabled:ne,rows:4,placeholder:T("examing.textareaTip"),autoSize:!0,onChange:this.onChange,maxLength:1500,onPaste:o=>(o.preventDefault(),!1),onContextMenu:o=>(o.preventDefault(),!1),defaultValue:this.state.value.join(",")})),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),s>=0?null:e().createElement(e().Fragment,null,M||k?e().createElement(Se,{question:n}):"",n.answer_image&&!M&&n.answer_image&&!k?e().createElement(_,{uploadConfig:{maxCount:9},fileList:this.state.imgList,onUploadedListChange:this.onUpLoadChange,addTitle:T("learning.uploadPictureContent")}):null))}}var at=(0,d.Z)()(tt);class Xe extends e().PureComponent{render(){var u=this.props,n=u.question,f=u.t;return e().createElement("div",{className:"question-analysis_analysis"},n.analysis&&n.analysis.length>0?e().createElement("div",{className:"analysis-container"},e().createElement("h5",null,f("examing.parse"),"\uFF1A"),e().createElement("p",null,n.analysis)):null,n.analysis_images&&n.analysis_images.length>0?e().createElement(P,{imageList:n.analysis_images}):null)}}Xe.defaultProps={question:{}};var qe=(0,d.Z)()(Xe);class rt extends e().PureComponent{constructor(u){super(u);this.state={isCorrect:""}}componentDidMount(){var u=this.props.question,n=u.is_correct,f=u.answer;n==="true"?this.setState({isCorrect:!0}):f.join("").length>0?this.setState({isCorrect:!1}):this.setState({isCorrect:"noAnswer"})}render(){var u=this.props,n=u.question,f=u.t,M=u.isShowAnalysis,k=[];return n.options.forEach(X=>{n.correct_answer.findIndex(F=>X.id===F)!==-1&&k.push(X.option_order)}),e().createElement("div",{className:"question-analysis select-analysis"},e().createElement("div",{className:"question-analysis_tip"},this.state.isCorrect===!0?e().createElement("span",{className:"correct-tip",style:{color:"#516ae6"}},f("examing.correctTip")):null,this.state.isCorrect===!1?e().createElement("span",{className:"error-tip"},f("examing.errorTip")):null,this.state.isCorrect==="noAnswer"?e().createElement("span",{className:"error-tip"},f("examing.noAnswer")):null,n.is_correct!=="true"&&M?e().createElement("span",{className:"correct-answer"},f("examing.correctIs"),"\uFF1A",k.join(",")):null),M?e().createElement(qe,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}rt.defaultProps={question:{},isShowAnalysis:!0};var ce=(0,d.Z)()(rt);class et extends e().PureComponent{render(){var u=this.props,n=u.question,f=u.t,M=u.isShowAnalysis,k=[];return n.options.forEach(X=>{n.correct_answer.findIndex(F=>X.id===F)!==-1&&k.push(X.title.split("|"))}),e().createElement("div",{className:"question-analysis blank-analysis"},M?e().createElement("div",{className:"question-analysis_blank-answer"},e().createElement("p",{className:"blank-answer-label"},f("examing.referAnswer")),e().createElement("div",{className:"blank-answer-list"},k.map((X,F)=>e().createElement("div",{key:F,className:"blank-answer-list-item"},e().createElement("span",{className:"blank-answer-list-item_index"},"(",F+1,")"),X.map((ne,T)=>e().createElement("span",{className:"blank-answer-list-item_answer",key:T},"\u3010",ne,"\u3011")))))):null,M?e().createElement(qe,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}et.defaultProps={question:{},isShowAnalysis:!0};var Be=(0,d.Z)()(et);class Ye extends e().PureComponent{render(){var u=this.props,n=u.question,f=u.showComment,M=u.t,k=u.isShowAnalysis,X=[];return n.options.forEach(F=>{n.correct_answer.findIndex(ne=>F.id===ne)!==-1&&X.push(F.title.split("|"))}),e().createElement("div",{className:"question-analysis describe-analysis"},k?e().createElement("div",{className:"question-analysis_describe-answer"},e().createElement("p",{className:"describe-answer-label"},M("examing.keywordReference")),e().createElement("div",{className:"describe-answer-list"},X.map((F,ne)=>e().createElement("div",{key:ne,className:"describe-answer-list-item"},e().createElement("span",{className:"describe-answer-list-item_index"},"(",ne+1,")"),F.map((T,s)=>e().createElement("span",{className:"describe-answer-list-item_answer",key:s},"\u3010",T,"\u3011")))))):null,k?e().createElement(qe,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),f&&k?e().createElement("div",{className:"describe-answer-comment"},e().createElement("div",{className:"describe-answer-comment-label"},M("examing.comments")),e().createElement("p",{className:"describe-answer-comment-content"},n.comment||M("examing.noComments"))):null)}}Ye.defaultProps={question:{},isShowAnalysis:!0};var lt=(0,d.Z)()(Ye),m=fe.Z.TextArea;class B extends e().PureComponent{constructor(){super(...arguments);this.handleCommentChange=u=>{var n=u.target.value;this.props.changeComment(n,this.props.question.id)}}render(){var u=this.props,n=u.question,f=u.t;return e().createElement("div",{className:"question-mark_analysis"},e().createElement("div",{className:"question-mark_analysis-answer"},e().createElement("span",null,f("examing.referenceAnswer"),"\uFF1A"),n.correct_answer.map((M,k)=>e().createElement("div",{key:k},e().createElement("span",null,"".concat(n.type==="blank"?f("examing.blankLabel"):f("examing.shortAnswerLabel")).concat(k+1),"\uFF1A"),M))),n.analysis.length>0?e().createElement("div",{className:"analysis-container"},e().createElement("h5",null,f("examing.parse"),"\uFF1A"),e().createElement("p",null,n.analysis)):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),n.analysis_images.length>0?e().createElement(P,{imageList:n.analysis_images}):null,n.type==="short_answer"?e().createElement(m,{className:"describe-comment-input",rows:4,maxLength:300,placeholder:f("examing.commentPlaceholder"),onChange:this.handleCommentChange}):null)}}B.defaultProps={question:{}};var de=(0,d.Z)()(B),ie=h()(N,ce),ye=h()(W,ce),we=h()(S,ce),Fe=h()(Te,Be),Me=h()(at,lt),Je=v()(Te,de),Ee=v()(at,de);class Ce extends e().Component{constructor(){super(...arguments);this.renderQuestion=u=>{var n=this.props,f=n.withMarkInput,M=n.withAnalysis,k=n.showShortAnswerComment,X=k===void 0?!0:k,F=n.displayResult,ne=F===void 0?!0:F,T=n.displayQuestionScore,s=T===void 0?!0:T,i=n.examId,a=i===void 0?"":i,t=n.isShowAnalysis,o=n.cut_screen_count;if(M)switch(u.type){case"single":return e().createElement(ie,{displayResult:ne,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"tof":return e().createElement(we,{displayResult:ne,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"multiple":return e().createElement(ye,{displayResult:ne,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"blank":return e().createElement(Fe,{displayResult:ne,displayAnalysisInput:!0,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"short_answer":return e().createElement(Me,{displayResult:ne,displayAnalysisInput:!0,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,showComment:X,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});default:return null}else if(f)switch(u.type){case"blank":return e().createElement(Je,{displayResult:!0,displayMarkInput:!0,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,setQuestionScore:this.props.setQuestionScore,onUpdateValue:this.props.onUpdateValue});case"short_answer":return e().createElement(Ee,{displayResult:!0,displayMarkInput:!0,disabled:!0,displayQuestionScore:s,key:u.id+a,question:u,setQuestionScore:this.props.setQuestionScore,changeComment:this.props.changeComment,onUpdateValue:this.props.onUpdateValue});default:return null}else switch(u.type){case"single":return e().createElement(N,{key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"tof":return e().createElement(S,{key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"multiple":return e().createElement(W,{key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"blank":return e().createElement(Te,{key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s,cut_screen_count:o});case"short_answer":return e().createElement(at,{key:u.id+a,question:u,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s,cut_screen_count:o});default:return null}}}render(){var u=this.props.questions;return e().createElement("div",{className:"question-list"},u.length>0?u.map(n=>this.renderQuestion(n)):null)}}Ce.defaultProps={withAnalysis:!1,withMarkInput:!1,questions:[]};var ke=Ce},92619:function($e,pe,r){"use strict";r.r(pe),r.d(pe,{default:function(){return ze}});var Q=r(34792),e=r(48086),H=r(12924),h=r.n(H),q=r(57068),v=r(91768),O=r(28216),w=r(28495),d=r(57663),c=r(71577),b=r(37055),P=r(10237),Z=Re=>{var V=Re.user;return{isAdmin:V.isAdmin}};class R extends h().Component{constructor(){super(...arguments);this.state={showPrint:!1},this.onPrintPaper=()=>{var V=this.props.print;V&&V()},this.onRepeatMarking=()=>{var V=this.props.toRepeatMarking;V&&V()},this.onCancel=()=>{var V=this.props.cancel;V&&V()},this.getSetting=()=>{P.WY.get({url:b.ZP.advancedSetting.getSettingStatusByType("print_paper"),params:{}}).then(V=>{this.setState({showPrint:V.data.status})})}}componentDidMount(){this.getSetting()}render(){var V=this.props,J=V.t,_=V.hasRepeatMarkingAuth,oe=V.isPersonalFooter,he=V.isAdmin,ue=this.state.showPrint;return h().createElement("div",{className:"parse-operate-btn ".concat(oe?"parse-operate-btn__personal":"")},h().createElement("div",{className:"parse-operate-btn-tips"},_?J("examing.markUpBottomTip"):null),h().createElement("div",{className:"parse-operate-btn-operation"},h().createElement("div",{className:"parse-operate-btn-cancel"},h().createElement(c.Z,{onClick:this.onCancel},J("examing.cancel"))),_?h().createElement("div",{className:"parse-operate-btn-cancel"},h().createElement(c.Z,{type:"primary",onClick:this.onRepeatMarking},J("examing.reMarking"))):null,h().createElement("div",{className:"parse-operate-btn-cancel"},ue||he?h().createElement(c.Z,{type:"primary",onClick:this.onPrintPaper},J("examing.printPaper")):null)))}}var D=(0,O.$j)(Z)((0,v.Z)()(R)),j=r(6793),ee=r(60667),N={failed:"".concat("https://oss.coolcollege.cn","/1797779478810857472.png"),passed:"".concat("https://oss.coolcollege.cn","/1797779518509944832.png"),perfect:"".concat("https://oss.coolcollege.cn","/1797779541016580096.png")};class E extends h().PureComponent{render(){var V=this.props,J=V.examInfo,_=V.t;return h().createElement("div",{className:"parse-top-info"},h().createElement("img",{src:N[J.status],className:"parse-top-info_img"}),h().createElement("h2",{className:"parse-top-info_title"},J.title),h().createElement("div",{className:"parse-top-info_subinfo userinfo"},h().createElement("span",{className:"parse-subinfo-one right"},h().createElement("label",null,_("examing.username"),"\uFF1A"),h().createElement(ee.Z,{dataType:"userName",value:J.sync_user_id,name:J.user_name,type:J.sync_source_type})),h().createElement("span",{className:"parse-subinfo-one left"},h().createElement("label",null,_("personal.jobNumber"),"\uFF1A"),J.job_number)),h().createElement("div",{className:"parse-top-info_subinfo margin"},h().createElement("span",{className:"subinfo-one text-center"},h().createElement("label",null,_("examing.examTotalScore"),"\uFF1A"),J.total_score),h().createElement("span",{className:"subinfo-one text-center"},h().createElement("label",null,_("examing.passScore"),"\uFF1A"),J.passing_score),h().createElement("span",{className:"subinfo-one text-center"},h().createElement("label",null,_("examing.yourScore"),"\uFF1A"),J.score),h().createElement("span",{className:"subinfo-one text-center"},h().createElement("label",null,_("examing.handoverTime"),"\uFF1A"),(0,j.p6)(J.commit_time,"yyyy-MM-dd hh:mm:ss"))))}}var C=(0,v.Z)()(E),S=r(25313),Y=r(99891);class $ extends h().Component{render(){var V=this.props,J=V.examInfo,_=V.isShowAnalysis;return h().createElement("div",{className:"exam-parse"},h().createElement(C,{examInfo:J}),h().createElement(S.Z,{questions:this.props.questions,examId:J.id,withAnalysis:!0,isShowAnalysis:_,showShortAnswerComment:J&&J.mark_type==="person_mark"}),h().createElement(Y.Z,{scenes:"exam"}))}}var z=$,G=r(32157),W=r(75869),K=r(88986);class me extends h().Component{constructor(V){super(V);this.onSelect=(J,_)=>{var oe=_.node,he=oe===void 0?{}:oe,ue=he.courseId,Se=ue===void 0?"":ue;Se&&this.props.changeExam(Se)},this.state={}}render(){var V=this.props,J=V.taskExamRecord,_=J===void 0?[]:J,oe=V.t,he=V.style,ue=he===void 0?{}:he,Se=V.activeId,Ze="",We=_.map((Te,_e)=>(typeof Ze!="number"&&(Ze=Te.courseInfo.find(fe=>fe.show_result)?_e:0),(0,K.Z)((0,K.Z)({},Te),{},{title:Te.stageName,key:_e,children:Te.courseInfo.map(fe=>(0,K.Z)((0,K.Z)({},fe),{},{title:fe.courseName,key:fe.courseId,disabled:!fe.show_result}))})));return h().createElement("div",{className:"task-exam-card",style:ue},h().createElement("div",{className:"task-exam-card_title"},oe("myExamTask.examContent")),We.length>0?h().createElement("div",{className:"task-exam-card-tree",style:{padding:"16px 24px 0",overflow:"auto"}},h().createElement(W.Z,{showLine:{showLeafIcon:!1},onSelect:this.onSelect,treeData:We,defaultExpandedKeys:[Ze],selectedKeys:[Se]})):null)}}me.defaultProps={taskExamRecord:[],activeId:"",changeExam:()=>{}};var Ie=(0,v.Z)()(me),Ae=r(38642),Ue=r(11449),be=r(4408),Ne=[{label:"\u672A\u7B54",bgColor:"#d6d6d6",status:""},{label:"\u6B63\u786E",bgColor:"#516ae6",status:"correct"},{label:"\u9519\u8BEF",bgColor:"#d64f4f",status:"error"}];class Oe extends h().Component{constructor(V){super(V);this.handleResize=()=>{var _=document.body.clientWidth;_<1080?this.setState({width:"calc(100vw - 60px)"}):this.setState({width:"calc(100vw - 220px)"})},this.toRepeatMarking=()=>{var _=this.state,oe=_.examId,he=_.examInfo;this.props.history.push("/training/examination/plan/testPaper?id=".concat(oe,"&userId=").concat(he.user_id,"&makeupCount=").concat(he.makeup_count))},this.getProjectExamRecord=(_,oe)=>{var he=b.ZP.StudyProjectList.examRecord(oe),ue={user_id:_};P.WY.get({url:he,params:ue}).then(Se=>{Se.data=Se.data.filter(fe=>fe.resources.length>0);var Ze=Se.data.map(fe=>({stageName:fe.stage_name,courseInfo:fe.resources.map(De=>({courseId:De.course_id,courseName:De.resource_name,show_result:this.params.client_flag&&this.params.client_flag==="student"?De.show_result:!0}))})),We=[];Ze.forEach(fe=>{fe.courseInfo.forEach(De=>{De.show_result=this.params.client_flag&&this.params.client_flag==="student"?De.show_result:!0}),We.push(...fe.courseInfo)});var Te=We.filter(fe=>fe.show_result),_e=Te.length>0&&Te[0].courseId||"";this.setState({examId:_e,taskExamRecord:Ze,activeTaskExamId:_e},()=>{this.getExamInfo(),this.getQuestions()})})},this.getTaskExamRecord=(_,oe)=>{var he=q.parse(this.props.history.location.search),ue=he.dimission_status,Se=b.ZP.MyExamTask.getTaskExamRecord(),Ze={userId:_,planId:oe,dimissionStatus:ue};P.WY.get({url:Se,params:Ze}).then(We=>{var Te=We.data.data,_e=[];Te.forEach(Qe=>{Qe.courseInfo.forEach(tt=>{tt.show_result=this.params.client_flag&&this.params.client_flag==="student"?tt.show_result:!0}),_e.push(...Qe.courseInfo)});var fe=_e.filter(Qe=>Qe.show_result),De=fe.length>0&&fe[0].courseId||"";this.setState({examId:De,taskExamRecord:Te,activeTaskExamId:De},()=>{this.getExamInfo(),this.getQuestions()})})},this.changeTaskExam=_=>{this.setState({examId:_,activeTaskExamId:_},()=>{this.getExamInfo(),this.getQuestions()})},this.getExamInfo=()=>{var _=q.parse(this.props.history.location.search),oe=_.pageFrom,he=oe===void 0?"":oe,ue=_.userId,Se=_.makeupCount,Ze=Se===void 0?"":Se,We=_.dimission_status,Te;if(he==="examMonitor"||he==="projectMonitor")We==="quit"?Te=b.ZP.MyExamTask.answerResultByQuitUserId({examId:this.state.examId}):Te=b.ZP.MyExamTask.answerResultByUserId({examId:this.state.examId});else{var _e={examId:this.state.examId,userId:ue||""};_e.userId||delete _e.userId,Te=b.ZP.MyExamTask.examResult(_e)}var fe={userId:ue,makeup_count:Ze};P.WY.get({url:Te,params:fe}).then(De=>{this.setState({examInfo:De.data,analysisType:De.data.show_answer})})},this.getQuestions=()=>{var _=this.props.t,oe=q.parse(this.props.history.location.search),he=oe.pageFrom,ue=he===void 0?"":he,Se=oe.userId,Ze=oe.makeupCount,We=Ze===void 0?"":Ze,Te=oe.repeatMarking,_e=Te===void 0?!1:Te,fe=oe.dimission_status,De;if(ue==="examMonitor"||ue==="projectMonitor")fe==="quit"?De=b.ZP.MyExamTask.answerAnalysisByQuitUserId({examId:this.state.examId}):De=b.ZP.MyExamTask.answerAnalysisByUserId({examId:this.state.examId});else{var Qe={examId:this.state.examId,userId:Se||""};Qe.userId||delete Qe.userId,De=b.ZP.MyExamTask.answerAnalysis(Qe)}var tt={userId:Se,makeup_count:We};this.setState({hasChangedExam:!1});var at=this.state.currentParseType;P.WY.get({url:De,params:tt}).then(Xe=>{var qe=[{label:_("examing.single"),list:[]},{label:_("examing.multiple"),list:[]},{label:_("examing.tof"),list:[]},{label:_("examing.blank"),list:[]},{label:_("examing.describe"),list:[]}],rt={};Xe.data.analysis.forEach((ce,et)=>{rt[ce.id]=ce;var Be="",Ye="";if(ce.answer.join("").length===0&&ce.answer_image_path.length===0?(Be="noAnswer",Ye=Ne[0].bgColor):ce.is_correct==="true"?(Be="correct",Ye=Ne[1].bgColor):(Be="error",Ye=Ne[2].bgColor),!(at==="wrong"&&ce.is_correct==="true"))switch(ce.type){case"single":qe[0].list.push({index:et+1,status:Be,bgColor:Ye});break;case"multiple":qe[1].list.push({index:et+1,status:Be,bgColor:Ye});break;case"tof":qe[2].list.push({index:et+1,status:Be,bgColor:Ye});break;case"blank":qe[3].list.push({index:et+1,status:Be,bgColor:Ye});break;case"short_answer":qe[4].list.push({index:et+1,status:Be,bgColor:Ye});break;default:break}}),this.setState({questions:at==="all"?Xe.data.analysis:Xe.data.analysis.filter(ce=>ce.is_correct!=="true"),questionIndex:qe,hasChangedExam:!0,hasRepeatMarkingAuth:Xe.data.repeat_marking==="true"&&_e})})},this.choosePareType=_=>{this.setState({currentParseType:_},()=>{this.getQuestions()})},this.cancel=()=>{var _=this.props,oe=_.location,he=_.history,ue=q.parse(oe.search),Se=ue.pageFrom,Ze=Se===void 0?"":Se;Ze==="myExamTask"?(0,Ae.eJ)({url:"/personal/profile?tab=myExamTask"}):he.goBack()},this.print=()=>{var _=navigator.appVersion,oe="DingTalk";if(_.indexOf(oe.toLowerCase())>-1)e.default.warn("\u9489\u9489\u5E94\u7528\u5185\u4E0D\u652F\u6301\u6253\u5370\uFF0C\u8BF7\u524D\u5F80 learning.coolcollege.cn \u767B\u5F55\u5B8C\u6210\u6253\u5370");else{var he=this.pageRef.current.innerHTML,ue=document.body.innerHTML;document.body.innerHTML=he,window.print(),document.body.innerHTML=ue,window.location.reload()}};var J=V.t;this.state={width:"",examId:"",planId:"",examInfo:{},questions:[],questionIndex:[{label:J("examing.single"),list:[]},{label:J("examing.multiple"),list:[]},{label:J("examing.tof"),list:[]},{label:J("examing.blank"),list:[]},{label:J("examing.describe"),list:[]}],taskExamRecord:[],activeTaskExamId:"",hasChangedExam:!0,analysisType:"",hasRepeatMarkingAuth:!1,parseList:[{label:J("common.all"),key:"all"},{label:J("exam.wrongQuestions"),key:"wrong"}],currentParseType:"all"},Ne[0].label=J("examing.noHaveAnswer"),Ne[1].label=J("examing.correctAnswer"),Ne[2].label=J("examing.errorAnswer"),this.pageRef=h().createRef()}componentDidMount(){var V=q.parse(this.props.history.location.search);this.params=V;var J=V.userId,_=V.planId,oe=V.id,he=V.pageFrom;_?(this.setState({planId:_}),he==="projectMonitor"?this.getProjectExamRecord(J,_):this.getTaskExamRecord(J,_)):this.setState({examId:oe},()=>{this.getExamInfo(),this.getQuestions()}),this.handleResize(),window.addEventListener("resize",(0,j.Ds)(this.handleResize,100))}componentDidUpdate(V){this.props.collapsed!==V.collapsed&&(this.props.collapsed?this.setState({width:"calc(100vw - 60px)"}):this.setState({width:"calc(100vw - 220px)"}))}componentWillUnmount(){window.removeEventListener("resize",(0,j.Ds)(this.handleResize,100))}render(){var V=this.state,J=V.taskExamRecord,_=V.questionIndex,oe=V.examInfo,he=V.questions,ue=V.activeTaskExamId,Se=V.planId,Ze=V.hasChangedExam,We=V.analysisType,Te=V.hasRepeatMarkingAuth,_e=V.parseList,fe=V.currentParseType,De=V.width,Qe=this.props.t,tt=q.parse(this.props.location.search),at=tt.pageFrom,Xe=at===void 0?"":at,qe=tt.repeatMarking,rt=qe===void 0?!1:qe,ce=this.props.match.path;return h().createElement(h().Fragment,null,h().createElement(Ue.Z,{pageContainerParams:{header:{title:"".concat(this.props.t("examing.examResult"))}},isPersonal:ce.indexOf("personal")>-1,pageTitle:Qe("examing.examResult")},h().createElement(be.Z,{title:Qe("documentTitle.answerAnalysis")}),h().createElement("div",{className:"parse ".concat(ce.indexOf("personal")>-1?"parse__personal_css":""),onContextMenu:et=>(et.preventDefault(),!1)},h().createElement("div",{className:"parse-container"},h().createElement("div",{className:"parse-left ".concat(ce.indexOf("personal")>-1?"parse-left__personal_left_css":""," ").concat(J.length>0?"has-task-exam":""," ")},h().createElement(w.Z,{repeatMarking:rt,choosePareType:this.choosePareType,currentParseType:fe,parseList:_e,questionIndex:_,filterArr:Ne,questionListEleId:"parse-right",style:Se?{height:"50%",paddingBottom:2}:{height:"100%",paddingBottom:2}}),J&&J.length>0&&h().createElement(Ie,{taskExamRecord:J,activeId:ue,changeExam:this.changeTaskExam,style:{height:"50% - 24px"}})),h().createElement("div",{className:"parse-right-wrapper"},h().createElement("div",{className:"parse-right-title"},this.props.t("exam.paperAddTitle")),h().createElement("div",{id:"parse-right",className:"parse-right",ref:this.pageRef},Ze?h().createElement(z,{isPersonal:ce.indexOf("personal")>-1,print:this.print,cancel:this.cancel,hasRepeatMarkingAuth:Te,toRepeatMarking:this.toRepeatMarking,examInfo:oe,questions:he,isShowAnalysis:Xe==="examMonitor"||Xe==="projectMonitor"||We===1}):null),h().createElement("div",{className:"exam-parse-footer-btn-wrapper",style:{width:"".concat(ce.indexOf("personal")>-1?"100vw":De)}},h().createElement(D,{isPersonalFooter:ce.indexOf("personal")>-1,print:this.print,cancel:this.cancel,hasRepeatMarkingAuth:Te,toRepeatMarking:this.toRepeatMarking})))))))}}var ze=(0,O.$j)(Re=>({collapsed:Re.sideBar.collapsed}))((0,v.Z)()(Oe))},9849:function($e,pe,r){"use strict";r.d(pe,{Ej:function(){return q},kL:function(){return v},T:function(){return O},NU:function(){return w},FL:function(){return d},fn:function(){return c},bm:function(){return b},jY:function(){return P},Vs:function(){return Z},li:function(){return R},Nl:function(){return D},YF:function(){return j},Q6:function(){return ee},zW:function(){return N},Zv:function(){return E},Qg:function(){return C},qc:function(){return S},Ve:function(){return $},rS:function(){return z},Rh:function(){return G}});var Q=r(10237),e=r(37055),H=r(38642),h={zaraFlag:(0,H.UI)("ZARA_H5")};function q(W,K){var me=e.ZP.StudyProjectList.startStudy(W);return Q.WY.post({url:me,data:K})}function v(W){var K=e.ZP.Common.enroll(W);return Q.WY.post({url:K})}function O(W,K){var me=W.courseId,Ie=e.ZP.StudyProjectList.studyProject(me);return Q.WY.get({url:Ie,params:K})}function w(W){var K=W.id,me=h.zaraFlag?e.m1.getAssessmentProjectInfo(K):e.m1.getProjectInfo(K);return Q.WY.get({url:me})}function d(W){var K=W.courseId,me=e.ZP.EnterpriseCourse.addScanCount(K);return Q.WY.post({url:me})}function c(){var W=e.ZP.StudyProjectList.getAccountInfo();return Q.WY.get({url:W})}function b(W){var K=e.ZP.StudyProjectList.projectCertiUrl(W);return Q.WY.get({url:K})}function P(W){var K=W.courseId,me=e.ZP.Courses.like(K);return Q.WY.post({url:me})}function Z(W){var K=e.ZP.EnterpriseCourse.addCommentAndScore();return Q.qg.post({url:K,data:W})}function R(W){var K=e.ZP.EnterpriseCourse.getCourseComments();return Q.WY.get({url:K,params:W})}function D(W){var K=e.ZP.EnterpriseCourse.addCommentAndScore();return Q.qg.post({url:K,data:W})}function j(W){var K=e.ZP.EnterpriseCourse.deleteComment();return Q.qg.post({url:K,data:W})}function ee(W,K){var me=e.ZP.StudyProjectList.projectStudyRecord(W);return Q.WY.get({url:me,params:K})}function N(W){var K=e.ZP.DingSpaceId.getSpaceId();return Q.WY.get({url:K,params:W})}function E(W,K){var me=e.ZP.PlatformCourse.learningUrl(W);return Q.WY.get({url:me,params:K})}function C(W){var K=e.ZP.MyExamTask.examIntro({examId:W});return Q.WY.get({url:K})}function S(W){var K=e.ZP.MyExamTask.examCheckStatus({examId:W});return Q.WY.get({url:K})}function Y(W,K){var me=CONFIG.Common.getOperateLog(W);return formDataRequest.get({url:me,params:K})}function $(W,K){var me=h.zaraFlag?e.ZP.StudyProjectList.changeCustomStatus(W):e.ZP.StudyProjectList.changeStatus(W);return Q.WY.post({url:me,data:K})}function z(W){var K=e.ZP.StudyProjectList.getProjectReward(W);return Q.WY.get({url:K})}function G(W){var K=e.ZP.subsidyGz.subsidyCourseSetting(W);return Q.WY.get({url:K})}},91648:function($e,pe,r){"use strict";r.d(pe,{Z:function(){return Q}});function Q(e,H){var h,q,v,O,h;if(q="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),h=[],v=void 0,H=H||q.length,e)for(v=0;v<e;)h[v]=q[0|Math.random()*H],v++;else for(O=void 0,h[8]=h[13]=h[18]=h[23]="-",h[14]="4",v=0;v<36;)h[v]||(O=0|Math.random()*16,h[v]=q[v===19?O&3|8:O]),v++;return h.join("")}},69164:function($e,pe,r){"use strict";var Q=r(34792),e=r(48086);function H(h){h&&h.length>0&&e.default.success(h)}pe.Z=H},4412:function($e){$e.exports="data:image/png;base64,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"}}]);
