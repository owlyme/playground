(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[7956],{1164:function(w,C,a){"use strict";var n=a(12924),r=a.n(n),g=a(76651),O=a(38642),p=a(91302),P=o=>{var i=navigator.userAgent.toLocaleLowerCase(),I=localStorage.getItem("enterpriseId"),u=(0,O.lz)(I,o.projectType),c=localStorage.getItem("dingPersonnel"),_=p.bl.includes(c),m=o.target;function f(E){if(m==="self"&&(E.preventDefault(),g.m8.push(o.to)),_){if(o.projectType==="student"){window.location.href="".concat(u,"/").concat(o.to);return}g.m8.push(o.to);return}if(dd.version){E.preventDefault();var L="";o.to.includes("?")?L="".concat(u).concat(o.to,"&ddtab=true"):L="".concat(u).concat(o.to,"?ddtab=true"),dd.biz.util.openLink({url:L})}else i.indexOf("lark")!==-1&&(window.location.href="".concat(u).concat(o.to))}return r().createElement("a",{rel:"noreferrer",href:"".concat(o.projectType==="student"?"".concat(u).concat(o.to):"#".concat(o.to)),className:"".concat(o.wrapCls," cl-pointer"),target:i.indexOf("lark")!==-1||_?"_self":o.target||"_blank",onClick:f},o.children)};P.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},P.targetTo=o=>{var i=o.path,I=o.from,u=o.isExternalLink,c=u===void 0?!1:u,_=o.isAsync,m=_===void 0?!1:_,f=o.openName,E=f===void 0?"_blank":f,L=o.projectType,l=L===void 0?"manage":L,v=o.ddTab,d=v===void 0?!0:v,s,T=localStorage.getItem("dingPersonnel"),D=p.bl.includes(T),M=navigator.userAgent.toLocaleLowerCase(),A=localStorage.getItem("enterpriseId"),W=(0,O.lz)(A,l),B=localStorage.getItem("appType"),N=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var y="";if(s=c?"":W,D&&!c){if(l==="student"){window.location.href="".concat(W).concat(i);return}g.m8.push(i);return}i.includes("?")?y="".concat(s).concat(i,"&ddtab=").concat(d):y="".concat(s).concat(i,"?ddtab=").concat(d),dd.biz.util.openLink({url:y})}else if(M.indexOf("lark")!==-1)s=c?"":W,window.location.href="".concat(s).concat(i);else if(B==="wx_app"&&N&&c&&I==="imgText")s=c?"":l==="student"?"".concat(W):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(s).concat(i)});else if(s=c?"":l==="student"?"".concat(W):"#",m){var K=window.open("","_blank");setTimeout(()=>{K.location="".concat(s).concat(i)},100)}else window.open("".concat(s).concat(i),E)},C.Z=P},27071:function(w,C,a){"use strict";a.r(C);var n=a(34792),r=a(48086),g=a(12924),O=a.n(g),p=a(57068),P=a(60333),o=a(64462);function i(I){var u=p.parse(I.location.search),c=u.courseId,_=u.password,m=u.enterpriseId,f=u.withoutToken;return(0,g.useEffect)(()=>{f==="false"?(0,o.K7)(c):(0,P.dk)({courseId:c,password:_,enterpriseId:m}).then(E=>{var L=E.data;L.code===2e5?window.open(L.data.link,"_self"):r.default.error("\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458")}).catch(E=>{console.log(E)})},[c,_,f,m]),O().createElement(O().Fragment,null)}C.default=i},60333:function(w,C,a){"use strict";a.d(C,{Bj:function(){return g},yF:function(){return O},wY:function(){return P},lH:function(){return o},hF:function(){return i},k3:function(){return u},jG:function(){return c},xR:function(){return _},Eq:function(){return m},Dr:function(){return E},IR:function(){return L},c3:function(){return l},$m:function(){return d},Ff:function(){return s},$e:function(){return T},ts:function(){return D},nv:function(){return M},wE:function(){return A},NH:function(){return W},lq:function(){return B},dk:function(){return U},uA:function(){return Y},Hn:function(){return S},u0:function(){return j},_u:function(){return x},K6:function(){return F},kG:function(){return G}});var n=a(37055),r=a(10237);function g(e){var t=n.ZP.DdLive.createDdLive();return r.WY.post({url:t,data:e})}function O(e){var t=n.ZP.DdLive.editDdLive();return r.WY.post({url:t,data:e})}function p(e){var t=CONFIG.DdLive.deleteLive();return request.post({url:t,data:e})}function P(e){var t=n.ZP.DdLive.deleteMeeting();return r.WY.put({url:t,data:e})}function o(e){var t=n.ZP.DdLive.getSelectRecordList();return r.WY.get({url:t,params:e})}function i(e){var t=n.ZP.DdLive.getLecturerInfo(e);return r.WY.get({url:t})}function I(e){var t=CONFIG.DdLive.getUserCheckLimit();return request.post({url:t,data:e})}function u(e){var t=n.ZP.DdLive.getLiveList();return r.WY.get({url:t,params:e})}function c(e){var t=n.ZP.DdLive.getLiveDetail();return r.WY.get({url:t,params:e})}function _(e){var t=n.ZP.Live.liveRoomConfig();return r.WY.get({url:t,params:e})}function m(e){var t=n.ZP.DdLive.liveCourseExport();return r.WY.get({url:t,params:e})}function f(e){var t=CONFIG.live.exportWatchInfo();return request.get({url:t,params:e})}function E(e){var t=n.ZP.DdLive.checkDingAnchorInfo();return r.WY.get({url:t,params:e})}function L(e){var t=n.ZP.DdLive.checkCourseAnchor();return r.WY.get({url:t,params:e})}function l(e){var t=n.ZP.DdLive.getLiveWatchList();return r.WY.get({url:t,params:e})}function v(e){var t=CONFIG.DdLive.getMeetingWatchList();return request.get({url:t,params:e})}function d(e){var t=e.projectId,h=e.courseId,R=e.keyword,k=e.pageSize,Z=e.pageNum,b=n.ZP.DdLive.getLiveWatchListProject({projectId:t,courseId:h});return r.WY.get({url:b,params:{keyword:R,pageSize:k,pageNum:Z}})}function s(e){var t=n.ZP.CourseManageList.setBatchEmployee();return r.WY.post({url:t,data:e})}function T(e){var t=n.ZP.CourseManageList.setClassify();return r.qg.post({url:t,data:e})}function D(e){var t=n.ZP.CourseManageList.setScore();return r.qg.post({url:t,data:e})}function M(e){var t=n.ZP.CourseManageList.syncCourse();return r.qg.post({url:t,data:e})}function A(e,t){var h=n.ZP.CourseManageList.setTop(),R=n.ZP.CourseManageList.removeTop(),k=e?h:R;return r.qg.post({url:k,data:t})}function W(e){var t=n.ZP.Personal.courseReleaseOrNot(e.courseId);return r.qg.post({url:t,data:e})}function B(e){var t=n.ZP.Courses.getScoreApi();return r.WY.get({url:t,params:e})}function N(e){var t=CONFIG.Live.addLiveRoom();return request.post({url:t,data:e})}function y(e){var t=CONFIG.Live.getLiveRoomsList();return request.get({url:t,params:e})}function K(e){var t=CONFIG.Live.getLiveLink(e);return request.get({url:t})}function $(e){var t=CONFIG.Live.deleteLiveRoom(e);return request.post({url:t})}function V(e){var t=CONFIG.ContactCustomerService.joinGroup(e);return request.get({url:t,params:{type:"login"}})}function U(e){var t=e.courseId,h=e.user_name,R=e.password,k=e.enterpriseId,Z=n.ZP.Live.getLiveCourseViewLinkNoToken({enterpriseId:k,courseId:t});return r.WY.get({url:Z,params:{user_name:h,password:R}})}function Y(e){var t=n.ZP.Live.getLiveCourseViewLink(e);return r.WY.get({url:t})}function S(e){var t=e.courseId,h=e.password,R=e.enterpriseId,k=n.ZP.Live.getLiveCourseBroadcastLinkNoToken(t,R);return r.WY.get({url:k,params:{courseId:t,password:h}})}function j(e){var t=n.ZP.Live.getLiveCourseBroadcastLink(e);return r.WY.get({url:t})}function x(e){var t=n.ZP.DdLive.getLiveListProject();return r.WY.get({url:t,params:e})}function z(e){var t=CONFIG.DdLive.createMeeting();return request.post({url:t,data:e})}function H(e){var t=CONFIG.DdLive.editMeeting();return request.put({url:t,data:e})}function F(e){var t=n.ZP.DdLive.startMeeting(e);return r.WY.get({url:t,params:e})}function G(e){var t=n.ZP.DdLive.checkMeetCourseAnchor(e);return r.WY.get({url:t,params:e})}},64462:function(w,C,a){"use strict";a.d(C,{K7:function(){return c},Vo:function(){return _},It:function(){return m}});var n=a(57361),r=a(34792),g=a(48086),O=a(9754),p=a.n(O),P=a(37055),o=a(10237),i=a(60333),I=a(1164),u=a(38642);function c(l,v){(v==="end"||v==="remarking")&&(0,u.eJ)({url:"/course/enterpriseCourse?courseId=".concat(l)}),o.WY.get({url:P.ZP.EnterpriseCourse.getEnterpriseCourse(),params:{id:l}}).then(d=>{var s=d.data.live_status;s==="end"||s==="remarking"?(0,u.eJ)({url:"/course/enterpriseCourse?courseId=".concat(l)}):(0,i.uA)(l).then(T=>{var D=T.data;D.code===2e5?I.Z.targetTo({path:D.data.link,isExternalLink:!0}):g.default.error(D.message)}).catch(T=>{console.log(T)})}).catch(d=>{console.log(d)})}function _(l){(0,i.u0)(l).then(v=>{var d=v.data;d.code===2e5?window.open(d.data.link,"_blank"):g.default.error(d.message)}).catch(v=>{console.log(v)})}function m(l,v){return f.apply(this,arguments)}function f(){return f=(0,n.Z)(p().mark(function l(v,d){var s;return p().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:s=window.navigator.userAgent,s.includes("DingTalk")?o.WY.get({url:P.ZP.DdLive.getLiveDetail(),params:{courseId:v,appId:"cool"}}).then(M=>{var A=M.data;dd.biz.util.openLink({url:A.data.jumpUrl})}).catch(M=>{console.log(M)}):g.default.info(d("ddLive.ddInfo"));case 2:case"end":return D.stop()}},l)})),f.apply(this,arguments)}function E(){}function L(){}}}]);
