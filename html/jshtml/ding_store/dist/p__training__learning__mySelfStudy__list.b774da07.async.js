(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[162],{30389:function(X,Q,e){"use strict";e.d(Q,{Z:function(){return U}});var H=e(62029),E=e(20228),z=e(11382),F=e(12924),A=e.n(F),b=e(91768),M=e(80991),v={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},R=e(62615),l=e(52670);class w extends A().Component{render(){var a=this.props,m=a.values,h=a.mode,c=a.onlyChooseDept,s=a.reserveUser,g=a.t,u=a.orgProps,p=a.rangeAuth,t=a.projectId,r=a.onCancel,i=a.onlyCreateUser;return A().createElement(M.l0,{className:"cl-form"},A().createElement(M.gN,(0,H.Z)({component:R.ww,displayType:"Custom",showSectitle:!1,name:"employeeRange",label:g("common.visibleRange"),defaultFieldList:m.employeeRange,validate:l.FI,mode:h,rangeAuth:p,onlyChooseDept:c,onlyCreateUser:i,orgProps:u,reserveUser:s,projectId:t,onCancel:r,qwTicketShow:!0},v)))}}var S=(0,b.Z)()(w),W=e(18329),V=e(34773);class K extends A().Component{constructor(){super(...arguments);this.initRefFormik=a=>{this.refFormik=a},this.handleBeforeCreate=()=>{var a=this.refFormik;a.submitForm(),a.runValidations().then(m=>{if(!Object.keys(m).length){var h=a.state.values.employeeRange,c=(0,V.b)(h.rangeList),s={qyWeChatVo:h.qyWeChatVo,id:this.props.actionId,isAll:h.rangeType,groupIds:h.rangeType===2?c.groupIds.join(","):"",departmentIds:h.rangeType===2?c.deptIds.join(","):"",userIds:h.rangeType===2?c.userIds.join(","):"",postIds:h.rangeType===2?c.postIds.join(","):"",clusterIds:h.rangeType===2?c.clusterIds.join(","):"",qy_we_chat_vo:h.qyWeChatVo};this.props.onCreate(s)}})},this.handleBeforeCancel=()=>{var a=this.props.onCancel;a()}}render(){var a=this.props,m=a.visible,h=a.initialParams,c=a.isLoading,s=a.tipInfo,g=a.mode,u=a.onlyChooseDept,p=a.reserveUser,t=p===void 0?[]:p,r=a.t,i=a.title,o=a.orgProps,P=a.rangeAuth,C=a.projectId,O=a.onCancel,D=a.onlyCreateUser,I=a.size;return c?A().createElement(z.Z,{size:"large"}):A().createElement(W.ZP,{wrapClassName:"cl-employee-selector-modal",visible:m,title:i||r("component.changeUser"),okText:r("common.ok"),cancelText:r("common.cancel"),size:I,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},c?A().createElement(z.Z,{size:"large"}):A().createElement(M.J9,{ref:this.initRefFormik,initialValues:h,render:d=>A().createElement(S,(0,H.Z)({},d,{mode:g,rangeAuth:P,orgProps:o,onlyChooseDept:u,onlyCreateUser:D,reserveUser:t,projectId:C,onCancel:O}))}),s&&A().createElement("p",{style:{padding:"0 24px",wordBreak:"break-all",whiteSpace:"normal"}},s))}}K.defaultProps={visible:!1,initialParams:{employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[],cluster:[]}}},tipInfo:"",isLoading:!1,mode:["all","part"],onlyChooseDept:!1,onlyCreateUser:!1,orgProps:{},onCancel:()=>{},onCreate:()=>{},size:"middle"};var U=(0,b.Z)()(K)},64549:function(X,Q,e){"use strict";var H=e(12924),E=e.n(H),z=e(28216),F=e(84874),A=M=>({guideStatus:M.advancedSetting.guideStatus,isNewUser:M.advancedSetting.isNewUser});class b extends E().Component{constructor(){super(...arguments);this.state={guideIndex:0,showGuide:this.props.renderGuide},this.onNextStep=()=>{var v=this.state.guideIndex,R=this.props.guidePageProps;if(v>=R.length-1){this.onCloseGuide();return}this.setState({guideIndex:v+1})},this.onCloseGuide=()=>{this.setState({showGuide:!1},()=>{this.props.closeGuide&&this.props.closeGuide()}),this.props.isNewUser==="true"&&this.props.dispatch({type:"shouldRenderHeaderGuide",payload:{headerGuideStatus:!0}}),this.updateAllStatus()},this.updateAllStatus=()=>{localStorage.setItem("guideStatus","false"),this.props.dispatch({type:"updateGuideStatus",payload:{guideStatus:"false"}})},this.renderRightItem=v=>E().createElement(E().Fragment,null,E().createElement("div",{className:"clguide-popover__content"},E().createElement("span",{onClick:this.onCloseGuide},E().createElement(F.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),E().createElement("div",{className:"clguide-popover__content__text"},v.contentText),E().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},v.buttonText)),E().createElement("div",{className:"clguide-popover__righttriangle"}),v.typeText&&E().createElement("div",{className:" clguide-popover__circle"},v.typeText)),this.renderLeftItem=v=>E().createElement(E().Fragment,null,E().createElement("div",{className:" clguide-popover__circle"},v.typeText),E().createElement("div",{className:"clguide-popover__lefttriangle"}),E().createElement("div",{className:"clguide-popover__content"},E().createElement("span",{onClick:this.onCloseGuide},E().createElement(F.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),E().createElement("div",{className:"clguide-popover__content__text"},v.contentText),E().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},v.buttonText)))}render(){var v=this.state,R=v.guideIndex,l=v.showGuide,w=this.props,S=w.className,W=w.guideStatus,V=w.guidePageProps,K=V===void 0?[]:V,U=w.direction,N=U===void 0?"right":U,a=w.showDownloadBtn;return!l&&!W?null:E().createElement("div",{className:"clguide-popover-container"},l&&W==="true"&&E().createElement("div",{className:"clguide-popover-mask"}),l&&W==="true"&&R===0&&K.length?E().createElement("div",{className:"".concat(S,"_next clguide-popover ").concat(a?"":"right")},N==="left"?this.renderLeftItem(K[0]):this.renderRightItem(K[0])):null,l&&W==="true"&&R===1&&K.length?E().createElement("div",{className:"".concat(S,"_know clguide-popover")},N==="left"?this.renderLeftItem(K[1]):this.renderRightItem(K[1])):null)}}Q.Z=(0,z.$j)(A)(b)},42837:function(X,Q,e){"use strict";var H=e(12924),E=e.n(H),z=e(91768),F=e(28216),A=e(66708),b=e(18329);class M extends E().Component{render(){var R=this.props,l=R.visible,w=R.onCancel,S=R.title,W=R.t;return l?E().createElement(b.ZP,{visible:l,width:"400",footer:null,title:S||W("common.QRCodeScan"),bodyStyle:{minWidth:430},onCancel:w,destroyOnClose:!0},E().createElement(A.Z,this.props)):null}}Q.Z=(0,F.$j)()((0,z.Z)()(M))},74525:function(X,Q,e){"use strict";var H=e(57361),E=e(34792),z=e(48086),F=e(9754),A=e.n(F),b=e(12924),M=e.n(b),v=e(91768),R=e(28216),l=e(92592),w=e(5430),S=e(10237),W=e(84874),V=e(16239),K=e(38642),U=e(28963);class N extends M().Component{constructor(m){var h;super(m);h=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var c=this.props,s=c.type,g=c.isProjectShare,u=c.isCommodityExchange,p=c.userInfo;["wx","weixin"].includes(s)?s==="weixin"&&p.appId==="9005"?this.initOtherCode():this.initWXCode():g&&s==="ding"?this.getProjectShareUrl():u&&s==="ding"?this.getCommodityExchangeUrl():s==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var c=this.props,s=c.t,g=c.appType,u=c.orderId,p=this.props.option.scene,t=localStorage.getItem("uid");if(!V.Z[(0,V.c)()].showCl||g!=="e_app"){var r={deliverUserId:t,orderId:u,flag:"exchange"};l.toDataURL(JSON.stringify(r),{width:500}).then(C=>{this.setState({img:C})}).catch(()=>{z.default.error(s("integralMall.qrCodeFailed"))})}else{var i="/pages/messageRedirect/messageRedirect?".concat(p),o=encodeURIComponent(i),P="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(o,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(P).then(C=>{l.toDataURL(C.data.short_link,{width:500}).then(O=>{this.setState({img:O})}).catch(()=>{z.default.error(s("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var c=this.props.option.scene,s=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(c)),g="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(s);this.getShortLink(g).then(u=>{this.initOtherCode(u.data.short_link)})},this.getShortLink=c=>S.WY.post({url:w.ZP.Common.getQrUrl(),data:{link:c}}),this.initWXCode=(0,H.Z)(A().mark(function c(){var s,g,u,p;return A().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=h.props.option,g=s.scene,u=s.flag,r.next=3,S.WY.post({url:w.ZP.createWxCode(),data:{flag:u,scene:"".concat(g,"&enterpriseId=").concat(w.ZP.enterpriseId),enterprise_id:w.ZP.enterpriseId}});case 3:p=r.sent,h.setState({img:p.data.wx_code,linkUrl:"data:image/png;base64,".concat(p.data.wx_code)});case 5:case"end":return r.stop()}},c)})),this.initOtherCode=function(){var c=(0,H.Z)(A().mark(function s(g){var u,p,t,r;return A().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=h.props,p=u.type,t=u.fsUrl,o.t0=g,o.t0){o.next=6;break}return o.next=5,h.handleScanCode();case 5:o.t0=o.sent;case 6:r=o.t0,p==="fs"&&t&&(r=t),h.setState({linkUrl:r}),l.toDataURL(r,{width:500}).then(P=>{h.setState({img:P})}).catch(()=>{z.default.error(h.props.t("personal.failedGenerateCode"))});case 10:case"end":return o.stop()}},s)}));return function(s){return c.apply(this,arguments)}}(),this.handleScanCode=(0,H.Z)(A().mark(function c(){var s,g,u,p,t,r,i,o,P,C,O,D,I,d,_,T,y,k;return A().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(s=h.props,g=s.type,u=s.userInfo,p=s.universalFn,t=h.state.wxH5Url,r=h.props.option,i=r.scene,o=r.pc_url,P=o===void 0?"":o,C=r.mobile_url,O=C===void 0?"":C,D=r.pc_type,I=D===void 0?"":D,d=r.mobile_type,_=d===void 0?"":d,T=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),y=encodeURIComponent(i),!p){L.next=12;break}return L.next=8,h.getShortLink((0,K.jr)({pc_url:P,mobile_url:O,pc_type:I,mobile_type:_}));case 8:return k=L.sent,L.abrupt("return",(0,U.fZ)(k.data.short_link));case 12:L.t0=g,L.next=L.t0==="app"?15:L.t0==="ding"?16:L.t0==="fs"?17:L.t0==="weixin"?18:19;break;case 15:return L.abrupt("return","".concat(i,"&fromApp=true"));case 16:return L.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(u.corpId,"&appId=").concat(h.appId,"&miniAppId=").concat(h.miniAppId,"&packageType=1&pVersion=1&page=").concat(T+y));case 17:return L.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(i,"&appType=lark"));case 18:return L.abrupt("return","".concat(t,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(u.corpId,"&").concat(i));case 19:return L.abrupt("return","");case 20:case"end":return L.stop()}},c)})),this.saveQrcode=()=>{var c=this.state.img,s=this.props,g=s.type,u=s.t,p=s.userInfo,t=document.createElement("a");t.download=u("setting.Qrcode")+new Date().getTime(),t.href=g==="wx"||g==="weixin"&&p.appId!=="9005"?"data:image/png;base64,".concat(c):c,document.body.appendChild(t),t.click(),document.body.removeChild(t)},this.generatePoster=c=>{var s=c.linkUrl,g=c.type,u=c.activeKey,p=c.option,t=this.props.universalFn;typeof t=="function"&&t({linkUrl:s,type:g,activeKey:u,option:p})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(m){m.option.scene!==this.props.option.scene&&this.initCode()}render(){var m=this.props,h=m.type,c=m.tip,s=m.extraTip,g=m.t,u=m.canSave,p=m.refreshQrCode,t=m.label,r=m.saveText,i=r===void 0?"":r,o=m.downloadAsBtn,P=m.userInfo,C=m.universalFn,O=m.activeKey,D=m.option,I=this.state,d=I.img,_=I.linkUrl,T=localStorage.getItem("themeColor")||"#465dcd";return d?M().createElement("div",{className:"qr-code-content"},t?M().createElement("div",{className:"label-text"},t,":"):null,M().createElement("div",{className:"qr-code-div ".concat(t?"left":"")},h==="wx"||h==="weixin"&&P.appId!=="9005"?M().createElement("img",{src:"data:image/png;base64,".concat(d),alt:""}):M().createElement("img",{src:d,alt:""}),c?M().createElement("div",{className:"tip-text"},c):null,s?M().createElement("div",{className:"tip-text"},s):null,u?M().createElement("div",{className:"save_qrcode ".concat(o?"save-btn":""),style:{color:T},onClick:()=>this.saveQrcode()},o?null:M().createElement(W.Z,{iconClass:"icon-f-download",size:"14px"}),i||g("personal.saveCode")):null,C&&!p?M().createElement("div",{className:"save_qrcode",style:{color:T},onClick:()=>this.generatePoster({linkUrl:_,type:h,activeKey:O,option:D})},g("personal.saveCodePoster")):null,p?M().createElement("div",{className:"save_qrcode",style:{color:T},onClick:()=>p()},M().createElement(W.Z,{iconClass:"iconf-switch",size:"14px"}),g("personal.refreshCodeTip")):null)):M().createElement("div",{className:"qr-code-placeholder"})}}Q.Z=(0,R.$j)(a=>{var m=a.user;return{userInfo:m,appType:m.appType,corpId:m.corpId}})((0,v.Z)()(N))},66708:function(X,Q,e){"use strict";var H=e(93485),E=e(33565),z=e(57361),F=e(18106),A=e(88108),b=e(9754),M=e.n(b),v=e(12924),R=e.n(v),l=e(91768),w=e(28216),S=e(89366),W=e(48194),V=e(74525),K=e(77779),U=e.n(K),N=e(6793),a=A.Z.TabPane;class m extends R().Component{constructor(s){var g;super(s);g=this,this.initAppTypeScan=(0,z.Z)(M().mark(function p(){var t,r,i,o,P,C,O,D,I,d,_;return M().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Promise.all([(0,W.q)(),(0,W.$)()]);case 2:t=y.sent,r=(0,E.Z)(t,2),i=r[0],o=r[1],P=i.data.sync_organizes,C=o.data.list,O=!1,D=(0,H.Z)(C),y.prev=10,D.s();case 12:if((I=D.n()).done){y.next=19;break}if(d=I.value,d.type!=="wechat_applet_setting"){y.next=17;break}return O=d.switch_status==="OPEN",y.abrupt("break",19);case 17:y.next=12;break;case 19:y.next=24;break;case 21:y.prev=21,y.t0=y.catch(10),D.e(y.t0);case 24:return y.prev=24,D.f(),y.finish(24);case 27:_=g.props.universalFn?g.filterOrganizes(P):g.filterCode(P),O&&_.push("wx"),g.setState({scanTypes:_});case 30:case"end":return y.stop()}},p,null,[[10,21,24,27]])})),this.filterCode=p=>{var t=[...p],r=this.props.option;return t=t.map(i=>["third_oa_app","seeyon_app"].includes(i)?"ding":i),r&&r.flag==="exam_task"?[...new Set([...t])].filter(i=>i==="fs"):[...new Set([...t,"app"])]},this.filterOrganizes=p=>{var t=[...p],r=this.props.option;t=t.map(o=>["third_oa_app","seeyon_app"].includes(o)?"ding":o);var i=new Set([...t]);return i.size===1&&i.has("app")?r&&r.flag==="exam_task"?[...i].filter(o=>o==="fs"):[...i]:(i.delete("app"),r&&r.flag==="exam_task"?[...i].filter(o=>o==="fs"):[...i])};var u=s.t;this.state={scanTypes:[],commonTitle:{ding:u("common.sanCodeCommon"),fs:u("common.sanCodeCommon"),weixin:u("common.sanCodeCommon"),app:u("common.sanCodeCommon"),wx:u("common.weChatApplets")},tabTitle:{ding:u("common.dingDingSanCode"),fs:u("common.fsScanCode"),weixin:u("common.WeComSanCode"),app:u("common.appScanCode"),wx:u("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var s=this.state,g=s.tabTitle,u=s.commonTitle,p=s.scanTypes,t=this.props,r=t.option,i=t.tip,o=t.t,P=t.extraTip,C=t.canSave,O=t.refreshQrCode,D=t.isCommodityExchange,I=t.type,d=t.center,_=d===void 0?!0:d,T=t.label,y=T===void 0?"":T,k=t.saveText,Y=t.downloadAsBtn,L=Y===void 0?!1:Y,n=t.transfer,x=n===void 0?!1:n,f=t.source_type,B=t.universalFn,$=t.activeKey;return R().createElement("div",{className:"".concat(U()["scan-code-box"]," ").concat(I==="card"?U()["card-tabs"]:"")},p.length===1?R().createElement(V.Z,{universalFn:B,activeKey:$,type:p[0],option:r,tip:(0,N.ZT)(o(i),B?u[p[0]]:g[p[0]]),extraTip:P,canSave:C,fsUrl:r.fsUrl,refreshQrCode:O,isCommodityExchange:D,label:y,saveText:k,downloadAsBtn:L}):R().createElement(A.Z,{defaultActiveKey:"1",centered:_,type:I},p.map((Z,j)=>{var G=j+1;return R().createElement(a,{tab:B?u[Z]:g[Z],key:G},x&&R().createElement("div",{className:U()["scan-code-transfer"]},R().createElement(S.Z,null),R().createElement("span",null,o("course.onlyScope",{source_type:o(f==="study_project"?"lineClass.project":"lineClass.task")}))),R().createElement(V.Z,{universalFn:B,activeKey:$,type:Z,option:r,tip:(0,N.ZT)(o(i),B?u[Z]:g[Z]),extraTip:P,canSave:C,fsUrl:r.fsUrl,refreshQrCode:O,isCommodityExchange:D,label:y,saveText:k,downloadAsBtn:L}))})))}}m.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var h=c=>({appType:c.user.appType});Q.Z=(0,w.$j)(h)((0,l.Z)()(m))},63848:function(X,Q,e){"use strict";var H=e(36877),E=e(32969),z=e(12924),F=e.n(z),A=e(91768),b=e(56130);class M extends F().PureComponent{constructor(){super(...arguments);this.onChange=(R,l)=>{this.props.onChange(R,l)}}render(){var R=this.props,l=R.value,w=R.classify,S=R.showLabel,W=R.className,V=R.t,K=R.style;return F().createElement("div",{className:"classify-cascader ".concat(W)},S?F().createElement("span",{className:"classify-cascader-label"},V("component.selectClassifyLabel")):null,F().createElement(E.Z,{changeOnSelect:this.props.changeOnSelect,className:"classify-cascader-select ".concat(W),options:w,onChange:this.onChange,placeholder:V("component.selectClassifyLabel"),value:l,style:K,loadData:this.props.loadData}))}}M.defaultProps={showLabel:!0,changeOnSelect:!0,onChange:()=>{}},Q.Z=(0,b.Z)((0,A.Z)()(M))},54792:function(X,Q,e){"use strict";var H=e(62029),E=e(63185),z=e(9676),F=e(47673),A=e(4107),b=e(88986),M=e(12924),v=e.n(M),R=e(91768),l=e(59239),w=e(55446),S=e.n(w),W=e(18329),V=e(2396);class K extends v().Component{constructor(){super(...arguments);this.state={isChecked:!1},this.handleBeforeCreate=()=>{var a=this.props,m=a.form,h=a.id,c=a.onCreate,s=this.state.isChecked;m.validateFields((g,u)=>{if(!g){var p=(0,b.Z)({},u);s||(p.value=0);var t=(0,b.Z)((0,b.Z)({},p),{},{id:h});c(t),setTimeout(()=>{m.resetFields()},100)}})},this.handleBeforeCancel=()=>{var a=this.props,m=a.form,h=a.onCancel;h(),setTimeout(()=>{m.resetFields()},100)},this.checkScore=(a,m,h)=>{var c=this.props.t,s=this.state.isChecked;if(s&&(0,V.kh)(m)){h(c("component.setScoreRuleTip"));return}h()},this.handleCheckChange=a=>{this.setState({isChecked:a.target.checked})},this.renderItem=()=>{var a=this.props,m=a.form,h=a.initialValue,c=a.labelTxt,s=this.state.isChecked,g=m.getFieldDecorator,u={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},p=s?g("value",{initialValue:h,rules:[{validator:this.checkScore}]})(v().createElement(A.Z,{maxLength:30,placeholder:""})):null,t=v().createElement(v().Fragment,null,v().createElement(z.Z,{checked:s,onChange:this.handleCheckChange},c));return v().createElement(l.Z.Item,(0,H.Z)({label:t},u),p)}}componentDidUpdate(a){this.props.visible&&this.props.visible!==a.visible&&this.setState({isChecked:!!this.props.initialValue})}render(){var a=this.props,m=a.visible,h=a.title,c=a.prefixCls;return v().createElement(W.ZP,{size:"small",visible:m,title:h,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},v().createElement(l.Z,{className:"".concat(c),layout:"horizontal",colon:!1},this.renderItem(),v().createElement("div",{className:"".concat(c,"__children")},this.props.children)))}}K.defaultProps={prefixCls:"cl-setscore",id:"",visible:!1,title:"SetScore",labelTxt:"",initialValue:"",onCancel:()=>{},onCreate:()=>{}};var U=l.Z.create({name:"ClSetupBoxInModal"})(K);Q.Z=(0,R.Z)()(U)},27550:function(X,Q,e){"use strict";var H=e(57663),E=e(71577),z=e(63185),F=e(9676),A=e(43358),b=e(34041),M=e(88983),v=e(47933),R=e(12924),l=e.n(R),w=e(28216),S=e(91768),W=e(49101),V=e(84391),K=e(1164),U=e(48479),N=e(2971),a=e(45601),m=e(7249),h=e(64549),c=e(31945),s=u=>{var p=u.user,t=u.currentRoute,r=u.advancedSetting;return{currentPath:t.path,allAuthRoutes:t.allAuthRoutes,userLng:p.lng,themeColor:r.themeColor}};class g extends l().Component{constructor(p){super(p);this.setPlaceholder=()=>{var t=this.props,r=t.currentPath,i=t.allAuthRoutes,o=t.userLng,P=this.state.language,C=i[r];if(!!C){var O=P[o].searchInputPlaceholder,D="";C.menuKey==="studyTemplate"||C.menuKey==="examTemplate"?D=O.template:C.menuKey==="management"||C.menuKey==="employee"||C.menuKey==="obligatory"||C.menuKey==="elective"||C.menuKey==="plan"||C.menuKey==="evaluation"||C.menuKey==="myEvaluationPlan"?D=O.task:D=O[C.menuKey],this.setState({currentPlaceholder:D})}},this.handleRadiosChange=t=>{this.props.onRadiosChange(t.target.value)},this.handleSelectChange=t=>{this.props.onSelectChange(t)},this.handleSearch=t=>{this.props.onSearch(t)},this.handleChange=t=>{this.props.onCheckboxChange(t.target.checked)},this.handleDownload=()=>{this.props.onDownload()},this.renderRadios=()=>{var t=this.props,r=t.prefixCls,i=t.radioList,o=t.defaultRadioValue,P=t.radioValue;if(!i.length)return null;var C=o||i[0].value,O="".concat(r,"__radios");return l().createElement("div",{className:O},typeof P!="undefined"?l().createElement(v.ZP.Group,{defaultValue:C,value:P,onChange:this.handleRadiosChange},i.map(D=>l().createElement(v.ZP.Button,{key:D.value,value:D.value},D.name))):l().createElement(v.ZP.Group,{defaultValue:C,onChange:this.handleRadiosChange},i.map(D=>l().createElement(v.ZP.Button,{key:D.value,value:D.value},D.name))))},this.renderSelect=()=>{var t=this.props,r=t.prefixCls,i=t.selectList,o=t.defaultSelectValue;if(!i.length)return null;var P=o||i[0].value,C="".concat(r,"__select");return l().createElement("div",{className:C},l().createElement(b.Z,{defaultValue:P,onChange:this.handleSelectChange,getPopupContainer:()=>document.getElementsByClassName("cl-listQueryRow__select")[0],style:{minWidth:100}},i.map(O=>l().createElement(b.Z.Option,{key:O.value,value:O.value},O.name))))},this.renderOther=()=>{var t=this.props,r=t.prefixCls,i=t.renderOther,o=t.showOther,P="".concat(r,"__other");if(o&&i&&typeof i=="function")return l().createElement("div",{className:P},i())},this.renderCheckbox=()=>{var t=this.props,r=t.prefixCls,i=t.t,o=t.label,P=t.showCheckbox,C=t.renderActionSelect,O="".concat(r,"__checkbox");return!P&&C&&typeof C=="function"?l().createElement("div",{className:O},C()):P?l().createElement("div",{className:O},l().createElement(F.Z,{onChange:this.handleChange},o||i("common.myCreated"))):null},this.renderSearch=()=>{var t=this.props,r=t.prefixCls,i=t.showSearch,o=t.inputPlaceholder,P=t.maxLength,C=P===void 0?400:P,O="".concat(r,"__search");if(!i)return null;var D=this.state.currentPlaceholder;return o?l().createElement("div",{className:O},l().createElement(U.Z,{onSearch:this.handleSearch,placeholder:o,width:272,maxLength:C})):l().createElement("div",{className:O},l().createElement(U.Z,{onSearch:this.handleSearch,placeholder:D,width:272,maxLength:C}))},this.renderActionBtn=()=>{var t=this.props,r=t.prefixCls,i=t.actionText,o=t.t,P=t.tabLink,C=t.showBtn,O=t.renderActionBtn,D=t.popOverProps,I=D===void 0?[]:D,d=t.renderGuide,_=d===void 0?!1:d,T=t.showDownloadBtn,y=T===void 0?!1:T,k=t.guideClassName,Y=k===void 0?"guide-popover":k,L=t.themeColor,n="".concat(r,"__action");return!C&&O&&typeof O=="function"?l().createElement("div",{className:n},O()):!C||!i?null:l().createElement("div",{className:n},l().createElement(K.Z,{to:P},l().createElement(E.Z,{type:"primary",icon:l().createElement(W.Z,null)},i)),l().createElement(h.Z,{className:Y,renderGuide:_,guidePageProps:I,direction:"left",showDownloadBtn:y}),y&&l().createElement(E.Z,{style:{marginLeft:"8px",color:L,border:"1px solid ".concat(L)},icon:l().createElement(V.Z,null),onClick:this.handleDownload},o("common.exportData")))},this.renderQueryRow=()=>{var t=this.props,r=t.queryRowParams,i=t.queryRowList,o=t.queryRowSelectedCourseIds,P=t.queryRowSelectedProjectIds,C=t.queryRowOnForceRender,O=t.queryRowOnClassifyChange,D=t.queryRowOnTypeChange,I=t.queryRowOnCourseTypeChange,d=t.queryRowAllowActions;return l().createElement(c.Z,{params:r,list:i,selectedCourseIds:o,selectedProjectIds:P,onForceRender:C,onClassifyChange:O,onTypeChange:D,onCourseTypeChange:I,allowActions:d,showRenderCondition:!1})},this.rendeExtraBtn=()=>{var t=this.props,r=t.t,i=t.extraBtnSelectedRowKeys,o=t.extraBtnHandleMultiVisibleRange;return l().createElement(E.Z,{disabled:i.length===0,onClick:o},r("courseManage.setTheVisibility"))},this.state={language:{zh_cn:a.Z,en_us:N.Z,zh_hk:m.Z},currentPlaceholder:""}}componentDidMount(){this.setPlaceholder()}componentDidUpdate(p){p.userLng!==this.props.userLng&&this.setPlaceholder()}render(){var p=this.props,t=p.prefixCls,r=p.wrapCls,i=p.showRenderRadios,o=i===void 0?!0:i,P=p.showRenderQueryRow,C=p.showRendeExtraBtn,O=p.showRenderSelect;return l().createElement(l().Fragment,null,l().createElement("div",{className:"render_other"},this.renderOther(),l().createElement("header",{className:"".concat(t," ").concat(r)},l().createElement("section",{className:"".concat(t,"__radiocol")},this.renderActionBtn(),P&&this.renderQueryRow(),C&&this.rendeExtraBtn()),l().createElement("section",{className:"".concat(t,"__searchcol")},this.renderCheckbox(),o&&this.renderRadios(),O&&this.renderSelect(),this.renderSearch()))))}}g.defaultProps={prefixCls:"cl-listQueryRow",wrapCls:"",label:"",actionText:"add",showRadioList:!0,showCheckbox:!0,showSearch:!0,showBtn:!0,inputPlaceholder:"",defaultRadioValue:"",radioList:[],searchStylesProps:{},showRenderSelect:!1,selectList:[],renderActionBtn:()=>null,onRadiosChange:()=>{},onSearch:()=>{},onCheckboxChange:()=>{}},Q.Z=(0,w.$j)(s)((0,S.Z)()(g))},89019:function(X,Q,e){"use strict";e.r(Q),e.d(Q,{default:function(){return O}});var H=e(14781),E=e(53431),z=e(13254),F=e(14277),A=e(20228),b=e(11382),M=e(57361),v=e(88986),R=e(9754),l=e.n(R),w=e(12924),S=e.n(w),W=e(91768),V=e(76651),K=e(57068),U=e(28216),N=e(27550),a=e(57663),m=e(71577),h=e(34669),c=e(82833),s=D=>{var I=D.item,d=D.t;return S().createElement("div",{className:"my-self-study-table-card"},S().createElement("div",{className:"right-tip ".concat(I.biz_type===3?"project":"")},I.biz_type===3?d("learning.learningProjectAddTitle"):I.biz_type===8?d("live.live"):d("common.courseLabel")),S().createElement("img",{src:I.cover,alt:""}),S().createElement("div",{className:"my-self-study-table-card-info"},S().createElement("p",null,I.title),S().createElement("div",{className:"operation"},S().createElement(c.Z,{className:"progress",size:"small",percent:+I.process,status:I.process>=100?"success":"normal",strokeColor:I.process>=100?"#58D28B":""}),S().createElement(m.Z,{type:"link",onClick:()=>D.linkToStudy(I)},I.process>=100?d("study.againStudy"):d("study.continueLearning")))))},g=(0,W.Z)()(s),u=e(38642),p=e(64462),t=e(10237),r=e(37055),i=e(4408),o=e(42837),P={getRadiosNum:r.ZP.MySelfStudy.getStatusNum,getTableList:r.ZP.MySelfStudy.getList};class C extends S().Component{constructor(){var I;super(...arguments);I=this,this.state={params:{status:"",keyword:"",page_number:1,page_size:20},radioList:[],tableLoading:!0,tableList:[],tableTotal:0,wei:{visible:!1,record:{},planId:""}},this.initData=()=>{this.initRadioList(),this.initTableList()},this.initRadioList=()=>{var d=this.props.t;t.WY.get({url:P.getRadiosNum()}).then(_=>{var T=_.data,y=T.total_count,k=T.finish_count,Y=T.un_finish_count;this.setState({radioList:[{name:"".concat(d("common.all"),"(").concat(y,")"),value:""},{name:"".concat(d("common.unFinish"),"(").concat(Y,")"),value:"unfinished"},{name:"".concat(d("dashboard.completed"),"(").concat(k,")"),value:"finished"}]})})},this.initTableList=()=>{this.setState({tableLoading:!0}),t.WY.get({url:P.getTableList(),params:this.state.params}).then(d=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:d.data.list,tableTotal:d.data.total})},300)})},this.handleQueryRowRadiosChange=d=>{this.resetPagination().then(()=>{this.setState(_=>({params:(0,v.Z)((0,v.Z)({},_.params),{},{status:d})}),()=>{this.initTableList()})})},this.handleQueryRowSearch=d=>{this.resetPagination().then(()=>{this.setState(_=>({params:(0,v.Z)((0,v.Z)({},_.params),{},{keyword:d})}),()=>{this.initTableList()})})},this.handleNumberChange=d=>{this.setState(_=>({params:(0,v.Z)((0,v.Z)({},_.params),{},{page_number:d})}),()=>{this.initTableList()})},this.handleSizeChange=(d,_)=>{this.setState(T=>({params:(0,v.Z)((0,v.Z)({},T.params),{},{page_size:_})}),()=>{this.initTableList()})},this.resetPagination=()=>new Promise(d=>{this.setState(_=>({params:(0,v.Z)((0,v.Z)({},_.params),{},{page_number:1,page_size:20})}),()=>{d()})}),this.linkToStudy=function(){var d=(0,M.Z)(l().mark(function _(T){var y,k;return l().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(y=T.biz_type,k=T.live_type,y!==3){L.next=5;break}(0,u.eJ)({url:"/training/trainingProject/traineeView?".concat(K.stringify({id:T.id,source:"first"}))}),L.next=15;break;case 5:if(!(y===1||y===0||y===8)){L.next=14;break}if(!(k==="live_course"&&y===8)){L.next=9;break}return(0,p.It)(T.id,I.props.t),L.abrupt("return");case 9:return L.next=11,I.props.dispatch({type:"currentRoute/updateState",payload:{shouldAddScanCount:!0}});case 11:V.m8.push({pathname:"/course/enterpriseCourse",search:K.stringify({courseId:T.id})}),L.next=15;break;case 14:y===2&&I.setState({wei:{visible:!0,flag:"miniCourse",scene:"courseId=".concat(T.id,"&flag=miniCourse")}});case 15:case"end":return L.stop()}},_)}));return function(_){return d.apply(this,arguments)}}(),this.handleCancelWei=()=>{this.setState({wei:{visible:!1,flag:"",scene:""}})},this.renderTaskList=()=>{var d=this.props.prefixCls,_=this.state,T=_.tableList,y=_.tableLoading,k="".concat(d,"__content__tasks cl-flearfix"),Y;return y?Y=S().createElement(b.Z,{size:"large"}):T.length?Y=T.map(L=>S().createElement(g,{prefixCls:"".concat(d,"__content__tasks__item"),item:L,key:L.id,linkToStudy:this.linkToStudy})):Y=S().createElement(F.Z,{image:F.Z.PRESENTED_IMAGE_SIMPLE}),S().createElement("div",{className:k},Y)},this.renderPagination=()=>{var d=this.props.prefixCls,_=this.state,T=_.params,y=_.tableTotal,k="".concat(d,"__content__pagination"),Y=(0,v.Z)((0,v.Z)({},r.XE.INITIAL_PAGINATION),{},{total:y,current:T.page_number,pageSize:T.page_size,onChange:this.handleNumberChange,onShowSizeChange:this.handleSizeChange});return S().createElement("div",{className:k},S().createElement(E.Z,Y))}}componentDidMount(){this.initData()}render(){var I=this.props,d=I.prefixCls,_=I.t,T=this.state,y=T.radioList,k=T.wei;return S().createElement("div",{className:d},S().createElement(i.Z,{title:_("leftMenuLists.selfStudy")}),S().createElement(N.Z,{radioList:y,defaultRadioValue:0,showCheckbox:!1,showBtn:!1,onRadiosChange:this.handleQueryRowRadiosChange,onSearch:this.handleQueryRowSearch,inputPlaceholder:_("learning.learnUpgrade.pleaseEnter")}),S().createElement("div",{className:"".concat(d,"__content")},this.renderTaskList(),this.renderPagination()),S().createElement(o.Z,{visible:k.visible,option:k,onCancel:this.handleCancelWei,title:_("component.microCourseScan"),tip:"component.useCustom"}))}}C.defaultProps={prefixCls:"my-self-study"};var O=(0,U.$j)()((0,W.Z)()(C))},31945:function(X,Q,e){"use strict";e.d(Q,{Z:function(){return Y}});var H=e(88983),E=e(47933),z=e(20228),F=e(11382),A=e(62029),b=e(30887),M=e(99210),v=e(59250),R=e(13013),l=e(57663),w=e(71577),S=e(63185),W=e(9676),V=e(71194),K=e(57016),U=e(88986),N=e(34792),a=e(48086),m=e(43358),h=e(34041),c=e(12924),s=e.n(c),g=e(28216),u=e(91768),p=e(57254),t=e(18329);class r extends s().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.showReferenceCourseList()}}render(){var n=this.props,x=n.visible,f=n.courseList,B=n.t;return s().createElement(t.ZP,{visible:x,title:B("common.tip"),onCancel:this.onCancel,onOk:this.onCancel},s().createElement("div",{className:"referenceWithOtherCourses"},s().createElement("div",{className:"referenceWithOtherCourses__tip"},B("course.deleteCourseTip")),f.map(($,Z)=>s().createElement("div",{className:"referenceWithOtherCourses__item",key:Z},f.length>1?"".concat(Z+1,"\u3001"):null," ",$))))}}var i=(0,u.Z)()(r),o=e(10237),P=e(63848),C=e(58546),O=e(30389),D=e(54792),I=e(86726),d=e(37055),_=h.Z.Option,T={setClassify:d.ZP.CourseManageList.setClassify,setScore:d.ZP.CourseManageList.setScore,setBatchEmployee:d.ZP.CourseManageList.setBatchEmployee,deleteCourse:d.ZP.CourseManageList.deleteCourse,exportCourseView:d.ZP.CourseManageList.exportCourseView,syncCourse:d.ZP.CourseManageList.syncCourse},y=L=>({qyShield:L.user.qyShield});class k extends s().Component{constructor(){super(...arguments);this.state={classifyProps:{visible:!1},scoreProps:{title:this.props.t("course.setCredits"),labelTxt:this.props.t("course.credit"),initialValue:"",visible:!1},employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}},asyncProps:{value:0,visible:!1},showReferenceCourseListProps:{visible:!1,courseList:[],onOk:this.showReferenceCourseList,onCancel:this.showReferenceCourseList}},this.handleChangeClassify=n=>{this.props.onClassifyChange(n)},this.handleChangeType=n=>{this.props.onTypeChange(n)},this.handleChangeCourseType=n=>{this.props.onCourseTypeChange(n)},this.actionChangeClassify=()=>{this.setState({classifyProps:{visible:!0}})},this.handleCategoryCancel=()=>{this.setState({classifyProps:{visible:!1}})},this.handleCategoryOk=n=>{var x=n.node,f=this.props,B=f.selectedCourseIds,$=f.selectedProjectIds,Z=f.onForceRender,j=f.t,G=x.id;G&&o.qg.post({url:T.setClassify(),data:{course_ids:B.join(","),project_ids:$.join(","),classify_id:G}}).then(()=>{a.default.success(j("course.setCourseClassifySuccess")),Z()}),this.handleCategoryCancel()},this.actionSetScore=()=>{this.setState(n=>({scoreProps:(0,U.Z)((0,U.Z)({},n.scoreProps),{},{initialValue:"",visible:!0})}))},this.handleScoreCancel=()=>{this.setState(n=>({scoreProps:(0,U.Z)((0,U.Z)({},n.scoreProps),{},{visible:!1})}))},this.handleScoreOk=n=>{var x=n.value;if(x===0){this.handleScoreCancel();return}var f=this.props,B=f.selectedCourseIds,$=f.selectedProjectIds,Z=f.onForceRender,j=f.t;o.qg.post({url:T.setScore(),data:{course_ids:B.join(","),project_ids:$.join(","),credit:x}}).then(()=>{a.default.success(j("course.setCourseScoreSuccess")),Z()}),this.handleScoreCancel()},this.actionSetEmployeeRange=()=>{this.setState(n=>({employeeProps:(0,U.Z)((0,U.Z)({},n.employeeProps),{},{visible:!0})}))},this.handleEmployeeCancel=()=>{this.setState({employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}}})},this.handleEmployeeOk=n=>{var x=this.props,f=x.selectedCourseIds,B=x.selectedProjectIds,$=x.onForceRender,Z=x.t,j=n.isAll,G=n.departmentIds,q=n.groupIds,J=n.postIds,ee=n.userIds,te=n.qy_we_chat_vo;o.WY.post({url:T.setBatchEmployee(),data:{course_ids:f.join(","),project_ids:B.join(","),department_ids:G,group_ids:q,is_all:j,post_ids:J,user_ids:ee,qy_we_chat_vo:te}}).then(()=>{a.default.success(Z("personal.batchSetRangeSuccess")),$()}),this.handleEmployeeCancel()},this.showReferenceCourseList=n=>{this.setState(x=>({showReferenceCourseListProps:(0,U.Z)((0,U.Z)({},x.showReferenceCourseListProps),{},{visible:!x.showReferenceCourseListProps.visible,courseList:n||[]})}))},this.actionDelete=()=>{var n=this.props,x=n.selectedCourseIds,f=n.selectedProjectIds,B=n.list,$=n.onForceRender,Z=n.t,j=0,G=0,q=[];if(B.forEach(J=>{x.includes(J.course_id)&&(J.reference_plan_count>0&&(G+=1),J.reference_plan_count>0&&q.push(J.title),J.can_delete==="true"&&(j+=1))}),G>0)this.showReferenceCourseList(q);else if(j!==x.length)a.default.warning(Z("personal.deletePlatformCourseTip"));else{if(f.length>0){a.default.warning(Z("personal.deleteProjectCourseTip"));return}K.Z.confirm({title:Z("common.tip"),content:Z("common.confirmDeleteTitle"),onOk(){o.qg.post({url:T.deleteCourse(),data:{enterpriseId:d.ZP.enterpriseId,ids:x.join(","),project_ids:f.join(",")}}).then(J=>{var ee=J.data,te=ee.code,se=ee.msg;a.default["".concat(te===0?"success":"warning")](se),te===0&&$()})}})}},this.actionSyncSetting=()=>{this.setState(n=>({asyncProps:(0,U.Z)((0,U.Z)({},n.asyncProps),{},{visible:!0})}))},this.onAsyncChange=n=>{this.setState(x=>({asyncProps:(0,U.Z)((0,U.Z)({},x.asyncProps),{},{value:n.target.value})}))},this.handleSyncCancel=()=>{this.setState({asyncProps:{visible:!1,value:0}})},this.handleSyncOk=()=>{var n=this.props,x=n.selectedCourseIds,f=n.selectedProjectIds,B=n.onForceRender,$=n.t,Z=this.state.asyncProps;o.qg.post({url:T.syncCourse(),data:{course_ids:x.join(","),project_ids:f.join(","),syncProgress:Z.value}}).then(j=>{var G=j.data,q=G.code,J=G.msg;q===0?(a.default.success($("setting.setUpSucceed")),B()):a.default.warning(J)}),this.handleSyncCancel()},this.actionImportDetail=()=>{var n=this.props,x=n.selectedCourseIds,f=n.selectedProjectIds,B=n.onForceRender,$=n.t;if(x.concat(f).length>20){a.default.warning($("courseManage.exportMoreTip"));return}var Z=T.exportCourseView(),j={course_Ids:x.join(","),project_Ids:f.join(",")};o.WY.get({url:Z,params:j}).then(G=>{G.data.code===200&&a.default.success("\u6587\u4EF6\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u5728\u6587\u4EF6\u4E0B\u8F7D\u4E2D\u4E0B\u8F7D"),B(),this.getDownloadingNumber()})},this.getDownloadingNumber=()=>{var n=d.ZP.downLoadCenter.getDownLoadingCount();o.WY.get({url:n,params:{}}).then(x=>{sessionStorage.setItem("downloadingCount",x.data.data),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:x.data.data})}).catch(()=>{sessionStorage.setItem("downloadingCount",0),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:0})})},this.handleChangeCheckBox=n=>{this.props.onCheckboxChange(n.target.checked)},this.handleSharingQueryRowCheckboxChange=n=>{this.props.onSharingCheckboxChange(n.target.checked)},this.renderCondition=()=>{var n=this.props,x=n.prefixCls,f=n.params,B=n.qyShield,$=n.t,Z=f.classify_id?f.classify_id.split(","):[];return s().createElement("div",{className:"".concat(x,"__condition")},this.props.extraDom&&this.props.extraDom(),s().createElement(P.Z,{onChange:this.handleChangeClassify,className:"cl-search-normal-width",value:Z,showLabel:!1,placeholder:"Please select",queryType:"course_manage",unclassified:"true"}),s().createElement(h.Z,{value:f.type,className:"cl-search-normal-width",onChange:this.handleChangeType},s().createElement(_,{value:""},this.props.t("courseManage.allOrigin")),s().createElement(_,{value:"original"},this.props.t("courseManage.originalCourse")),s().createElement(_,{value:"notOriginal"},this.props.t("courseManage.nonOriginalCourse")),s().createElement(_,{value:"platform"},this.props.t("courseManage.platformProcurement"))),this.props.courseType&&this.props.courseType=="graphic"?null:s().createElement(h.Z,{value:f.course_type,className:"cl-search-normal-width",onChange:this.handleChangeCourseType},s().createElement(_,{value:"all"},this.props.t("courseManage.allType")),s().createElement(_,{value:"course"},this.props.t("common.courseLabel")),s().createElement(_,{value:"microCourse"},this.props.t("common.microCourse")),s().createElement(_,{value:"project"},this.props.t("leftMenuLists.studyProject"))),s().createElement(W.Z,{onChange:this.handleChangeCheckBox,style:{marginRight:16}},$("common.myCreated")),this.props.courseType&&this.props.courseType==="graphic"&&B==="false"?s().createElement(W.Z,{onChange:this.handleSharingQueryRowCheckboxChange},$("common.sharing")):null)},this.renderActions=()=>{var n=this.props,x=n.prefixCls,f=n.selectedCourseIds,B=n.selectedProjectIds,$=n.showNum,Z=$===void 0?1:$,j=this.props.allowActions,G=(0,I.H3)("delete",j),q=(0,I.H3)("adjustment_classification",j),J=(0,I.H3)("set_visible",j),ee=(0,I.H3)("export",j),te=(0,I.H3)("set_score",j),se=(0,I.H3)("progressSync",j),ie=[{name:this.props.t("courseManage.adjustClassification"),type:"actionChangeClassify",isShow:q},{name:this.props.t("courseManage.exportViewDetail"),type:"actionImportDetail",isShow:ee},{name:this.props.t("courseManage.setCredits"),type:"actionSetScore",isShow:te},{name:this.props.t("courseManage.setTheVisibilityed"),type:"actionSetEmployeeRange",isShow:J},{name:this.props.t("common.delete"),type:"actionDelete",isShow:G},{name:this.props.t("common.scheduleSyncSetting"),type:"actionSyncSetting",isShow:se}],ne=ie.filter(ae=>ae.isShow),oe=[],re=[];if(ne.length)Z?(oe=[...ne.slice(0,Z)],re=[...ne.slice(Z)]):re=[...ne];else return null;return s().createElement("div",{className:"".concat(x,"__action")},oe.map(ae=>s().createElement(w.Z,{style:{marginRight:"8px"},key:ae.type,disabled:!(f.length+B.length),onClick:this[ae.type]},ae.name)),re.length?s().createElement(R.Z,{disabled:!(f.length+B.length),overlay:this.renderMoreButton({buttons:re})},s().createElement(w.Z,{className:"cl-pointer"},"".concat(this.props.t("common.more"))," ",s().createElement(p.Z,null))):"")}}renderMoreButton(n){var x=n.buttons,f=this.props,B=f.selectedCourseIds,$=f.selectedProjectIds;return s().createElement(M.Z,{onClick:Z=>{var j=Z.key;this[j]()}},x.map(Z=>Z.isShow?s().createElement(M.Z.Item,{key:Z.type,disabled:!(B.length+$.length)},s().createElement("span",{className:"cl-pointer"},Z.name)):null))}render(){var n=this.props,x=n.prefixCls,f=n.t,B=n.showRenderCondition,$=B===void 0?!0:B,Z=n.showRenderActions,j=Z===void 0?!0:Z,G=this.state,q=G.classifyProps,J=G.scoreProps,ee=G.employeeProps,te=G.showReferenceCourseListProps,se=G.asyncProps;return s().createElement("div",{className:x},$&&this.renderCondition(),j&&this.renderActions(),s().createElement(C.Z,(0,A.Z)({},q,{title:f("personal.chooseClassify"),onCancel:this.handleCategoryCancel,onOk:this.handleCategoryOk})),s().createElement(D.Z,(0,A.Z)({},J,{onCancel:this.handleScoreCancel,onCreate:this.handleScoreOk})),ee.visible&&s().createElement(O.Z,(0,A.Z)({},ee,{title:f("courseManage.setTheVisibility"),mode:["all","part","private"],orgProps:{title:f("component.chooseVisibleScope")},isLoading:!ee.visible,onCancel:this.handleEmployeeCancel,onCreate:this.handleEmployeeOk})),se.visible&&s().createElement(t.ZP,{wrapClassName:"cl-async-selector-modal",visible:se.visible,title:f("common.scheduleSyncSetting"),okText:f("common.ok"),cancelText:f("common.cancel"),onCancel:this.handleSyncCancel,onOk:this.handleSyncOk},se.visible?s().createElement("div",{className:"".concat(x,"__async")},s().createElement("p",null," ",f("common.scheduleSyncSettingTip")),s().createElement(E.ZP.Group,{onChange:this.onAsyncChange,value:se.value},s().createElement(E.ZP,{value:0},f("common.outSync")),s().createElement(E.ZP,{value:1},f("common.synchronization")))):s().createElement(F.Z,{size:"large"})),s().createElement(i,(0,A.Z)({},te,{showReferenceCourseList:this.showReferenceCourseList})))}}k.defaultProps={prefixCls:"resource-course-list-page__release__content__queryrow",rangeType:""};var Y=(0,u.Z)()((0,g.$j)(y)(k))},64462:function(X,Q,e){"use strict";e.d(Q,{K7:function(){return w},Vo:function(){return S},It:function(){return W}});var H=e(57361),E=e(34792),z=e(48086),F=e(9754),A=e.n(F),b=e(37055),M=e(10237),v=e(60333),R=e(1164),l=e(38642);function w(N,a){(a==="end"||a==="remarking")&&(0,l.eJ)({url:"/course/enterpriseCourse?courseId=".concat(N)}),M.WY.get({url:b.ZP.EnterpriseCourse.getEnterpriseCourse(),params:{id:N}}).then(m=>{var h=m.data.live_status;h==="end"||h==="remarking"?(0,l.eJ)({url:"/course/enterpriseCourse?courseId=".concat(N)}):(0,v.uA)(N).then(c=>{var s=c.data;s.code===2e5?R.Z.targetTo({path:s.data.link,isExternalLink:!0}):z.default.error(s.message)}).catch(c=>{console.log(c)})}).catch(m=>{console.log(m)})}function S(N){(0,v.u0)(N).then(a=>{var m=a.data;m.code===2e5?window.open(m.data.link,"_blank"):z.default.error(m.message)}).catch(a=>{console.log(a)})}function W(N,a){return V.apply(this,arguments)}function V(){return V=(0,H.Z)(A().mark(function N(a,m){var h;return A().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:h=window.navigator.userAgent,h.includes("DingTalk")?M.WY.get({url:b.ZP.DdLive.getLiveDetail(),params:{courseId:a,appId:"cool"}}).then(g=>{var u=g.data;dd.biz.util.openLink({url:u.data.jumpUrl})}).catch(g=>{console.log(g)}):z.default.info(m("ddLive.ddInfo"));case 2:case"end":return s.stop()}},N)})),V.apply(this,arguments)}function K(){}function U(){}}}]);
