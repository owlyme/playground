(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[3332],{4408:function(De,le,e){"use strict";var K=e(12924),R=e.n(K),J=e(28216),W=e(17780),j=e(38642),w=C=>({userInfo:C.user}),H=C=>{var x=C.title;return(0,W.xX)()&&setTimeout(()=>{document.title=x},0),(0,K.useEffect)(()=>{if(x&&document.title!==x&&setTimeout(()=>{document.title=x},0),(0,j.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var o=document.querySelector(".zoom-report");o&&(o.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[x]),R().createElement(R().Fragment,null)};H.defautProps={title:""},le.Z=(0,J.$j)(w)(H)},1164:function(De,le,e){"use strict";var K=e(12924),R=e.n(K),J=e(76651),W=e(38642),j=e(91302),w=H=>{var C=navigator.userAgent.toLocaleLowerCase(),x=localStorage.getItem("enterpriseId"),o=(0,W.lz)(x,H.projectType),T=localStorage.getItem("dingPersonnel"),k=j.bl.includes(T),U=H.target;function N(L){if(U==="self"&&(L.preventDefault(),J.m8.push(H.to)),k){if(H.projectType==="student"){window.location.href="".concat(o,"/").concat(H.to);return}J.m8.push(H.to);return}if(dd.version){L.preventDefault();var a="";H.to.includes("?")?a="".concat(o).concat(H.to,"&ddtab=true"):a="".concat(o).concat(H.to,"?ddtab=true"),dd.biz.util.openLink({url:a})}else C.indexOf("lark")!==-1&&(window.location.href="".concat(o).concat(H.to))}return R().createElement("a",{rel:"noreferrer",href:"".concat(H.projectType==="student"?"".concat(o).concat(H.to):"#".concat(H.to)),className:"".concat(H.wrapCls," cl-pointer"),target:C.indexOf("lark")!==-1||k?"_self":H.target||"_blank",onClick:N},H.children)};w.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},w.targetTo=H=>{var C=H.path,x=H.from,o=H.isExternalLink,T=o===void 0?!1:o,k=H.isAsync,U=k===void 0?!1:k,N=H.openName,L=N===void 0?"_blank":N,a=H.projectType,q=a===void 0?"manage":a,O=H.ddTab,ae=O===void 0?!0:O,B,_=localStorage.getItem("dingPersonnel"),se=j.bl.includes(_),Y=navigator.userAgent.toLocaleLowerCase(),ce=localStorage.getItem("enterpriseId"),ee=(0,W.lz)(ce,q),X=localStorage.getItem("appType"),i=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var he="";if(B=T?"":ee,se&&!T){if(q==="student"){window.location.href="".concat(ee).concat(C);return}J.m8.push(C);return}C.includes("?")?he="".concat(B).concat(C,"&ddtab=").concat(ae):he="".concat(B).concat(C,"?ddtab=").concat(ae),dd.biz.util.openLink({url:he})}else if(Y.indexOf("lark")!==-1)B=T?"":ee,window.location.href="".concat(B).concat(C);else if(X==="wx_app"&&i&&T&&x==="imgText")B=T?"":q==="student"?"".concat(ee):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(B).concat(C)});else if(B=T?"":q==="student"?"".concat(ee):"#",U){var re=window.open("","_blank");setTimeout(()=>{re.location="".concat(B).concat(C)},100)}else window.open("".concat(B).concat(C),L)},le.Z=w},87312:function(De,le,e){"use strict";var K=e(12924),R=e.n(K),J=e(91768),W=j=>{var w=j.t;return R().createElement("div",{className:j.className?"".concat(j.className," no-result"):"no-result"},R().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886702513426432.png"),className:"no-data-img",alt:""}),R().createElement("p",{className:"no-data-tip"},j.tipText||w("common.empty")))};le.Z=(0,J.Z)()(W)},88311:function(De,le,e){"use strict";e.d(le,{Z:function(){return pe}});var K=e(62029),R=e(47673),J=e(4107),W=e(33565),j=e(57361),w=e(34792),H=e(48086),C=e(88986),x=e(43358),o=e(34041),T=e(18106),k=e(88108),U=e(9754),N=e.n(U),L=e(12924),a=e.n(L),q=e(91768),O=e(77043),ae=e.n(O),B=e(20228),_=e(11382),se=e(18721),Y=e.n(se),ce=e(51975),ee=e(37055),X={breadNav:[{value:"",label:""}],checkOne:()=>{},checkAll:()=>{},nextLevel:()=>{},changeLevel:()=>{}},i=a().createContext(X),he={searchResult:[],deptList:[],groupList:[],postList:[],deptUser:[],groupUser:[],postUser:[],clusterList:[],classList:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],initTypeList:()=>{},initTypeUser:()=>{},toggleDisplayItem:()=>{},toggleDisplayList:()=>{},checkListOne:()=>{},checkUserOne:()=>{},removeCheckedUser:()=>{},changeLevel:()=>{},hidePosts:!1,initHidePostsStatus:()=>{},clearSelectedAll:()=>{}},re=a().createContext(he),Pe=e(36017),ye=e(35247),fe=e(60667);class ue extends a().Component{constructor(){super(...arguments);this.changeLevel=(E,m,s,r)=>{E.preventDefault(),this.props.contextData.changeLevel(m,s,r)}}render(){var E=this.props.contextData.breadNav.map((m,s)=>a().createElement(ye.Z.Item,{key:m.value},a().createElement("span",{className:"bread-nav-item",onClick:r=>this.changeLevel(r,m.value,s,!(Y()(m,"authorized")&&m.authorized==="true"))},a().createElement(fe.Z,{dataType:"departmentName",value:m.value,name:m.label,type:m.sourceType}))));return a().createElement("div",{className:"bread-nav"},a().createElement(ye.Z,null,E))}}ue.defaultProps={contextData:{breadNav:[]},changeLevel:()=>{}};var ge=ue,Ie=e(63185),Ce=e(9676),Ne=e(88983),be=e(47933),xe=e(22385),Ae=e(31097),Re=e(57119),Ue=e(84874),Ve=e(20136),Ge=e(55241),ze=e(13062),je=e(71230),st=e(89032),ke=e(15746),Oe=e(28216),we=e(80430),Te=e(10237);function Le(){var b=CONFIG.Role.getUserManageRange();return request.get({url:b})}function Ze(b){var E=ee.ZP.OrgDialog.getDeptInfoUrl({departmentId:b.departmentId});return delete b.departmentId,Te.WY.get({url:E,params:b})}function We(b){var E=ee.ZP.OrgDialog.getDeptUsersUrl({departmentId:b.departmentId});return delete b.departmentId,Te.WY.get({url:E,params:b})}function _e(b){var E=ee.ZP.OrgDialog.getUserDetailUrl();return Te.WY.get({url:E,params:b})}function rt(b){var E=ee.ZP.OrgDialog.getScopeUsersAndDeptsUrl({departmentId:b.departmentId});return delete b.departmentId,Te.WY.get({url:E,params:b})}function ht(b){var E=ee.ZP.OrgDialog.postDeleteCacheUrl({cacheId:b.cacheId});return delete b.cacheId,Te.WY.post({url:E,params:b})}var nt,He,Ke=(nt=(0,Oe.$j)(b=>{var E=b.user;return{enterpriseName:E.enterpriseName}}),nt(He=class extends a().Component{constructor(){super(...arguments);this.state={loading:!0,cardInfoFinal:this.props.cardInfo},this.renderTitle=()=>{var E=this.props,m=E.cardInfo,s=E.prefixCls,r=E.enterpriseName,y=m.source_type,p=m.user_id,t=m.name;return a().createElement("div",{className:"".concat(s,"__header")},a().createElement("div",{className:"".concat(s,"__header-name")},a().createElement(fe.Z,{type:y,value:p,name:t,dataType:"userName"})),a().createElement("div",{className:"".concat(s,"__header-corp")},r||"/"))},this.renderContent=()=>{var E=this.props,m=E.prefixCls,s=E.t,r=this.state.cardInfoFinal,y=r.user_id,p=r.job_number,t=r.post_names,S=t===void 0?[]:t,F=r.department_infos,G=F===void 0?[]:F,z=()=>!(G instanceof Array)||G.length===0?"/":a().createElement(we.Z,{list:G,displayAll:!0,isBlock:!0}),V=()=>!(S instanceof Array)||S.length===0?"/":S.map(te=>a().createElement("div",{key:te},te)),Q=[{lable:"ID",value:y},{lable:s("personal.jobNumber"),value:p||"/"},{lable:s("setting.postLabel"),value:V()},{lable:s("learnRecord.department"),value:z()}];return a().createElement("div",{className:"".concat(m,"__body")},Q.map(te=>a().createElement(je.Z,{className:"".concat(m,"__body-item"),key:te.value},a().createElement(ke.Z,{className:"".concat(m,"__body-item-lable")},te.lable),a().createElement(ke.Z,{className:"".concat(m,"__body-item-value")},te.value||"/"))))}}render(){var E=this.props,m=E.children,s=E.prefixCls,r=this.state,y=r.loading,p=r.cardInfoFinal;return a().createElement(Ge.Z,{overlayClassName:s,placement:"rightTop",title:this.renderTitle,content:y?a().createElement("div",{className:"".concat(s,"__body")},a().createElement(_.Z,null)):this.renderContent,onVisibleChange:t=>{t&&(p.detailInfo===!1?_e({user_id:p.id}).then(S=>{this.setState({loading:!1,cardInfoFinal:(0,C.Z)((0,C.Z)((0,C.Z)({},p),S.data),{},{detailInfo:!0})})}).catch(S=>{console.error(S)}):this.setState({loading:!1}))},mouseEnterDelay:.5},m)}})||He);Ke.defaultProps={prefixCls:"user-card-popover",cardInfo:{}};var Fe=(0,q.Z)()(Ke),mt=["cluster","class"];class $e extends a().Component{constructor(){super(...arguments);this.checkOne=E=>{E.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=E=>{E.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var E=this.props,m=E.cardInfo,s=E.type,r=E.t;return m.authorized==="false"&&s==="dept"?a().createElement(Ae.Z,{title:r("orgDialog.scopedAuthorize")},a().createElement(Re.Z,{style:{marginLeft:"4px"}})):null}}render(){var E=this.props,m=E.t,s=E.cardInfo,r=s===void 0?{}:s,y=E.hidePosts,p=E.type,t=E.userCount,S=null;return this.props.hasNext?(S=a().createElement("div",{className:"next-level"},!(y&&p==="post")&&t>-1?a().createElement("span",{className:"next-level-count"},"(",t,")"):null,mt.includes(p)?a().createElement("span",null):a().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},a().createElement(Ue.Z,{iconClass:"icon-xiaji1"}),m("component.nextLevel"))),this.props.single?a().createElement("div",{className:"org-tree-item"},a().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),S):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&a().createElement("div",{className:"org-tree-item"},a().createElement(Ce.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title),this.renderToolTips(),S)):a().createElement("div",{className:"org-tree-item"},this.props.single?a().createElement(be.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},a().createElement(Fe,{cardInfo:r},this.props.title)):a().createElement(Fe,{cardInfo:r},a().createElement(Ce.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},this.props.title)))}}$e.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var vt=(0,q.Z)()($e),ft=["cluster","class"];class Ye extends a().Component{constructor(){super(...arguments);this.checkOne=E=>{E.preventDefault(),this.props.contextData.checkOne(this.props.itemId,this.props.hasNext?"list":"user",!this.props.isChecked)},this.nextLevel=E=>{E.preventDefault(),!this.props.isChecked&&this.props.contextData.nextLevel(this.props.cardInfo,this.props.title,this.props.hasNextPost)},this.renderToolTips=()=>{var E=this.props,m=E.cardInfo,s=E.type,r=E.t;return m.authorized==="false"&&s==="dept"?a().createElement(Ae.Z,{title:r("orgDialog.scopedAuthorize")},a().createElement(Re.Z,{style:{marginLeft:"4px"}})):null}}render(){var E=this.props,m=E.t,s=E.cardInfo,r=s===void 0?{}:s,y=E.hidePosts,p=E.type,t=E.userCount,S=null;return this.props.hasNext?(S=a().createElement("div",{className:"next-level"},a().createElement("span",{className:"next-level-belle"},!(y&&p==="post")&&t>-1?a().createElement("span",{className:"next-level-count"},"(",t,")"):null,ft.includes(p)?a().createElement("span",null):a().createElement("span",{className:this.props.isChecked?"next-level-label disabled":"next-level-label",onClick:this.nextLevel},a().createElement(Ue.Z,{iconClass:"icon-xiaji1"}),m("component.nextLevel")))),this.props.single?a().createElement("div",{className:"org-tree-item"},a().createElement("span",{checked:this.props.isChecked,disabled:!this.props.checkable,className:"org-tree-item-name"},a().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),S):(!this.props.disableHidden||this.props.disableHidden&&this.props.checkable)&&a().createElement("div",{className:"org-tree-item"},a().createElement(Ce.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},a().createElement("span",{className:"org-tree-item-title"},this.props.title)),this.renderToolTips(),S)):a().createElement("div",{className:"org-tree-item"},this.props.single?a().createElement(be.ZP,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},a().createElement(Fe,{cardInfo:r},a().createElement("span",{className:"org-tree-item-title"},this.props.title))):a().createElement(Fe,{cardInfo:r},a().createElement(Ce.Z,{checked:this.props.isChecked,disabled:!this.props.checkable,onClick:this.checkOne,className:"org-tree-item-name"},a().createElement("span",{className:"org-tree-item-title"},this.props.title))))}}Ye.defaultProps={hasNext:!1,isChecked:!1,itemId:"",title:"",hasNextPost:!1,userCount:0,checkable:!0,hidePosts:!1,disableHidden:!1};var it=(0,q.Z)()(Ye),Qe=e(38642),ot=["cluster","class"];class Je extends a().Component{constructor(E){super(E);this.checkAll=(m,s)=>{m.preventDefault(),this.props.contextData.checkAll(s)},this.getIsCheckAll=()=>{var m=[].concat(this.context["".concat(this.props.dataTypeKey,"List")],ot.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")]);if(m.length===0)return!1;var s=m.findIndex(r=>!r.isChecked);return s===-1},this.renderDeptName=(m,s)=>s==="dept"?a().createElement(fe.Z,{type:m.source_type,value:m.id,name:m.name,dataType:"departmentName"}):m.name,this.renderName=m=>a().createElement(fe.Z,{type:m.source_type,value:m.user_id,name:m.name,dataType:"userName"}),this.state={isShowCheckAllEle:!0,whiteList:{belleFlag:(0,Qe.UI)("BELLE_CUSTOMER_WHITE")}}}render(){var E=this.state,m=E.isShowCheckAllEle,s=E.whiteList,r=this.props,y=r.t,p=r.dataTypeKey,t=r.disableHidden,S=r.scrollFlag,F=this.context,G=F.maxDeptUserCount,z=F.hidePosts,V=F.onlyPost,Q=F.onlyUser,te=F.single,oe=[],ie=this.context["".concat(this.props.dataTypeKey,"List")].map(de=>(oe.push(a().createElement("div",{className:"title-item",key:de.id},this.renderDeptName(de,p))),s.belleFlag&&S?a().createElement(it,{type:p,key:de.id,cardInfo:de,hasNext:!0,checkable:G&&(de==null?void 0:de.userCount)>G?!1:!(V&&de.post_type==="post_group"||Q),single:te,userCount:de.userCount,isChecked:!!de.isChecked,itemId:de.id,title:this.renderDeptName(de,p),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!de.children,hidePosts:z,disableHidden:t}):a().createElement(vt,{type:p,key:de.id,cardInfo:de,hasNext:!0,checkable:G&&(de==null?void 0:de.userCount)>G?!1:!(V&&de.post_type==="post_group"||Q),single:te,userCount:de.userCount,isChecked:!!de.isChecked,itemId:de.id,title:this.renderDeptName(de,p),contextData:this.props.contextData,hasNextPost:this.props.dataTypeKey==="post"&&!!de.children,hidePosts:z,disableHidden:t}))),ve=[],Se=ot.includes(this.props.dataTypeKey)?[]:this.context["".concat(this.props.dataTypeKey,"User")].map(de=>(ve.push(a().createElement("div",{className:"title-item",key:de.id},this.renderName(de,p))),s.belleFlag&&S?a().createElement(it,{key:de.id,hasNext:!1,title:this.renderName(de),isChecked:!!de.isChecked,itemId:de.id,cardInfo:de,checkable:!(de.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:t}):a().createElement(vt,{key:de.id,hasNext:!1,title:this.renderName(de),isChecked:!!de.isChecked,itemId:de.id,cardInfo:de,checkable:!(de.reserve||this.context.onlyDept),single:this.context.single,contextData:this.props.contextData,type:this.props.dataTypeKey,disableHidden:t}))),Me=this.getIsCheckAll(),Be=a().createElement("div",{className:"org-tree-item"},a().createElement(Ce.Z,{checked:Me,defaultChecked:!0,onClick:de=>this.checkAll(de,!Me)},y("common.all")));return a().createElement("div",{className:"".concat(this.context.oneDisplayType?"org-tree more-height":"org-tree"," ").concat(s.belleFlag&&S?"org-tree-belle":"")},!this.context.single&&this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&ie.length===0&&Se.length>0&&m||!this.context.single&&!this.context.onlyUser&&!this.context.onlyDept&&!this.context.onlyPost&&(ie.length>0||Se.length>0)&&m?Be:null,s.belleFlag&&S&&a().createElement("div",{className:"belle-title-scroll"},oe,ve),ie,Se)}}Je.contextType=re,Je.defaultProps={dataTypeKey:"dept",contextData:{},disableHidden:!1,scrollFlag:!1};var Xe=(0,q.Z)()(Je),lt=e(25547),qe="999",et=1,ct=["clusterList","classList"];class tt extends a().Component{constructor(E,m){var s;super(E);s=this,this.getClusterList=()=>{var r=ee.ZP.OrgDialog.getClusterList(),y={keyword:""};Te.WY.get({url:r,params:y}).then(p=>{this.context.initTypeList("clusterList","checkedCluster",p.data.data.map(t=>({name:t.name,userCount:t.user_count,id:t.id,parentId:[""]})))})},this.getClassList=()=>{this.context.initTypeList("classList","checkedClass",[{name:"\u6D4B\u8BD52",userCount:2,id:"2",parentId:[""]},{name:"\u6D4B\u8BD54",userCount:1,id:"41",parentId:[""]}])},this.flatTreeData=(r,y)=>(r.children.forEach(p=>{p.children&&(y[p.id]=p.children,this.flatTreeData(p,y))}),y),this.getDeptList=function(r){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Promise((p,t)=>{var S=s.state.cacheId;Ze({departmentId:r,cache_id:S,filter_auth:y&&!s.props.filterAuthOpen}).then(F=>{var G=F.data.children||[];G.forEach(V=>{V.parentId=F.data.id,V.userCount=V.user_count,V.name=V.department_name,V.all_name=a().createElement("span",null,s.state.contextData.breadNav.map(Q=>a().createElement("span",{key:Q.value},Q.label,"/")),V.department_name)});var z=[];s.context.asyncDeptTree?z=G:z=s.flatTreeData(F.data,{[F.data.id]:G}),s.setState({deptList:z}),s.context.initTypeList("deptList","checkedDept",G),p(F.data)}).catch(F=>{console.error(F),t(F)})})},this.getDeptUserList=function(r){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=s.state.cacheId;We({departmentId:r,cache_id:p,filter_auth:y&&!s.props.filterAuthOpen}).then(t=>{t.data&&t.data.forEach(S=>{S.name=S.user_name,S.detailInfo=!1}),s.context.initTypeUser("deptUser",t.data)}).catch(t=>{console.error(t)})},this.getGroupList=()=>{var r=ee.ZP.Organization.getGroupList(),y={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Te.WY.get({url:r,params:y}).then(p=>{p.data.groups=p.data.groups||[],p.data.groups.forEach(t=>{t.parentId=this.state.contextData.breadNav.map(S=>S.value),t.userCount=t.user_count,t.name=t.group_name}),this.setState({groupList:p.data.groups}),this.context.initTypeList("groupList","checkedGroup",p.data.groups)})},this.getGroupUserList=r=>{var y=ee.ZP.Organization.getGroupUserList({groupId:r}),p={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Te.WY.get({url:y,params:p}).then(t=>{t.data.users&&t.data.users.forEach(S=>{S.name=S.user_name,S.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("groupUser",t.data.users)})},this.getPostList=r=>{var y=ee.ZP.Organization.getPostTree(),p={filter_auth:!this.props.filterAuthOpen,post_id:r,user_type:this.context.userType};Te.WY.get({url:y,params:p}).then(t=>{t.data.posts=t.data.posts||[],t.data.posts.forEach(S=>{S.parentId=this.state.contextData.breadNav.map(F=>F.value),S.userCount=S.user_count,S.name=S.post_name}),this.setState({postList:t.data.posts}),this.context.initTypeList("postList","checkedPost",t.data.posts),this.context.initHidePostsStatus(t.data.hide_posts==="true")})},this.getPostUserList=r=>{var y=ee.ZP.Organization.getPostUserList({postId:r}),p={filter_auth:!this.props.filterAuthOpen,user_type:this.context.userType};Te.WY.get({url:y,params:p}).then(t=>{t.data.users&&t.data.users.forEach(S=>{S.name=S.user_name,S.parentId=this.state.contextData.breadNav.map(F=>F.value)}),this.context.initTypeUser("postUser",t.data.users)})},this.getUserList=function(r){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s.props.type==="dept"?s.getDeptUserList(r,y):s.props.type==="group"?s.getGroupUserList(r):s.getPostUserList(r)},this.checkOne=(r,y,p)=>{var t=this.state.checkedCount;if(y==="list"){var S=this.context[this.state.listType].find(G=>G.id===r);S.isChecked=p,S.all_name&&typeof S.all_name=="object"&&delete S.all_name,t=p?t+1:t-1,this.context.checkListOne(S,this.state.checkedListType,this.state.listType)}else if(y==="user"){var F=this.context[this.state.checkedUserType].find(G=>G.id===r);F.isChecked=p,t=p?t+1:t-1,this.context.checkUserOne(F,this.state.checkedUserType)}this.updateCheckedCount(t)},this.updateCheckedCount=r=>{this.setState({checkedCount:r})},this.checkAll=function(){var r=(0,j.Z)(N().mark(function y(p){var t,S,F,G,z,V,Q,te,oe,ie,ve,Se,Me,Be,de;return N().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(t=s.state,S=t.contextData,F=t.cacheId,G=[...S.breadNav].reverse(),z=(0,W.Z)(G,1),V=z[0],Q=V.value,te=[...s.context[s.state.checkedListType]],oe=V.authorized==="false",ie={departments:[],users:[]},!oe){pt.next=12;break}return pt.next=9,rt({departmentId:Q,cache_id:F});case 9:ve=pt.sent,Se=ve.data,ie={departments:Se.departments.map(Ee=>(Ee.isChecked=p,Ee.name=Ee.department_name,Ee.parentId=Ee.parent_ids.split("/"),Ee.parentAuthorize=!1,Ee.userCount=Ee.user_count,Ee)),users:Se.users.map(Ee=>(Ee.isChecked=p,Ee.name=Ee.user_name,Ee.parentAuthorize=!1,Ee))};case 12:Me=s.context[s.state.listType].map(Ee=>{Ee.isChecked=p,s.props.type!=="dept"&&te.forEach(ut=>{ut.parentId.indexOf("".concat(Ee.id))!==-1&&(ut.isChecked=!1)});var at=te.findIndex(ut=>ut.id===Ee.id);return at!==-1?te[at].isChecked=p:te.push(Ee),Ee}),Be=[],s.context.checkedUser.forEach(Ee=>{if(s.props.type!=="dept"){if(typeof Ee.parentId!="undefined"&&Ee.parentId.indexOf("".concat(Q))!==-1&&Ee.parentId[Ee.parentId.length-1]!==Q)return}else{var at=typeof Ee.parentId!="undefined"?Ee.parentId:Ee.department_ids||[];if(at.indexOf(Q)!==-1)return}Be.push(Ee)}),de=ct.includes(s.state.listType)?[]:s.context[s.state.checkedUserType].map(Ee=>{Ee.isChecked=p;var at=Be.findIndex(ut=>ut.id===Ee.id);return at!==-1?Be[at].isChecked=p:Be.push(Ee),Ee}),s.context.toggleDisplayList(s.state.checkedListType,ae()(ie.departments,te,"id"),s.state.listType,Me,s.state.checkedUserType,de,ae()(ie.users,Be,"id")),s.setState({checkedCount:p?(ct.includes(s.state.listType)?0:s.context[s.state.checkedUserType].length)+s.context[s.state.listType].length:0});case 18:case"end":return pt.stop()}},y)}));return function(y){return r.apply(this,arguments)}}(),this.nextLevel=(r,y,p)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var t=[...this.state.contextData.breadNav,{value:r.id,label:y,authorized:r.authorized}];this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{breadNav:t})},()=>{this.props.type==="post"?this.nextPostLevel(r.id,p):this.props.type==="dept"?this.nextDeptLevel(r.id,!(Y()(r,"authorized")&&r.authorized==="true")):this.context.initTypeList("groupList","checkedGroup",[]),this.getUserList(r.id===qe?et:r.id,!(Y()(r,"authorized")&&r.authorized==="true"))})},this.nextDeptLevel=(r,y)=>{if(this.context.asyncDeptTree)this.getDeptList(r,y);else{var p=this.state.deptList[r];typeof p!="undefined"&&p.forEach(t=>{t.parentId=this.state.contextData.breadNav.map(S=>S.value),t.userCount=t.user_count,t.name=t.department_name}),this.context.initTypeList("deptList","checkedDept",p||[])}},this.nextPostLevel=(r,y)=>{if(y){var p=(0,lt.lK)(this.state.postList,r),t=p.children.map(S=>(S.name=S.post_name,S.parentId=this.state.contextData.breadNav.concat([r]).map(F=>F.value),S.userCount=S.user_count,S));this.context.initTypeList("postList","checkedPost",t)}},this.changeLevel=(r,y,p)=>{this.context.clearTabPanelList(this.state.listType,this.state.checkedUserType);var t=this.props.type==="group"?[this.state.contextData.breadNav[0]]:this.state.contextData.breadNav.slice(0,y+1);this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{breadNav:t}),isSearch:!1},()=>{this.props.type==="dept"?this.changeDeptLevel(r,p):this.props.type==="group"?this.changeGroupLevel(r):this.props.type==="cluster"?this.getClusterList():this.props.type==="class"?this.getClassList():this.changePostLevel(r)})},this.changeDeptLevel=function(r){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(s.context.asyncDeptTree)s.getDeptList(r,y);else{var p=s.state.deptList[r];p.forEach(t=>{t.parentId=s.state.contextData.breadNav.map(S=>S.value),t.userCount=t.user_count,t.name=t.department_name}),s.context.initTypeList("deptList","checkedDept",p)}s.getDeptUserList(r===qe?et:r,y)},this.changePostLevel=r=>{var y=r==="1"?this.state.postList:(0,lt.lK)(this.state.postList,r).children,p=y.map(t=>(t.name=t.post_name,t.parentId=this.state.contextData.breadNav.concat([r]).map(S=>S.value),t.userCount=t.user_count,t));this.context.initTypeList("postList","checkedPost",p),r!=="1"&&this.getPostUserList(r===qe?et:r)},this.changeGroupLevel=r=>{r||(this.context.initTypeUser("groupUser",[]),this.context.initTypeList("groupList","checkedGroup",this.state.groupList))},this.state={postList:[],deptList:[],groupList:[],clusterList:[],classList:[],contextData:{breadNav:[this.props.defaultBreadNav],checkOne:this.checkOne,checkAll:this.checkAll,nextLevel:this.nextLevel,changeLevel:this.changeLevel},checkedCount:0,listType:"".concat(this.props.type,"List"),checkedListType:"checked".concat(this.props.type.charAt(0).toUpperCase()).concat(this.props.type.substr(1)),checkedUserType:"".concat(this.props.type,"User"),isSearch:!1,searchResult:[],loadDept:!1,loadUser:!1,cacheId:m.cacheId}}componentDidMount(){this.props.type!=="group"?this.props.type==="dept"?this.getDeptList("1").then(E=>{this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{breadNav:[{value:E.id,label:E.department_name,sourceType:E.source_type,authorized:E.authorized}]})}),this.getDeptUserList("1")}):this.getPostList("1"):this.getGroupList(1),this.props.type==="cluster"&&this.getClusterList(),this.props.type==="class"&&this.getClassList()}render(){return a().createElement(i.Provider,{value:this.state.contextData},a().createElement("div",{className:"org-display-container org-display-dept"},a().createElement(gt,null),this.props.type==="dept"&&(this.state.loadDept||this.state.loadUser)?a().createElement("div",{className:"dept-loading"},a().createElement(_.Z,null)):null,a().createElement(yt,{dataTypeKey:this.props.type,disableHidden:this.props.disableHidden,scrollFlag:this.props.scrollFlag})))}}tt.contextType=re;var gt=(0,ce.l)(i,ge),yt=(0,ce.l)(i,Xe);tt.defaultProps={defaultBreadNav:{value:"",label:"\u9177\u6E32\u79D1\u6280"},queryType:1,type:"dept",filterAuthOpen:!1,disableHidden:!1,scrollFlag:!1};var dt=tt,Ct=e(57663),Et=e(71577),me=e(54549);class v extends a().Component{constructor(){super(...arguments);this.removeItem=(E,m,s,r)=>{E.preventDefault(),m.isChecked=!1,r==="user"?this.context.removeCheckedUser(m):this.context.checkListOne(m,s,"".concat(r,"List"))},this.displayName=(E,m)=>{var s={user:"userName",dept:"departmentName"}[E]||"",r={user:m.unionid||m.user_id||m.userId,dept:m.id}[E]||m.id;return a().createElement(fe.Z,{value:r,name:m.name,type:m.source_type||m.sourceType,dataType:s})},this.displayItem=E=>{var m=this.context,s=m.hidePosts,r=m.showUserCount,y="checked".concat(E.charAt(0).toUpperCase()).concat(E.substr(1)),p=this.context[y].map(t=>t.isChecked&&t.authorized!=="false"?a().createElement(Ae.Z,{key:t.id,placement:"top",title:t.all_name||"",getPopupContainer:()=>document.querySelector(".checked-display-container")},a().createElement("div",{className:"display-item",key:t.id},this.displayName(E,t),E==="user"||s&&E==="post"?"":r&&t.userCount>-1?"(".concat(t.userCount,")"):"",t.reserve?null:a().createElement("span",{className:"display-item-close",onClick:S=>this.removeItem(S,t,y,E)},a().createElement(me.Z,{style:{fontSize:"8px",color:"#afb5d2"}})))):null);return p},this.handleClearSelected=()=>{this.context.clearSelectedAll()}}render(){var E=this.props.t,m=["dept","group","post","user","cluster","class"].map(s=>this.displayItem(s));return a().createElement("div",{className:"checked-display-container"},a().createElement("div",{className:"checked-display-container-header"},a().createElement("span",null,E("orgDialog.selected"),":"),a().createElement(Et.Z,{type:"link",onClick:this.handleClearSelected},E("orgDialog.clearAll"))),m)}}v.contextType=re;var h=(0,q.Z)()(v),d=e(67222),l=e(6793),g=J.Z.Search;class D extends a().Component{constructor(E){var m;super(E);m=this,this.onChange=s=>{var r=this.props.appType,y=localStorage.getItem("qyWechatBook");if(s.preventDefault(),this.setState({value:s.target.value}),!(!s.target.value&&!this.props.showCancel)&&!this.props.disableChange){var p=r==="wx_app"&&y==="true";!(0,Qe.eY)("ORG_DIALOG_SEARCH")||p||(0,l.Ds)(this.debounceChange,500)()}},this.handleSearch=(s,r)=>{r.preventDefault(),!(!s&&!this.props.showCancel)&&this.extendReturn(s)},this.debounceChange=()=>{this.extendReturn(this.state.value)},this.extendReturn=function(){var s=(0,j.Z)(N().mark(function r(y){var p,t,S,F,G,z,V,Q,te;return N().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(p=m.props,t=p.appType,S=p.selectType,F=p.appId,G=localStorage.getItem("qyWechatBook"),z="",V=t==="wx_app"&&G==="true"&&F==="9005",!(y&&S==="user"&&V)){ie.next=17;break}return ie.prev=5,ie.next=8,(0,d.F_)(y);case 8:Q=ie.sent,te=Q.data,te.success&&(z=te.data),ie.next=17;break;case 13:ie.prev=13,ie.t0=ie.catch(5),console.error(ie.t0),z="";case 17:m.props.onSearch(y,z);case 18:case"end":return ie.stop()}},r,null,[[5,13]])}));return function(r){return s.apply(this,arguments)}}(),this.state={value:""}}render(){var E=this.props,m=E.t,s=E.selectType;return a().createElement("div",{className:"top-search"},a().createElement(g,{placeholder:m(s==="user"?"component.searchStudent":s==="dept"?"component.searchDepartment":s==="post"?"component.searchPost":s==="cluster"?"component.searchCluster":s==="class"?"component.searchClass":"setting.searchGroup"),value:this.state.value,onSearch:this.handleSearch,allowClear:!0,onChange:this.onChange}))}}var A=(0,Oe.$j)(b=>({appType:b.user.appType,appId:b.user.appId}))((0,q.Z)()(D)),M=e(87312);class u extends L.Component{constructor(){super(...arguments);this.checkedAll=(E,m)=>{this.props.checkedAll(m)},this.getIsCheckedAll=()=>{var E=this.props.list,m=[].concat(E);if(m.length===0)return!1;var s=m.findIndex(r=>!r.isChecked);return s===-1},this.checkUser=(E,m)=>{m.isChecked=!m.isChecked,this.context.checkUserOne(m,"checkedUser")},this.checkSingleUser=(E,m)=>{m.isChecked=!0,this.context.checkUserOne(m,"checkedUser")},this.checkDept=(E,m)=>{m.isChecked=!m.isChecked,this.context.checkListOne(m,"checkedDept","deptList")},this.checkPost=(E,m)=>{m.isChecked=!m.isChecked,this.context.checkListOne(m,"checkedPost","postList")},this.checkGroup=(E,m)=>{m.isChecked=!m.isChecked,this.context.checkListOne(m,"checkedGroup","groupList")},this.checkedCluster=(E,m)=>{m.isChecked=!m.isChecked,this.context.checkListOne(m,"checkedCluster","clusterList")}}renderList(){var E=this.props,m=E.userListType,s=E.list,r=E.t,y=E.isSingle,p=E.hidePosts;return m==="user"&&!y?s.map(t=>a().createElement("div",{className:"search-result-item",key:t.id,onClick:S=>{this.checkUser(S,t)}},a().createElement(Ce.Z,{checked:t.isChecked},a().createElement(Fe,{cardInfo:t},a().createElement("span",{className:"user-names"},a().createElement(fe.Z,{dataType:"userName",value:t.user_id,name:t.user_name,type:t.source_type}))),t.department_names&&t.department_names.length>0?a().createElement("span",{className:"user-dept"},a().createElement(we.Z,{sourceType:t.source_type,list:t.leaf_department_ids,nameList:t.department_names})):null))):m==="user"&&y?s.map(t=>a().createElement("div",{className:"search-result-item",key:t.id,onClick:S=>{this.checkSingleUser(S,t)}},a().createElement("div",{className:"user-name"},a().createElement(Fe,{cardInfo:t},a().createElement(fe.Z,{dataType:"userName",value:t.user_id,name:t.user_name,type:t.source_type}))),t.department_names&&t.department_names.length>0?a().createElement("span",{className:"user-name-dept"},a().createElement(we.Z,{sourceType:t.source_type,list:t.leaf_department_ids,nameList:t.department_names})):null)):m==="dept"?s.map(t=>a().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:S=>{this.checkDept(S,t)}},a().createElement(Ce.Z,{checked:t.isChecked,className:"department-left"},a().createElement("div",{className:"department-left-department"},a().createElement("div",{className:"user-name"},a().createElement(fe.Z,{dataType:"departmentName",value:t.id,name:t.department_name,type:t.source_type})),t.path&&t.path.length>0?a().createElement(Ae.Z,{title:t.path.join(">"),mouseEnterDelay:.8},a().createElement("span",{className:"user-name-dept"},a().createElement(we.Z,{list:t.department_infos||[],displayAll:!0}))):null)),a().createElement("div",{className:"department-right"},"(",t.userCount,r("common.userUnit"),")"))):m==="post"?s.map(t=>a().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:S=>{this.checkPost(S,t)}},a().createElement(Ce.Z,{checked:t.isChecked,className:"department-left"},a().createElement("div",{className:"department-left-department"},a().createElement("div",{className:"user-name"},t.name),t.path&&t.path.length>0?a().createElement(Ae.Z,{title:t.path.join(">"),mouseEnterDelay:.8},a().createElement("span",{className:"user-name-dept"},a().createElement("span",null,t.path.join(">")))):null)),!p&&a().createElement("div",{className:"department-right"},"(",t.userCount,r("common.userUnit"),")"))):m==="group"?s.map(t=>a().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:S=>{this.checkGroup(S,t)}},a().createElement(Ce.Z,{checked:t.isChecked,className:"department-left"},a().createElement("div",{className:"department-left-department"},a().createElement("div",{className:"user-name"},t.name),t.path&&t.path.length>0?a().createElement(Ae.Z,{title:t.path.join(">"),mouseEnterDelay:.8},a().createElement("span",{className:"user-name-dept"},a().createElement("span",null,t.path.join(">")))):null)),a().createElement("div",{className:"department-right"},"(",t.userCount,r("common.userUnit"),")"))):m==="cluster"?s.map(t=>a().createElement("div",{className:"search-result-dept-item",key:t.id,onClick:S=>{this.checkedCluster(S,t)}},a().createElement(Ce.Z,{checked:t.isChecked,className:"department-left"},a().createElement("span",{className:"user-name"},t.name)),a().createElement("div",{className:"department-right"},"(",t.userCount,r("common.userUnit"),")"))):null}render(){var E=this.props,m=E.t,s=E.isSingle,r=this.getIsCheckedAll(),y=a().createElement("div",{className:"search-result-all"},a().createElement(Ce.Z,{checked:r,onClick:p=>this.checkedAll(p,!r)},m("common.all")));return a().createElement("div",{className:"search-result-container more-height"},this.props.list.length>0?a().createElement(a().Fragment,null,!s&&y,this.renderList()):a().createElement(M.Z,{tipText:m("component.searchUserEmpty")}))}}u.contextType=re,u.defaultProps={list:[]};var f=(0,q.Z)()(u),I=e(18329),P=e(65202),n=e(91648),c=k.Z.TabPane,Z=o.Z.Option,$={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0 20px"},maskClosable:!1};class ne extends a().Component{constructor(E){var m;super(E);m=this,this.onCancel=()=>{var s=this.props.onCancel;this.setState({showCancel:!1}),s&&this.props.onCancel()},this.onOk=()=>{var s=this.props.onOk,r=this.state.contextData;this.setState({showCancel:!1});var y=0;if(s){var p=[];r.checkedDept.map(V=>(y+=V.isChecked?V.user_count:0,V.isChecked&&V.authorized!=="false"?p.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"dept"})):null));var t=[];r.checkedPost.map(V=>(y+=V.isChecked?V.user_count:0,V.isChecked?t.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"post"})):null));var S=[];r.checkedGroup.map(V=>(y+=V.isChecked?V.user_count:0,V.isChecked?S.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"group"})):null));var F=[];r.checkedUser.map(V=>{if(!V.reserve)return y+=V.isChecked?1:0,V.isChecked?F.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"user"})):null});var G=[];r.checkedCluster.map(V=>{if(!V.reserve)return y+=V.isChecked?1:0,V.isChecked?G.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"cluster"})):null});var z=[];if(r.checkedClass.map(V=>{if(!V.reserve)return y+=V.isChecked?1:0,V.isChecked?z.push((0,C.Z)((0,C.Z)({},V),{},{renderType:"class"})):null}),y>this.props.maxUserCount){H.default.warn(this.props.beyondLimitTip);return}s({dept:p,post:t,group:S,user:F,cluster:G,classes:z})}},this.getListParentId=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];r.forEach(Q=>{Q.isChecked=!0,Q.parentId=[""],Q.userCount=Q.userCount||Q.user_count||0});var F=s.map(Q=>Q.id),G=p.map(Q=>Q.id);if(F||G){var z=ee.ZP.OrgDialog.getDeptParent(),V={query_type:1,dept_ids:F,user_ids:G};Te.WY.post({url:z,data:(0,C.Z)({},V)}).then(Q=>{var te=Q.data.data;s.forEach(oe=>{oe.isChecked=!0;var ie=te.find(ve=>ve.id===oe.id)||{path:[]};oe.parentId=ie.path[0]?ie.path[0].split("/").slice(1):[],oe.userCount=ie.user_count||oe.userCount||oe.user_count||0}),y.forEach(oe=>{oe.isChecked=!0;var ie=te.find(ve=>ve.id===oe.id)||{path:[]};oe.parentId=ie.path[0]?ie.path[0].split("/").slice(1):[],oe.userCount=oe.userCount||oe.user_count||0}),p.forEach(oe=>{oe.isChecked=!0;var ie=[];te.forEach(ve=>{ve.id===oe.id&&ve.path.map(Se=>{ie.push(...Se.split("/").slice(1))})}),oe.parentId=Array.from(new Set(ie))}),t.forEach(oe=>{oe.isChecked=!0;var ie=te.find(ve=>ve.id===oe.id)||{path:[]};oe.parentId=ie.path[0]?ie.path[0].split("/").slice(1):[],oe.userCount=oe.userCount||oe.user_count||0}),S.forEach(oe=>{oe.isChecked=!0;var ie=te.find(ve=>ve.id===oe.id)||{path:[]};oe.parentId=ie.path[0]?ie.path[0].split("/").slice(1):[],oe.userCount=oe.userCount||oe.user_count||0}),m.setState({contextData:(0,C.Z)((0,C.Z)({},m.state.contextData),{},{checkedDept:s,checkedGroup:r,checkedPost:y,checkedUser:p,checkedCluster:t,checkedClass:S})})})}else r.length>0?m.setState({contextData:(0,C.Z)((0,C.Z)({},m.state.contextData),{},{checkedGroup:r})}):m.setState({contextData:(0,C.Z)((0,C.Z)({},m.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[]})})},this.initHidePostsStatus=s=>{var r=this.state.contextData;this.setState({contextData:(0,C.Z)((0,C.Z)({},r),{},{hidePosts:s})})},this.initTypeList=(s,r,y)=>{y.forEach(p=>{var t=this.findItemIndex(p.id,r);t===-1?p.isChecked=!1:p.isChecked=this.state.contextData[r][t].isChecked}),this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{[s]:y})})},this.initTypeUser=(s,r)=>{var y=r||[...this.state.contextData[s]],p=this.props.reserveUser;y.forEach(t=>{var S=this.findItemIndex(t.id,"checkedUser");p.findIndex(F=>F.id===t.id)!==-1&&(t.reserve=!0),S===-1?t.isChecked=!1:t.isChecked=this.state.contextData.checkedUser[S].isChecked}),this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{[s]:y})})},this.toggleDisplayItem=(s,r)=>{var y=this.findItemIndex(s.id,r);return y===-1?r.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[r]:this.checkListParentId(r,s),checkedUser:s.isChecked?this.checkParentId(this.state.contextData.checkedUser,s.id):this.state.contextData.checkedUser}:{[r]:[...this.state.contextData[r],s]}:r.match(/checkedPost|checkedDept|checkedGroup|checkedCluster|checkedClass/)?{[r]:this.checkListParentId(r,s),checkedUser:s.isChecked?this.checkParentId(this.state.contextData.checkedUser,s.id):this.state.contextData.checkedUser}:{checkedUser:this.getNewList(s,"checkedUser",!0),[r]:this.getNewList(s,r)}},this.toggleDisplayList=(s,r,y,p,t,S,F)=>{this.deleteAllName(r),this.deleteAllName(p),this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{[s]:r,[y]:p,[t]:S,checkedUser:F})})},this.deleteAllName=s=>{s.map(r=>(r.all_name&&typeof r.all_name=="object"&&delete r.all_name,r))},this.checkUserOne=(s,r)=>{this.props.single?this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{checkedUser:[s],[r]:r==="checkedUser"?[s]:this.getSingleUserList(s,r)})}):this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),this.toggleDisplayItem(s,r))})},this.dealAuthorizedFalseChecked=function(){var s=(0,j.Z)(N().mark(function r(y){var p,t,S,F,G,z,V,Q,te;return N().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return p=m.state.contextData,t=p.cacheId,S=p.checkedDept,F=p.checkedUser,G={checkedDept:[],checkedUser:[]},ie.prev=2,ie.next=5,rt({departmentId:y.id,cache_id:t});case 5:z=ie.sent,V=z.data,Q=V.departments,te=V.users,Q.push(y),Q.map(ve=>(ve.isChecked=!0,ve.name=ve.department_name,ve.parentId=ve.parent_ids.split("/"),ve.parentAuthorize=!1,ve.userCount=ve.user_count,ve)),te.map(ve=>(ve.isChecked=!0,ve.name=ve.user_name,ve.parentAuthorize=!1,m.toggleDisplayItem(ve,"deptUser"),ve)),G=(0,C.Z)((0,C.Z)({},G),{},{checkedUser:ae()(te,F,"id"),checkedDept:ae()(Q,S,"id")}),ie.next=16;break;case 13:ie.prev=13,ie.t0=ie.catch(2),console.error("\u83B7\u53D6\u90E8\u95E8\u7BA1\u8F96\u8303\u56F4\u51FA\u9519",ie.t0);case 16:return ie.abrupt("return",G);case 17:case"end":return ie.stop()}},r,null,[[2,13]])}));return function(r){return s.apply(this,arguments)}}(),this.dealAuthorizedFalseUnChecked=s=>{var r=this.state.contextData,y=r.checkedDept,p=r.checkedUser,t=r.deptUser,S=[],F=y.filter(z=>z.parent_ids.split("/").indexOf(s.id)===-1),G=p.filter(z=>{var V=z.department_ids.indexOf(s.id)===-1;return V||S.push(z.id),V});return{checkedDept:F,checkedUser:G,deptUser:S.length>0?t.map(z=>(S.indexOf(z.id)>-1&&(z.isChecked=!1),z)):t}},this.checkListOne=function(){var s=(0,j.Z)(N().mark(function r(y,p,t){var S;return N().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(S={checkedDept:[],checkedUser:[]},!(y.authorized==="false"&&p==="checkedDept")){G.next=12;break}if(!y.isChecked){G.next=8;break}return G.next=5,m.dealAuthorizedFalseChecked(y);case 5:G.t0=G.sent,G.next=9;break;case 8:G.t0=m.dealAuthorizedFalseUnChecked(y);case 9:S=G.t0,G.next=14;break;case 12:y.parentAuthorize===!1&&y.isChecked===!1&&m.unCheckedParentDept(y,p),S=(0,C.Z)({[t]:m.getNewList(y,t,!1)},m.toggleDisplayItem(y,p));case 14:m.setState({contextData:(0,C.Z)((0,C.Z)({},m.state.contextData),S)});case 15:case"end":return G.stop()}},r)}));return function(r,y,p){return s.apply(this,arguments)}}(),this.removeCheckedUser=s=>{this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{checkedUser:this.getNewList(s,"checkedUser"),deptUser:this.getNewList(s,"deptUser"),postUser:this.getNewList(s,"postUser"),groupUser:this.getNewList(s,"groupUser"),searchResult:this.getNewList(s,"searchResult")})})},this.unCheckedParentDept=(s,r)=>{var y=this.state.contextData.checkedDept,p=y.filter(F=>F.authorized==="false"&&r==="checkedUser"?s.department_ids.indexOf(F.id)>-1:r==="checkedDept"?s.parentId.indexOf(F.id)>-1:!1),t=(0,W.Z)(p,1),S=t[0];S&&(S.isChecked=!1,this.toggleDisplayItem(S,"checkedDept"),this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{checkedDept:p})}))},this.checkListParentId=(s,r)=>{var y=[...this.state.contextData[s]],p=this.findItemIndex(r.id,s);return y.forEach(t=>{t.id!==r.id&&t.parentId.indexOf("".concat(r.id))!==-1?t.isChecked=!1:t.id===r.id&&(t.isChecked=r.isChecked)}),p===-1&&y.push(r),y},this.checkParentId=(s,r)=>{var y=[];return s.forEach(p=>{var t=typeof p.parentId!="undefined"?p.parentId:p.department_ids||[];t.indexOf(r)===-1&&y.push(p)}),y},this.getNewList=(s,r,y)=>{var p=[...this.state.contextData[r]],t=this.findItemIndex(s.id,r);return t===-1?y&&p.push(s):p[t].isChecked=s.isChecked,p},this.getSingleUserList=(s,r)=>{var y=[...this.state.contextData[r]];return y.forEach(p=>{p.id===s.id?p.isChecked=s.isChecked:p.isChecked=!1}),y},this.findItemIndex=(s,r)=>this.state.contextData[r].findIndex(y=>y.id===s),this.clearTabPanelList=(s,r)=>{this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{[s]:[],[r]:[]})})},this.getTabs=()=>{var s=[],r,y,p=this.props,t=p.t,S=p.filterAuthOpen,F=p.disableHidden,G=p.scrollFlag,z=this.state.contextData,V=z.canUseGroups,Q=z.canUseClass;return this.state.displayType.forEach(te=>{switch(te){case"dept":s.push({label:t("component.orgDialogDeptLabel"),key:"dept",defaultBreadNav:{value:"",label:"",sourceType:""},queryType:1});break;case"group":s.push({label:t("component.orgDialogGroupLabel"),key:"group",queryType:2,defaultBreadNav:{value:"",label:t("component.userGroup")}});break;case"post":s.push({label:t("component.orgDialogPostLabel"),key:"post",defaultBreadNav:{value:"1",label:t("common.post")},queryType:3});break;case"cluster":V&&s.push({label:t("component.orgDialogClusterLabel"),key:"cluster",defaultBreadNav:{value:"",label:""},queryType:4});break;case"class":Q&&s.push({label:t("component.orgDialogClassLabel"),key:"class",defaultBreadNav:{value:"",label:""},queryType:5});break}}),s.length===1?y=a().createElement(dt,{defaultBreadNav:s[0].defaultBreadNav,queryType:s[0].queryType,type:s[0].key,filterAuthOpen:S,disableHidden:F,scrollFlag:G}):(r=s.map(te=>a().createElement(c,{tab:te.label,key:te.key},a().createElement(dt,{defaultBreadNav:te.defaultBreadNav,queryType:te.queryType,type:te.key,filterAuthOpen:S,disableHidden:F,scrollFlag:G}))),y=a().createElement(k.Z,null,r)),y},this.handleSearch=(s,r)=>{var y=this.state.selectType;y==="user"?this.getUserList(s,r):y==="dept"?this.getDeptList(s):y==="post"?this.getPostList(s):y==="cluster"?this.getClusterResult(s):y==="class"?this.getClassResult(s):this.getGroupList(s)},this.getClusterResult=s=>{var r=ee.ZP.OrgDialog.getClusterList(),y={keyword:s};Te.WY.get({url:r,params:y}).then(p=>{this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedCluster",p.data.data.map(t=>({name:t.name,userCount:t.user_count,id:t.id,parentId:[""]})))})},this.getUserList=(s,r)=>{var y=ee.ZP.OrgDialog.getUserByName(),p={user_name:r===""?s:"",filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType,userIds:r};Te.WY.get({url:y,params:p}).then(t=>{t.data.users&&t.data.users.forEach(S=>{S.name=S.user_name}),this.setState({showCancel:!0}),this.initTypeUser("searchResult",t.data.users||[])})},this.getDeptList=s=>{var r=ee.ZP.Organization.queryDept(),y={department_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Te.WY.get({url:r,params:y}).then(p=>{p.data.departments&&p.data.departments.forEach(t=>{t.name=t.department_name,t.parentId=t.parent_ids?t.parent_ids.split("/"):[],t.userCount=t.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedDept",p.data.departments||[])})},this.getPostList=s=>{var r=ee.ZP.Organization.addPost(),y={post_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Te.WY.get({url:r,params:y}).then(p=>{p.data.posts&&p.data.posts.forEach(t=>{t.name=t.post_name,t.parentId=t.parent_id?t.parent_id.split("/"):[],t.userCount=t.user_count}),this.setState({hidePosts:p.data.hide_posts,showCancel:!0}),this.initTypeList("searchResult","checkedPost",p.data.posts||[])})},this.getGroupList=s=>{var r=ee.ZP.Organization.getGroupList(),y={group_name:s,filter_auth:!this.props.filterAuthOpen,user_type:this.props.userType};Te.WY.get({url:r,params:y}).then(p=>{p.data.groups&&p.data.groups.forEach(t=>{t.name=t.group_name,t.parentId=t.parent_id?t.parent_id.split("/"):[],t.userCount=t.user_count}),this.setState({showCancel:!0}),this.initTypeList("searchResult","checkedGroup",p.data.groups||[])})},this.checkAllResult=s=>{var r=this.state,y=r.selectType,p=r.contextData,t="checked".concat(y.charAt(0).toUpperCase()).concat(y.substr(1)),S=[...p[t]],F=p.searchResult.map(z=>{z.isChecked=s;var V=S.findIndex(Q=>Q.id===z.id);return V!==-1?S[V].isChecked=s:S.push(z),z}),G=S;this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{[t]:G,searchResult:F})})},this.clearSelectedAll=()=>{var s=this.state.contextData,r=s.checkedDept,y=s.checkedGroup,p=s.checkedPost,t=s.checkedUser,S=s.checkedCluster,F=s.checkedClass,G=s.deptList,z=s.groupList,V=s.postList,Q=s.clusterList,te=s.classList,oe=s.deptUser,ie=s.groupUser,ve=s.postUser,Se=Me=>(Me.forEach(Be=>{Be.isChecked=!1}),Me);this.setState({contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],deptList:r.length>0?Se(G):G,groupList:y.length>0?Se(z):z,postList:p.length>0?Se(V):V,clusterList:S.length>0?Se(Q):Q,classList:F.length>0?Se(te):te,deptUser:t.length>0?Se(oe):oe,groupUser:t.length>0?Se(ie):ie,postUser:t.length>0?Se(ve):ve})})},this.handleCancel=()=>{this.setState({showCancel:!1})},this.handleSelectChange=s=>{this.setState({selectType:s,contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{searchResult:[]})})},this.state={title:E.title||E.t("component.chooseAssignScope"),displayType:E.displayType?E.displayType:["dept"],selectType:"user",showCancel:!1,hidePosts:!1,contextData:{showUserCount:E.showUserCount,deptList:[],groupList:[],postList:[],clusterList:[],classList:[],deptUser:[],groupUser:[],postUser:[],checkedDept:[],checkedGroup:[],checkedPost:[],checkedUser:[],checkedCluster:[],checkedClass:[],searchResult:[],onlyUser:E.onlyUser,onlyDept:E.onlyDept,onlyPost:E.onlyPost,canUseGroups:E.useGroups,canUseClass:E.useClass,single:E.single,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,userType:this.props.userType,initTypeList:this.initTypeList,initTypeUser:this.initTypeUser,toggleDisplayItem:this.toggleDisplayItem,toggleDisplayList:this.toggleDisplayList,checkListOne:this.checkListOne,checkUserOne:this.checkUserOne,removeCheckedUser:this.removeCheckedUser,clearTabPanelList:this.clearTabPanelList,maxDeptUserCount:E.maxDeptUserCount,hidePosts:!1,initHidePostsStatus:this.initHidePostsStatus,cacheId:(0,n.Z)(),clearSelectedAll:this.clearSelectedAll}}}componentDidUpdate(E){if(E.visible!==this.props.visible&&this.props.visible){var m=this.props.initData,s=m.dept,r=m.group,y=m.post,p=m.user,t=m.cluster,S=m.classes;console.warn(p,"user");var F=this.props,G=F.reserveUser,z=F.t,V=F.onlyDept,Q=F.onlyPost;G.forEach(te=>{te.reserve=!0}),this.setState({title:this.props.title||z("component.chooseAssignScope"),displayType:this.props.displayType?this.props.displayType:["dept"],selectType:Q?"post":V?"dept":"user",contextData:(0,C.Z)((0,C.Z)({},this.state.contextData),{},{deptList:[],groupList:[],postList:[],deptUser:[],clusterList:[],classList:[],groupUser:[],postUser:[],searchResult:[],onlyUser:this.props.onlyUser,onlyDept:this.props.onlyDept,canUseGroups:this.props.useGroups,canUseClass:this.props.useClass,onlyPost:this.props.onlyPost,asyncDeptTree:this.props.asyncDeptTree,oneDisplayType:this.props.displayType?this.props.displayType.length<=1:!0,cacheId:(0,n.Z)()})},()=>{this.getListParentId(s,r,y,p.concat(G),t,S)})}}componentWillUnmount(){ht({cacheId:this.state.contextData.cacheId}).then(()=>{console.warn("\u6E05\u9664\u7F13\u5B58\u6210\u529F")}).catch(E=>{console.error("\u6E05\u9664\u7F13\u5B58\u5931\u8D25",E)})}render(){var E=this.getTabs(),m=this.props,s=m.t,r=m.onlyUser,y=m.onlyDept,p=m.onlyPost,t=m.displayType,S=m.useGroups,F=m.useClass,G=m.onlyChoosePost,z=(0,P.p)(),V=this.state,Q=V.showCancel,te=V.selectType,oe=V.hidePosts;return $.okText=this.props.okText||s("common.ok"),a().createElement(I.ZP,(0,K.Z)({},$,this.props.modalConfig,{visible:this.props.visible,title:this.state.title,wrapClassName:[this.props.className,"cl-org-modal"],onCancel:this.onCancel,onOk:this.onOk}),a().createElement(re.Provider,{value:this.state.contextData},a().createElement("div",{className:"cl-org"},a().createElement("div",{className:"cl-org-left"},this.props.visible?a().createElement("div",{className:"cl-org-left__top"},a().createElement(J.Z.Group,{compact:!0},a().createElement(o.Z,{className:"cl-org-left__top__select",value:te,style:{width:80},onChange:this.handleSelectChange},a().createElement(Z,{value:"user",disabled:y||p||G},s("authGroup.userLabel")),a().createElement(Z,{value:"dept",disabled:r||G},s("setting.deptLabel")),a().createElement(Z,{value:"post",disabled:!p&&(y||r)||t.length===1},s("common.post")),a().createElement(Z,{value:"group",disabled:y||r||t.length===1||G},s("component.userGroup")),S?a().createElement(Z,{value:"cluster"},s("component.useCluster")):null,F?a().createElement(Z,{value:"class"},s("component.useClass")):null),a().createElement(A,{selectType:te,onSearch:this.handleSearch,showCancel:Q,disableChange:this.props.disableChange})),Q?a().createElement("div",{className:"cl-org-left__top__cancel",onClick:this.handleCancel,style:{color:z}},s("common.cancel")):null):null,Q?a().createElement(f,{isSingle:this.props.single,list:this.state.contextData.searchResult,userListType:te,checkedAll:this.checkAllResult,hidePosts:oe}):E),a().createElement("div",{className:"cl-org-right"},a().createElement(h,null)))))}}ne.defaultProps={visible:!0,showUserCount:!0,displayType:["dept","group","post","cluster","class"],initData:{dept:[],post:[],group:[],user:[],cluster:[],classes:[]},reserveUser:[],onlyUser:!1,onlyDept:!1,onlyPost:!1,useGroups:!1,useClass:!1,asyncDeptTree:!0,userType:"active",single:!1,maxUserCount:Infinity,filterAuthOpen:!1,disableHidden:!1,beyondLimitTip:"",onOk:()=>{},modalConfig:{},maxDeptUserCount:0,onlyChoosePost:!1,scrollFlag:!1};var pe=(0,q.Z)()(ne)},99891:function(De,le,e){"use strict";var K=e(12924),R=e.n(K),J=e(28216),W=e(91768),j=e(37055),w=e(10237),H=e(60667);class C extends R().PureComponent{constructor(T){super(T);this.getWaterMarkText=k=>{var U=this.props.userInfo,N=U.jobNumber,L=localStorage.getItem("waterMarkPostName"),a=[],q=k.find(ae=>ae.type==="content_setting"),O=k.find(ae=>ae.type==="content_custom");return q.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),O.param.checked==="true"&&O.param.comment[0]!==""&&this.setState({commentText:O.param.comment[0]}),q.param.comment.indexOf("position")!==-1&&L&&L!==""&&a.push("".concat(L)),q.param.comment.indexOf("jobnumber")!==-1&&N&&N!==""&&a.push("".concat(N)),a.join("-")},this.getWaterMarkApplication=k=>{var U=this.props.scenes,N=k.find(L=>L.type==="application_scenario");N.param.comment.indexOf(U)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=k=>{var U=k.find(N=>N.type==="dispersive");this.setState({isDispersive:U.param.checked==="true"})},this.getDynamicSet=()=>{var k=j.ZP.advancedSetting.dynamicWaterMarkNew(),U={access_token:window.localStorage.getItem("token")};w.WY.get({url:k,params:U}).then(N=>{var L=JSON.parse(N.data.actions);this.setState({waterMarkText:this.getWaterMarkText(L),actions:L}),this.getWaterMarkApplication(L),this.getWaterIsDispersive(L)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var T=localStorage.getItem("waterMarkPostName");T===""||T===null?this.getPostName():this.getDynamicSet()}getPostName(){var T=j.ZP.advancedSetting.getPostName();w.WY.get({url:T}).then(k=>{localStorage.setItem("waterMarkPostName",k.data.post_names[0]||""),this.getDynamicSet()})}render(){var T=this.state,k=T.showWaterMark,U=T.waterMarkCount,N=T.isUserName,L=T.isDispersive,a=T.waterMarkText,q=T.actions,O=T.commentText,ae=this.props.userInfo,B=ae.name,_=ae.unionid,se=ae.sourceType;return R().createElement("div",{className:"common-watermark"},k&&new Array(U).fill(0).map((Y,ce)=>R().createElement("div",{key:ce,className:"common-watermark-item ".concat(L?"isDispersive":"")},R().createElement("span",{className:"common-watermark-item-content"},O!==""&&R().createElement("span",{className:"item-part"},O),N&&R().createElement("span",null,O!==""&&R().createElement("span",null,"-"),R().createElement(H.Z,{dataType:"userName",value:_,name:B,type:se})),R().createElement("span",{className:"item-part"},(N||O!=="")&&a!==""&&R().createElement("span",null,"-"),a)))))}}var x=o=>({userInfo:o.user});le.Z=(0,J.$j)(x)((0,W.Z)()(C))},80430:function(De,le,e){"use strict";var K=e(12924),R=e.n(K),J=e(60667),W=j=>{var w=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},U=k.department_ids.split("/"),N=k.department_names.split("/"),L=U.map((a,q)=>R().createElement(J.Z,{key:a,dataType:"departmentName",value:a,name:N[q],type:k.source_type}));return R().createElement(R().Fragment,null,L.map((a,q)=>R().createElement("span",{key:a},a,q===N.length-1?"":"/")))},H=T=>R().createElement(J.Z,{dataType:"departmentName",value:T.department_id,name:T.department_name,type:T.source_type}),C=()=>{var T=j.list,k=T===void 0?[]:T,U=j.isBlock;if(!k.length)return null;var N=k.map(L=>w(L));return N.length&&N.length>1?R().createElement(R().Fragment,null,N.map((L,a)=>U?R().createElement("div",{key:L},L):R().createElement("span",{key:L},L,a===N.length-1?"":"\uFF0C"))):R().createElement(R().Fragment,null,N[0]||"")},x=()=>{var T=j.list,k=j.nameList,U=j.sourceType,N=j.isBlock,L=T.map((a,q)=>H({department_id:a,department_name:k[q],source_type:U}));return R().createElement(R().Fragment,null,L.map((a,q)=>N?R().createElement("div",{key:a},a):R().createElement("span",{key:a},a,q===L.length-1?"":"\uFF0C")))},o=()=>j.displayAll?C():x();return o()};W.defaultProps={list:[],nameList:[],sourceType:"",displayAll:!1,isBlock:!1},le.Z=W},60667:function(De,le,e){"use strict";e.d(le,{Z:function(){return C}});var K=e(33565),R=e(12924),J=e.n(R),W=e(28216);function j(x){var o=x.type,T=x.openid,k=x.from,U=(0,R.useRef)(null);return(0,R.useLayoutEffect)(()=>{k==="vue"?window.parent.WWOpenData.bind(U.current):WWOpenData.bind(U.current)}),J().createElement("ww-open-data",{ref:U,type:o,openid:T})}var w=x=>{var o=x.wxWorkApiFlag,T=x.appType,k=x.from,U=(0,R.useState)(!1),N=(0,K.Z)(U,2),L=N[0],a=N[1];(0,R.useEffect)(()=>{var ae=localStorage.getItem("qyWechatBook");(T!=="wx_app"||o||ae==="false"||k==="vue"||k==="taro")&&a(!0)},[o,T,k]);var q=(0,R.useCallback)(()=>{var ae=x.type,B=x.value,_=x.name,se=_===void 0?"":_;switch(console.warn(x,"props"),ae){case"wx_sync":{var Y=x.dataType;return B?J().createElement(j,{from:k,type:Y,openid:B}):se}default:return se}},[x]),O=()=>{var ae=x.name,B=x.dataType,_=localStorage.getItem("qyWechatBook");if(B===""||_==="false")return ae;if(k==="vue"||k==="taro")return q();switch(x.appType){case"wx_app":return q();default:return ae}};return L?O():x.name};w.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var H=x=>({appType:x.user.appType,wxWorkApiFlag:x.user.wxWorkApiFlag}),C=(0,W.$j)(H)(w)},70075:function(De,le,e){"use strict";e.d(le,{a:function(){return N}});var K=e(62029),R=e(33565),J=e(81211),W=e(47673),j=e(4107),w=e(12924),H=e.n(w),C=e(47444),x=e(60006),o=e.n(x),T=e(43859),k=j.Z.TextArea;function U(L){var a=L.char,q=L.displayType,O=L.LimitLength,ae=L.value,B=L.valueSlice,_=L.showCount,se=L.onChange,Y=L.disabledInput,ce=(0,J.Z)(L,["char","displayType","LimitLength","value","valueSlice","showCount","onChange","disabledInput"]),ee=(0,w.useState)(()=>B?(0,C.B)({value:ae,LimitLength:O,char:a}):L.defaultValue||""),X=(0,R.Z)(ee,2),i=X[0],he=X[1],re=(0,w.useRef)({evtName:""});(0,w.useEffect)(()=>{he(B?(0,C.B)({value:ae,LimitLength:O,char:a,disabledInput:Y}):ae)},[ae,O,a,B,Y]),(0,w.useEffect)(()=>{if(re.current.evtName==="input"){q==="Custom"?L.onFieldChange(i):se(i),L.onInput&&L.onInput(i),re.current.evtName="";return}B&&(q==="Custom"?L.onFieldChange(i):se(i),L.onInput&&L.onInput(i))},[i,q,B]);var Pe=ge=>{re.current.evtName="input";var Ie=ge.target,Ce=Ie.value,Ne=(0,C.B)({value:Ce,LimitLength:O,char:a,disabledInput:Y});he(Ne)},ye=(0,w.useMemo)(()=>(0,C.S)({inputValue:i,LimitLength:O,char:a,showCount:_,disabledInput:Y}),[i,O,a,_,Y]),fe=ye.dataCount,ue=ye.usedLength;return H().createElement("div",{className:"".concat(o()["textarea-wrap"]," ").concat(ue&&O&&ue>O?o()["textarea-wrap-error"]:""),"data-count":fe},q==="Custom"?H().createElement(k,(0,K.Z)({},ce,{value:i,onInput:Pe})):H().createElement(k,(0,K.Z)({},ce,{value:i,onInput:Pe})))}U.defaultProps={valueSlice:!1,disabledInput:!0,onChange:()=>{},onInput:()=>{},char:!1,autoSize:{minRows:4,maxRows:10},displayType:""};var N=U;le.Z=(0,T.Z)(U)},7584:function(De,le,e){"use strict";e.d(le,{t:function(){return N}});var K=e(47673),R=e(4107),J=e(62029),W=e(33565),j=e(81211),w=e(12924),H=e.n(w),C=e(80991),x=e(47444),o=e(60006),T=e.n(o),k=e(43859);function U(L){var a=L.isPreview,q=L.char,O=L.displayType,ae=L.width,B=L.LimitLength,_=L.showCount,se=L.value,Y=L.valueSlice,ce=L.onChange,ee=L.disabledInput,X=(0,j.Z)(L,["isPreview","char","displayType","width","LimitLength","showCount","value","valueSlice","onChange","disabledInput"]),i=(0,w.useState)(()=>Y?(0,x.B)({value:se,LimitLength:B,char:q}):L.defaultValue||""),he=(0,W.Z)(i,2),re=he[0],Pe=he[1],ye=(0,w.useRef)({evtName:""});(0,w.useEffect)(()=>{Pe(Y?(0,x.B)({value:se,LimitLength:B,char:q,disabledInput:ee}):se)},[se,B,q,Y,ee]),(0,w.useEffect)(()=>{if(ye.current.evtName==="input"){O==="Custom"?L.onFieldChange(re):ce(re),L.onInput&&L.onInput(re),ye.current.evtName="";return}Y&&(O==="Custom"?L.onFieldChange(re):ce(re),L.onInput&&L.onInput(re))},[re,O,Y]);var fe=Ne=>{ye.current.evtName="input";var be=Ne.target,xe=be.value,Ae=(0,x.B)({value:xe,LimitLength:B,char:q,disabledInput:ee});Pe(Ae)},ue=(0,w.useMemo)(()=>(0,x.S)({inputValue:re,LimitLength:B,char:q,showCount:_,disabledInput:ee}),[re,B,q,_,ee]),ge=ue.dataCount,Ie=ue.usedLength,Ce=(0,w.useRef)(null);return(0,w.useEffect)(()=>{Ce&&Ce.current&&(L.autoFocus==="true"?Ce.current.focus():Ce.current.blur())},[L.autoFocus]),H().createElement("div",{className:"".concat(T()["input-wrap"]," ").concat(Ie&&B&&Ie>B?T()["input-wrap-error"]:""),"data-count":ge,style:{width:ae||void 0}},O==="Custom"?H().createElement(R.Z,(0,J.Z)({},X,{value:re,disabled:a,onInput:fe})):H().createElement(R.Z,(0,J.Z)({},X,{value:re,ref:Ce,disabled:a,onInput:fe})))}U.defaultProps={valueSlice:!1,disabledInput:!0,onChange:()=>{},onInput:()=>{},char:!1,LimitLength:void 0,showCount:!1,displayType:"",width:void 0};var N=U;le.Z=(0,k.Z)((0,C.$j)(U))},47444:function(De,le,e){"use strict";e.d(le,{B:function(){return R},S:function(){return J}});var K=e(2396);function R(W){var j=W.value,w=W.LimitLength,H=W.char,C=W.disabledInput,x=j&&typeof j=="string"?j:"",o=x;return C&&H&&w&&(0,K.$s)(o)>w&&(o=x.substring(0,(0,K.rw)(x,w))),o}function J(W){var j=W.inputValue,w=W.LimitLength,H=W.char,C=W.showCount,x="",o=j&&typeof j=="string"?j:"",T=H?Math.ceil((0,K.$s)(o)):o.length;return C&&w&&(x="".concat(T,"/").concat(w)),{dataCount:x,usedLength:T}}},19864:function(De,le,e){"use strict";var K=e(62999),R=e(85733),J=e(12924),W=e.n(J),j=e(80991),w=R.Z.TreeNode;class H extends W().Component{constructor(x){super(x);this.onChange=o=>{var T=this.state.levelArr,k=this.props,U=k.formik,N=k.addClassify;if(N){var L=!0;T.forEach(a=>{a.id===o.toString()&&(L=!1)}),L?this.props.onModalChange(!1):this.props.onModalChange(!0)}U.setFieldValue("classify_id",o)},this.renderTreeNodes=o=>{var T=this.state.levelArr;return o.map(k=>k.childes.length!==0?W().createElement(w,{title:k.name,key:k.id,value:k.id,isLeaf:!1,dataRef:k},this.renderTreeNodes(k.childes)):(k.level===3&&T.push({level:k.level,id:k.id}),W().createElement(w,{title:k.name,dataRef:k,value:k.id,key:k.id,isLeaf:!0})))},this.state={levelArr:[]}}render(){var x=this.props,o=x.placeholder,T=x.style,k=x.classifyData,U=x.defaultValue,N=x.isView;return W().createElement(R.Z,{style:T,onChange:this.onChange,placeholder:o,value:U,disabled:N},this.renderTreeNodes(k))}}le.Z=(0,j.$j)(H)},76466:function(De,le,e){"use strict";e.d(le,{Z:function(){return Et}});var K=e(20228),R=e(11382),J=e(57663),W=e(71577),j=e(62029),w=e(57361),H=e(9754),C=e.n(H),x=e(12924),o=e.n(x),T=e(91512),k=e(68654),U=e(91768),N=e(4412),L=e.n(N);class a extends o().Component{render(){var v=this.props.t;return o().createElement("div",{className:"net-preview"},o().createElement("div",{className:"net-preview-center"},o().createElement("img",{src:L(),alt:"picture"}),o().createElement("h2",null,v("localStorage.tip")),o().createElement("p",null,v("localStorage.banPreview"))))}}var q=(0,U.Z)()(a),O=e(88986),ae=e(34792),B=e(48086),_=e(28216),se=e(21594),Y=e(41225),ce=e(10237),ee=(me,v)=>(0,O.Z)({id:me||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},v),X=ee;class i extends x.Component{constructor(){super(...arguments);this.setupPlayer=v=>{var h=this.props,d=h.onVideoReady,l=d===void 0?()=>{}:d,g=h.playerConfig,D=h.contentType;v&&v==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,O.Z)((0,O.Z)({},g),{},{contentType:D==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:g.source,autoplay:g.autoplay,width:g.width,id:g.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:A=>{A.on("sourceloaded",M=>{var u=M.paramData,f=u.desc,I=u.definition;A.getComponent("VideoQuality")&&A.getComponent("VideoQuality").setCurrentQuality(f,I,g.id)}),A.on("ready",()=>{l()}),this.playerInstance=A,this.setPlayerConfig()}}))}}componentDidUpdate(v){v.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(v){this.player&&this.player.seek(v)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(v){this.player.setSpeed(v)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var v=this.props,h=v.onPlay,d=h===void 0?()=>{}:h,l=v.onTimeUpDate,g=l===void 0?()=>{}:l,D=v.onEnd,A=D===void 0?()=>{}:D,M=v.onPause,u=M===void 0?()=>{}:M,f=v.onError,I=f===void 0?()=>{}:f,P=this.playerInstance;P.on("play",()=>{d()}),P.on("pause",()=>{u()}),P.on("timeupdate",n=>{g(n)}),P.on("ended",()=>{A()}),P.on("error",(0,w.Z)(C().mark(function n(){return C().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:I();case 1:case"end":return Z.stop()}},n)})))}render(){var v=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:v.id}))}}i.playerInstance=null,i.defaultProps={playerConfig:X(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var he=i,re=(me,v)=>(0,O.Z)({id:me||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},v),Pe=re;class ye extends x.Component{constructor(){super(...arguments);this.setupPlayer=v=>{v&&v==="resetPlayer"&&this.player.dispose();var h=this.props,d=h.playerConfig,l=h.onVideoReady,g=l===void 0?()=>{}:l;this.player=new Aliplayer(d,D=>{D.on("sourceloaded",A=>{var M=A.paramData,u=M.desc,f=M.definition;D.getComponent("VideoQuality")&&D.getComponent("VideoQuality").setCurrentQuality(u,f,d.id)})}),this.player.on("ready",()=>{g()})},this.setPlayerConfig=()=>{var v=this.props,h=v.onPlay,d=h===void 0?()=>{}:h,l=v.onTimeUpDate,g=l===void 0?()=>{}:l,D=v.onEnd,A=D===void 0?()=>{}:D,M=v.onPause,u=M===void 0?()=>{}:M,f=v.onError,I=f===void 0?()=>{}:f;this.player.on("play",()=>{d()}),this.player.on("pause",()=>{u()}),this.player.on("timeupdate",P=>{g(P)}),this.player.on("ended",()=>{A()}),this.player.on("error",(0,w.Z)(C().mark(function P(){return C().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:I();case 1:case"end":return c.stop()}},P)})))},this.getPlayerContent=v=>{this.playerContainer=v}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(v){v.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(v){this.player.seek(v)}exitFull(){var v=this.player.fullscreenService;v&&v.isFullScreen&&v.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var v=this.props.playerConfig;return o().createElement("div",{className:"common-video-player-container"},o().createElement("div",{id:v.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}ye.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:Pe()};var fe=ye;class ue{constructor(v){this.hasCreated=!1,this.definition="",this.getQuality=v}createEl(v,h){var d=h._options&&h._options.language,l=h._el.id;this.isEn=d&&d==="en-us";var g=(0,se.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),D=(0,se.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),A=document.querySelector("#".concat(l," .prism-controlbar"));A.appendChild(g),v.appendChild(D)}setCurrentQuality(v,h,d){var l=document.querySelector("#".concat(d," .current-quality"));l.innerText=v,l.dataset.def=h,this.definition=h;var g=document.querySelector("#".concat(d," .quality-list")),D=g.querySelector(".current");D&&(D.className="");var A=g.querySelector('li[data-def="'.concat(h,'"]'));A&&(A.className="current")}created(v){this._urls=v._urls;var h=v._el.id,d=document.querySelector("#".concat(h," .current-quality")),l=document.querySelector("#".concat(h," .quality-list")),g=document.querySelector("#".concat(h," .quality-modal")),D=this._urls.map(u=>'<li data-def="'.concat(u.definition,'">').concat(u.desc,"</li>"));if(l.innerHTML=D.join(""),this.hasCreated==!1&&this.definition){var A=l.querySelector('li[data-def="'.concat(this.definition,'"]'));A.className="current"}this.hasCreated=!0;var M=null;d.onclick=()=>{l.style.display="block"},d.onmouseleave=()=>{M=setTimeout(()=>{l.style.display="none"},100)},l.onmouseenter=()=>{clearTimeout(M)},l.onmouseleave=()=>{l.style.display="none"},l.onclick=u=>{var f=u.target,I=f.dataset.def,P=f.innerText;if(I&&f.className!=="current"){var n=this._urls.find(c=>c.definition===I);v.loadByUrl(n.Url,v.getCurrentTime(),!0,!0),this.setCurrentQuality(n.desc,n.definition,h),g.style.display="block",g.querySelector("span.current-quality-tag").innerText=n.desc}this.getQuality(I,P)}}ready(v){var h=v._el.id,d=document.querySelector("#".concat(h," .quality-modal"));d.style.display="none";var l=document.querySelector("#".concat(h," .prism-setting-item.prism-setting-quality"));l&&l.classList.add("player-hidden")}}class ge{createEl(v,h){var d=h._el.id,l=(0,se.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),g=document.querySelector("#".concat(d," .prism-controlbar"));g.appendChild(l)}ready(v){var h=v._el.id,d=document.querySelector("#".concat(h," .current-rate")),l=document.querySelector("#".concat(h," .rate-list")),g=null,D=document.querySelector("#".concat(h," .prism-setting-item.prism-setting-speed"));D&&D.classList.add("player-hidden"),d.onclick=()=>{l.style.display="block"},d.onmouseleave=()=>{g=setTimeout(()=>{l.style.display="none"},100)},l.onmouseenter=()=>{clearTimeout(g)},l.onmouseleave=()=>{l.style.display="none"},l.onclick=A=>{var M=A.target,u=M.dataset.rate;if(u){if(v.setSpeed(u),M.className!=="current"){var f=l.querySelector(".current");f&&(f.className=""),M.className="current"}l.style.display="none",d.innerText="".concat(u,"x")}}}}var Ie=e(69164),Ce=e(37055);function Ne(me){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=Ce.ZP.local.getLocalUrl(me);return ce.WY.get({url:h,params:v})}var be=e(91648),xe=e(18329),Ae=e(38642),Re=e(9849),Ue=e(99891);class Ve extends x.Component{constructor(v){super();this.WaterMarkText=v,this.html=document.getElementsByClassName("common-watermark")}createEl(v){setTimeout(()=>{v.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var Ge=Ve,ze=me=>({userInfo:me.user});class je extends x.Component{constructor(v){var h;super(v);h=this,this.onVideoReady=d=>{var l=this.props,g=l.resourceInfo,D=l.mode,A=l.autoPlay,M=l.t,u=g.storageType;d==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(d),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(D==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),D==="preview"&&A&&this.play.play()):u==="ALIBABA_PRIVATE"||u==="LOCAL"?this.updateSource("resetPlayer"):(ce.WY.logger({keyword:"video",moduleName:"video-play",msg:M("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var d=this.props,l=d.draggable,g=d.mode,D=d.t,A=d.studyInfo,M=d.needCurrentTime,u=d.onCurrentTime,f=u===void 0?()=>{}:u,I=A.studyType,P=A.studyId,n=A.resourceId,c=this.state,Z=c.showPreventHang,$=c.dragSwitch,ne=c.showRandomAlert,pe=c.randomAlertDialogVisible,b=this.playingVideo,E=b.oneTime,m=b.popupWindowCount,s=b.maxPlayTime,r=b.progress,y=b.auditionLength,p=b.auditionType,t=b.duration,S=b.recentStart,F=this.play.getCurrentTime(),G=(Z==="OPEN"||ne==="OPEN")&&m>0;if(M&&f(F),y>0&&p===2&&F>y&&(this.play.seek(y),B.default.warning(D("component.haveALookOverTip")),this.play.pause()),g==="learn"&&G){var z=t-E*m;if(m>0&&F>z)if(this.play.pause(),ne==="OPEN"){if(!pe){var V=(0,be.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:V},()=>{(0,Y.qp)({popupId:V,planId:P,resourceId:n,type:"popup_start"})}),this.play.exitFull()}}else Z==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((l||r===100)&&(F>0&&(this.playingVideo.recentStart=F),!((I==="enterprise"||I==="studyProject")&&$==="OPEN")))return!1;F>s?F-S>2?(this.playingVideo.recentStart=s,this.play.seek(s),B.default.warning(D("component.preventFastWatchTip"))):(this.playingVideo.recentStart=F,this.playingVideo.maxPlayTime=F):F>0&&F>this.playingVideo.recentStart&&(this.playingVideo.recentStart=F)},this.onPlay=()=>{var d=this.props,l=d.mode,g=d.onPlay,D=g===void 0?()=>{}:g;D();var A=this;l==="learn"&&!A.timer&&(A.timer=setTimeout(function M(){A.saveProgress(),clearTimeout(A.timer),A.timer=setTimeout(M,2e4)},2e4))},this.onPause=()=>{var d=this.props,l=d.studyInfo,g=d.mode,D=l.studyType;clearTimeout(this.timer),this.timer=null,g==="learn"&&(D==="platform"||D==="enterprise"||D==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var d=this.props.mode;d==="learn"&&this.saveProgress()},this.onError=d=>{var l=this.props.resourceInfo,g=l.storageType;(g==="ALIBABA_PRIVATE"||g==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var d=this.props.mode;this.initPlayVideo(),d==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var d=this.state,l=d.showPreventHang,g=d.showRandomAlert,D=this.props,A=D.t,M=D.playingVideo,u=D.studyInfo,f=D.autoPlay,I=M.recentStart,P=M.duration,n=M.progress,c=u.studyType,Z=(l==="OPEN"||g==="OPEN")&&(c==="studyTask"||c==="enterprise"||c==="studyProject")&&n<100;Z?(g==="OPEN"?this.setState({promptMessage:A("component.preventAlertTip"),dialogVisible:!0}):l==="OPEN"&&this.setState({promptMessage:A("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):f&&(this.play.play(),Math.ceil(I)<parseInt(P)&&this.play.seek(I))},this.playerShowPreventHang=()=>{var d=this.playingVideo,l=d.duration,g=d.recentStart,D=0;l>0&&l<180?(D=l/2,this.playingVideo.oneTime=D,g>=D?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):l>=180&&l<600?(D=l/3,this.playingVideo.oneTime=D,g>=2*D?this.playingVideo.popupWindowCount=0:g>=D?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(D=l/4,this.playingVideo.oneTime=D,g>=3*D?this.playingVideo.popupWindowCount=0:g>=2*D?this.playingVideo.popupWindowCount=1:g>=D?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var d=this.props,l=d.playingVideo,g=d.mode;if(g==="learn"){this.playingVideo=(0,O.Z)({},l);var D=l.duration,A=l.progress;this.playingVideo.hasFinished=parseInt(A)===100,this.playingVideo.maxPlayTime=parseInt(D)*parseInt(A)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,w.Z)(C().mark(function d(){var l,g,D,A,M,u,f,I,P,n,c,Z,$,ne,pe,b,E,m,s,r,y,p,t,S;return C().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(l=h.state,g=l.speedSwitch,D=l.dragSwitch,A=l.whiteList,M=h.props,u=M.resourceInfo,f=M.showQuality,I=u.contentType,P=u.storageType,n=u.source,c=u.playId,Z=u.playerId,$=u.showFullScreen,ne=$===void 0?!0:$,pe=Pe(Z),pe.components=[],b=typeof n=="object"&&n.hasOwnProperty("FD")&&n.FD.indexOf("m3u8")===-1,f&&b&&I!=="mp3"&&(P&&P==="PUBLIC_CLOUD"||!P)&&pe.components.push({name:"VideoQuality",type:ue,args:[()=>{h.play.pause(),h.playingVideo.readyCount=0}]}),g==="OPEN"&&pe.components.push({name:"VideoRate",type:ge}),ne&&(E=pe.skinLayout.find(z=>z.name==="controlBar"),E&&E.children.splice(E.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),pe.components.push({name:"VideoWaterMark",type:Ge}),m=n.FD,s=n.OD,m.indexOf("http://")>-1&&(m=m.replace("http://","https://")),s.indexOf("http://")>-1&&(s=s.replace("http://","https://")),r=A.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",n.OD=s&&s.indexOf(r)>-1&&s.indexOf(".mp4")>-1?s:m,n.FD=m,y=typeof n!="string"?JSON.stringify(n):n,pe.source=y,D==="OPEN"&&(pe.disableSeek=!0),P!=="ALIBABA_PRIVATE"){G.next=32;break}return G.next=22,(0,Y.BR)(c);case 22:if(p=G.sent,!p){G.next=28;break}pe.source=p,pe.vodRetry=1,G.next=30;break;case 28:return h.setState({showPrivateVodError:!0}),G.abrupt("return");case 30:G.next=38;break;case 32:if(P!=="LOCAL"){G.next=38;break}return G.next=35,Ne(c);case 35:t=G.sent,S=t.data,S.code===0&&(pe.source="".concat(n.FD,"?auth_key=").concat(S.data.auth_key),pe.vodRetry=1);case 38:h.setState({playerConfig:pe});case 39:case"end":return G.stop()}},d)})),this.updateSource=function(){var d=(0,w.Z)(C().mark(function l(g){var D,A,M,u,f,I,P,n;return C().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(D=h.state.playerConfig,A=h.props.resourceInfo,M=A.storageType,u=A.source,f=A.playId,h.playingVideo.readyCount=0,M!=="ALIBABA_PRIVATE"){Z.next=16;break}return Z.next=7,(0,Y.BR)(f);case 7:if(I=Z.sent,!I){Z.next=12;break}Object.assign(D,{source:I,vodRetry:1}),Z.next=14;break;case 12:return h.setState({showPrivateVodError:!0}),Z.abrupt("return");case 14:Z.next=22;break;case 16:if(M!=="LOCAL"){Z.next=22;break}return Z.next=19,Ne(f);case 19:P=Z.sent,n=P.data,n.code===0&&Object.assign(D,{source:"".concat(u.FD,"?auth_key=").concat(n.data.auth_key),vodRetry:1});case 22:h.setState({playerConfig:D},()=>{h.play.setupPlayer(g)});case 23:case"end":return Z.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),this.saveProgress=()=>{var d=this.props,l=d.studyInfo,g=d.userInfo,D=g.isLogin,A=g.enterpriseId,M=g.id,u=this.playingVideo,f=u.recentStart,I=u.duration,P=u.hasFinished,n=Math.ceil(+f);n>Number(I)&&(n=Number(I));var c=Math.ceil(n/+I*100);if((c>100||P)&&(c=100),D){var Z=this.playingVideo,$=Z.auditionType,ne=Z.auditionLength;if(ne>0&&$===2){var pe=Math.ceil(ne/I*100);pe<=c&&(c=pe,n=ne)}(0,Y.sH)({studyInfo:l,progress:c,recent_start:n,enterpriseId:A,userId:M}).then(b=>{b&&b.data&&(0,Ie.Z)(b.data.integral_info||"")})}},this.getInfoFromSettings=(0,w.Z)(C().mark(function d(){var l,g,D,A,M,u,f,I,P;return C().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=h.props.studyInfo,g=l.studyType,D=l.projectId,c.next=4,(0,Y.Gw)();case 4:if(A=c.sent,M=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],u=(0,se.RG)(A,M),g!=="studyProject"){c.next=14;break}return c.next=10,(0,Re.NU)({id:D});case 10:f=c.sent,I=f.status,P=f.data,I===200&&(u.showPreventHang=P.prevent_cut_screen?"OPEN":"CLOSED",u.speedSwitch=P.speed_play?"OPEN":"CLOSED",u.dragSwitch=P.prevent_drag?"OPEN":"CLOSED");case 14:h.setState(u,()=>{h.dealVideoConfig()});case 15:case"end":return c.stop()}},d)})),this.dealAudioPoster=()=>{var d=this.props.resourceInfo.contentType,l=d===void 0?"":d;this.setState({showAudioPoster:l==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var d=this.state.showAudioPoster,l=this.play.playerContainer;d&&l&&(l.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),l.style.backgroundSize="cover")},this.getPlayInstance=d=>{this.play=d},this.handleOk=()=>{this.setState({dialogVisible:!1});var d=this.state.btnType,l=this.playingVideo.recentStart,g=this.props.t;d==="know"?(this.play.play(),this.play.seek(l),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:g("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,w.Z)(C().mark(function d(){var l,g,D,A;return C().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:l=h.props.studyInfo,g=l.studyId,D=l.resourceId,A=h.state.randomAlertUUID,(0,Y.qp)({popupId:A,planId:g,resourceId:D,type:"popup_end"}).then(()=>{h.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),h.playingVideo.popupWindowCount-=1,h.play.play();case 6:case"end":return u.stop()}},d)})),this.renderFooter=()=>{var d=this.state.btnType,l=this.props.t;return o().createElement(W.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(d)},l(d==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var d=this.props.t;return o().createElement(W.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},d("common.ok"))},this.state={playerConfig:Pe(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:v.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:v.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:v.t("component.randomAlertTip"),randomAlertModal:{title:v.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ae.UI)("CL_VIDEO_BAIYING_COM_CN")}},v.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(v){var h=typeof v.resourceInfo.source!="string"?JSON.stringify(v.resourceInfo.source):v.resourceInfo.source,d=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;h!==d&&d!==""&&this.initInfo()}componentWillUnmount(){var v=this.props.mode;v==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var v=this.state,h=v.playerConfig,d=v.showPrivateVodError,l=v.dialogVisible,g=v.dialogModal,D=v.promptMessage,A=v.randomAlertDialogVisible,M=v.randomAlertModal,u=v.randomAlertTip,f=v.encryptedSwitch,I=this.props,P=I.resourceInfo,n=I.t,c=f==="OPEN"?he:fe;return o().createElement(x.Fragment,null,o().createElement(c,(0,j.Z)({ref:this.getPlayInstance},P,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:h,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),o().createElement(xe.ZP,(0,j.Z)({visible:l},g,{footer:this.renderFooter()}),o().createElement("div",{className:"video-business-prompt"},D)),o().createElement(xe.ZP,(0,j.Z)({visible:A},M,{footer:this.renderRandomFooter()}),o().createElement("div",{className:"video-player-container__prompt"},u)),d&&o().createElement("div",{className:"video-business-vod-error"},n("privateCloud.docReadError")),o().createElement(Ue.Z,{scenes:"video"}))}}var st=(0,_.$j)(ze,null,null,{forwardRef:!0})((0,U.Z)("translation",{withRef:!0})(je)),ke=e(94184),Oe=e.n(ke),we=e(84874),Te=me=>({userInfo:me.user}),Le={getPravateDocUrl:Ce.ZP.localStorage.getPravateDocUrl};function Ze(me){return JSON.stringify(me,(v,h)=>(typeof h=="function"&&(h=h.toString()),h))}function We(me){var v=parseInt(parseInt(me,10)/60,10),h=parseInt(parseInt(me,10)%60,10);return v<10&&(v="0".concat(v)),h<10&&(h="0".concat(h)),"".concat(v,":").concat(h)}class _e extends x.Component{constructor(v){var h;super(v);h=this,this.messageFun=d=>{var l=this.props,g=l.docType,D=l.progress,A=l.studyTimeLimit,M=l.studyTime,u=this.state,f=u.jumpPageTag,I=u.totalTime,P=u.timeRemaining,n=this.state.previewDocData,c={};try{c=JSON.parse(d.data)}catch(Z){return}switch(c.action){case"preview.ready":this.initDocData();break;case"preview.meta":n.totalPage=c.data.pc||1,n.currentPage=1,this.setState({previewDocData:n},()=>{this.reportStatusInterval()}),A>0?(this.saveProgress(D,M||"1",c.data.pc||1),this.setState({showCountDownContainer:!0})):g==="xlsx"||g==="xls"||n.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(D,M||"1",c.data.pc||1),A>0&&D<100?(this.setState({showCountDown:!0}),g==="xlsx"||g==="xls"?I=A:I=A*c.data.pc,P=parseInt(I*(1-D/100),10),this.setState({timeRemaining:P,totalTime:I},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(f){f=!1,this.setState({jumpPageTag:f});return}n.currentPage=c.data.pageIndex+1,this.setState({previewDocData:n}),A||this.saveProgress(Math.ceil(n.currentPage/n.totalPage*100),n.currentPage,n.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":B.default.error(c.data.result);break;default:break}},this.initDocData=(0,w.Z)(C().mark(function d(){var l,g,D,A,M,u,f,I,P,n,c,Z,$,ne;return C().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h.setState({isShowPrivateError:!1}),l=h.props,g=l.docType,D=l.userInfo,A=l.documentWatermarkSettings,M=l.storageType,u=l.privateDocId,f=D.name,I=D.jobNumber,P=D.position,n="",c={},M!=="ALIBABA_PRIVATE"){b.next=18;break}return b.prev=6,Z=Le.getPravateDocUrl(u),b.next=10,ce.WY.get({url:Z});case 10:$=b.sent,ne=$.data,ne.code===0?c=ne.data||{}:h.setState({isShowPrivateError:!0}),b.next=18;break;case 15:b.prev=15,b.t0=b.catch(6),h.setState({isShowPrivateError:!0});case 18:if(A.indexOf("name")>-1&&(n="".concat(n+f," ")),A.indexOf("position")>-1&&(n="".concat(n+P," ")),A.indexOf("jobnumber")>-1&&(n+=I),n.length>0?window.sendMessage("preview.init",(0,O.Z)({wmType:1,wmValue:n,wmColor:"rgba(192, 192, 192, 0.4)"},c)):window.sendMessage("preview.init",(0,O.Z)({},c)),g!=="xlsx"&&g!=="ppt"&&g!=="pptx"&&g!=="xls"?h.setState({pageOperateContainerVisible:!0}):h.setState({pageOperateContainerVisible:!1}),!(g==="ppt"||g==="pptx")){b.next=29;break}b.t1=window,b.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},b.t1.sendMessage.call(b.t1,"setConfig",b.t2),b.next=32;break;case 29:b.t3=window,b.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},b.t3.sendMessage.call(b.t3,"setConfig",b.t4);case 32:case"end":return b.stop()}},d,null,[[6,15]])})),this.handleJumpPage=d=>{var l=this.state.previewDocData;l.currentPage=d,this.setState({jumpPageTag:!0,previewDocData:l});var g=d/l.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(g),d,l.totalPage),window.sendMessage("logic.toPage",{pageIndex:d-1})},this.redirectPage=()=>{var d=this.props,l=d.studyTimeLimit,g=d.studyTime,D=0;l===0&&(D=g-1>0?g-1:0),window.sendMessage("logic.toPage",{pageIndex:D})},this.docCountDown=()=>{var d=this.state.timeRemaining,l=this.state,g=l.totalTime,D=l.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{d-=1,this.setState({timeRemaining:d}),d<1&&(this.saveProgress(100,0,D.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var A=(g-d)/g*100;d<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(A),d,D.totalPage)},2e4)},this.saveProgress=(d,l,g)=>{var D=this.props.onSaveProgress;D&&D(d,l,g)},this.reportStatusInterval=()=>{var d=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var l=this.state.previewDocData.currentPage;d&&d({currentPage:l})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=d=>{this.docReader=d},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(v,h)=>{var d=this.docReader.contentWindow;d.postMessage(Ze({action:v,data:h}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var v=this.props,h=v.t,d=v.storageType,l=v.privateDocId,g=this.props.aliUrl,D=this.state,A=D.previewDocData,M=D.pageOperateContainerVisible,u=D.timeRemaining,f=D.showCountDown,I=D.showCountDownContainer,P=D.showPageOperateContainer,n=D.isShowPrivateError;return d==="ALIBABA_PRIVATE"&&(g="https://preview.imm.aliyuncs.com/index.html?docId=".concat(l)),o().createElement("div",{className:"doc-reader-container"},o().createElement("div",{className:"ali-doc-container",style:{paddingBottom:M?"56px":"0"}},o().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:g,id:"aliyunPreview",ref:this.dealPreviewRef}),I?o().createElement("div",{className:"ali-doc-container__countdown"},f?o().createElement("div",null,o().createElement(we.Z,{iconClass:"iconf-tipe",size:"16px"}),h("component.docStillStudy"),o().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",We(u)," "),h("component.canDone")):o().createElement("div",null,o().createElement(we.Z,{iconClass:"iconf-tipe",size:"16px"}),h("component.docHasFinish"))):null,M?o().createElement("div",{className:"ali-doc__operate"},o().createElement("div",{className:Oe()(["ali-doc__operate__content",P?"":"ali-doc__operate__hide-content"])},o().createElement("div",{className:"ali-doc__operate__pagination"},o().createElement("div",{className:"ali-doc__operate__pagination__pages"},A.currentPage," / ",A.totalPage),o().createElement("div",{className:"ali-doc__operate__pagination__toggle"},o().createElement("div",{className:"ali-doc__operate__pagination__choose"},o().createElement("span",null,h("component.choosePage"),o().createElement(we.Z,{iconClass:"iconf-arrow-under",size:"14px"})),o().createElement("div",{className:"ali-doc__operate__page-list-container"},o().createElement("div",{className:"ali-doc__operate__choose-page"},h("component.fastChoosePage")),o().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:A.totalPage})).map((c,Z)=>o().createElement("li",{key:c,onClick:()=>this.handleJumpPage(Z+1)},Z+1))))),o().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},h("common.collapse"))))),o().createElement("div",{className:Oe()("ali-doc__operate__unfold",P?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},h("common.expand"))):null,n&&o().createElement("div",{className:"ali-doc__error"},h("privateCloud.docReadError"))),o().createElement(Ue.Z,{scenes:"document"}))}}_e.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var rt=(0,_.$j)(Te)((0,U.Z)()(_e)),ht=me=>({userInfo:me.user}),nt="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),He="".concat("https://doc.coolcollege.cn");class Ke extends o().Component{constructor(v){var h;super(v);h=this,this.onSaveProgress=(d,l,g)=>{var D=this.props,A=D.mode,M=D.studyInfo,u=D.userInfo,f=u.enterpriseId,I=u.id;A==="learn"&&(0,Y.sH)({studyInfo:M,progress:d,page_count:g,recent_start:l,enterpriseId:f,userId:I}).then(P=>{P&&P.data&&(0,Ie.Z)(P.data.integral_info||"")})},this.messageFun=function(){var d=(0,w.Z)(C().mark(function l(g){var D,A,M,u,f,I;return C().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(g.data!=="local-resource"){n.next=9;break}if(D=h.props.resourceInfo,A=D.storageType,M=D.playId,!(A&&A==="LOCAL")){n.next=9;break}return n.next=6,Ne(M);case 6:u=n.sent,f=u.data,f.code===0&&(I=document.getElementById("local-resource-box"),I.contentWindow.postMessage({msg:"local-auth-key",authKey:f.data.auth_key},"*"));case 9:case"end":return n.stop()}},l)}));return function(l){return d.apply(this,arguments)}}(),this.getInfoFromSettings=(0,w.Z)(C().mark(function d(){var l,g,D;return C().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,Y.Gw)();case 2:l=M.sent,g=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],D=(0,se.RG)(l,g),h.setState(D,()=>{h.initDocPage(h.props)});case 6:case"end":return M.stop()}},d)})),this.initDocPage=(0,w.Z)(C().mark(function d(){var l,g,D,A,M,u,f,I,P,n,c,Z,$,ne,pe,b,E,m,s,r,y,p,t,S,F,G,z,V,Q,te,oe,ie,ve,Se,Me=arguments;return C().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(l=Me.length>0&&Me[0]!==void 0?Me[0]:{},g=l.resourceInfo,D=l.mode,A=l.studyInfo,M=l.userInfo,u=h.state.documentPlayerMode,f=g.docType,I=g.docTitle,P=g.url,n=g.studyTimeLimit,c=g.studyTime,Z=g.aliUrl,$=g.progress,ne=g.storageType,pe=g.playId,b=A.studyType,E=A.courseId,m=A.studyId,s=A.resourceId,r=M.enterpriseId,y=M.id,p=M.isLogin,t=M.token,S=u==="compat"&&Z.indexOf("preview.imm.aliyun")>-1||ne==="ALIBABA_PRIVATE",!S){de.next=11;break}h.setState({showAliReader:!0}),de.next=31;break;case 11:if(F=(0,Y.sH)({enterpriseId:r,userId:y,token:t,studyInfo:A},!0),G=b==="studyTask"?2:1,z=Ce.ZP.SaveProgress.reportStatusInterval(A),V={isSaveProgress:p&&D==="learn"&&F,isSaveRecord:!1,access_token:t,userId:y,hostUrl:nt,courseId:E,resourceId:s,courseType:1,planId:m,studyTimeLimit:n,studyTime:c,saveProgressUrl:F,type:"eapp",progress:$,saveRecordProgressUrl:z,actionType:G},!(ne&&ne==="LOCAL")){de.next=26;break}return de.next=18,Ne(pe);case 18:if(Q=de.sent,te=Q.data,te.code!==0){de.next=25;break}V.auth_key=te.data.auth_key,V.url=P,de.next=26;break;case 25:return de.abrupt("return");case 26:oe=JSON.stringify(V),ie="".concat(I,".").concat(f).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),ve="".concat(He,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(oe),"&furl=").concat(P,"?attname=").concat(ie),ne&&ne==="LOCAL"&&(Se="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),ve="".concat(Se,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(oe),"&furl=").concat(P,"?attname=").concat(ie)),h.setState({encodeUrl:ve});case 31:case"end":return de.stop()}},d)})),this.handleReportStatusInterval=d=>{var l=d.currentPage,g=this.props,D=g.resourceInfo,A=g.mode,M=g.studyInfo,u=g.userInfo,f=D.type,I=M.courseId,P=M.studyId,n=M.resourceId,c=u.enterpriseId,Z=u.id,$=u.isLogin,ne="",pe="",b=0,E=!1;switch(f){case"enterprise":b=1,E=!0;break;case"study":ne=P,b=2,E=!0;break;case"project":pe=P,b=1,E=!0;break;default:break}if(!(!E||!$)){var m={plan_id:ne,enterprise_id:c,user_id:Z,course_id:I,project_course_id:pe,resource_id:n,current_page:l,action_type:b,send_time:Date.parse(new Date)};A==="learn"&&(0,Y.Xc)(M,m)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(v){this.initDocPage(v)}render(){var v=this.props.resourceInfo,h=this.state,d=h.encodeUrl,l=h.documentWatermarkSettings,g=h.showAliReader,D=v.docType,A=v.type,M=v.studyTimeLimit,u=v.studyTime,f=v.aliUrl,I=v.progress,P=v.storageType,n=v.playId;return g?o().createElement(rt,{privateDocId:n,storageType:P,aliUrl:f,docType:D,progress:I,studyTime:u,studyTimeLimit:M,documentWatermarkSettings:l,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:A}):o().createElement("div",{className:"doc-reader-container"},o().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:d,frameBorder:"0",allowFullScreen:!0}),o().createElement(Ue.Z,{scenes:"document"}))}}var Fe=(0,_.$j)(ht)(Ke),mt=e(38979),$e=e(90706),vt=e(12968),ft=e(44208),Ye=e(60667),it=me=>({userInfo:me.user});class Qe extends o().Component{constructor(){var v;super(...arguments);v=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var h=this.props,d=h.studyInfo,l=h.mode,g=h.userInfo,D=g.enterpriseId,A=g.id;l==="learn"&&(0,se.Gp)({studyInfo:d,enterpriseId:D,userId:A})},this.getInfoFromSettings=(0,w.Z)(C().mark(function h(){var d,l,g;return C().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,Y.Gw)();case 2:d=A.sent,l=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],g=(0,se.RG)(d,l),v.setState(g,()=>{v.renderWatermark()});case 6:case"end":return A.stop()}},h)})),this.renderWatermark=()=>{var h=this.props.userInfo,d=this.state.imageWatermark,l=h.name,g=h.unionid,D=h.sourceType,A=h.jobNumber,M=h.position,u=[];d.indexOf("name")>-1&&u.push(o().createElement(Ye.Z,{dataType:"userName",value:g,name:l,type:D})),d.indexOf("position")>-1&&u.push(o().createElement("span",null,M)),d.indexOf("jobnumber")>-1&&u.push(o().createElement("span",null,A)),d.length>0&&this.setState({watermark:u.map((f,I)=>o().createElement("span",{key:I},f))})},this.handleError=h=>{var d=this.props.onError;d&&d(h)},this.getImageUrl=(0,w.Z)(C().mark(function h(){var d,l,g,D,A,M,u,f,I,P;return C().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d=v.props,l=d.resourceInfo,g=d.t,D=l.playId,A=l.url,M=l.storageType,u=A,!M){c.next=21;break}if(M!=="ALIBABA_PRIVATE"){c.next=15;break}return c.next=7,(0,Y.J7)(D);case 7:if(f=c.sent,!f){c.next=12;break}u=f,c.next=13;break;case 12:return c.abrupt("return",B.default.info(g("privateCloud.docReadError")));case 13:c.next=21;break;case 15:if(M!=="LOCAL"){c.next=21;break}return c.next=18,Ne(D);case 18:I=c.sent,P=I.data,P.code===0&&(u="".concat(A,"?auth_key=").concat(P.data.auth_key));case 21:v.setState({imageUrl:[u]},()=>{var Z=v.state.imageUrl,$="image-business",ne=document.querySelectorAll(".".concat($,"-image img"));ne.forEach((pe,b)=>{pe.onerror=()=>{v.handleError(Z[b])}})});case 22:case"end":return c.stop()}},h)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var v="image-business",h=this.props.resourceInfo,d=h.preview,l=d===void 0?!1:d,g=this.state,D=g.watermark,A=g.imageUrl;return o().createElement("div",{className:v},o().createElement(Ue.Z,{scenes:"image"}),o().createElement($e.Z,{className:"".concat(v,"-carousel")},A.map((M,u)=>o().createElement("div",{className:"".concat(v,"-image"),key:u.toString()},o().createElement(ft.Z,{src:M,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:l})))))}}Qe.defaultProps={prefixCls:"watch-image-page"};var ot=(0,_.$j)(it)((0,U.Z)()(Qe)),Je=me=>({userInfo:me.user});class Xe extends o().Component{constructor(){var v;super(...arguments);v=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,w.Z)(C().mark(function h(){var d,l,g;return C().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,Y.Gw)();case 2:d=A.sent,l=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],g=(0,se.RG)(d,l),v.setState(g,()=>{v.renderWatermark()});case 6:case"end":return A.stop()}},h)})),this.renderWatermark=()=>{var h=this.props.userInfo,d=this.state.htmlWatermark,l=h.name,g=h.unionid,D=h.sourceType,A=h.jobNumber,M=h.position,u=[];d.indexOf("name")>-1&&u.push(o().createElement(Ye.Z,{dataType:"userName",value:g,name:l,type:D})),d.indexOf("position")>-1&&u.push(o().createElement("span",null,M)),d.indexOf("jobnumber")>-1&&u.push(o().createElement("span",null,A)),d.length>0&&this.setState({watermark:u.map((f,I)=>o().createElement("span",{key:I},f))})},this.saveProgress=()=>{var h=this.props,d=h.studyInfo,l=h.mode,g=h.userInfo,D=g.enterpriseId,A=g.id;l==="learn"&&(0,se.Gp)({studyInfo:d,enterpriseId:D,userId:A})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var v="html-business",h=this.props.resourceInfo,d=h.url,l=this.state.watermark;return o().createElement("div",{className:v},o().createElement("div",{className:"".concat(v,"__html-watermark")},l),o().createElement("iframe",{title:"html",className:"".concat(v,"_iframe"),src:d}))}}var lt=(0,_.$j)(Je)((0,U.Z)()(Xe)),qe=e(57068),et=e(1164),ct=me=>({userInfo:me.user});class tt extends o().PureComponent{constructor(){super(...arguments);this.getHost=v=>{var h=v.split("//"),d=h[1].split("/");return[h[0],d[0]].join("//")},this.getScormUrl=()=>{var v=this.props,h=v.studyInfo,d=v.mode,l=v.userInfo,g=v.resourceInfo,D=v.from,A=l.enterpriseId,M=l.id,u=g.url,f=this.getHost(u);if(d==="learn"){var I=(0,O.Z)({userId:M,enterpriseId:A,access_token:localStorage.token,from:D,scormUrl:encodeURIComponent(u),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},h);return"".concat(f).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(qe.stringify(I))}return"".concat(f,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(u))},this.handleOpenScormLink=v=>{et.Z.targetTo({path:v,isExternalLink:!0})}}render(){var v=this.props.t,h="scorm-business",d=this.getScormUrl(),l=(0,Ae.UI)("SCORM_EXTERNAL_WATCH");return o().createElement("div",{className:h},l?o().createElement("div",{className:"".concat(h,"_scorm")},o().createElement("img",{className:"".concat(h,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),o().createElement("h5",null,v("resourcePlay.scormTip")),o().createElement(W.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(d)},v("resourceLibrary.h5LinkPlayButton"))):o().createElement("iframe",{title:"scorm",className:"".concat(h,"_iframe"),src:d}))}}var gt=(0,_.$j)(ct)((0,U.Z)()(tt));class yt extends o().Component{render(){var v=this.props,h=v.visible,d=v.title,l=v.onCancel,g=v.t,D=o().createElement("span",null,d);return o().createElement(xe.ZP,{visible:h,title:D,onCancel:l,footer:null},o().createElement("div",{className:"ban-preview"},o().createElement("div",{className:"ban-preview-center"},o().createElement("img",{src:L(),alt:"picture"}),o().createElement("h2",null,g("localStorage.tip")),o().createElement("p",null,g("localStorage.banPreview"))),o().createElement("hr",null),o().createElement(W.Z,{type:"primary",className:"know",onClick:l},g("localStorage.onKnow"))))}}var dt=(0,U.Z)()(yt);class Ct extends x.Component{constructor(){var v;super(...arguments);v=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=h=>{var d=this.props.previewInfo,l=d.onCancel;this.onCancel(),l(h)},this.onGetVideoBusiness=h=>{var d=this.props.onRef,l=d===void 0?()=>{}:d;this.videoBusiness=h,l(h)},this.onFullScreen=()=>{var h=this.state.fullScreen;this.setState({fullScreen:!h})},this.handleJudgeNetwork=(0,w.Z)(C().mark(function h(){var d,l,g,D,A,M,u,f,I,P,n,c=arguments;return C().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(d=c.length>0&&c[0]!==void 0?c[0]:null,l=v.props,g=l.resourceInfo,D=l.watchType,A=g.storageType,M=g.playId,u=g.originUrl,f=D==="image"||D==="video"||D==="doc",I=null,d?I=d:u?I=u:I=g.url,!(f&&I&&M&&A&&A==="LOCAL")){$.next=22;break}return $.prev=7,$.next=10,(0,Y.NY)(M);case 10:return P=$.sent,$.next=13,(0,Y.Hy)(I,P);case 13:n=$.sent,n?v.setState({showBan:"no"}):v.setState({showBan:"yes"}),$.next=20;break;case 17:$.prev=17,$.t0=$.catch(7),v.setState({showBan:"yes"});case 20:$.next=23;break;case 22:v.setState({showBan:"no"});case 23:case"end":return $.stop()}},h,null,[[7,17]])})),this.renderOuter=()=>{var h=this.props,d=h.prefixCls,l=h.watchType,g=h.onCurrentTime,D=g===void 0?()=>{}:g;return o().createElement("div",{className:"".concat(d,"-outer")},l==="video"&&o().createElement(st,(0,j.Z)({onCurrentTime:D,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),l==="doc"&&o().createElement(Fe,this.props),l==="image"&&o().createElement(ot,(0,j.Z)({onError:this.handleJudgeNetwork},this.props)),l==="html"&&o().createElement(lt,this.props),l==="scorm"&&o().createElement(gt,this.props))},this.renderFooter=()=>{var h=this.props,d=h.resourceInfo.storageType,l=h.t,g=this.state.showBan,D=g!==""&&g==="yes";return d&&d!=="PUBLIC_CLOUD"&&D?o().createElement(W.Z,{type:"primary",className:"know",onClick:this.onCancelModel},l("localStorage.onKnow")):null}}componentDidMount(){var v=this.props.mode;v==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(v){v.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var v=this.state,h=v.showBan,d=v.fullScreen,l=this.props,g=l.mode,D=l.previewWay,A=l.previewInfo,M=l.prefixCls,u=l.t,f=l.showEnlarge,I=l.footer,P=I===void 0?null:I,n=A.visible,c=A.destroyOnClose,Z=A.title,$=h!==""&&h==="yes",ne=h!==""&&h==="no";return o().createElement(x.Fragment,null,g==="preview"&&D==="popups"&&o().createElement(xe.ZP,{destroyOnClose:c,visible:n,title:Z,onCancel:this.onCancelModel,footer:P||this.renderFooter(),wrapClassName:"".concat(M,"-resource ").concat(d?"".concat(M,"-full"):"")},f&&o().createElement("div",{className:"".concat(M,"-resource-out-icon"),onClick:this.onFullScreen},d?o().createElement(T.Z,{className:"".concat(M,"-resource-icon")}):o().createElement(k.Z,{className:"".concat(M,"-resource-icon")})),o().createElement("div",{className:"".concat(M,"-inner")},!n&&o().createElement(R.Z,{size:"large"}),n&&ne&&this.renderOuter(),$&&o().createElement(q,null))),(g==="learn"||D==="page")&&ne&&this.renderOuter(),(g==="learn"||D==="page")&&o().createElement(dt,{visible:$,title:Z||u("questionn.warmHint"),onCancel:this.onCancel}))}}Ct.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var Et=(0,U.Z)("translation",{withRef:!0})(Ct)},41225:function(De,le,e){"use strict";e.d(le,{Hy:function(){return w},NY:function(){return H},Gw:function(){return C},sH:function(){return T},BR:function(){return x},qp:function(){return k},Xc:function(){return U},J7:function(){return o}});var K=e(57361),R=e(9754),J=e.n(R),W=e(10237),j=e(37055),w=function(){var N=(0,K.Z)(J().mark(function L(){var a,q,O,ae,B,_,se,Y=arguments;return J().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return a=Y.length>0&&Y[0]!==void 0?Y[0]:"",q=Y.length>1&&Y[1]!==void 0?Y[1]:"",O="",a.startsWith("http")?(ae=a.split("//")[1].trim(),B=ae.split("/")[0],O="https://".concat(B,"/cms/ticket")):(_=a.split("/")[0],O="https://".concat(_,"/cms/ticket")),ee.prev=4,ee.next=7,W.ZQ.get({url:O,params:{ticket:q}});case 7:if(se=ee.sent,!(se.status===200||se.status===403)){ee.next=10;break}return ee.abrupt("return",Promise.resolve(!0));case 10:return ee.abrupt("return",Promise.resolve(!1));case 13:return ee.prev=13,ee.t0=ee.catch(4),ee.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return ee.stop()}},L,null,[[4,13]])}));return function(){return N.apply(this,arguments)}}(),H=function(){var N=(0,K.Z)(J().mark(function L(a){var q,O;return J().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,W.ZQ.get({url:j.ZP.local.getTicket(a)});case 2:if(q=B.sent,O=q.data,O.code!==0){B.next=6;break}return B.abrupt("return",Promise.resolve(O.data.ticket));case 6:return B.abrupt("return",Promise.resolve(""));case 7:case"end":return B.stop()}},L)}));return function(a){return N.apply(this,arguments)}}(),C=function(){var N=(0,K.Z)(J().mark(function L(){var a;return J().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,W.WY.get({url:j.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return a=O.sent,O.abrupt("return",a.data.list);case 4:case"end":return O.stop()}},L)}));return function(){return N.apply(this,arguments)}}(),x=function(){var N=(0,K.Z)(J().mark(function L(a){var q,O,ae;return J().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,W.WY.get({url:j.ZP.localStorage.getPravateVideoUrl(a)});case 2:if(q=_.sent,q.data.code!==0){_.next=6;break}return O=q.data.data.videoPlayInfo,ae=O===void 0?"":O,_.abrupt("return",ae);case 6:return _.abrupt("return","");case 7:case"end":return _.stop()}},L)}));return function(a){return N.apply(this,arguments)}}(),o=function(){var N=(0,K.Z)(J().mark(function L(a){var q,O,ae;return J().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return q=j.ZP.localStorage.getPravateDocUrl(a),_.prev=1,_.next=4,W.WY.get({url:q});case 4:if(O=_.sent,ae=O.data,!(ae.code===0&&ae.data)){_.next=8;break}return _.abrupt("return",ae.data.docResourceDownloadUrl||"");case 8:return _.abrupt("return","");case 11:return _.prev=11,_.t0=_.catch(1),_.abrupt("return","");case 14:case"end":return _.stop()}},L,null,[[1,11]])}));return function(a){return N.apply(this,arguments)}}(),T=function(L){var a=L.studyInfo,q=L.progress,O=L.recent_start,ae=L.page_count,B=L.enterpriseId,_=L.userId,se=L.token,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce,ee=a.studyType;if(ee==="studyTask"&&(ce=j.ZP.SaveProgress.studySaveProgress(a)),(ee==="course"||ee==="enterprise")&&(ce=j.ZP.SaveProgress.enterpriseCourseSaveProgress(a)),ee==="studyProject"&&(ce=j.ZP.SaveProgress.projectSaveProgress(a)),ee==="platform"&&(ce="".concat(j.ZP.SaveProgress.platformCourseSaveProgress(a))),(Y||ee==="platform")&&(ce+="?enterprise_id=".concat(B,"&user_id=").concat(_)),Y)return ce+="&access_token=".concat(se||localStorage.getItem("token")),ce;var X={progress:q,recent_start:O,tempTime:Date.parse(new Date)};return ae&&(X.page_count=ae),a.evaluationId&&(X.evaluation_id=a.evaluationId),W.WY.post({url:ce,data:X})},k=N=>{var L=N.popupId,a=N.planId,q=N.resourceId,O=N.type;return W.WY.post({url:j.ZP.TaskStudyRecord.setRandomPopupRecord(a),data:{course_id:q,terminal_type:"PC",popup_id:L,type:O}})},U=(N,L)=>{var a=j.ZP.SaveProgress.reportStatusInterval(N);return W.WY.post({url:a,data:L})}},21594:function(De,le,e){"use strict";e.d(le,{pu:function(){return j},RG:function(){return w},Gp:function(){return H},O8:function(){return C}});var K=e(88986),R=e(69164),J=e(38642),W=e(41225),j=x=>{var o="";switch(x){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":o="studyTask";break;case"enterprise":o="enterprise";break;case"courseProject":o="studyProject";break;case"platform":case"purchased":o="platform";break;default:break}return o},w=(x,o)=>{var T={};return o.forEach(k=>{var U=x.find(O=>O.type===k.type);if(U)if(k.type==="document_duration_limit"){var N=U.action_list,L=N.find(O=>O.type==="random_popup_verification");!(0,J.UI)("RANDOM_POPUP_VERIFY")||!L?T[k.name]="CLOSE":T[k.name]=L.param.checked==="true"?"OPEN":"CLOSE"}else if(k.type==="document_player"){var a=JSON.parse(U.actions);a.forEach(O=>{O.param.checked==="true"&&(T[k.name]=O.type)})}else if(k.type==="dynamic_watermark"){var q=U.action_list;q.forEach(O=>{O.type===k.resourceType&&O.param.checked==="true"&&(T[k.name]=O.param.comment)})}else T[k.name]=U.switch_status}),T},H=x=>{(0,W.sH)((0,K.Z)({progress:100,recent_start:1},x)).then(o=>{o&&o.data&&(0,R.Z)(o.data.integral_info||"")})},C=x=>{var o=document.createElement("div");return o.innerHTML=x,o.childNodes[0]}},51975:function(De,le,e){"use strict";e.d(le,{l:function(){return W}});var K=e(62029),R=e(12924),J=e.n(R),W=(j,w)=>function(C){return J().createElement(j.Consumer,null,x=>J().createElement(w,(0,K.Z)({},C,{contextData:x})))}},43859:function(De,le,e){"use strict";var K=e(62029),R=e(81211),J=e(43358),W=e(34041),j=e(12924),w=e.n(j),H=e(94184),C=e.n(H),x=e(59239),o=e(55446),T=e.n(o),k=e(6793),U=x.Z.Item,N=W.Z.Option,L=a=>function(O){var ae=O.field,B=O.form,_=O.hasFeedback,se=O.label,Y=O.selectOptions,ce=O.submitCount,ee=O.type,X=O.displayType,i=O.labelCol,he=i===void 0?{}:i,re=O.wrapperCol,Pe=re===void 0?{}:re,ye=O.required,fe=ye===void 0?!1:ye,ue=O.customError,ge=ue===void 0?!1:ue,Ie=O.colon,Ce=Ie===void 0?!0:Ie,Ne=O.formItemClassName,be=(0,R.Z)(O,["field","form","hasFeedback","label","selectOptions","submitCount","type","displayType","labelCol","wrapperCol","required","customError","colon","formItemClassName"]),xe=B.touched[ae.name],Ae=ce>0,Re=B.errors[ae.name],Ue=Re&&Ae,Ve=Re&&xe,Ge=ke=>{var Oe=ke!=null&&ke.target?ke.target.value:ke;B.setFieldValue(ae.name,Oe),B.touched[ae.name]||setTimeout(()=>{B.setFieldTouched(ae.name,!0)},0)},ze=ke=>{var Oe={},we={},Te=ke;if(ke===void 0&&(Te=""),B.setFieldValue(ae.name,Te),ae.name==="courseList"&&ke&&Object.prototype.toString.apply(ke).slice(8,-1)==="Array"&&ke.length>0){Oe.startTime=ke[0].beginTime,we.startTime=Number((0,k.jZ)(ke[0].beginTime))+864e5;var Le=[];ke.forEach(We=>{We.endTime!==""&&Le.push(We)}),Le.length>0&&B.values.dateRange.endTime?(0,k.jZ)(B.values.dateRange.endTime)>Le[Le.length-1].endTime?(Oe.endTime=B.values.dateRange.endTime,we.endTime=Number((0,k.jZ)(B.values.dateRange.endTime))-864e5):Le.length>0&&B.values.dateRange.endTime&&(0,k.jZ)(B.values.dateRange.endTime)<=Le[Le.length-1].endTime&&(Oe.endTime=Le[Le.length-1].endTime,we.endTime=Number((0,k.jZ)(Le[Le.length-1].endTime))-864e5):Le.length>0&&!B.values.dateRange.endTime&&(Oe.endTime=Le[Le.length-1].endTime,we.endTime=Number((0,k.jZ)(Le[Le.length-1].endTime))-864e5),Le.length>0&&B.setFieldValue("dateRange",Oe),B.setFieldValue("dateRangeLimit",we)}if(ae.name==="stages"&&ke&&Object.prototype.toString.apply(ke).slice(8,-1)==="Array"&&ke.length>0){var Ze=[];ke.forEach(We=>{We.list&&We.list.forEach(_e=>{_e.componentName==="OfflineTrain"&&Ze.push(_e.data)})}),Ze.length>0&&(Oe.startTime=Ze[0].beginTimeStr,Oe.endTime=Ze[Ze.length-1].endTimeStr,Oe.startTime=Number((0,k.jZ)(Ze[0].beginTimeStr))+864e5,Oe.endTime=Number((0,k.jZ)(Ze[Ze.length-1].endTimeStr))-864e5,B.setFieldValue("dateRangeLimit",Oe))}B.touched[ae.name]||setTimeout(()=>{B.setFieldTouched(ae.name,!0)},0)},je=()=>B.setFieldTouched(ae.name,!0),st=C()(["cl-form__field"]);return w().createElement("div",{className:st},w().createElement(U,{label:se,className:"$$CL-FORM-ERROR__".concat(ae.name," antd-field-item ").concat(Ne),hasFeedback:!!(_&&Ae||_&&xe),help:(Ue||Ve)&&!ge?Re:!1,validateStatus:(Ue||Ve)&&!ge?"error":"success",labelCol:he,wrapperCol:Pe,required:fe,colon:Ce},X==="Custom"?w().createElement(a,(0,K.Z)({},ae,be,{displayType:X,onBlur:je,onFieldChange:ze})):w().createElement(a,(0,K.Z)({},ae,be,{displayType:X,onBlur:je,onChange:ee?Ge:ze,form:B}),Y&&Y.map(ke=>w().createElement(N,{key:ke},ke)))))};le.Z=L},11449:function(De,le,e){"use strict";e.d(le,{Z:function(){return he}});var K=e(88986),R=e(33565),J=e(12924),W=e.n(J),j=e(3115),w=e(49111),H=e(19650),C=e(62029),x=e(57663),o=e(71577),T=e(91768),k=e(28216),U=e(37055),N=e(10237);function L(re){var Pe=U.ZP.getHelpContentByMenuKey(),ye={key:re};return N.WY.get({url:Pe,params:ye})}var a=e(74228),q=e.n(a),O=e(1164),ae=e(76466),B=e(38642);class _ extends W().Component{constructor(Pe){var ye;super(Pe);ye=this,this.getHelpContentByMenuKey=()=>{var fe=this.props.defaultMenuKey;L(fe).then(ue=>{var ge=ue.data,Ie=ge.help_url,Ce=ge.video_url;this.setState({videoUrl:Ce,helpUrl:Ie})})},this.handleOpenHelpUrl=fe=>{if((0,B.ve)()){window.open(fe,"_blank");return}O.Z.targetTo({path:fe,isExternalLink:!0})},this.handleOpenVideo=function(fe){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye.props.t("helpCenter.video");ye.setState(ge=>({resourcePlayInfo:(0,K.Z)((0,K.Z)({},ge.resourcePlayInfo),{},{resourceInfo:{originUrl:fe,source:{FD:fe,OD:fe},contentType:"mp4"}}),previewInfo:(0,K.Z)((0,K.Z)({},ge.previewInfo),{},{title:ue,visible:!0,onCancel:ye.handleCancelPreview})}))},this.handleCancelPreview=()=>{var fe=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,K.Z)((0,K.Z)({},fe),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:Pe.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var Pe=this.state,ye=Pe.helpUrl,fe=Pe.resourcePlayInfo,ue=Pe.previewInfo,ge=Pe.videoUrl,Ie=this.props.t;return W().createElement("div",{className:q().helpCenter},ge&&W().createElement(o.Z,{type:"link",className:q()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(ge)},Ie("helpCenter.video")),ye&&W().createElement(o.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(ye)},Ie("helpCenter.tutorial")),W().createElement(ae.Z,(0,C.Z)({},fe,{previewInfo:ue})))}}var se=re=>({defaultMenuKey:re.currentRoute.menuKey});_.defaultProps={defaultMenuKey:""};var Y=(0,k.$j)(se)((0,T.Z)()(_));function ce(re){var Pe=re.extra,ye=localStorage.getItem("dingPersonnel"),fe=sessionStorage.getItem("dingPersonnel");return W().createElement(H.Z,null,Pe,ye!=="dingPersonnel"&&fe!=="dingPersonnel"&&(0,B.eY)("COMMONEXTRA_HELP_CENTER")&&W().createElement(Y,null))}var ee=ce,X=e(4408);function i(re){var Pe=(0,J.useState)({helpCenter:(0,B.eY)("HEAD_HELP_CENTER_BUT")}),ye=(0,R.Z)(Pe,1),fe=ye[0],ue=re.pageContainerParams,ge=ue===void 0?{}:ue,Ie=re.noPadding,Ce=Ie===void 0?!1:Ie,Ne=re.isPersonal,be=Ne===void 0?!1:Ne,xe=re.pageTitle,Ae=re.className,Re=Ae===void 0?"":Ae,Ue={extra:fe.helpCenter?W().createElement(ee,{extra:ge.extra}):ge.extra},Ve=(0,K.Z)((0,K.Z)({},ge),Ue);return W().createElement("div",{className:"page-container-content ".concat(Ce?"page-container-noPadding":""," ").concat(be?"page-container-content_personal_background":""," ").concat(Re)},xe&&W().createElement(X.Z,{title:xe}),be?W().createElement(j.Z,null,re.children):W().createElement(j.Z,Ve,re.children))}var he=i},73548:function(De,le,e){"use strict";e.d(le,{P:function(){return T},z:function(){return o}});var K=e(47673),R=e(4107),J=e(12924),W=e.n(J),j=e(80991);class w extends W().Component{render(){var U=this.props.value;return W().createElement(W().Fragment,null,W().createElement("span",null,U),W().createElement(R.Z,{type:"hidden",value:U}))}}var H=(0,j.$j)(w),C=e(43859),x=e(19864),o=(0,C.Z)(H),T=(0,C.Z)(x.Z)},18621:function(De,le,e){"use strict";e.r(le),e.d(le,{default:function(){return M}});var K=e(20228),R=e(11382),J=e(54029),W=e(62529),j=e(20136),w=e(55241),H=e(59250),C=e(13013),x=e(30887),o=e(99210),T=e(22385),k=e(31097),U=e(71194),N=e(57016),L=e(49111),a=e(19650),q=e(57663),O=e(71577),ae=e(34792),B=e(48086),_=e(88986),se=e(93485),Y=e(33565),ce=e(18106),ee=e(88108),X=e(12924),i=e.n(X),he=e(28216),re=e(91768),Pe=e(57119),ye=e(49101),fe=e(1977),ue=e(37055),ge=e(10237);function Ie(){return localStorage.getItem("enterpriseId")}var Ce="zlnt";function Ne(u){var f=ue.ZP.personnelDevelope.postAisleClassify();return ge.WY.get({url:f,params:{name:u}})}function be(u){var f=u.name,I=u.sort,P=ue.ZP.personnelDevelope.postAisleClassify();return ge.WY.post({url:P,params:{},data:{enterprise_id:Ie(),name:f,sort:I}})}function xe(u){var f=u.name,I=u.sort,P=u.id,n=ue.ZP.personnelDevelope.postAisleClassify();return ge.WY.put({url:n,params:{},data:{enterprise_id:Ie(),name:f,sort:I,id:P}})}function Ae(u){var f=ue.ZP.personnelDevelope.deletePostAisleClassify(u);return ge.WY.delete({url:f})}function Re(){var u=ue.ZP.personnelDevelope.getPostRankList();return ge.WY.get({url:u})}function Ue(u){var f=u.rankName,I=u.sort,P=u.id,n="";P&&(n="?front_rank_id=".concat(P));var c=ue.ZP.personnelDevelope.addPostRank(n);return ge.WY.post({url:c,params:{},data:{app_id:Ce,enterprise_id:Ie(),name:f,sort:I}})}function Ve(u){var f=u.rankName,I=u.sort,P=u.id,n=ue.ZP.personnelDevelope.editPostRank();return ge.WY.put({url:n,params:{},data:{app_id:Ce,enterprise_id:Ie(),name:f,sort:I,id:P}})}function Ge(u){var f=u.rankId,I=ue.ZP.personnelDevelope.delPostRank(f);return ge.WY.delete({url:I})}function ze(u){var f=u.classifyId,I=ue.ZP.personnelDevelope.getPostAisleList(f);return ge.WY.get({url:I})}function je(u){var f=u.aisleName,I=u.sort,P=u.classifyId,n=u.id,c="";n&&(c="?front_passages_id=".concat(n));var Z=ue.ZP.personnelDevelope.addPostAisle(c);return ge.WY.post({url:Z,params:{},data:{app_id:Ce,enterprise_id:Ie(),name:f,sort:I,classify_id:P}})}function st(u){var f=u.aisleName,I=u.sort,P=u.id,n=u.classifyId,c=ue.ZP.personnelDevelope.editPostAisle();return ge.WY.put({url:c,params:{},data:{app_id:Ce,enterprise_id:Ie(),name:f,sort:I,id:P,classify_id:n}})}function ke(u){var f=u.classifyId,I=ue.ZP.personnelDevelope.deletePostAisle(f);return ge.WY.delete({url:I})}function Oe(u){var f=u.rankId,I=u.passageId,P=u.postId,n=u.postName,c=ue.ZP.personnelDevelope.addPostNode();return ge.WY.post({url:c,params:{},data:{app_id:Ce,enterprise_id:Ie(),rank_id:f,passage_id:I,post_id:P,post_name:n}})}function we(u){var f=u.nodeId,I=u.rankId,P=u.passageId,n=u.postId,c=u.postName,Z=CONFIG.personnelDevelope.editPostNode();return request.post({url:Z,params:{},data:{app_id:Ce,enterprise_id:Ie(),id:f,rank_id:I,passage_id:P,post_id:n,post_name:c}})}function Te(u){var f=u.postId,I=ue.ZP.personnelDevelope.deletePostNode(f);return ge.WY.delete({url:I})}function Le(u,f){var I=ue.ZP.personnelDevelope.reorderRank(f);return ge.WY.put({url:I,data:{id_lists:u}})}var Ze=e(78657);class We extends X.Component{constructor(f){super(f);this.onConfirm=P=>{var n=this.state.handleType,c=this.props.t;n==="add"?Ue(P).then(Z=>{var $=Z.data.code;$===0&&(this.props.getPostRankList(),B.default.success(c("common.addSuccess")),this.onCancel())}):Ve(P).then(Z=>{var $=Z.data.code;$===0&&(this.props.getPostRankList(),B.default.success(c("common.editSuccess")),this.onCancel())})},this.onCancel=()=>{var P=this.state.configModal;this.setState({configModal:(0,_.Z)((0,_.Z)({},P),{},{visible:!1}),initialValues:{rankName:"",sort:""}})},this.handleOpenModal=P=>{var n=this.props,c=n.t,Z=n.rankLen;if(typeof P=="object")this.setState({handleType:"edit",configModal:{title:c("personnelDevelope.editRank"),visible:!0},initialValues:{rankName:P.rank_name,id:P.id,sort:P.sort}});else{var $={configModal:{title:c("personnelDevelope.addRank"),visible:!0},initialValues:{rankName:"",sort:Z+10},handleType:"add"};P!=="first"&&($.initialValues=(0,_.Z)((0,_.Z)({},$.initialValues),{},{id:P})),this.setState($)}};var I=this.props.t;this.state={configModal:{visible:!1,title:I("personnelDevelope.addRank")},configComponents:[{name:"rankName",nameLabel:I("personnelDevelope.rankName"),componentsType:"input",inputType:"text",maxLength:20,placeholder:I("personnelDevelope.rankNameTips"),validateType:"noEmpty"}],initialValues:{rankName:"",sort:""},handleType:"add"}}componentDidMount(){this.props.onRef(this)}render(){var f=this.state,I=f.configComponents,P=f.configModal,n=f.initialValues;return P.visible&&i().createElement(Ze.Z,{configModal:P,configComponents:I,onCancel:this.onCancel,onConfirm:this.onConfirm,initialValues:n})}}var _e=(0,re.Z)()(We);class rt extends X.Component{constructor(f){super(f);this.onConfirm=P=>{var n=this.state.handleType,c=this.props.t,Z=this.props,$=Z.classifyId,ne=Z.getPostAisleList;n==="add"?je((0,_.Z)((0,_.Z)({},P),{},{classifyId:$})).then(pe=>{var b=pe.data.code;b===0&&(ne(),B.default.success(c("common.addSuccess")),this.onCancel())}):st((0,_.Z)((0,_.Z)({},P),{},{classifyId:$})).then(pe=>{var b=pe.data.code;b===0&&(ne(),B.default.success(c("common.editSuccess")),this.onCancel())})},this.onCancel=()=>{var P=this.state.configModal;this.setState({configModal:(0,_.Z)((0,_.Z)({},P),{},{visible:!1}),initialValues:{aisleName:"",sort:""}})},this.handleOpenModal=P=>{var n=this.props.t;if(typeof P=="object")this.setState({handleType:"edit",configModal:{title:n("personnelDevelope.editPostAisle"),visible:!0},initialValues:{aisleName:P.passage_name,sort:P.sort,id:P.id}});else{var c=this.props.aisleLen,Z={configModal:{title:n("personnelDevelope.addPostAisle"),visible:!0},initialValues:{aisleName:"",sort:c+10},handleType:"add"};P!=="first"&&(Z.initialValues=(0,_.Z)((0,_.Z)({},Z.initialValues),{},{id:P})),this.setState(Z)}};var I=this.props.t;this.state={configModal:{visible:!1,title:I("personnelDevelope.addPostAisle")},configComponents:[{name:"aisleName",nameLabel:I("personnelDevelope.aisleName"),componentsType:"input",inputType:"text",maxLength:20,placeholder:I("personnelDevelope.aisleNameTips"),validateType:"noEmpty"}],initialValues:{aisleName:"",sort:""},handleType:"add"}}componentDidMount(){this.props.onRef(this)}render(){var f=this.state,I=f.configComponents,P=f.configModal,n=f.initialValues;return i().createElement(Ze.Z,{configModal:P,configComponents:I,onCancel:this.onCancel,onConfirm:this.onConfirm,initialValues:n})}}var ht=(0,re.Z)()(rt);class nt extends X.Component{constructor(f){super(f);this.onConfirm=P=>{var n=this.state.handleType,c=this.props.t,Z=this.props.onGetPostAisleClassifyList;n==="add"?be(P).then($=>{var ne=$.data.code;ne===0&&(Z(),B.default.success(c("common.addSuccess")),this.onCancel())}):xe(P).then($=>{var ne=$.data.code;ne===0&&(Z(),B.default.success(c("common.editSuccess")),this.onCancel())})},this.onCancel=()=>{var P=this.state.configModal;this.setState({configModal:(0,_.Z)((0,_.Z)({},P),{},{visible:!1}),initialValues:{name:"",sort:""}})},this.handleOpenModal=P=>{var n=this.props.t;if(P)this.setState({handleType:"edit",configModal:{title:n("personnelDevelope.editPostAisleClassify"),visible:!0},initialValues:{name:P.name,sort:P.sort,id:P.id}});else{var c=this.props.aisleClassifyLen;this.setState({configModal:{title:n("personnelDevelope.addPostAisleClassify"),visible:!0},initialValues:{name:"",sort:c+10},handleType:"add"})}};var I=this.props.t;this.state={configModal:{visible:!1,title:I("personnelDevelope.addAisleClassify")},configComponents:[{name:"name",nameLabel:I("personnelDevelope.aisleClassifyName"),componentsType:"input",inputType:"text",maxLength:20,placeholder:I("personnelDevelope.aisleClassifyNameTips"),validateType:"noEmpty"}],initialValues:{name:"",sort:""}}}componentDidMount(){this.props.onRef(this)}render(){var f=this.state,I=f.configComponents,P=f.configModal,n=f.initialValues;return i().createElement(Ze.Z,{configModal:P,configComponents:I,onCancel:this.onCancel,onConfirm:this.onConfirm,initialValues:n})}}var He=(0,re.Z)()(nt),Ke=e(62029),Fe=e(66456),mt=e(55313),$e=e(18329);class vt extends X.Component{constructor(f){super(f);this.onAisleClassifyRef=P=>{this.aisleClassifyRef=P},this.onChooseClassify=P=>{this.props.onTabClick(P.id),this.setState({visible:!1})},this.onDeleteClassify=P=>{var n=this.props.t;N.Z.confirm({title:n("personnelDevelope.operationTips"),icon:i().createElement(Pe.Z,null),content:n("personnelDevelope.deleteAisleClassifyMsg"),okText:n("common.ok"),cancelText:n("common.cancel"),zIndex:9999,onOk:()=>{Ae(P.id).then(c=>{var Z=c.data.code;Z===0&&(B.default.success(n("common.deleteSuccess")),this.props.onGetPostAisleClassifyList())})}})},this.onEditClassify=P=>{this.aisleClassifyRef.handleOpenModal(P)},this.onCancel=()=>{this.setState({visible:!1})},this.handleOpenModal=()=>{this.setState({visible:!0})};var I=this.props.t;this.state={modalConfig:{title:I("personnelDevelope.managePostAisleClassify"),size:"large",destroyOnClose:!0,maskClosable:!1,footer:null},visible:!1}}componentDidMount(){this.props.onRef(this)}render(){var f=this.state.modalConfig,I=this.props,P=I.classifyList,n=I.onGetPostAisleClassifyList,c=I.t,Z=[{title:c("personnelDevelope.classifyList"),dataIndex:"name",key:"name"},{title:c("common.operate"),key:"action",render:($,ne)=>i().createElement(a.Z,{size:"middle"},i().createElement(O.Z,{type:"link",onClick:()=>{this.onChooseClassify(ne)}},c("common.select")),i().createElement(O.Z,{type:"link",onClick:()=>{this.onEditClassify(ne)}},c("personnelDevelope.edit")),i().createElement(O.Z,{type:"link",onClick:()=>{this.onDeleteClassify(ne)}},c("common.delete")))}];return i().createElement($e.ZP,(0,Ke.Z)({},f,{visible:this.state.visible,onCancel:this.onCancel}),i().createElement(mt.Z,{columns:Z,dataSource:P,pagination:!1}),i().createElement(He,{onGetPostAisleClassifyList:n,onRef:this.onAisleClassifyRef}))}}var ft=(0,re.Z)()(vt),Ye=e(68628);function it(u){var f=u.t,I=i().createElement("div",{className:"legend-wrapper"},i().createElement("div",{className:"legend-item"},i().createElement("div",{className:"item-icon add-post"},i().createElement(ye.Z,null)),i().createElement("span",{className:"item-tip"},f("personnelDevelope.appendPost"))),i().createElement("div",{className:"legend-item"},i().createElement("div",{className:"item-icon single-post"}),i().createElement("span",{className:"item-tip"},f("personnelDevelope.singlePost"))),i().createElement("div",{className:"legend-item"},i().createElement("div",{className:"item-icon"},i().createElement("div",{className:"multiple-post"}),i().createElement("div",{className:"cascade-effect"})),i().createElement("span",{className:"item-tip"},f("personnelDevelope.multiplePost"))));return i().createElement("div",null,i().createElement(w.Z,{placement:"bottomRight",content:I,trigger:"click"},i().createElement(O.Z,{type:"text",icon:i().createElement(Ye.Z,null)},f("personnelDevelope.legend"))))}var Qe=(0,re.Z)()(it),ot=e(11449),Je=e(81211),Xe=e(95742),lt=e(80454),qe=e.n(lt),et=e(84874),ct=(0,Xe.JV)(()=>i().createElement(et.Z,{color:"#C5C5C5",iconClass:"iconf-move"})),tt=[{title:"Sort",dataIndex:"sort",width:30,className:"drag-visible",render:()=>i().createElement(ct,null)},{title:"name",dataIndex:"name"}],gt=[],yt=(0,Xe.gU)(u=>i().createElement("tr",u)),dt=(0,Xe.hv)(u=>i().createElement("tbody",u));class Ct extends i().Component{constructor(){super(...arguments);this.state={dataSource:gt},this.onOk=()=>{var f=this.state.dataSource,I=this.props.type,P=f.map(n=>n.id);I==="post-ranks"&&(P=P.reverse()),Le(P,I).then(n=>{n.data.code===0&&(this.props.getPostRankList(),I==="passage-classify"&&this.props.getPostAisleClassifyList()),this.props.handleRecordCancel()})},this.onSortEnd=f=>{var I=f.oldIndex,P=f.newIndex,n=this.state.dataSource;if(I!==P){var c=qe()([].concat(n),I,P).filter(Z=>!!Z);this.setState({dataSource:c})}},this.DraggableContainer=f=>i().createElement(dt,(0,Ke.Z)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"reorder-rank-dragging post-chanel-dragging",onSortEnd:this.onSortEnd},f)),this.DraggableBodyRow=f=>{var I=f.className,P=f.style,n=(0,Je.Z)(f,["className","style"]),c=this.state.dataSource,Z=c.findIndex($=>$.index===n["data-row-key"]);return i().createElement(yt,(0,Ke.Z)({index:Z},n,{style:{zIndex:1e3}}))},this.renderTitle=()=>{var f=this.props,I=f.t,P=f.type,n="";return P==="post-ranks"?n=I("personnelDevelope.reorderRank"):P==="post-passages"?n=I("personnelDevelope.reorderAisle"):P==="passage-classify"&&(n=I("personnelDevelope.reorderClassify")),n}}componentDidUpdate(f){f.visible!==this.props.visible&&this.setState({dataSource:this.props.reorderData})}render(){var f=this.state.dataSource,I=this.props,P=I.t,n=I.visible,c=I.handleRecordCancel;return i().createElement($e.ZP,{title:this.renderTitle(),visible:n,onCancel:()=>{c()},onOk:this.onOk,okText:P("personnelDevelope.saveNewOrder"),cancelText:P("common.cancel"),size:"medium",destroyOnClose:!0,width:"528",wrapClassName:"reorder-rank-modal post-chanel-rank-modal"},i().createElement(mt.Z,{showHeader:!1,pagination:!1,dataSource:f,columns:tt,rowKey:"index",components:{body:{wrapper:this.DraggableContainer,row:this.DraggableBodyRow}}}))}}var Et=(0,re.Z)()(Ct),me=e(1164),v=e(88311),h=e(86726),d=e(4408),l=ee.Z.TabPane;class g extends X.PureComponent{constructor(f){var I;super(f);I=this,this.onRankDetailRef=n=>{this.rankDetailRef=n},this.onPostAisleRef=n=>{this.postAisleRef=n},this.onAisleClassifyRef=n=>{this.aisleClassifyRef=n},this.onClassifyListRef=n=>{this.classifyListRef=n},this.onGetPostAisleClassifyList=()=>{Ne().then(n=>{var c=n.data,Z=c.code,$=c.data;Z===0&&($.forEach((ne,pe)=>{ne.index=pe}),this.setState({postAisleClassifyList:$,classifyId:$[0].id},()=>{this.onGetPostAisleList()}))})},this.onTabClick=n=>{this.setState({classifyId:n,postAisleList:[],fixedChanelVisible:!1},()=>{this.onGetPostAisleList()})},this.onGetPostAisleList=()=>{var n=this.state,c=n.rankList,Z=n.classifyId,$=n.postAisleClassifyList;!Z||c.length<=0||(this.setState({isLoading:!0}),ze({classifyId:Z}).then(ne=>{var pe=ne.data,b=pe.code,E=pe.data;b===0&&function(){for(var m=[],s=[],r=0;r<E.length;r++){E[r].name=E[r].passage_name,E[r].index=r;var y=(0,se.Z)(c.entries()),p;try{for(y.s();!(p=y.n()).done;){var t=p.value,S=(0,Y.Z)(t,2),F=S[0],G=S[1];if(!Array.isArray(E[r].postNodeList))break;var z=(0,se.Z)(E[r].postNodeList),V;try{for(z.s();!(V=z.n()).done;){var Q=V.value;if(G.id===Q.rank_id){Q.dto_list.length>1?s.push((0,_.Z)((0,_.Z)({},Q.dto_list[0]),{},{children:Q.dto_list})):s.push((0,_.Z)((0,_.Z)({},Q.dto_list[0]),{},{children:[]}));break}}}catch(te){z.e(te)}finally{z.f()}s.length-1<F&&(F===0?s.unshift({id:E[r].id,passage_classify_id:E[r].passage_classify_id,passage_name:E[r].passage_name,sort:E[r].sort}):s.push({post_name:""}))}}catch(te){y.e(te)}finally{y.f()}s.forEach((te,oe)=>{if(te.post_name!=="")if(oe===0)te.style={background:"#6787ED"};else if(oe===1)te.style={background:"rgba(103, 135, 237, 0.5)"};else if(oe===s.length-1)te.style={background:"rgba(103, 135, 237, 0.1)"};else{var ie=parseInt(50-40/(s.length-2)*(oe-1))/100;te.style={background:"rgba(103, 135, 237,".concat(ie,")")}}}),m.push(s),s=[]}I.setState({postAisleList:m,isLoading:!1,rankAisleTitleList:[...E],maxClassifySort:I.getMaxSort($),maxRankListSort:I.getMaxSort(c),maxAisleListSort:I.getMaxSort(E)})}()}))},this.onImportPostSequence=()=>{},this.onOrgDialogOk=n=>{var c=this.props.t,Z=n.post;if(Z.length>10){B.default.warning(c("personnelDevelope.choosePostTips"));return}var $=[],ne=[];Z.forEach(m=>{$.push(m.post_name),ne.push(m.id)});var pe=this.state,b=pe.rankId,E=pe.passageId;Oe({rankId:b,passageId:E,postId:ne,postName:$}).then(m=>{var s=m.data.code;s===0&&(this.onGetPostAisleList(),B.default.success(c("personnelDevelope.createSuccess")),this.onOrgDialogCancel())})},this.onOrgDialogCancel=()=>{var n=this.state.orgModalConfig;this.setState({orgModalConfig:(0,_.Z)((0,_.Z)({},n),{},{visible:!1})})},this.onGetPostRankList=()=>{var n=this.props.t;Re().then(c=>{var Z=c.data,$=Z.code,ne=Z.data,pe=[{rank_name:n("personnelDevelope.ranks"),type:"rank"},...ne.reverse()];pe.forEach((b,E)=>{if(b.index=E,b.name=b.rank_name,b.key=E.toString(),E===0)b.style={background:"#B179EB"};else if(E===1)b.style={background:"rgba(177, 121, 235, 0.5)"};else if(E===pe.length-1)b.style={background:"rgba(177, 121, 235, 0.1)"};else{var m=parseInt(50-40/(pe.length-2)*(E-1))/100;b.style={background:"rgba(177, 121, 235,".concat(m,")")}}}),$===0&&this.setState({rankList:pe},()=>{this.onGetPostAisleList()})})},this.onCreateRankContent=n=>{var c=this.state.rankList,Z=this.props.t;return i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",disabled:c.length>=51,onClick:()=>this.rankDetailRef.handleOpenModal()},Z("personnelDevelope.append")),i().createElement(O.Z,{type:"text",onClick:()=>{this.rankDetailRef.handleOpenModal(n)}},Z("personnelDevelope.edit")),i().createElement(O.Z,{type:"text",onClick:()=>{this.onDelRank(n)}},Z("personnelDevelope.remove")))},this.onDelRank=n=>{var c=this.props.t;N.Z.confirm({title:c("personnelDevelope.operationTips"),icon:i().createElement(Pe.Z,null),content:c("personnelDevelope.deleteRankMsg"),okText:c("common.ok"),cancelText:c("common.cancel"),zIndex:9999,onOk:()=>{Ge({rankId:n.id}).then(Z=>{var $=Z.data.code;$===0&&(B.default.success(c("common.deleteSuccess")),this.onGetPostRankList())})}})},this.onCreatePostSequenceContent=n=>{var c=this.props.t;return i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",onClick:()=>{this.postAisleRef.handleOpenModal()}},c("personnelDevelope.append")),i().createElement(O.Z,{type:"text",onClick:()=>{this.postAisleRef.handleOpenModal(n)}},c("personnelDevelope.edit")),i().createElement(O.Z,{type:"text",onClick:()=>{this.onDelPostSequence(n)}},c("personnelDevelope.remove")))},this.onDelPostSequence=n=>{var c=this.props.t;N.Z.confirm({title:c("personnelDevelope.operationTips"),icon:i().createElement(Pe.Z,null),content:c("personnelDevelope.deletePostSequenceMsg"),okText:c("common.ok"),cancelText:c("common.cancel"),zIndex:9999,onOk:()=>{ke({classifyId:n.id}).then(Z=>{var $=Z.data.code;$===0&&(B.default.success(c("common.deleteSuccess")),this.onGetPostAisleList())})}})},this.onCreatePostContent=(n,c,Z)=>{var $=this.state.postAisleList,ne=this.props.t,pe=$[c][Z].children.length;return Array.isArray(n)?i().createElement(a.Z,{direction:"vertical"},n.map(b=>i().createElement(k.Z,{title:b.post_name,key:b.post_id},i().createElement(O.Z,{className:"post-node-btn",type:"text",onClick:()=>{this.onChoosePost(b,c,Z)}},b.post_name))),n.length<10?i().createElement(O.Z,{className:"post-node-btn",type:"primary",size:"small",icon:i().createElement(ye.Z,null),onClick:()=>{this.onAddPostNode(c,Z)}}):null):i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",className:"popover-btn",onClick:()=>this.onConfigScheme(n)},ne("personnelDevelope.allocationplan")),i().createElement(O.Z,{type:"text",className:"popover-btn",onClick:()=>this.onCheckLearningPlan(n)},ne("personnelDevelope.check")),i().createElement(O.Z,{type:"text",disabled:pe>=10,onClick:()=>{this.onAddPostNode(c,Z)}},ne("personnelDevelope.append")),i().createElement(O.Z,{type:"text",onClick:()=>{this.onDelPost(n)}},ne("personnelDevelope.remove")))},this.onConfigScheme=n=>{me.Z.targetTo({path:"/talentedDevelopment/postTrainPlan/postCollocation/add?post_id=".concat(n.post_id,"&postFromPage=channel")})},this.onCheckLearningPlan=n=>{var c=this.props.t;n.assigned?me.Z.targetTo({path:"/talentedDevelopment/postTrainPlan/postCollocation/add?post_id=".concat(n.post_id,"&view=true&postFromPage=channel")}):B.default.warning(c("personnelDevelope.checkStudyPlayTips"))},this.onAddPostNode=(n,c)=>{var Z=this.state,$=Z.orgModalConfig,ne=Z.rankList,pe=Z.postAisleList;this.setState({orgModalConfig:(0,_.Z)((0,_.Z)({},$),{},{visible:!0}),rankId:ne[c].id,passageId:pe[n][0].id})},this.onDelPost=n=>{var c=this.props.t;N.Z.confirm({title:c("personnelDevelope.operationTips"),icon:i().createElement(Pe.Z,null),content:c("personnelDevelope.deletePostMsg"),okText:c("common.ok"),cancelText:c("common.cancel"),zIndex:9999,onOk:()=>{Te({postId:n.id}).then(Z=>{var $=Z.data.code;$===0&&(B.default.success(c("common.deleteSuccess")),this.onGetPostAisleList())})}})},this.onChoosePost=(n,c,Z)=>{this.setState({replaceDomLocation:{x:c,y:Z,Info:n}})},this.onPopoverChange=n=>{n||this.setState({replaceDomLocation:{x:null,y:null,Info:{}}})},this.createPostSequenceContent=n=>{var c=this.props.t;return i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",onClick:()=>{this.postAisleRef.handleOpenModal(n.id)}},c("personnelDevelope.append")),i().createElement(O.Z,{type:"text",onClick:()=>{this.postAisleRef.handleOpenModal(n)}},c("personnelDevelope.edit")),i().createElement(O.Z,{type:"text",onClick:()=>{this.onDelPostSequence(n)}},c("personnelDevelope.remove")))},this.createRankContent=n=>{var c=this.state.rankList,Z=this.props.t;return i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",disabled:c.length>=51,onClick:()=>this.rankDetailRef.handleOpenModal(n.id)},Z("personnelDevelope.append")),i().createElement(O.Z,{type:"text",onClick:()=>{this.rankDetailRef.handleOpenModal(n)}},Z("personnelDevelope.edit")),i().createElement(O.Z,{type:"text",onClick:()=>{this.onDelRank(n)}},Z("personnelDevelope.remove")))},this.matchColor=n=>n%3==0?"blue-btn":n%3==1?"green-btn":"yellow-btn",this.matchLocation=(n,c)=>{var Z=this.state.replaceDomLocation;return Z.x===n&&Z.y===c},this.createMenu=()=>{var n=this.props.t,c=this.state.postAisleClassifyList,Z=(0,h.H3)("add_passage_classify",this.state.actions),$=(0,h.H3)("edit_passage_classify",this.state.actions);return i().createElement(o.Z,null,Z&&i().createElement(o.Z.Item,null,i().createElement(O.Z,{type:"link",disabled:c.length>=20,onClick:()=>{this.aisleClassifyRef.handleOpenModal()}},n("personnelDevelope.addAisleClassify"))),$&&i().createElement(o.Z.Item,null,i().createElement(O.Z,{type:"link",onClick:()=>{this.classifyListRef.handleOpenModal()}},n("personnelDevelope.manageAisleClassify"))),c.length>1&&i().createElement(o.Z.Item,null,i().createElement(O.Z,{type:"link",onClick:()=>{this.showReorderRank(c,"passage-classify")}},n("personnelDevelope.reorderClassify"))))},this.renderRankConstruction=()=>{var n=this.props.t,c=this.state.rankList;return i().createElement(a.Z,{direction:"vertical"},c.length<51&&i().createElement(O.Z,{type:"text",onClick:()=>{this.rankDetailRef.handleOpenModal("first")}},n("personnelDevelope.addRank")),c.length>2&&i().createElement(O.Z,{type:"text",onClick:()=>{this.showReorderRank(c.slice(1,c.length),"post-ranks")}},n("personnelDevelope.reorderRank")))},this.showReorderRank=(n,c)=>{this.setState({reorderRankVisible:!0,reorderData:n,reorderType:c})},this.reorderCancel=()=>{this.setState({reorderRankVisible:!1})},this.handleScroll=()=>{var n=this.panelContent.scrollLeft;this.fixedItemRef.style.transform="translate(".concat(-1*n,"px, 0px)")},this.panelContainerScroll=()=>{var n=this.panelContainerRef.scrollTop,c=!1;n>=80?(c=!0,this.channelConstructionRef.style.top="188px"):this.channelConstructionRef.style.top="220px",this.setState({fixedChanelVisible:c})},this.createPostAisle=()=>{var n=this.state.rankAisleTitleList,c=this.props.t;return i().createElement(a.Z,{direction:"vertical"},i().createElement(O.Z,{type:"text",onClick:()=>{this.postAisleRef.handleOpenModal("first")}},c("personnelDevelope.addAisle")),n.length>1&&i().createElement(O.Z,{type:"text",onClick:()=>{this.showReorderRank(n,"post-passages")}},c("personnelDevelope.reorderAisle")))},this.getMaxSort=n=>{var c=-1;return n.forEach(Z=>{Z.sort&&c<Z.sort&&(c=Z.sort)}),c};var P=this.props.t;this.state={actions:(0,h.V9)("postPassage",f.modules),orgModalConfig:{visible:!1,title:P("course.jobs"),onlyDept:!0,onlyChoosePost:!0,onlyPost:!0,displayType:["post",""],onOk:this.onOrgDialogOk,onCancel:this.onOrgDialogCancel},postAisleClassifyList:[],postAisleList:[],rankList:[],replaceDomLocation:{x:null,y:null,Info:{}},classifyId:"",rankId:"",passageId:"",isLoading:!0,reorderRankVisible:!1,fixedChanelVisible:!1,rankAisleTitleList:[],reorderData:[],reorderType:"",maxClassifySort:-1,maxRankListSort:-1}}componentDidMount(){this.onGetPostRankList(),this.onGetPostAisleClassifyList()}render(){var f=this.state,I=f.orgModalConfig,P=f.postAisleClassifyList,n=f.rankList,c=f.replaceDomLocation,Z=f.classifyId,$=f.postAisleList,ne=f.isLoading,pe=f.reorderRankVisible,b=f.rankAisleTitleList,E=f.fixedChanelVisible,m=f.reorderData,s=f.reorderType,r=f.maxClassifySort,y=f.maxRankListSort,p=f.maxAisleListSort,t=this.props.t,S=i().createElement(C.Z,{overlay:this.createMenu(),placement:"bottomRight"},i().createElement(O.Z,{type:"text",icon:i().createElement(fe.Z,null)}));return i().createElement(ot.Z,{noPadding:!0,pageContainerParams:{header:{title:t("personnelDevelope.postChannelBuild")}}},i().createElement(d.Z,{title:t("personnelDevelope.postChannelBuild")}),i().createElement(R.Z,{spinning:ne},i().createElement("div",{className:"component-position-flow"},i().createElement(ee.Z,{tabBarExtraContent:S,activeKey:Z,tabPosition:"top",type:"card",onTabClick:this.onTabClick,destroyInactiveTabPane:!0},P.map((F,G)=>i().createElement(l,{tab:F.name,key:F.id,disabled:G===28},i().createElement("div",{className:E?"fixed-chanel":"fixed-chanel hide"},i().createElement("div",{className:"fixed-item active position-item"},i().createElement(w.Z,{placement:"rightTop",content:this.renderRankConstruction(),trigger:"click",zIndex:10,autoAdjustOverflow:!1,overlayClassName:"post-channel-popover"},i().createElement(O.Z,{type:"primary",shape:"round",className:"add-rank rank-content-btn"},t("personnelDevelope.rankConstruction")))),i().createElement("div",{className:"fixed-item-content",ref:z=>{this.fixedItemRef=z}},b.map((z,V)=>i().createElement("div",{className:"fixed-item",key:V.toString()},i().createElement(w.Z,{placement:"bottomRight",autoAdjustOverflow:!1,content:this.createPostSequenceContent(z),trigger:"click",overlayClassName:"post-channel-popover"},i().createElement("span",null,z.passage_name)))))),i().createElement("div",{className:"tab-panel-container",onScroll:z=>this.panelContainerScroll(z),ref:z=>{this.panelContainerRef=z}},i().createElement("div",{className:"tab-panel-container-header"},i().createElement(a.Z,null,i().createElement(Qe,null))),i().createElement("div",{className:"tab-panel-container-content"},i().createElement("div",{className:"tab-panel-container-content-left"},i().createElement("div",{className:"position-flow-column"},n.map((z,V)=>V===0?i().createElement("div",{className:"position-item first post-test",ref:Q=>{this.rankTitleRef=Q}},i().createElement(w.Z,{placement:"rightTop",content:this.renderRankConstruction(z),trigger:"click",getPopupContainer:Q=>Q.parentNode,zIndex:10,autoAdjustOverflow:!1,overlayClassName:"post-channel-popover"},i().createElement(O.Z,{type:"primary",shape:"round",style:z.style,className:"add-rank rank-content-btn"},t("personnelDevelope.rankConstruction")))):i().createElement("div",{className:"position-item",key:z.id},i().createElement(w.Z,{placement:"rightTop",getPopupContainer:Q=>Q.parentNode,autoAdjustOverflow:!1,content:this.createRankContent(z),trigger:"click",zIndex:10,overlayClassName:"post-channel-popover"},i().createElement(k.Z,{title:z.rank_name},i().createElement(O.Z,{shape:"round",style:z.style,className:"position-item-main rank-content-btn"},z.rank_name))),n.length>2&&i().createElement("div",{className:"arrow-up"}))))),i().createElement("div",{className:"tab-panel-container-content-right",ref:z=>{this.panelContent=z},onScroll:z=>this.handleScroll(z)},i().createElement(w.Z,{placement:"left",autoAdjustOverflow:!1,content:this.createPostAisle(),trigger:"click",zIndex:102,overlayClassName:"post-channel-popover"},i().createElement(O.Z,{type:"primary",shape:"round",className:"add-aisle-btn-suspension",ref:z=>{this.channelConstructionRef=z}},t("personnelDevelope.channelConstruction"))),$.map((z,V)=>i().createElement("div",{className:"position-flow-column",key:V.toString()},z.map((Q,te)=>te===0?i().createElement("div",{className:"position-item first",key:Q.post_id},i().createElement("div",{className:"position-item-main"},i().createElement(w.Z,{placement:"bottomRight",getPopupContainer:oe=>oe.parentNode,autoAdjustOverflow:!1,content:this.createPostSequenceContent(Q),trigger:"click",overlayClassName:"post-channel-popover"},i().createElement(k.Z,{title:Q.passage_name},i().createElement(O.Z,{type:"primary",className:"position-item-main-btn",style:Q.style},Q.passage_name))))):i().createElement("div",{className:"position-item",key:Q.post_id},Q.post_name?i().createElement("div",{className:"position-item-main"},this.matchLocation(V,te)?null:i().createElement(W.Z,{count:Q.children.length}),Q.children.length>0&&!this.matchLocation(V,te)?i().createElement("div",{className:"cascade-effect ".concat(this.matchColor(V))}):null,i().createElement(w.Z,{placement:te>z.length-5?"rightBottom":"rightTop",getPopupContainer:oe=>oe.parentNode,autoAdjustOverflow:!1,content:this.matchLocation(V,te)?this.onCreatePostContent(c.Info,V,te):Q.children.length>0?this.onCreatePostContent(Q.children,V,te):this.onCreatePostContent(Q,V,te),trigger:"click",overlayClassName:"post-channel-popover",zIndex:10,onVisibleChange:this.onPopoverChange},i().createElement(k.Z,{title:this.matchLocation(V,te)?c.Info.post_name:Q.post_name},i().createElement(O.Z,{style:Q.style,className:"position-item-main-btn ".concat(this.matchColor(V))},this.matchLocation(V,te)?c.Info.post_name:Q.post_name)))):i().createElement("div",{className:"position-item-main"},i().createElement(O.Z,{type:"dashed",className:"add-post-btn",onClick:()=>{this.onAddPostNode(V,te)}},i().createElement(ye.Z,null),i().createElement("p",{className:"add-post-tip-text"},t("personnelDevelope.addPost")))),z.length>2&&i().createElement("div",{className:"arrow-up"}))))))))))),i().createElement(v.Z,I),i().createElement(_e,{getPostRankList:this.onGetPostRankList,rankLen:y,onRef:this.onRankDetailRef}),i().createElement(ht,{classifyId:Z,getPostAisleList:this.onGetPostAisleList,aisleLen:p,onRef:this.onPostAisleRef}),i().createElement(He,{onGetPostAisleClassifyList:this.onGetPostAisleClassifyList,aisleClassifyLen:r,onRef:this.onAisleClassifyRef}),i().createElement(ft,{classifyList:P,onTabClick:this.onTabClick,onGetPostAisleClassifyList:this.onGetPostAisleClassifyList,onRef:this.onClassifyListRef}),i().createElement(Et,{reorderData:m,visible:pe,handleRecordCancel:this.reorderCancel,getPostRankList:this.onGetPostRankList,getPostAisleClassifyList:this.onGetPostAisleClassifyList,type:s}))))}}var D=u=>(0,_.Z)((0,_.Z)({},u),{},{modules:u.user.modules}),A=u=>(0,_.Z)({},u),M=(0,he.$j)(D,A)((0,re.Z)()(g))},78657:function(De,le,e){"use strict";e.d(le,{Z:function(){return ae}});var K=e(62029),R=e(12924),J=e.n(R),W=e(91768),j=e(80991),w=e(6793),H=e(7584),C=e(70075),x=e(73548),o=e(77883),T=e(21888),k=(B,_)=>{_.onChange&&_.onChange(B===null?typeof _.min!="undefined"?_.min:"":B)},U=B=>J().createElement(T.Z,(0,K.Z)({},B,{onChange:_=>k(_,B)})),N=U,L=e(18329),a=e(43859),q=(0,a.Z)(N);class O extends J().Component{constructor(_){super(_);this.onModalChange=se=>{this.setState({disabled:se}),this.props.onModalChange(se)},this.onOk=()=>{var se=this.props.configModal,Y=this.state.disabled;se.renderType==="text"?this.props.onConfirm():Y||this.initRef.current.submitForm()},this.onCancel=()=>{this.props.onCancel()},this.onSubmit=se=>{var Y={};for(var ce in se)typeof se[ce]=="string"?Y[ce]=(0,w.fy)(se[ce]):Y[ce]=se[ce];this.props.onConfirm(Y)},this.chooseComponent=se=>{switch(se){case"input":return H.Z;case"textarea":return C.Z;case"ClassifySelect":return x.P;case"inputNumer":return q;default:return null}},this.formValidate=se=>{switch(se){case"noEmpty":return this.noEmpty;case"limitNumberRange":return this.limitNumberRange;case"isSameName":return this.isSameName;default:return null}},this.isSameName=se=>{var Y,ce=this.props,ee=ce.data,X=ce.configComponents,i=ce.configModal,he=ce.t,re=X[0].name,Pe=i.tag,ye=[],fe=(0,w.fy)(se);if(Y=this.noEmpty(fe),!Y){for(var ue=0;ue<ee.length;ue++)Pe===ue&&(ue+=1),ee[ue]&&ee[ue][re]===fe&&ye.push(ee[ue][re]);ye.length&&(Y=he("personnelDevelope.validation.nameExists"))}return Y},this.limitNumberRange=se=>{var Y=this.props.t,ce;return ce=this.noEmpty(se),ce||(se<1||se>999)&&(ce=Y("personnelDevelope.validation.wrongNumber")),ce},this.noEmpty=se=>{var Y=this.props.t,ce;return(0,w.fy)(se)||(ce=Y("personnelDevelope.validation.requiredNotBlank")),ce},this.renderForm=se=>{var Y=this.props,ce=Y.configComponents,ee=Y.classifyData,X=Y.addClassify;return J().createElement(j.l0,{className:"post-info-form post-common-modal"},ce.map((i,he)=>{var re={name:i.name,component:this.chooseComponent(i.componentsType),label:i.nameLabel,style:i.style||{width:"428px"},attr:i.attr?i.attr:"",placeholder:i.placeholder,key:he,validate:this.formValidate(i.validateType),maxLength:i.maxLength,defaultValue:se.values[i.name]||i.defaultValue,labelCol:i.labelCol?i.labelCol:{},wrapperCol:i.wrapperCol?i.wrapperCol:{},required:!i.isNoRequired,isPreview:i.disabled,onModalChange:this.onModalChange,addClassify:X};return ee&&(re.classifyData=ee),i.inputType!=="number"&&(re.type="text"),J().createElement(j.gN,(0,K.Z)({key:he.toString()},re))}))},this.initRef=J().createRef(),this.state={disabled:""}}render(){var _=this.props,se=_.t,Y=_.configModal,ce=_.initialValues,ee={okText:se("common.ok"),cancelText:se("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"20"},maskClosable:!1,width:"560"};return Y.isOptionButton&&(ee.footer=null),J().createElement(L.ZP,(0,K.Z)({title:Y.title},ee,{visible:Y.visible,onCancel:this.onCancel,onOk:this.onOk,destroyOnClose:!0,wrapClassName:"post-modal-alert"}),Y.renderType==="text"?J().createElement("div",{className:"post-modal-content"},Y.content):J().createElement(j.J9,{ref:this.initRef,initialValues:ce,render:this.renderForm,onSubmit:this.onSubmit}),this.props.children)}}var ae=(0,W.Z)()(O)},9849:function(De,le,e){"use strict";e.d(le,{Ej:function(){return j},kL:function(){return w},T:function(){return H},NU:function(){return C},FL:function(){return x},fn:function(){return o},bm:function(){return T},jY:function(){return k},Vs:function(){return U},li:function(){return N},Nl:function(){return L},YF:function(){return a},Q6:function(){return q},zW:function(){return O},Zv:function(){return ae},Qg:function(){return B},qc:function(){return _},Ve:function(){return Y},rS:function(){return ce},Rh:function(){return ee}});var K=e(10237),R=e(37055),J=e(38642),W={zaraFlag:(0,J.UI)("ZARA_H5")};function j(X,i){var he=R.ZP.StudyProjectList.startStudy(X);return K.WY.post({url:he,data:i})}function w(X){var i=R.ZP.Common.enroll(X);return K.WY.post({url:i})}function H(X,i){var he=X.courseId,re=R.ZP.StudyProjectList.studyProject(he);return K.WY.get({url:re,params:i})}function C(X){var i=X.id,he=W.zaraFlag?R.m1.getAssessmentProjectInfo(i):R.m1.getProjectInfo(i);return K.WY.get({url:he})}function x(X){var i=X.courseId,he=R.ZP.EnterpriseCourse.addScanCount(i);return K.WY.post({url:he})}function o(){var X=R.ZP.StudyProjectList.getAccountInfo();return K.WY.get({url:X})}function T(X){var i=R.ZP.StudyProjectList.projectCertiUrl(X);return K.WY.get({url:i})}function k(X){var i=X.courseId,he=R.ZP.Courses.like(i);return K.WY.post({url:he})}function U(X){var i=R.ZP.EnterpriseCourse.addCommentAndScore();return K.qg.post({url:i,data:X})}function N(X){var i=R.ZP.EnterpriseCourse.getCourseComments();return K.WY.get({url:i,params:X})}function L(X){var i=R.ZP.EnterpriseCourse.addCommentAndScore();return K.qg.post({url:i,data:X})}function a(X){var i=R.ZP.EnterpriseCourse.deleteComment();return K.qg.post({url:i,data:X})}function q(X,i){var he=R.ZP.StudyProjectList.projectStudyRecord(X);return K.WY.get({url:he,params:i})}function O(X){var i=R.ZP.DingSpaceId.getSpaceId();return K.WY.get({url:i,params:X})}function ae(X,i){var he=R.ZP.PlatformCourse.learningUrl(X);return K.WY.get({url:he,params:i})}function B(X){var i=R.ZP.MyExamTask.examIntro({examId:X});return K.WY.get({url:i})}function _(X){var i=R.ZP.MyExamTask.examCheckStatus({examId:X});return K.WY.get({url:i})}function se(X,i){var he=CONFIG.Common.getOperateLog(X);return formDataRequest.get({url:he,params:i})}function Y(X,i){var he=W.zaraFlag?R.ZP.StudyProjectList.changeCustomStatus(X):R.ZP.StudyProjectList.changeStatus(X);return K.WY.post({url:he,data:i})}function ce(X){var i=R.ZP.StudyProjectList.getProjectReward(X);return K.WY.get({url:i})}function ee(X){var i=R.ZP.subsidyGz.subsidyCourseSetting(X);return K.WY.get({url:i})}},91648:function(De,le,e){"use strict";e.d(le,{Z:function(){return K}});function K(R,J){var W,j,w,H,W;if(j="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),W=[],w=void 0,J=J||j.length,R)for(w=0;w<R;)W[w]=j[0|Math.random()*J],w++;else for(H=void 0,W[8]=W[13]=W[18]=W[23]="-",W[14]="4",w=0;w<36;)W[w]||(H=0|Math.random()*16,W[w]=j[w===19?H&3|8:H]),w++;return W.join("")}},86726:function(De,le,e){"use strict";e.d(le,{V9:function(){return R},H3:function(){return J},e:function(){return W},F:function(){return j}});var K=e(93485);function R(w){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=[];function x(o,T){var k=(0,K.Z)(T),U;try{for(k.s();!(U=k.n()).done;){var N=U.value;if(N.key===o){C=N.actions;break}N.children instanceof Array&&N.children.length&&x(w,N.children)}}catch(L){k.e(L)}finally{k.f()}}return x(w,H),C}function J(w){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=H.find(x=>x.key===w)||{};return C.checked||!1}function W(w){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=!1;function x(o,T){var k=(0,K.Z)(T),U;try{for(k.s();!(U=k.n()).done;){var N=U.value;if(N.key===o){C=N.checked;break}N.children instanceof Array&&N.children.length&&x(w,N.children)}}catch(L){k.e(L)}finally{k.f()}}return x(w,H),C}function j(w){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C="";function x(o,T){var k=(0,K.Z)(T),U;try{for(k.s();!(U=k.n()).done;){var N=U.value;if(N.key===o){C=N.id;break}N.children instanceof Array&&N.children.length&&x(w,N.children)}}catch(L){k.e(L)}finally{k.f()}}return x(w,H),C}},69164:function(De,le,e){"use strict";var K=e(34792),R=e(48086);function J(W){W&&W.length>0&&R.default.success(W)}le.Z=J},65202:function(De,le,e){"use strict";e.d(le,{p:function(){return K}});function K(){return localStorage.getItem("themeColor")||"#516AE6"}},25547:function(De,le,e){"use strict";e.d(le,{Yd:function(){return J},VX:function(){return j},lK:function(){return w},NP:function(){return H}});var K=e(88986),R=e(93485);function J(C,x,o){var T=0;function k(U,N){for(var L=0;L<U.length;L++){var a=U[L];if(a[C]===x){T=N;break}else a.children instanceof Array&&a.children.length&&k(a.children,N+1)}}return k(o,1),T}function W(C){var x=1;function o(T,k){T.forEach(U=>{k>x&&(x=k),U.children&&U.children.length>0&&o(U.children,k+1)})}return o(C,1),x}function j(C,x,o){C.forEach((T,k,U)=>{if(T.id===x)return o(T,k,U);if(T.children)return j(T.children,x,o)})}function w(C,x){var o;function T(k){var U=(0,R.Z)(k),N;try{for(U.s();!(N=U.n()).done;){var L=N.value;if(L.id==x){o={id:L.id,name:L.name,children:L.children,parentId:L.parentId};break}L.children&&L.children instanceof Array&&L.children.length>0&&T(L.children)}}catch(a){U.e(a)}finally{U.f()}}return T(C),o?(0,K.Z)((0,K.Z)({},o),{},{children:o.children instanceof Array?o.children:[]}):{children:[],id:"",name:""}}var H=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"children",k=[...x];function U(N){Object.keys(o).forEach(L=>{var a=L,q=o[L];N[q]=N[a],N[T]=N[T]&&N[T]instanceof Array?[...N[T]]:[],N[T].length?N[T].forEach(O=>{U(O)}):delete N[T]})}return k.forEach(N=>U(N)),k}},2396:function(De,le,e){"use strict";e.d(le,{fA:function(){return J},kh:function(){return W},kR:function(){return j},rw:function(){return H},$s:function(){return C},q_:function(){return x},QK:function(){return o}});var K=e(6793),R={limitWords(T,k){return{rules:[{max:T,message:"\u6700\u591A\u8F93\u5165".concat(T,"\u4E2A\u5B57")},{required:!0,message:k||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(T){return{rules:[{max:T,message:"\u6700\u591A\u8F93\u5165".concat(T,"\u4E2A\u6807\u7B7E")}]}},required(T){return{rules:[{required:!0,message:T||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(T,k){return{rules:[{required:!0,message:T||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:k}]}}},J={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},W=T=>isNaN(T)||!T||!(T>=0&&T<1e3)||!J.score.test(T),j=T=>isNaN(T)||!T||!(T>-1e3&&T<1e3),w=T=>isNaN(T)||!T||!(T>=0&&T<1e3)||!J.examScore.test(T),H=(T,k)=>{for(var U=0,N=0;N<T.length;N++){var L=T.charAt(N);if(L.match(/[^\x00-\xff]/ig)!=null?U+=1:U+=.5,U>k)return N}return 0},C=T=>{for(var k=0,U=0;U<T.length;U++){var N=T.charAt(U);N.match(/[^\x00-\xff]/ig)!=null?k+=1:k+=.5}return k},x=(T,k)=>{var U=T.target.value,N=T.target.dataset.originLength;if(T.target.dataset.originLength||(N=k,T.target.dataset.originLength=N),!!N){var L=C(U);L*1<k*1?T.target.setAttribute("maxLength",k*2):T.target.setAttribute("maxLength",k)}},o=(T,k)=>{var U="";return(!T||!(0,K.fy)(T))&&(U=k),U}},4412:function(De){De.exports="data:image/png;base64,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"}}]);
