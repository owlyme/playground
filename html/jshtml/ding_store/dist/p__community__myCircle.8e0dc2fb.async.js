(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[7047],{4408:function(B,v,e){"use strict";var L=e(12924),l=e.n(L),M=e(28216),c=e(17780),y=e(38642),d=a=>({userInfo:a.user}),m=a=>{var t=a.title;return(0,c.xX)()&&setTimeout(()=>{document.title=t},0),(0,L.useEffect)(()=>{if(t&&document.title!==t&&setTimeout(()=>{document.title=t},0),(0,y.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var p=document.querySelector(".zoom-report");p&&(p.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[t]),l().createElement(l().Fragment,null)};m.defautProps={title:""},v.Z=(0,M.$j)(d)(m)},27114:function(B,v,e){"use strict";var L=e(62029),l=e(12924),M=e.n(l),c=e(38642),y=d=>{var m=()=>{(0,c.eJ)({url:"".concat(d.to)})};return M().createElement("a",(0,L.Z)({onClick:()=>m()},d),d.children)};v.Z=y},3179:function(B,v,e){"use strict";var L=e(12924),l=e.n(L),M=e(91768),c=e(85589),y=e.n(c);class d extends l().Component{constructor(a){super(a);this.renderImgAction=()=>{var t=this.state.imgUrls,p=t.length;return t.length>4&&(t=t.slice(0,4)),t.map((C,h)=>l().createElement("div",{className:"img-box",key:h},l().createElement("img",{src:C,alt:""}),h===3&&p>4&&l().createElement("div",{className:"mask"},"+".concat(p-4))))},this.state={imgUrls:[],text:""}}componentDidMount(){var a=this.props.content,t=a===void 0?"":a;if(typeof t=="object"){var p=t.content.split("<br/>");this.setState({imgUrls:t.imgs,text:p})}else{var C=y().createEditorState(t),h=C.toHTML(),f=document.createElement("div");f.innerHTML=h;for(var _=f.getElementsByTagName("img"),W=[],g=0;g<_.length;g++)W.push(_[g].src);this.setState({imgUrls:W,text:f.innerText})}}render(){var a=this.props,t=a.prefixCls,p=a.content,C=this.state.text;return p?l().createElement("div",{className:"".concat(t)},l().createElement("div",{className:"".concat(t,"-text-action")},l().createElement("div",null,Array.isArray(C)?C.map((h,f)=>l().createElement("p",{key:f},h)):C)),l().createElement("div",{className:"".concat(t,"-img-action")},this.renderImgAction())):null}}d.defaultProps={prefixCls:"display-content",content:""},v.Z=(0,M.Z)()(d)},43787:function(B,v,e){"use strict";var L=e(20228),l=e(11382),M=e(13254),c=e(14277),y=e(57663),d=e(71577),m=e(88986),a=e(34792),t=e(48086),p=e(57361),C=e(9754),h=e.n(C),f=e(12924),_=e.n(f),W=e(91768),g=e(76651),Z=e(28216),A=e(37055),U=e(10237),R=e(16645),n,K,x,O,N=(n=(0,Z.$j)(S=>{var P=S.user;return{userId:P.id}}),K=Reflect.metadata("design:type",Function),x=Reflect.metadata("design:paramtypes",[void 0]),n(O=K(O=x(O=class extends _().Component{constructor(P){var r;super(P);r=this,this.initDataList=(0,p.Z)(h().mark(function s(){var o,D,u,E,i,I,T,z;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:return r.setState({loading:!0}),o=r.state,D=o.params,u=o.url,E=r.props.t,$.next=5,U.WY.get({url:u,params:D});case 5:i=$.sent,I=i.data,I.code===0?(T=r.state.dataList,z=I.data.content||[],r.setState({dataList:T.concat(z),totalElements:I.data.totalElements,loading:!1})):t.default.error(I.msg||E("community.isError"));case 8:case"end":return $.stop()}},s)})),this.loadMore=()=>{var s=this.state.params;this.setState({params:(0,m.Z)((0,m.Z)({},s),{},{page:s.page+1})},()=>{this.initDataList()})},this.handleStarClick=()=>{},this.state={dataList:[],params:{page:0,size:15},loading:!0,totalElements:0}}componentDidMount(){var P=g.m8.location.query,r=P===void 0?{}:P,s=r.id,o=this.props,D=o.pageType,u=o.userId,E=this.state.params,i="";switch(D){case"my-question":i=A.ZP.community.getMyQuestionList(u);break;case"my-article":i=A.ZP.community.getMyArticleList(u);break;case"my-answer":i=A.ZP.community.getMyAnswerList(u);break;case"space-question":i=A.ZP.community.getQuestionList(),E.space=s;break;case"space-article":i=A.ZP.community.getArticleList(),E.spaceId=s;break;default:i=A.ZP.community.getMyQuestionList(u);break}this.setState({url:i,params:E},()=>{this.initDataList()})}render(){var P=this.props,r=P.prefixCls,s=P.t,o=P.pageType,D=this.state,u=D.dataList,E=D.loading,i=D.totalElements;return _().createElement(l.Z,{spinning:E},_().createElement("div",{className:"".concat(r)},u.length>0?_().createElement(_().Fragment,null,u.map((I,T)=>_().createElement(R.Z,{key:I.id,detail:I,isQuestion:o.indexOf("question")>-1,isAnswer:o.indexOf("answer")>-1,index:T,showUser:o.indexOf("space")>-1,showSpace:o.indexOf("my")>-1})),_().createElement("div",{className:"".concat(r,"-bottom")},i>u.length?_().createElement(d.Z,{type:"default",onClick:()=>this.loadMore()},s("course.loadMore")):_().createElement("span",null,s("community.isBottom")))):_().createElement(c.Z,null)))}})||O)||O)||O);N.defaultProps={prefixCls:"source-list",pageType:"my-question",userId:"",text:""},v.Z=(0,W.Z)()(N)},70110:function(B,v,e){"use strict";var L=e(12924),l=e.n(L),M=e(84874),c=e(27114);class y extends L.Component{constructor(m){super(m);this.state={}}render(){var m=this.props.cardList,a=m===void 0?[]:m;return l().createElement("div",{className:"guildLink_box"},a.map(t=>l().createElement("div",{className:"guildLink-container",key:t.id},l().createElement(c.Z,{to:t.link,className:"guildLink_card"},l().createElement("div",{className:"guildLink_card-bg",style:{background:t.backgroundColor||"#fff"}},l().createElement(M.Z,{iconClass:t.iconClass,size:"20px",color:t.color})),l().createElement("div",{className:"guild-card-title"},t.title)))))}}v.Z=y},22294:function(B,v,e){"use strict";var L=e(57663),l=e(71577),M=e(12924),c=e.n(M),y=e(38642);class d extends M.Component{constructor(a){super(a);this.state={}}backCommunityHome(){(0,y.eJ)({url:"/community"})}render(){var a=this.props.isShowHeader;return c().createElement("div",{className:"layer-layout-box"},a&&c().createElement("div",{className:"layer-layout-box-header"},c().createElement(l.Z,{onClick:this.backCommunityHome,type:"primary"},"\u8FD4\u56DE\u9996\u9875")),c().createElement("div",{className:"layer-layout-container"},this.props.children))}}d.defaultProps={isShowHeader:!1},v.Z=d},16645:function(B,v,e){"use strict";var L=e(71153),l=e(60331),M=e(49111),c=e(19650),y=e(94233),d=e(67869),m=e(12924),a=e.n(m),t=e(91768),p=e(3179),C=e(27114),h=e(38642),f=e(84874);class _ extends m.Component{constructor(g){super(g);this.state={}}render(){var g,Z,A,U,R=this.props,n=R.detail,K=R.t,x=R.isQuestion,O=x===void 0?!0:x,N=R.showUser,S=N===void 0?!1:N,P=R.showSpace,r=P===void 0?!1:P,s=R.isAnswer,o=s===void 0?!1:s,D=R.isSearch,u=D===void 0?!1:D,E;o?E=n.answer.content?JSON.parse(n.answer.content).content:n.answer.content:E=n.content?JSON.parse(n.content).content:n.content;var i=O||o?"/community/questionDetail":"/community/articleDetail",I=K(O||o?"community.publishQuesTips":"community.publishArtTips"),T=O?n.lastDate:o?(g=n.answer)===null||g===void 0?void 0:g.lastDate:n.createAt;return a().createElement("div",{className:"list-item-box"},S&&a().createElement(c.Z,{size:8,align:"center",className:"list-item-container"},a().createElement(d.C,{size:36,src:((Z=n.author)===null||Z===void 0?void 0:Z.avatar)||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png")}),a().createElement("span",{className:"list_item_name"},n.author.name),a().createElement("div",{className:"list-item_type"},I)),a().createElement("header",{className:"list-item-box-header"},a().createElement(C.Z,{to:"".concat(i,"?id=").concat(n.id),className:"list-item-box-title"},n.isTop===1&&!u&&a().createElement(l.Z,{color:"blue"},K("community.prePosition")),n.title),r&&a().createElement("div",null,a().createElement(C.Z,{to:"/community/myCircle?id=".concat(n==null||(A=n.space)===null||A===void 0?void 0:A.id),className:"list-item-box-space"},n==null||(U=n.space)===null||U===void 0?void 0:U.name))),E&&a().createElement("div",{className:"list-item-box-content",onClick:()=>{(0,h.eJ)({url:"".concat(i,"?id=").concat(n.id)})}},a().createElement(p.Z,{content:E})),a().createElement("div",{className:"list-item-option"},a().createElement(c.Z,{size:10},!o&&a().createElement("div",{type:"default",className:"list-item-option-btn"},a().createElement(c.Z,{size:3},a().createElement(f.Z,{iconClass:O?"icon-huidashu":"icon-Comment",size:"14px"}),a().createElement("span",null,O?n.answerCount:n.commentCount))),!O&&a().createElement("div",{type:"default",className:"list-item-option-btn"},a().createElement(c.Z,{size:3},a().createElement(f.Z,{iconClass:"icon-dianzan",size:"14px"}),a().createElement("span",null,o?n.answer.stars:n.stars)))),a().createElement("div",{className:"list-item-time"},(0,h.pi)(T))))}}v.Z=(0,t.Z)()(_)},46724:function(B,v,e){"use strict";e.r(v),e.d(v,{default:function(){return S}});var L=e(34792),l=e(48086),M=e(57361),c=e(18106),y=e(88108),d=e(9754),m=e.n(d),a=e(12924),t=e.n(a),p=e(22294),C=e(10237),h=e(76651),f=e(91768),_=e(4408),W=e(37055),g=e(43787),Z=e(70110),A=e(49111),U=e(19650),R=e(94233),n=e(67869);class K extends a.Component{render(){var r=this.props,s=r.circleResource,o=r.t;return t().createElement("div",{className:"circle-resource-box"},t().createElement("div",{className:"circle-resource-title"},o("community.groupProfile")),t().createElement("div",{className:"circle-resource-content"},t().createElement("div",{className:"circle-resource-content-title"},t().createElement(U.Z,null,t().createElement("p",{className:"circle-resource-content-left"},t().createElement(n.C,{size:64,src:s==null?void 0:s.awatar})),t().createElement("p",{className:"circle-resource-content-right"},s==null?void 0:s.name))),t().createElement("p",null,(s==null?void 0:s.description)||o("community.noIntroduction")),t().createElement("div",{className:"circle-resource-content-bottom"},t().createElement(U.Z,{size:"middle"},t().createElement("p",{className:"circle-resource-bottom-num"},"".concat(o("community.article"),"\uFF1A ").concat((s==null?void 0:s.articleCount)||0)),t().createElement("p",{className:"circle-resource-bottom-num"},"".concat(o("community.question"),"\uFF1A").concat((s==null?void 0:s.answerCount)||0))))))}}var x=(0,f.Z)()(K),O=y.Z.TabPane;class N extends a.Component{constructor(r){super(r);this.handleChange=s=>{this.setState({selectKey:s})},this.state={tabPanes:[{tab:r.t("community.question"),key:"question",component:g.Z,props:{pageType:"space-question"},type:"question"},{tab:r.t("community.article"),key:"article",component:g.Z,props:{pageType:"space-article"},type:"article"}],selectKey:"question",cardList:[{title:r.t("community.addQuestion"),link:"/community/questionAndAnswer",id:1,iconClass:"icon-tigewenti",color:"#1890FF",backgroundColor:"rgba(4, 132, 252, 0.25)"},{title:r.t("community.addArticle"),link:"/community/publishArticle",id:3,iconClass:"icon-fabiaowenzhang",color:"#2EB8BD",backgroundColor:"rgba(52, 184, 190, 0.25)"}],circleResource:null}}componentDidMount(){var r=h.m8.location.query,s=r.id;this.setState({spaceId:s},()=>{this.getMyCircleResource()})}getMyCircleResource(){var r=this;return(0,M.Z)(m().mark(function s(){var o,D,u,E,i;return m().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return o=r.state.spaceId,D=r.props.t,u=W.ZP.community.getCircleResource(o),T.next=5,C.WY.get({url:u});case 5:E=T.sent,i=E.data,i.code===0?r.setState({circleResource:i.data}):l.default.error(i.msg||D("community.isError"));case 8:case"end":return T.stop()}},s)}))()}render(){var r=this.props.t,s=this.state,o=s.tabPanes,D=s.selectKey,u=s.cardList,E=s.circleResource;return t().createElement(p.Z,null,t().createElement(_.Z,{title:r("documentTitle.groupDetail")}),t().createElement("div",{className:"circle-layout-content"},t().createElement(y.Z,{defaultActiveKey:D,onChange:this.handleChange},o.map(i=>t().createElement(O,{tab:i.tab,key:i.key},t().createElement(i.component,i.props))))),t().createElement("div",{className:"circle-layout-slide"},t().createElement(Z.Z,{cardList:u,span:12}),t().createElement(x,{circleResource:E})))}}var S=(0,f.Z)()(N)}}]);
