(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[4497],{30311:function(ue,ae,e){"use strict";var se=e(22385),V=e(31097),R=e(12924),X=e.n(R),K=e(8812),Z=e(28216),A=y=>{var I=(0,Z.v9)(p=>{var O=p.advancedSetting;return{themeColor:O.themeColor}}),z=I.themeColor;return X().createElement(V.Z,{placement:"top",title:y.name},X().createElement("span",{className:"cl-table__cell-arrow",onClick:y.onClick},X().createElement("span",{style:{color:z}},y.name),X().createElement("span",{className:"cl-table__cell-arrow-icon"},X().createElement(K.Z,null))))};ae.Z=A},30389:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return b}});var se=e(62029),V=e(20228),R=e(11382),X=e(12924),K=e.n(X),Z=e(91768),A=e(80991),y={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},I=e(62615),z=e(52670);class p extends K().Component{render(){var n=this.props,a=n.values,v=n.mode,h=n.onlyChooseDept,l=n.reserveUser,s=n.t,r=n.orgProps,g=n.rangeAuth,o=n.projectId,m=n.onCancel,P=n.onlyCreateUser;return K().createElement(A.l0,{className:"cl-form"},K().createElement(A.gN,(0,se.Z)({component:I.ww,displayType:"Custom",showSectitle:!1,name:"employeeRange",label:s("common.visibleRange"),defaultFieldList:a.employeeRange,validate:z.FI,mode:v,rangeAuth:g,onlyChooseDept:h,onlyCreateUser:P,orgProps:r,reserveUser:l,projectId:o,onCancel:m,qwTicketShow:!0},y)))}}var O=(0,Z.Z)()(p),w=e(18329),d=e(34773);class C extends K().Component{constructor(){super(...arguments);this.initRefFormik=n=>{this.refFormik=n},this.handleBeforeCreate=()=>{var n=this.refFormik;n.submitForm(),n.runValidations().then(a=>{if(!Object.keys(a).length){var v=n.state.values.employeeRange,h=(0,d.b)(v.rangeList),l={qyWeChatVo:v.qyWeChatVo,id:this.props.actionId,isAll:v.rangeType,groupIds:v.rangeType===2?h.groupIds.join(","):"",departmentIds:v.rangeType===2?h.deptIds.join(","):"",userIds:v.rangeType===2?h.userIds.join(","):"",postIds:v.rangeType===2?h.postIds.join(","):"",clusterIds:v.rangeType===2?h.clusterIds.join(","):"",qy_we_chat_vo:v.qyWeChatVo};this.props.onCreate(l)}})},this.handleBeforeCancel=()=>{var n=this.props.onCancel;n()}}render(){var n=this.props,a=n.visible,v=n.initialParams,h=n.isLoading,l=n.tipInfo,s=n.mode,r=n.onlyChooseDept,g=n.reserveUser,o=g===void 0?[]:g,m=n.t,P=n.title,c=n.orgProps,x=n.rangeAuth,N=n.projectId,M=n.onCancel,j=n.onlyCreateUser,Q=n.size;return h?K().createElement(R.Z,{size:"large"}):K().createElement(w.ZP,{wrapClassName:"cl-employee-selector-modal",visible:a,title:P||m("component.changeUser"),okText:m("common.ok"),cancelText:m("common.cancel"),size:Q,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},h?K().createElement(R.Z,{size:"large"}):K().createElement(A.J9,{ref:this.initRefFormik,initialValues:v,render:Y=>K().createElement(O,(0,se.Z)({},Y,{mode:s,rangeAuth:x,orgProps:c,onlyChooseDept:r,onlyCreateUser:j,reserveUser:o,projectId:N,onCancel:M}))}),l&&K().createElement("p",{style:{padding:"0 24px",wordBreak:"break-all",whiteSpace:"normal"}},l))}}C.defaultProps={visible:!1,initialParams:{employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[],cluster:[]}}},tipInfo:"",isLoading:!1,mode:["all","part"],onlyChooseDept:!1,onlyCreateUser:!1,orgProps:{},onCancel:()=>{},onCreate:()=>{},size:"middle"};var b=(0,Z.Z)()(C)},74525:function(ue,ae,e){"use strict";var se=e(57361),V=e(34792),R=e(48086),X=e(9754),K=e.n(X),Z=e(12924),A=e.n(Z),y=e(91768),I=e(28216),z=e(92592),p=e(5430),O=e(10237),w=e(84874),d=e(16239),C=e(38642),b=e(28963);class t extends A().Component{constructor(a){var v;super(a);v=this,this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initCode=()=>{var h=this.props,l=h.type,s=h.isProjectShare,r=h.isCommodityExchange,g=h.userInfo;["wx","weixin"].includes(l)?l==="weixin"&&g.appId==="9005"?this.initOtherCode():this.initWXCode():s&&l==="ding"?this.getProjectShareUrl():r&&l==="ding"?this.getCommodityExchangeUrl():l==="fullWebLink"?this.initOtherCode(this.props.option.scene):this.initOtherCode()},this.getCommodityExchangeUrl=()=>{var h=this.props,l=h.t,s=h.appType,r=h.orderId,g=this.props.option.scene,o=localStorage.getItem("uid");if(!d.Z[(0,d.c)()].showCl||s!=="e_app"){var m={deliverUserId:o,orderId:r,flag:"exchange"};z.toDataURL(JSON.stringify(m),{width:500}).then(N=>{this.setState({img:N})}).catch(()=>{R.default.error(l("integralMall.qrCodeFailed"))})}else{var P="/pages/messageRedirect/messageRedirect?".concat(g),c=encodeURIComponent(P),x="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/appId=".concat(this.appId,"&pVersion=1&miniAppId=").concat(this.miniAppId,"&packageType=1&page=").concat(c,"&corpId=").concat(this.props.userInfo.corpId);this.getShortLink(x).then(N=>{z.toDataURL(N.data.short_link,{width:500}).then(M=>{this.setState({img:M})}).catch(()=>{R.default.error(l("integralMall.qrCodeFailed"))})})}},this.getProjectShareUrl=()=>{var h=this.props.option.scene,l=encodeURIComponent("/pages/messageRedirect/messageRedirect?".concat(h)),s="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(l);this.getShortLink(s).then(r=>{this.initOtherCode(r.data.short_link)})},this.getShortLink=h=>O.WY.post({url:p.ZP.Common.getQrUrl(),data:{link:h}}),this.initWXCode=(0,se.Z)(K().mark(function h(){var l,s,r,g;return K().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l=v.props.option,s=l.scene,r=l.flag,m.next=3,O.WY.post({url:p.ZP.createWxCode(),data:{flag:r,scene:"".concat(s,"&enterpriseId=").concat(p.ZP.enterpriseId),enterprise_id:p.ZP.enterpriseId}});case 3:g=m.sent,v.setState({img:g.data.wx_code,linkUrl:"data:image/png;base64,".concat(g.data.wx_code)});case 5:case"end":return m.stop()}},h)})),this.initOtherCode=function(){var h=(0,se.Z)(K().mark(function l(s){var r,g,o,m;return K().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=v.props,g=r.type,o=r.fsUrl,c.t0=s,c.t0){c.next=6;break}return c.next=5,v.handleScanCode();case 5:c.t0=c.sent;case 6:m=c.t0,g==="fs"&&o&&(m=o),v.setState({linkUrl:m}),z.toDataURL(m,{width:500}).then(x=>{v.setState({img:x})}).catch(()=>{R.default.error(v.props.t("personal.failedGenerateCode"))});case 10:case"end":return c.stop()}},l)}));return function(l){return h.apply(this,arguments)}}(),this.handleScanCode=(0,se.Z)(K().mark(function h(){var l,s,r,g,o,m,P,c,x,N,M,j,Q,Y,i,E,u,U;return K().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(l=v.props,s=l.type,r=l.userInfo,g=l.universalFn,o=v.state.wxH5Url,m=v.props.option,P=m.scene,c=m.pc_url,x=c===void 0?"":c,N=m.mobile_url,M=N===void 0?"":N,j=m.pc_type,Q=j===void 0?"":j,Y=m.mobile_type,i=Y===void 0?"":Y,E=encodeURIComponent("/pages/messageRedirect/messageRedirect?"),u=encodeURIComponent(P),!g){B.next=12;break}return B.next=8,v.getShortLink((0,C.jr)({pc_url:x,mobile_url:M,pc_type:Q,mobile_type:i}));case 8:return U=B.sent,B.abrupt("return",(0,b.fZ)(U.data.short_link));case 12:B.t0=s,B.next=B.t0==="app"?15:B.t0==="ding"?16:B.t0==="fs"?17:B.t0==="weixin"?18:19;break;case 15:return B.abrupt("return","".concat(P,"&fromApp=true"));case 16:return B.abrupt("return","dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(r.corpId,"&appId=").concat(v.appId,"&miniAppId=").concat(v.miniAppId,"&packageType=1&pVersion=1&page=").concat(E+u));case 17:return B.abrupt("return","https://applink.feishu.cn/client/web_app/open?appId=".concat("cli_a0aa5e0fe5f8500d","&path=").concat(encodeURIComponent("/index.html"),"&").concat(P,"&appType=lark"));case 18:return B.abrupt("return","".concat(o,"/#/pages/login/login-we-com/index?appType=weCom&corp=").concat(r.corpId,"&").concat(P));case 19:return B.abrupt("return","");case 20:case"end":return B.stop()}},h)})),this.saveQrcode=()=>{var h=this.state.img,l=this.props,s=l.type,r=l.t,g=l.userInfo,o=document.createElement("a");o.download=r("setting.Qrcode")+new Date().getTime(),o.href=s==="wx"||s==="weixin"&&g.appId!=="9005"?"data:image/png;base64,".concat(h):h,document.body.appendChild(o),o.click(),document.body.removeChild(o)},this.generatePoster=h=>{var l=h.linkUrl,s=h.type,r=h.activeKey,g=h.option,o=this.props.universalFn;typeof o=="function"&&o({linkUrl:l,type:s,activeKey:r,option:g})},this.state={img:"",linkUrl:"",wxH5Url:"https://mobile.coolcollege.cn"}}componentDidMount(){this.initCode()}componentDidUpdate(a){a.option.scene!==this.props.option.scene&&this.initCode()}render(){var a=this.props,v=a.type,h=a.tip,l=a.extraTip,s=a.t,r=a.canSave,g=a.refreshQrCode,o=a.label,m=a.saveText,P=m===void 0?"":m,c=a.downloadAsBtn,x=a.userInfo,N=a.universalFn,M=a.activeKey,j=a.option,Q=this.state,Y=Q.img,i=Q.linkUrl,E=localStorage.getItem("themeColor")||"#465dcd";return Y?A().createElement("div",{className:"qr-code-content"},o?A().createElement("div",{className:"label-text"},o,":"):null,A().createElement("div",{className:"qr-code-div ".concat(o?"left":"")},v==="wx"||v==="weixin"&&x.appId!=="9005"?A().createElement("img",{src:"data:image/png;base64,".concat(Y),alt:""}):A().createElement("img",{src:Y,alt:""}),h?A().createElement("div",{className:"tip-text"},h):null,l?A().createElement("div",{className:"tip-text"},l):null,r?A().createElement("div",{className:"save_qrcode ".concat(c?"save-btn":""),style:{color:E},onClick:()=>this.saveQrcode()},c?null:A().createElement(w.Z,{iconClass:"icon-f-download",size:"14px"}),P||s("personal.saveCode")):null,N&&!g?A().createElement("div",{className:"save_qrcode",style:{color:E},onClick:()=>this.generatePoster({linkUrl:i,type:v,activeKey:M,option:j})},s("personal.saveCodePoster")):null,g?A().createElement("div",{className:"save_qrcode",style:{color:E},onClick:()=>g()},A().createElement(w.Z,{iconClass:"iconf-switch",size:"14px"}),s("personal.refreshCodeTip")):null)):A().createElement("div",{className:"qr-code-placeholder"})}}ae.Z=(0,I.$j)(n=>{var a=n.user;return{userInfo:a,appType:a.appType,corpId:a.corpId}})((0,y.Z)()(t))},66708:function(ue,ae,e){"use strict";var se=e(93485),V=e(33565),R=e(57361),X=e(18106),K=e(88108),Z=e(9754),A=e.n(Z),y=e(12924),I=e.n(y),z=e(91768),p=e(28216),O=e(89366),w=e(48194),d=e(74525),C=e(77779),b=e.n(C),t=e(6793),n=K.Z.TabPane;class a extends I().Component{constructor(l){var s;super(l);s=this,this.initAppTypeScan=(0,R.Z)(A().mark(function g(){var o,m,P,c,x,N,M,j,Q,Y,i;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([(0,w.q)(),(0,w.$)()]);case 2:o=u.sent,m=(0,V.Z)(o,2),P=m[0],c=m[1],x=P.data.sync_organizes,N=c.data.list,M=!1,j=(0,se.Z)(N),u.prev=10,j.s();case 12:if((Q=j.n()).done){u.next=19;break}if(Y=Q.value,Y.type!=="wechat_applet_setting"){u.next=17;break}return M=Y.switch_status==="OPEN",u.abrupt("break",19);case 17:u.next=12;break;case 19:u.next=24;break;case 21:u.prev=21,u.t0=u.catch(10),j.e(u.t0);case 24:return u.prev=24,j.f(),u.finish(24);case 27:i=s.props.universalFn?s.filterOrganizes(x):s.filterCode(x),M&&i.push("wx"),s.setState({scanTypes:i});case 30:case"end":return u.stop()}},g,null,[[10,21,24,27]])})),this.filterCode=g=>{var o=[...g],m=this.props.option;return o=o.map(P=>["third_oa_app","seeyon_app"].includes(P)?"ding":P),m&&m.flag==="exam_task"?[...new Set([...o])].filter(P=>P==="fs"):[...new Set([...o,"app"])]},this.filterOrganizes=g=>{var o=[...g],m=this.props.option;o=o.map(c=>["third_oa_app","seeyon_app"].includes(c)?"ding":c);var P=new Set([...o]);return P.size===1&&P.has("app")?m&&m.flag==="exam_task"?[...P].filter(c=>c==="fs"):[...P]:(P.delete("app"),m&&m.flag==="exam_task"?[...P].filter(c=>c==="fs"):[...P])};var r=l.t;this.state={scanTypes:[],commonTitle:{ding:r("common.sanCodeCommon"),fs:r("common.sanCodeCommon"),weixin:r("common.sanCodeCommon"),app:r("common.sanCodeCommon"),wx:r("common.weChatApplets")},tabTitle:{ding:r("common.dingDingSanCode"),fs:r("common.fsScanCode"),weixin:r("common.WeComSanCode"),app:r("common.appScanCode"),wx:r("common.wxScanCode")}}}componentDidMount(){this.initAppTypeScan()}UNSAFE_componentWillReceiveProps(){this.initAppTypeScan()}render(){var l=this.state,s=l.tabTitle,r=l.commonTitle,g=l.scanTypes,o=this.props,m=o.option,P=o.tip,c=o.t,x=o.extraTip,N=o.canSave,M=o.refreshQrCode,j=o.isCommodityExchange,Q=o.type,Y=o.center,i=Y===void 0?!0:Y,E=o.label,u=E===void 0?"":E,U=o.saveText,te=o.downloadAsBtn,B=te===void 0?!1:te,f=o.transfer,L=f===void 0?!1:f,T=o.source_type,F=o.universalFn,q=o.activeKey;return I().createElement("div",{className:"".concat(b()["scan-code-box"]," ").concat(Q==="card"?b()["card-tabs"]:"")},g.length===1?I().createElement(d.Z,{universalFn:F,activeKey:q,type:g[0],option:m,tip:(0,t.ZT)(c(P),F?r[g[0]]:s[g[0]]),extraTip:x,canSave:N,fsUrl:m.fsUrl,refreshQrCode:M,isCommodityExchange:j,label:u,saveText:U,downloadAsBtn:B}):I().createElement(K.Z,{defaultActiveKey:"1",centered:i,type:Q},g.map((H,oe)=>{var re=oe+1;return I().createElement(n,{tab:F?r[H]:s[H],key:re},L&&I().createElement("div",{className:b()["scan-code-transfer"]},I().createElement(O.Z,null),I().createElement("span",null,c("course.onlyScope",{source_type:c(T==="study_project"?"lineClass.project":"lineClass.task")}))),I().createElement(d.Z,{universalFn:F,activeKey:q,type:H,option:m,tip:(0,t.ZT)(c(P),F?r[H]:s[H]),extraTip:x,canSave:N,fsUrl:m.fsUrl,refreshQrCode:M,isCommodityExchange:j,label:u,saveText:U,downloadAsBtn:B}))})))}}a.defaultProps={option:{flag:"",scene:""},tip:"",extraTip:"",canSave:!0,refreshQrCode:null};var v=h=>({appType:h.user.appType});ae.Z=(0,p.$j)(v)((0,z.Z)()(a))},27763:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return re}});var se=e(57338),V=e(83107),R=e(22385),X=e(31097),K=e(66456),Z=e(55313),A=e(62029),y=e(20228),I=e(11382),z=e(57663),p=e(71577),O=e(34792),w=e(48086),d=e(34669),C=e(82833),b=e(12924),t=e.n(b),n=e(91768),a=e(54549),v=e(90631),h=e(8812),l=e(28216),s=e(27361),r=e.n(s),g=e(78138),o=e.n(g);function m($){return $.some(G=>{if(G.courseInfo&&G.courseInfo.length>0){var S=G.type&&G.type.toLowerCase();return S&&S.match(/\b(mp4)|(mp3)|(m3u8)\b/)?!0:G.courseInfo.some(_=>{var D=_.type&&_.type.toLowerCase();return D&&D.match(/\b(mp4)|(mp3)|(m3u8)\b/)?!0:_.courseInfo.some(k=>{var W=k.type&&k.type.toLowerCase();if(W&&W.match(/\b(mp4)|(mp3)|(m3u8)\b/))return!0})})}})}function P($){var G=$.type,S=$.content_type,_=$.biz_type;switch(G){case 1:return _==="micro_course"?"wei":"crs";case 2:return S;case 3:return S;case 6:return"ex";case 7:return"xx";case 9:return"questionnaire";case 17:return"practice"}}function c($){var G=$.type;switch(G){case 1:return"icon-kecheng2";case 2:case 3:return"icon-sucai";case 6:return"icon-kaoshi2";case 7:return"icon-xianxiake1";case 9:return"icon-tiaoyan";case 10:return"icon-shicaozuoye";case 11:return"icon-gangweiceping1";case 12:return"icon-fudao";case 13:return"icon-kaoqin";case 15:return"icon-kaoshi2";case 16:return"icon-zhiboke";case 17:return"icon-lianxi1";default:return"icon-kecheng2"}}function x($){return $.map(G=>({stageName:G.stage_name,courseInfo:G.resources.map(S=>({type:P(S),iconType:c(S),title:S.resource_name,biz_type:S.biz_type||"",studyProgress:S.study_progress,updateTime:S.update_time,address:S.type===7?S.latoja&&S.latoja.address:"",signInTime:S.type===7?S.latoja&&S.latoja.clock_times[0].clock_time:"",resource_quiz_vo:{},courseInfo:S.type===1&&S.biz_type!=="micro_course"?S.resources.map(_=>({type:P(_),iconType:c(_),title:_.resource_name,studyProgress:_.study_progress,resource_quiz_vo:_.resource_quiz_vo||{}})):[]}))}))}var N=e(10237),M=e(37055),j=e(6793);function Q($,G){var S=M.ZP.TaskStudyRecord.getRandomPopupRecord($),_={user_id:G};return N.WY.get({url:S,params:_}).then(D=>{var k=D.data.data;return D.data.data?!k.list||k.list&&k.list.length===0?k.list=[{key:"getPopWindowVerificationInfos_null",check_time:"-",confirm_result:"-",course_name:"-"}]:k.list.forEach(W=>{W.key=W.check_time}):D.data.data={popup_times:"0",confirm_times:"0",unconfirm_times:"0",time_out_times:"0",list:[{key:"getPopWindowVerificationInfos_err",check_time:"-",confirm_result:"-",course_name:"-"}]},D})}function Y($,G,S){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",k=D==="exportPdf"?M.ZP.TaskStudyRecord.studyRecordExportPdf(G):M.ZP.TaskStudyRecord.getLookStudyRecordDetail(G),W=S?{user_id:$,stage_id:_,plan_type:S}:{user_id:$,stage_id:_};return N.WY.get({url:k,params:W}).then(ee=>{var J=ee.data.stage_list;return J.forEach(ie=>{ie.course_list.forEach(ne=>{ne.course_type===1||ne.course_type==="1"?ne.resource_list.map(le=>{le.study_records.length===0?le.study_records=[{key:"resource_list_study_records_null",end_time:"-",start_time:"-",study_duration:"-"}]:le.study_records.map(ce=>{ce.key=ce.start_time,ce.start_time=(0,j.p6)(ce.start_time,"yyyy-MM-dd hh:mm:ss"),ce.end_time=(0,j.p6)(ce.end_time,"yyyy-MM-dd hh:mm:ss")})}):ne.study_records.length===0?ne.study_records=[{key:"course_list_study_records_null",end_time:"-",start_time:"-",study_duration:"-"}]:ne.study_records.map(le=>{le.key=le.start_time,le.start_time=(0,j.p6)(le.start_time,"yyyy-MM-dd hh:mm:ss"),le.end_time=(0,j.p6)(le.end_time,"yyyy-MM-dd hh:mm:ss")})})}),ee})}function i(){var $=M.ZP.advancedSetting.getSetting(),G={page_size:9999,page_number:1},S=!1;return N.WY.get({url:$,params:G}).then(_=>(_.data.list.forEach(D=>{if(D.type==="document_duration_limit"){var k=D.action_list,W=k.find(J=>J.type==="random_popup_verification"),ee;W?ee=W.param.checked==="true"?"OPEN":"CLOSE":ee="CLOSE",S=ee!=="CLOSE"}}),S))}var E=e(84874),u=e(87312),U=e(31457),te=e(27326),B=e.n(te),f=e(61120),L=e.n(f);class T extends t().Component{constructor(G){super(G);this.getTaskInfo=()=>{var S=this.props,_=S.userId,D=S.taskId,k=S.studyType,W=k===void 0?"":k,ee=W==="project"?M.ZP.StudyProjectList.studyRecord(D):M.ZP.TaskStudyRecord.getTaskInfo(D),J={user_id:_};N.WY.get({url:ee,params:J}).then(ie=>{this.setState({taskInfo:W==="project"?this.compileData(ie.data):ie.data.data},()=>{var ne=this.props.record;setTimeout(()=>{this.exportPdf(ne)},100)})})},this.compileData=S=>S.map(_=>({stageName:_.stage_name,courseInfo:_.resources.map(D=>({type:this.getResourceType(D),title:D.resource_name,biz_type:D.biz_type||"",studyProgress:D.study_progress,updateTime:D.update_time,address:D.type===7?D.latoja.address:"",signInTime:D.type===7?D.latoja.clock_times[0].clock_time:"",resource_quiz_vo:{},courseInfo:D.type===1&&D.biz_type!=="micro_course"?D.resources.map(k=>({type:this.getResourceType(k),title:k.resource_name,studyProgress:k.study_progress,resource_quiz_vo:k.resource_quiz_vo||{}})):[]}))})),this.getResourceType=S=>{var _=S.type,D=S.content_type,k=S.biz_type;switch(_){case 1:return k==="micro_course"?"wei":"crs";case 2:return D;case 3:return D;case 6:return"ex";case 7:return"xx";case 9:return"questionnaire"}},this.onCancel=()=>{var S=this.props.onCancel;S&&this.props.onCancel()},this.renderResourceItem=(S,_,D)=>{var k=this.props,W=k.t,ee=k.studyRecordDetailTableColumns;return S.type==="tutor"?null:t().createElement("div",{className:"stage-item-resource",key:_},t().createElement("span",{className:"stage-item-resource-icon"},t().createElement(E.Z,{iconClass:S.type==="imageText"||S.biz_type==="imageText"?M.e1.h5:M.e1[S.type],size:"16px"})),t().createElement("span",{className:"stage-item-resource-title"},S.type==="xx"?r()(S.offLineCourseSingVo,"title",""):S.title,S.studyProgress>0?t().createElement("span",{className:"stage-item-resource-time"},"(",(0,j.p6)(S.updateTime,"yyyy.MM.dd hh:mm"),W("component.update"),")"):null),t().createElement("span",{className:"stage-item-resource-progress"},t().createElement(C.Z,{format:J=>"".concat(J,"%"),percent:+S.studyProgress,size:"small",status:S.studyProgress>=100?"success":"normal",strokeColor:S.studyProgress>=100?"#58D28B":""})),S.type!=="imageText"||S.biz_type==="imageText"&&S.courseInfo&&S.courseInfo.length>0?t().createElement("div",{className:"stage-item-resource-course course-resource"},S.courseInfo.map((J,ie)=>{if(!D)return null;var ne=D.resource_list[ie];return t().createElement("div",{className:"course-resource-item",key:ie},t().createElement("span",{className:"course-resource-item-title"},J.title),t().createElement("span",{className:"course-resource-item-progress"},t().createElement(C.Z,{format:le=>"".concat(le,"%"),percent:+J.studyProgress,size:"small",status:J.studyProgress>=100?"success":"normal",strokeColor:J.studyProgress>=100?"#58D28B":""})),J.resource_quiz_vo.question_count>0?t().createElement("div",{className:"course-resource-item-test"},W("component.InClassTest"),t().createElement("span",null,J.resource_quiz_vo.answer_record_count>0?W("component.tookPart"):W("component.NotAttending"))):null,t().createElement("div",{className:"course-resource-item-table"},ne.study_records.length&&t().createElement(Z.Z,{columns:ee,dataSource:ne.study_records,bordered:!0,pagination:!1,size:"small"})))})):null,S.type==="xx"?t().createElement("div",{className:"stage-item-resource-offline"},t().createElement("div",{className:"offline-info-item"},W("component.offlineAddress"),"\uFF1A",r()(S.offLineCourseSingVo,"address","")||W("component.noLabel")),r()(S.offLineCourseSingVo,"signRecordDetailList",[]).map((J,ie)=>t().createElement("div",{className:"offline-record-info-item-row",key:ie},t().createElement("div",null,t().createElement("span",null,W("lineClass.attendanceName"),"\uFF1A"),t().createElement("span",null,J.signName)),t().createElement("div",null,t().createElement("span",null,W("personal.checkInTime"),"\uFF1A"),t().createElement("span",null,"".concat(J.signInTime?o()(J.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(J.signInStatusDesc||""))),J.signOutConfigExist?t().createElement("div",null,t().createElement("span",null,W("lineClass.signBack"),"\uFF1A"),t().createElement("span",null,"".concat(J.signOutTime?o()(J.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(J.signOutStatusDesc||""))):t().createElement("div",null)))):null,t().createElement("div",{className:"stage-item-resource-table"},D&&D.course_type!==1&&t().createElement("div",{key:D.id},t().createElement(Z.Z,{columns:ee,dataSource:D.study_records,bordered:!0,pagination:!1,size:"small"}))))},this.changeStyle=(S,_,D)=>{S&&S.length!==0&&S.forEach(k=>{k.style[_]=D})},this.exportPdf=S=>{var _=this.props,D=_.mainTaskInfo,k=_.studyType,W=document.getElementsByClassName("extra-pdf-no-style")[0];W.scrollTop=0;var ee=W.querySelectorAll(".taskpdf-record-item"),J=this.getLastElementChild(ee[ee.length-1]);J.style.paddingBottom="90px";var ie=W.getElementsByClassName("ant-progress-inner"),ne=W.getElementsByClassName("ant-progress-text");this.changeStyle(ie,"background","#ebebeb"),this.changeStyle(ne,"color","#000000");var le=W.querySelectorAll("svg");le.length>0&&le.forEach(ce=>{ce.style.display="none"}),L()(W,{allowTaint:!0,scale:3}).then(ce=>{for(var me=new(B())("p","mm","a4"),De=ce.getContext("2d"),ve=190,pe=277,Ee=Math.floor(pe*ce.width/ve),fe=0;fe<ce.height;){var Ce=document.createElement("canvas");Ce.width=ce.width,Ce.height=Math.min(Ee,ce.height-fe),Ce.getContext("2d").putImageData(De.getImageData(0,fe,ce.width,Math.min(Ee,ce.height-fe)),0,0),me.addImage(Ce.toDataURL("image/jpeg",1),"JPEG",10,10,ve,Math.min(pe,ve*Ce.height/Ce.width)),fe+=Ee,fe<ce.height&&me.addPage()}me.save("".concat(this.props.studyType==="project"?S.user_name||"\u59D3\u540D":S.userName||"\u59D3\u540D","_").concat(k==="project"?D.title||"\u540D\u79F0":D.trainName||"\u540D\u79F0","_\u5B66\u4E60\u8BB0\u5F55.pdf")),this.props.onPdfCancel()})},this.compileRecord=S=>({userName:S.user_name,departName:S.department_name,postNameList:[]}),this.getLastElementChild=S=>{if(S.lastElementChild!==void 0)return S.lastElementChild;for(var _=S.lastChild;_&&_.nodeType!==1;)_=_.previousSibling;return _},this.dealDuration=()=>{var S=this.props,_=S.mainTaskInfo,D=S.t,k=S.studyType;return k==="project"?D("component.noLabel"):k==="newEmployee"?_.trainLimit+D("common.day"):"".concat((0,j.p6)(_.beginTime,"yyyy-MM-dd hh:mm")," ~ ").concat((0,j.p6)(_.endTime,"yyyy-MM-dd hh:mm"))},this.dealCreateTime=()=>{var S=this.props,_=S.mainTaskInfo,D=S.studyType;return D==="project"?(0,j.p6)(_.update_time,"yyyy-MM-dd hh:mm"):D==="newEmployee"?(0,j.p6)(_.effectTime,"yyyy-MM-dd hh:mm"):(0,j.p6)(_.createTime,"yyyy-MM-dd hh:mm")},this.state={taskInfo:[],operateTime:(0,j.p6)(new Date,"yyyy-MM-dd hh:mm:ss")}}componentDidUpdate(G){G.pdfVisible!==this.props.pdfVisible&&this.props.pdfVisible&&this.getTaskInfo()}render(){var G=this.state,S=G.taskInfo,_=G.operateTime,D=this.props,k=D.record,W=D.pdfVisible,ee=D.mainTaskInfo,J=D.t,ie=D.taskStudyRecordDetail,ne=D.studyType,le=ne==="project"?this.compileRecord(k):k;return t().createElement(b.Fragment,null,W&&t().createElement("div",{className:"taskpdf-record extra-pdf-record"},t().createElement("div",{className:"extra-pdf-no-style"},t().createElement("table",{className:"stage-item-table"},t().createElement("tbody",null,t().createElement("tr",null,t().createElement("td",{colSpan:"6"},window.localStorage.getItem("enterpriseName"))),t().createElement("tr",null,t().createElement("td",null,J("study.taskName")),t().createElement("td",null,ne==="project"?ee.title:ee.trainName||""),t().createElement("td",null,J(ne==="newEmployee"?"learning.learningEmployeeAddValidity":"common.createTime")),t().createElement("td",null,this.dealCreateTime()),t().createElement("td",null,J("study.duration")),t().createElement("td",null,this.dealDuration())),t().createElement("tr",null,t().createElement("td",null,J("common.userName")),t().createElement("td",null,le.userName||""),t().createElement("td",null,J("common.department")),t().createElement("td",null,le.departName.replace(/,/g," | ")||""),t().createElement("td",null,J("questionn.position")),t().createElement("td",null,le.postNameList?le.postNameList.join(" | "):"")))),S.map((ce,me)=>{if(!ce.courseInfo||ce.courseInfo.length===0)return null;var De=ie[me].course_list;return t().createElement("div",{key:me,className:"taskpdf-record-item stage-item"},t().createElement("div",{className:"stage-item-title"},ce.stageName),ce.courseInfo.map((ve,pe)=>{var Ee=De[pe];return this.renderResourceItem(ve,pe,Ee)}))}),t().createElement("div",{className:"stage-item-bottom"},t().createElement("div",{className:"item-bottom-left"},J("study.operator"),"\uFF1A",window.localStorage.getItem("name")),t().createElement("div",{className:"item-bottom-right"},t().createElement("span",null,J("study.exportProject")," \uFF1A",J("common.studyRecord")),t().createElement("span",null,J("study.exportTime"),"\uFF1A",_))))))}}T.defaultProps={pdfVisible:!1,userId:"",taskId:"",studyType:"",onPdfCancel:()=>{}};var F=(0,n.Z)()(T),q=e(38642),H=$=>{var G=$.user;return{enterpriseId:G.enterpriseId}};class oe extends t().Component{constructor(G){var S;super(G);S=this,this.getDocumentDurationLimitSetting=()=>{i().then(_=>{this.setState({})}).catch(()=>{this.setState({})})},this.getPopWindowVerificationInfos=()=>{var _=this.props,D=_.userId,k=_.taskId;Q(k,D).then(W=>{var ee=W.data.data;this.setState({popWindowVerificationInfos:ee,isPopWindowVerificationInfosLoading:!1})}).catch(()=>{this.setState({isPopWindowVerificationInfosLoading:!1})})},this.getTaskInfo=()=>{var _=this.props,D=_.userId,k=_.taskId,W=_.studyType,ee=W===void 0?"":W,J=ee==="project"?M.ZP.StudyProjectList.studyRecord(k):M.ZP.TaskStudyRecord.getTaskInfo(k),ie={user_id:D};N.WY.get({url:J,params:ie}).then(ne=>{var le=ee==="project"?x(ne.data):ne.data.data;this.setState({taskInfo:le,isTaskInfoLoading:!1})})},this.handleCancel=()=>{var _=this.props.onCancel;_&&this.props.onCancel(),this.setState({drawerType:"default",drawerTabs:[{key:1,name:this.props.t?this.props.t("common.studyRecord"):"\u5B66\u4E60\u8BB0\u5F55",checked:!0},{key:2,name:this.props.t?this.props.t("study.randomPopWindowVerification"):"\u968F\u673A\u5F39\u7A97\u6821\u9A8C",checked:!1}]})},this.renderTutorStatus=_=>{var D=this.props.t;return _.tutorialsStatus==="no_tutor"?D("tutorial.noSelectTutor"):_.tutorialsStatus==="to_be_submitted"?D("tutorial.waitSubmitTutor"):_.tutorialsStatus==="to_be_evaluated"?D("tutorial.waitEvaluate"):_.tutorialsStatus==="evaluated"?"".concat(D("tutorial.haveEvaluation")," ").concat(_.score).concat(D("common.examScoreUnit")):null},this.renderTitle=_=>_.type==="tutor"?_.courseName:_.type==="xx"?r()(_.offLineCourseSingVo,"title",""):_.title,this.renderResourceItem=(_,D)=>{var k=this.props.t;return _.type==="practice"?null:t().createElement("div",{className:"stage-item-resource",key:D},t().createElement("div",{className:"stage-item-container"},t().createElement("div",{className:"stage-item-resource_title_container"},t().createElement("span",{className:"stage-item-resource-icon"},t().createElement(E.Z,{iconClass:_.iconType,size:"16px"})),t().createElement("p",{className:"stage-item-resource-title"},this.renderTitle(_),_.studyProgress>0?t().createElement("span",{className:"stage-item-resource-time"},"(",(0,j.p6)(_.updateTime,"yyyy.MM.dd hh:mm"),k("component.update"),")"):null)),t().createElement("div",{className:"stage-item-resource-progress"},_.type==="tutor"?this.renderTutorStatus(_):t().createElement(C.Z,{percent:+_.studyProgress,size:"small",status:_.studyProgress>=100?"success":"normal",strokeColor:_.studyProgress>=100?"#58D28B":""}))),_.type!=="imageText"||_.biz_type==="imageText"&&_.courseInfo&&_.courseInfo.length>0?t().createElement("div",{className:"stage-item-resource-course course-resource"},_.courseInfo.map(W=>t().createElement("div",{className:"course-resource-item",key:W.id},t().createElement("div",{className:"course-resource-item_title_container"},t().createElement("span",{className:"course-resource-item-icon"}),t().createElement("p",{className:"course-resource-item-title"},W.title)),t().createElement("div",{className:"course-resource-item-progress"},t().createElement(C.Z,{percent:+W.studyProgress,size:"small",status:W.studyProgress>=100?"success":"normal",strokeColor:W.studyProgress>=100?"#58D28B":""})),W.resource_quiz_vo.question_count>0?t().createElement("div",{className:"course-resource-item-test"},k("component.InClassTest"),t().createElement("span",null,W.resource_quiz_vo.answer_record_count>0?k("component.tookPart"):k("component.NotAttending"))):null))):null,_.type==="xx"?t().createElement("div",{className:"stage-item-resource-offline"},t().createElement("div",{className:"offline-info-item"},k("component.offlineAddress"),"\uFF1A",r()(_.offLineCourseSingVo,"address","")||k("component.noLabel")),r()(_.offLineCourseSingVo,"signRecordDetailList",[]).map((W,ee)=>t().createElement("div",{className:"offline-record-info-item-row",key:ee},t().createElement("div",null,t().createElement("span",null,k("lineClass.attendanceName"),"\uFF1A"),t().createElement("span",null,W.signName)),t().createElement("div",null,t().createElement("span",null,k("personal.checkInTime"),"\uFF1A"),t().createElement("span",null,"".concat(W.signInTime?o()(W.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(W.signInStatusDesc||""))),W.signOutConfigExist?t().createElement("div",null,t().createElement("span",null,k("lineClass.signBack"),"\uFF1A"),t().createElement("span",null,"".concat(W.signOutTime?o()(W.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(W.signOutStatusDesc||""))):t().createElement("div",null)))):null,_.courseType===13?t().createElement("div",{className:"stage-item-resource-offline"},r()(_.offLineCourseSingVo,"signRecordDetailList",[]).map((W,ee)=>t().createElement("div",{className:"offline-record-info-item-row",key:ee},t().createElement("div",null,t().createElement("span",null,k("lineClass.attendanceName"),"\uFF1A"),t().createElement("span",null,W.signName)),W.signInConfigExist?t().createElement("div",null,t().createElement("span",null,k("personal.checkInTime"),"\uFF1A"),t().createElement("span",null,"".concat(W.signInTime?o()(W.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(W.signInStatusDesc||""))):null,W.signOutConfigExist?t().createElement("div",null,t().createElement("span",null,k("lineClass.signBack"),"\uFF1A"),t().createElement("span",null,"".concat(W.signOutTime?o()(W.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(W.signOutStatusDesc||""))):t().createElement("div",null)))):null)},this.exportPdf=()=>{w.default.warn(this.props.t("common.pdfDowning")),this.lookStudyRecord("exportPdf")},this.exportFile=()=>{var _=this.props,D=_.taskId,k=_.userId,W=M.ZP.StudyProjectList.getExportRecord(D);this.setState({download:!0});var ee={user_id:k};N.WY.get({url:W,params:ee}).then(J=>{this.setState({download:!1}),J.data.code===200&&((0,U.Pp)(this.props),w.default.success(this.props.t("study.compoundSucceed")))}).catch(()=>{this.setState({download:!1})})},this.handleDrawerTabItemClick=_=>{var D=this.state,k=D.drawerTabs,W=D.drawerType,ee=W;_===2&&(ee="default",this.getPopWindowVerificationInfos());var J=k,ie=J.map(ne=>(ne.key===_?ne.checked=!0:ne.checked=!1,ne));this.setState({drawerTabs:ie,drawerType:ee})},this.renderDrawerTabHeader=()=>{var _=this.state.drawerTabs,D=localStorage.getItem("themeColor")||"#516ae6";return t().createElement("div",{className:"drawerTabHeader"},_.map(k=>k.checked?t().createElement("span",{className:"tab-item tab-item-border-checked",style:{color:D,borderColor:D},key:k.key,onClick:this.handleDrawerTabItemClick.bind(this,k.key)},k.name):t().createElement("span",{className:"tab-item tab-item-border",key:k.key,onClick:this.handleDrawerTabItemClick.bind(this,k.key)},k.name)))},this.renderDrawerTitle=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",D=S.state.drawerWidth,k=S.props.t;if(_==="default")return t().createElement("div",{className:"TaskStudyRecord_drawer_title_container default_title "},S.renderDrawerTabHeader(),t().createElement(a.Z,{className:"TaskStudyRecord_drawer_closeBtn",onClick:S.handleCancel}));var W={width:D-48};return t().createElement("div",{className:"TaskStudyRecordDrawer_drawerTitle_extension"},t().createElement("div",{className:"TaskStudyRecord_drawer_title_container default_title_whenExtension1",style:W},S.renderDrawerTabHeader(),t().createElement(a.Z,{className:"TaskStudyRecord_drawer_closeBtn",onClick:S.handleCancel})),t().createElement("div",{className:"TaskStudyRecord_drawer_title_container extension1_title "},t().createElement("span",{className:"extension1_title_value"}," ",k("study.studyRecordDetail")),t().createElement(a.Z,{className:"TaskStudyRecord_drawer_closeBtn",onClick:S.handleChangeDrawerType.bind(S,"default")})))},this.handleChangeDrawerType=_=>{var D=this.state.drawerType;D==="default"&&this.lookStudyRecord(),this.setState({drawerType:_})},this.lookStudyRecord=_=>{var D=this.props,k=D.userId,W=D.taskId,ee=D.planType;Y(k,W,ee,"",_).then(J=>{var ie=J.data.stage_list;this.setState({taskStudyRecordDetail:ie,isTaskStudyRecordDetailLoading:!1},()=>{_==="exportPdf"&&this.setState({downloadPdf:!0})})}).catch(()=>{this.setState({isTaskStudyRecordDetailLoading:!1,downloadPdf:!1})})},this.handleClosePDFPreviewWindow=()=>{this.setState({downloadPdf:!1})},this.generateButton=()=>{var _=this.props,D=_.t,k=_.record,W=_.studyType,ee=this.state.whiteList,J=ee.generatePdf;return J?t().createElement(b.Fragment,null,t().createElement(p.Z,{type:"primary",className:"generate-pdf-btn",loading:this.state.downloadPdf,icon:t().createElement(v.Z,null),onClick:()=>this.exportPdf(k)},D("common.generatePdf")),W!=="project"&&t().createElement(p.Z,{type:"primary",loading:this.state.download,icon:t().createElement(v.Z,null),onClick:()=>this.exportFile(k)},D("exam.exportQuestion"),"EXCEL")):W!=="project"?t().createElement(p.Z,{type:"primary",loading:this.state.download,icon:t().createElement(v.Z,null),onClick:()=>this.exportFile(k)},D("exam.exportQuestion"),"EXCEL"):null},this.renderTaskStudyRecord=()=>{var _=this.state,D=_.taskInfo,k=_.isTaskInfoLoading,W=_.taskStudyRecordDetail,ee=_.downloadPdf,J=this.props,ie=J.generatePdf,ne=J.t,le=J.mainTaskInfo;return t().createElement("div",{className:"TaskStudyRecord_tab_container"},t().createElement(I.Z,{spinning:k},t().createElement("div",{className:"TaskStudyRecord_tab_header"},t().createElement("div",{className:"tab_header_right",onClick:this.handleChangeDrawerType.bind(this,"extension1")},t().createElement("span",{className:"look_recordDetail_title"},ne("study.lookStudyRecord")),t().createElement(h.Z,null))),t().createElement("div",{className:"TaskStudyRecord_tab_content"},t().createElement("div",{className:"TaskStudyRecord_content"},D.map((ce,me)=>!ce.courseInfo||ce.courseInfo.length===0?null:t().createElement("div",{key:me,className:"taskstudy-record-item stage-item"},t().createElement("div",{className:"stage-item-title"},ce.stageName),ce.courseInfo.map((De,ve)=>this.renderResourceItem(De,ve)))))),ie?t().createElement("div",{className:"TaskStudyRecord_tab_footer"},this.generateButton()):null),t().createElement(F,(0,A.Z)({pdfVisible:ee,onPdfCancel:this.handleClosePDFPreviewWindow},this.props,{mainTaskInfo:le,taskStudyRecordDetail:W,studyRecordDetailTableColumns:this.studyRecordDetailTableColumns})))},this.renderRandomPopWindow=()=>{var _=this.state,D=_.popWindowVerificationInfos,k=_.isPopWindowVerificationInfosLoading,W=this.props.t,ee=window.screen.availHeight-250;return t().createElement("div",{className:"RandomPopWindow_tab_container"},k?t().createElement("div",{className:"RandomPopWindow_content_null"},t().createElement(I.Z,{spinning:k})):D&&D.list[0].check_time!=="-"?t().createElement("div",{className:"RandomPopWindow_content"},t().createElement(I.Z,{spinning:k},t().createElement("div",{className:"pop_confirm_times"},t().createElement("span",{className:"confirm_times_label"},W("study.popWindowVerificationTimes"),":"),t().createElement("span",null,D.popup_times)),t().createElement("div",{className:"pop_confirm_detail"},t().createElement("div",{className:"pop_confirm_item pop_confirm_confirmed"},t().createElement("span",{className:"confirm_item_label"},W("study.confirmed"),":"),t().createElement("span",null,D.confirm_times)),t().createElement("div",{className:"pop_confirm_item pop_confirm_unconfirm"},t().createElement("span",{className:"confirm_item_label"},W("study.unConfirm"),":"),t().createElement("span",null,D.unconfirm_times)),t().createElement("div",{className:"pop_confirm_item pop_confirm_time_out"},t().createElement("span",{className:"confirm_item_label"},W("study.confirmedOverTime"),":"),t().createElement("span",null,D.time_out_times))),t().createElement("div",{className:"RandomPopWindow_table"},t().createElement(Z.Z,{columns:this.popWindowTableColumns,dataSource:D.list,bordered:!0,pagination:!1,size:"small",scroll:{y:ee}})))):t().createElement("div",{className:"RandomPopWindow_content_null"},t().createElement("span",{className:"null_tip"},t().createElement(u.Z,null))))},this.renderTaskStudyRecordDetail=()=>{var _=this.state,D=_.taskStudyRecordDetail,k=_.isTaskStudyRecordDetailLoading;return t().createElement(I.Z,{spinning:k},t().createElement("div",{className:"TaskStudyRecordDetail_content_container"},D&&D.map(W=>t().createElement("div",{className:"stage_list_item",key:W.stage_id},t().createElement("div",{className:"stage-item-title"},W.stage_name),W.course_list&&W.course_list.map(ee=>t().createElement("div",{className:"course_container",key:ee.id},t().createElement("div",{className:"course_list_title"},t().createElement("span",{className:"course_item_resource_icon"},t().createElement(E.Z,{iconClass:ee.iconType,size:"16px"})),t().createElement("p",{className:"course_item_title"},ee.name)),ee.course_type===1||ee.course_type==="1"?t().createElement("div",null,ee.resource_list.map(J=>t().createElement("div",{className:"course_resource_container",key:J.id},ee.type!=="imageText"&&t().createElement("div",{className:"course_resource_title"},t().createElement("span",{className:"resource_item_resource_icon"},t().createElement(E.Z,{iconClass:J.iconType,size:"16px"})),t().createElement("p",{className:"resource_item_title"},J.name)),t().createElement(Z.Z,{columns:this.studyRecordDetailTableColumns,dataSource:J.study_records,bordered:!0,pagination:!1,size:"small"})))):t().createElement("div",{key:ee.id},t().createElement(Z.Z,{columns:this.studyRecordDetailTableColumns,dataSource:ee.study_records,bordered:!0,pagination:!1,size:"small"}))))))))},this.state={download:!1,downloadPdf:!1,drawerWidth:this.props.width?this.props.width:700,drawerType:"default",drawerTabs:[{key:1,name:this.props.t?this.props.t("common.studyRecord"):"\u5B66\u4E60\u8BB0\u5F55",checked:!0},{key:2,name:this.props.t?this.props.t("study.randomPopWindowVerification"):"\u968F\u673A\u5F39\u7A97\u6821\u9A8C",checked:!1}],taskInfo:[],popWindowVerificationInfos:null,taskStudyRecordDetail:null,isPopWindowVerificationInfosLoading:!0,isTaskInfoLoading:!0,isTaskStudyRecordDetailLoading:!0,whiteList:{generatePdf:(0,q.UI)("GENERATE_PDF")}},this.popWindowTableColumns=[{title:"\u6821\u9A8C\u573A\u666F",dataIndex:"course_name",ellipsis:{showTitle:!1},render:_=>t().createElement(X.Z,{placement:"topLeft",title:_},_)},{title:this.props.t?this.props.t("study.verificationTime"):"\u6821\u9A8C\u65F6\u95F4",dataIndex:"check_time"},{title:this.props.t?this.props.t("study.result"):"\u7ED3\u679C",dataIndex:"confirm_result"}],this.studyRecordDetailTableColumns=[{title:this.props.t?this.props.t("study.learningStart"):"\u5B66\u4E60(\u8D77)",dataIndex:"start_time"},{title:this.props.t?this.props.t("study.learningEnd"):"\u5B66\u4E60(\u6B62)",dataIndex:"end_time"},{title:this.props.t?this.props.t("study.learningTime"):"\u5B66\u4E60\u65F6\u95F4(\u5206\u949F)",dataIndex:"study_duration"}]}componentDidUpdate(G){if(G.visible!==this.props.visible&&this.props.visible){this.getDocumentDurationLimitSetting();var S=this.state.drawerTabs,_=S.find(D=>D.checked);_.key===1?this.getTaskInfo():this.getPopWindowVerificationInfos()}}render(){var G=this.state,S=G.drawerWidth,_=G.drawerType,D=G.drawerTabs,k=D.find(ie=>ie.checked),W=_==="default"?S:S+561,ee={border:"none",padding:"0px 24px"},J={padding:"0px 24px"};return t().createElement(V.Z,{title:this.renderDrawerTitle(_),width:W,onClose:this.handleCancel,visible:this.props.visible,headerStyle:ee,bodyStyle:J,closable:!1},_==="default"?t().createElement("div",{className:"TaskStudyRecord_content_default"},k.key===1?this.renderTaskStudyRecord():this.renderRandomPopWindow()):t().createElement("div",{className:"TaskStudyRecordDrawer-body_content"},t().createElement("div",{className:"TaskStudyRecord_content"},k.key===1?this.renderTaskStudyRecord():this.renderRandomPopWindow()),t().createElement("div",{className:"TaskStudyRecord_detail"},this.renderTaskStudyRecordDetail())))}}var re=(0,l.$j)(H)((0,n.Z)()(oe))},98417:function(ue,ae,e){"use strict";var se=e(62029),V=e(57663),R=e(71577),X=e(34792),K=e(48086),Z=e(34669),A=e(82833),y=e(22385),I=e(31097),z=e(12924),p=e.n(z),O=e(91768),w=e(90631),d=e(28216),C=e(27361),b=e.n(C),t=e(78138),n=e.n(t),a=e(27326),v=e.n(a),h=e(61120),l=e.n(h),s=e(18329),r=e(38642),g=e(31457),o=e(6793),m=e(37055),P=e(5430),c=e(10237),x=e(84874),N=Q=>{var Y=Q.user;return{enterpriseId:Y.enterpriseId}},M={size:"medium",destroyOnClose:!0,bodyStyle:{overflowY:"auto",padding:0},maskClosable:!1};class j extends p().Component{constructor(Y){super(Y);this.getTaskInfo=()=>{var i=this.props,E=i.userId,u=i.taskId,U=i.studyType,te=U===void 0?"":U,B=this.state.whiteList,f=B.zaraFlag?m.ZP.TaskStudyRecord.getCustomTaskInfo(u):m.ZP.TaskStudyRecord.getTaskInfo(u),L=B.zaraFlag?m.ZP.StudyProjectList.studyCustomRecord(u):m.ZP.StudyProjectList.studyRecord(u),T=te==="project"?L:f,F={user_id:E};c.WY.get({url:T,params:F}).then(q=>{this.setState({taskInfo:te==="project"?this.compileData(q.data):q.data.data})})},this.compileData=i=>{var E=this.props.from,u=E===void 0?"":E;return i.map(U=>{var te=U.resources.map(B=>u==="self_study"&&B.type===14?{}:{type:this.getResourceType(B),iconType:this.getResourceIcon(B),title:String(B.type)!=="14"&&String(B.courseType)!=="14"?B.resource_name:B.evaluate.name,courseType:B.courseType,studyProgress:B.study_progress,biz_type:B.biz_type||"",updateTime:B.update_time,resource_quiz_vo:{},live_lesson:B.type===16?B.live_lesson:{},offLineCourseSingVo:B.type===7||B.type===13?B.offLineCourseSingVo:{},courseInfo:B.type===1&&B.biz_type!=="micro_course"?B.resources.map(f=>({type:this.getResourceType(f),iconType:this.getResourceIcon(B),title:f.resource_name,studyProgress:f.study_progress,resource_quiz_vo:f.resource_quiz_vo||{}})):[]});return{stageName:U.stage_name,courseInfo:te.filter(B=>Object.keys(B).length>0)}})},this.getResourceIcon=i=>{var E=i.type;switch(E){case 1:return"icon-kecheng2";case 2:case 3:return"icon-sucai";case 6:return"icon-kaoshi2";case 7:return"icon-xianxiake1";case 9:return"icon-tiaoyan";case 10:return"icon-shicaozuoye";case 11:return"icon-gangweiceping1";case 12:return"icon-fudao";case 13:return"icon-kaoqin";case 14:return"icon-tuiguang";case 15:return"icon-kaoshi2";case 16:return"icon-zhiboke";case 17:return"icon-lianxi1";default:return"icon-kecheng2"}},this.getResourceType=i=>{var E=i.type,u=i.content_type,U=i.biz_type;switch(E){case 1:return U==="micro_course"?"wei":"crs";case 2:return u;case 3:return u;case 6:return"ex";case 7:return"xx";case 9:return"questionnaire";case 13:return"attendance";case 15:return"ex";case 16:return"liveClass";case 17:return"practice";default:return u}},this.handleCancel=()=>{var i=this.props.onCancel;i&&this.props.onCancel()},this.renderTutorStatus=i=>{var E=this.props.t;return i.tutorialsStatus==="no_tutor"?E("tutorial.noSelectTutor"):i.tutorialsStatus==="to_be_submitted"?E("tutorial.waitSubmitTutor"):i.tutorialsStatus==="to_be_evaluated"?E("tutorial.waitEvaluate"):i.tutorialsStatus==="evaluated"?"".concat(E("tutorial.haveEvaluation")," ").concat(i.score).concat(E("common.examScoreUnit")):""},this.renderTitle=i=>i.type==="tutor"?i.courseName:i.type==="xx"?b()(i.offLineCourseSingVo,"title",""):i.title,this.renderResourceItem=(i,E)=>{var u=this.props.t;return i.type==="practice"?null:p().createElement("div",{className:"stage-item-resource",key:E},p().createElement("span",{className:"stage-item-resource-icon"},p().createElement(x.Z,{iconClass:i.iconType,size:"16px"})),p().createElement("span",{className:"stage-item-resource-title"},p().createElement("span",{className:"stage-item-resource-title-name"},p().createElement(I.Z,{title:this.renderTitle(i)},this.renderTitle(i))),i.studyProgress>0?p().createElement("span",{className:"stage-item-resource-time"},"(",(0,o.p6)(i.updateTime,"yyyy.MM.dd hh:mm"),u("component.update"),")"):null),p().createElement("span",{className:"stage-item-resource-progress"},i.type==="tutor"?this.renderTutorStatus(i):p().createElement(A.Z,{percent:+i.studyProgress,size:"small",status:i.studyProgress>=100?"success":"normal",strokeColor:i.studyProgress>=100?"#58D28B":""})),i.courseInfo&&i.courseInfo.length>0?p().createElement("div",{className:"stage-item-resource-course course-resource"},i.courseInfo.map((U,te)=>p().createElement("div",{className:"course-resource-item",key:te},p().createElement("span",{className:"course-resource-item-icon"}),p().createElement("span",{className:"course-resource-item-title"},U.title),p().createElement("span",{className:"course-resource-item-progress"},p().createElement(A.Z,{percent:+U.studyProgress,size:"small",status:U.studyProgress>=100?"success":"normal",strokeColor:U.studyProgress>=100?"#58D28B":""})),U.resource_quiz_vo.question_count>0?p().createElement("div",{className:"course-resource-item-test"},u("component.InClassTest"),p().createElement("span",null,U.resource_quiz_vo.answer_record_count>0?u("component.tookPart"):u("component.NotAttending"))):null))):null,i.courseType===7?p().createElement("div",{className:"stage-item-resource-offline"},p().createElement("div",{className:"offline-info-item"},u("component.offlineAddress"),"\uFF1A",b()(i.offLineCourseSingVo,"address","")||u("component.noLabel")),b()(i.offLineCourseSingVo,"signRecordDetailList",[]).map((U,te)=>p().createElement("div",{className:"offline-record-info-item-row",key:te},p().createElement("div",null,p().createElement("span",null,u("lineClass.attendanceName"),"\uFF1A"),p().createElement("span",null,U.signName)),U.signInConfigExist?p().createElement("div",null,p().createElement("span",null,u("personal.checkInTime"),"\uFF1A"),p().createElement("span",null,"".concat(U.signInTime?n()(U.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(U.signInStatusDesc||""))):null,U.signOutConfigExist?p().createElement("div",null,p().createElement("span",null,u("lineClass.signBack"),"\uFF1A"),p().createElement("span",null,"".concat(U.signOutTime?n()(U.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(U.signOutStatusDesc||""))):p().createElement("div",null)))):null,i.courseType===13?p().createElement("div",{className:"stage-item-resource-offline"},b()(i.offLineCourseSingVo,"signRecordDetailList",[]).map((U,te)=>p().createElement("div",{className:"offline-record-info-item-row",key:te},p().createElement("div",null,p().createElement("span",null,u("lineClass.attendanceName"),"\uFF1A"),p().createElement("span",null,U.signName)),U.signInConfigExist?p().createElement("div",null,p().createElement("span",null,u("personal.checkInTime"),"\uFF1A"),p().createElement("span",null,"".concat(U.signInTime?n()(U.signInTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(U.signInStatusDesc||""))):null,U.signOutConfigExist?p().createElement("div",null,p().createElement("span",null,u("lineClass.signBack"),"\uFF1A"),p().createElement("span",null,"".concat(U.signOutTime?n()(U.signOutTime).format("YYYY-MM-DD HH:mm"):"--"," ").concat(U.signOutStatusDesc||""))):p().createElement("div",null)))):null,i.courseType===16?p().createElement("div",{className:"stage-item-resource-offline"},p().createElement("div",{className:"liveClass-record-info-item-row",key:E},p().createElement("div",null,p().createElement("span",null,u("component.lecturer"),"\uFF1A"),p().createElement("span",null,i.live_lesson.teacher_name)),i.live_lesson.live_start_time?p().createElement("div",null,p().createElement("span",null,u("live.liveTime"),"\uFF1A"),p().createElement("span",null,i.live_lesson.live_start_time&&i.live_lesson.live_end_time===0?n()(i.live_lesson.live_start_time*1).format("YYYY-MM-DD HH:mm"):""),p().createElement("span",null,i.live_lesson.live_start_time&&i.live_lesson.live_end_time!==0?(0,r.yM)(i.live_lesson.live_start_time,i.live_lesson.live_end_time):"")):"--")):null)},this.changeProgressSvg=i=>{i.length>0&&i.forEach(E=>{var u=E.getElementsByTagName("svg")[0];u&&(u.parentNode.display="none",u.parentNode.innerHTML='<span class="item-right-complete">100%</span>')})},this.changeStyle=(i,E,u)=>{i&&i.length!==0&&i.forEach(U=>{U.style[E]=u})},this.exportFile=()=>{var i=this.props,E=i.taskId,u=i.userId,U=i.studyType,te=m.ZP.StudyProjectList.getExportRecord(E),B=P.lk.getExportRecord(E),f=U==="project"?B:te;this.setState({download:!0});var L={user_id:u};c.WY.get({url:f,params:L}).then(T=>{this.setState({download:!1}),T.data.code===200&&((0,g.Pp)(this.props),K.default.success(this.props.t("study.compoundSucceed")))}).catch(()=>{this.setState({download:!1})})},this.getFirstElementChild=i=>{if(i.firstElementChild!==void 0)return i.firstElementChild;for(var E=i.firstChild;E&&E.nodeType!==1;)E=E.nextSibling;return E},this.getLastElementChild=i=>{if(i.lastElementChild!==void 0)return i.lastElementChild;for(var E=i.lastChild;E&&E.nodeType!==1;)E=E.previousSibling;return E},this.exportPdf=i=>{var E=this.props,u=E.mainTaskInfo,U=E.studyType;this.setState({downloadPdf:!0}),K.default.warn(this.props.t("common.pdfDowning"));var te=(0,o.p6)(new Date,"yyyy-MM-dd hh:mm:ss"),B=document.getElementsByClassName("ant-modal-content")[0];B.style.overflowX="hidden";var f=document.createElement("div");f.className="taskstudy-record extra-record",f.scrollTop=0;var L=document.getElementsByClassName("taskstudy-record")[0],T;L?(T=L.cloneNode(!0),T.className="extra-no-style"):(T=document.createElement("div"),T.className="extra-no-style");var F=T.getElementsByClassName("taskstudy-record-item");this.changeStyle(F,"borderTop",0);var q=T.getElementsByClassName("stage-item-title");this.changeStyle(q,"fontSize","13px");var H=T.getElementsByClassName("stage-item-resource-icon"),oe=T.getElementsByClassName("course-resource-item-icon");this.changeStyle(H,"marginRight","0"),this.changeStyle(oe,"marginRight","0");var re=T.getElementsByClassName("stage-item-resource-title"),$=T.getElementsByClassName("course-resource-item-title");this.changeStyle(re,"fontSize","13px"),this.changeStyle($,"fontSize","13px");var G=T.getElementsByClassName("stage-item-resource");this.changeStyle(G,"padding","20px 0"),this.changeStyle(G,"borderBottom","0.5px solid #8C8C8C");var S=T.getElementsByClassName("stage-item-resource-offline");this.changeStyle(S,"paddingTop","10px");var _=this.getLastElementChild(this.getLastElementChild(T));_.style.paddingBottom="90px";var D=this.getFirstElementChild(T),k=document.createElement("h1");k.innerHTML=window.localStorage.getItem("enterpriseName"),T.insertBefore(k,D);var W=document.createElement("table");W.className="stage-item-table",W.innerHTML=`<tbody>
      <tr>
        <td>\u59D3\u540D</td>
        <td colspan="3">`.concat(i.userName||"",`</td>
      </tr>
      <tr>
        <td>\u6240\u5C5E\u90E8\u95E8</td>
        <td> `).concat(i.departName.replace(/,/g," | ")||"",`</td>
        <td>\u6240\u5C5E\u5C97\u4F4D</td>
        <td>`).concat(i.postNameList?i.postNameList.join(" | "):"",`</td>
      </tr>
    </tbody>`),T.insertBefore(W,D);var ee=document.createElement("div");ee.className="stage-item-bottom",ee.innerHTML=`<div class="item-bottom-left">
        \u64CD\u4F5C\u4EBA\uFF1A`.concat(window.localStorage.getItem("name"),`
    </div>
    <div class="item-bottom-right">
      <span>
          \u5BFC\u51FA\u9879\u76EE\uFF1A\u5B66\u4E60\u8BB0\u5F55
      </span>
      <span>
          \u5BFC\u51FA\u65F6\u95F4\uFF1A`).concat(te,`
      </span>
    </div>`),T.appendChild(ee);var J=T.getElementsByClassName("stage-item-resource-progress"),ie=T.getElementsByClassName("course-resource-item-progress"),ne=T.getElementsByClassName("ant-progress-inner"),le=T.getElementsByClassName("ant-progress-text");this.changeStyle(J,"width","230px"),this.changeStyle(ie,"width","230px"),this.changeStyle(ne,"background","#ebebeb"),this.changeStyle(le,"color","#000000"),this.changeProgressSvg(J),this.changeProgressSvg(ie);var ce=T.querySelectorAll("svg");ce.length>0&&ce.forEach(me=>{me.style.display="none"}),f.appendChild(T),B.appendChild(f),l()(T,{allowTaint:!0,scale:3}).then(me=>{for(var De=new(v())("p","mm","a4"),ve=me.getContext("2d"),pe=190,Ee=277,fe=Math.floor(Ee*me.width/pe),Ce=0;Ce<me.height;){var Se=document.createElement("canvas");Se.width=me.width,Se.height=Math.min(fe,me.height-Ce),Se.getContext("2d").putImageData(ve.getImageData(0,Ce,me.width,Math.min(fe,me.height-Ce)),0,0),De.addImage(Se.toDataURL("image/jpeg",1),"JPEG",10,10,pe,Math.min(Ee,pe*Se.height/Se.width)),Ce+=fe,Ce<me.height&&De.addPage()}De.save("".concat(i.userName||"\u59D3\u540D","_").concat(U==="project"?u.title:u.trainName||"\u540D\u79F0","_\u5B66\u4E60\u8BB0\u5F55.pdf")),B.removeChild(f),this.setState({downloadPdf:!1})})},this.compileRecord=i=>({userName:i.user_name,departName:i.department_name,postNameList:[]}),this.generateButton=()=>{var i=this.props,E=i.t,u=i.record,U=i.studyType,te=this.state.whiteList,B=te.generatePdf,f=U==="project"?this.compileRecord(u):u;return B?p().createElement(z.Fragment,null,p().createElement(R.Z,{type:"primary",loading:this.state.downloadPdf,icon:p().createElement(w.Z,null),onClick:()=>this.exportPdf(f)},E("common.generatePdf")),U!=="project"&&p().createElement(R.Z,{type:"primary",loading:this.state.download,icon:p().createElement(w.Z,null),onClick:()=>this.exportFile()},E("exam.exportQuestion"),"EXCEL")):p().createElement(R.Z,{type:"primary",loading:this.state.download,icon:p().createElement(w.Z,null),onClick:()=>this.exportFile()},E("exam.exportQuestion"),"EXCEL")},this.footerButton=()=>p().createElement(R.Z,{onClick:()=>this.handleCancel()},this.props.t("common.unactivated")),this.state={taskInfo:[],download:!1,whiteList:{generatePdf:(0,r.UI)("GENERATE_PDF"),zaraFlag:(0,r.UI)("ZARA_H5")}}}componentDidUpdate(Y){Y.visible!==this.props.visible&&this.props.visible&&this.getTaskInfo()}render(){var Y=this.state.taskInfo,i=this.props,E=i.t,u=i.generatePdf;return p().createElement(s.ZP,(0,se.Z)({},M,{footer:u?this.generateButton():this.footerButton(),visible:this.props.visible,title:E("common.studyRecord"),onCancel:this.handleCancel}),p().createElement("div",{className:"taskstudy-record"},Y.map((U,te)=>!U.courseInfo||U.courseInfo.length===0?null:p().createElement("div",{key:te,className:"taskstudy-record-item stage-item"},p().createElement("div",{className:"stage-item-title"},U.stageName),U.courseInfo.map((B,f)=>this.renderResourceItem(B,f))))))}}j.defaultProps={visible:!1,userId:"",taskId:"",studyType:"",onCancel:()=>{}},ae.Z=(0,d.$j)(N)((0,O.Z)()(j))},63848:function(ue,ae,e){"use strict";var se=e(36877),V=e(32969),R=e(12924),X=e.n(R),K=e(91768),Z=e(56130);class A extends X().PureComponent{constructor(){super(...arguments);this.onChange=(I,z)=>{this.props.onChange(I,z)}}render(){var I=this.props,z=I.value,p=I.classify,O=I.showLabel,w=I.className,d=I.t,C=I.style;return X().createElement("div",{className:"classify-cascader ".concat(w)},O?X().createElement("span",{className:"classify-cascader-label"},d("component.selectClassifyLabel")):null,X().createElement(V.Z,{changeOnSelect:this.props.changeOnSelect,className:"classify-cascader-select ".concat(w),options:p,onChange:this.onChange,placeholder:d("component.selectClassifyLabel"),value:z,style:C,loadData:this.props.loadData}))}}A.defaultProps={showLabel:!0,changeOnSelect:!0,onChange:()=>{}},ae.Z=(0,Z.Z)((0,K.Z)()(A))},51697:function(ue,ae,e){"use strict";var se=e(22385),V=e(31097),R=e(33565),X=e(12924),K=e.n(X),Z=e(28216),A=e(84874),y=z=>{var p=z.title,O=z.visible,w=z.placement,d=w===void 0?"top":w,C=z.children,b=C===void 0?null:C,t=z.isNewUser,n=t===void 0?"":t,a=z.closeGuide,v=z.guideStatus,h=(0,X.useState)(!1),l=(0,R.Z)(h,2),s=l[0],r=l[1],g=P=>K().createElement("div",{className:"guide-tooltip-title"},P,K().createElement("span",{onClick:o},K().createElement(A.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})));(0,X.useEffect)(()=>{r(O)},[O]);var o=P=>{if(P.stopPropagation(),P.preventDefault(),r(!1),a){a();return}n==="true"&&z.dispatch({type:"shouldRenderHeaderGuide",payload:{headerGuideStatus:!0}}),m()},m=()=>{localStorage.setItem("guideStatus","false"),z.dispatch({type:"updateGuideStatus",payload:{guideStatus:"false"}})};return K().createElement(V.Z,{title:g(p),placement:d,visible:s&&v==="true"&&p},b)},I=z=>({guideStatus:z.advancedSetting.guideStatus,isNewUser:z.advancedSetting.isNewUser});ae.Z=(0,Z.$j)(I)(y)},64630:function(ue,ae,e){"use strict";var se=e(62029),V=e(62999),R=e(85733),X=e(12924),K=e.n(X),Z=e(91768),A=e(10237),y=e(37055),I=e(25547),z=R.Z.TreeNode;class p extends K().Component{constructor(w){super(w);this.getPostTree=()=>{var d=y.ZP.OrgTree.getPostTree();A.WY.get({url:d}).then(C=>{var b=(0,I.NP)(C.data.posts,{id:"value",post_name:"postName"});this.setState({treeData:b})})},this.handleChange=(d,C,b)=>{this.props.onChange(typeof d=="undefined"?"":d,C,b)},this.renderTreeNodes=d=>d.map(C=>{var b=!0;return this.props.noChildSelect&&(b=C.post_type==="post"),C.children?K().createElement(z,{selectable:!this.props.noChildSelect,title:C.postName,key:C.id,value:C.id,isLeaf:!1,dataRef:C},this.renderTreeNodes(C.children)):K().createElement(z,{selectable:b,title:C.postName,dataRef:C,value:C.id,key:C.id,isLeaf:!0})}),this.renderTreeSelect=()=>{var d=this.props,C=d.t,b=d.defaultValue,t=b===void 0?[]:b,n=d.multiple,a=n===void 0?!1:n,v=d.width,h=v===void 0?180:v,l={showSearch:!1,style:{width:h},defaultValue:t,multiple:a,dropdownStyle:{maxHeight:300,overflow:"auto"},placeholder:C("component.choosePostTip"),allowClear:!0,disabled:this.props.disabled};return this.state.treeData.length>0?K().createElement(R.Z,(0,se.Z)({},l,{onChange:this.handleChange,className:this.props.className}),this.renderTreeNodes(this.state.treeData)):K().createElement("div",{style:{textAlign:"center"}})},this.state={treeData:[]}}componentDidMount(){this.getPostTree()}render(){return K().createElement("div",{className:"org-tree-container ".concat(this.props.className)},this.renderTreeSelect())}}p.defaultProps={disabled:!1,onChange:()=>{}},ae.Z=(0,Z.Z)()(p)},54792:function(ue,ae,e){"use strict";var se=e(62029),V=e(63185),R=e(9676),X=e(47673),K=e(4107),Z=e(88986),A=e(12924),y=e.n(A),I=e(91768),z=e(59239),p=e(55446),O=e.n(p),w=e(18329),d=e(2396);class C extends y().Component{constructor(){super(...arguments);this.state={isChecked:!1},this.handleBeforeCreate=()=>{var n=this.props,a=n.form,v=n.id,h=n.onCreate,l=this.state.isChecked;a.validateFields((s,r)=>{if(!s){var g=(0,Z.Z)({},r);l||(g.value=0);var o=(0,Z.Z)((0,Z.Z)({},g),{},{id:v});h(o),setTimeout(()=>{a.resetFields()},100)}})},this.handleBeforeCancel=()=>{var n=this.props,a=n.form,v=n.onCancel;v(),setTimeout(()=>{a.resetFields()},100)},this.checkScore=(n,a,v)=>{var h=this.props.t,l=this.state.isChecked;if(l&&(0,d.kh)(a)){v(h("component.setScoreRuleTip"));return}v()},this.handleCheckChange=n=>{this.setState({isChecked:n.target.checked})},this.renderItem=()=>{var n=this.props,a=n.form,v=n.initialValue,h=n.labelTxt,l=this.state.isChecked,s=a.getFieldDecorator,r={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},g=l?s("value",{initialValue:v,rules:[{validator:this.checkScore}]})(y().createElement(K.Z,{maxLength:30,placeholder:""})):null,o=y().createElement(y().Fragment,null,y().createElement(R.Z,{checked:l,onChange:this.handleCheckChange},h));return y().createElement(z.Z.Item,(0,se.Z)({label:o},r),g)}}componentDidUpdate(n){this.props.visible&&this.props.visible!==n.visible&&this.setState({isChecked:!!this.props.initialValue})}render(){var n=this.props,a=n.visible,v=n.title,h=n.prefixCls;return y().createElement(w.ZP,{size:"small",visible:a,title:v,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},y().createElement(z.Z,{className:"".concat(h),layout:"horizontal",colon:!1},this.renderItem(),y().createElement("div",{className:"".concat(h,"__children")},this.props.children)))}}C.defaultProps={prefixCls:"cl-setscore",id:"",visible:!1,title:"SetScore",labelTxt:"",initialValue:"",onCancel:()=>{},onCreate:()=>{}};var b=z.Z.create({name:"ClSetupBoxInModal"})(C);ae.Z=(0,I.Z)()(b)},61421:function(ue,ae,e){"use strict";var se=e(12924),V=e.n(se),R=e(91768),X=e(18329),K=e(39979),Z=e.n(K);class A extends V().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var I=localStorage,z=I.appType,p=this.props,O=p.visible,w=p.t,d=p.groupUrl,C=d===void 0?z==="e_app"?"".concat("https://oss.coolcollege.cn","/1789887436126556160.png"):z==="fs_app"?Z():"":d,b=w("course.contactService");return V().createElement(X.ZP,{visible:O,width:"400",footer:null,bodyStyle:{maxHeight:"initial",minHeight:313,width:320},title:b,onCancel:this.onCancel},O&&V().createElement("div",{className:"contact_service"},V().createElement("img",{src:C,alt:""}),V().createElement("div",{className:"tip"},z==="e_app"?w("course.contactGroup"):z==="fs_app"?w("course.contactGroupFs"):"")))}}ae.Z=(0,R.Z)()(A)},17762:function(ue,ae,e){"use strict";var se=e(66456),V=e(55313),R=e(62029),X=e(88986),K=e(34792),Z=e(48086),A=e(12924),y=e.n(A),I=e(91768),z=e(28216),p=e(37055),O=e(10237),w=e(18329),d=e(87312),C=e(84874),b=e(1164),t=e(76466),n=e(54531),a=e(6793);class v extends y().Component{constructor(l){super(l);this.onCancel=()=>{this.props.onCancel()},this.dealWatchType=s=>{var r=s.contentType||s.content_type,g=p.Yq.findIndex(j=>s.type.toLowerCase().includes(j))>-1,o=r.indexOf("video")>-1,m=p.Ss.indexOf(r)>-1,P=r.indexOf("image")>-1||s.type.indexOf("image")>-1||r.indexOf("picture")>-1||s.type.indexOf("picture")>-1,c=r.indexOf("html")>-1,x=r.indexOf("scorm")>-1,N=r.indexOf("h5")>-1,M="";return N?M="article":g?M="doc":o||m?M="video":P?M="image":c?M="html":x&&(M="scorm"),M},this.handlePreviewSystemFile=s=>{var r=this.state.previewInfo,g=s.status===1||s.status===2;if(g){Z.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var o=s.contentType||s.content_type,m=this.dealWatchType(s),P=p.Ss.indexOf(o)>-1;if(m==="article"){var c=s.contentType,x=s.url,N=c==="h5/link";N?b.Z.targetTo({path:x,isExternalLink:!0}):b.Z.targetTo({path:"/training/resourceManage/library/articlePreview?id=".concat(s.id)});return}if(m==="scorm"){var M=s.url.split("//"),j=M[1].split("/"),Q=[M[0],j[0]].join("//"),Y="".concat(Q,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(s.url));b.Z.targetTo({path:Y,isExternalLink:!0});return}var i={mode:"preview",watchType:m};m==="doc"?Object.assign(i,{resourceInfo:{type:"",docType:s.type,aliUrl:s.path,url:s.url,docTitle:s.name,playId:s.videoId||s.video_id,storageType:s.storage_type}}):m==="image"?Object.assign(i,{resourceInfo:{url:s.url,playId:s.videoId||s.video_id,storageType:s.storage_type}}):m==="html"?Object.assign(i,{resourceInfo:{url:s.url}}):Object.assign(i,{resourceInfo:{source:{FD:s.url,OD:s.path},originUrl:s.url,contentType:P?"mp3":s.type,playId:s.videoId||s.video_id,storageType:s.storage_type},autoPlay:!0,draggable:!0}),this.setState({resourcePlayInfo:i,previewInfo:(0,X.Z)((0,X.Z)({},r),{},{title:s.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var s=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,X.Z)((0,X.Z)({},s),{},{visible:!1})})},this.funGetList=()=>{var s=this.props,r=s.fileId,g=s.fileList;r?O.WY.get({url:p.ZP.lineClassStudy.getResource(),params:{id:r}}).then(o=>{this.setState({files:o.data})}):this.setState({files:g||[]})},this.handlePreview=s=>{var r=this.props,g=r.appType,o=r.t,m=s.biz_type||s.bizType;if(g==="wx_app"&&m===3){Z.default.info(o("lineClassStudy.ddFileNoSee"));return}if(g==="app"){this.handlePreviewSystemFile(s);return}if(!((s.type==="zip"||s.type==="rar")&&s.storage_type!=="DING_PAN")){if(!dd.version&&m===3){Z.default.info(o("practiceOperation.dingFileTip"));return}if(m!==3){this.handlePreviewSystemFile(s);return}var P=p.ZP.DingSpaceId.getSpaceId(),c={corpId:this.props.corpId,userId:this.props.account,fileids:s.url,timeStamp:Date.parse(new Date)};O.WY.get({url:P,params:c}).then(x=>{x.data.code===0?this.ddSpacePreview(s):Z.default.info(x.data.msg)}).catch(x=>{Z.default.error(x.data)})}},this.ddSpacePreview=s=>{var r={spaceId:s.path,fileId:s.url,fileName:s.name,fileSize:s.size,fileType:s.type};(0,n.DR)(r)},this.getIconType=s=>{var r=p.e1[s.type];return r||"iconf-matter-picture"},this.renderModalPreview=()=>{var s=this.state,r=s.resourcePlayInfo,g=s.previewInfo;return y().createElement(t.Z,(0,R.Z)({},r,{previewInfo:g}))},this.renderCard=s=>{var r=this.props,g=r.prefixCls,o=r.t,m="".concat(g,"__file"),P=s.type;return P.indexOf("image")!==-1&&(P="png"),y().createElement(y().Fragment,null,y().createElement("div",{key:s.id,className:m},y().createElement("span",{className:"".concat(m,"__item")},y().createElement("span",{style:{"vertical-align":"middle"}},y().createElement(C.Z,{iconClass:p.e1[P],size:"16px"}))," ",y().createElement("span",{className:"".concat(m,"__name")},s.name),y().createElement("span",{className:"cl-pointer",style:{marginLeft:"15px","vertical-align":"middle"},onClick:()=>this.handlePreview(s)},o("common.preview")))))},this.renderTable=()=>{var s=this.props,r=s.t,g=s.useLocalList,o=s.fileList,m=this.state.files,P=g?o:m,c=[{title:r("common.number"),dataIndex:"id",width:80,key:"id",render:(x,N,M)=>y().createElement("span",null,M+1)},{title:r("practiceOperation.annex"),dataIndex:"name",key:"name",ellipsis:!0,render:(x,N)=>y().createElement("div",null,y().createElement(C.Z,{iconClass:this.getIconType(N),size:"16px"}),y().createElement("span",{style:{marginLeft:"8px"}},x))},{title:r("common.operate"),width:130,fixed:"right",render:(x,N)=>y().createElement("div",null,y().createElement("span",{className:"cl-pointer",onClick:()=>this.handlePreview(N)},r("common.preview")))}];return y().createElement(V.Z,{style:{minHeight:"400px"},columns:c,dataSource:P,pagination:!1})},this.renderFileList=()=>{var s=this.props,r=s.t,g=s.isComponent,o=s.isCard,m=s.fileList,P=s.useLocalList,c=s.prefixCls,x=s.title,N=this.state.files,M=P?m:N;if(g&&!o)return this.renderTable();if(o)return y().createElement(y().Fragment,null,M.length?y().createElement("div",{className:"file-list-item-card"},M.map(Y=>this.renderCard(Y))):y().createElement(d.Z,{tipText:r("lineClassStudy.noResult")}));var j=y().createElement("div",null,N.length>0?y().createElement("div",{className:"".concat(c,"_page")},y().createElement("div",{className:"".concat(c,"_page_num")},(0,a.ZT)(r("lineClassStudy.pageTotal"),N.length))):null),Q={okText:r("common.ok"),cancelText:r("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:j};return y().createElement(w.ZP,(0,R.Z)({title:x||r("practiceOperation.annex")},Q,{visible:this.props.visible,onCancel:this.onCancel}),y().createElement("div",{className:c},this.renderTable()))},this.state={files:[],resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.funGetList()}componentDidUpdate(l){l.fileId!==this.props.fileId&&this.props.fileId&&this.funGetList()}render(){var l=this.state,s=l.resourcePlayInfo,r=l.previewInfo;return y().createElement("div",null,this.renderFileList(),y().createElement(t.Z,(0,R.Z)({},s,{previewInfo:r})))}}v.defaultProps={prefixCls:"file-list-line-class",title:"",fileId:"",isComponent:!1,fileList:[],useLocalList:!1,isCard:""},ae.Z=(0,z.$j)(h=>({corpId:h.user.corpId,account:h.user.account}))((0,I.Z)()(v))},17676:function(ue,ae,e){"use strict";e.d(ae,{E6:function(){return X},h$:function(){return K},_v:function(){return Z},R9:function(){return A},wq:function(){return I},BV:function(){return z},Np:function(){return p},af:function(){return d},RX:function(){return C},WF:function(){return b},gm:function(){return t}});var se=e(88986),V=e(37055),R=e(10237);function X(n){return R.WY.get({url:V.ZP.lineClassStudy.signCourses(),params:n})}function K(n){return R.WY.get({url:V.ZP.lineClassStudy.signCoursesCount(),params:n})}function Z(n){return R.WY.get({url:V.ZP.lineClassStudy.teachingsList(),params:n})}function A(n){return R.WY.get({url:V.ZP.lineClassStudy.teachingCoursesCount(),params:n})}function y(n){return request.get({url:CONFIG.lineClass.getOfflineCourseSignAnalysis(n)})}function I(n,a){return R.WY.post({url:V.ZP.lineClass.updateOfflineCourseSetting(),data:(0,se.Z)({courseId:n,enterpriseId:localStorage.getItem("enterpriseId")},a)})}function z(n){return R.WY.get({url:V.ZP.lineClass.getOfflineCourseSetting(),params:{courseId:n,enterpriseId:localStorage.getItem("enterpriseId")}})}function p(n){return R.WY.post({url:V.ZP.lineClassStudy.lecturerRefuse(n)})}function O(n){return request.get({url:CONFIG.lineClassStudy.approvalsList(),params:n})}function w(){return request.get({url:CONFIG.lineClassStudy.approvalCoursesCount()})}function d(n){return R.WY.post({url:V.ZP.lineClassStudy.resouceAdd(),data:n})}function C(n){return R.WY.get({url:V.ZP.lineClassStudy.getResource(),params:n})}function b(n){return R.WY.get({url:V.ZP.lineClassStudy.getLineCourse(),params:n})}function t(n){return R.WY.get({url:V.ZP.lineClassStudy.getStuAttendanceInfo(n),params:{}})}},47745:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return o}});var se=e(34792),V=e(48086),R=e(88986),X=e(57663),K=e(71577),Z=e(71153),A=e(60331),y=e(12924),I=e.n(y),z=e(91768),p=e(76651),O=e(87722);class w extends I().Component{constructor(){super(...arguments);this.handleTimeRange=P=>{var c=P.startTime,x=P.endTime,N=P.dateStrings;if(!N.filter(j=>j).length){this.props.handleChangeDataRange({startTime:"",endTime:""});return}var M={startTime:c,endTime:x};this.props.handleChangeDataRange(M)}}render(){return I().createElement("div",{className:"exam-grades__query"},I().createElement(O.Z,{timestamp:!0,showTime:!0,format:"YYYY-MM-DD HH:mm",onCustomChange:this.handleTimeRange}))}}var d=(0,z.Z)()(w),C=e(84391),b=m=>{var P=m.t,c=m.shouldRenderExport;return I().createElement("div",{className:"exam-grades__query"},c&&I().createElement(K.Z,{type:"primary",onClick:m.handleExport},I().createElement(C.Z,null),P("common.exportData")))},t=(0,z.Z)()(b),n=e(38642),a=e(10237),v=e(37055),h=e(6793),l=e(18329),s=e(95664),r=e(36202);class g extends I().Component{constructor(P){super(P);this.getTableColumns=()=>{var c=[{title:this.props.t("personal.submitTime"),dataIndex:"planId",key:"planId",width:160,render:(j,Q)=>I().createElement("span",{className:"exam-grades__table__cell"},(0,h.p6)(Q.commit_time,"yyyy-MM-dd hh:mm:ss"),Q.score_rule===1?I().createElement(A.Z,{color:"#CF3C3C"},this.props.t("myExamTask.highest")):null,Q.score_rule===2?I().createElement(A.Z,{color:"#FFA000"},this.props.t("myExamTask.newest")):null)},{title:this.props.t("examing.examTotalScore"),dataIndex:"total_score",key:"total_score",width:100},{title:this.props.t("myExamTask.score"),dataIndex:"score",key:"score",width:100,render:(j,Q)=>Q.status===5?"--":j},{title:this.props.t("exam.examTime"),dataIndex:"duration",key:"duration",width:100,render:j=>(0,h.xj)(j)},{title:this.props.t("exam.examResult"),dataIndex:"result",key:"result",width:120},{title:this.props.t("common.operate"),width:100,key:"operate",render:j=>this.props.type==="user"?this.userOperation(j):this.adminOperation(j)}],x={title:this.props.t("exam.marker"),width:100,dataIndex:"marker_name",key:"marker_name"},N=this.props.type,M=N===void 0?"admin":N;return M==="admin"&&c.splice(4,0,x),c},this.userOperation=c=>I().createElement(y.Fragment,null,c.view_rule===0&&I().createElement(K.Z,{type:"link",size:"small",disabled:!0},this.props.t("common.viewDetails")),c.view_rule===1&&I().createElement(K.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(c)},this.props.t("myExamTask.answerAnalytics")),c.view_rule===2&&I().createElement(K.Z,{type:"link",size:"small",onClick:()=>this.viewDetails(c)},this.props.t("exam.viewRightAndWrong"))),this.adminOperation=c=>I().createElement(y.Fragment,null,c.status===5?I().createElement("div",{className:"cl-table__cell-action"},I().createElement("span",{className:"cl-pointer cl-disabled"}," ",this.props.t("common.viewDetails"))):I().createElement("div",{className:"cl-table__cell-action",onClick:()=>this.viewDetails(c)},I().createElement("span",{className:"cl-pointer"}," ",this.props.t("common.viewDetails")))),this.viewDetails=c=>{var x=c.user_id,N=c.plan_id,M=c.makeup_count,j=this.props,Q=j.pageFrom,Y=j.taskId,i=j.type,E=i===void 0?"admin":i,u="";E==="admin"?u="/training/examination/result?pageFrom=examMonitor&id=".concat(N,"&userId=").concat(x,"&makeupCount=").concat(M):Q==="myObligatoryTask"?u="/training/examination/result/personal?fromPage=myObligatoryTask&id=".concat(N,"&userId=").concat(x,"&taskId=").concat(Y,"&makeupCount=").concat(M):Q==="myExamTask"?u="/training/examination/result/personal?pageFrom=myExamTask&id=".concat(N,"&userId=").concat(x,"&makeupCount=").concat(M):u="/training/examination/result/personal?id=".concat(N,"&userId=").concat(x,"&makeupCount=").concat(M),E==="admin"?p.m8.push(u):(0,n.eJ)({url:u})},this.initTableList=()=>{var c=this.props.planId;a.WY.get({url:v.ZP.ExaminationPlanMonitor.getExamAllGrades(c),params:(0,R.Z)({},this.state.params)}).then(x=>{setTimeout(()=>{this.setState({showList:!0,loading:!1,tableList:x.data.list,tableTotal:Number(x.data.total),tableTotalPages:x.data.pages})},300)}).catch(()=>{this.setState({showList:!1,loading:!1}),this.props.hideEveryExamGrade()})},this.handleTableChange=c=>{var x=this.state.params;x.page_number=c,this.setState({params:x},()=>{this.initTableList()})},this.handleChangeDataRange=c=>{this.setState(x=>({params:(0,R.Z)((0,R.Z)({},x.params),{},{commit_time_start:c.startTime,commit_time_end:c.endTime})}),()=>{this.initTableList()})},this.handleExport=()=>{var c=this.props,x=c.t,N=c.planId,M=v.ZP.ExaminationPlanMonitor.exportExamAllGrades(N),j=this.state.params,Q=j.commit_time_start,Y=j.commit_time_end,i=j.user_id;M+="?access_token=".concat(window.localStorage.getItem("token"),"&commit_time_start=").concat(Q,"&commit_time_end=").concat(Y)+"&user_id=".concat(i),window.location.href=M,V.default.success(x("study.exportSucceed"))},this.onCancel=()=>{this.props.hideEveryExamGrade()},this.renderFooter=()=>{var c=this.props.t;return I().createElement(K.Z,{type:"primary",onClick:this.onCancel},c("common.cancel"))},this.renderLeftRow=()=>I().createElement(d,{handleChangeDataRange:this.handleChangeDataRange}),this.renderRightRow=()=>{var c=this.props.type,x=c===void 0?"admin":c;return I().createElement(t,{shouldRenderExport:x==="admin",handleExport:this.handleExport})},this.state={loading:!0,params:{commit_time_start:"",commit_time_end:"",user_id:"",page_number:1,page_size:10},tableList:[],tableTotal:0,tableTotalPages:0,showList:!1}}componentDidUpdate(P){this.props.visible&&this.props.visible!==P.visible&&this.props.userId&&this.setState({params:{commit_time_start:"",commit_time_end:"",user_id:this.props.userId,page_number:1,page_size:10,task_id:this.props.taskId},tableList:[],tableTotal:0,tableTotalPages:0},()=>{this.initTableList()})}render(){var P=this.props,c=P.visible,x=P.t,N=P.planTitle,M=this.state,j=M.showList,Q=M.loading,Y=M.params,i=M.tableList,E=M.tableTotal,u=M.tableTotalPages;return I().createElement("div",null,c&&j?I().createElement(l.ZP,{size:"large",visible:c,title:x("exam.examDetails"),onCancel:this.onCancel,onOk:this.onCancel,footer:this.renderFooter()},I().createElement("div",{className:"exam-grades"},I().createElement("div",{className:"exam-grades__title"},N),I().createElement(r.f,{bordered:!0,columns:this.getTableColumns(),rowKey:"makeup_count",dataSource:i,pagination:!1,loading:Q,headerTitle:this.renderLeftRow(),toolBarRender:this.renderRightRow,tableUUID:"a7d5cb8a-163d-4795-953e-ae47d83ee50d"}),I().createElement(s.Z,{defaultPageSize:10,totalNum:E,totalPage:u,current:Y.page_number,showRenderRefresh:!1,onChange:this.handleTableChange}))):null)}}var o=(0,z.Z)()(g)},72456:function(ue,ae,e){"use strict";var se=e(49111),V=e(19650),R=e(57663),X=e(71577),K=e(12924),Z=e.n(K),A=e(28216),y=e(91768),I=e(84391),z=e(90631),p=e(49101),O=e(76651),w=e(31945),d=e(1164),C=e(51697),b=n=>{var a=n.user,v=n.currentRoute,h=n.advancedSetting;return{currentPath:v.path,allAuthRoutes:v.allAuthRoutes,userLng:a.lng,themeColor:h.themeColor,qyShield:a.qyShield}};class t extends Z().Component{constructor(){super(...arguments);this.handleDownload=()=>{this.props.onDownload()},this.handleImport=()=>{this.props.onImport()},this.handleCreate=()=>{var a=this.props.tabLink;O.m8.push(a)},this.renderActionBtn=()=>{var a=this.props,v=a.prefixCls,h=a.actionText,l=a.t,s=a.tabLink,r=a.showBtn,g=a.renderActionBtn,o=a.newPage,m=a.popOverProps,P=m===void 0?[]:m,c=a.renderGuide,x=c===void 0?!1:c,N=a.showDownloadBtn,M=N===void 0?!1:N,j=a.showImportBtn,Q=j===void 0?!1:j,Y=a.showCreateBtn,i=Y===void 0?!0:Y,E=a.rowReverse,u=E===void 0?!1:E,U="".concat(v,"__action");if(!r&&g&&typeof g=="function")return Z().createElement("div",{className:U},g());if(!r||!h)return null;var te=P.length?P[0].contentText:"";return Z().createElement("div",{className:"".concat(U," ").concat(u&&"row-reverse")},Z().createElement(V.Z,{size:16},M&&Z().createElement(X.Z,{icon:Z().createElement(I.Z,null),onClick:this.handleDownload},l("common.exportData")),Q&&Z().createElement(X.Z,{icon:Z().createElement(z.Z,null),onClick:this.handleImport},l("exam.importTemplate")),i&&o&&Z().createElement(d.Z,{to:s},Z().createElement(C.Z,{visible:te&&x,placement:"topLeft",title:te},Z().createElement(X.Z,{type:"primary",id:"create-project-button",icon:Z().createElement(p.Z,null)},h))),i&&!o&&Z().createElement(X.Z,{type:"primary",id:"create-project-button",icon:Z().createElement(p.Z,null),onClick:this.handleCreate},h)))},this.renderQueryRow=()=>{var a=this.props,v=a.queryRowParams,h=a.queryRowList,l=a.queryRowSelectedCourseIds,s=a.queryRowSelectedProjectIds,r=a.queryRowOnForceRender,g=a.queryRowOnClassifyChange,o=a.queryRowOnTypeChange,m=a.queryRowOnCourseTypeChange,P=a.queryRowAllowActions,c=a.showNum,x=c===void 0?1:c;return Z().createElement(w.Z,{params:v,list:h,selectedCourseIds:l,selectedProjectIds:s,onForceRender:r,onClassifyChange:g,onTypeChange:o,onCourseTypeChange:m,allowActions:P,showNum:x,showRenderCondition:!1})},this.rendeExtraBtn=()=>{var a=this.props,v=a.t,h=a.extraBtnSelectedRowKeys,l=a.extraBtnHandleMultiVisibleRange;return Z().createElement(X.Z,{disabled:h.length===0,onClick:l},v("courseManage.setTheVisibility"))}}render(){var a=this.props,v=a.prefixCls,h=a.wrapCls,l=a.showRenderQueryRow,s=a.showRendeExtraBtn;return Z().createElement(Z().Fragment,null,Z().createElement("div",{className:"render_other"},Z().createElement("header",{className:"".concat(v," ").concat(h)},Z().createElement("section",{className:"".concat(v,"__radiocol")},this.renderActionBtn(),l&&this.renderQueryRow(),s&&this.rendeExtraBtn()))))}}t.defaultProps={prefixCls:"cl-listQueryRow",wrapCls:"",label:"",actionText:"add",showSearch:!0,showBtn:!0,newPage:!0,searchStylesProps:{},selectList:[],renderActionBtn:()=>null},ae.Z=(0,A.$j)(b)((0,y.Z)()(t))},62117:function(ue,ae,e){"use strict";var se=e(63185),V=e(9676),R=e(43358),X=e(34041),K=e(88983),Z=e(47933),A=e(12924),y=e.n(A),I=e(28216),z=e(91768),p=e(48479),O=e(2971),w=e(45601),d=e(7249),C=t=>{var n=t.user,a=t.currentRoute,v=t.advancedSetting;return{currentPath:a.path,allAuthRoutes:a.allAuthRoutes,userLng:n.lng,themeColor:v.themeColor,appType:n.appType,appId:n.appId}};class b extends y().Component{constructor(n){super(n);this.setPlaceholder=()=>{var a=this.props,v=a.currentPath,h=a.allAuthRoutes,l=a.userLng,s=this.state.language,r=h[v],g=this.props,o=g.appType,m=g.appId,P=localStorage.getItem("qyWechatBook"),c=o==="wx_app"&&P==="true"&&m==="9005";if(!!r){var x=s[l].searchInputPlaceholder,N="";r.menuKey==="studyTemplate"||r.menuKey==="examTemplate"?N=x.template:r.menuKey==="employee"||r.menuKey==="obligatory"||r.menuKey==="elective"||r.menuKey==="plan"||r.menuKey==="evaluation"||r.menuKey==="myEvaluationPlan"?N=x.task:r.menuKey==="studyProject"?N=c?x.byProjectName:x.byProjectNameOrCreator:r.menuKey==="management"?N=c?x.byTaskName:x.byTaskNameOrCreator:N=x[r.menuKey],this.setState({currentPlaceholder:N})}},this.handleRadiosChange=a=>{this.props.onRadiosChange(a.target.value)},this.handleSelectChange=a=>{this.props.onSelectChange(a)},this.handleSearch=(a,v)=>{this.props.onSearch(a,v)},this.handleChange=a=>{this.props.onCheckboxChange(a.target.checked)},this.renderRadios=()=>{var a=this.props,v=a.prefixCls,h=a.radioList,l=a.defaultRadioValue,s=a.radioValue;if(!h.length)return null;var r=l||h[0].value,g="".concat(v,"__radios");return y().createElement("div",{className:g},typeof s!="undefined"?y().createElement(Z.ZP.Group,{defaultValue:r,value:s,onChange:this.handleRadiosChange},h.map(o=>y().createElement(Z.ZP.Button,{key:o.value,value:o.value},o.name))):y().createElement(Z.ZP.Group,{defaultValue:r,onChange:this.handleRadiosChange},h.map(o=>y().createElement(Z.ZP.Button,{key:o.value,value:o.value},o.name))))},this.renderSelect=()=>{var a=this.props,v=a.prefixCls,h=a.selectList,l=a.defaultSelectValue;if(!h.length)return null;var s=l||h[0].value,r="".concat(v,"__select");return y().createElement("div",{className:r},y().createElement(X.Z,{defaultValue:s,onChange:this.handleSelectChange,style:{minWidth:100}},h.map(g=>y().createElement(X.Z.Option,{key:g.value,value:g.value},g.name))))},this.renderOther=()=>{var a=this.props,v=a.prefixCls,h=a.renderOther,l=a.showOther,s="".concat(v,"__other");if(l&&h&&typeof h=="function")return y().createElement("div",{className:s},h())},this.renderCheckbox=()=>{var a=this.props,v=a.prefixCls,h=a.t,l=a.label,s=a.showCheckbox,r=a.renderActionSelect,g="".concat(v,"__checkbox");return!s&&r&&typeof r=="function"?y().createElement("div",{className:g},r()):s?y().createElement("div",{className:g},y().createElement(V.Z,{onChange:this.handleChange},l||h("common.myCreated"))):null},this.renderSearch=()=>{var a=this.props,v=a.prefixCls,h=a.showSearch,l=a.inputPlaceholder,s=a.maxLength,r=s===void 0?400:s,g=a.value,o="".concat(v,"__search");if(!h)return null;var m=this.state.currentPlaceholder;return l?y().createElement("div",{className:o},y().createElement(p.Z,{onSearch:this.handleSearch,placeholder:l,width:272,maxLength:r})):y().createElement("div",{className:o},y().createElement(p.Z,{onSearch:this.handleSearch,placeholder:m,width:272,maxLength:r,value:g}))},this.renderSearchOther=()=>{var a=this.props.renderSearchOther;return a?a():null},this.state={language:{zh_cn:w.Z,en_us:O.Z,zh_hk:d.Z},currentPlaceholder:""}}componentDidMount(){this.setPlaceholder()}componentDidUpdate(n){n.userLng!==this.props.userLng&&this.setPlaceholder()}render(){var n=this.props,a=n.prefixCls,v=n.wrapCls,h=n.showRenderRadios,l=h===void 0?!0:h,s=n.showRenderSelect;return y().createElement(y().Fragment,null,y().createElement("div",{className:"render_other"},this.renderOther(),y().createElement("header",{className:"".concat(a," ").concat(v)},y().createElement("section",{className:"".concat(a,"__searchcol")},this.renderSearchOther(),this.renderCheckbox(),l&&this.renderRadios(),s&&this.renderSelect(),this.renderSearch()))))}}b.defaultProps={prefixCls:"cl-listQueryRow",wrapCls:"",label:"",showRadioList:!0,showCheckbox:!0,showSearch:!0,inputPlaceholder:"",defaultRadioValue:"",radioList:[],searchStylesProps:{},showRenderSelect:!1,selectList:[],renderActionBtn:()=>null,onRadiosChange:()=>{},onSearch:()=>{},onCheckboxChange:()=>{},renderSearchOther:()=>{}},ae.Z=(0,I.$j)(C)((0,z.Z)()(b))},1657:function(ue,ae,e){"use strict";var se=e(49111),V=e(19650),R=e(57663),X=e(71577),K=e(88986),Z=e(34792),A=e(48086),y=e(57361),I=e(71194),z=e(57016),p=e(9754),O=e.n(p),w=e(12924),d=e.n(w),C=e(91768),b=e(57119),t=e(84391),n=e(28216),a=e(78138),v=e.n(a),h=e(43060),l=e(36202),s=e(10237),r=e(37055),g=e(64262),o=e(97593),m=e(64630),P=e(60667),c=e(80430),x=z.Z.confirm;class N extends d().Component{constructor(Q){var Y;super(Q);Y=this,this.onBack=()=>{this.props.onBack()},this.onCancelImport=()=>{this.setState({importVisible:!1})},this.onMarkLeave=i=>{var E=this.props,u=E.t,U=E.taskId;x({title:u("common.tip"),icon:d().createElement(b.Z,null),content:u("lineClass.markSuccessfulLeaveConfirm"),onOk:function(){var te=(0,y.Z)(O().mark(function f(){var L,T,F,q,H;return O().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return L=i.course_id,T=i.user_id,F=i.course_id?r.ZP.lineClass.offlineMarkLeave(U,L,Y.props.record.id):r.ZP.lineClass.attendanceMarkLeave(U,Y.props.record.id),re.next=4,s.WY.post({url:F,params:{user_id:T}});case 4:q=re.sent,H=q.data,H.code==="200000"?H.data.updated&&(A.default.success(u("lineClass.markSuccessfulLeave")),Y.getAttendanceDetail(),Y.props.getAttendanceData()):A.default.error(H.message);case 7:case"end":return re.stop()}},f)}));function B(){return te.apply(this,arguments)}return B}()})},this.getExtraData=(0,y.Z)(O().mark(function i(){var E,u,U,te;return O().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return E=r.ZP.getUserInfoColumnConfig(),f.next=3,s.WY.get({url:E});case 3:u=f.sent,U=u.data,U&&U.length>0&&(te=U.filter(L=>Object.keys(L)[0].startsWith("column")),Y.setState({extraList:te}));case 6:case"end":return f.stop()}},i)})),this.getAttendanceDetail=(0,y.Z)(O().mark(function i(){var E,u,U,te,B,f,L,T,F,q,H;return O().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return E=Y.props,u=E.record,U=E.type,te=u.course_id,B=Y.state,f=B.post_id,L=B.department_id,T=B.params,re.next=5,s.WY.get({url:r.ZP.lineClass.getAttendanceDetail(u.id),params:{course_id:te||"",type:U,post_id:f,department_id:L,page_number:T.page_number,page_size:T.page_size}});case 5:F=re.sent,q=F.data,q.code==="200000"&&(H=q.data.list.map($=>{var G={};return $.sign_details&&$.sign_details.length&&$.sign_details.length>0&&(G=(0,K.Z)({},$.sign_details[0])),(0,K.Z)((0,K.Z)((0,K.Z)({},$.user_info),G),{},{sync_user_id:$.user_info.user_id,source_type:$.user_info.source_type})}),Y.setState({list:H,params:(0,K.Z)((0,K.Z)({},Y.state.params),{},{total:q.data.total})}));case 8:case"end":return re.stop()}},i)})),this.pageChange=(i,E)=>{this.setState({params:(0,K.Z)((0,K.Z)({},this.state.params),{},{page_number:i,page_size:E})},()=>{this.getAttendanceDetail()})},this.handleExportExcel=()=>{var i=this.state,E=i.post_id,u=i.department_id,U=this.props.record,te=U.course_id,B="?access_token=".concat(window.localStorage.getItem("token"),"&post_id=").concat(E,"&department_id=").concat(u,"&course_id=").concat(te,"&type=").concat(U.source_type);(0,o.N)({page:"signAnalysisDetailExport",props:this.props,query:B,rest:U})},this.renderActions=i=>{var E=i.record,u=this.props.t,U=E.progress,te=E.sign_status;return d().createElement("div",{className:"cl-table__cell-action"},te==="leaved"||U===100?d().createElement("span",{className:"no-click-btn"},u("practiceOperation.markLeave")):d().createElement("span",{className:"cl-pointer",onClick:()=>this.onMarkLeave(E)},u("practiceOperation.markLeave")))},this.handleTreeSelectChange=i=>{this.setState({department_id:i},()=>{this.getAttendanceDetail()})},this.handlePostSelectChange=i=>{this.setState({post_id:i},()=>{this.getAttendanceDetail()})},this.handleImportExcel=()=>{this.setState({importVisible:!0})},this.getTableColumn=()=>{var i=this.state.extraList,E=this.props,u=E.t,U=E.record,te=[{title:u("practiceOperation.username"),dataIndex:"name",key:"name",width:120,fixed:"left",render:(f,L)=>d().createElement(P.Z,{dataType:"userName",value:L.sync_user_id,name:f,type:L.source_type})},{title:this.props.t("practiceOperation.department"),dataIndex:"dept_name",key:"dept_name",width:120,render:(f,L)=>f?d().createElement("div",{className:"cl-text-ellipsis",style:{width:200}},this.props.appType==="wx_app"?d().createElement(c.Z,{list:L.department_infos||[],displayAll:!0}):f):"--"},{title:this.props.t("practiceOperation.post"),width:120,dataIndex:"post_name",key:"post_name"},{title:this.props.t("practiceOperation.jobNumber"),width:120,dataIndex:"jobnumber",key:"jobnumber"},{title:this.props.t("practiceOperation.loginEmail"),width:120,dataIndex:"login_email",key:"login_email"},{title:this.props.t("practiceOperation.joinTime"),width:120,dataIndex:"join_time",key:"join_time",render:(f,L)=>{var T=L.join_time;return T?d().createElement("div",{className:"cl-text-ellipsis",style:{width:200}},v()(T).format("YYYY-MM-DD HH:mm")):"--"}},{title:this.props.t("setting.loginPhoneNumber"),width:120,dataIndex:"login_mobile",key:"login_mobile"},{title:this.props.t("common.operate"),width:240,fixed:"right",key:"operate",render:(f,L)=>this.renderActions({record:L})}];if(i.length>0){var B=i.map(f=>({title:f[Object.keys(f)[0]],width:120,key:Object.keys(f)[0],render:(L,T)=>{var F=T.extend_list,q=F&&F.length>0?F.filter(H=>H.column_key===Object.keys(f)[0]):{};return d().createElement("div",null,Array.isArray(q)&&q.length>0?q[0].extend_value:"--")}}));te.splice(-1,0,...B)}return U.exist_sign_in_config&&(te.splice(-1,0,{title:this.props.t("lineClass.signInTime"),width:240,key:"sign_in_time",dataIndex:"sign_in_time",render:(f,L)=>L.sign_status==="leaved"?d().createElement("div",null,u("attendance.leaved")):L.sign_in_status==="missing"?d().createElement("div",null,"--(",u("attendance.notSign"),")"):L.sign_in_status==="leave"?d().createElement("div",null,"--(",u("attendance.leaved"),")"):L.sign_in_status==="abnormal"?d().createElement("div",null,v()(L.sign_in_time).format("YYYY-MM-DD HH:mm"),"(",u("attendance.abnormal"),")"):L.sign_in_status==="normal"?d().createElement("div",null,v()(L.sign_in_time).format("YYYY-MM-DD HH:mm"),"(",u("attendance.normal"),")"):d().createElement("div",null,"--")}),U.address&&te.splice(-1,0,{title:this.props.t("component.checkInAddress"),width:186,key:"sign_in_address",dataIndex:"sign_in_address",render:(f,L)=>d().createElement("div",{className:"cl-text-ellipsis name-content-list",style:{width:186}},L.sign_in_longitude?this.props.t("attendance.addressInScope"):"--")})),U.exist_sign_out_config&&(te.splice(-1,0,{title:this.props.t("lineClass.signOutTime"),width:240,key:"sign_out_time",dataIndex:"sign_out_time",render:(f,L)=>L.sign_status==="leaved"?d().createElement("div",null,u("attendance.leaved")):L.sign_out_status==="missing"?d().createElement("div",null,"--(",u("attendance.notSign"),")"):L.sign_out_status==="leaved"?d().createElement("div",null,u("attendance.leaved")):L.sign_out_status==="abnormal"?d().createElement("div",null,v()(L.sign_out_time).format("YYYY-MM-DD HH:mm"),"(",u("attendance.abnormal"),")"):L.sign_out_status==="normal"?d().createElement("div",null,v()(L.sign_out_time).format("YYYY-MM-DD HH:mm"),"(",u("attendance.normal"),")"):d().createElement("div",null,"--")}),U.address&&te.splice(-1,0,{title:this.props.t("lineClass.signAddress"),width:186,key:"sign_out_address",dataIndex:"sign_out_address",render:(f,L)=>d().createElement("div",{className:"cl-text-ellipsis name-content-list",style:{width:186}},L.sign_out_longitude?this.props.t("attendance.addressInScope"):"--")})),te},this.state={isLoading:!1,list:[],extraList:[],post_id:"",department_id:"",importVisible:!1,params:{page_number:1,page_size:20,total:0}}}componentDidMount(){this.getAttendanceDetail(),this.getExtraData()}render(){var Q=this.props,Y=Q.t,i=Q.taskId,E=Q.type,u=this.state,U=u.isLoading,te=u.list,B=u.params,f=u.importVisible,L=this.getTableColumn(),T=(0,K.Z)((0,K.Z)({},r.XE.INITIAL_PAGINATION),{},{total:Number(B.total),current:B.page_number,onChange:this.pageChange});return d().createElement("div",{className:"offline-detail"},d().createElement("div",{className:"offline-detail-container"},d().createElement("div",{className:"offline-detail-list"},d().createElement("div",{className:"offline-detail-filter"},d().createElement("div",{className:"offline-detail-filter-left"},d().createElement(g.Z,{className:"offline-detail-filter-dept",parentId:"",checkable:!1,asyncLoad:!0,treeSelect:!0,width:224,handleTreeSelectChange:this.handleTreeSelectChange}),d().createElement(m.Z,{className:"offline-detail-filter-dept",width:224,onChange:this.handlePostSelectChange}))),d().createElement("div",null,d().createElement(V.Z,null,d().createElement(X.Z,{type:"primary",icon:d().createElement(t.Z,null),onClick:this.handleExportExcel}," ",Y("common.exportData")," "))),d().createElement("section",{className:"offline-detail-list-table"},d().createElement(l.f,{scroll:{y:"100%",x:"max-content"},loading:U,dataSource:te,columns:L,rowKey:F=>F.id,pagination:T,tableUUID:"ea45645b-4814-4bfa-a36c-b750ef32ecat"})))),d().createElement(h.Z,{visible:f,onExportSuccess:this.onExportSuccess,onCancel:this.onCancelImport,taskId:i,type:E}))}}var M=j=>({appType:j.user.appType,qyShield:j.user.qyShield});ae.Z=(0,n.$j)(M)((0,C.Z)()(N))},43060:function(ue,ae,e){"use strict";var se=e(66456),V=e(55313),R=e(49111),X=e(19650),K=e(43185),Z=e(53251),A=e(62029),y=e(57663),I=e(71577),z=e(17462),p=e(1474),O=e(34792),w=e(48086),d=e(12924),C=e.n(d),b=e(91768),t=e(28216),n=e(84391),a=e(84874),v=e(18329),h=e(37055),l=e(90734);class s extends C().Component{constructor(g){super(g);this.onOk=()=>{var o=this.props,m=o.t,P=o.taskId,c=o.type,x=c===void 0?"study":c,N=this.state.importId;this.state.fileList.length&&(0,l.$W)(x,P,N).then(M=>{M.data.code===-1?w.default.error(m("lineClass.fileOverdue")):M.data.code===2?w.default.error(m("lineClass.exceptionsParsing")):M.data.code===3?w.default.error(m("lineClass.systemError")):M.data.code===4?w.default.error(m("lineClass.importing")):(this.props.onExportSuccess(),this.onCancel())})},this.onCancel=()=>{this.props.onCancel()},this.onDownloadTemplate=()=>{var o=this.props,m=o.taskId,P=o.type,c=P===void 0?"study":P;window.location.href="".concat(h.ZP.lineClass.downloadTemplate(c,m),"?access_token=").concat(window.localStorage.getItem("token"))},this.beforeUpload=()=>{var o=this.state.modalConfig;o.okButtonProps.disabled=!0,this.setState({modalConfig:o})},this.handleExportUser=()=>{window.location.href="".concat(h.ZP.lineClass.userInfoDownload(),"?access_token=").concat(window.localStorage.getItem("token"))},this.fileChangeUpload=o=>{var m=this.props.t,P=this.state.modalConfig;if(o.file.status==="done"){o.file.response.result==="false"?(this.setState({errorList:o.file.response.error_msg_list,warnList:o.file.response.warn_msg_list}),w.default.error("".concat(o.file.name," ").concat(m("setting.uploadFail")))):o.file.response.result==="true"&&(P.okButtonProps.disabled=!1,this.setState({modalConfig:P,errorList:o.file.response.error_msg_list,warnList:o.file.response.warn_msg_list,importId:o.file.response.import_id}),w.default.success("".concat(o.file.name," ").concat(m("setting.uploadSuccess"))));var c=[{key:o.file.uid,file_name:o.file.response.original_file_name,failed_count:o.file.response.failed_count||0}];this.setState({fileList:c})}else o.file.status==="error"&&w.default.error("".concat(o.file.name," ").concat(m("setting.uploadFail")))},this.state={errorList:[],warnList:[],fileList:[],modalConfig:{size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,okButtonProps:{disabled:!1}},uploadConfig:{name:"file",action:h.ZP.lineClass.attendanceImport(g.type,g.taskId),showUploadList:!1,data:{access_token:window.localStorage.getItem("token")},beforeUpload:this.beforeUpload,onChange:this.fileChangeUpload,accept:".xlsx"}}}componentDidUpdate(g){g.visible!==this.props.visible&&this.props.visible&&this.setState({errorList:[],fileList:[],warnList:[]})}render(){var g=this.state,o=g.uploadConfig,m=g.fileList,P=g.errorList,c=g.modalConfig,x=g.warnList,N=this.props,M=N.prefixCls,j=N.t,Q=N.visible,Y=[{title:j("component.fileName"),dataIndex:"file_name",key:"uuid"},{title:j("component.failedLabel"),dataIndex:"failed_count"}];return C().createElement(v.ZP,(0,A.Z)({},c,{title:j("lineClass.batchCollection"),visible:Q,onCancel:this.onCancel,onOk:this.onOk}),C().createElement("div",{className:M},C().createElement("div",{className:"import-question-import"},C().createElement(p.Z,{className:"import-question-alert",message:j("course.importMsg"),type:"info",showIcon:!0}),C().createElement(X.Z,null,C().createElement(I.Z,{className:"import-question-import-btn",onClick:this.onDownloadTemplate},C().createElement(a.Z,{iconClass:"icon-icon_donwloadx1"}),j("component.downloadTem")),C().createElement(I.Z,{type:"primary",onClick:this.handleExportUser},C().createElement(a.Z,{iconClass:"icon-icon_donwloadx1"}),j("lineClass.peopleExport")),C().createElement(Z.Z,(0,A.Z)({className:"import-question-import-btn right"},o),C().createElement(I.Z,{type:"primary",icon:C().createElement(n.Z,null)},j("component.practiceUploadFileBtnText"))))),C().createElement("div",{className:"import-question-table"},C().createElement(V.Z,{dataSource:m,columns:Y,bordered:!0,rowKey:i=>i.new_file_name,size:"middle",pagination:!1}),P.length>0?C().createElement("div",{className:"show-error-message"},C().createElement("div",{className:"tips"},C().createElement(a.Z,{iconClass:"icon-tishi"}),C().createElement("span",null,j("upload.tip"),"\uFF1A")),C().createElement("div",{className:"error-content"},P.map((i,E)=>C().createElement("div",{key:E},i)))):null,x.length>0&&C().createElement("div",{className:"show-error-message warning-message"},C().createElement("div",{className:"error-content"},x.map((i,E)=>C().createElement("div",{key:E},i)))))))}}s.defaultProps={prefixCls:"additional-record-export"},ae.Z=(0,t.$j)()((0,b.Z)()(s))},48674:function(ue,ae,e){"use strict";var se=e(57361),V=e(9754),R=e.n(V),X=e(12924),K=e.n(X),Z=e(91768),A=e(28216),y=e(27632),I=e(18329),z=e(80874),p=e(19886),O=e(38642);class w extends K().Component{constructor(){var C;super(...arguments);C=this,this.state={posterVisible:!1,postersUrl:[],posterName:""},this.handleViewClose=()=>{this.setState({posterVisible:!1})},this.saveQrcodePoster=function(){var b=(0,se.Z)(R().mark(function t(n){var a,v,h,l,s,r,g,o,m,P,c,x,N,M;return R().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return a=n.linkUrl,v=n.type,h=n.activeKey,l=n.option,s=C.props,r=s.t,g=s.detail,o=s.userInfo,m=(0,O.yM)(+new Date(g.sign_in_begin_time),+new Date(g.sign_in_end_time)),h==="sign_out"&&(m=(0,O.yM)(+new Date(g.sign_out_begin_time),+new Date(g.sign_out_end_time))),P="",(g.sign_address||g.sign_address_detail)&&(P="".concat(g.sign_address).concat(g.sign_address_detail)),c=r("component.checkInTime"),h==="sign_out"&&(c=r("lineClass.signBack")),x={headline:r(h==="sign_in"?"personal.checkInQRCode":"lineClass.signOutCode"),path:v==="wx"||v==="weixin"&&o.appId!=="9005"?"":a,primary_color:h==="sign_in"?"#516AE6":"#52C41A",site1:{label:c,value:m},template_type:5,title:g.title,from:l.flag,wx_qr_code:v==="wx"||v==="weixin"&&o.appId!=="9005"?a:""},P&&(x.site2={label:r("attendance.address"),value:P}),Q.next=12,(0,z.In)(x);case 12:N=Q.sent,M=N.data,M.code===0&&C.setState({postersUrl:[M.data],posterName:"".concat(r(h==="sign_in"?"personal.checkInQRCode":"lineClass.signOutCode")).concat(g.title?"-"+g.title:"")},()=>{C.setState({posterVisible:!0})});case 15:case"end":return Q.stop()}},t)}));return function(t){return b.apply(this,arguments)}}()}componentDidMount(){return(0,se.Z)(R().mark(function C(){return R().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},C)}))()}componentWillUnmount(){}render(){var C=this.props,b=C.modalConfig,t=C.detail,n=C.open_transfer_student,a=C.can_save,v=C.universal,h=this.state,l=h.posterVisible,s=h.postersUrl,r=h.posterName;return l?K().createElement(y.Z,{onClose:()=>this.handleViewClose(),previewCurrent:0,posterName:r||"",postersUrl:s,from:"offline"}):K().createElement(I.ZP,b,K().createElement(p.Z,{detail:t,open_transfer_student:n,can_save:a,universalFn:v?g=>this.saveQrcodePoster(g):null}))}}w.defaultProps={modalConfig:{mask:!0,width:700,title:"",footer:null,bodyStyle:{padding:0},destroyOnClose:!0,visible:!1,onCancel:()=>{},onShow:()=>{}},detail:{id:"",qrcode_type:"statics",sign_address:"",sign_address_detail:"",sign_range:"",sign_in_begin_time:"",sign_in_end_time:"",sign_out_begin_time:"",sign_out_end_time:""},can_save:!0},ae.Z=(0,A.$j)(d=>{var C=d.user;return{userInfo:C}})((0,Z.Z)()(w))},19886:function(ue,ae,e){"use strict";var se=e(57361),V=e(18106),R=e(88108),X=e(9754),K=e.n(X),Z=e(12924),A=e.n(Z),y=e(91768),I=e(66708),z=e(90734),p=e(38642),O=R.Z.TabPane;class w extends A().Component{constructor(){var C;super(...arguments);C=this,this.state={activeKey:"sign_in",qrCodeOption:{flag:"",scene:"",path:""}},this.onChangeTab=b=>{this.setState({activeKey:b},()=>this.createQrCode())},this.createQrCode=(0,se.Z)(K().mark(function b(){var t,n,a,v,h,l;return K().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=C.state.activeKey,n=C.props.detail,a=n.id,v=n.qrcode_type,h="",v!=="dynamic"){r.next=10;break}return C.timer&&window.clearTimeout(C.timer),r.next=7,(0,z.bp)();case 7:l=r.sent,h=l.data.data.server_time,C.timer=setTimeout(()=>{C.createQrCode()},1e4);case 10:C.setState({qrCodeOption:{flag:"offline",scene:"flag=offline&clockTimeId=".concat(a,"&qcTime=").concat(h,"&signStyle=").concat(t),mobile_url:"/offline-result?clockTimeId=".concat(a,"&qcTime=").concat(h,"&signStyle=").concat(t),mobile_type:"h5"}});case 11:case"end":return r.stop()}},b)}))}componentDidMount(){var C=this;return(0,se.Z)(K().mark(function b(){var t,n,a;return K().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=C.props.detail,n=t.id,a=t.exist_sign_in_config,a){h.next=4;break}return h.next=4,C.setState({activeKey:"sign_out"});case 4:n&&C.createQrCode();case 5:case"end":return h.stop()}},b)}))()}componentDidUpdate(C){C.detail.id!==this.props.detail.id&&this.createQrCode()}componentWillUnmount(){this.timer&&window.clearTimeout(this.timer)}render(){var C=this.props,b=C.t,t=C.detail,n=t.title,a=t.sign_address,v=t.sign_range,h=t.sign_address_detail,l=t.qrcode_type,s=t.sign_in_begin_time,r=t.sign_in_end_time,g=t.sign_out_begin_time,o=t.sign_out_end_time,m=t.exist_sign_in_config,P=t.exist_sign_out_config,c=t.source_type,x=C.open_transfer_student,N=C.can_save,M=C.universalFn,j=this.state,Q=j.qrCodeOption,Y=j.activeKey;return A().createElement("div",{className:"checkin-qrcode"},A().createElement(R.Z,{className:"checkin-qrcode-tab",activeKey:Y,centered:!0,onChange:this.onChangeTab},m&&A().createElement(O,{tab:b("personal.checkInQRCode"),key:"sign_in"}),P&&A().createElement(O,{tab:b("lineClass.signOutCode"),key:"sign_out"})),A().createElement("div",{className:"checkin-qrcode-scene"},Q.scene?A().createElement(I.Z,{option:Q,activeKey:Y,universalFn:M,canSave:l==="statics"&&N,refreshQrCode:l==="statics"?null:()=>this.createQrCode(),transfer:x,source_type:c}):null),A().createElement("div",{className:"checkin-qrcode-content-box"},n?A().createElement("div",{className:"checkin-qrcode_course-time"},A().createElement("span",{className:"checkin-qrcode_course-name"},b("attendance.signCourse"),"\uFF1A"),A().createElement("span",{className:"checkin-qrcode_course-content"},n)):null,A().createElement("div",{className:"checkin-qrcode_course-time"},m&&Y==="sign_in"&&A().createElement(A().Fragment,null,A().createElement("span",{className:"checkin-qrcode_course-name"},b("component.checkInTime"),"\uFF1A"),A().createElement("span",{className:"checkin-qrcode_course-content"},(0,p.yM)(+new Date(s),+new Date(r)))),P&&Y==="sign_out"&&A().createElement(A().Fragment,null,A().createElement("span",{className:"checkin-qrcode_course-name"},b("lineClass.signBack"),"\uFF1A"),A().createElement("span",{className:"checkin-qrcode_course-content"},(0,p.yM)(+new Date(g),+new Date(o))))),a||h?A().createElement(A().Fragment,null,A().createElement("div",{className:"checkin-qrcode_course-time"},A().createElement("span",{className:"checkin-qrcode_course-name"},b("attendance.address"),"\uFF1A"),A().createElement("span",{className:"checkin-qrcode_course-content"},"".concat(a).concat(h))),A().createElement("div",{className:"checkin-qrcode_course-time"},A().createElement("span",{className:"checkin-qrcode_course-name"},b("attendance.attendancemethod"),"\uFF1A"),A().createElement("span",{className:"checkin-qrcode_course-content"},b("attendance.attendancemethodTip",{meter:v})))):null))}}w.defaultProps={detail:{id:"",qrcode_type:"statics",sign_address:"",sign_address_detail:"",sign_range:"",sign_in_begin_time:"",sign_in_end_time:"",sign_out_begin_time:"",sign_out_end_time:""},can_save:!0},ae.Z=(0,y.Z)()(w)},83068:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return g}});var se=e(62029),V=e(34792),R=e(48086),X=e(57361),K=e(9754),Z=e.n(K),A=e(12924),y=e.n(A),I=e(91768),z=e(80991),p=e(90734),O=e(29208),w=e.n(O);class d extends y().Component{constructor(){var m;super(...arguments);m=this,this.handleChangeAmount=(0,X.Z)(Z().mark(function P(){var c,x,N,M;return Z().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(c=m.props,x=c.value.teacher,N=c.formik,x.id){Q.next=3;break}return Q.abrupt("return");case 3:return Q.next=5,(0,p.HE)({courseId:m.props.id,lecturer_id:x.id});case 5:M=Q.sent,M.data.code==="200000"&&(N.setFieldValue("integral",M.data.data.integral),N.setFieldValue("subsidy",M.data.data.should_class_pay));case 7:case"end":return Q.stop()}},P)}))}componentDidUpdate(m){var P=this.props.value.teacher;w()(P,"id","")!==w()(m.value.teacher,"id","")&&this.handleChangeAmount()}render(){return null}}var C=(0,z.$j)((0,I.Z)()(d)),b=e(31970),t=e(63273),n={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},a={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:10}}};class v extends y().Component{constructor(){super(...arguments);this.initRef=m=>{this.formRef=m},this.validateTeacher=m=>{var P=this.props.t,c="";return m.id||(c=P("course.emptyLecturers")),c},this.validateIntegral=m=>{var P=this.props.t,c="";return(m===""||m===null)&&(c=P("validation.pleaseEnter")),c},this.validateSubsidy=(m,P)=>{var c=this.props.t,x="";return P.teacher.is_lecturer_subsidy&&(m===""||m===null)&&(x=c("validation.pleaseEnter")),x}}componentDidMount(){var m=this.props.getInstance;m(this.formRef)}render(){var m=this.props,P=m.t,c=m.initData,x=m.courseId;return y().createElement(z.J9,{className:"offline-train-form",ref:this.initRef,initialValues:c,onSubmit:this.props.onSubmit,render:N=>y().createElement(z.l0,null,y().createElement(z.gN,(0,se.Z)({name:"teacher",required:!0,label:P("component.courseLecturer"),displayType:"Custom",component:t.Be,validate:M=>this.validateTeacher(M),onlyShowFree:!0},n)),y().createElement(C,{value:N.values,id:x}),y().createElement(z.gN,(0,se.Z)({name:"integral",required:!0,label:P("scoreRankingList.getPoints"),component:b.Z,disabled:!0,maxLength:3,validate:M=>this.validateIntegral(M)},a)),y().createElement(z.gN,(0,se.Z)({name:"subsidy",disabled:N.values.teacher.is_lecturer_subsidy,required:!N.values.teacher.is_lecturer_subsidy,label:P("lineClass.earnClassFees"),validate:M=>this.validateSubsidy(M,N.values),component:b.Z,maxLength:7},a)))})}}var h=(0,I.Z)()(v),l=e(18329),s={};class r extends y().Component{constructor(){var m;super(...arguments);m=this,this.state={initData:{teacher:{},integral:0,subsidy:0},loading:!0,submitLoading:!1},this.onCancel=()=>{var P=this.props.onCancel;P&&P()},this.getBasicData=(0,X.Z)(Z().mark(function P(){var c;return Z().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,m.setState({loading:!0}),N.next=4,(0,p.HE)({courseId:m.props.id});case 4:c=N.sent,c.data.code==="200000"?m.setState({loading:!1,initData:{teacher:{id:c.data.data.lecturer_id,name:c.data.data.lecturer_name,is_lecturer_subsidy:c.data.data.is_lecturer_subsidy,teacher_sync_type:c.data.data.teacher_sync_type,teacher_sync_user_id:c.data.data.teacher_sync_user_id,teacher_sync_source_type:c.data.data.teacher_sync_source_type},integral:c.data.data.integral,subsidy:c.data.data.should_class_pay}}):m.setState({loading:!1}),N.next=11;break;case 8:N.prev=8,N.t0=N.catch(0),m.setState({loading:!1});case 11:case"end":return N.stop()}},P,null,[[0,8]])})),this.getInstance=P=>{s=P},this.handleSubmitData=P=>{var c=this.props,x=c.id,N=c.onCancel,M=c.t,j=this.state.submitLoading;j||(this.setState({submitLoading:!0}),(0,p.DD)({courseId:x,integral:P.integral,subsidy:P.subsidy,is_lecturer_subsidy:P.teacher.is_lecturer_subsidy||!1,lectureId:P.teacher.id}).then(Q=>{this.setState({submitLoading:!1}),Q.data.code==="200000"?(R.default.success(M("common.submitSuccess")),N(!0)):R.default.error(Q.data.message)}).catch(()=>{this.setState({submitLoading:!1})}))},this.handleSubmit=()=>{s.submitForm()}}componentDidUpdate(m){m.visible!==this.props.visible&&this.props.visible&&this.getBasicData()}render(){var m=this.props,P=m.t,c=m.title,x=m.visible,N=this.state,M=N.initData,j=N.loading,Q={okText:P("common.ok"),cancelText:P("common.cancel"),size:"medium",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1};return y().createElement(l.ZP,(0,se.Z)({title:c||P("lineClass.curriculumSettlement")},Q,{visible:x,onOk:this.handleSubmit,onCancel:this.onCancel}),y().createElement("div",{className:"curriculum-settlement"},x&&!j?y().createElement(h,{initData:M,getInstance:this.getInstance,onSubmit:this.handleSubmitData,courseId:this.props.id}):null))}}var g=(0,I.Z)()(r)},31970:function(ue,ae,e){"use strict";var se=e(47673),V=e(4107),R=e(62029),X=e(81211),K=e(12924),Z=e.n(K),A=e(91768),y=e(80991),I=e(43859);class z extends Z().Component{constructor(){super(...arguments);this.handleChange=O=>{var w=this.clearNoNum(O.target.value);this.props.onChange(w)},this.clearNoNum=O=>(O=O.replace(/[^\d]/g,""),O.indexOf(".")<0&&O!==""&&(O=parseFloat(O)),O)}render(){var O=this.props,w=O.value,d=O.disabled,C=O.t,b=O.maxLength,t=O.placeholder,n=O.renderAssist,a=(0,X.Z)(O,["value","disabled","t","maxLength","placeholder","renderAssist"]);return Z().createElement(K.Fragment,null,Z().createElement(V.Z,(0,R.Z)({},a,{size:"middle",value:w,disabled:d,onChange:this.handleChange,onBlur:this.handleBlur,maxLength:b,className:"payment-inner-inputNumber",placeholder:t||C("learning.learnUpgrade.pleaseEnter")})),n&&n())}}ae.Z=(0,I.Z)((0,A.Z)()((0,y.$j)(z)))},31196:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return j}});var se=e(62029),V=e(12924),R=e.n(V),X=e(91768),K=e(18329),Z=e(14781),A=e(53431),y=e(57663),I=e(71577),z=e(22385),p=e(31097),O=e(88986),w=e(28216),d=e(78138),C=e.n(d),b=e(84391),t=e(57068),n=e(76651),a=e(37055),v=e(72456),h=e(62117),l=e(30311),s=e(55285),r=e(90734),g=e(17762),o=e(64630),m=e(64262),P=e(97593),c=e(44970);class x extends R().Component{constructor(Y){var i;super(Y);i=this,this.getEvaluateList=()=>{var E=this.state.listParam,u=this.props,U=u.evaluateType,te=u.type,B=u.lecturerId,f=u.id,L=u.exportVisibleHide,T=t.parse(n.m8.location.search),F=T.courseId;L&&(F=this.props.courseId);var q=E.keyword,H=E.userIds;(0,r.yt)((0,O.Z)((0,O.Z)({},E),{},{type:te,evaluate_type:U,lecturer_id:B,evaluate_id:f,courseId:F,keyword:H?"":q,userIds:H||""})).then(oe=>{oe.data.code==="200000"&&this.setState({taskList:oe.data.data.list.map(re=>(0,O.Z)({user_info:re.evaluate_user_info},re)),listParam:(0,O.Z)((0,O.Z)({},E),{},{total:oe.data.data.total})})})},this.resetRequestList=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i.state.listParam;i.setState({listParam:(0,O.Z)((0,O.Z)({},u),{},{pageNumber:1},E)},()=>i.getEvaluateList())},this.getTableColumns=()=>{var E=this.props,u=E.t,U=E.evaluateType,te=E.themeColor,B=[{title:u("myExamTask.score"),dataIndex:["evaluate_user_info","score"],key:"score",width:100,render:(T,F)=>F.evaluate_vo.score},{title:u("authentication.comment"),dataIndex:["evaluate_user_info","comments"],key:"comments",width:185,render:(T,F)=>R().createElement(p.Z,{title:F.evaluate_vo.comments||"--"},R().createElement("div",{className:"cl-text-ellipsis",style:{width:185}},F.evaluate_vo.comments||"--"))},{title:u("practiceOperation.annex"),key:"file",width:100,render:(T,F)=>!F.resources||F.resources&&!F.resources.length?"--":R().createElement(l.Z,{name:F.resources.length,onClick:()=>this.showAttachmentList(F.resources)})},{title:u("coachAnalysis.apprenticeEvaluationTime"),width:100,key:"evaluate_time",dataIndex:"evaluate_time",render:T=>R().createElement("span",null,T?C()(T).format("YYYY-MM-DD HH:mm"):"--")}],f=[{title:u("coachAnalysis.apprenticeEvaluationTime"),width:100,key:"evaluate_time",dataIndex:"evaluate_time",render:T=>R().createElement("span",null,T?C()(T).format("YYYY-MM-DD HH:mm"):"--")},{title:u("lineClass.starRate"),dataIndex:["evaluate_vo","star"],key:"star",width:100,render:T=>"".concat(T).concat(u("courseManage.starStr"))}],L=[{title:u("coachAnalysis.apprenticeEvaluationTime"),width:100,key:"evaluate_time",dataIndex:"evaluate_time",render:T=>R().createElement("span",null,T?C()(T).format("YYYY-MM-DD HH:mm"):"--")},{title:u("common.operate"),width:100,render:(T,F)=>R().createElement("span",{className:"cl-text-href",style:{color:te},onClick:()=>this.viewQuestion(F)},u("common.preview"))}];switch(U){case"score":return B;case"star":return f;case"questionnaire":return L;default:return L}},this.showAttachmentList=E=>{!E||E.length===0||this.setState({fileList:{visible:!0,list:E}})},this.renderExportBtn=()=>{var E=this.props.t;return R().createElement("div",{className:"btn-group"},R().createElement(I.Z,{icon:R().createElement(b.Z,null),type:"primary",onClick:this.handleExport},E("common.exportData")))},this.headerTitle=()=>R().createElement(v.Z,{showBtn:!1,renderActionBtn:this.renderExportBtn}),this.handleExport=()=>{var E=this.state.listParam,u=this.props,U=u.evaluateType,te=u.type,B=u.lecturerId,f=u.id,L=u.exportVisibleHide,T=t.parse(n.m8.location.search),F=T.courseId;L&&(F=this.props.courseId);var q={type:te,evaluate_type:U,lecturer_id:B,evaluate_id:f,post_id:E.post_id,department_id:E.department_id,keyword:E.keyword},H="?".concat(t.stringify(q));(0,P.N)({page:"evaluateAnalyzeExport",props:this.props,query:H,rest:F})},this.handleSearch=(E,u)=>{var U=this.state.listParam;this.setState({listParam:(0,O.Z)((0,O.Z)({},U),{},{page_number:1,keyword:E,userIds:u})},()=>this.getEvaluateList())},this.toolBarRender=()=>{var E=this.props.t;return R().createElement(h.Z,{showCheckbox:!1,onSearch:this.handleSearch,inputPlaceholder:E("searchInputPlaceholder.name")})},this.pageChange=(E,u)=>{var U=this.state.listParam;this.setState({listParam:(0,O.Z)((0,O.Z)({},U),{},{page_number:E,page_size:u})},()=>this.getEvaluateList())},this.handlerSelectDept=E=>{var u=this.state.listParam;this.setState({listParam:(0,O.Z)((0,O.Z)({},u),{},{page_number:1,department_id:E})},()=>this.getEvaluateList())},this.handleSelectPost=E=>{var u=this.state.listParam;this.setState({listParam:(0,O.Z)((0,O.Z)({},u),{},{page_number:1,post_id:E})},()=>this.getEvaluateList())},this.viewQuestion=E=>{this.setState({question:{visible:!0,info:E.questionnaire_result_vo}})},this.state={isLoading:!1,taskList:[],listParam:{page_number:1,page_size:20,total:0},fileList:{visible:!1,id:""},question:{visible:!1,info:{}}}}componentDidMount(){this.getEvaluateList()}render(){var Y=this.props,i=Y.prefixCls,E=Y.t,u=this.state,U=u.taskList,te=u.isLoading,B=u.listParam,f=u.fileList,L=u.question,T=this.getTableColumns(),F=(0,O.Z)((0,O.Z)({},a.XE.INITIAL_PAGINATION),{},{current:B.page_number,total:Number(B.total),onChange:this.pageChange,size:"small"}),q={okText:E("common.ok"),cancelText:E("common.cancel"),size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:null};return R().createElement("div",{className:"".concat(i)},R().createElement("div",{className:"".concat(i,"-search")},R().createElement(m.Z,{className:"cl-search-normal-width",parentId:"",checkable:!1,asyncLoad:!0,treeSelect:!0,handleTreeSelectChange:this.handlerSelectDept}),R().createElement(o.Z,{onChange:this.handleSelectPost,className:"cl-search-normal-width"})),R().createElement(s.Z,{loading:te,dataSource:U,columns:T,rowKey:H=>H.id,pagination:!1,scroll:{y:310},headerTitle:this.headerTitle(),toolBarRender:this.toolBarRender,tableUUID:"804e66cd-7156-4e14-bad8-388da74f23f1"}),B.total>B.pageSize||!F.hideOnSinglePage?R().createElement("div",{className:"".concat(i,"-pagination")},R().createElement(A.Z,F)):null,R().createElement(g.Z,{title:E("lineClass.trainingAttachment"),visible:f.visible,useLocalList:!0,fileList:f.list,onCancel:()=>{this.setState({fileList:(0,O.Z)((0,O.Z)({},f),{},{visible:!1})})}}),R().createElement(K.ZP,(0,se.Z)({title:E("common.questionnaire")},q,{visible:L.visible,onCancel:()=>{this.setState({question:(0,O.Z)((0,O.Z)({},L),{},{visible:!1})})}}),R().createElement("div",{className:"".concat(i,"-question")},R().createElement(c.Z,{questionnaireInfo:L.info,isPreview:!0,setQuestionValue:()=>{}}))))}}x.defaultProps={prefixCls:"evaluate-view-dialog-table",type:"",evaluateType:""};var N=(0,w.$j)(Q=>({appType:Q.user.appType,themeColor:Q.advancedSetting.themeColor}),null,null,{forwardRef:!0})((0,X.Z)("translation",{withRef:!0})(x));class M extends R().Component{render(){var Y=this.props,i=Y.t,E=Y.title,u=Y.visible,U=Y.onCancel,te={okText:i("common.ok"),cancelText:i("common.cancel"),size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,footer:null};return R().createElement("div",null,R().createElement(K.ZP,(0,se.Z)({title:E||i("lineClass.evaluationDetails")},te,{visible:u,onCancel:U}),u?R().createElement(N,this.props):null))}}var j=(0,X.Z)()(M)},90734:function(ue,ae,e){"use strict";e.d(ae,{Tq:function(){return R},MI:function(){return X},bp:function(){return y},DD:function(){return I},hM:function(){return z},HE:function(){return p},yt:function(){return d},yy:function(){return C},$W:function(){return b}});var se=e(37055),V=e(10237);function R(t){return V.WY.get({url:se.ZP.lineClass.getOfflineCourseBasicById(t)})}function X(t){var n=t.type,a=t.planId,v=t.departmentId,h=v===void 0?"":v,l=t.postId,s=l===void 0?"":l,r=t.keyword,g=r===void 0?"":r,o=t.courseId,m=t.pageNumber,P=t.pageSize,c=t.signId,x=c===void 0?"":c,N=t.source,M=t.userIds;return V.WY.get({url:se.ZP.lineClass.getMonitorUserList(x),params:{plan_id:a,course_id:o,department_id:h,post_id:s,keyword:g,page_number:m,page_size:P,sign_id:x,source:N,type:n,userIds:M}})}function K(t){return request.get({url:CONFIG.lineClass.getOfflineCourseSignAnalysis(t)})}function Z(t){return request.get({url:CONFIG.lineClass.getOfflineSignSetting(t)})}function A(t){var n=t.courseId,a=t.signId,v=t.userId;return request.post({url:CONFIG.lineClass.offlineMarkLeave(n,a),params:{user_id:v}})}function y(){return V.WY.get({url:se.ZP.Common.getServerTime()})}function I(t){var n=t.integral,a=t.courseId,v=t.subsidy,h=t.is_lecturer_subsidy,l=t.lectureId;return V.WY.post({url:se.ZP.lineClass.commitCourseStatement(a),data:{integral:n,subsidy:v,is_lecturer_subsidy:h,lecture_id:l}})}function z(t){var n=t.courseId,a=t.actual_cost,v=t.summary,h=t.summary_attachment_id_list;return V.WY.post({url:se.ZP.lineClass.commitOfflineCourseSummary(n),data:{actual_cost:a,summary:v,summary_attachment_id_list:h}})}function p(t){var n=t.courseId,a=t.lecturer_id;return V.WY.get({url:se.ZP.lineClass.getOfflineCourseSummary(n),param:{lecturer_id:a}})}function O(t){return request.get({url:CONFIG.lineClass.getOfflineDetail(t)})}function w(t){return request.get({url:CONFIG.lineClass.getEvaluateDataByOffline(t)})}function d(t){var n=t.courseId,a=t.type,v=t.evaluate_id,h=t.evaluate_type,l=t.lecturer_id,s=t.post_id,r=t.department_id,g=t.keyword,o=t.page_number,m=t.page_size,P=t.userIds;return V.WY.get({url:se.ZP.lineClass.getEvaluateDetailDataList(n),params:{type:a,evaluate_id:v,evaluate_type:h,lecturer_id:l,post_id:s,department_id:r,keyword:g,page_number:o,page_size:m,userIds:P}})}function C(){return V.WY.post({url:se.ZP.lineClass.studyProjectsImportConfirm()})}function b(t,n,a){return V.WY.post({url:se.ZP.lineClass.attendanceConform(t,n,a)})}},83655:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return te}});var se=e(13062),V=e(71230),R=e(89032),X=e(15746),K=e(43185),Z=e(53251),A=e(57663),y=e(71577),I=e(47673),z=e(4107),p=e(63185),O=e(9676),w=e(88986),d=e(57361),C=e(33565),b=e(9754),t=e.n(b),n=e(12924),a=e.n(n),v=e(96486),h=e(49101),l=e(22385),s=e(31097),r=e(43358),g=e(34041),o=e(48736),m=e(27049),P=(B,f)=>{var L=B.students,T=B.defaultValue,F=T===void 0?0:T,q=B.onChange,H=B.t,oe=(0,n.useState)(L),re=(0,C.Z)(oe,2),$=re[0],G=re[1],S=(0,n.useState)([]),_=(0,C.Z)(S,2),D=_[0],k=_[1],W=(0,n.useState)(!1),ee=(0,C.Z)(W,2),J=ee[0],ie=ee[1];(0,n.useImperativeHandle)(f,()=>({setOpen:ie})),(0,n.useEffect)(()=>{if(L){var ve=L.map(pe=>({value:pe.id,key:pe.id,title:pe.name}));G(ve),parseInt(F)===0?k(ve.map(pe=>pe.value)):k(F)}},[L,F]);var ne=ve=>()=>{if(ie(!0),D.find(fe=>fe===ve)){var pe=D.filter(fe=>fe!==ve);k(pe),q(pe)}else{var Ee=(D||[]).concat(ve);k(Ee),q(Ee)}},le=ve=>{if(ve.target.checked){var pe=$.map(Ee=>Ee.value);k(pe),q(pe)}else k([]),q([])},ce=!(D.length&&D.length===$.length),me=()=>D&&D.map(ve=>{var pe=L.find(Ee=>Ee.id===ve);return(0,v.get)(pe,"name")}).join(","),De=a().createElement(g.Z,{value:[],style:{width:300},placeholder:me(),open:J,onClick:()=>{ie(!0)}},a().createElement(g.Z.Option,{onMouseEnter:()=>ie(!0),onMouseLeave:()=>ie(!1)},a().createElement("div",null,a().createElement(O.Z,{indeterminate:ce,checked:!ce,onChange:le},H("lineClassStudy.whole")),a().createElement(m.Z,{style:{margin:"2px 0px"}}))),$.map(ve=>{var pe=ve.title,Ee=ve.value,fe=ve.key;return a().createElement(g.Z.Option,{onChange:ne(Ee),key:fe,value:Ee,onMouseEnter:()=>ie(!0),onMouseLeave:()=>ie(!1)},a().createElement(O.Z,{checked:D.find(Ce=>Ce===Ee)},pe))}));return a().createElement(a().Fragment,null,a().createElement(s.Z,{title:me()},De),a().createElement("span",{onMouseEnter:()=>ie(!1),style:{marginLeft:10}}," ",H("lineClassStudy.selected")," ",D.length," ",H("lineClassStudy.people")," "))};P.defaultProps={students:[],onChange:()=>{}};var c=(0,n.forwardRef)(P),x=e(83581),N=e(430),M=e.n(N),j=e(74525),Q=B=>{var f=B.defaultUrl,L=B.codeType,T=B.detail,F=(0,n.useState)(""),q=(0,C.Z)(F,2),H=q[0],oe=q[1],re=(0,n.useState)(),$=(0,C.Z)(re,2),G=$[0],S=$[1];switch((0,n.useEffect)(()=>{if(L!=="custom"&&T.id){var _="";oe({flag:"offline",scene:"flag=offline&clockTimeId=".concat(T.id,"&qcTime=").concat(_,"&signStyle=").concat(L)})}},[L,T.id]),(0,n.useEffect)(()=>{f&&(0,x.y)(f).then(_=>{S(_)})},[f]),L){case"sign_in":return H&&a().createElement(j.Z,{option:H,type:"weixin",canSave:!1});case"sign_out":return H&&a().createElement(j.Z,{option:H,type:"weixin",canSave:!1});case"custom":return a().createElement("img",{src:G,style:{width:200}});default:return null}};Q.defaultProps={defaultUrl:"",codeType:"",detail:{}};var Y=Q,i=e(17676),E=e(10237),u=e(37055),U=(B,f)=>{var L=B.signId,T=B.courseId,F=B.t,q=B.sourceType,H=B.taskId,oe=(0,n.useState)({}),re=(0,C.Z)(oe,2),$=re[0],G=re[1],S=(0,n.useState)([]),_=(0,C.Z)(S,2),D=_[0],k=_[1],W=(0,n.useState)({}),ee=(0,C.Z)(W,2),J=ee[0],ie=ee[1],ne=(0,n.useRef)(null),le=he=>{var de;return he===void 0||$.userIds==="0"?D:((de=$.userIds)===null||de===void 0?void 0:de.map)&&$.userIds.map(_e=>D.find(ge=>ge.id===_e)).filter(_e=>_e)||[]},ce=function(){var he=(0,d.Z)(t().mark(function de(_e){var ge,Pe,Te,ye,Ie,Me,xe,Le;return t().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.prev=0,Oe.next=3,(0,i.BV)(_e);case 3:return Pe=Oe.sent,Oe.next=6,E.WY.get({url:u.ZP.StudyTaskMonitor.getAttendanceData(H),params:{source_type:q}});case 6:Te=Oe.sent,ye=Pe.data.data,Ie=Te.data.data,Me=Ie.find(Ue=>Ue.course_id===_e)||{},xe=(0,w.Z)((0,w.Z)({},ye),{},{signInQrCode:{isShowSignIn:ye.isShowSignIn,id:Me.id},userIds:ye.userIds==0?ye.userIds:(ge=ye.userIds)===null||ge===void 0?void 0:ge.split(","),isShowCustom:!!ye.qrCodePicture}),Le=(0,v.cloneDeep)(xe),(Me.qrcode_type==="dynamic"||!Me.qrcode_type)&&(Le.isSameAsReverse=!0),Ie.length===1&&(Le.signInQrCode.id=Ie[0].id),ie(Me),G(Le),Oe.next=21;break;case 18:Oe.prev=18,Oe.t0=Oe.catch(0),console.error(Oe.t0);case 21:case"end":return Oe.stop()}},de,null,[[0,18]])}));return function(_e){return he.apply(this,arguments)}}();(0,n.useImperativeHandle)(f,()=>{var he,de,_e,ge=le($.userIds),Pe=ye=>ye===void 0?!1:ye,Te=["isShowLogo","isShowDepartment","isShowPosition","isSameAsReverse","isShowSignOut"];return{getErrorMsg:()=>{if(!ge.length)return F("lineClassStudy.selectAtLeastOneStudent")},printOptions:(0,w.Z)((0,w.Z)({},Te.reduce((ye,Ie)=>(ye[Ie]=Pe($[Ie]),ye),{})),{},{isShowSignIn:((he=$.signInQrCode)===null||he===void 0?void 0:he.isShowSignIn)||!1,signId:(de=$.signInQrCode)===null||de===void 0?void 0:de.id,qrCodePicture:$.isShowCustom?$.qrCodePicture:"",qrCodeName:$.isShowCustom?$.qrCodeName:""}),backContent:{signId:(_e=$.signInQrCode)===null||_e===void 0?void 0:_e.id,content:document.getElementById("backContent")},selectStudents:ge,getSetting:ce}}),(0,n.useEffect)(()=>{try{if(L){var he=u.ZP.lineClass.getMonitorUserList(L);E.WY.get({url:he,params:{course_id:T,page_number:1,page_size:100,source:"management",type:q}}).then(de=>{var _e=de.data,ge=_e.data,Pe=_e.code;if(Pe==="200000"){var Te=ge.list&&ge.list.map(ye=>{var Ie=ye.user_info;return Ie});k(Te)}})}}catch(de){console.error(de)}},[L,T,q]),(0,n.useEffect)(()=>{ce(T)},[T]);var me=he=>de=>{var _e,ge,Pe,Te,ye=((_e=de.target)===null||_e===void 0?void 0:_e.checked)!==void 0||((ge=de.target)===null||ge===void 0?void 0:ge.value)!==void 0,Ie=ye?((Pe=de.target)===null||Pe===void 0?void 0:Pe.checked)||((Te=de.target)===null||Te===void 0?void 0:Te.value):de;(0,v.set)($,he,Ie),G((0,w.Z)({},$))},De=he=>{var de;((de=he.file.response)===null||de===void 0?void 0:de.msg.toLowerCase())==="ok"&&G((0,w.Z)((0,w.Z)({},$),{},{qrCodePicture:he.file.response.data.path}))},ve=he=>{G((0,w.Z)((0,w.Z)({},$),{},{userIds:he}))},pe=localStorage.getItem("enterpriseLogo"),Ee=()=>{var he,de=J.qrcode_type==="statics";if(!J)return null;if((he=$.signInQrCode)!==null&&he!==void 0&&he.isShowSignIn||$.isShowSignOut||$.qrCodePicture&&$.isShowCustom){var _e,ge,Pe,Te=(0,v.get)(J,"exist_sign_out_config"),ye=(0,v.get)(J,"exist_sign_in_config");return a().createElement(a().Fragment,null,a().createElement("div",{className:M().pictureContainer},((_e=$.signInQrCode)===null||_e===void 0?void 0:_e.isShowSignIn)&&((ge=$.signInQrCode)===null||ge===void 0?void 0:ge.id)&&ye&&de&&a().createElement("div",null,a().createElement(Y,{codeType:"sign_in",detail:J,canSave:!1}),a().createElement("div",{className:"".concat(M().alignCenter," ").concat(M().signIn)},F("lineClassStudy.signIn"))),$.isShowSignOut&&((Pe=$.signInQrCode)===null||Pe===void 0?void 0:Pe.id)&&Te&&de&&a().createElement("div",null,a().createElement(Y,{codeType:"sign_out",detail:J,canSave:!1}),a().createElement("div",{className:"".concat(M().alignCenter," ").concat(M().signOut)},F("lineClassStudy.signOut"))),$.qrCodePicture&&$.isShowCustom&&a().createElement("div",null,a().createElement(Y,{codeType:"custom",defaultUrl:$.qrCodePicture}),a().createElement("div",{className:"".concat(M().alignCenter," ").concat(M().custom)},$.qrCodeName))))}},fe=()=>(0,v.get)(J,"qrcode_type")==="dynamic",Ce=()=>{var he=fe();if(he||!J.qrcode_type)return null;var de=(0,v.get)(J,"exist_sign_in_config");if(!de)return null;var _e=(0,v.get)($,"signInQrCode.isShowSignIn"),ge=a().createElement(O.Z,{checked:_e,onChange:me("signInQrCode.isShowSignIn")},F("lineClassStudy.signInQrCode"));return ge},Se=()=>a().createElement(a().Fragment,null,a().createElement(O.Z,{checked:$.isShowCustom,onChange:me("isShowCustom")},F("lineClassStudy.custom")),$.isShowCustom&&a().createElement("div",{style:{marginTop:10}},a().createElement(z.Z,{style:{marginBottom:10,width:250,marginRight:10},maxLength:16,placeholder:F("lineClassStudy.pleaseEnterANameWithAMaximumOf16Characters"),onChange:he=>{G((0,w.Z)((0,w.Z)({},$),{},{qrCodeName:he.target.value}))}}),a().createElement(Z.Z,{accept:".jpeg,.png,jpg",onChange:De,data:{access_token:localStorage.token},action:u.ZP.PostAbility.operateAttachmentUpload(),showUploadList:!1},a().createElement(y.Z,{icon:a().createElement(h.Z,null)},F("lineClassStudy.selectPicture"))))),Ae=()=>{var he=(0,v.get)(J,"exist_sign_out_config"),de=fe();if(de||!J.qrcode_type)return null;if(he)return a().createElement(a().Fragment,null,a().createElement(O.Z,{checked:$.isShowSignOut,onChange:me("isShowSignOut")},F("lineClassStudy.signOutQrCode")))},Re=()=>{ne.current.setOpen(!1)},Ne=()=>{var he=[{label:F("lineClassStudy.companyLogo"),name:"isShowLogo"},{label:F("lineClassStudy.department"),name:"isShowDepartment"},{label:F("lineClassStudy.postName"),name:"isShowPosition"}];return a().createElement(a().Fragment,null,a().createElement(X.Z,{span:24,className:M().leftContainer},a().createElement("div",{className:M().title},F("lineClassStudy.frontOfSeatSign")),he.map(de=>{var _e=de.label,ge=de.name;return a().createElement(a().Fragment,null,a().createElement(O.Z,{checked:$[ge],onChange:me(ge)},_e))})),a().createElement(X.Z,{span:24,className:M().rightContainer},a().createElement(x.Z,{formState:$,logo:pe})))},Ze=()=>a().createElement(a().Fragment,null,a().createElement(X.Z,{span:24,className:M().marginTop},a().createElement("h3",null,F("lineClassStudy.backOfSeatTag")),a().createElement(a().Fragment,null,a().createElement(O.Z,{checked:$.isSameAsReverse,onChange:me("isSameAsReverse")},F("lineClassStudy.sameAsFront"))),$.isSameAsReverse?"":a().createElement(a().Fragment,null,Ce(),Ae(),a().createElement("br",null),Se())),a().createElement(X.Z,{span:24,className:"".concat(M().marginTop," ").concat(M().rightContainer),id:"backContent"},$.isSameAsReverse?a().createElement(x.Z,{logo:pe,formState:$}):Ee()));return a().createElement("div",null,a().createElement("h3",{className:M().marginTop,onMouseEnter:Re},F("lineClassStudy.selectStudents")),a().createElement(c,{t:F,ref:ne,onChange:ve,students:D,defaultValue:$.userIds}),a().createElement(V.Z,{className:M().signatureContainer,onClick:Re},Ne(),Ze()))};U.defaultProps={taskId:"",courseId:"",signId:"",sourceType:""};var te=(0,n.forwardRef)(U)},83581:function(ue,ae,e){"use strict";e.d(ae,{y:function(){return A}});var se=e(33565),V=e(12924),R=e.n(V),X=e(91768),K=e(430),Z=e.n(K),A=I=>new Promise((z,p)=>{var O=new Image;O.onload=function(){var w=document.createElement("canvas");w.width=this.naturalWidth,w.height=this.naturalHeight,w.getContext("2d").drawImage(O,0,0);var d=w.toDataURL("image/png");z(d)},O.setAttribute("crossOrigin","Anonymous"),O.src=I,O.onerror=()=>{p(new Error("urlToBase64 error"))}}),y=I=>{var z=I.formState,p=I.logo,O=I.data,w=O===void 0?{}:O,d=I.t,C=w.name!==void 0?w.name:d("lineClassStudy.studentName"),b=w.dept_name!==void 0?w.dept_name:d("lineClassStudy.department"),t=w.post_name!==void 0?w.post_name:d("lineClassStudy.postName"),n=(0,V.useState)(""),a=(0,se.Z)(n,2),v=a[0],h=a[1];return(0,V.useEffect)(()=>{p&&A(p).then(l=>{h(l)})},[p]),R().createElement("div",null,z.isShowLogo&&R().createElement("div",{className:Z().logo},R().createElement("img",{src:v})," "),R().createElement("div",{className:"".concat(Z().content," ").concat(Z().studentName)},C),R().createElement("div",{className:Z().footer},z.isShowDepartment&&R().createElement("div",{className:Z().deptName},b),z.isShowPosition&&R().createElement("div",{className:Z().postName},t)))};ae.Z=(0,X.Z)()(y)},59169:function(ue,ae,e){"use strict";var se=e(12924),V=e.n(se),R=e(96486),X=e.n(R),K=e(91768),Z=e(83581),A=e(430),y=e.n(A);class I extends V().Component{constructor(p){super(p);this.generateHtml=()=>{var O=(0,R.get)(this.props,"printConfig.backContent.content"),w=document.getElementById("backContentContainer");O.style.border=0;var d=O.cloneNode(!0);d.style.border=0,w.appendChild(O),w.style.transform="rotate(180deg)"}}componentDidMount(){var p=this.props.printConfig.isSameAsReverse;p||this.generateHtml()}componentDidUpdate(p){var O=(0,R.get)(this.props,"printConfig.backContent.signId"),w=(0,R.get)(p,"printConfig.backContent.signId");O!==w&&content&&this.generateHtml()}renderFront(){var p=this.props.printConfig.selectStudents,O=(0,R.get)(p,"0",{});return V().createElement("div",{className:y().rightContainer},V().createElement(Z.Z,{data:O,formState:this.props.printConfig,logo:localStorage.getItem("enterpriseLogo")}))}renderPreviewContent(){var p=this.props,O=p.printConfig.isSameAsReverse,w=p.t;return V().createElement("div",{className:y().signatureContainer},O?V().createElement("div",{className:y().backContentContainer},this.renderFront()):V().createElement("div",{className:y().backContentContainer,id:"backContentContainer"}),V().createElement("div",{className:"frontContentContainer"},this.renderFront()))}render(){var p=this.props,O=p.printConfig.selectStudents,w=p.t;return V().createElement("div",null,V().createElement("div",{id:"printContainer"},V().createElement("div",{className:y().printContainer},this.renderPreviewContent())),V().createElement("div",{className:y().alignRight},"\u6BCF\u9875\u663E\u793A\u4E00\u6761\uFF0C\u5171",O&&O.length,"\u9875"),V().createElement("div",{className:y().alignCenter},w("lineClassStudy.warmTip")))}}I.defaultProps={printConfig:{}},ae.Z=(0,K.Z)("translation",{withRef:!0})(I)},44970:function(ue,ae,e){"use strict";var se=e(49111),V=e(19650),R=e(96433),X=e(33304),K=e(22385),Z=e(31097),A=e(88983),y=e(47933),I=e(63185),z=e(9676),p=e(47673),O=e(4107),w=e(12924),d=e.n(w),C=e(91768),b=O.Z.TextArea;class t extends d().Component{constructor(){super(...arguments);this.setQuestionValue=(a,v)=>{this.props.setQuestionValue(a,v)},this.renderQuestionItem=(a,v)=>{var h=!1,l=this.props,s=l.isPreview,r=l.t;return(a.type==="single"||a.type==="multiple")&&(h=a.options.find(g=>g.is_other==="true")),d().createElement("div",{key:v,className:"questionnaire-view-question"},d().createElement("div",{className:"questionnaire-view-question-title"},a.is_must==="true"?d().createElement("span",{className:"question-must-icon"},"*"):null,a.type==="single"?"\u3010".concat(r("learning.questionnaireAddToolSingle"),"\u3011"):a.type==="multiple"?"\u3010".concat(r("learning.questionnaireAddToolMul"),"\u3011"):null,a.title),a.type==="multiple"?d().createElement("div",{className:"questionnaire-view-question-option"},a.options.map((g,o)=>g.is_other==="true"?null:s?d().createElement(z.Z,{checked:a.answer.normal.indexOf(g.id)!==-1,disabled:s,key:o,className:"option-item"},d().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},g.title)):d().createElement(z.Z,{key:o,className:"option-item"},d().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},g.title))),h?s?d().createElement(z.Z,{disabled:s,checked:!!a.answer.other,className:"option-item"},r("learning.questionnaireAddQusOptionOther"),a.answer.other?d().createElement(O.Z,{value:a.answer.other,disabled:s,className:"other-input"}):d().createElement(O.Z,{disabled:s,className:"other-input"})):d().createElement(z.Z,{className:"option-item"},r("learning.questionnaireAddQusOptionOther"),d().createElement(O.Z,{className:"other-input"})):null):null,a.type==="single"?d().createElement("div",{className:"questionnaire-view-question-option"},a.options.map((g,o)=>g.is_other==="true"?null:s?d().createElement(y.ZP,{disabled:s,key:o,checked:a.answer.normal.indexOf(g.id)!==-1,className:"option-item"},d().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},g.title)):d().createElement(y.ZP,{key:o,checked:o===a.value,onClick:()=>this.setQuestionValue(v,o),className:"option-item"},d().createElement("span",{style:{whiteSpace:"normal",wordBreak:"break-all"}},g.title))),h?s?d().createElement(y.ZP,{disabled:s,checked:!!a.answer.other,className:"option-item"},r("learning.questionnaireAddQusOptionOther"),a.answer.other?d().createElement(O.Z,{value:a.answer.other,disabled:s,className:"other-input"}):d().createElement(O.Z,{disabled:s,className:"other-input"})):d().createElement(y.ZP,{checked:a.value===-1,onClick:()=>this.setQuestionValue(v,-1),className:"option-item"},r("learning.questionnaireAddQusOptionOther"),d().createElement(O.Z,{className:"other-input"})):null):null,a.type==="score"?d().createElement("div",{className:"questionnaire-view-question-score"},s?d().createElement(V.Z,{direction:"vertical"},d().createElement("div",{className:"questionnaire-view-question-score-box"},d().createElement(Z.Z,{title:a.options[0].title},d().createElement("div",{className:"questionnaire-view-question-score-title"},a.options[0].title)),d().createElement("div",{className:"questionnaire-view-question-score-rate"},d().createElement(X.Z,{disabled:!0,value:a.answer.normal[0],tooltips:a.options.map((g,o)=>d().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:o.toString},d().createElement("div",{className:"ellipsis"},g.title),d().createElement("div",null,r("learning.score"),"\uFF1A",g.score))),count:a.options.length})),d().createElement(Z.Z,{title:a.options[a.options.length-1].title},d().createElement("div",{className:"questionnaire-view-question-score-title"},a.options[a.options.length-1].title))),a.instruction==!0&&d().createElement(b,{disabled:!0,value:a.answer.instructionContent?a.answer.instructionContent:a.answer.instruction_content,className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(r("learning.scoringExplanation")).concat(a.must&&a.instruction_must?"\uFF08".concat(r("learning.required"),"\uFF09"):""),maxLength:300})):d().createElement(V.Z,{direction:"vertical"},d().createElement("div",{className:"questionnaire-view-question-score-box"},d().createElement(Z.Z,{title:a.options[0].title},d().createElement("div",{className:"questionnaire-view-question-score-title"},a.options[0].title)),d().createElement("div",{className:"questionnaire-view-question-score-rate"},d().createElement(X.Z,{tooltips:a.options.map((g,o)=>d().createElement("div",{className:"questionnaire-view-question-score-rate-tip",key:o.toString},d().createElement("div",null,g.title),d().createElement("div",null,r("learning.score"),"\uFF1A",g.score))),count:a.options.length})),d().createElement(Z.Z,{title:a.options[a.options.length-1].title},d().createElement("div",{className:"questionnaire-view-question-score-title"},a.options[a.options.length-1].title))),a.instruction==!0&&d().createElement(b,{className:"questionnaire-view-question-score-textarea",rows:4,placeholder:"".concat(r("learning.scoringExplanation")).concat(a.instruction_must?"\uFF08".concat(r("learning.required"),"\uFF09"):""),maxLength:300}))):null,a.type==="input"?d().createElement("div",{className:"questionnaire-view-question-input"},a.is_multiple_rows==="1"||a.is_multiple_rows==="true"?d().createElement(b,{rows:3,value:s?a.answer.normal[0]:"",disabled:s}):d().createElement(O.Z,{value:s?a.answer.normal[0]:"",disabled:s})):null)}}render(){var a=this.props.questionnaireInfo;return d().createElement("div",null,d().createElement("div",{className:"questionnaire-view-title"},a.title),d().createElement("div",{className:"questionnaire-view-desc"},a.description),d().createElement("div",{className:"questionnaire-view-list"},a.questions.map((v,h)=>this.renderQuestionItem(v,h))))}}ae.Z=(0,C.Z)()(t)},22614:function(ue,ae,e){"use strict";var se=e(71194),V=e(57016),R=e(57663),X=e(71577),K=e(34792),Z=e(48086),A=e(33565),y=e(12924),I=e.n(y),z=e(28216),p=e(91768),O=e(84391),w=e(55839),d=e(31457),C=e(97593);function b(t){var n=(0,y.useState)("task"),a=(0,A.Z)(n,2),v=a[0],h=a[1],l=(0,y.useState)(0),s=(0,A.Z)(l,2),r=s[0],g=s[1],o=(0,y.useState)(!1),m=(0,A.Z)(o,2),P=m[0],c=m[1],x=(0,y.useState)(!1),N=(0,A.Z)(x,2),M=N[0],j=N[1],Q=(0,y.useState)(!1),Y=(0,A.Z)(Q,2),i=Y[0],E=Y[1],u=(0,y.useState)([{img:"https://oss.coolcollege.cn/1829825732159868928.png",name:t.t("personnelDevelope.taskDimension"),desc:t.t("personnelDevelope.taskDimensionTip"),type:"task"},{img:"https://oss.coolcollege.cn/1829825840674902016.png",name:t.t("personnelDevelope.personnelDimension"),desc:t.t("personnelDevelope.personnelDimensionTip"),type:"people"}]),U=(0,A.Z)(u,2),te=U[0],B=U[1],f=t.isBeta,L=t.id,T=L===void 0?"":L,F=t.userIds,q=F===void 0?[]:F,H=t.t,oe=t.disabled,re=t.tool,$=t.multiple;function G(ne){ne===!0||ne==="true"?j(!0):!$&&q.length<=0?Z.default.warn(H("questionn.canNotNoPeople")):_()}function S(ne){ne===!0||ne==="true"||_(),j(!1)}function _(){re==="model"||re==="post_model"?c(!0):(E(!0),(0,w.u1)(T,q.join(",")).then(ne=>{ne&&((0,d.Pp)(t),Z.default.success(t.t("study.compoundSucceed")),E(!1))}).catch(()=>{E(!1),Z.default.error(H("questionn.exportError"))}))}function D(){j(!1)}function k(ne,le){h(ne.type),g(le)}function W(){c(!1)}function ee(){var ne=!$&&q.length===1,le={page:"postTalentAssessment",props:t,rest:{planId:T},success:ce=>{E(!1),ne&&ce&&((0,d.Pp)(t),Z.default.success(t.t("study.compoundSucceed"))),c(!1)},fail:()=>{E(!1),Z.default.error(H("personnelDevelope.assessmentUnablExport"))}};v==="task"?J(le):ie(le)}function J(ne){ne.query="?way=merge",(0,C.N)(ne)}function ie(ne){var le=!$&&q.length===1;le&&(ne.query="?user_id=".concat(q[0])),(0,C.N)(ne)}return I().createElement(I().Fragment,null,I().createElement(X.Z,{type:t.btnType||"default",disabled:oe,icon:I().createElement(O.Z,null),onClick:()=>{G(f)},className:"exportData_container",loading:i},H("common.exportData")),I().createElement(V.Z,{title:H("common.tip"),closable:!1,visible:M,onOk:()=>{S(f)},onCancel:D,cancelText:H("common.cancel"),okText:H("questionn.confirm")},I().createElement("div",{className:"exportDataModal_content"},I().createElement("p",null,f?"".concat(H("questionn.exportDataModalVersionTips"),"!"):"".concat(H("questionn.exportDataModalConfirmTips"),"?")))),I().createElement(V.Z,{title:H("common.exportData"),closable:!1,visible:P,onOk:()=>{ee()},onCancel:W,cancelText:H("common.cancel"),okText:H("questionn.confirm")},te.map((ne,le)=>I().createElement("div",{className:le===r?"post-assessment-export-item active":"post-assessment-export-item",key:le.toString(),onClick:()=>{k(ne,le)}},I().createElement("img",{src:ne.img}),I().createElement("div",{className:"post-assessment-export-content"},I().createElement("span",{className:"post-assessment-export-title"},ne.name),I().createElement("span",{className:"post-assessment-export-desc"},ne.desc))))))}b.defaultProps={disabled:!1},ae.Z=(0,z.$j)()((0,p.Z)()(b))},41549:function(ue,ae,e){"use strict";var se=e(66456),V=e(55313),R=e(12924),X=e.n(R),K=e(18329);class Z extends X().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.onCancel()}}render(){var y=this.props,I=y.modalColumns,z=y.modalDataSource,p=y.title,O=y.visible;return X().createElement(K.ZP,{title:p,visible:O,footer:null,onCancel:this.onCancel},X().createElement(V.Z,{columns:I,dataSource:z}))}}ae.Z=Z},31945:function(ue,ae,e){"use strict";e.d(ae,{Z:function(){return te}});var se=e(88983),V=e(47933),R=e(20228),X=e(11382),K=e(62029),Z=e(30887),A=e(99210),y=e(59250),I=e(13013),z=e(57663),p=e(71577),O=e(63185),w=e(9676),d=e(71194),C=e(57016),b=e(88986),t=e(34792),n=e(48086),a=e(43358),v=e(34041),h=e(12924),l=e.n(h),s=e(28216),r=e(91768),g=e(57254),o=e(18329);class m extends l().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.showReferenceCourseList()}}render(){var f=this.props,L=f.visible,T=f.courseList,F=f.t;return l().createElement(o.ZP,{visible:L,title:F("common.tip"),onCancel:this.onCancel,onOk:this.onCancel},l().createElement("div",{className:"referenceWithOtherCourses"},l().createElement("div",{className:"referenceWithOtherCourses__tip"},F("course.deleteCourseTip")),T.map((q,H)=>l().createElement("div",{className:"referenceWithOtherCourses__item",key:H},T.length>1?"".concat(H+1,"\u3001"):null," ",q))))}}var P=(0,r.Z)()(m),c=e(10237),x=e(63848),N=e(58546),M=e(30389),j=e(54792),Q=e(86726),Y=e(37055),i=v.Z.Option,E={setClassify:Y.ZP.CourseManageList.setClassify,setScore:Y.ZP.CourseManageList.setScore,setBatchEmployee:Y.ZP.CourseManageList.setBatchEmployee,deleteCourse:Y.ZP.CourseManageList.deleteCourse,exportCourseView:Y.ZP.CourseManageList.exportCourseView,syncCourse:Y.ZP.CourseManageList.syncCourse},u=B=>({qyShield:B.user.qyShield});class U extends l().Component{constructor(){super(...arguments);this.state={classifyProps:{visible:!1},scoreProps:{title:this.props.t("course.setCredits"),labelTxt:this.props.t("course.credit"),initialValue:"",visible:!1},employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}},asyncProps:{value:0,visible:!1},showReferenceCourseListProps:{visible:!1,courseList:[],onOk:this.showReferenceCourseList,onCancel:this.showReferenceCourseList}},this.handleChangeClassify=f=>{this.props.onClassifyChange(f)},this.handleChangeType=f=>{this.props.onTypeChange(f)},this.handleChangeCourseType=f=>{this.props.onCourseTypeChange(f)},this.actionChangeClassify=()=>{this.setState({classifyProps:{visible:!0}})},this.handleCategoryCancel=()=>{this.setState({classifyProps:{visible:!1}})},this.handleCategoryOk=f=>{var L=f.node,T=this.props,F=T.selectedCourseIds,q=T.selectedProjectIds,H=T.onForceRender,oe=T.t,re=L.id;re&&c.qg.post({url:E.setClassify(),data:{course_ids:F.join(","),project_ids:q.join(","),classify_id:re}}).then(()=>{n.default.success(oe("course.setCourseClassifySuccess")),H()}),this.handleCategoryCancel()},this.actionSetScore=()=>{this.setState(f=>({scoreProps:(0,b.Z)((0,b.Z)({},f.scoreProps),{},{initialValue:"",visible:!0})}))},this.handleScoreCancel=()=>{this.setState(f=>({scoreProps:(0,b.Z)((0,b.Z)({},f.scoreProps),{},{visible:!1})}))},this.handleScoreOk=f=>{var L=f.value;if(L===0){this.handleScoreCancel();return}var T=this.props,F=T.selectedCourseIds,q=T.selectedProjectIds,H=T.onForceRender,oe=T.t;c.qg.post({url:E.setScore(),data:{course_ids:F.join(","),project_ids:q.join(","),credit:L}}).then(()=>{n.default.success(oe("course.setCourseScoreSuccess")),H()}),this.handleScoreCancel()},this.actionSetEmployeeRange=()=>{this.setState(f=>({employeeProps:(0,b.Z)((0,b.Z)({},f.employeeProps),{},{visible:!0})}))},this.handleEmployeeCancel=()=>{this.setState({employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}}})},this.handleEmployeeOk=f=>{var L=this.props,T=L.selectedCourseIds,F=L.selectedProjectIds,q=L.onForceRender,H=L.t,oe=f.isAll,re=f.departmentIds,$=f.groupIds,G=f.postIds,S=f.userIds,_=f.qy_we_chat_vo;c.WY.post({url:E.setBatchEmployee(),data:{course_ids:T.join(","),project_ids:F.join(","),department_ids:re,group_ids:$,is_all:oe,post_ids:G,user_ids:S,qy_we_chat_vo:_}}).then(()=>{n.default.success(H("personal.batchSetRangeSuccess")),q()}),this.handleEmployeeCancel()},this.showReferenceCourseList=f=>{this.setState(L=>({showReferenceCourseListProps:(0,b.Z)((0,b.Z)({},L.showReferenceCourseListProps),{},{visible:!L.showReferenceCourseListProps.visible,courseList:f||[]})}))},this.actionDelete=()=>{var f=this.props,L=f.selectedCourseIds,T=f.selectedProjectIds,F=f.list,q=f.onForceRender,H=f.t,oe=0,re=0,$=[];if(F.forEach(G=>{L.includes(G.course_id)&&(G.reference_plan_count>0&&(re+=1),G.reference_plan_count>0&&$.push(G.title),G.can_delete==="true"&&(oe+=1))}),re>0)this.showReferenceCourseList($);else if(oe!==L.length)n.default.warning(H("personal.deletePlatformCourseTip"));else{if(T.length>0){n.default.warning(H("personal.deleteProjectCourseTip"));return}C.Z.confirm({title:H("common.tip"),content:H("common.confirmDeleteTitle"),onOk(){c.qg.post({url:E.deleteCourse(),data:{enterpriseId:Y.ZP.enterpriseId,ids:L.join(","),project_ids:T.join(",")}}).then(G=>{var S=G.data,_=S.code,D=S.msg;n.default["".concat(_===0?"success":"warning")](D),_===0&&q()})}})}},this.actionSyncSetting=()=>{this.setState(f=>({asyncProps:(0,b.Z)((0,b.Z)({},f.asyncProps),{},{visible:!0})}))},this.onAsyncChange=f=>{this.setState(L=>({asyncProps:(0,b.Z)((0,b.Z)({},L.asyncProps),{},{value:f.target.value})}))},this.handleSyncCancel=()=>{this.setState({asyncProps:{visible:!1,value:0}})},this.handleSyncOk=()=>{var f=this.props,L=f.selectedCourseIds,T=f.selectedProjectIds,F=f.onForceRender,q=f.t,H=this.state.asyncProps;c.qg.post({url:E.syncCourse(),data:{course_ids:L.join(","),project_ids:T.join(","),syncProgress:H.value}}).then(oe=>{var re=oe.data,$=re.code,G=re.msg;$===0?(n.default.success(q("setting.setUpSucceed")),F()):n.default.warning(G)}),this.handleSyncCancel()},this.actionImportDetail=()=>{var f=this.props,L=f.selectedCourseIds,T=f.selectedProjectIds,F=f.onForceRender,q=f.t;if(L.concat(T).length>20){n.default.warning(q("courseManage.exportMoreTip"));return}var H=E.exportCourseView(),oe={course_Ids:L.join(","),project_Ids:T.join(",")};c.WY.get({url:H,params:oe}).then(re=>{re.data.code===200&&n.default.success("\u6587\u4EF6\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u5728\u6587\u4EF6\u4E0B\u8F7D\u4E2D\u4E0B\u8F7D"),F(),this.getDownloadingNumber()})},this.getDownloadingNumber=()=>{var f=Y.ZP.downLoadCenter.getDownLoadingCount();c.WY.get({url:f,params:{}}).then(L=>{sessionStorage.setItem("downloadingCount",L.data.data),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:L.data.data})}).catch(()=>{sessionStorage.setItem("downloadingCount",0),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:0})})},this.handleChangeCheckBox=f=>{this.props.onCheckboxChange(f.target.checked)},this.handleSharingQueryRowCheckboxChange=f=>{this.props.onSharingCheckboxChange(f.target.checked)},this.renderCondition=()=>{var f=this.props,L=f.prefixCls,T=f.params,F=f.qyShield,q=f.t,H=T.classify_id?T.classify_id.split(","):[];return l().createElement("div",{className:"".concat(L,"__condition")},this.props.extraDom&&this.props.extraDom(),l().createElement(x.Z,{onChange:this.handleChangeClassify,className:"cl-search-normal-width",value:H,showLabel:!1,placeholder:"Please select",queryType:"course_manage",unclassified:"true"}),l().createElement(v.Z,{value:T.type,className:"cl-search-normal-width",onChange:this.handleChangeType},l().createElement(i,{value:""},this.props.t("courseManage.allOrigin")),l().createElement(i,{value:"original"},this.props.t("courseManage.originalCourse")),l().createElement(i,{value:"notOriginal"},this.props.t("courseManage.nonOriginalCourse")),l().createElement(i,{value:"platform"},this.props.t("courseManage.platformProcurement"))),this.props.courseType&&this.props.courseType=="graphic"?null:l().createElement(v.Z,{value:T.course_type,className:"cl-search-normal-width",onChange:this.handleChangeCourseType},l().createElement(i,{value:"all"},this.props.t("courseManage.allType")),l().createElement(i,{value:"course"},this.props.t("common.courseLabel")),l().createElement(i,{value:"microCourse"},this.props.t("common.microCourse")),l().createElement(i,{value:"project"},this.props.t("leftMenuLists.studyProject"))),l().createElement(w.Z,{onChange:this.handleChangeCheckBox,style:{marginRight:16}},q("common.myCreated")),this.props.courseType&&this.props.courseType==="graphic"&&F==="false"?l().createElement(w.Z,{onChange:this.handleSharingQueryRowCheckboxChange},q("common.sharing")):null)},this.renderActions=()=>{var f=this.props,L=f.prefixCls,T=f.selectedCourseIds,F=f.selectedProjectIds,q=f.showNum,H=q===void 0?1:q,oe=this.props.allowActions,re=(0,Q.H3)("delete",oe),$=(0,Q.H3)("adjustment_classification",oe),G=(0,Q.H3)("set_visible",oe),S=(0,Q.H3)("export",oe),_=(0,Q.H3)("set_score",oe),D=(0,Q.H3)("progressSync",oe),k=[{name:this.props.t("courseManage.adjustClassification"),type:"actionChangeClassify",isShow:$},{name:this.props.t("courseManage.exportViewDetail"),type:"actionImportDetail",isShow:S},{name:this.props.t("courseManage.setCredits"),type:"actionSetScore",isShow:_},{name:this.props.t("courseManage.setTheVisibilityed"),type:"actionSetEmployeeRange",isShow:G},{name:this.props.t("common.delete"),type:"actionDelete",isShow:re},{name:this.props.t("common.scheduleSyncSetting"),type:"actionSyncSetting",isShow:D}],W=k.filter(ie=>ie.isShow),ee=[],J=[];if(W.length)H?(ee=[...W.slice(0,H)],J=[...W.slice(H)]):J=[...W];else return null;return l().createElement("div",{className:"".concat(L,"__action")},ee.map(ie=>l().createElement(p.Z,{style:{marginRight:"8px"},key:ie.type,disabled:!(T.length+F.length),onClick:this[ie.type]},ie.name)),J.length?l().createElement(I.Z,{disabled:!(T.length+F.length),overlay:this.renderMoreButton({buttons:J})},l().createElement(p.Z,{className:"cl-pointer"},"".concat(this.props.t("common.more"))," ",l().createElement(g.Z,null))):"")}}renderMoreButton(f){var L=f.buttons,T=this.props,F=T.selectedCourseIds,q=T.selectedProjectIds;return l().createElement(A.Z,{onClick:H=>{var oe=H.key;this[oe]()}},L.map(H=>H.isShow?l().createElement(A.Z.Item,{key:H.type,disabled:!(F.length+q.length)},l().createElement("span",{className:"cl-pointer"},H.name)):null))}render(){var f=this.props,L=f.prefixCls,T=f.t,F=f.showRenderCondition,q=F===void 0?!0:F,H=f.showRenderActions,oe=H===void 0?!0:H,re=this.state,$=re.classifyProps,G=re.scoreProps,S=re.employeeProps,_=re.showReferenceCourseListProps,D=re.asyncProps;return l().createElement("div",{className:L},q&&this.renderCondition(),oe&&this.renderActions(),l().createElement(N.Z,(0,K.Z)({},$,{title:T("personal.chooseClassify"),onCancel:this.handleCategoryCancel,onOk:this.handleCategoryOk})),l().createElement(j.Z,(0,K.Z)({},G,{onCancel:this.handleScoreCancel,onCreate:this.handleScoreOk})),S.visible&&l().createElement(M.Z,(0,K.Z)({},S,{title:T("courseManage.setTheVisibility"),mode:["all","part","private"],orgProps:{title:T("component.chooseVisibleScope")},isLoading:!S.visible,onCancel:this.handleEmployeeCancel,onCreate:this.handleEmployeeOk})),D.visible&&l().createElement(o.ZP,{wrapClassName:"cl-async-selector-modal",visible:D.visible,title:T("common.scheduleSyncSetting"),okText:T("common.ok"),cancelText:T("common.cancel"),onCancel:this.handleSyncCancel,onOk:this.handleSyncOk},D.visible?l().createElement("div",{className:"".concat(L,"__async")},l().createElement("p",null," ",T("common.scheduleSyncSettingTip")),l().createElement(V.ZP.Group,{onChange:this.onAsyncChange,value:D.value},l().createElement(V.ZP,{value:0},T("common.outSync")),l().createElement(V.ZP,{value:1},T("common.synchronization")))):l().createElement(X.Z,{size:"large"})),l().createElement(P,(0,K.Z)({},_,{showReferenceCourseList:this.showReferenceCourseList})))}}U.defaultProps={prefixCls:"resource-course-list-page__release__content__queryrow",rangeType:""};var te=(0,r.Z)()((0,s.$j)(u)(U))},39979:function(ue){ue.exports="data:image/png;base64,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"}}]);
