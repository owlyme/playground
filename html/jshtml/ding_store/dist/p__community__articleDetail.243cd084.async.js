(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[5327],{90565:function(me,G,e){"use strict";e.d(G,{Z:function(){return c}});var x=e(62029),m=e(88986),L=e(12924),w=e.n(L),I=e(85589),p=e.n(I),W=e(48033),f=e(59081),T=e(65454),r=e(13129);class c extends w().Component{constructor(){super(...arguments);this.state={editorState:p().createEditorState(this.props.editorState||null),showCourseSelector:!1},this.handleChange=u=>{this.setState({editorState:u})},this.blockRendererFn=(u,A)=>{var h=null,R=u.getEntityAt(0);if(!R)return null;var s=A.editorState.getCurrentContent(),P=s.getEntity(R),S=P.getType(),D=P.getData(),g=(0,m.Z)((0,m.Z)({},A),{},{block:u,mediaData:D,entityKey:R});return S==="DOC"&&(h={component:()=>w().createElement(W.Z,(0,x.Z)({},g,{editable:!1}))}),S==="CUSTOMER_AUDIO"&&(h={component:()=>w().createElement(f.Z,(0,x.Z)({},g,{editable:!1}))}),S==="CUSTOMER_VIDEO"&&(h={component:()=>w().createElement(T.Z,(0,x.Z)({},g,{editable:!1}))}),S==="CUSTOMER_IMAGE"&&(h={component:()=>w().createElement(r.Z,g),editable:!1}),h}}render(){var u=this.props.prefixCls,A=[];return w().createElement("div",{className:"cl-h5-article ".concat(u)},w().createElement(p(),{ref:h=>this.editorInstance=h,value:this.state.editorState,readOnly:!0,controls:A,blockRendererFn:this.blockRendererFn}))}}c.defaultProps={prefixCls:"cl-h5-article-preview"}},59081:function(me,G,e){"use strict";e.d(G,{Z:function(){return B}});var x=e(62029),m=e(88986),L=e(34792),w=e(48086),I=e(12924),p=e.n(I),W=e(91768),f=e(32452),T=e(76466),r=e(84874),c=e(66126),y=e(31955),u=e(57361),A=e(9754),h=e.n(A),R=e(6793),s=e(67230);class P extends p().Component{constructor(){var U;super(...arguments);U=this,this.state={paused:!0,current:0,source:this.props.source},this.handleTogglePlay=()=>{var z=this.props.readOnly;if(!z){var q=this.state.paused;this.setState({paused:!q},()=>{this._audio[q?"play":"pause"]()})}},this.onTimeUpdate=()=>{var z=this.props.duration,q=Math.ceil(this._audio.currentTime),re=q>z,ae=re?0:q;re||this.setState({current:ae})},this.getSourcce=(0,u.Z)(h().mark(function z(){var q,re,ae,se,ee;return h().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(q=U.props,re=q.videoId,ae=q.storage_type,se=q.source,ae!=="ALIBABA_PRIVATE"){he.next=6;break}return he.next=4,(0,s.y5)(re);case 4:ee=he.sent,ee&&(se=ee);case 6:U.setState({source:se});case 7:case"end":return he.stop()}},z)})),this.onEnded=()=>{this._audio.currentTime=0,this.setState({current:0,paused:!0},()=>{this._audio.pause()})},this.handleChangeCurrent=z=>{this._audio.pause(),this.setState({paused:!0,current:z})},this.handleAfterChange=z=>{this.setState({paused:!1,current:z},()=>{this._audio.currentTime=z,this._audio.play()})},this.handleError=()=>{this.getSourcce()},this.renderAudio=()=>{var z=this.state.source;return p().createElement("audio",{ref:q=>this._audio=q,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnded,src:z,onError:this.handleError},p().createElement("source",{src:z}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 audio \u5143\u7D20\u3002")},this.renderCustomUI=()=>{var z=this.props.prefixCls,q="".concat(z,"__content");return p().createElement("div",{className:q},this.renderPlayBtn(),this.renderDuration(),this.renderSlide())},this.renderPlayBtn=()=>{var z=this.props.prefixCls,q=this.state.paused,re="".concat(z,"__content__playbtn"),ae=q?"icon-bofang":"icon-zanting";return p().createElement("span",{className:re,onClick:this.handleTogglePlay},p().createElement(r.Z,{iconClass:ae,size:"18px",color:"#4D536E"}))},this.renderDuration=()=>{var z=this.props,q=z.prefixCls,re=z.duration,ae="".concat(q,"__content__rest"),se=this.state.current,ee=re-se>=0?re-se:0;return p().createElement("span",{className:ae},(0,R.xj)(ee))},this.renderSlide=()=>{var z=this.props,q=z.prefixCls,re=z.duration,ae=z.readOnly,se="".concat(q,"__content__slide"),ee=this.state.current;return p().createElement("div",{className:se},p().createElement(y.Z,{ref:ye=>this._slider=ye,min:0,max:re,value:ee,disabled:ae,tipFormatter:null,onChange:this.handleChangeCurrent,onAfterChange:this.handleAfterChange}))}}componentDidMount(){this.getSourcce()}render(){var U=this.props.prefixCls;return p().createElement("div",{className:U},this.renderAudio(),this.renderCustomUI())}}P.defaultProps={prefixCls:"cl-audio",source:"",duration:0,autoPlay:!1,readOnly:!1,videoId:""};var S=P,D=e(10237),g=e(37055),k=e(73488),C={getRecordInfo:g.ZP.CoursewareSelector.getRecordInfo};class H extends p().Component{constructor(U){super(U);this.getImmediateRecord=()=>{D.WY.get({url:C.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(ae=>{var se=ae.data.data;this.setState({record:se,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.handlePreview=ae=>{var se=ae.record,ee=this.state.previewInfo,ye=se.status===1||se.status===2;if(ye){w.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var he=this.props.editable;!he||this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{source:{FD:se.url,OD:se.path},originUrl:se.url,contentType:"mp3",playId:se.videoId||se.video_id,storageType:se.storage_type},autoPlay:!0,draggable:!0},previewInfo:(0,m.Z)((0,m.Z)({},ee),{},{title:se.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var ae=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,m.Z)((0,m.Z)({},ae),{},{visible:!1})})},this.handleDelete=()=>{this.props.editor.setValue(f.ContentUtils.removeBlock(this.props.editorState,this.props.block))},this.renderPlayWrapper=ae=>{var se=ae.record,ee=this.props,ye=ee.prefixCls,he=ee.editable,De=se.url,Te=se.status,Be=se.storage_type,Oe=se.videoId,Pe=se.duration;return Pe=Te===3?parseInt(Pe,10):0,p().createElement("div",{className:"".concat(ye,"__audio-wrapper"),onClick:()=>this.handlePreview({record:se})},p().createElement(S,{readOnly:he||Te!==3,source:De,duration:Pe,storage_type:Be,videoId:Oe}))},this.renderRemoveBtn=()=>{var ae=this.props,se=ae.prefixCls,ee=ae.editable;return ee&&p().createElement("span",{className:"".concat(se,"__action"),onClick:this.handleDelete},p().createElement(r.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))};var z=U.meta,q=U.mediaData,re;z?re=z.record:re=q.meta.record,this.state={isLoading:!0,record:re,remainInfo:{name:re.title,iconType:"mp3"},resourceError:!1,resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.getImmediateRecord()}render(){var U=this.props,z=U.prefixCls,q=U.editable,re=this.state,ae=re.resourcePlayInfo,se=re.previewInfo,ee=re.record,ye=re.isLoading,he=re.resourceError,De=re.remainInfo;return ye?null:he?p().createElement(k.Z,(0,x.Z)({},De,{editable:q,onDelete:this.handleDelete})):p().createElement("div",{className:z},p().createElement("span",{className:"".concat(z,"__title")},p().createElement(r.Z,{iconClass:g.e1.mp3,size:"18px"}),ee.name),this.renderPlayWrapper({record:ee}),this.renderRemoveBtn(),q&&p().createElement(T.Z,(0,x.Z)({},ae,{previewInfo:se})))}}H.defaultProps={prefixCls:"cl-h5-article__atomics-audio",editable:!0};var B=(0,W.Z)()(H)},48033:function(me,G,e){"use strict";var x=e(62029),m=e(88986),L=e(34792),w=e(48086),I=e(12924),p=e.n(I),W=e(91768),f=e(32452),T=e(57068),r=e(73488),c=e(1164),y=e(76466),u=e(84874),A=e(65202),h=e(10237),R=e(37055),s={getRecordInfo:R.ZP.CoursewareSelector.getRecordInfo};class P extends p().Component{constructor(D){super(D);this.getImmediateRecord=()=>{h.WY.get({url:s.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(H=>{var B=H.data.data;this.setState({record:B,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.handlePreview=H=>{var B=H.record,j=this.state.previewInfo,U=B.status===1||B.status===2;if(U){w.default.warning(this.props.t("resourceLibrary.transcodingPlayerTip"));return}var z=this.props.editable,q=z===void 0?!0:z;if(q)this.setState({resourcePlayInfo:{mode:"preview",watchType:"doc",resourceInfo:{type:"",docType:B.type,aliUrl:B.path,url:B.url,docTitle:B.name,playId:B.videoId||B.video_id,storageType:B.storage_type}},previewInfo:(0,m.Z)((0,m.Z)({},j),{},{title:B.name,visible:!0,onCancel:this.cancelPreview})});else{var re={docType:B.type,aliUrl:B.path,url:B.url,docTitle:B.name,videoId:B.videoId||B.video_id,storage_type:B.storage_type};c.Z.targetTo({path:"/training/learning/task/watchDoc?".concat(T.stringify(re)),projectType:"student"})}},this.cancelPreview=()=>{var H=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,m.Z)((0,m.Z)({},H),{},{visible:!1})})},this.handleDelete=()=>{this.props.editor.setValue(f.ContentUtils.removeBlock(this.props.editorState,this.props.block))};var g=D.meta,k=D.mediaData,C;g?C=g.record:C=k.meta.record,this.state={isLoading:!0,record:C,remainInfo:{name:C.title,iconType:C.type},resourceError:!1,resourcePlayInfo:{mode:"preview",watchType:"doc",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}}}componentDidMount(){this.getImmediateRecord()}render(){var D=this.props,g=D.prefixCls,k=D.editable,C=k===void 0?!0:k,H=D.t,B=(0,A.p)(),j=this.state,U=j.resourcePlayInfo,z=j.previewInfo,q=j.record,re=j.isLoading,ae=j.resourceError,se=j.remainInfo;return re?null:ae?p().createElement(r.Z,(0,x.Z)({},se,{editable:C,onDelete:this.handleDelete})):p().createElement("div",{className:g},p().createElement("span",{className:"".concat(g,"__title")},p().createElement(u.Z,{iconClass:R.e1[q.type],size:"18px"}),q.name),p().createElement("span",{className:"".concat(g,"__action")},p().createElement("span",{onClick:()=>this.handlePreview({record:q}),style:{color:B}},H("common.clickToView")),C&&p().createElement("span",{onClick:this.handleDelete},p().createElement(u.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))),p().createElement(y.Z,(0,x.Z)({},U,{previewInfo:z})))}}P.defaultProps={prefixCls:"cl-h5-article__atomics-doc"},G.Z=(0,W.Z)()(P)},73488:function(me,G,e){"use strict";var x=e(12924),m=e.n(x),L=e(91768),w=e(84874),I=e(37055);class p extends m().Component{render(){var f=this.props,T=f.prefixCls,r=f.name,c=f.iconType,y=f.editable,u=y===void 0?!1:y,A=f.onDelete,h=f.t;return m().createElement("div",{className:T},m().createElement("span",{className:"".concat(T,"__title")},m().createElement(w.Z,{iconClass:I.e1[c],size:"18px"}),r),m().createElement("span",{className:"".concat(T,"__action")},m().createElement("span",{className:"".concat(T,"__action__disabled")},h("common.rsNonExistent")),u&&m().createElement("span",{onClick:A},m().createElement(w.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"}))))}}p.defaultProps={prefixCls:"cl-h5-article__atomics-empty"},G.Z=(0,L.Z)()(p)},13129:function(me,G,e){"use strict";e.d(G,{Z:function(){return T}});var x=e(62029),m=e(33565),L=e(88986),w=e(12924),I=e.n(w),p=e(32452),W=(r,c)=>[{key:"undo",title:r.controls.undo,text:React.createElement("i",{className:"bfi-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:r.controls.redo,text:React.createElement("i",{className:"bfi-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:r.controls.removeStyles,text:React.createElement("i",{className:"bfi-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:r.controls.hr,text:React.createElement("i",{className:"bfi-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:r.controls.bold,text:React.createElement("i",{className:"bfi-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:r.controls.italic,text:React.createElement("i",{className:"bfi-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:r.controls.underline,text:React.createElement("i",{className:"bfi-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:r.controls.strikeThrough,text:React.createElement("i",{className:"bfi-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:r.controls.superScript,text:React.createElement("i",{className:"bfi-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:r.controls.subScript,text:React.createElement("i",{className:"bfi-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:r.controls.headings,type:"headings"},{key:"blockquote",title:r.controls.blockQuote,text:React.createElement("i",{className:"bfi-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:r.controls.code,text:React.createElement("i",{className:"bfi-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:r.controls.unorderedList,text:React.createElement("i",{className:"bfi-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:r.controls.orderedList,text:React.createElement("i",{className:"bfi-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:r.controls.link,type:"link"},{key:"text-color",title:r.controls.color,type:"text-color"},{key:"line-height",title:r.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:r.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:r.controls.textIndent,type:"text-indent"},{key:"font-size",title:r.controls.fontSize,type:"font-size"},{key:"font-family",title:r.controls.fontFamily,type:"font-family"},{key:"text-align",title:r.controls.textAlign,type:"text-align"},{key:"media",title:r.controls.media,text:React.createElement("i",{className:"bfi-media"}),type:"media"},{key:"emoji",title:r.controls.emoji,text:React.createElement("i",{className:"bfi-emoji"}),type:"emoji"},{key:"clear",title:r.controls.clear,text:React.createElement("i",{className:"bfi-clear_all"}),type:"editor-method",command:"clearEditorContent"},{key:"fullscreen",title:c.state.isFullscreen?r.controls.exitFullscreen:r.controls.fullscreen,text:React.createElement("i",{className:c.state.isFullscreen?"bfi-fullscreen-exit":"bfi-fullscreen"}),type:"editor-method",command:"toggleFullscreen"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}],f={"float-left":{text:I().createElement("span",{"data-float":"left"},"\uE91E"),command:"setImageFloat|left"},"float-right":{text:I().createElement("span",{"data-float":"right"},"\uE914"),command:"setImageFloat|right"},"align-left":{text:I().createElement("span",{"data-align":"left"},"\uE027"),command:"setImageAlignment|left"},"align-center":{text:I().createElement("span",{"data-align":"center"},"\uE028"),command:"setImageAlignment|center"},"align-right":{text:I().createElement("span",{"data-align":"right"},"\uE029"),command:"setImageAlignment|right"},size:{text:I().createElement("span",null,"\uE3C2"),command:"toggleSizeEditor"},link:{text:I().createElement("span",null,"\uE91A"),command:"toggleLinkEditor"},remove:{text:I().createElement("span",null,"\uE9AC"),command:"removeImage"}};class T extends I().Component{constructor(){super(...arguments);this.state={toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null},this.initialLeft=void 0,this.initialTop=void 0,this.initialWidth=void 0,this.initialHeight=void 0,this.reSizeType=void 0,this.aspectRatio=void 0,this.changeSize=c=>{var y=this.reSizeType;this.initialLeft||(this.initialLeft=c.screenX,this.initialTop=c.screenY),y==="rightbottom"&&(this.initialWidth+=c.screenX-this.initialLeft,this.initialHeight=this.initialWidth/this.aspectRatio),y==="leftbottom"&&(this.initialWidth+=-c.screenX+this.initialLeft,this.initialHeight=this.initialWidth/this.aspectRatio),this.initialLeft=c.screenX,this.initialTop=c.screenY},this.moveImage=c=>{this.changeSize(c),this.setState({tempWidth:Math.abs(this.initialWidth),tempHeight:Math.abs(this.initialHeight)})},this.upImage=()=>{this.confirmImageSize(),document.removeEventListener("mousemove",this.moveImage),document.removeEventListener("mouseup",this.upImage)},this.repareChangeSize=c=>y=>{this.reSizeType=c;var u=this.imageElement.getBoundingClientRect();this.initialLeft=this.initialTop=0,this.initialWidth=u.width,this.initialHeight=u.height,this.aspectRatio=u.width/u.height,y.preventDefault(),document.addEventListener("mousemove",this.moveImage),document.addEventListener("mouseup",this.upImage)},this.preventDragEvent=c=>{c.stopPropagation(),c.preventDefault()},this.handleDragStart=()=>this.props.editor.editorProps.readOnly||this.props.editor.editorProps.disabled?!1:(window.__BRAFT_DRAGING__IMAGE__={block:this.props.block,mediaData:(0,L.Z)({type:"IMAGE"},this.props.mediaData)},this.setState({toolbarVisible:!1},()=>{this.unlockEditor()}),!0),this.handleDragEnd=()=>(window.__BRAFT_DRAGING__IMAGE__=null,!1),this.executeCommand=c=>{if(typeof c=="string"){var y=c.split("|"),u=(0,m.Z)(y,2),A=u[0],h=u[1];this[A]&&this[A](h)}else typeof c=="function"&&c(this.props.block,this.props.mediaData,this.props.editor.getValue())},this.removeImage=()=>{this.props.editor.setValue(p.ContentUtils.removeBlock(this.props.editor.getValue(),this.props.block)),this.unlockEditor()},this.toggleLinkEditor=()=>{this.setState({linkEditorVisible:!this.state.linkEditorVisible,sizeEditorVisible:!1})},this.toggleSizeEditor=()=>{this.setState({linkEditorVisible:!1,sizeEditorVisible:!this.state.sizeEditorVisible})},this.handleLinkInputKeyDown=c=>{if(c.keyCode===13)this.confirmImageLink();else return},this.setImageLink=c=>{this.setState({tempLink:c.currentTarget.value})},this.confirmImageLink=()=>{var c=this.state.tempLink,y=this.props.hooks("set-image-link",c)(c);if(y===!1)return!1;typeof y=="string"&&(c=y),c!==null&&(this.props.editor.setValue(p.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,{link:c})),window.setImmediate(this.props.editor.forceRender))},this.handleSizeInputKeyDown=c=>{if(c.keyCode===13)this.confirmImageSize();else return},this.setImageWidth=c=>{var y=c.currentTarget,u=y.value;u&&!isNaN(u)&&(u=u+"px"),this.setState({tempWidth:u})},this.setImageHeight=c=>{var y=c.currentTarget,u=y.value;u&&!isNaN(u)&&(u=u+"px"),this.setState({tempHeight:u})},this.confirmImageSize=()=>{var c=this.state,y=c.tempWidth,u=c.tempHeight,A={};y!==null&&(A.width=y),u!==null&&(A.height=u);var h=this.props.hooks("set-image-size",A)(A);if(h===!1)return!1;h&&(h.width||h.height)&&(A=h),this.props.editor.setValue(p.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,A)),window.setImmediate(this.props.editor.forceRender)},this.setImageFloat=c=>{var y=this.props.hooks("set-image-float",c)(c);if(y===!1)return!1;typeof y=="string"&&(c=y),this.props.editor.setValue(p.ContentUtils.setMediaPosition(this.props.editor.getValue(),this.props.block,{float:c})),this.unlockEditor()},this.setImageAlignment=c=>{var y=this.props.hooks("set-image-alignment",c)(c);if(y===!1)return!1;typeof y=="string"&&(c=y),this.props.editor.setValue(p.ContentUtils.setMediaPosition(this.props.editor.getValue(),this.props.block,{alignment:c})),this.unlockEditor()},this.showToolbar=c=>{if(this.props.editor.editorProps.readOnly||this.props.editor.editorProps.disabled)return!1;c.preventDefault(),this.state.toolbarVisible||this.setState({toolbarVisible:!0},()=>{this.lockEditor(),this.setState({toolbarOffset:this.calcToolbarOffset()})})},this.hideToolbar=c=>{c.preventDefault(),this.setState({toolbarVisible:!1},()=>{this.unlockEditor(),this.props.editor.requestFocus()})}}render(){var c=this.props,y=c.mediaData,u=c.language,A=c.imageControls,h=c.imageResizable,R=this.state,s=R.toolbarVisible,P=R.toolbarOffset,S=R.sizeEditorVisible,D=R.tempWidth,g=R.tempHeight,k=this.props.block.getData(),C=k.get("float"),H=k.get("alignment"),B=y.url,j=y.link,U=y.width,z=y.height,q=y.meta,re={},ae=!1;C?H=null:H==="right"?(re.float="right",ae=!0):H==="center"?re.textAlign="center":(re.float="left",ae=!0);var se=A.map((ee,ye)=>typeof ee=="string"&&f[ee]?I().createElement("a",{className:ee==="link"&&j?"active":"",key:ye,href:"javascript:void(0);",onClick:()=>this.executeCommand(f[ee].command)},f[ee].text):ee&&(ee.render||ee.text)?ee.render?ee.render(y,this.props.block):I().createElement("a",{key:ye,href:"javascript:void(0);",onClick:()=>ee.onClick&&this.executeCommand(ee.onClick)},ee.text):null);return I().createElement("div",{className:"bf-media"},I().createElement("div",{style:re,draggable:!0,onClick:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:ee=>this.mediaEmbederInstance=ee,className:"bf-image"},s?I().createElement("div",{style:{marginLeft:P},ref:ee=>this.toolbarElement=ee,"data-float":C,"data-align":H,className:"bf-media-toolbar"},S?I().createElement("div",{className:"bf-image-size-editor"},I().createElement("div",{className:"editor-input-group"},I().createElement("input",{type:"text",onDragStart:this.preventDragEvent,placeholder:u.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:U}),I().createElement("input",{type:"text",onDragStart:this.preventDragEvent,placeholder:u.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:z}),I().createElement("button",{type:"button",onClick:this.confirmImageSize},u.base.confirm))):null,se,I().createElement("i",{style:{marginLeft:P*-1},className:"bf-media-toolbar-arrow"})):null,I().createElement("div",{style:{position:"relative",width:"".concat(U,"px"),height:"".concat(z,"px"),display:"inline-block"}},I().createElement("img",(0,x.Z)({ref:ee=>this.imageElement=ee,src:B,width:U,height:z},q)),s&&h?I().createElement("div",{className:"bf-csize-icon right-bottom",onMouseDown:this.repareChangeSize("rightbottom")}):null,s&&h?I().createElement("div",{className:"bf-csize-icon left-bottom",onMouseDown:this.repareChangeSize("leftbottom")}):null,h?I().createElement("div",{className:"bf-pre-csize ".concat(this.reSizeType),style:{width:"".concat(D,"px"),height:"".concat(g,"px")}}):null)),ae&&I().createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}lockEditor(){this.props.editor.lockOrUnlockEditor(!0)}unlockEditor(){this.props.editor.lockOrUnlockEditor(!1)}calcToolbarOffset(){var c=this.props,y=c.getContainerNode,u=c.containerNode,A=y?y():u;if(!A)return 0;var h=A.querySelector(".bf-content").getBoundingClientRect(),R=this.toolbarElement.getBoundingClientRect(),s=this.imageElement.getBoundingClientRect(),P=h.right-(s.right-s.width/2+R.width/2),S=s.left+s.width/2-R.width/2-h.left;return P<10?P-10:S<10?S*-1+10:0}setImageLinkTarget(c){var y=this.props.hooks("set-image-link-target",c)(c);if(y===!1)return!1;typeof y=="string"&&(c=y),c=c==="_blank"?"":"_blank",this.props.editor.setValue(p.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,{link_target:c})),window.setImmediate(this.props.editor.forceRender)}}},65454:function(me,G,e){"use strict";e.d(G,{Z:function(){return P}});var x=e(62029),m=e(12924),L=e.n(m),w=e(32452),I=e(10237),p=e(37055),W=e(73488),f=e(88986),T=e(34792),r=e(48086),c=e(91768),y=e(76466),u=e(84874);class A extends L().Component{constructor(){super(...arguments);this.state={resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0},previewInfo:{visible:!1,destroyOnClose:!0,title:this.props.t("resourceLibrary.previewCourseware"),onCancel:()=>{}}},this.handlePreview=()=>{var D=this.state.previewInfo,g=this.props,k=g.record,C=g.t,H=k.status!==3;if(H){r.default.warning(C("resourceLibrary.transcodingPlayerTip"));return}this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{source:{FD:k.url,OD:k.path},originUrl:k.url,contentType:k.type,playId:k.videoId||k.video_id,storageType:k.storage_type},autoPlay:!0,draggable:!0},previewInfo:(0,f.Z)((0,f.Z)({},D),{},{title:k.name,visible:!0,onCancel:this.cancelPreview})})},this.cancelPreview=()=>{var D=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"",resourceInfo:{}},previewInfo:(0,f.Z)((0,f.Z)({},D),{},{visible:!1})})},this.renderTitle=()=>{var D=this.props.name,g="h5-bf-video-wrap__header";return L().createElement("header",{className:g},D)},this.renderMoveBtn=()=>{var D=this.props,g=D.onRemove,k=D.editable;return k?L().createElement("button",{onClick:g,className:"button-remove",type:"button"},L().createElement(u.Z,{iconClass:"icon-f-close",size:"12px",color:"#4D536E"})):null},this.renderPlayBtn=()=>{var D=this.props,g=D.editable,k=D.record;return g||k.status!==3?L().createElement("button",{onClick:this.handlePreview,className:"button-play",type:"button"},L().createElement(u.Z,{iconClass:"icon-bofang",size:"25px",color:"#fff"})):null},this.renderPoster=()=>{var D=this.props,g=D.poster,k=D.editable,C=D.record;return k||C.status!==3?L().createElement("div",{className:"bf-poster",style:{backgroundImage:"url(".concat(g,")")}}):null},this.renderVideo=()=>{var D=this.props,g=D.prefixCls,k=D.editable,C=D.record,H="".concat(g,"__video");if(C.status!==3)return null;var B={mode:"preview",watchType:"video",previewWay:"page",resourceInfo:{playerId:"J_prismPlayer__".concat(C.id),source:{FD:C.url,OD:C.path},originUrl:C.url,contentType:C.type,playId:C.videoId||C.video_id,storageType:C.storage_type},autoPlay:!1,draggable:!0};return k?null:L().createElement("div",{className:H},L().createElement(y.Z,B))}}render(){var D=this.props,g=D.prefixCls,k=D.type,C=D.editable,H=this.state,B=H.resourcePlayInfo,j=H.previewInfo;return L().createElement(L().Fragment,null,this.renderTitle(),L().createElement("div",{className:"".concat(g," ").concat(k)},this.renderMoveBtn(),this.renderPlayBtn(),this.renderPoster(),this.renderVideo(),C&&L().createElement(y.Z,(0,x.Z)({},B,{previewInfo:j}))))}}A.defaultProps={prefixCls:"h5-bf-player-holder",editable:!0};var h=(0,c.Z)()(A),R={getRecordInfo:p.ZP.CoursewareSelector.getRecordInfo};class s extends L().Component{constructor(D){super(D);this.getImmediateRecord=()=>{I.WY.get({url:R.getRecordInfo(),params:{resourceId:this.state.record.id}}).then(C=>{var H=C.data.data;this.setState({record:H,isLoading:!1})}).catch(()=>{this.setState({isLoading:!1,resourceError:!0})})},this.removeVideo=()=>{this.props.editor.setValue(w.ContentUtils.removeBlock(this.props.editorState,this.props.block))};var g=D.mediaData,k=g.meta.record;this.state={isLoading:!0,record:k,remainInfo:{name:k.title,iconType:"mp4"},resourceError:!1}}componentDidMount(){this.getImmediateRecord()}render(){var D=this.props.editable,g=D===void 0?!0:D,k=this.state,C=k.record,H=k.isLoading,B=k.resourceError,j=k.remainInfo;return H?null:B?L().createElement(W.Z,(0,x.Z)({},j,{editable:g,onDelete:this.removeVideo})):L().createElement("div",{className:"h5-bf-video-wrap"},L().createElement(h,{type:"video",name:C.title,poster:C.cover,record:C,editable:g,onRemove:this.removeVideo}))}}var P=s},4408:function(me,G,e){"use strict";var x=e(12924),m=e.n(x),L=e(28216),w=e(17780),I=e(38642),p=f=>({userInfo:f.user}),W=f=>{var T=f.title;return(0,w.xX)()&&setTimeout(()=>{document.title=T},0),(0,x.useEffect)(()=>{if(T&&document.title!==T&&setTimeout(()=>{document.title=T},0),(0,I.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var r=document.querySelector(".zoom-report");r&&(r.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[T]),m().createElement(m().Fragment,null)};W.defautProps={title:""},G.Z=(0,L.$j)(p)(W)},1164:function(me,G,e){"use strict";var x=e(12924),m=e.n(x),L=e(76651),w=e(38642),I=e(91302),p=W=>{var f=navigator.userAgent.toLocaleLowerCase(),T=localStorage.getItem("enterpriseId"),r=(0,w.lz)(T,W.projectType),c=localStorage.getItem("dingPersonnel"),y=I.bl.includes(c),u=W.target;function A(h){if(u==="self"&&(h.preventDefault(),L.m8.push(W.to)),y){if(W.projectType==="student"){window.location.href="".concat(r,"/").concat(W.to);return}L.m8.push(W.to);return}if(dd.version){h.preventDefault();var R="";W.to.includes("?")?R="".concat(r).concat(W.to,"&ddtab=true"):R="".concat(r).concat(W.to,"?ddtab=true"),dd.biz.util.openLink({url:R})}else f.indexOf("lark")!==-1&&(window.location.href="".concat(r).concat(W.to))}return m().createElement("a",{rel:"noreferrer",href:"".concat(W.projectType==="student"?"".concat(r).concat(W.to):"#".concat(W.to)),className:"".concat(W.wrapCls," cl-pointer"),target:f.indexOf("lark")!==-1||y?"_self":W.target||"_blank",onClick:A},W.children)};p.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},p.targetTo=W=>{var f=W.path,T=W.from,r=W.isExternalLink,c=r===void 0?!1:r,y=W.isAsync,u=y===void 0?!1:y,A=W.openName,h=A===void 0?"_blank":A,R=W.projectType,s=R===void 0?"manage":R,P=W.ddTab,S=P===void 0?!0:P,D,g=localStorage.getItem("dingPersonnel"),k=I.bl.includes(g),C=navigator.userAgent.toLocaleLowerCase(),H=localStorage.getItem("enterpriseId"),B=(0,w.lz)(H,s),j=localStorage.getItem("appType"),U=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var z="";if(D=c?"":B,k&&!c){if(s==="student"){window.location.href="".concat(B).concat(f);return}L.m8.push(f);return}f.includes("?")?z="".concat(D).concat(f,"&ddtab=").concat(S):z="".concat(D).concat(f,"?ddtab=").concat(S),dd.biz.util.openLink({url:z})}else if(C.indexOf("lark")!==-1)D=c?"":B,window.location.href="".concat(D).concat(f);else if(j==="wx_app"&&U&&c&&T==="imgText")D=c?"":s==="student"?"".concat(B):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(D).concat(f)});else if(D=c?"":s==="student"?"".concat(B):"#",u){var q=window.open("","_blank");setTimeout(()=>{q.location="".concat(D).concat(f)},100)}else window.open("".concat(D).concat(f),h)},G.Z=p},99891:function(me,G,e){"use strict";var x=e(12924),m=e.n(x),L=e(28216),w=e(91768),I=e(37055),p=e(10237),W=e(60667);class f extends m().PureComponent{constructor(c){super(c);this.getWaterMarkText=y=>{var u=this.props.userInfo,A=u.jobNumber,h=localStorage.getItem("waterMarkPostName"),R=[],s=y.find(S=>S.type==="content_setting"),P=y.find(S=>S.type==="content_custom");return s.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),P.param.checked==="true"&&P.param.comment[0]!==""&&this.setState({commentText:P.param.comment[0]}),s.param.comment.indexOf("position")!==-1&&h&&h!==""&&R.push("".concat(h)),s.param.comment.indexOf("jobnumber")!==-1&&A&&A!==""&&R.push("".concat(A)),R.join("-")},this.getWaterMarkApplication=y=>{var u=this.props.scenes,A=y.find(h=>h.type==="application_scenario");A.param.comment.indexOf(u)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=y=>{var u=y.find(A=>A.type==="dispersive");this.setState({isDispersive:u.param.checked==="true"})},this.getDynamicSet=()=>{var y=I.ZP.advancedSetting.dynamicWaterMarkNew(),u={access_token:window.localStorage.getItem("token")};p.WY.get({url:y,params:u}).then(A=>{var h=JSON.parse(A.data.actions);this.setState({waterMarkText:this.getWaterMarkText(h),actions:h}),this.getWaterMarkApplication(h),this.getWaterIsDispersive(h)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var c=localStorage.getItem("waterMarkPostName");c===""||c===null?this.getPostName():this.getDynamicSet()}getPostName(){var c=I.ZP.advancedSetting.getPostName();p.WY.get({url:c}).then(y=>{localStorage.setItem("waterMarkPostName",y.data.post_names[0]||""),this.getDynamicSet()})}render(){var c=this.state,y=c.showWaterMark,u=c.waterMarkCount,A=c.isUserName,h=c.isDispersive,R=c.waterMarkText,s=c.actions,P=c.commentText,S=this.props.userInfo,D=S.name,g=S.unionid,k=S.sourceType;return m().createElement("div",{className:"common-watermark"},y&&new Array(u).fill(0).map((C,H)=>m().createElement("div",{key:H,className:"common-watermark-item ".concat(h?"isDispersive":"")},m().createElement("span",{className:"common-watermark-item-content"},P!==""&&m().createElement("span",{className:"item-part"},P),A&&m().createElement("span",null,P!==""&&m().createElement("span",null,"-"),m().createElement(W.Z,{dataType:"userName",value:g,name:D,type:k})),m().createElement("span",{className:"item-part"},(A||P!=="")&&R!==""&&m().createElement("span",null,"-"),R)))))}}var T=r=>({userInfo:r.user});G.Z=(0,L.$j)(T)((0,w.Z)()(f))},60667:function(me,G,e){"use strict";e.d(G,{Z:function(){return f}});var x=e(33565),m=e(12924),L=e.n(m),w=e(28216);function I(T){var r=T.type,c=T.openid,y=T.from,u=(0,m.useRef)(null);return(0,m.useLayoutEffect)(()=>{y==="vue"?window.parent.WWOpenData.bind(u.current):WWOpenData.bind(u.current)}),L().createElement("ww-open-data",{ref:u,type:r,openid:c})}var p=T=>{var r=T.wxWorkApiFlag,c=T.appType,y=T.from,u=(0,m.useState)(!1),A=(0,x.Z)(u,2),h=A[0],R=A[1];(0,m.useEffect)(()=>{var S=localStorage.getItem("qyWechatBook");(c!=="wx_app"||r||S==="false"||y==="vue"||y==="taro")&&R(!0)},[r,c,y]);var s=(0,m.useCallback)(()=>{var S=T.type,D=T.value,g=T.name,k=g===void 0?"":g;switch(console.warn(T,"props"),S){case"wx_sync":{var C=T.dataType;return D?L().createElement(I,{from:y,type:C,openid:D}):k}default:return k}},[T]),P=()=>{var S=T.name,D=T.dataType,g=localStorage.getItem("qyWechatBook");if(D===""||g==="false")return S;if(y==="vue"||y==="taro")return s();switch(T.appType){case"wx_app":return s();default:return S}};return h?P():T.name};p.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var W=T=>({appType:T.user.appType,wxWorkApiFlag:T.user.wxWorkApiFlag}),f=(0,w.$j)(W)(p)},27114:function(me,G,e){"use strict";var x=e(62029),m=e(12924),L=e.n(m),w=e(38642),I=p=>{var W=()=>{(0,w.eJ)({url:"".concat(p.to)})};return L().createElement("a",(0,x.Z)({onClick:()=>W()},p),p.children)};G.Z=I},76466:function(me,G,e){"use strict";e.d(G,{Z:function(){return qe}});var x=e(20228),m=e(11382),L=e(57663),w=e(71577),I=e(62029),p=e(57361),W=e(9754),f=e.n(W),T=e(12924),r=e.n(T),c=e(91512),y=e(68654),u=e(91768),A=e(4412),h=e.n(A);class R extends r().Component{render(){var n=this.props.t;return r().createElement("div",{className:"net-preview"},r().createElement("div",{className:"net-preview-center"},r().createElement("img",{src:h(),alt:"picture"}),r().createElement("h2",null,n("localStorage.tip")),r().createElement("p",null,n("localStorage.banPreview"))))}}var s=(0,u.Z)()(R),P=e(88986),S=e(34792),D=e(48086),g=e(28216),k=e(21594),C=e(41225),H=e(10237),B=(ne,n)=>(0,P.Z)({id:ne||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),j=B;class U extends T.Component{constructor(){super(...arguments);this.setupPlayer=n=>{var i=this.props,a=i.onVideoReady,t=a===void 0?()=>{}:a,o=i.playerConfig,l=i.contentType;n&&n==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,P.Z)((0,P.Z)({},o),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:d=>{d.on("sourceloaded",E=>{var v=E.paramData,F=v.desc,V=v.definition;d.getComponent("VideoQuality")&&d.getComponent("VideoQuality").setCurrentQuality(F,V,o.id)}),d.on("ready",()=>{t()}),this.playerInstance=d,this.setPlayerConfig()}}))}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(n){this.player&&this.player.seek(n)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(n){this.player.setSpeed(n)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var n=this.props,i=n.onPlay,a=i===void 0?()=>{}:i,t=n.onTimeUpDate,o=t===void 0?()=>{}:t,l=n.onEnd,d=l===void 0?()=>{}:l,E=n.onPause,v=E===void 0?()=>{}:E,F=n.onError,V=F===void 0?()=>{}:F,K=this.playerInstance;K.on("play",()=>{a()}),K.on("pause",()=>{v()}),K.on("timeupdate",O=>{o(O)}),K.on("ended",()=>{d()}),K.on("error",(0,p.Z)(f().mark(function O(){return f().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:V();case 1:case"end":return X.stop()}},O)})))}render(){var n=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:n.id}))}}U.playerInstance=null,U.defaultProps={playerConfig:j(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var z=U,q=(ne,n)=>(0,P.Z)({id:ne||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},n),re=q;class ae extends T.Component{constructor(){super(...arguments);this.setupPlayer=n=>{n&&n==="resetPlayer"&&this.player.dispose();var i=this.props,a=i.playerConfig,t=i.onVideoReady,o=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",d=>{var E=d.paramData,v=E.desc,F=E.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(v,F,a.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var n=this.props,i=n.onPlay,a=i===void 0?()=>{}:i,t=n.onTimeUpDate,o=t===void 0?()=>{}:t,l=n.onEnd,d=l===void 0?()=>{}:l,E=n.onPause,v=E===void 0?()=>{}:E,F=n.onError,V=F===void 0?()=>{}:F;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{v()}),this.player.on("timeupdate",K=>{o(K)}),this.player.on("ended",()=>{d()}),this.player.on("error",(0,p.Z)(f().mark(function K(){return f().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:V();case 1:case"end":return N.stop()}},K)})))},this.getPlayerContent=n=>{this.playerContainer=n}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(n){n.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(n){this.player.seek(n)}exitFull(){var n=this.player.fullscreenService;n&&n.isFullScreen&&n.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var n=this.props.playerConfig;return r().createElement("div",{className:"common-video-player-container"},r().createElement("div",{id:n.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}ae.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:re()};var se=ae;class ee{constructor(n){this.hasCreated=!1,this.definition="",this.getQuality=n}createEl(n,i){var a=i._options&&i._options.language,t=i._el.id;this.isEn=a&&a==="en-us";var o=(0,k.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,k.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),d=document.querySelector("#".concat(t," .prism-controlbar"));d.appendChild(o),n.appendChild(l)}setCurrentQuality(n,i,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=n,t.dataset.def=i,this.definition=i;var o=document.querySelector("#".concat(a," .quality-list")),l=o.querySelector(".current");l&&(l.className="");var d=o.querySelector('li[data-def="'.concat(i,'"]'));d&&(d.className="current")}created(n){this._urls=n._urls;var i=n._el.id,a=document.querySelector("#".concat(i," .current-quality")),t=document.querySelector("#".concat(i," .quality-list")),o=document.querySelector("#".concat(i," .quality-modal")),l=this._urls.map(v=>'<li data-def="'.concat(v.definition,'">').concat(v.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var d=t.querySelector('li[data-def="'.concat(this.definition,'"]'));d.className="current"}this.hasCreated=!0;var E=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{E=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(E)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=v=>{var F=v.target,V=F.dataset.def,K=F.innerText;if(V&&F.className!=="current"){var O=this._urls.find(N=>N.definition===V);n.loadByUrl(O.Url,n.getCurrentTime(),!0,!0),this.setCurrentQuality(O.desc,O.definition,i),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=O.desc}this.getQuality(V,K)}}ready(n){var i=n._el.id,a=document.querySelector("#".concat(i," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class ye{createEl(n,i){var a=i._el.id,t=(0,k.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(a," .prism-controlbar"));o.appendChild(t)}ready(n){var i=n._el.id,a=document.querySelector("#".concat(i," .current-rate")),t=document.querySelector("#".concat(i," .rate-list")),o=null,l=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{o=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(o)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=d=>{var E=d.target,v=E.dataset.rate;if(v){if(n.setSpeed(v),E.className!=="current"){var F=t.querySelector(".current");F&&(F.className=""),E.className="current"}t.style.display="none",a.innerText="".concat(v,"x")}}}}var he=e(69164),De=e(37055);function Te(ne){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=De.ZP.local.getLocalUrl(ne);return H.WY.get({url:i,params:n})}var Be=e(91648),Oe=e(18329),Pe=e(38642),Fe=e(9849),Ue=e(99891);class je extends T.Component{constructor(n){super();this.WaterMarkText=n,this.html=document.getElementsByClassName("common-watermark")}createEl(n){setTimeout(()=>{n.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var et=je,tt=ne=>({userInfo:ne.user});class Ke extends T.Component{constructor(n){var i;super(n);i=this,this.onVideoReady=a=>{var t=this.props,o=t.resourceInfo,l=t.mode,d=t.autoPlay,E=t.t,v=o.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&d&&this.play.play()):v==="ALIBABA_PRIVATE"||v==="LOCAL"?this.updateSource("resetPlayer"):(H.WY.logger({keyword:"video",moduleName:"video-play",msg:E("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,o=a.mode,l=a.t,d=a.studyInfo,E=a.needCurrentTime,v=a.onCurrentTime,F=v===void 0?()=>{}:v,V=d.studyType,K=d.studyId,O=d.resourceId,N=this.state,X=N.showPreventHang,oe=N.dragSwitch,de=N.showRandomAlert,ue=N.randomAlertDialogVisible,J=this.playingVideo,Ce=J.oneTime,Ee=J.popupWindowCount,Ie=J.maxPlayTime,xe=J.progress,Ae=J.auditionLength,Le=J.auditionType,Me=J.duration,Ne=J.recentStart,ge=this.play.getCurrentTime(),fe=(X==="OPEN"||de==="OPEN")&&Ee>0;if(E&&F(ge),Ae>0&&Le===2&&ge>Ae&&(this.play.seek(Ae),D.default.warning(l("component.haveALookOverTip")),this.play.pause()),o==="learn"&&fe){var Ve=Me-Ce*Ee;if(Ee>0&&ge>Ve)if(this.play.pause(),de==="OPEN"){if(!ue){var Ze=(0,Be.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:Ze},()=>{(0,C.qp)({popupId:Ze,planId:K,resourceId:O,type:"popup_start"})}),this.play.exitFull()}}else X==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||xe===100)&&(ge>0&&(this.playingVideo.recentStart=ge),!((V==="enterprise"||V==="studyProject")&&oe==="OPEN")))return!1;ge>Ie?ge-Ne>2?(this.playingVideo.recentStart=Ie,this.play.seek(Ie),D.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=ge,this.playingVideo.maxPlayTime=ge):ge>0&&ge>this.playingVideo.recentStart&&(this.playingVideo.recentStart=ge)},this.onPlay=()=>{var a=this.props,t=a.mode,o=a.onPlay,l=o===void 0?()=>{}:o;l();var d=this;t==="learn"&&!d.timer&&(d.timer=setTimeout(function E(){d.saveProgress(),clearTimeout(d.timer),d.timer=setTimeout(E,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,o=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,o=t.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,o=a.showRandomAlert,l=this.props,d=l.t,E=l.playingVideo,v=l.studyInfo,F=l.autoPlay,V=E.recentStart,K=E.duration,O=E.progress,N=v.studyType,X=(t==="OPEN"||o==="OPEN")&&(N==="studyTask"||N==="enterprise"||N==="studyProject")&&O<100;X?(o==="OPEN"?this.setState({promptMessage:d("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:d("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):F&&(this.play.play(),Math.ceil(V)<parseInt(K)&&this.play.seek(V))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,o=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,o>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,o>=2*l?this.playingVideo.popupWindowCount=0:o>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,o>=3*l?this.playingVideo.popupWindowCount=0:o>=2*l?this.playingVideo.popupWindowCount=1:o>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,o=a.mode;if(o==="learn"){this.playingVideo=(0,P.Z)({},t);var l=t.duration,d=t.progress;this.playingVideo.hasFinished=parseInt(d)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(d)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,p.Z)(f().mark(function a(){var t,o,l,d,E,v,F,V,K,O,N,X,oe,de,ue,J,Ce,Ee,Ie,xe,Ae,Le,Me,Ne;return f().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(t=i.state,o=t.speedSwitch,l=t.dragSwitch,d=t.whiteList,E=i.props,v=E.resourceInfo,F=E.showQuality,V=v.contentType,K=v.storageType,O=v.source,N=v.playId,X=v.playerId,oe=v.showFullScreen,de=oe===void 0?!0:oe,ue=re(X),ue.components=[],J=typeof O=="object"&&O.hasOwnProperty("FD")&&O.FD.indexOf("m3u8")===-1,F&&J&&V!=="mp3"&&(K&&K==="PUBLIC_CLOUD"||!K)&&ue.components.push({name:"VideoQuality",type:ee,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),o==="OPEN"&&ue.components.push({name:"VideoRate",type:ye}),de&&(Ce=ue.skinLayout.find(Ve=>Ve.name==="controlBar"),Ce&&Ce.children.splice(Ce.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),ue.components.push({name:"VideoWaterMark",type:et}),Ee=O.FD,Ie=O.OD,Ee.indexOf("http://")>-1&&(Ee=Ee.replace("http://","https://")),Ie.indexOf("http://")>-1&&(Ie=Ie.replace("http://","https://")),xe=d.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",O.OD=Ie&&Ie.indexOf(xe)>-1&&Ie.indexOf(".mp4")>-1?Ie:Ee,O.FD=Ee,Ae=typeof O!="string"?JSON.stringify(O):O,ue.source=Ae,l==="OPEN"&&(ue.disableSeek=!0),K!=="ALIBABA_PRIVATE"){fe.next=32;break}return fe.next=22,(0,C.BR)(N);case 22:if(Le=fe.sent,!Le){fe.next=28;break}ue.source=Le,ue.vodRetry=1,fe.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),fe.abrupt("return");case 30:fe.next=38;break;case 32:if(K!=="LOCAL"){fe.next=38;break}return fe.next=35,Te(N);case 35:Me=fe.sent,Ne=Me.data,Ne.code===0&&(ue.source="".concat(O.FD,"?auth_key=").concat(Ne.data.auth_key),ue.vodRetry=1);case 38:i.setState({playerConfig:ue});case 39:case"end":return fe.stop()}},a)})),this.updateSource=function(){var a=(0,p.Z)(f().mark(function t(o){var l,d,E,v,F,V,K,O;return f().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(l=i.state.playerConfig,d=i.props.resourceInfo,E=d.storageType,v=d.source,F=d.playId,i.playingVideo.readyCount=0,E!=="ALIBABA_PRIVATE"){X.next=16;break}return X.next=7,(0,C.BR)(F);case 7:if(V=X.sent,!V){X.next=12;break}Object.assign(l,{source:V,vodRetry:1}),X.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),X.abrupt("return");case 14:X.next=22;break;case 16:if(E!=="LOCAL"){X.next=22;break}return X.next=19,Te(F);case 19:K=X.sent,O=K.data,O.code===0&&Object.assign(l,{source:"".concat(v.FD,"?auth_key=").concat(O.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:l},()=>{i.play.setupPlayer(o)});case 23:case"end":return X.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,o=a.userInfo,l=o.isLogin,d=o.enterpriseId,E=o.id,v=this.playingVideo,F=v.recentStart,V=v.duration,K=v.hasFinished,O=Math.ceil(+F);O>Number(V)&&(O=Number(V));var N=Math.ceil(O/+V*100);if((N>100||K)&&(N=100),l){var X=this.playingVideo,oe=X.auditionType,de=X.auditionLength;if(de>0&&oe===2){var ue=Math.ceil(de/V*100);ue<=N&&(N=ue,O=de)}(0,C.sH)({studyInfo:t,progress:N,recent_start:O,enterpriseId:d,userId:E}).then(J=>{J&&J.data&&(0,he.Z)(J.data.integral_info||"")})}},this.getInfoFromSettings=(0,p.Z)(f().mark(function a(){var t,o,l,d,E,v,F,V,K;return f().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return t=i.props.studyInfo,o=t.studyType,l=t.projectId,N.next=4,(0,C.Gw)();case 4:if(d=N.sent,E=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],v=(0,k.RG)(d,E),o!=="studyProject"){N.next=14;break}return N.next=10,(0,Fe.NU)({id:l});case 10:F=N.sent,V=F.status,K=F.data,V===200&&(v.showPreventHang=K.prevent_cut_screen?"OPEN":"CLOSED",v.speedSwitch=K.speed_play?"OPEN":"CLOSED",v.dragSwitch=K.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(v,()=>{i.dealVideoConfig()});case 15:case"end":return N.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,o=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,p.Z)(f().mark(function a(){var t,o,l,d;return f().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:t=i.props.studyInfo,o=t.studyId,l=t.resourceId,d=i.state.randomAlertUUID,(0,C.qp)({popupId:d,planId:o,resourceId:l,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return v.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return r().createElement(w.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return r().createElement(w.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:re(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:n.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:n.t("component.randomAlertTip"),randomAlertModal:{title:n.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Pe.UI)("CL_VIDEO_BAIYING_COM_CN")}},n.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(n){var i=typeof n.resourceInfo.source!="string"?JSON.stringify(n.resourceInfo.source):n.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var n=this.props.mode;n==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var n=this.state,i=n.playerConfig,a=n.showPrivateVodError,t=n.dialogVisible,o=n.dialogModal,l=n.promptMessage,d=n.randomAlertDialogVisible,E=n.randomAlertModal,v=n.randomAlertTip,F=n.encryptedSwitch,V=this.props,K=V.resourceInfo,O=V.t,N=F==="OPEN"?z:se;return r().createElement(T.Fragment,null,r().createElement(N,(0,I.Z)({ref:this.getPlayInstance},K,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),r().createElement(Oe.ZP,(0,I.Z)({visible:t},o,{footer:this.renderFooter()}),r().createElement("div",{className:"video-business-prompt"},l)),r().createElement(Oe.ZP,(0,I.Z)({visible:d},E,{footer:this.renderRandomFooter()}),r().createElement("div",{className:"video-player-container__prompt"},v)),a&&r().createElement("div",{className:"video-business-vod-error"},O("privateCloud.docReadError")),r().createElement(Ue.Z,{scenes:"video"}))}}var ze=(0,g.$j)(tt,null,null,{forwardRef:!0})((0,u.Z)("translation",{withRef:!0})(Ke)),$e=e(94184),Re=e.n($e),We=e(84874),rt=ne=>({userInfo:ne.user}),He={getPravateDocUrl:De.ZP.localStorage.getPravateDocUrl};function Ye(ne){return JSON.stringify(ne,(n,i)=>(typeof i=="function"&&(i=i.toString()),i))}function Qe(ne){var n=parseInt(parseInt(ne,10)/60,10),i=parseInt(parseInt(ne,10)%60,10);return n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),"".concat(n,":").concat(i)}class be extends T.Component{constructor(n){var i;super(n);i=this,this.messageFun=a=>{var t=this.props,o=t.docType,l=t.progress,d=t.studyTimeLimit,E=t.studyTime,v=this.state,F=v.jumpPageTag,V=v.totalTime,K=v.timeRemaining,O=this.state.previewDocData,N={};try{N=JSON.parse(a.data)}catch(X){return}switch(N.action){case"preview.ready":this.initDocData();break;case"preview.meta":O.totalPage=N.data.pc||1,O.currentPage=1,this.setState({previewDocData:O},()=>{this.reportStatusInterval()}),d>0?(this.saveProgress(l,E||"1",N.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||O.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,E||"1",N.data.pc||1),d>0&&l<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?V=d:V=d*N.data.pc,K=parseInt(V*(1-l/100),10),this.setState({timeRemaining:K,totalTime:V},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(F){F=!1,this.setState({jumpPageTag:F});return}O.currentPage=N.data.pageIndex+1,this.setState({previewDocData:O}),d||this.saveProgress(Math.ceil(O.currentPage/O.totalPage*100),O.currentPage,O.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":D.default.error(N.data.result);break;default:break}},this.initDocData=(0,p.Z)(f().mark(function a(){var t,o,l,d,E,v,F,V,K,O,N,X,oe,de;return f().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(i.setState({isShowPrivateError:!1}),t=i.props,o=t.docType,l=t.userInfo,d=t.documentWatermarkSettings,E=t.storageType,v=t.privateDocId,F=l.name,V=l.jobNumber,K=l.position,O="",N={},E!=="ALIBABA_PRIVATE"){J.next=18;break}return J.prev=6,X=He.getPravateDocUrl(v),J.next=10,H.WY.get({url:X});case 10:oe=J.sent,de=oe.data,de.code===0?N=de.data||{}:i.setState({isShowPrivateError:!0}),J.next=18;break;case 15:J.prev=15,J.t0=J.catch(6),i.setState({isShowPrivateError:!0});case 18:if(d.indexOf("name")>-1&&(O="".concat(O+F," ")),d.indexOf("position")>-1&&(O="".concat(O+K," ")),d.indexOf("jobnumber")>-1&&(O+=V),O.length>0?window.sendMessage("preview.init",(0,P.Z)({wmType:1,wmValue:O,wmColor:"rgba(192, 192, 192, 0.4)"},N)):window.sendMessage("preview.init",(0,P.Z)({},N)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){J.next=29;break}J.t1=window,J.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},J.t1.sendMessage.call(J.t1,"setConfig",J.t2),J.next=32;break;case 29:J.t3=window,J.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},J.t3.sendMessage.call(J.t3,"setConfig",J.t4);case 32:case"end":return J.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var o=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,o=a.studyTime,l=0;t===0&&(l=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,o=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var d=(o-a)/o*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(d),a,l.totalPage)},2e4)},this.saveProgress=(a,t,o)=>{var l=this.props.onSaveProgress;l&&l(a,t,o)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(n,i)=>{var a=this.docReader.contentWindow;a.postMessage(Ye({action:n,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var n=this.props,i=n.t,a=n.storageType,t=n.privateDocId,o=this.props.aliUrl,l=this.state,d=l.previewDocData,E=l.pageOperateContainerVisible,v=l.timeRemaining,F=l.showCountDown,V=l.showCountDownContainer,K=l.showPageOperateContainer,O=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),r().createElement("div",{className:"doc-reader-container"},r().createElement("div",{className:"ali-doc-container",style:{paddingBottom:E?"56px":"0"}},r().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),V?r().createElement("div",{className:"ali-doc-container__countdown"},F?r().createElement("div",null,r().createElement(We.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),r().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",Qe(v)," "),i("component.canDone")):r().createElement("div",null,r().createElement(We.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,E?r().createElement("div",{className:"ali-doc__operate"},r().createElement("div",{className:Re()(["ali-doc__operate__content",K?"":"ali-doc__operate__hide-content"])},r().createElement("div",{className:"ali-doc__operate__pagination"},r().createElement("div",{className:"ali-doc__operate__pagination__pages"},d.currentPage," / ",d.totalPage),r().createElement("div",{className:"ali-doc__operate__pagination__toggle"},r().createElement("div",{className:"ali-doc__operate__pagination__choose"},r().createElement("span",null,i("component.choosePage"),r().createElement(We.Z,{iconClass:"iconf-arrow-under",size:"14px"})),r().createElement("div",{className:"ali-doc__operate__page-list-container"},r().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),r().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:d.totalPage})).map((N,X)=>r().createElement("li",{key:N,onClick:()=>this.handleJumpPage(X+1)},X+1))))),r().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),r().createElement("div",{className:Re()("ali-doc__operate__unfold",K?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,O&&r().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),r().createElement(Ue.Z,{scenes:"document"}))}}be.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var Ge=(0,g.$j)(rt)((0,u.Z)()(be)),at=ne=>({userInfo:ne.user}),st="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),nt="".concat("https://doc.coolcollege.cn");class Je extends r().Component{constructor(n){var i;super(n);i=this,this.onSaveProgress=(a,t,o)=>{var l=this.props,d=l.mode,E=l.studyInfo,v=l.userInfo,F=v.enterpriseId,V=v.id;d==="learn"&&(0,C.sH)({studyInfo:E,progress:a,page_count:o,recent_start:t,enterpriseId:F,userId:V}).then(K=>{K&&K.data&&(0,he.Z)(K.data.integral_info||"")})},this.messageFun=function(){var a=(0,p.Z)(f().mark(function t(o){var l,d,E,v,F,V;return f().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(o.data!=="local-resource"){O.next=9;break}if(l=i.props.resourceInfo,d=l.storageType,E=l.playId,!(d&&d==="LOCAL")){O.next=9;break}return O.next=6,Te(E);case 6:v=O.sent,F=v.data,F.code===0&&(V=document.getElementById("local-resource-box"),V.contentWindow.postMessage({msg:"local-auth-key",authKey:F.data.auth_key},"*"));case 9:case"end":return O.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,p.Z)(f().mark(function a(){var t,o,l;return f().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,C.Gw)();case 2:t=E.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,k.RG)(t,o),i.setState(l,()=>{i.initDocPage(i.props)});case 6:case"end":return E.stop()}},a)})),this.initDocPage=(0,p.Z)(f().mark(function a(){var t,o,l,d,E,v,F,V,K,O,N,X,oe,de,ue,J,Ce,Ee,Ie,xe,Ae,Le,Me,Ne,ge,fe,Ve,Ze,ht,ct,dt,ut,mt,vt,pt=arguments;return f().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(t=pt.length>0&&pt[0]!==void 0?pt[0]:{},o=t.resourceInfo,l=t.mode,d=t.studyInfo,E=t.userInfo,v=i.state.documentPlayerMode,F=o.docType,V=o.docTitle,K=o.url,O=o.studyTimeLimit,N=o.studyTime,X=o.aliUrl,oe=o.progress,de=o.storageType,ue=o.playId,J=d.studyType,Ce=d.courseId,Ee=d.studyId,Ie=d.resourceId,xe=E.enterpriseId,Ae=E.id,Le=E.isLogin,Me=E.token,Ne=v==="compat"&&X.indexOf("preview.imm.aliyun")>-1||de==="ALIBABA_PRIVATE",!Ne){Se.next=11;break}i.setState({showAliReader:!0}),Se.next=31;break;case 11:if(ge=(0,C.sH)({enterpriseId:xe,userId:Ae,token:Me,studyInfo:d},!0),fe=J==="studyTask"?2:1,Ve=De.ZP.SaveProgress.reportStatusInterval(d),Ze={isSaveProgress:Le&&l==="learn"&&ge,isSaveRecord:!1,access_token:Me,userId:Ae,hostUrl:st,courseId:Ce,resourceId:Ie,courseType:1,planId:Ee,studyTimeLimit:O,studyTime:N,saveProgressUrl:ge,type:"eapp",progress:oe,saveRecordProgressUrl:Ve,actionType:fe},!(de&&de==="LOCAL")){Se.next=26;break}return Se.next=18,Te(ue);case 18:if(ht=Se.sent,ct=ht.data,ct.code!==0){Se.next=25;break}Ze.auth_key=ct.data.auth_key,Ze.url=K,Se.next=26;break;case 25:return Se.abrupt("return");case 26:dt=JSON.stringify(Ze),ut="".concat(V,".").concat(F).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),mt="".concat(nt,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(dt),"&furl=").concat(K,"?attname=").concat(ut),de&&de==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),mt="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(dt),"&furl=").concat(K,"?attname=").concat(ut)),i.setState({encodeUrl:mt});case 31:case"end":return Se.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,o=this.props,l=o.resourceInfo,d=o.mode,E=o.studyInfo,v=o.userInfo,F=l.type,V=E.courseId,K=E.studyId,O=E.resourceId,N=v.enterpriseId,X=v.id,oe=v.isLogin,de="",ue="",J=0,Ce=!1;switch(F){case"enterprise":J=1,Ce=!0;break;case"study":de=K,J=2,Ce=!0;break;case"project":ue=K,J=1,Ce=!0;break;default:break}if(!(!Ce||!oe)){var Ee={plan_id:de,enterprise_id:N,user_id:X,course_id:V,project_course_id:ue,resource_id:O,current_page:t,action_type:J,send_time:Date.parse(new Date)};d==="learn"&&(0,C.Xc)(E,Ee)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(n){this.initDocPage(n)}render(){var n=this.props.resourceInfo,i=this.state,a=i.encodeUrl,t=i.documentWatermarkSettings,o=i.showAliReader,l=n.docType,d=n.type,E=n.studyTimeLimit,v=n.studyTime,F=n.aliUrl,V=n.progress,K=n.storageType,O=n.playId;return o?r().createElement(Ge,{privateDocId:O,storageType:K,aliUrl:F,docType:l,progress:V,studyTime:v,studyTimeLimit:E,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:d}):r().createElement("div",{className:"doc-reader-container"},r().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),r().createElement(Ue.Z,{scenes:"document"}))}}var Xe=(0,g.$j)(at)(Je),it=e(38979),_e=e(90706),ot=e(12968),lt=e(44208),ve=e(60667),Z=ne=>({userInfo:ne.user});class b extends r().Component{constructor(){var n;super(...arguments);n=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,d=o.id;t==="learn"&&(0,k.Gp)({studyInfo:a,enterpriseId:l,userId:d})},this.getInfoFromSettings=(0,p.Z)(f().mark(function i(){var a,t,o;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,C.Gw)();case 2:a=d.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,k.RG)(a,t),n.setState(o,()=>{n.renderWatermark()});case 6:case"end":return d.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.imageWatermark,t=i.name,o=i.unionid,l=i.sourceType,d=i.jobNumber,E=i.position,v=[];a.indexOf("name")>-1&&v.push(r().createElement(ve.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&v.push(r().createElement("span",null,E)),a.indexOf("jobnumber")>-1&&v.push(r().createElement("span",null,d)),a.length>0&&this.setState({watermark:v.map((F,V)=>r().createElement("span",{key:V},F))})},this.handleError=i=>{var a=this.props.onError;a&&a(i)},this.getImageUrl=(0,p.Z)(f().mark(function i(){var a,t,o,l,d,E,v,F,V,K;return f().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(a=n.props,t=a.resourceInfo,o=a.t,l=t.playId,d=t.url,E=t.storageType,v=d,!E){N.next=21;break}if(E!=="ALIBABA_PRIVATE"){N.next=15;break}return N.next=7,(0,C.J7)(l);case 7:if(F=N.sent,!F){N.next=12;break}v=F,N.next=13;break;case 12:return N.abrupt("return",D.default.info(o("privateCloud.docReadError")));case 13:N.next=21;break;case 15:if(E!=="LOCAL"){N.next=21;break}return N.next=18,Te(l);case 18:V=N.sent,K=V.data,K.code===0&&(v="".concat(d,"?auth_key=").concat(K.data.auth_key));case 21:n.setState({imageUrl:[v]},()=>{var X=n.state.imageUrl,oe="image-business",de=document.querySelectorAll(".".concat(oe,"-image img"));de.forEach((ue,J)=>{ue.onerror=()=>{n.handleError(X[J])}})});case 22:case"end":return N.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var n="image-business",i=this.props.resourceInfo,a=i.preview,t=a===void 0?!1:a,o=this.state,l=o.watermark,d=o.imageUrl;return r().createElement("div",{className:n},r().createElement(Ue.Z,{scenes:"image"}),r().createElement(_e.Z,{className:"".concat(n,"-carousel")},d.map((E,v)=>r().createElement("div",{className:"".concat(n,"-image"),key:v.toString()},r().createElement(lt.Z,{src:E,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}b.defaultProps={prefixCls:"watch-image-page"};var _=(0,g.$j)(Z)((0,u.Z)()(b)),M=ne=>({userInfo:ne.user});class Q extends r().Component{constructor(){var n;super(...arguments);n=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,p.Z)(f().mark(function i(){var a,t,o;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,C.Gw)();case 2:a=d.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,k.RG)(a,t),n.setState(o,()=>{n.renderWatermark()});case 6:case"end":return d.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.htmlWatermark,t=i.name,o=i.unionid,l=i.sourceType,d=i.jobNumber,E=i.position,v=[];a.indexOf("name")>-1&&v.push(r().createElement(ve.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&v.push(r().createElement("span",null,E)),a.indexOf("jobnumber")>-1&&v.push(r().createElement("span",null,d)),a.length>0&&this.setState({watermark:v.map((F,V)=>r().createElement("span",{key:V},F))})},this.saveProgress=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,d=o.id;t==="learn"&&(0,k.Gp)({studyInfo:a,enterpriseId:l,userId:d})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var n="html-business",i=this.props.resourceInfo,a=i.url,t=this.state.watermark;return r().createElement("div",{className:n},r().createElement("div",{className:"".concat(n,"__html-watermark")},t),r().createElement("iframe",{title:"html",className:"".concat(n,"_iframe"),src:a}))}}var $=(0,g.$j)(M)((0,u.Z)()(Q)),Y=e(57068),ie=e(1164),te=ne=>({userInfo:ne.user});class le extends r().PureComponent{constructor(){super(...arguments);this.getHost=n=>{var i=n.split("//"),a=i[1].split("/");return[i[0],a[0]].join("//")},this.getScormUrl=()=>{var n=this.props,i=n.studyInfo,a=n.mode,t=n.userInfo,o=n.resourceInfo,l=n.from,d=t.enterpriseId,E=t.id,v=o.url,F=this.getHost(v);if(a==="learn"){var V=(0,P.Z)({userId:E,enterpriseId:d,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(v),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(F).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(Y.stringify(V))}return"".concat(F,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(v))},this.handleOpenScormLink=n=>{ie.Z.targetTo({path:n,isExternalLink:!0})}}render(){var n=this.props.t,i="scorm-business",a=this.getScormUrl(),t=(0,Pe.UI)("SCORM_EXTERNAL_WATCH");return r().createElement("div",{className:i},t?r().createElement("div",{className:"".concat(i,"_scorm")},r().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),r().createElement("h5",null,n("resourcePlay.scormTip")),r().createElement(w.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},n("resourceLibrary.h5LinkPlayButton"))):r().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:a}))}}var ce=(0,g.$j)(te)((0,u.Z)()(le));class we extends r().Component{render(){var n=this.props,i=n.visible,a=n.title,t=n.onCancel,o=n.t,l=r().createElement("span",null,a);return r().createElement(Oe.ZP,{visible:i,title:l,onCancel:t,footer:null},r().createElement("div",{className:"ban-preview"},r().createElement("div",{className:"ban-preview-center"},r().createElement("img",{src:h(),alt:"picture"}),r().createElement("h2",null,o("localStorage.tip")),r().createElement("p",null,o("localStorage.banPreview"))),r().createElement("hr",null),r().createElement(w.Z,{type:"primary",className:"know",onClick:t},o("localStorage.onKnow"))))}}var pe=(0,u.Z)()(we);class ke extends T.Component{constructor(){var n;super(...arguments);n=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(i)},this.onGetVideoBusiness=i=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=i,t(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,p.Z)(f().mark(function i(){var a,t,o,l,d,E,v,F,V,K,O,N=arguments;return f().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(a=N.length>0&&N[0]!==void 0?N[0]:null,t=n.props,o=t.resourceInfo,l=t.watchType,d=o.storageType,E=o.playId,v=o.originUrl,F=l==="image"||l==="video"||l==="doc",V=null,a?V=a:v?V=v:V=o.url,!(F&&V&&E&&d&&d==="LOCAL")){oe.next=22;break}return oe.prev=7,oe.next=10,(0,C.NY)(E);case 10:return K=oe.sent,oe.next=13,(0,C.Hy)(V,K);case 13:O=oe.sent,O?n.setState({showBan:"no"}):n.setState({showBan:"yes"}),oe.next=20;break;case 17:oe.prev=17,oe.t0=oe.catch(7),n.setState({showBan:"yes"});case 20:oe.next=23;break;case 22:n.setState({showBan:"no"});case 23:case"end":return oe.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,a=i.prefixCls,t=i.watchType,o=i.onCurrentTime,l=o===void 0?()=>{}:o;return r().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&r().createElement(ze,(0,I.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&r().createElement(Xe,this.props),t==="image"&&r().createElement(_,(0,I.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&r().createElement($,this.props),t==="scorm"&&r().createElement(ce,this.props))},this.renderFooter=()=>{var i=this.props,a=i.resourceInfo.storageType,t=i.t,o=this.state.showBan,l=o!==""&&o==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?r().createElement(w.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var n=this.props.mode;n==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(n){n.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var n=this.state,i=n.showBan,a=n.fullScreen,t=this.props,o=t.mode,l=t.previewWay,d=t.previewInfo,E=t.prefixCls,v=t.t,F=t.showEnlarge,V=t.footer,K=V===void 0?null:V,O=d.visible,N=d.destroyOnClose,X=d.title,oe=i!==""&&i==="yes",de=i!==""&&i==="no";return r().createElement(T.Fragment,null,o==="preview"&&l==="popups"&&r().createElement(Oe.ZP,{destroyOnClose:N,visible:O,title:X,onCancel:this.onCancelModel,footer:K||this.renderFooter(),wrapClassName:"".concat(E,"-resource ").concat(a?"".concat(E,"-full"):"")},F&&r().createElement("div",{className:"".concat(E,"-resource-out-icon"),onClick:this.onFullScreen},a?r().createElement(c.Z,{className:"".concat(E,"-resource-icon")}):r().createElement(y.Z,{className:"".concat(E,"-resource-icon")})),r().createElement("div",{className:"".concat(E,"-inner")},!O&&r().createElement(m.Z,{size:"large"}),O&&de&&this.renderOuter(),oe&&r().createElement(s,null))),(o==="learn"||l==="page")&&de&&this.renderOuter(),(o==="learn"||l==="page")&&r().createElement(pe,{visible:oe,title:X||v("questionn.warmHint"),onCancel:this.onCancel}))}}ke.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var qe=(0,u.Z)("translation",{withRef:!0})(ke)},41225:function(me,G,e){"use strict";e.d(G,{Hy:function(){return p},NY:function(){return W},Gw:function(){return f},sH:function(){return c},BR:function(){return T},qp:function(){return y},Xc:function(){return u},J7:function(){return r}});var x=e(57361),m=e(9754),L=e.n(m),w=e(10237),I=e(37055),p=function(){var A=(0,x.Z)(L().mark(function h(){var R,s,P,S,D,g,k,C=arguments;return L().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return R=C.length>0&&C[0]!==void 0?C[0]:"",s=C.length>1&&C[1]!==void 0?C[1]:"",P="",R.startsWith("http")?(S=R.split("//")[1].trim(),D=S.split("/")[0],P="https://".concat(D,"/cms/ticket")):(g=R.split("/")[0],P="https://".concat(g,"/cms/ticket")),B.prev=4,B.next=7,w.ZQ.get({url:P,params:{ticket:s}});case 7:if(k=B.sent,!(k.status===200||k.status===403)){B.next=10;break}return B.abrupt("return",Promise.resolve(!0));case 10:return B.abrupt("return",Promise.resolve(!1));case 13:return B.prev=13,B.t0=B.catch(4),B.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return B.stop()}},h,null,[[4,13]])}));return function(){return A.apply(this,arguments)}}(),W=function(){var A=(0,x.Z)(L().mark(function h(R){var s,P;return L().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,w.ZQ.get({url:I.ZP.local.getTicket(R)});case 2:if(s=D.sent,P=s.data,P.code!==0){D.next=6;break}return D.abrupt("return",Promise.resolve(P.data.ticket));case 6:return D.abrupt("return",Promise.resolve(""));case 7:case"end":return D.stop()}},h)}));return function(R){return A.apply(this,arguments)}}(),f=function(){var A=(0,x.Z)(L().mark(function h(){var R;return L().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,w.WY.get({url:I.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return R=P.sent,P.abrupt("return",R.data.list);case 4:case"end":return P.stop()}},h)}));return function(){return A.apply(this,arguments)}}(),T=function(){var A=(0,x.Z)(L().mark(function h(R){var s,P,S;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,w.WY.get({url:I.ZP.localStorage.getPravateVideoUrl(R)});case 2:if(s=g.sent,s.data.code!==0){g.next=6;break}return P=s.data.data.videoPlayInfo,S=P===void 0?"":P,g.abrupt("return",S);case 6:return g.abrupt("return","");case 7:case"end":return g.stop()}},h)}));return function(R){return A.apply(this,arguments)}}(),r=function(){var A=(0,x.Z)(L().mark(function h(R){var s,P,S;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return s=I.ZP.localStorage.getPravateDocUrl(R),g.prev=1,g.next=4,w.WY.get({url:s});case 4:if(P=g.sent,S=P.data,!(S.code===0&&S.data)){g.next=8;break}return g.abrupt("return",S.data.docResourceDownloadUrl||"");case 8:return g.abrupt("return","");case 11:return g.prev=11,g.t0=g.catch(1),g.abrupt("return","");case 14:case"end":return g.stop()}},h,null,[[1,11]])}));return function(R){return A.apply(this,arguments)}}(),c=function(h){var R=h.studyInfo,s=h.progress,P=h.recent_start,S=h.page_count,D=h.enterpriseId,g=h.userId,k=h.token,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H,B=R.studyType;if(B==="studyTask"&&(H=I.ZP.SaveProgress.studySaveProgress(R)),(B==="course"||B==="enterprise")&&(H=I.ZP.SaveProgress.enterpriseCourseSaveProgress(R)),B==="studyProject"&&(H=I.ZP.SaveProgress.projectSaveProgress(R)),B==="platform"&&(H="".concat(I.ZP.SaveProgress.platformCourseSaveProgress(R))),(C||B==="platform")&&(H+="?enterprise_id=".concat(D,"&user_id=").concat(g)),C)return H+="&access_token=".concat(k||localStorage.getItem("token")),H;var j={progress:s,recent_start:P,tempTime:Date.parse(new Date)};return S&&(j.page_count=S),R.evaluationId&&(j.evaluation_id=R.evaluationId),w.WY.post({url:H,data:j})},y=A=>{var h=A.popupId,R=A.planId,s=A.resourceId,P=A.type;return w.WY.post({url:I.ZP.TaskStudyRecord.setRandomPopupRecord(R),data:{course_id:s,terminal_type:"PC",popup_id:h,type:P}})},u=(A,h)=>{var R=I.ZP.SaveProgress.reportStatusInterval(A);return w.WY.post({url:R,data:h})}},21594:function(me,G,e){"use strict";e.d(G,{pu:function(){return I},RG:function(){return p},Gp:function(){return W},O8:function(){return f}});var x=e(88986),m=e(69164),L=e(38642),w=e(41225),I=T=>{var r="";switch(T){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":r="studyTask";break;case"enterprise":r="enterprise";break;case"courseProject":r="studyProject";break;case"platform":case"purchased":r="platform";break;default:break}return r},p=(T,r)=>{var c={};return r.forEach(y=>{var u=T.find(P=>P.type===y.type);if(u)if(y.type==="document_duration_limit"){var A=u.action_list,h=A.find(P=>P.type==="random_popup_verification");!(0,L.UI)("RANDOM_POPUP_VERIFY")||!h?c[y.name]="CLOSE":c[y.name]=h.param.checked==="true"?"OPEN":"CLOSE"}else if(y.type==="document_player"){var R=JSON.parse(u.actions);R.forEach(P=>{P.param.checked==="true"&&(c[y.name]=P.type)})}else if(y.type==="dynamic_watermark"){var s=u.action_list;s.forEach(P=>{P.type===y.resourceType&&P.param.checked==="true"&&(c[y.name]=P.param.comment)})}else c[y.name]=u.switch_status}),c},W=T=>{(0,w.sH)((0,x.Z)({progress:100,recent_start:1},T)).then(r=>{r&&r.data&&(0,m.Z)(r.data.integral_info||"")})},f=T=>{var r=document.createElement("div");return r.innerHTML=T,r.childNodes[0]}},31275:function(me,G,e){"use strict";e.d(G,{Z:function(){return lt}});var x=e(20228),m=e(11382),L=e(13254),w=e(14277),I=e(71153),p=e(60331),W=e(57663),f=e(71577),T=e(57361),r=e(71194),c=e(57016),y=e(34792),u=e(48086),A=e(9754),h=e.n(A),R=e(12924),s=e.n(R),P=e(91768),S=e(76651),D=e(28216),g=e(91072),k=e(88986),C=e(37055),H=e(47673),B=e(4107),j=e(6793),U=e(10237),z,q,re,ae,se=B.Z.TextArea,ee=(z=(0,D.$j)(ve=>{var Z=ve.user,b=ve.community;return{userId:Z.id,userName:Z.name,articleId:b.articleId,commentId:b.commentId}}),q=Reflect.metadata("design:type",Function),re=Reflect.metadata("design:paramtypes",[void 0]),z(ae=q(ae=re(ae=class extends s().Component{constructor(Z){var b;super(Z);b=this,this.getComment=_=>{var M=(0,j.fy)(_.target.value);this.setState({content:M,disabled:M.length===0})},this.handlePublish=(0,T.Z)(h().mark(function _(){var M,Q,$,Y,ie,te,le,ce,we,pe,ke,qe,ne,n;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.setState({loading:!0}),M=b.props,Q=M.t,$=M.target,Y=M.articleId,ie=M.commentId,te=ie===void 0?"":ie,le=M.type,ce=M.initComments,we=M.initArticle,pe=M.dispatch,ke=M.replyTargetId,qe=b.state.content,ne={content:qe,userId:ke,userName:$},le==="comment"?n=C.ZP.community.handleComment(Y):n=C.ZP.community.operateComment(Y,te),a.next=7,U.WY.post({url:n,data:ne}).then(t=>{t.data.code===0?(b.setState({content:"",disabled:!0}),u.default.success(t.data.data.integralInfo),le==="comment"&&we(),ce(),pe({type:"community/changeCommentId",payload:{commentId:"",activeReplyBoxId:""}})):u.default.error(Q("community.commentErrorTips"))}).catch(()=>{u.default.error(Q("community.commentErrorTips"))});case 7:b.setState({loading:!1});case 8:case"end":return a.stop()}},_)})),this.textInput=s().createRef(),this.state={disabled:!0,loading:!1,content:""}}render(){var Z=this.props,b=Z.t,_=Z.prefixCls,M=Z.type,Q=Z.target,$=this.state,Y=$.disabled,ie=$.loading,te=M==="comment"?b("community.commentTips"):"".concat(b("community.reply")).concat(Q);return s().createElement("div",{className:"".concat(_)},s().createElement(se,{ref:this.textInput,autoSize:!0,value:this.state.content,placeholder:te,onChange:this.getComment}),s().createElement(f.Z,{type:"primary",disabled:Y,loading:ie,onClick:this.handlePublish},b(M==="comment"?"common.release":"community.reply")))}})||ae)||ae)||ae);ee.defaultProps={prefixCls:"commenter",type:"comment",target:"",initComments:()=>{}};var ye=(0,P.Z)()(ee),he=e(84874),De=e(38642),Te,Be,Oe,Pe,Fe=(Te=(0,D.$j)(ve=>{var Z=ve.community;return{artId:Z.articleId,activeReplyBoxId:Z.activeReplyBoxId}}),Be=Reflect.metadata("design:type",Function),Oe=Reflect.metadata("design:paramtypes",[void 0]),Te(Pe=Be(Pe=Oe(Pe=class extends s().Component{constructor(Z){super(Z);this.deleteReply=b=>{var _=this.props,M=_.artId,Q=_.commentId,$=_.initComments,Y=_.t,ie=C.ZP.community.deleteReply(M,Q,b);U.WY.delete({url:ie}).then(te=>{te.data.code===0?(u.default.success(Y("common.deleteSuccess")),$()):u.default.error(Y("common.deleteFailure"))}).catch(te=>{u.default.error(Y("common.deleteFailure"))})},this.toggleReplyBox=b=>{var _=this.state.showReplyBox,M=this.props,Q=M.dispatch,$=M.commentId;Q({type:"community/changeCommentId",payload:{commentId:_?"":$,activeReplyBoxId:_?"":b}})},this.state={showReplyBox:!1}}componentDidMount(){}componentWillReceiveProps(Z){var b=Z.activeReplyBoxId,_=Z.reply;this.setState({showReplyBox:b===_.id})}render(){var Z,b=this.props,_=b.t,M=b.prefixCls,Q=b.reply,$=b.initComments,Y=b.isFromManage,ie=b.isAuthor,te=this.state.showReplyBox,le=C.XE.INITIAL_DATE_FMT.PARAMS,ce=localStorage.getItem("themeColor")||"#465DCD";return s().createElement("div",{className:"".concat(M)},s().createElement("div",{className:"header"},s().createElement("div",{className:"header-profile"},s().createElement("div",null,s().createElement("img",{src:((Z=Q.author)===null||Z===void 0?void 0:Z.avatar)||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""}),s().createElement("span",null,Q.author.name)),s().createElement("span",{className:"reply"},_("community.reply")),s().createElement("div",null,s().createElement("span",null,Q.target.name))),s().createElement("div",{className:"header-time"},(0,De.pi)(Q.createAt))),s().createElement("div",{className:"content"},s().createElement("div",{className:"content-detail"},Q.content),s().createElement("div",{className:"content-control"},!Y&&s().createElement("div",{className:"replyBtn",style:{color:ce},onClick:()=>this.toggleReplyBox(Q.id)},s().createElement(he.Z,{iconClass:te?"icon-zhipai":"icon-huifu",size:"12px"}),_(te?"community.cancelReply":"community.reply")),(Y||ie)&&s().createElement("div",{className:"deleteBtn",style:{color:ce},onClick:()=>this.deleteReply(Q.id)},s().createElement(he.Z,{iconClass:"icon-f-delete",size:"10px"}),_("common.delete")))),!Y&&s().createElement("div",{className:te?"show-replyBox":"hide-replyBox"},s().createElement(ye,{replyTargetId:Q.author.id,type:"reply",target:Q.author.name,initComments:$})))}})||Pe)||Pe)||Pe);Fe.defaultProps={prefixCls:"reply-item",reply:{}};var Ue=(0,P.Z)()(Fe);class je extends s().Component{constructor(Z){super(Z);this.openMoreReplies=()=>{var b=this.props.replyList;this.setState({displayReplies:b,restNumber:0,showNoneMore:!0})},this.toggleReplyBox=b=>{this.setState({activeReplyBoxId:b})},this.state={activeReplyBoxId:"",displayReplies:[],initialNumber:2,restNumber:0,showNoneMore:!1}}componentDidMount(){var Z=this.props.replyList,b=Z===void 0?[]:Z;this.initReplies(b)}componentWillReceiveProps(Z){var b=Z.replyList,_=b===void 0?[]:b,M=this.props.replyList;_.length!==M.length&&this.initReplies(_)}initReplies(Z){var b=this.state.initialNumber;if(Z.length<=b)this.setState({restNumber:0,displayReplies:Z});else{var _=Z.slice(0,b);this.setState({restNumber:Z.length-b,displayReplies:_})}}render(){var Z=this.props,b=Z.t,_=Z.prefixCls,M=Z.showNoneMore,Q=Z.commentId,$=Z.initComments,Y=Z.isAuthor,ie=Z.isFromManage,te=this.state,le=te.displayReplies,ce=te.restNumber,we=localStorage.getItem("themeColor")||"#465DCD";return s().createElement("div",{className:"".concat(_)},le.map(pe=>s().createElement(Ue,{isAuthor:Y,isFromManage:ie,key:pe.id,reply:pe,commentId:Q,initComments:$})),s().createElement("div",{className:"".concat(_,"-footer")},ce>0?s().createElement("span",{className:"look-more-reply",style:{color:we},onClick:this.openMoreReplies},"".concat(b("community.lookMoreReplies"),"(").concat(ce,")")):M&&s().createElement("span",{className:"none-more-reply"},"".concat(b("community.noneMoreReplies")))))}}je.defaultProps={prefixCls:"reply-list",replyList:[],articleId:"",commentId:""};var et=(0,P.Z)()(je),tt=e(85384),Ke,ze,$e,Re,We=(Ke=(0,D.$j)(ve=>{var Z=ve.community;return{activeReplyBoxId:Z.activeReplyBoxId,articleId:Z.articleId}}),ze=Reflect.metadata("design:type",Function),$e=Reflect.metadata("design:paramtypes",[void 0]),Ke(Re=ze(Re=$e(Re=class extends s().Component{constructor(Z){var b;super(Z);b=this,this.toggleReplyBox=_=>{var M=this.state.showReplyBox,Q=this.props.dispatch;Q({type:"community/changeCommentId",payload:{commentId:M?"":_,activeReplyBoxId:M?"":_}})},this.deleteComment=_=>{var M=this.props,Q=M.articleId,$=M.t,Y=M.initComments,ie=M.initArticle,te=C.ZP.community.operateComment(Q,_);U.WY.delete({url:te}).then(le=>{le.data.code===0?(u.default.success($("common.deleteSuccess")),ie(),Y()):u.default.error($("common.deleteFailure"))}).catch(le=>{u.default.error($("common.deleteFailure"))})},this.changeTopStatus=function(){var _=(0,T.Z)(h().mark(function M(Q,$){var Y,ie,te,le,ce;return h().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return Y=S.m8.location.query,ie=Y.id,pe.next=4,(0,tt.O6)(ie,Q.id,$);case 4:te=pe.sent,le=te.data,le.code===0&&(ce=b.props.initComments,ce());case 7:case"end":return pe.stop()}},M)}));return function(M,Q){return _.apply(this,arguments)}}(),this.state={showReplyBox:!1}}UNSAFE_componentWillReceiveProps(Z){var b=Z.activeReplyBoxId,_=Z.comment.id;this.setState({showReplyBox:b===_})}render(){var Z,b,_,M=this.props,Q=M.t,$=M.prefixCls,Y=M.comment,ie=M.initComments,te=M.isFromManage,le=M.isAuthor,ce=this.state.showReplyBox,we=localStorage.getItem("themeColor")||"#465DCD";return s().createElement("div",{className:"".concat($)},s().createElement("div",{className:"".concat($,"-comment")},s().createElement("div",{className:"".concat($,"-comment-header")},s().createElement("div",{className:"".concat($,"-comment-header-photo")},s().createElement("img",{src:(Y==null||(Z=Y.author)===null||Z===void 0?void 0:Z.avatar)||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""})),s().createElement("span",{className:"".concat($,"-comment-header-name")},Y==null||(b=Y.author)===null||b===void 0?void 0:b.name),Y.isTop===1&&s().createElement(p.Z,{color:"blue",className:"".concat($,"-comment-header-isTop")},Q("community.prePosition")),s().createElement("span",{className:"".concat($,"-comment-header-time")},(0,De.pi)(Y.createAt))),s().createElement("div",{className:"".concat($,"-comment-detail")},Y.content),s().createElement("div",{className:"".concat($,"-comment-control")},!te&&s().createElement("div",{className:"replyBtn",style:{color:we},onClick:()=>this.toggleReplyBox(Y.id)},s().createElement(he.Z,{iconClass:ce?"icon-zhipai":"icon-huifu",size:"12px"}),Q(ce?"community.cancelReply":"community.reply")),(te||le)&&s().createElement("div",{className:"deleteBtn",style:{color:we},onClick:()=>this.deleteComment(Y.id)},s().createElement(he.Z,{iconClass:"icon-f-delete",size:"12px"}),Q("common.delete")),te&&s().createElement(s().Fragment,null,Y.isTop!==1?s().createElement("div",{className:"comment-item-pre-top",type:"primary",onClick:()=>this.changeTopStatus(Y,1)},Q("community.prePosition")):s().createElement("div",{className:"comment-item-pre-top",type:"primary",onClick:()=>this.changeTopStatus(Y,0)},Q("community.cancelPrePosition")))),!te&&s().createElement("div",{className:"".concat($,"-comment-reply")},ce?s().createElement(ye,{replyTargetId:Y.author.id,type:"reply",target:Y.author.name,initComments:ie}):"")),s().createElement("div",{className:"".concat($,"-reply")},(Y==null||(_=Y.reply)===null||_===void 0?void 0:_.length)>0&&s().createElement(et,{initComments:ie,isFromManage:te,commentId:Y.id,isAuthor:le,replyList:Y.reply||[]})))}})||Re)||Re)||Re);We.defaultProps={prefixCls:"comment-item",comment:{},toggleReplyBox:()=>{},articleId:"",isFromManage:!1};var rt=(0,P.Z)()(We),He,Ye,Qe,be,Ge=(He=(0,D.$j)(ve=>{var Z=ve.community;return{activeReplyBoxId:Z.activeReplyBoxId,articleId:Z.articleId}}),Ye=Reflect.metadata("design:type",Function),Qe=Reflect.metadata("design:paramtypes",[void 0]),He(be=Ye(be=Qe(be=class extends s().Component{constructor(Z){var b;super(Z);b=this,this.toggleReplyBox=_=>{},this.loadMore=()=>{var _=this.state.params,M=_.size,Q=(0,k.Z)((0,k.Z)({},_),{},{size:M+M});this.setState({params:Q},()=>{this.initComments()})},this.initComments=(0,T.Z)(h().mark(function _(){var M,Q,$,Y,ie,te,le,ce;return h().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return M=b.props,Q=M.articleId,$=M.t,Y=b.state.params,ie=C.ZP.community.handleComment(Q),pe.next=5,U.WY.get({url:ie,params:Y});case 5:te=pe.sent,le=te.data,le.code===0?(ce=le.data.content||[],b.setState({totalComments:le.data.totalElements||0,comments:ce})):b.setState({totalComments:0,comments:[]},()=>{u.default.error($("community.getCommentErr"))});case 8:case"end":return pe.stop()}},_)})),this.state={activeReplyBoxId:"",comments:[],totalComments:0,params:{page:0,size:10}}}componentDidMount(){this.initComments()}render(){var Z=this.props,b=Z.t,_=Z.prefixCls,M=Z.isFromManage,Q=Z.isAuthor,$=Z.initArticle,Y=this.state,ie=Y.comments,te=ie===void 0?[]:ie,le=Y.totalComments;return s().createElement("div",{className:"".concat(_)},s().createElement("div",{className:"".concat(_,"-commenter")},!M&&s().createElement(ye,{initComments:this.initComments,initArticle:$})),te.length>0?s().createElement("div",{className:"".concat(_,"-content")},s().createElement("div",{className:"".concat(_,"-content-list")},te.map(ce=>s().createElement(rt,{initArticle:$,initComments:this.initComments,comment:ce,key:ce.id,isAuthor:Q,isFromManage:M}))),s().createElement("div",{className:"".concat(_,"-content-load")},te.length>=le?s().createElement("span",null,b("community.noneMoreComments")):s().createElement(f.Z,{onClick:this.loadMore},b("course.loadMore")))):s().createElement(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE,description:b("community.noneCommentsTips")}))}})||be)||be)||be);Ge.defaultProps={prefixCls:"comment-list",comments:[],articleId:"",isFromManage:!1};var at=(0,P.Z)()(Ge),st=e(77699),nt=e(90565),Je,Xe,it,_e,ot=(Je=(0,D.$j)(ve=>{var Z=ve.user;return{userId:Z.id}}),Xe=Reflect.metadata("design:type",Function),it=Reflect.metadata("design:paramtypes",[void 0]),Je(_e=Xe(_e=it(_e=class extends s().Component{constructor(Z){var b;super(Z);b=this,this.initArticle=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.props.articleId,M=C.ZP.community.operateArticle(_),Q=b.props.t;U.WY.get({url:M}).then($=>{if($.data.code===0){var Y=$.data.data||{};b.setState({article:Y},()=>{b.setState({loading:!1}),b.couldDeleteArt(Y.author.id||"")})}else u.default.error(Q("community.getSourceErrorTips")),b.setState({loading:!1,showError:!0})}).catch(()=>{u.default.error(Q("community.getSourceErrorTips")),b.setState({loading:!1,showError:!0})})},this.toggleLikeArticle=()=>{var _=this.props,M=_.t,Q=_.articleId,$=this.state.article.stared,Y,ie;$?(Y=C.ZP.community.unlikeArticle(Q),ie=M("community.unstarErrorTips")):(Y=C.ZP.community.likeArticle(Q),ie=M("community.starErrorTips")),U.WY.post({url:Y}).then(te=>{te.data.code===0?(this.initArticle(Q),u.default.success($?M("community.unstarTips"):te.data.data)):u.default.error(ie)}).catch(()=>{u.default.error(ie)})},this.deleteArticle=()=>{var _=this.props,M=_.t,Q=_.articleId,$=_.isFromManage;c.Z.confirm({title:M("common.tip"),content:M("course.sureToDelete"),okText:M("common.ok"),cancelText:M("common.cancel"),onOk:function(){var Y=(0,T.Z)(h().mark(function te(){var le,ce;return h().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return le=C.ZP.community.operateArticle(Q),ce=$?{admin:!0}:{},pe.next=4,U.WY.delete({url:le,params:ce}).then(ke=>{ke.data.code===0?(u.default.success(M("common.deleteSuccess")),$?S.m8.goBack():(0,De.eJ)({url:"/community/myCenter"})):u.default.error(M("common.deleteFailure"))}).catch(()=>{u.default.error(M("common.deleteFailure"))});case 4:case"end":return pe.stop()}},te)}));function ie(){return Y.apply(this,arguments)}return ie}()})},this.handleBack=()=>{S.m8.goBack()},this.couldDeleteArt=_=>{var M=this.props.userId;this.setState({isAuthor:M===_})},this.state={isAuthor:!1,article:{},loading:!0,showError:!1}}componentWillReceiveProps(Z){var b=this.props.articleId,_=Z.articleId;b!==_&&this.initArticle(_)}render(){var Z=this.props,b=Z.t,_=Z.prefixCls,M=Z.isFromManage,Q=this.state,$=Q.article,Y=Q.isAuthor,ie=Q.loading,te=Q.showError,le=$.content?JSON.parse($.content).content:"",ce=localStorage.getItem("themeColor")||"#516AE6";return s().createElement(m.Z,{spinning:ie,size:"large"},$.id&&s().createElement("div",{className:"".concat(_)},s().createElement("div",{className:"".concat(_,"-header")},s().createElement("div",{className:"".concat(_,"-header-img")},s().createElement("img",{src:$.author.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""})),s().createElement("div",{className:"".concat(_,"-header-profile")},s().createElement("span",null,$.author.name),s().createElement("span",null,(0,De.pi)($.createAt))),s().createElement("div",{className:"".concat(_,"-header-controls")},(M||Y)&&s().createElement(f.Z,{type:"primary",onClick:this.deleteArticle},b("community.deleteArticle")),M&&s().createElement(f.Z,{type:"primary",onClick:()=>this.handleBack(),style:{marginLeft:"10px"}},b("common.return")))),s().createElement("div",{className:"".concat(_,"-detail")},s().createElement("div",{className:"".concat(_,"-detail-title-box")},M&&$.isTop===1&&s().createElement(p.Z,{color:"blue"},b("community.prePosition")),s().createElement("span",{className:"".concat(_,"-detail-title")},$.title)),$.topic&&s().createElement(g.Z,{list:$.topic,type:"ARTICLE"}),le&&(typeof le=="object"?s().createElement(st.Z,{data:le}):s().createElement(nt.Z,{editorState:le}))),s().createElement("div",{className:"".concat(_,"-footer")},s().createElement("div",null,s().createElement(he.Z,{iconClass:"icon-Comment",size:"14px",color:"#ccc"}),s().createElement("span",null,$.commentCount||0)),M?s().createElement("div",null,s().createElement(he.Z,{iconClass:"icon-dianzan",size:"14px",color:"#ccc"}),s().createElement("span",null,$.stars)):s().createElement("div",{onClick:this.toggleLikeArticle},s().createElement(he.Z,{iconClass:"icon-dianzan",size:"14px",color:$.stared?ce:"#ccc"}),s().createElement("span",null,$.stars))),s().createElement("div",{className:"".concat(_,"-comments")},s().createElement(at,{initArticle:this.initArticle,initComments:this.initComments,isFromManage:M,isAuthor:Y}))),te&&s().createElement(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:80},description:s().createElement("span",null,b("community.getArticleErrorTips"))},s().createElement(f.Z,{type:"primary",onClick:()=>this.handleBack()},b("common.return"))))}})||_e)||_e)||_e);ot.defaultProps={prefixCls:"article-detail",articleId:"",isFromManage:!1};var lt=(0,P.Z)()(ot)},63429:function(me,G,e){"use strict";e.r(G),e.d(G,{default:function(){return S}});var x=e(12924),m=e.n(x),L=e(91768),w=e(57068),I=e(4408),p=e(28216),W=e(10237),f=e(37055),T=e(38642);class r extends m().Component{constructor(g){super(g);this.loadPage=k=>{(0,T.eJ)({url:"/community/articleDetail?id=".concat(k)}),window.location.reload()},this.state={getResourceParams:{page:0,size:5},articleList:[]}}componentDidMount(){var g=this.state.getResourceParams,k=f.ZP.community.getArticleList();W.WY.get({url:k,params:g}).then(C=>{var H,B;this.setState({articleList:((H=C.data)===null||H===void 0||(B=H.data)===null||B===void 0?void 0:B.content)||[]})})}render(){var g=this.props,k=g.t,C=g.prefixCls,H=this.state.articleList;return m().createElement("div",{className:"".concat(C)},m().createElement("div",{className:"".concat(C,"-header")},m().createElement("h3",null,k("community.aboutRecommend"))),m().createElement("div",{className:"".concat(C,"-content")},H.length>0&&H.map(B=>m().createElement("div",{className:"".concat(C,"-content-item"),onClick:()=>this.loadPage(B.id),key:B.id},m().createElement("h4",null,B.title),m().createElement("div",{className:"".concat(C,"-content-item-profile")},m().createElement("div",null,m().createElement("img",{src:B.author.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),alt:""}),m().createElement("span",{className:"author-name"},B.author.name)),m().createElement("span",{className:"publish-time"},(0,T.pi)(B.createAt)))))))}}r.defaultProps={prefixCls:"related-suggestion"};var c=(0,L.Z)()(r),y=e(31275),u=e(22294),A,h,R,s,P=(A=(0,p.$j)(()=>({})),h=Reflect.metadata("design:type",Function),R=Reflect.metadata("design:paramtypes",[void 0]),A(s=h(s=R(s=class extends m().Component{constructor(g){super(g);this.state={articleId:""}}componentDidMount(){var g=w.parse(this.props.location.search),k=g.id;this.setState({articleId:k},()=>{this.props.dispatch({type:"community/changeArtId",payload:{articleId:k}})})}componentWillUnmount(){this.props.dispatch({type:"community/changeArtId",payload:{articleId:""}})}render(){var g=this.props,k=g.prefixCls,C=g.t,H=this.state.articleId;return m().createElement(u.Z,null,m().createElement(I.Z,{title:C("documentTitle.articleDetail")}),m().createElement("div",{className:"".concat(k,"-article")},m().createElement(y.Z,{articleId:H})),m().createElement("div",{className:"".concat(k,"-related")},m().createElement(c,null)))}})||s)||s)||s);P.defaultProps={prefixCls:"article-detail-index"};var S=(0,L.Z)()(P)},77699:function(me,G,e){"use strict";var x=e(62029),m=e(88986),L=e(33565),w=e(12924),I=e.n(w),p=e(76466);function W(f){var T=f.data,r=T.imgs,c=T.content,y=(0,w.useState)({mode:"preview",watchType:"image",resourceInfo:{}}),u=(0,L.Z)(y,2),A=u[0],h=u[1],R=(0,w.useState)({visible:!1,destroyOnClose:!0,title:"picture",onCancel:()=>{}}),s=(0,L.Z)(R,2),P=s[0],S=s[1],D=()=>{h({mode:"preview",watchType:"image",resourceInfo:{}}),S({visible:!1,destroyOnClose:!0,title:"picture",onCancel:()=>{}})},g=C=>{h({mode:"preview",watchType:"image",resourceInfo:{url:r[C]}}),S((0,m.Z)((0,m.Z)({},P),{},{title:"picture",visible:!0,onCancel:D}))},k=c.split("<br/>");return I().createElement("div",{className:"detail-img-item-container"},I().createElement("div",{className:"detail-img-item-content"},k.map((C,H)=>I().createElement("div",{key:H.toString()},C))),r.length>0&&I().createElement("div",{className:"detail-img-item-list"},r.map((C,H)=>I().createElement("div",{className:"detail-img-item-box",key:H.toString()},I().createElement("img",{onClick:()=>g(H),className:"detail-img-item",key:H.toString(),src:C})))),I().createElement(p.Z,(0,x.Z)({},A,{previewInfo:P})))}G.Z=W},22294:function(me,G,e){"use strict";var x=e(57663),m=e(71577),L=e(12924),w=e.n(L),I=e(38642);class p extends L.Component{constructor(f){super(f);this.state={}}backCommunityHome(){(0,I.eJ)({url:"/community"})}render(){var f=this.props.isShowHeader;return w().createElement("div",{className:"layer-layout-box"},f&&w().createElement("div",{className:"layer-layout-box-header"},w().createElement(m.Z,{onClick:this.backCommunityHome,type:"primary"},"\u8FD4\u56DE\u9996\u9875")),w().createElement("div",{className:"layer-layout-container"},this.props.children))}}p.defaultProps={isShowHeader:!1},G.Z=p},91072:function(me,G,e){"use strict";var x=e(71153),m=e(60331),L=e(12924),w=e.n(L),I=e(84874),p=e(27114);function W(f){var T=f.list,r=f.type;return w().createElement("div",{style:{marginBottom:"12px"}},T.length>0&&T.map(c=>w().createElement(p.Z,{to:"/community/topicDetail?type=".concat(r,"&tagName=").concat(c),key:c},w().createElement(m.Z,{style:{border:"none",borderRadius:"10px",cursor:"pointer"}},w().createElement(I.Z,{iconClass:"icon-icon_huati",color:"#1890FF",fontSize:"14px"}),w().createElement("span",{style:{fontSize:"14px",color:"#1890FF",marginLeft:"5px"}},c)))))}G.Z=W},9849:function(me,G,e){"use strict";e.d(G,{Ej:function(){return I},kL:function(){return p},T:function(){return W},NU:function(){return f},FL:function(){return T},fn:function(){return r},bm:function(){return c},jY:function(){return y},Vs:function(){return u},li:function(){return A},Nl:function(){return h},YF:function(){return R},Q6:function(){return s},zW:function(){return P},Zv:function(){return S},Qg:function(){return D},qc:function(){return g},Ve:function(){return C},rS:function(){return H},Rh:function(){return B}});var x=e(10237),m=e(37055),L=e(38642),w={zaraFlag:(0,L.UI)("ZARA_H5")};function I(j,U){var z=m.ZP.StudyProjectList.startStudy(j);return x.WY.post({url:z,data:U})}function p(j){var U=m.ZP.Common.enroll(j);return x.WY.post({url:U})}function W(j,U){var z=j.courseId,q=m.ZP.StudyProjectList.studyProject(z);return x.WY.get({url:q,params:U})}function f(j){var U=j.id,z=w.zaraFlag?m.m1.getAssessmentProjectInfo(U):m.m1.getProjectInfo(U);return x.WY.get({url:z})}function T(j){var U=j.courseId,z=m.ZP.EnterpriseCourse.addScanCount(U);return x.WY.post({url:z})}function r(){var j=m.ZP.StudyProjectList.getAccountInfo();return x.WY.get({url:j})}function c(j){var U=m.ZP.StudyProjectList.projectCertiUrl(j);return x.WY.get({url:U})}function y(j){var U=j.courseId,z=m.ZP.Courses.like(U);return x.WY.post({url:z})}function u(j){var U=m.ZP.EnterpriseCourse.addCommentAndScore();return x.qg.post({url:U,data:j})}function A(j){var U=m.ZP.EnterpriseCourse.getCourseComments();return x.WY.get({url:U,params:j})}function h(j){var U=m.ZP.EnterpriseCourse.addCommentAndScore();return x.qg.post({url:U,data:j})}function R(j){var U=m.ZP.EnterpriseCourse.deleteComment();return x.qg.post({url:U,data:j})}function s(j,U){var z=m.ZP.StudyProjectList.projectStudyRecord(j);return x.WY.get({url:z,params:U})}function P(j){var U=m.ZP.DingSpaceId.getSpaceId();return x.WY.get({url:U,params:j})}function S(j,U){var z=m.ZP.PlatformCourse.learningUrl(j);return x.WY.get({url:z,params:U})}function D(j){var U=m.ZP.MyExamTask.examIntro({examId:j});return x.WY.get({url:U})}function g(j){var U=m.ZP.MyExamTask.examCheckStatus({examId:j});return x.WY.get({url:U})}function k(j,U){var z=CONFIG.Common.getOperateLog(j);return formDataRequest.get({url:z,params:U})}function C(j,U){var z=w.zaraFlag?m.ZP.StudyProjectList.changeCustomStatus(j):m.ZP.StudyProjectList.changeStatus(j);return x.WY.post({url:z,data:U})}function H(j){var U=m.ZP.StudyProjectList.getProjectReward(j);return x.WY.get({url:U})}function B(j){var U=m.ZP.subsidyGz.subsidyCourseSetting(j);return x.WY.get({url:U})}},85384:function(me,G,e){"use strict";e.d(G,{Fx:function(){return L},No:function(){return w},O6:function(){return I}});var x=e(37055),m=e(10237);function L(p,W){var f=x.ZP.community.setArticleTop(p,W);return m.WY.put({url:f,data:{}})}function w(p,W,f){var T=x.ZP.community.setAnswerTop(p,W,f);return m.WY.put({url:T,data:{}})}function I(p,W,f){var T=x.ZP.community.setCommentTop(p,W,f);return m.WY.put({url:T,data:{}})}},91648:function(me,G,e){"use strict";e.d(G,{Z:function(){return x}});function x(m,L){var w,I,p,W,w;if(I="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),w=[],p=void 0,L=L||I.length,m)for(p=0;p<m;)w[p]=I[0|Math.random()*L],p++;else for(W=void 0,w[8]=w[13]=w[18]=w[23]="-",w[14]="4",p=0;p<36;)w[p]||(W=0|Math.random()*16,w[p]=I[p===19?W&3|8:W]),p++;return w.join("")}},67230:function(me,G,e){"use strict";e.d(G,{J7:function(){return r},y5:function(){return c},km:function(){return y}});var x=e(57361),m=e(9754),L=e.n(m),w=e(37055),I=e(10237);function p(u){return W.apply(this,arguments)}function W(){return W=(0,x.Z)(L().mark(function u(A){var h,R,s;return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=w.ZP.localStorage.getPravateDocUrl(A),S.prev=1,S.next=4,I.WY.get({url:h});case 4:if(R=S.sent,s=R.data,!(s.code===0&&s.data)){S.next=8;break}return S.abrupt("return",s.data.docResourceDownloadUrl||"");case 8:return S.abrupt("return","");case 11:return S.prev=11,S.t0=S.catch(1),S.abrupt("return","");case 14:case"end":return S.stop()}},u,null,[[1,11]])})),W.apply(this,arguments)}function f(u){return T.apply(this,arguments)}function T(){return T=(0,x.Z)(L().mark(function u(A){var h,R,s;return L().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=w.ZP.localStorage.getPravateVideoUrl(A),S.prev=1,S.next=4,I.WY.get({url:h,params:{type:"source"}});case 4:if(R=S.sent,s=R.data,!(s.code===0&&s.data)){S.next=8;break}return S.abrupt("return",s.data.videoPlayInfo||"");case 8:return S.abrupt("return","");case 11:return S.prev=11,S.t0=S.catch(1),S.abrupt("return","");case 14:case"end":return S.stop()}},u,null,[[1,11]])})),T.apply(this,arguments)}var r=u=>p(u),c=u=>f(u);function y(u){var A=w.ZP.Common.downloadUrl(u);return I.WY.get({url:A})}},69164:function(me,G,e){"use strict";var x=e(34792),m=e(48086);function L(w){w&&w.length>0&&m.default.success(w)}G.Z=L},65202:function(me,G,e){"use strict";e.d(G,{p:function(){return x}});function x(){return localStorage.getItem("themeColor")||"#516AE6"}},4412:function(me){me.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAACPCAYAAAD0gYXiAAAW/ElEQVR4Xu2dCZAcV3mA/9fHaGZ2V9qVdlejvbQ7O7NaWdqNTbgxlmVbxkeME3AcHJwqKhCC44AJV0zZjg8ScwRDqLIMwUnsJEAKF4aCGEIigyVjAthQMTLWbcnyCmmtY6/Znav7vT/190yvenp7prtHM5Lm6NLUaHve1f/X//W6+zWD5lazEmA1O/LmwKEJr4ZPgia8JrwalkAND72peU14NSyBGh56U/N8wkNE6ZVXXrlIUZQrEPG5vr6+H/tsomLFm/A8iHJ6enowlUptYYxdwTm/HABWIaJZ89uqqn4sEokc8tBURYs04TmIc2ZmpiOTyVwmhLiCgAkhYlTMBObwnQaALwaDwfu7u7vnK0qoRGNNeDkogZmZmTdrmmZoFyL+rhBCLgbMCs8G8igAfHJgYODfGWOLqlktmA0JDxHZ9PT0GCJuAQCC9VZEbHGCYgJ00rpimggAzwohbhsaGvp5tcBRuw0Hb3p6+osAcBMiribhu0FxBJRKA2Q1wOWtBfVtZUnzvp7JZG5ft27db6sBsaHgzc7OXiuEeKIYtKJmUteBvTwBbM8BkPYeBPbKEQBZBn3zm0G77GJAVTHYOIFmjJEP/AwiPjA0NES+sWJbw8BDRHV2dvY3iDhSwmflANDn2KsAew4YwNj+l4Fls45CxxXLIft7l4N+0RggnHZzDifIywDw8Wg0+q1K0WsYeHNzcx/lnH++aNQ4MwewZz/A7gM5aHMJXzIWg32Quf4q4P1rSkWlwBjbAQC3RaPRX/vqwKFwQ8BLJBLdnPN9ALCiQOt+OwnwzLMAu/fnNK0Cm/a634Hs1ZeBaGtZYkpNbWSMcUT8J0S8Kx6Pnyi324aANzc391VE/LMCU6ZzwPu+ADB5vFzZFa2HywKQvfxiyL719QCKAkKIxbI2k70tHo9fWe4A6h7e9PT0RbIsP2fmbabZFD/6CcA3v1eu3DzVEys7IHPdFaBtGClmSlOyLK8sN5Cpe3hzc3M7EPGSAl+XmAdx52cBkilPEM60kB4bhPR1W4BHupZAFEJsGRkZebKcPuoaXjKZ/ENd1x+zBynia48D7vhZOfIquw5KDFI3vxOyF8QLTCgifjYej99eTsN1C29iYiLU0dGxWwixtgDexFHgn/oCgKj67NUSHtqFGyB50/WG9lkmtn8Vi8Ve24RnkcDCwsJdQoj77Ikz//yXAfccKEdWZ1xHtLZA4s4PLWaD+bGJYDDY3dfXd8pvB3Wpeclksg8R9wghjHjdBCh+tRP4Q4/6lVFFy89/+H2gR7rsacQfxeNxw7z72eoV3teEEO+2mCbArAbanZ8BODnlRz4VL5u+9nLIXPIGu+l8OBaLvd9vZ3UHT9O0N2Wz2Z/SlQOryeTffxLEt3/gVz4VL6+NRCH53nfZ4b0ci8WG/HZWV/AIWCqV+gUivq4gGZ6ZBe2TnwbIZPzKpyLlWVsLKBvXgzq2HpT1cTiSSoKQcqK3WId4LBbz5YzrCl4qlXoPIj5ii+ZAe/jrIP73uYqA8NSIqoIyGgN1/AIDmDzYD0ySFqtO7t4DyWWBgpSBMXbL8PDwVzy1ny9UN/BOnDjR1trauhcR11i1Thw8DNqn6BJeFTfGDEAmLALHAqfh2HuenZyEqVSqwHQyxh4fHh6+wc8o6wZeJpMZFULstqcG2fu/BGLfQT8y8VRW6u4EZWx9DtjGUZDaWkvWo3HxiaOgvbAb0ocnYObqSxfNZn7M08PDw52MsdMToS4jqRt4dJypVGoCEftMX0JCyX5uKyBdNTjDjbWEQdk4etoURrpdW+RT06C/sBu0nbsNaDgzmwPGGCT+5q9AhJYV+D1Jkt4QjUafdW243swmHU8mk3mEc/4eKzz+xJOgP/6EV3mcLqcqoKyLGT7L8FvRtQV+y6lBkUqDvmsvaDt3GbDEkWNF+03e/A7QxkYLTKckSXdEo9H7vQ623jSPcruvmfDom3xeli79uG0MQF7bn4sIyRSOxoFZggqn6sg56PsPgfbCLtB37gb9wEEA7s3qZd/4Gkj9wVX2iertsVhss9tQzd/rCh7dVJROp49RyrAIUAhIf/AOgIXkEpmwzpWgjl0A6vh6UDeuB2lFm7vf+u0k6C/sypnCXXsB6GakMjaxqgMSn7hl0Wzm/V4mHA6v7OnpWTpYhz7qCh4dXzqd/rUQYtxqOrWtj4L45fPAwqGc38oHGvKa1a5iF5QjGj4rZwpxasa1jtcCidtvBd6+vMDvAcDVsVjsh17aqEd4DyDiRwqumu89AIHWVlCGB139FqYzoO3al4O1czeIiarctQeiYwXMf+zPARWlwHQyxu4eHh6+r1HhXY2IPyhIGRLzEF7tHB0afuullw2fZfguSis49yK7MyqTooBlfL3d5yWDweBob2/vhJfG607zEDGcyWSmhBBGHG5qYFDTQW5fYciEH51cjAj1F/cCnqUr6iYQPToAyQ/8id3f0d/3Dg8P3+MFHJWpO3h0UKlU6ilENLJgUwPZ7n3An33eMIV46txdWaAcL3nbe4H35PytxUJMhEKhUa/BSj3DuwMA/tbq9/hzz4O29RGvJ3XVymlveA2kb7hmidYxxv54aGjoP/x0XJeal81mX885p6sLp4U0vwAZShlOP1fnR04VKYvBZZC8/VYQLWG71v00Go1e7LeTuoSHiHI6nT6BiB1W05S59wHAQ6/4lVHFymffvgWyl7zRrnVCkqTXr1279ld+O6pLeCSEdDr9OCK+w6p92reeAP7ENr8yqkh50bUKUh//AGD+0pDlOt6/DA4OvrecTuoZ3i2I+JDV74ld+4yJ6nOxpd93E/D1udv+LGOaC4VCI6tXry7rXvt6hhdDxP0F+Z6uQ/bL/wp0I9LZ3PhoDDLvf/eSG24B4K/Xrl37uXLHUrfw8qbzkBBi0BaSg9i9H/RvfAfwCD2FXN2NzGTmE7eA6O60wzswMDCwgTHm/OyYh2HVO7yHEfF99tsijL85B77jZ8C/818A8wseRFVeEX3TG0H7/dzVA+vdbLIsX9/b23tGD0vUO7y3AcB3rbMtNp8DuJAE/t3/BvHjZwAsT/OUh6qwFraEIXPHhwBDQeMH82khSZK29fX1lf10kNlLXcPLm86YEIIu6F1XMFltyQENwR6dBPHN7wH+Zs8ZccOOdhDrhkGsiwKPRwFaw3at04UQF65du/bFM+qoXqfHnISSTqe3cM7/AQAuWKJ9FpMmdu4yIMKrHp95DAVBjEQB1w0DrouB6Fppjyjtvu7B/v7+D54pOKpf95pnFRIiKqlUilKIv0fEZQUzMFZN5BzEj54BpJzQfrFVlgGjA4CjMYDRGIj+XgCJlXyU2RIwnaJn4vv7+ysyudpQ8EiIx48fv0SW5e2yLDNZNtbJKb6cBz3H950fAhw6DEA52mgMMD4EEAgUmELHgMg6NZf/P2PsL3t7eyuWaDYUPFr07dSpU78EgIsMs8MYKIoCkiQVXU/Ffithqb+dfmOMzQohtgPAtp6enq/Q8+iVMJkNZzZPnTpFz6V/1S48gkdaSDCLmVIf0DTG2M+FEE/SZ9++fc9u3rxZrxQwazvnjeY99dRTfYFAYGtbW9vbq3KgjEF3d7cBqUhAA5xzWL58+aImegFGVhcAdiGiAUuSpO1na/G48wLe9u3b3wQAtPRhpq2tzXiStdLbihf2Qks4DPCW1wFYnhswfd7x48cNeAS3vb0dWlpaigYhuq6nZVmmxXC2EbSurq7qT9U4COScw3v66affwzknX7BMVdXD1YCnpDLQ/eCjwNIZwN41ADdeBzASXRTH/Pw8zM3NFYgnEAhAR0cH0Dcl15lMBpLJ5MmTJ092ptNpMrGU/N+8efPms7ZEo53fOYP32GOPyd3d3TQp+xFzUNWC1/nDHbDsucIFh/CijQDvvAZ4+wqKQAumrqxCUlUVNE0zdmWz2cPz8/OLloEx9gIAXL9p06azvlDqOQtY7rnnHunSSy/9PgBcZRNUxTUveGIKVv3j152voCsKzNz2p7AQzk1fuW12ePnyJxljV27atOn/3OpX+vdzonkvvvhia3d3t7G4l3Wylv4UQhSMyWuobrZla48azIEz/hUu7GbUsUSY1vEUCfux4G7s/Pg553eOjY39XaXhuLV3TuAdP368VZKkxBJB2+Ybi4ErCsqlvh2O3/6LwW0oeKR5kUhkEZ5ViE55lpPQvOyjtszczX4ieKlvnvlOE9rW+rquN47m0ZrOU1NTxgPi9qklN9NlN7VeoLhpsFubbvUbFl4pWE5w/cAqVd/LSeK1PgB8eHR09EtuPqrSv58Tn0eaNz09nbGbSyfzWUkhu2mQV1Nqb4cxduu6deseqjQct/bOKTwnc1XM/7kJ1ouWlmrbS/1iJ1LDwvNiNq1lstksLCwsFCxAav5OZ+JKkEDqWuV40lLd2dn8c+GWO6cpqKFpMZpNcfN/Rfx0Y2nezMyMY8BSyqfpug4nT54sak2W/2YftP3nNsDNbwG45jKA4Onkm9qluuZsiVMjy5YtA5pR8QrQUq4x4fnxaclkcskcpAlB1nRYvfXfgCXyU41trYDXvw3gTa81rnRT3ZmZ0k+1kvaFw7l7TooBdNI8MpvxeLxxfN7s7OxiwOLVF5HZm5pyvoNg5Y5fQOjpXyxVqIFeEDdeB6+2BJeYWnth0rpgXluLBVNOY21IeG5BiFN0SLP/pEXWLTCXgE7SOt35InXihmtgbr3xLqeiG12QJa2zX1UvNkarBjYcvLm5uSWa5zWHo0s0dO3NFKCcWAApf+OsPemn5YG17s4lZtBuFgmaFxNeJJ1pLLNphVeOBpYRVJT0ZX5SFIeyjQfPtGHFkmcvmlhKW5yCCy9tepk8sJVpwiulgaUEWi5AL2ay1Alg+a2x4CUSicU8z4vw3cykn6kvN2iUtDu9haRYPURsLHjz8/OuAUu5c51e8jQ3gMVOliLW4dbh4eHGyfOs8Lxqnt2EeQkySmlsBes3FryFhQVD87wI0EmT/GhOJTW4SL+NCc+rLzuLkaNjvudysjQePK/5nR9z6SdiLbd/ez0KWBrK55HZdMvzKqVtXn2qnxzQaoqFEI0FL5lMlp0q+PGT5YLz0ofZNs1tDg4ONk60WQyeqY1+8iy73/RjZksFQ141seHgpVKponmek7n0E12WW9/Bl5nnkmMQY9HOxtI8Kzy/gUO5vrAUHC9a5lQ/f19oY8FLp9OeZ1is/qccDfSajpQDkNomszkwMFB/Pm9qaoqWIvwLXdcv0TSti3N+Qtf1n65Zs+bGcoVVqXnMUhrs5SSxBix1BY9WXkgmk1/inN+iaRqjm4esn56eHs/JcKWEXO5Mi1vECgD1pXnpdHor55w0rgCa+Xdvb6/r8hdO5s5LCF8Kkpf6fhP9uoKnadrFiPi0k8ZZ4fkVkh8zWyVIxj0u5rgpnaEPIj7POf/nVCr16IYNG87ak7JVuWOac/4NXddvKqZ1tJ80z9zcoJQC4TVSPVM/SbcF0scEZn7TvTQWiK/quv6h0dFR3+9/LchJPP5RFXhCiCOapvUWg0cH7GQ2ywVRbfNKa7XQx7zxqRRAIQQ9IHrH+vXrP+2RQdnFqgKPc57RdT1QSvP6+ow3pS2aIDftc9PSatUnaOaiAh7hEWQC+K4NGzZUVQOrAs9N8whqf3+/r4DFiw/zUsZPCkBlzTuoi4FzMp/5sq8yxmLV9IFVgefm88hsmprnxxd50S4v/tErZLvWlQBV4AstfvCD4+PjD5ZtF10qVgWel2hzYGDAVfO8gPCrSV7AmWVCoZDxWLSLjzNuALaXyWvfk+Pj41tqCh4N1i3Pc4JXbsBSLcjmKkhWMHZQJcAR0KPj4+Onw+oKU6yK5uUhlJxhIXhOAYsJ0OtsSLHyXudDS/XX2tq6RKtcYC1qIJVDxOzY2FjuxbBV2KoCj9Yq2bdvX08mkxlub2+/MhAI0HrKcSFEq6Zp85qm7R8cHHwNvXnkfNM26wllDVa8+jurliLiSVVVLxwZGTnKGDu9CEyFQFYU3sGDB1enUil68wMt8VTyjIvFYh+VJMlYMtgKsJQmeAluvPjAUoGPtT49bGn3eU6aV2wfALzIGKP1remugcOhUGh/NBot6wUYTrzPGN7+/fuXCSGGhBAxWZZLv3TVMoKWlpb+SCRyFyK2Wk2c3yvopcB7CU6c6pv7rMl5Mc1zSiFMmIyxR1VV/R+b4OcQ8SVJkg7F4/HF+3jKUcay4U1OTraQliHigBAiN+HnsplrXZqPZ7W2tna2t7dfyxgjB7jYhk+YdAwsv6xU7jt3hVSi/yO1i8AQkPYtlhUCpdw+WmcbGa23Y5RHkauX39/W1tZOV0j85nmIOK0oyq2SJKVMsViPX5IkwRh7hbQxEomU9WIH3/Bo6an5+flhxljkfFhgXJIkhTGmIKKa+5ZUxoTxjUjfqJLwcx+mInIFABWdiwCC8bsiBCpC5yrtFwiK4JoqBCgCudrR3t4XiUQu5JwzH34PJUn6dCAQ+InbCZ1bRwgnU6nUS34Tes/w6CCPHDkyiIg9jM7sEhvNoFg3Mj/Wrdjv9v3FurC2xzmXA4EAaYZKH0lSjf9LElOE0FXOCV4OKM+DBAEqMlS4pqkCqB6oIHiuDRSK4Ej7FeRC5ZyrkcjqkY6OjnUmwFLpApEAgIdVVf2GOX4vx0/HTqlFNBo9xBjztKyxJ3iTk5PdmUymPxAIOK/x63J6eYVlP0gPZy1ZSNIIVQimShKqTFEMCKRxBkSU6NvQQAOeAZOrKDFF17QAlWGkfQRRz50A9OEoVBBC4VxQGaW9fUV/Z+eqDRSIFcv7EPEUY+yBcDj8o3JO1vzkty7L8pFIJHLc7fhLwiNtm5yc7GOMeQ5E3Dqsxu9kOjmXVEniqiQRLPpwVbAcPGOSPA/UMKOcq8hIM3mA/i8AjH2L4AwN5CqBQ2qHG54zoUhysre3p0VRlI1CiGFd1+nlitOc85cA4KlgMEjvBvL0gno3OSBiIhKJHCmlhUXhHT16NBwOh1dns9lCm+fW6zn4nbEgkySNTFyAS5IqcQNeAFGoTJVU1ISqaVqAwOqY00oqC3mQBBck0JBDGplIyoxRADGvBINzKmNz4XD4rF1gtYovEAjoyWTy1WIvAXaER6+rnpqaoveqeDKr54DXki51XVYJoCzLAdJCxpgqRCaQ00IyfVyWJJkjIhdCaEJkNQA1raqBZCgkJ4U1RzkfDig/hlAohKFQaIoxtkSjl8BBxJZkMrmc6iaTSUd44XDYcbbALF/sd1MmfsvZZenUfjqdljVNUyUpJMOy/EmXAQyQYeRcDwaDi0FANfq3yqsax9/Z2TnLchZhcSuAMzExEWpvb28rBo0maq0brQHmZzPrF6tnHnSzf2el6e7unmOMLeaNi/DIDyQSiRV+YDTLnn0JtLW1kQYay80b8PKzE8tnZ2cdZ0oSiYSj+Wxrayswn2Y5r/vNQzfzxnyOtEQizf5Py7+lpYV3dHSQBhrTRXDo0KHgihUrqnbp4uyfn/XdI63bNjQ0lDbg0ZRXV1eX5yM+caLwxYBe65Zbzz6wctspt9752D+9r4gmY5Vjx47lVgm1bWvWrCkwi8eOHTNgF9vvmb7Hgs3+S8pfI3i0Oqjh6w4cOOBJrLFY4Qp6Zj37fk+NWQo1+/clf2Fonl8hN8ufHxIgeNK9995bMJq77777rI6u2X958q+Z6a+zejbVSGdNeDUCymmYTXhNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjoTc1rwqthCdTw0Jua14RXwxKo4aE3Na8Jr4YlUMNDb2peE14NS6CGh97UvCa8GpZADQ+9qXlNeDUsgRoeelPzmvBqWAI1PPSm5jXh1bAEanjo/w+0S4IKs9Wq0AAAAABJRU5ErkJggg=="}}]);
