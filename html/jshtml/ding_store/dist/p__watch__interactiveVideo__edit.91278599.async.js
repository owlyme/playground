(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[6933],{87312:function(ue,k,e){"use strict";var f=e(12924),l=e.n(f),U=e(91768),Q=C=>{var T=C.t;return l().createElement("div",{className:C.className?"".concat(C.className," no-result"):"no-result"},l().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886702513426432.png"),className:"no-data-img",alt:""}),l().createElement("p",{className:"no-data-tip"},C.tipText||T("common.empty")))};k.Z=(0,U.Z)()(Q)},36202:function(ue,k,e){"use strict";e.d(k,{f:function(){return F}});var f=e(62029),l=e(57361),U=e(33565),Q=e(9754),C=e.n(Q),T=e(12924),x=e.n(T),N=e(28175),L=e(41647),p=e(93485);function t(y){var P={};if(y.length===0)return P;var d=(0,p.Z)(y),i;try{for(d.s();!(i=d.n()).done;){var g=i.value,E=g,S=E.field,Z=E.fixed,z=E.order,O=E.show;O?O==="true"||O===!0?P[S]={fixed:Z,order:z,show:!0}:P[S]={fixed:Z,order:z,show:!1}:P[S]={fixed:Z,order:z,show:!0}}}catch(K){d.e(K)}finally{d.f()}return P}function s(y){var P=[],d=Object.entries(y);if(d.length===0)return P;for(var i=0,g=d;i<g.length;i++){var E=g[i],S=(0,U.Z)(E,2),Z=S[0],z=S[1],O=z.fixed,K=z.order,m=z.show;P.push({field:Z,show:m,fixed:O,order:K})}return P}var _=e(38642),B=(y,P)=>{var d=(0,T.useState)(y),i=(0,U.Z)(d,2),g=i[0],E=i[1];return(0,T.useEffect)(()=>{var S=setTimeout(()=>{E(y)},P);return()=>{clearTimeout(S)}},[y,P]),g},c=B;function W(y,P){var d=useRef(P);useEffect(()=>{d.current=P},[P]),useEffect(()=>{var i=g=>{var E,S;console.warn(y.current,"node.current",g.target),!((E=(S=y.current)===null||S===void 0?void 0:S.contains(g.target))!==null&&E!==void 0?E:!1)&&d.current&&d.current()};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[y])}var R=!1;function F(y){var P=(0,T.useState)({}),d=(0,U.Z)(P,2),i=d[0],g=d[1],E=y.prefixCls,S=y.rowKey,Z=y.columnEmptyText,z=y.pagination,O=y.headerTitle,K=y.toolBarRender,m=y.size,v=y.loading,u=v===void 0?!1:v,r=y.tableUUID;r||console.error("tableUUID is required!!!"),(0,T.useEffect)(()=>{function b(q){return j.apply(this,arguments)}function j(){return j=(0,l.Z)(C().mark(function q(Y){var G,M,ne,J,n,o,H,he;return C().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,_.Kb)((0,L.U)(Y));case 2:if(G=re.sent,M=(0,U.Z)(G,2),ne=M[0],J=M[1],!ne){re.next=8;break}return re.abrupt("return");case 8:n=J.data,o=n.data,H=o.fields,he=t(H)||{},he&&(R=!1,g(he));case 13:case"end":return re.stop()}},q)})),j.apply(this,arguments)}return r&&b(r),()=>{R=!1}},[r]);var a=c(i,1e3);(0,T.useEffect)(()=>{!R||(0,L.I)(r,s(i))},[a]);function h(b){R=!0,g(b)}return x().createElement("div",{className:"SampleProTable_container ".concat(y.className)},x().createElement(N.ZP,(0,f.Z)({size:m||"middle",rowKey:S||"id",columnEmptyText:Z||!1,pagination:z||!1,options:{density:!1,fullScreen:!1,reload:!1,setting:!0},search:!1,loading:u,headerTitle:O||"",toolBarRender:K||null,columnsStateMap:i,onColumnsStateChange:h},y,{className:"".concat(E,"-table")})))}},41647:function(ue,k,e){"use strict";e.d(k,{I:function(){return U},U:function(){return Q}});var f=e(37055),l=e(10237);function U(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=f.ZP.tableHeader.save(),N={fields:T,key:C};return l.WY.post({url:x,data:N})}function Q(C){var T=f.ZP.tableHeader.get(C);return l.WY.get({url:T})}},55285:function(ue,k,e){"use strict";e.d(k,{Z:function(){return z}});var f=e(20228),l=e(11382),U=e(62029),Q=e(88986),C=e(22385),T=e(31097),x=e(57361),N=e(33565),L=e(9754),p=e.n(L),t=e(12924),s=e.n(t),_=e(91768),B=e(28216),c=e(93485),W=e(38642);function R(O){var K={};if(O)for(var m=0,v=Object.entries(O);m<v.length;m++){var u=v[m],r=(0,N.Z)(u,2),a=r[0],h=r[1];K["user_info_".concat((0,W.FI)(a))]=h}return K}function F(O){if(!Array.isArray(O))return[];var K=O.map(m=>{var v=m.user_info,u=m.userInfo,r={},a=v||u;if(a){var h=a.extendList,b=a.extend_list,j=h||b||[];if(j.length>0){var q=(0,c.Z)(j),Y;try{for(q.s();!(Y=q.n()).done;){var G=Y.value,M=G.columnKey,ne=G.column_key,J=G.extendValue,n=G.extend_value;r["user_info_".concat((0,W.FI)(M||ne))]=J||n}}catch(o){q.e(o)}finally{q.f()}}}return(0,Q.Z)((0,Q.Z)((0,Q.Z)({},m),r),R(a))});return K}function y(O,K){for(var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",v=O.slice(0).reverse(),u=0;u<v.length;u+=1)for(var r=u+1;r<v.length;r+=1)v[u][K]===v[r][K]&&(v.splice(r,1),r-=1);return m==="right"?v.reverse():v}var P=e(17215),d=e(36202),i=e(6793),g=e(9925),E=e(6934),S=O=>({userInfo:O.user}),Z=(0,t.forwardRef)((O,K)=>{var m=O.tableUUID,v=O.withLoginPhoneNumber,u=O.withCustomField,r=O.withLoginEmail,a=O.withJoinTime,h=O.onlyShowCurrentDept,b=(0,t.useState)([]),j=(0,N.Z)(b,2),q=j[0],Y=j[1],G=(0,t.useState)([]),M=(0,N.Z)(G,2),ne=M[0],J=M[1],n=(0,t.useState)(!1),o=(0,N.Z)(n,2),H=o[0],he=o[1];m||console.error("tableUUID is required!!!"),(0,t.useImperativeHandle)(K,()=>({getColumns:()=>q})),(0,t.useEffect)(()=>{function re(){return pe.apply(this,arguments)}function pe(){return pe=(0,x.Z)(p().mark(function We(){var fe,Ee,ge,ae,le;return p().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return he(!0),ce.next=3,(0,W.Kb)((0,P.h)());case 3:if(fe=ce.sent,Ee=(0,N.Z)(fe,2),ge=Ee[0],ae=Ee[1],!ge){ce.next=10;break}return he(!1),ce.abrupt("return");case 10:le=ae.data,u||(le=le.filter(me=>Object.keys(me)[0].indexOf("column")===-1)),r||(le=le.filter(me=>Object.keys(me)[0].indexOf("loginEmail")===-1)),a||(le=le.filter(me=>Object.keys(me)[0].indexOf("joinTime")===-1)),he(!1),J(le);case 16:case"end":return ce.stop()}},We)})),pe.apply(this,arguments)}re()},[]),(0,t.useEffect)(()=>{var re=ne.map((fe,Ee)=>{var ge=(0,N.Z)(Array.from(Object.entries(fe))[0],2),ae=ge[0],le=ge[1];return O.nameColumn&&Ee===0?O.nameColumn:ae==="name"?{title:le,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,fixed:"left",render:(ie,ce)=>s().createElement(T.Z,{title:s().createElement(g.Z,{userId:ce.user_info.id,userName:ie})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},ce.user_info&&s().createElement(g.Z,{userId:ce.user_info.id,userName:ie}),!ce.user_info&&ie))}:ae==="deptName"||ae==="dept_name"?{title:le,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,fixed:"left",render:(ie,ce)=>{var me=ce.user_info,ye=me.department_infos,Ne=me.department_info;return ie?s().createElement(T.Z,{title:s().createElement(E.P,{allDepartmentsList:ye||[]})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},s().createElement(E.P,{allDepartmentsList:(h?Ne:ye)||[]}))):"--"}}:ae==="joinTime"?{title:le,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,render:ie=>s().createElement(T.Z,{title:ie?(0,i.p6)(ie,"yyyy-MM-dd hh:mm:ss"):"--"},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},ie?(0,i.p6)(ie,"yyyy-MM-dd hh:mm:ss"):"--"))}:{title:le,dataIndex:"user_info_".concat(ae),key:"user_info_".concat(ae),width:150,render:ie=>s().createElement(T.Z,{title:ie},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},ie||"--"))}}),pe=O.columns.map(fe=>fe.dataIndex==="creator_user_name"?(0,Q.Z)((0,Q.Z)({},fe),{},{render:(Ee,ge)=>s().createElement(T.Z,{title:s().createElement(g.Z,{userId:ge.creator_sync_user_id,userName:Ee})},s().createElement("div",{className:"cl-text-ellipsis",style:{width:140}},s().createElement(g.Z,{userId:ge.creator_sync_user_id,userName:Ee})))}):fe),We=O.headExtra.concat(re).concat(v?[{title:O.t("setting.loginPhoneNumber"),key:"user_info_loginMobile",dataIndex:"user_info_loginMobile",width:150,render:fe=>fe||"--"}]:[]).concat(pe);Y(We)},[O.headExtra,O.columns,O.nameColumn,ne,O.userInfo.appType]);var Ae=(0,t.useMemo)(()=>F(O.dataSource),[O.dataSource]);return s().createElement(l.Z,{spinning:H},s().createElement(d.f,(0,U.Z)({scroll:{y:O.y||"100%",x:O.x||"max-content"}},O,{columns:q,dataSource:Ae})))});Z.defaultProps={dataSource:[],headExtra:[],columns:[],nameColumn:null,namedType:"underLine",withLoginPhoneNumber:!1,withCustomField:!0,withLoginEmail:!0,withJoinTime:!0,onlyShowCurrentDept:!1};var z=(0,B.$j)(S,null,null,{forwardRef:!0})((0,_.Z)("translation",{withRef:!0})(Z))},17215:function(ue,k,e){"use strict";e.d(k,{h:function(){return U}});var f=e(37055),l=e(10237);function U(){var Q=f.ZP.getUserInfoColumnConfig();return l.WY.get({url:Q})}},6934:function(ue,k,e){"use strict";e.d(k,{P:function(){return R}});var f=e(12924),l=e.n(f),U=e(18446),Q=e.n(U),C=e(57361),T=e(33565),x=e(9754),N=e.n(x),L=e(28216);function p(F){var y=F.openid,P=(0,f.useRef)(null);return(0,f.useLayoutEffect)(()=>{var d=window.parent.WWOpenData;d&&d.bind(P.current)}),l().createElement("ww-open-data",{ref:P,type:"departmentName",openid:y})}var t=e(14441),s=F=>{var y=F.separator,P=F.departmentIds,d=F.departmentNames,i=F.appType,g=(0,f.useState)([]),E=(0,T.Z)(g,2),S=E[0],Z=E[1];(0,f.useEffect)(()=>{i==="wx_app"&&z()},[P]);function z(){return O.apply(this,arguments)}function O(){return O=(0,C.Z)(N().mark(function v(){var u,r,a;return N().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,t.t)(P);case 2:u=b.sent,r=u.code,a=u.data,r==="200000"&&a&&Z(a);case 5:case"end":return b.stop()}},v)})),O.apply(this,arguments)}function K(){return S.length?l().createElement(l().Fragment,null,S.map((v,u)=>v.hasName?l().createElement(l().Fragment,null,v.name,u===d.length-1?"":y):l().createElement(l().Fragment,null,l().createElement(p,{openid:v.thirdId}),u===d.length-1?"":y," "))):null}function m(){var v="";return d.forEach((u,r)=>{v+=u+(r===d.length-1?"":y)}),l().createElement(l().Fragment,null,v)}switch(i){case"wx_app":return K();default:return m()}};s.defaultProps={departmentIds:[],departmentNames:[],separator:","};var _=F=>({appType:F.user.appType}),B=l().memo((0,L.$j)(_)(s)),c=F=>{var y=F.allDepartmentsList,P=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{department_ids:[],department_names:[]},g=i.department_ids.split("/"),E=i.department_names.split("/");return l().createElement(B,{departmentNames:E,departmentIds:g,separator:"/"})};return y.length?l().createElement(l().Fragment,null,y.map((d,i)=>l().createElement("span",{key:d.department_ids},P(d),i===y.length-1?"":"\uFF0C"))):null};c.defaultProps={allDepartmentsList:[]};function W(F,y){return Q()(F,y)}var R=l().memo(c,W)},99367:function(ue,k,e){"use strict";var f=e(62029),l=e(57361),U=e(30887),Q=e(99210),C=e(59250),T=e(13013),x=e(22385),N=e(31097),L=e(34792),p=e(48086),t=e(88986),s=e(33565),_=e(81211),B=e(9754),c=e.n(B),W=e(12924),R=e.n(W),F=e(91768),y=e(28216),P=e(57254),d=e(50361),i=e.n(d),g=e(7304),E=e.n(g),S=e(55285),Z=e(38642),z=e(36202),O=e(37055),K=e(86726),m=(0,W.forwardRef)((u,r)=>{var a=u.t,h=u.modules,b=u.userId,j=u.isAdmin,q=u.uniKey,Y=u.queryParams,G=u.queryParam,M=u.pagerConfig,ne=u.rowSelection,J=u.pagination,n=u.toolBarRender,o=u.headerTitle,H=u.footerRightRender,he=u.uuid,Ae=u.collapsed,re=u.showUserInfo,pe=u.loadComplete,We=u.sortFormate,fe=u.themeColor,Ee=u.loadingHttp,ge=u.from,ae=(0,_.Z)(u,["t","modules","userId","isAdmin","uniKey","queryParams","queryParam","pagerConfig","rowSelection","pagination","toolBarRender","headerTitle","footerRightRender","uuid","collapsed","showUserInfo","loadComplete","sortFormate","themeColor","loadingHttp","from"]),le=(0,K.V9)(q,h),ie=(0,W.useRef)(),ce=(0,W.useState)([]),me=(0,s.Z)(ce,2),ye=me[0],Ne=me[1],Xe=(0,W.useState)([]),Ke=(0,s.Z)(Xe,2),Ue=Ke[0],Qe=Ke[1],Me=(0,W.useState)(0),De=(0,s.Z)(Me,2),et=De[0],ze=De[1],Fe=(0,W.useState)(!1),Ye=(0,s.Z)(Fe,2),ke=Ye[0],je=Ye[1],tt=(0,W.useState)(!0),Ve=(0,s.Z)(tt,2),at=Ve[0],He=Ve[1],Pe=(0,W.useState)({pageSize:10,current:1,total:0}),Ze=(0,s.Z)(Pe,2),oe=Ze[0],Ie=Ze[1],Re=(0,W.useState)({pageSize:"page_size",pageIndex:"page_number"}),Se=(0,s.Z)(Re,2),_e=Se[0],nt=Se[1],st=(0,W.useState)({}),xe=(0,s.Z)(st,2),rt=xe[0],lt=xe[1],it=(0,W.useState)({}),Ge=(0,s.Z)(it,2),we=Ge[0],be=Ge[1];(0,W.useEffect)(()=>{if(M&&JSON.stringify(M)!=="{}"){if((M.pageSize||M.pageIndex)&&nt({pageSize:M.pageSize||_e.pageSize,pageIndex:M.pageIndex||_e.pageIndex}),(M.pageSizeNum||M.pageIndexNum)&&Ie((0,t.Z)((0,t.Z)({},oe),{},{pageSize:M.pageSizeNum||oe.pageSize,current:M.pageIndexNum||oe.current})),G&&JSON.stringify(G)!=="{}"){var A={};Object.keys(G).forEach(w=>{A[w]=G[w]}),be((0,t.Z)((0,t.Z)({},A),{},{[M.pageSize||_e.pageSize]:M.pageSizeNum||oe.pageSize,[M.pageIndex||_e.pageIndex]:M.pageIndexNum||oe.current}))}}else if(G&&JSON.stringify(G)!=="{}"){var D={};Object.keys(G).forEach(w=>{D[w]=G[w]}),be((0,t.Z)((0,t.Z)({},D),{},{[_e.pageSize]:oe.pageSize,[_e.pageIndex]:oe.current}))}else be({[_e.pageSize]:oe.pageSize,[_e.pageIndex]:oe.current})},[]);var ot=(0,W.useState)({}),Je=(0,s.Z)(ot,2),ut=Je[0],qe=Je[1];(0,W.useEffect)(()=>{var A;if(typeof J=="boolean")J?A=(0,t.Z)((0,t.Z)({},O.XE.INITIAL_PAGINATION),oe):A=!1;else if(typeof J=="object")A=(0,t.Z)((0,t.Z)({},J),oe);else return Error("pagination param is not correct");lt(A)},[J,oe]),(0,W.useImperativeHandle)(r,()=>({load:A=>{var D=oe.pageSize;M&&JSON.stringify(M)!=="{}"&&M.pageSizeNum&&(D=M.pageSizeNum),Ie((0,t.Z)((0,t.Z)({},oe),{},{pageSize:D,current:1})),be(w=>(0,t.Z)((0,t.Z)((0,t.Z)({},w),A),{},{[_e.pageIndex]:1}))},clear:()=>{Qe([]),Ie((0,t.Z)((0,t.Z)({},oe),{},{current:1,total:0}))},getDataList:()=>Ue,getColumns:()=>ie.current?ie.current.getColumns():G,getTotal:()=>et})),(0,W.useEffect)(()=>{!ke&&Ue.length&&u.onChangeData&&u.onChangeData()},[ke,Ue]);var ct=(A,D,w)=>{var se={};for(var de in D)if(Object.prototype.hasOwnProperty.call(D,de)){var $e=D[de]?D[de].join(","):"";se[de]=$e==="all"?"":$e}if(We)se=(0,t.Z)((0,t.Z)({},se),We(w));else for(var Ce in w)Object.prototype.hasOwnProperty.call(w,Ce)&&(se[Ce]=w[Ce]);qe(D||{}),Ie((0,t.Z)((0,t.Z)({},oe),{},{pageSize:A.pageSize,current:A.current})),be(Te=>(0,t.Z)((0,t.Z)({},Te),{},{[_e.pageSize]:A.pageSize,[_e.pageIndex]:A.current},se))};(0,W.useEffect)(()=>{var A=[];Y.columns.forEach(D=>{D.key==="operate"?A.push((0,t.Z)((0,t.Z)({dataIndex:D.key},D),{},{render:(w,se)=>ee(D,se)})):(0,Z.oL)(D.filters)==="array"&&D.filters.length>0?A.push((0,t.Z)({filteredValue:ut[D.key]||[D.filters[0].value],dataIndex:D.key},D)):A.push((0,t.Z)({dataIndex:D.key},D))}),Ne(A)},[ee,Y.columns,we]),(0,W.useEffect)(()=>{je(!0),JSON.stringify(we)!=="{}"&&I(we)},[we]);var I=A=>{Y.query(A).then(D=>{je(!1),D.data.code&&+D.data.code==2e5?(Qe(D.data.data.list||[]),ze(D.data.data.total*1),Ie((0,t.Z)((0,t.Z)({},oe),{},{total:D.data.data.total*1})),He(!0),typeof Y.successBack=="function"&&Y.successBack(D.data.data),pe&&pe(D.data)):(Qe([]),Ie((0,t.Z)((0,t.Z)({},oe),{},{total:0})))}).catch(D=>{D.code==="503014"&&Ee&&(p.default.warning(a("component.dataLoadingTip")),setTimeout(()=>{I(A)},2e3))})},$=(A,D)=>{var w=!1;switch(typeof A.disabled){case"function":w=A.disabled(D);break;case"boolean":w=A.disabled;break;default:w=!1;break}return w},X=(A,D,w)=>typeof D.tooltips=="object"?D.tooltips.normal&&!w?R().createElement(N.Z,{placement:"top",title:D.tooltips.normal},A):D.tooltips.disable&&w?R().createElement(N.Z,{placement:"top",title:D.tooltips.disable},A):A:A,V=(0,W.useCallback)((A,D)=>A.filter(w=>{var se=w.checkAuth||!1;return se?(0,K.H3)(w.key,le)||D.creatorId===b||j:!0}),[le,j,b]),ee=(0,W.useCallback)((A,D)=>{var w=i()(A.buttons),se=w.filter(Le=>typeof Le.visible=="function"?Le.visible(D):Le),de=A.visibleNum||1;de>2&&(de=2);var $e=[],Ce=[];se.length>0&&(Ce=[...se.slice(0,de)],$e=[...se.slice(de)]);var Te=[],Be=[];if(Te=V(Ce,D),Be=V($e,D),Te.length!==Ce.length){var ft=Ce.length-Te.length;Te=[...Te,...Be.slice(0,ft)],Be=[...Be.slice(ft)]}return R().createElement("div",{className:"cl-table__cell-action"},Te.length?Te.map((Le,ht)=>{var dt=$(Le,D);return Le.render?Le.render(D):X(R().createElement(R().Fragment,null,R().createElement("a",{key:ht,className:"cl-table_cell-list ".concat(E().cl_pointer_btn," ").concat(dt?"table_disable_cell_list ".concat(E().operate_btn_disabled):""," "),onClick:()=>Oe({item:Le,record:D},dt)},Le.name),Be.length>0&&R().createElement("span",{className:E().cl_pointer_divide})),Le,dt)}):null,Be.length?Be.length>1?R().createElement(T.Z,{overlay:ve(Be,D)},R().createElement("span",{className:E().cl_pointer_btn,style:{color:fe}},a("common.more"),R().createElement(P.Z,null))):te(Be[0],D):null)},[ve,Oe,V,te,a]),te=(0,W.useCallback)((A,D)=>{var w=$(A,D);return A.render?A.render(D):X(R().createElement("a",{key:A.key,className:"cl-table_cell-list ".concat(E().cl_pointer_btn," ").concat(w?"table_disable_cell_list ".concat(E().operate_btn_disabled):""," "),onClick:()=>Oe({item:A,record:D},w)},A.name),A,w)},[Oe]),ve=(0,W.useCallback)((A,D)=>R().createElement(Q.Z,null,A.map((w,se)=>{var de=$(w,D);return w.render?w.render(D):R().createElement(Q.Z.Item,{key:se,disabled:de,onClick:()=>Oe({item:w,record:D},de)},X(R().createElement("span",null,w.name),w,de))})),[Oe]),Oe=(0,W.useCallback)((A,D)=>{var w=A.item,se=A.record;D||(Y.operateHandles&&Y.operateHandles({type:w.key,record:se}),w.handleClick&&w.handleClick(se))},[Y]),mt=Ae?"59px":"219px",_t=()=>ne?R().createElement("div",null,ne.selectedRowKeys&&ne.selectedRowKeys.length&&H?R().createElement("div",{className:E()["table-extra"],style:{left:mt,width:"calc(100% - ".concat(mt,")")}},R().createElement("span",{className:"table-selected-count"},a("component.selected"),ne.selectedRowKeys.length,a("component.itemUnit")),R().createElement("div",{className:"table-extra-action"},H())):null):null,vt=re?S.Z:z.f;return R().createElement("div",{className:at?"":E()["pagination-config"]},R().createElement(vt,(0,f.Z)({ref:ie,rowSelection:ne,style:{"margin-bottom":ne?"20px":"0"},dataSource:Ue,columns:ye,scroll:{x:"max-content"},pagination:rt,loading:ke,toolBarRender:n,headerTitle:o,request:function(){var A=(0,l.Z)(c().mark(function D(w,se,de){return c().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:ge==="interactiveVideo"&&de&&Y&&Array.isArray(Y.columns)&&Y.columns.length>1&&de.type===null&&Y.columns[1].key==="type"&&(de.type=[Y.columns[1].filters[0].value]),ct(w,de,se);case 2:case"end":return Ce.stop()}},D)}));return function(D,w,se){return A.apply(this,arguments)}}(),tableUUID:he},ae)),_t())}),v=u=>{var r=u.user,a=u.sideBar,h=u.advancedSetting;return{userId:r.id||window.localStorage.getItem("uid"),isAdmin:r.isAdmin,modules:r.modules,collapsed:a.collapsed,themeColor:h.themeColor}};k.Z=(0,y.$j)(v,null,null,{forwardRef:!0})((0,F.Z)("translation",{withRef:!0})(m))},48479:function(ue,k,e){"use strict";var f=e(62029),l=e(57361),U=e(47673),Q=e(4107),C=e(9754),T=e.n(C),x=e(12924),N=e.n(x),L=e(91768),p=e(94184),t=e.n(p),s=e(28216),_=e(84874),B=e(67222),c=e(2396),W=Q.Z.Search;class R extends N().Component{constructor(y){var P;super(y);P=this,this.clear=()=>{this.setState({searchValue:""})},this.renderEnterButton=()=>N().createElement(_.Z,{iconClass:"icon-icon_serarchx1"}),this.handleSearch=function(){var d=(0,l.Z)(T().mark(function i(g){var E,S,Z,z,O,K,m,v,u;return T().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(E=P.props,S=E.appType,Z=E.exChange,z=E.appId,O=localStorage.getItem("qyWechatBook"),K="",m=S==="wx_app"&&O==="true"&&Z&&z==="9005",!(g&&m)){a.next=17;break}return a.prev=5,a.next=8,(0,B.F_)(g);case 8:v=a.sent,u=v.data,u.success?K=u.data:K="",a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),console.error(a.t0),K="";case 17:P.props.onSearch(g,K);case 18:case"end":return a.stop()}},i,null,[[5,13]])}));return function(i){return d.apply(this,arguments)}}(),this.handleChange=d=>{var i=d.target.value,g=d.type,E=i;this.props.LimitLength&&(0,c.$s)(i)>this.props.LimitLength&&(E=i.substring(0,(0,c.rw)(i,this.props.LimitLength))),this.setState({searchValue:E});var S=!1;this.props.onSearch&&(g==="click"&&(S=!0),this.props.immediate&&g==="change"&&(S=!0)),S&&this.handleSearch(i)},this.state={searchValue:""}}componentDidMount(){this.props.onRef&&this.props.onRef(this)}componentWillReceiveProps(y){y.onRef&&y.onRef(this)}render(){var y=this.state.searchValue,P=this.props,d=P.prefixCls,i=P.placeholder,g=P.width,E=P.maxLength,S=E===void 0?400:E,Z=P.height,z=P.immediate,O=P.value,K=t()(["".concat(d)]),m={width:g,height:Z},v={};return O&&(v.value=O),N().createElement(W,(0,f.Z)({className:K,style:m,value:y,placeholder:i,onSearch:this.handleSearch,onChange:this.handleChange,maxLength:S,allowClear:!0,defaultValue:O,immediate:z.toString()},v))}}R.defaultProps={prefixCls:"cl-search-input",placeholder:"Search",value:null,onSearch:()=>{},onChange:()=>{},immediate:!1,onRef:()=>{}},k.Z=(0,s.$j)(F=>({appType:F.user.appType,appId:F.user.appId}))((0,L.Z)()(R))},9925:function(ue,k,e){"use strict";var f=e(57361),l=e(33565),U=e(9754),Q=e.n(U),C=e(12924),T=e.n(C),x=e(28216),N=e(14441),L=t=>{var s=t.userId,_=t.userName,B=t.appType,c=(0,C.useRef)(null),W=(0,C.useState)(""),R=(0,l.Z)(W,2),F=R[0],y=R[1],P=(0,C.useState)(""),d=(0,l.Z)(P,2),i=d[0],g=d[1],E=(0,C.useState)(!0),S=(0,l.Z)(E,2),Z=S[0],z=S[1];(0,C.useEffect)(()=>{B==="wx_app"&&(s?O():(console.warn("userId is required"),g(_)))},[s]);function O(){return K.apply(this,arguments)}function K(){return K=(0,f.Z)(Q().mark(function v(){var u,r,a,h,b,j,q,Y,G,M;return Q().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.prev=0,J.next=3,(0,N.v)(s);case 3:u=J.sent,r=u.code,a=u.data,r==="200000"&&a&&(h=a.hasName,b=h===void 0?!0:h,j=a.sourceType,q=a.name,Y=q===void 0?"":q,G=a.thirdId,z(b),b?g(Y):j==="wx_sync"&&(y(G),M=window.parent.WWOpenData,M&&M.bind(c.current))),J.next=12;break;case 8:J.prev=8,J.t0=J.catch(0),console.error(J.t0,"error"),g(_);case 12:case"end":return J.stop()}},v,null,[[0,8]])})),K.apply(this,arguments)}function m(){return Z?i:T().createElement("ww-open-data",{ref:c,type:"userName",openid:F})}switch(B){case"wx_app":return m();default:return _}};L.defaultProps={userName:""};var p=t=>({appType:t.user.appType});k.Z=T().memo((0,x.$j)(p)(L))},12378:function(ue,k,e){"use strict";var f=e(62999),l=e(85733),U=e(12924),Q=e.n(U),C=e(91768),T=e(56130);class x extends Q().PureComponent{constructor(L){super(L);this.componentDidUpdate=p=>{p.refreshData!==this.props.refreshData&&this.props.refreshData&&this.props.refresh()},this.onChange=(p,t)=>{this.setState({value:p}),this.props.onChange(p,t)},this.state={value:void 0}}render(){var L=this.state.value,p=this.props,t=p.classify,s=p.defaultValue,_=p.bindValue,B=p.t,c=p.multiple,W=p.allowClear,R=p.placeholder,F=p.disabled,y=p.className,P=y===void 0?"":y;return Q().createElement("div",{className:"classify-tree-select ".concat(P)},Q().createElement(l.Z,{value:_?s===""?void 0:s:L||(s===""?void 0:s),treeDataSimpleMode:!0,showSearch:!0,dropdownStyle:{maxHeight:300,overflow:"auto"},treeNodeFilterProp:"name",treeData:t,placeholder:R||B("component.selectClassifyLabel"),onChange:this.onChange,showArrow:!0,multiple:c,allowClear:W,loadData:this.props.loadData,disabled:F}))}}x.defaultProps={defaultValue:"",refreshData:!1,bindValue:!1,onChange:()=>{}},k.Z=(0,T.Z)((0,C.Z)()(x))},73273:function(ue,k,e){"use strict";var f=e(62029),l=e(14781),U=e(53431),Q=e(63185),C=e(9676),T=e(20228),x=e(11382),N=e(57663),L=e(71577),p=e(34792),t=e(48086),s=e(43358),_=e(34041),B=e(12924),c=e.n(B),W=e(91768),R=e(246),F=e.n(R),y=e(18329),P=e(6793),d=e(87312),i=e(84874),g=e(10237),E=e(37055),S=e(48479),Z=_.Z.Option,z={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1};class O extends c().Component{constructor(m){var v;super(m);v=this,this.onCancel=()=>{var r=this.props.onCancel;r&&this.props.onCancel()},this.onOk=()=>{if(this.state.checkedList.length>this.props.maxNum&&this.props.maxNum>0){t.default.info((0,P.ZT)(this.props.t("course.insertQuestionMax"),this.props.maxNum));return}if(this.props.onOk){var r=this.state.checkedList.map(a=>({id:a.id,name:a.name,componentName:"QuestionSelector",data:a.data,icon:"",type:"question"}));this.props.onOk(r)}},this.onCheckAll=()=>{var r=this.state,a=r.questionList,h=r.checkedList,b=a.findIndex(j=>!j.isChecked)===-1;a.forEach(j=>{j.isChecked=!b;var q=h.findIndex(Y=>j.id===Y.id);if(q===-1&&j.isChecked){h.push(j);return}q!==-1&&!j.isChecked&&h.splice(q,1)}),this.setState({questionList:a,checkedList:h})},this.onChangePage=r=>{var a=this.state,h=a.page,b=a.selectQuestionLibKey;h.pageNumber=r,this.setState({page:h},()=>{this.getQuestionList(b)})},this.onSearchLib=r=>{var a=this.state.page;a.pageNumber=1,this.setState({questionLibKeyword:r,questionLibList:[],isSearchLib:r.length>0,page:a},()=>{this.getQuestionLib()})},this.onSearchQuestion=r=>{var a=this.state,h=a.page,b=a.selectQuestionLibKey;h.pageNumber=1,this.setState({questionKeyword:r,page:h},()=>{this.getQuestionList(b)})},this.handleQuestionLibSelect=r=>{var a=this.state.page;a.pageNumber=1,this.setState({selectQuestionLibKey:r,page:a}),this.getQuestionList(r)},this.checkOne=(r,a)=>{var h=[...this.state.checkedList],b=[...this.state.questionList];if(r.isChecked){var j=h.findIndex(q=>q.id===r.id);h.splice(j,1),b[a].isChecked=!1}else b[a].isChecked=!0,h.push(r);this.setState({checkedList:h,questionList:b})},this.compileData=r=>{var a=this.state.checkedList,h=r.map(b=>({id:b.id,name:b.title,typeName:b.typeName,isChecked:a.findIndex(j=>j.id===b.id)!==-1,data:b}));return h},this.getQuestionLib=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,a=E.ZP.QuestionSelector.getQuestionLib(),h=v.state,b=h.questionLibKeyword,j=h.questionLibList,q=h.selectQuestionLibKey,Y=h.isSearchLib,G={keyword:b,pageNumber:r,pageSize:15};v.setState({isLoadingLib:!0}),g.WY.get({url:a,params:G}).then(M=>{v.setState({isLoadingLib:!1,hasMoreLib:M.data.data.hasNextPage,questionLibList:j.concat(M.data.data.list),selectQuestionLibKey:r===1?"":q}),r===1&&!Y&&v.getQuestionList("")})},this.getQuestionList=r=>{var a=this.state,h=a.page,b=a.questionKeyword,j=a.filterQuestionLevel,q=a.filterQuestionType,Y=E.ZP.QuestionSelector.getQuestionList(),G={questionBankId:r,keyword:b,pageNumber:h.pageNumber,pageSize:h.pageSize,difficulty:j,type:q};this.setState({isLoadingQuestion:!0}),g.WY.get({url:Y,params:G}).then(M=>{this.setState({isLoadingQuestion:!1,questionList:this.compileData(M.data.list),paginationData:{total:M.data.total,pages:M.data.pages}})})},this.handleQuestionTypeChange=r=>{var a=this.state,h=a.page,b=a.selectQuestionLibKey;h.pageNumber=1,this.setState({filterQuestionType:r,page:h},()=>{this.getQuestionList(b)})},this.handleQuestionLevelChange=r=>{var a=this.state,h=a.page,b=a.selectQuestionLibKey;h.pageNumber=1,this.setState({filterQuestionLevel:r,page:h},()=>{this.getQuestionList(b)})},this.renderFooter=()=>{var r=this.props.t,a=this.state.checkedList;return c().createElement(c().Fragment,null,c().createElement(L.Z,{type:"default",onClick:this.onCancel},r("common.cancel")),c().createElement(L.Z,{type:"primary",onClick:this.onOk},"".concat(r("common.ok")," (").concat(a.length,")")))};var u=m.t;this.state={title:u("component.addQuestionTitle"),questionKeyword:"",questionLibKeyword:"",checkedList:[],questionLibList:[],questionList:[],filterQuestionType:"",filterQuestionLevel:"",paginationData:{},selectQuestionLibKey:"",page:{pageNumber:1,pageSize:10},isLoadingLib:!1,isLoadingQuestion:!1,hasMoreLib:!0,isSearchLib:!1},this.QuestionTypeOptions=[{value:"",label:u("common.all")},{value:1,label:u("component.singleSample")},{value:2,label:u("component.multipleSample")},{value:3,label:u("component.tofSample")},{value:4,label:u("component.blankSample")},{value:5,label:u("component.describeSample")}],this.QuestionLevelOptions=[{value:"",label:u("common.all")},{value:1,label:u("component.questionSimple")},{value:2,label:u("component.questionGeneral")},{value:3,label:u("component.questionDifficult")},{value:4,label:u("component.questionHard")}]}componentDidUpdate(m){var v=this.props,u=v.visible,r=v.defaultChecked,a=v.questionTypeOptions;if(a.length>0){var h=this.QuestionTypeOptions.filter(j=>a.indexOf(j.value)>-1);this.QuestionTypeOptions=[].concat(h)}if(m.visible!==u&&u){var b=[...r];this.setState({checkedList:b,questionKeyword:"",questionLibKeyword:"",filterQuestionType:this.QuestionTypeOptions[0].value,filterQuestionLevel:"",page:{pageNumber:1,pageSize:12},questionLibList:[]},()=>{this.getQuestionLib()})}}render(){var m=this.props.t,v=this.state,u=v.questionLibList,r=v.questionList,a=v.paginationData,h=v.selectQuestionLibKey,b=v.isLoadingQuestion,j=v.isLoadingLib,q=v.hasMoreLib,Y=v.isSearchLib,G=v.filterQuestionType;return c().createElement(y.ZP,(0,f.Z)({},z,{onCancel:this.onCancel,visible:this.props.visible,title:this.state.title,footer:this.renderFooter()}),c().createElement("div",{className:"question-selector"},c().createElement("div",{className:"question-selector-list"},c().createElement("div",{className:"question-selector-lib"},c().createElement("div",{className:"question-selector-lib-top"},c().createElement(S.Z,{prefixCls:"question-selector-lib-top-search",onSearch:this.onSearchLib,placeholder:m("searchInputPlaceholder.questionBank")})),c().createElement("div",{className:"question-selector-lib-list"},Y?null:c().createElement("div",{className:"question-selector-lib-all ".concat(h===""?"active":""),onClick:()=>this.handleQuestionLibSelect("")},m("common.all")),c().createElement(F(),{pageStart:1,initialLoad:!1,loadMore:this.getQuestionLib,hasMore:!j&&q,useWindow:!1,loader:j?c().createElement("div",{className:"question-selector-loading"},c().createElement(x.Z,null)):null},c().createElement("div",null,u.map(M=>c().createElement("div",{key:M.id,className:h===M.id?"question-selector-lib-list-item active":"question-selector-lib-list-item",onClick:()=>this.handleQuestionLibSelect(M.id)},c().createElement("span",{className:"question-selector-lib-list-icon"},c().createElement(i.Z,{iconClass:"icon-wenjianjia"})),c().createElement("span",{className:"question-selector-lib-list-name"},M.name))))))),c().createElement("div",{className:"question-selector-question"},c().createElement("div",{className:"question-selector-question-top"},c().createElement(_.Z,{defaultValue:G,placeholder:m("component.chooseQuestionType"),className:"question-selector-question-top-type",onChange:this.handleQuestionTypeChange},this.QuestionTypeOptions.map(M=>c().createElement(Z,{key:M.value,value:M.value},M.label))),c().createElement(_.Z,{placeholder:m("component.chooseDifficulty"),className:"question-selector-question-top-level",onChange:this.handleQuestionLevelChange},this.QuestionLevelOptions.map(M=>c().createElement(Z,{key:M.value,value:M.value},M.label))),c().createElement(S.Z,{prefixCls:"question-selector-question-top-search",onSearch:this.onSearchQuestion,placeholder:m("searchInputPlaceholder.question")})),c().createElement("div",{className:"question-selector-question-list"},c().createElement(C.Z,{onClick:this.onCheckAll,checked:r.length>0&&r.findIndex(M=>!M.isChecked)===-1,className:"question-selector-question-item"},c().createElement("span",{className:"question-selector-question-item-title"},m("component.selectPage"))),b?c().createElement("div",{className:"question-selector-loading"},c().createElement(x.Z,null)):null,r.map((M,ne)=>{var J=M.id,n=M.isChecked,o=M.data,H=M.name;return c().createElement(C.Z,{value:J,key:J,onClick:()=>this.checkOne(M,ne),checked:n,className:"question-selector-question-item"},c().createElement("span",{className:"question-selector-question-item-title"},"\u3010",o.typeName,"\u3011",H))}),r.length===0?c().createElement(d.Z,{className:"no-result"}):null),c().createElement("div",{className:"question-selector-pagination"},c().createElement("span",null,m("component.totalLabel"),c().createElement("b",null,a.pages),m("component.pageLabel"),"\uFF0C",c().createElement("b",null,a.total),m("component.dataItems")),c().createElement(U.Z,{size:"small",pageSize:12,total:a.total,onChange:this.onChangePage,showSizeChanger:!1}))))))}}O.defaultProps={visible:!1,defaultChecked:[],questionTypeOptions:[],maxNum:-1,onCancel:()=>{},onOk:K=>K},k.Z=(0,W.Z)()(O)},56130:function(ue,k,e){"use strict";var f=e(62029),l=e(12924),U=e.n(l),Q=e(28216),C=e(37055),T=e(10237),x=e(44881),N=p=>{var t=p.studyProject.classify;return{classify:t}},L=p=>{var t=(0,Q.$j)(N)(class extends U().Component{constructor(_){var B;super(_);B=this,this.updateData=c=>{var W=this.props.dispatch,R=c||[...this.state.classify];this.setState({classify:R}),W({type:"studyProject/updateClassify",classify:R})},this.getClassify=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",W=B.props,R=W.unclassified,F=R===void 0?!1:R,y=W.parent_id,P=y===void 0?0:y,d=W.auth_type,i=d===void 0?"query":d,g=C.ZP.Classify.getResourceClassify();T.WY.get({url:g,params:{include_unclassified:F,parent_id:P,auth_type:i,name:c}}).then(E=>{!E.data||B.updateData((0,x.P)(E.data.list,i))})},this.loadData=c=>{var W=this.props,R=W.unclassified,F=R===void 0?"":R,y=W.auth_type,P=y===void 0?"query":y,d=W.filter,i=W.dispatch,g=W.type,E=g===void 0?"":g;if(console.warn(P,"auth_type"),Array.isArray(c)){var S=c[c.length-1];S.loading=!0,setTimeout(()=>{var Z=C.ZP.Classify.getResourceClassify(),z=S.id;T.WY.get({url:Z,params:{include_unclassified:F,parent_id:z,auth_type:P}}).then(O=>{!O.data||S.children||(S.loading=!1,S.children=(0,x.P)(O.data.list,P),this.updateData())})},1e3)}else return new Promise(Z=>{var z=c.id;setTimeout(()=>{var O=C.ZP.Classify.getResourceClassify(),K=z;T.WY.get({url:O,params:{include_unclassified:F,parent_id:K,auth_type:P}}).then(m=>{if(!m.data){Z();return}if(d&&m.data.list.length===0){var v=this.state.classify.map(r=>(d&&z===r.id&&(r.isLeaf=!0),r));this.setState({classify:v}),i({type:"studyProject/updateClassify",classify:v});return}var u=(0,x.P)(m.data.list,P);if(E==="tree"){c.dataRef.children=u,this.setState({classify:[...this.state.classify]}),i({type:"studyProject/updateClassify",classify:[...this.state.classify]});return}this.updateData(this.state.classify.concat(u))}),Z()},300)})},this.state={classify:[]}}componentDidMount(){this.getClassify()}render(){return U().createElement(p,(0,f.Z)({classify:this.props.classify,refresh:this.getClassify,loadData:this.loadData},this.props))}});return t};k.Z=L},14559:function(ue,k,e){"use strict";e.d(k,{Z:function(){return K}});var f=e(62029),l=e(22385),U=e(31097),Q=e(20228),C=e(11382),T=e(57663),x=e(71577),N=e(34792),L=e(48086),p=e(88986),t=e(33565),s=e(12924),_=e.n(s),B=e(91768),c=e(246),W=e.n(c),R=e(78001),F=e(74689);function y(m,v,u){var r=[{text:m("common.all"),value:"all",oldValue:""},{text:m("component.singleSample"),value:"single",oldValue:1},{text:m("component.multipleSample"),value:"multiple",oldValue:2},{text:m("component.tofSample"),value:"trueOrFalse",oldValue:3},{text:m("component.blankSample"),value:"fillBlank",oldValue:4},{text:m("component.describeSample"),value:"shortAnswer",oldValue:5}];return u&&u.length>0&&(r=r.filter(a=>u.some(h=>h===a.oldValue))),{columns:[{title:m("exam.paperAddthName"),key:"title",render:a=>_().createElement(F.Z,{overlayClassName:v["cl-question__tooltips"],placement:"topLeft",width:390,title:a})},{title:m("exam.paperAddthType"),key:"type",width:100,filters:r,filterMultiple:!1,render:a=>{var h="";switch(a){case"single":h=m("component.singleSample");break;case"multiple":h=m("component.multipleSample");break;case"trueOrFalse":h=m("component.tofSample");break;case"fillBlank":h=m("component.blankSample");break;case"shortAnswer":h=m("component.describeSample");break;default:h="";break}return _().createElement("span",null,h)}},{title:m("common.difficulty"),key:"difficulty",width:100,filters:[{text:m("common.all"),value:"all"},{text:m("component.questionSimple"),value:"easy"},{text:m("component.questionGeneral"),value:"normal"},{text:m("component.questionDifficult"),value:"harder"},{text:m("component.questionHard"),value:"hardest"}],filterMultiple:!1,render:a=>{var h="";switch(a){case"easy":h=m("component.questionSimple");break;case"normal":h=m("component.questionGeneral");break;case"harder":h=m("component.questionDifficult");break;case"hardest":h=m("component.questionHard");break;default:h="";break}return _().createElement("span",null,h)}}]}}var P=e(77741),d=e.n(P),i=e(5259),g=e(84874),E=e(48479),S=e(18329),Z=e(12378),z=e(99367);function O(m){var v=m.t,u=m.visible,r=m.defaultChecked,a=m.limitCount,h=m.questionTypeOptions,b=m.onOk,j=m.onCancel,q=m.from,Y=(0,s.useRef)(),G={size:"large",destroyOnClose:!0,bodyStyle:{padding:"0"},maskClosable:!1,title:v("exam.questionBankSelect"),centered:!0},M={size:"small",showSizeChanger:!1,showTotal:I=>"".concat(v("historicRecords.altogether")).concat(Math.ceil(I/10)).concat(v("component.pageLabel"),"\uFF0C").concat(I).concat(v("component.dataItems"))},ne=(0,s.useState)({difficulty:"",keyword:"",visible_range_type:"",type:"",question_bank_ids:""}),J=(0,t.Z)(ne,2),n=J[0],o=J[1],H={pageSize:"page_size",pageIndex:"page_number",pageSizeNum:10,pageIndexNum:1},he=(0,s.useState)({keyword:"",classify_id:"",status:"enable",page_number:1,page_size:15}),Ae=(0,t.Z)(he,2),re=Ae[0],pe=Ae[1],We=re.keyword,fe=re.classify_id,Ee=(0,s.useState)("all"),ge=(0,t.Z)(Ee,2),ae=ge[0],le=ge[1],ie=(0,s.useState)({isLoading:!1,hasMore:!1,list:[]}),ce=(0,t.Z)(ie,2),me=ce[0],ye=ce[1],Ne=me.isLoading,Xe=me.hasMore,Ke=me.list,Ue=(0,s.useState)([]),Qe=(0,t.Z)(Ue,2),Me=Qe[0],De=Qe[1],et=(0,s.useState)([]),ze=(0,t.Z)(et,2),Fe=ze[0],Ye=ze[1],ke=(0,s.useState)(!1),je=(0,t.Z)(ke,2),tt=je[0],Ve=je[1],at=(0,s.useState)({}),He=(0,t.Z)(at,2),Pe=He[0],Ze=He[1],oe=(0,s.useState)([]),Ie=(0,t.Z)(oe,2),Re=Ie[0],Se=Ie[1];(0,s.useEffect)(()=>{if(r.length){var I=[];r.forEach($=>{I.push($.id)}),De(I),Se(JSON.parse(JSON.stringify(r)))}else De([]),Se([])},[r]),(0,s.useEffect)(()=>{if(h&&h.length>0){var I=(0,p.Z)((0,p.Z)({},n),{},{type:$(h[0])});o(I),Y.current.load(I)}function $(X){var V="";switch(X){case 1:V="single";break;case 2:V="multiple";break;case 3:V="trueOrFalse";break;case 4:V="fillBlank";break;case 5:V="shortAnswer";break;default:V="";break}return V}},[h]);var _e=I=>{var $=I.type,X=I.value;ye(V=>(0,p.Z)((0,p.Z)({},V),{},{list:[]})),pe(V=>(0,p.Z)((0,p.Z)({},V),{},{[$]:X,page_number:1}))},nt=I=>{ye($=>(0,p.Z)((0,p.Z)({},$),{},{isLoading:!0})),pe($=>(0,p.Z)((0,p.Z)({},$),{},{page_number:I}))},st=()=>{(0,i.bB)(re).then(I=>{!We&&!fe&&re.page_number===1&&Ke.unshift({title:v("common.all"),id:"all"});var $=Ke.concat(I.data.data.list);ye(X=>(0,p.Z)((0,p.Z)({},X),{},{isLoading:!1,hasMore:I.data.data.has_next_page==="true",list:$}))})};(0,s.useEffect)(()=>{ae!=="all"&&(0,i.Dx)({"bank-id":ae}).then(I=>{Ve(!0),Ye(I.data.data),Ze((0,p.Z)((0,p.Z)({},Pe),{},{isChecked:xe(I.data.data)}))})},[xe,ae]);var xe=(0,s.useCallback)((I,$)=>{var X=$||Re,V=I.reduce((ee,te)=>(X.findIndex(ve=>ve.id===te.id)!==-1&&ee.push(te),ee),[]);return I.length?V.length===I.length:!1},[Re]);(0,s.useEffect)(()=>{u&&st()},[re,u]);function rt(I,$){var X=[...Me],V=[...Re],ee=Me.findIndex(te=>I.id===te);ee===-1&&$&&(a?Me.length<a?(X.push(I.id),V.push(I)):L.default.info("".concat(v("exam.limitSelectQuestion")).concat(a).concat(v("common.count"))):(X.push(I.id),V.push(I))),!$&&ee!==-1&&(X.splice(ee,1),V.splice(ee,1)),De(X),Se(V),Ze((0,p.Z)((0,p.Z)({},Pe),{},{isChecked:xe(Fe,V)}))}function lt(I,$,X){var V=[...Me],ee=[...Re];I?a?$.length<=a?X.forEach(te=>{var ve=V.findIndex(Oe=>te.id===Oe);ve===-1&&I&&(V.push(te.id),ee.push(te))}):L.default.info("".concat(v("exam.limitSelectQuestion")).concat(a).concat(v("common.count"))):X.forEach(te=>{var ve=V.findIndex(Oe=>te.id===Oe);ve===-1&&I&&(V.push(te.id),ee.push(te))}):X.forEach(te=>{if(te){var ve=V.findIndex(Oe=>te.id===Oe);ve!==-1&&(V.splice(ve,1),ee.splice(ve,1))}}),De(V),Se(ee),Ze((0,p.Z)((0,p.Z)({},Pe),{},{isChecked:xe(Fe,ee)}))}function it(I){var $=(0,p.Z)({},I);return(0,i.eb)($)}var Ge=I=>{var $=I.id;$!=="all"&&Ze(I),le($),Y.current.load({question_bank_ids:$==="all"?"":$})},we=()=>{b(Re),le("all"),ye({isLoading:!1,hasMore:!1,list:[]}),pe(I=>(0,p.Z)((0,p.Z)({},I),{},{page_number:1}))},be=()=>{if(j(),le("all"),ye({isLoading:!1,hasMore:!1,list:[]}),pe($=>(0,p.Z)((0,p.Z)({},$),{},{page_number:1})),r.length){var I=[];r.forEach($=>{I.push($.id)}),De(I),Se(JSON.parse(JSON.stringify(r)))}else De([]),Se([])},ot=()=>_().createElement(_().Fragment,null,_().createElement(x.Z,{type:"default",onClick:be},v("common.cancel")),_().createElement(x.Z,{type:"primary",onClick:we},"".concat(v("common.ok")," (").concat(Me.length,")")));function Je(){var I=m.t;return _().createElement("div",{className:d()["right-opt"]},_().createElement(E.Z,{onSearch:$=>{Y.current.load({keyword:$})},placeholder:I("searchInputPlaceholder.question"),maxLength:15}))}var ut=()=>{Pe.isChecked=!Pe.isChecked;var I=Y.current.getDataList(),$=qe(I,Pe.isChecked,Me,Re),X=$.checkedList,V=$.questionLists,ee=qe(Fe,Pe.isChecked,X,V);De(ee.checkedList.map(te=>te)),Se(ee.questionLists),Ze(Pe)},qe=(I,$,X,V)=>(I.forEach(ee=>{ee.isChecked=$;var te=X.findIndex(ve=>ee.id===ve);if(te===-1&&$){a?X.length<a&&(X.push(ee.id),V.push(ee)):(X.push(ee.id),V.push(ee));return}te!==-1&&!$&&(X.splice(te,1),V.splice(te,1))}),{checkedList:X,questionLists:V}),ct=()=>_().createElement(_().Fragment,null,_().createElement("div",{style:{paddingLeft:"6px",fontSize:"18px"}},v("exam.questionList")),ae!=="all"&&tt?_().createElement("span",{className:d()["question-selector-question-item-title"],onClick:ut},v("exam.selectAllQuestion")):null);return _().createElement(S.ZP,(0,f.Z)({},G,{visible:u,footer:ot(),onCancel:be}),_().createElement("div",{className:d()["question-selector"]},_().createElement("div",{className:d().left},_().createElement("div",{className:d().top},_().createElement(Z.Z,{defaultValue:re.classify_id,allowClear:!0,placeholder:R.Z.t("common.selectP",{name:R.Z.t("component.questionBankClassifyLabel")}),onChange:I=>_e({type:"classify_id",value:I})}),_().createElement(E.Z,{onSearch:I=>{_e({type:"keyword",value:I})},placeholder:v("searchInputPlaceholder.questionBank"),maxLength:15})),_().createElement("div",{className:d().list},_().createElement(W(),{pageStart:1,initialLoad:!1,hasMore:!Ne&&Xe,loadMore:nt,useWindow:!1,loader:Ne?_().createElement("div",{className:"question-selector-loading"},_().createElement(C.Z,null)):null},Ke.map(I=>_().createElement("div",{key:I.id,className:"".concat(ae===I.id?d().active:""," ").concat(d()["list-item"]),onClick:()=>Ge(I)},I.id!=="all"?_().createElement(_().Fragment,null,_().createElement("span",{className:d().icon},_().createElement(g.Z,{iconClass:"icon-wenjianjia"}))):null,_().createElement(U.Z,{placement:"top",title:I.title},_().createElement("span",{className:"".concat(d().name," ").concat(d().ellipsis)},I.title))))))),_().createElement("div",{className:d().right},_().createElement(z.Z,{ref:Y,uuid:"27259772-ac05-4966-bb75-a4f4e253d052",queryParams:(0,p.Z)((0,p.Z)({},y(v,d(),h)),{},{query:it}),rowSelection:{selectedRowKeys:Me,onSelect:rt,onSelectAll:lt},queryParam:n,pagerConfig:H,pagination:M,options:!1,scroll:{y:391},tableAlertRender:()=>!1,headerTitle:ct(),toolBarRender:Je,rowClassName:"question-table-row",from:q}))))}var K=(0,B.Z)()(O)},74689:function(ue,k,e){"use strict";var f=e(22385),l=e(31097),U=e(62029),Q=e(33565),C=e(81211),T=e(12924),x=e.n(T),N=L=>{var p=L.title,t=L.width,s=L.className,_=(0,C.Z)(L,["title","width","className"]),B=(0,T.useRef)(null),c=(0,T.useState)(!0),W=(0,Q.Z)(c,2),R=W[0],F=W[1],y=(0,T.useCallback)(P=>{var d=P,i=t||d.getBoundingClientRect().width,g=document.createRange();g.setStart(d,0),g.setEnd(d,d.childNodes.length);var E=g.getBoundingClientRect().width;return E<i},[t]);return(0,T.useEffect)(()=>{B.current&&p&&F(y(B.current))},[y,p]),x().createElement(x().Fragment,null,R?x().createElement("div",{ref:B,style:{width:"".concat(t,"px"),whiteSpace:"nowrap"},className:s},p):x().createElement(l.Z,(0,U.Z)({title:p},_),x().createElement("div",{style:{width:"".concat(t,"px"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},className:s},p)))};k.Z=N},5259:function(ue,k,e){"use strict";e.d(k,{bB:function(){return U},Qm:function(){return Q},Dx:function(){return C},Ut:function(){return T},s4:function(){return x},Z2:function(){return N},gB:function(){return L},Ff:function(){return p},Wu:function(){return t},mA:function(){return s},BX:function(){return B},eb:function(){return c},Km:function(){return W},MJ:function(){return R},dY:function(){return F},yB:function(){return y},eg:function(){return P},NZ:function(){return d},Le:function(){return i},Zl:function(){return g},pT:function(){return E},ji:function(){return S},C0:function(){return Z},W9:function(){return z},vV:function(){return O},Ww:function(){return K},tT:function(){return m},uG:function(){return v},fZ:function(){return u},qp:function(){return r},RS:function(){return a},JR:function(){return h},Gw:function(){return b},X5:function(){return j},xL:function(){return Y},gu:function(){return G},WW:function(){return M},Nl:function(){return ne},P2:function(){return J}});var f=e(10237),l=e(5430);function U(n){var o=l.OB.questionBank.list(n);return f.WY.get({url:o,params:n})}function Q(n){var o=l.OB.questionBank.wheatList(n);return f.WY.get({url:o,params:n})}function C(n){var o=l.OB.questionBank.questionList(n);return f.WY.get({url:o,params:n})}function T(){var n=l.OB.questionBank.listAll();return f.WY.get({url:n})}function x(n){var o=l.OB.questionBank.info(n);return f.WY.get({url:o})}function N(n){var o=l.OB.questionBank.add();return f.WY.post({url:o,data:n})}function L(n,o){var H=l.OB.questionBank.edit(n);return f.WY.post({url:H,data:o})}function p(n){var o=l.OB.questionBank.authorize();return f.WY.post({url:o,data:n})}function t(n){var o=l.OB.questionBank.delete(n);return f.WY.post({url:o})}function s(n,o){var H=l.OB.questionBank.updateStatus(n);return f.WY.post({url:H,params:o})}function _(n){var o=EXAM_API.question.download();return formDataRequest.post({url:o,data:n})}function B(n){var o=l.OB.question.importSubmit();return f.qg.post({url:o,data:n})}function c(n){var o=l.OB.question.list();return f.WY.get({url:o,params:n})}function W(n){var o=l.OB.question.delete();return f.WY.post({url:o,data:n})}function R(n,o){var H=l.OB.question.move(n);return f.WY.post({url:H,data:o})}function F(n){var o=l.OB.question.copy(n);return f.WY.post({url:o})}function y(n,o){var H=l.OB.question.export(n);return f.WY.post({url:H,data:o})}function P(n){var o=l.OB.question.batchQueryList();return f.WY.post({url:o,data:n})}function d(n){var o=l.OB.PaperManager.getPaperList();return f.WY.get({url:o,params:n})}function i(n){var o=l.OB.PaperManager.postEditPaper(n.id);return f.WY.post({url:o,data:n})}function g(n){var o=l.OB.PaperManager.postEditWheatPaper(n.id);return f.WY.post({url:o,data:n})}function E(n){var o=l.OB.PaperManager.postAddPaper();return f.WY.post({url:o,data:n})}function S(n){var o=l.OB.PaperManager.postAddWheatPaper();return f.WY.post({url:o,data:n})}function Z(n){var o=l.OB.PaperManager.getPaperInfo(n);return f.WY.get({url:o})}function z(n){var o=l.OB.PaperManager.getWheatPaperInfo(n);return f.WY.get({url:o})}function O(n){var o=l.OB.PaperManager.postCopyPaper(n.paperId);return f.WY.post({url:o,data:n})}function K(n){var o=l.OB.PaperManager.postUpdatePaperStatus(n.paperId);return f.WY.post({url:o,params:n})}function m(n){var o=l.OB.PaperManager.postUpdateWheatPaperStatus(n.paperId);return f.WY.post({url:o,params:n})}function v(n){var o=l.OB.PaperManager.deletePaper(n);return f.WY.post({url:o})}function u(n,o){var H=l.OB.PaperManager.referencePaperById(n);return f.WY.get({url:H,params:o})}function r(n){var o=l.OB.PaperManager.postPaperAuthorization();return f.WY.post({url:o,data:n})}function a(n){var o=l.OB.PaperManager.getPaperTestInfo(n);return f.WY.get({url:o})}function h(n,o){var H=l.OB.PaperManager.postSaveFixedPaper(n);return f.WY.post({url:H,data:o})}function b(n,o){var H=l.OB.PaperManager.postSaveRandomPaper(n);return f.WY.post({url:H,data:o})}function j(n,o){var H=l.OB.PaperManager.postSaveStudentRandomPaper(n);return f.WY.post({url:H,data:o})}function q(n,o){var H=EXAM_API.PaperManager.getExportPaper(n);return request.get({url:H,params:o})}function Y(n){var o=n.data,H=l.OB.question.add();return f.WY.post({url:H,data:o})}function G(n){var o=n.questionId,H=l.OB.question.queryQuestionDetail({questionId:o});return f.WY.get({url:H})}function M(n){var o=n.questionId,H=n.data,he=l.OB.question.edit({questionId:o});return f.WY.post({url:he,data:H})}function ne(n){var o=l.OB.question.check();return f.WY.post({url:o,data:n})}function J(n){var o=l.OB.question.batchAdd();return f.WY.post({url:o,data:n})}},12860:function(ue,k,e){"use strict";e.r(k);var f=e(62029),l=e(71194),U=e(57016),Q=e(57361),C=e(88986),T=e(9754),x=e.n(T),N=e(12924),L=e.n(N),p=e(76651),t=e(28216),s=e(91768),_=e(6793),B=e(38642),c=e(31916),W=e(73273),R=e(14559),F=P=>{var d=P.user;return{appType:d.appType}};class y extends L().Component{constructor(){var d;super();d=this,this.onShowQuestionSelector=()=>{var i=this.state.questionSelectorConfig;i.visible=!0,this.setState({questionSelectorConfig:i})},this.onCancelQuestionSelector=()=>{var i=this.state,g=i.questionSelectorConfig,E=i.messageType;this.setState({questionSelectorConfig:(0,C.Z)((0,C.Z)({},g),{},{visible:!1,defaultChecked:[]})}),this.postResultMessage(E==="add-question-result"?"add-cancel":"edit-cancel",null)},this.getEnterpriseExamType=(0,Q.Z)(x().mark(function i(){var g;return x().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,c.uH)();case 2:g=S.sent,d.setState({isOldExam:g});case 4:case"end":return S.stop()}},i)})),this.addQuestionFromSelector=i=>{var g=this.state,E=g.questionSelectorConfig,S=g.messageType,Z=g.isOldExam,z=i.map(O=>{var K="";return Z==="new"&&!O.data?K=this.getQuestionType(O.type):K=this.getQuestionType(O.data.type),{id:O.id,title:O.title||O.name,type:K,difficulty:"",version:"1.0"}});this.setState({questionSelectorConfig:(0,C.Z)((0,C.Z)({},E),{},{visible:!1})},()=>{this.postResultMessage(S==="request-add-question"?"add-question-result":"edit-question-result",z)})},this.compileQuestion=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=d.state.questionSelectorConfig,E=i.map(S=>({id:S.id,name:S.title,componentName:"QuestionSelector",data:S,icon:"",type:"question"}));return d.setState({questionSelectorConfig:(0,C.Z)((0,C.Z)({},g),{},{defaultChecked:E})}),E},this.postResultMessage=(i,g)=>{document.getElementById("iframe").contentWindow.postMessage({name:i,from:"kxy",data:g},"*")},this.handleCloseInfoModal=()=>{this.setState({infoModal:{visible:!1}})},this.getMessage=()=>{var i=this,g=window.navigator.userAgent.toLocaleLowerCase();window.onmessage=function(E){var S=E.data,Z=S.name,z=S.from;z==="kjeditor"&&(i.setState({messageType:Z}),Z==="request-add-question"?(i.compileQuestion([]),i.onShowQuestionSelector()):Z==="request-edit-question"?(i.compileQuestion(E.data.data.info),i.onShowQuestionSelector()):Z==="close-editor"?g.indexOf("lark")!==-1?p.m8.go(-1):window.close():Z==="video-help"?i.setState({infoModal:{visible:!0}}):console.log("unknown message type:".concat(Z)))}},this.isChrome=()=>{var i=this.props.t;window.navigator.userAgent.indexOf("Chrome")===-1&&U.Z.warning({title:i("common.tip"),content:i("common.switchBrowser")});var g=document.createElement("canvas"),E=!!(window.WebGLRenderingContext&&(g.getContext("webgl")||g.getContext("experimental-webgl")));E||U.Z.warning({title:i("common.tip"),content:this.props.appType==="e_app"?i("common.videoDingWebGl"):i("common.videoWebGl")})},this.getQuestionType=i=>{switch(i){case 1:return"single";case 2:return"multiple";case 3:return"tof";case 4:return"fillBlank";case 5:return"shortAnswer";case"trueOrFalse":return"tof";default:return i}},this.getIframeSrc=()=>{var i=this.state,g=i.editSrc,E=i.viewSrc,S=localStorage.getItem("enterpriseId"),Z=p.m8.location.query,z=Z.courseId,O=Z.resourceId,K=localStorage.getItem("uid"),m=localStorage.getItem("token"),v=localStorage.getItem("gameVideoShowRule"),u="&enterprise_api=".concat("https://app123492.eapps.dingtalkcloud.com","&enterprise_id=").concat(S,"&course_id=").concat(z).concat(O?"&resource_id=".concat(O):"","&user_id=").concat(K,"&access_token=").concat(m,"&show_rule=").concat(!!v,"&language=").concat((0,_.me)());this.setState({iframeSrc:"".concat("https://sdn.coolcollege.cn").concat(g,"?loglvl=0&kj_url=").concat("https://sdn.coolcollege.cn").concat(E).concat(u)})},this.state={iframeSrc:"",editSrc:"/coolcollege-interactive-video/".concat((0,B.dU)(),"/editor/index.html"),viewSrc:"/coolcollege-interactive-video/".concat((0,B.dU)(),"/pc/index.html"),isOldExam:"old",questionSelectorConfig:{visible:!1,maxNum:10,questionTypeOptions:[1,2,3],defaultChecked:[],onCancel:this.onCancelQuestionSelector,onOk:this.addQuestionFromSelector},infoModal:{visible:!1},messageType:"add-question-result"}}componentDidMount(){this.getMessage(),this.getIframeSrc(),this.isChrome(),this.getEnterpriseExamType(),localStorage.setItem("gameVideoShowRule",localStorage.getItem("gameVideoShowRule")?"false":"true")}render(){var d=this.state,i=d.iframeSrc,g=d.questionSelectorConfig,E=d.infoModal,S=d.isOldExam,Z=this.props.t;return L().createElement(L().Fragment,null,L().createElement("iframe",{id:"iframe",className:"interfaceEditor",style:{width:"100vw",height:"56.2vw",overflow:"visible"},src:i,scrolling:"no",frameBorder:"0"}),S==="old"?L().createElement(W.Z,g):g.visible?L().createElement(R.Z,(0,f.Z)({},g,{limitCount:g.maxNum,from:"interactiveVideo"})):null,L().createElement(U.Z,{width:750,visible:E.visible,title:"",footer:null,onCancel:this.handleCloseInfoModal},L().createElement("p",null,Z("course.infoTitleA")),L().createElement("p",null,Z("course.infoContentA")),L().createElement("p",null,Z("course.infoTitleB")),L().createElement("p",null,Z("course.infoContentB")),L().createElement("p",null,Z("course.infoTitleC")),L().createElement("p",null,Z("course.infoContentC")),L().createElement("p",null,Z("course.infoTitleD")),L().createElement("p",null,Z("course.infoContentD")),L().createElement("p",null,Z("course.infoTitleE")),L().createElement("p",null,Z("course.infoContentE")),L().createElement("p",null,Z("course.infoTitleF")),L().createElement("p",null,Z("course.infoContentF"))))}}k.default=(0,t.$j)(F)((0,s.Z)()(y))},14441:function(ue,k,e){"use strict";e.d(k,{v:function(){return U},t:function(){return Q}});var f=e(10237),l=e(5430);function U(C){var T=l.Fc.getUserName();return f.WY.get({url:T,params:{user_id:C}})}function Q(C){var T=l.Fc.getDepartmentNames();return f.WY.post({url:T,data:{ids:C}})}},44881:function(ue,k,e){"use strict";e.d(k,{P:function(){return f}});var f=function(U){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"query";return U.forEach(C=>{C.isLeaf=!C.has_children,C.value=C.id,C.pId=C.parent_id,C.label=C.name,C.key=C.id,C.title=C.name,Q==="refer"&&(C.disabled=!C.allow_refer),Q==="edit"&&(C.disabled=!C.allow_edit)}),U}},86726:function(ue,k,e){"use strict";e.d(k,{V9:function(){return l},H3:function(){return U},e:function(){return Q},F:function(){return C}});var f=e(93485);function l(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=[];function L(p,t){var s=(0,f.Z)(t),_;try{for(s.s();!(_=s.n()).done;){var B=_.value;if(B.key===p){N=B.actions;break}B.children instanceof Array&&B.children.length&&L(T,B.children)}}catch(c){s.e(c)}finally{s.f()}}return L(T,x),N}function U(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=x.find(L=>L.key===T)||{};return N.checked||!1}function Q(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=!1;function L(p,t){var s=(0,f.Z)(t),_;try{for(s.s();!(_=s.n()).done;){var B=_.value;if(B.key===p){N=B.checked;break}B.children instanceof Array&&B.children.length&&L(T,B.children)}}catch(c){s.e(c)}finally{s.f()}}return L(T,x),N}function C(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N="";function L(p,t){var s=(0,f.Z)(t),_;try{for(s.s();!(_=s.n()).done;){var B=_.value;if(B.key===p){N=B.id;break}B.children instanceof Array&&B.children.length&&L(T,B.children)}}catch(c){s.e(c)}finally{s.f()}}return L(T,x),N}},2396:function(ue,k,e){"use strict";e.d(k,{fA:function(){return U},kh:function(){return Q},kR:function(){return C},rw:function(){return x},$s:function(){return N},q_:function(){return L},QK:function(){return p}});var f=e(6793),l={limitWords(t,s){return{rules:[{max:t,message:"\u6700\u591A\u8F93\u5165".concat(t,"\u4E2A\u5B57")},{required:!0,message:s||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},limitTagsLength(t){return{rules:[{max:t,message:"\u6700\u591A\u8F93\u5165".concat(t,"\u4E2A\u6807\u7B7E")}]}},required(t){return{rules:[{required:!0,message:t||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0}]}},requiredWithValidator(t,s){return{rules:[{required:!0,message:t||"\u8BF7\u8F93\u5165\u9700\u8981\u7684\u5185\u5BB9!",whitespace:!0,validator:s}]}}},U={score:/^\+?[0-9]*$/,positiveInteger:/^[1-9]\d*$/,examScore:/^[0-9]+([.]\d{1})?$/,url:/^(https?:\/\/)([0-9a-z.]+)(:[0-9]+)?([/0-9a-z.]+)?(\?[0-9a-z&=]+)?(#[0-9-a-z]+)?/,httpsUrl:/(^https):\/\/([\w.]+\/?)\S*/,tagName:/^[\s　]|[ ]$/gi},Q=t=>isNaN(t)||!t||!(t>=0&&t<1e3)||!U.score.test(t),C=t=>isNaN(t)||!t||!(t>-1e3&&t<1e3),T=t=>isNaN(t)||!t||!(t>=0&&t<1e3)||!U.examScore.test(t),x=(t,s)=>{for(var _=0,B=0;B<t.length;B++){var c=t.charAt(B);if(c.match(/[^\x00-\xff]/ig)!=null?_+=1:_+=.5,_>s)return B}return 0},N=t=>{for(var s=0,_=0;_<t.length;_++){var B=t.charAt(_);B.match(/[^\x00-\xff]/ig)!=null?s+=1:s+=.5}return s},L=(t,s)=>{var _=t.target.value,B=t.target.dataset.originLength;if(t.target.dataset.originLength||(B=s,t.target.dataset.originLength=B),!!B){var c=N(_);c*1<s*1?t.target.setAttribute("maxLength",s*2):t.target.setAttribute("maxLength",s)}},p=(t,s)=>{var _="";return(!t||!(0,f.fy)(t))&&(_=s),_}}}]);
