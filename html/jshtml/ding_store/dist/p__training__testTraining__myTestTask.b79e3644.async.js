(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[3539,4696],{30389:function(q,V,e){"use strict";e.d(V,{Z:function(){return A}});var Q=e(62029),y=e(20228),G=e(11382),Z=e(12924),l=e.n(Z),E=e(91768),P=e(80991),I={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},_=e(62615),h=e(52670);class K extends l().Component{render(){var r=this.props,S=r.values,O=r.mode,N=r.onlyChooseDept,c=r.reserveUser,z=r.t,Y=r.orgProps,B=r.rangeAuth,t=r.projectId,i=r.onCancel,v=r.onlyCreateUser;return l().createElement(P.l0,{className:"cl-form"},l().createElement(P.gN,(0,Q.Z)({component:_.ww,displayType:"Custom",showSectitle:!1,name:"employeeRange",label:z("common.visibleRange"),defaultFieldList:S.employeeRange,validate:h.FI,mode:O,rangeAuth:B,onlyChooseDept:N,onlyCreateUser:v,orgProps:Y,reserveUser:c,projectId:t,onCancel:i,qwTicketShow:!0},I)))}}var T=(0,E.Z)()(K),R=e(18329),W=e(34773);class M extends l().Component{constructor(){super(...arguments);this.initRefFormik=r=>{this.refFormik=r},this.handleBeforeCreate=()=>{var r=this.refFormik;r.submitForm(),r.runValidations().then(S=>{if(!Object.keys(S).length){var O=r.state.values.employeeRange,N=(0,W.b)(O.rangeList),c={qyWeChatVo:O.qyWeChatVo,id:this.props.actionId,isAll:O.rangeType,groupIds:O.rangeType===2?N.groupIds.join(","):"",departmentIds:O.rangeType===2?N.deptIds.join(","):"",userIds:O.rangeType===2?N.userIds.join(","):"",postIds:O.rangeType===2?N.postIds.join(","):"",clusterIds:O.rangeType===2?N.clusterIds.join(","):"",qy_we_chat_vo:O.qyWeChatVo};this.props.onCreate(c)}})},this.handleBeforeCancel=()=>{var r=this.props.onCancel;r()}}render(){var r=this.props,S=r.visible,O=r.initialParams,N=r.isLoading,c=r.tipInfo,z=r.mode,Y=r.onlyChooseDept,B=r.reserveUser,t=B===void 0?[]:B,i=r.t,v=r.title,u=r.orgProps,m=r.rangeAuth,a=r.projectId,s=r.onCancel,d=r.onlyCreateUser,p=r.size;return N?l().createElement(G.Z,{size:"large"}):l().createElement(R.ZP,{wrapClassName:"cl-employee-selector-modal",visible:S,title:v||i("component.changeUser"),okText:i("common.ok"),cancelText:i("common.cancel"),size:p,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},N?l().createElement(G.Z,{size:"large"}):l().createElement(P.J9,{ref:this.initRefFormik,initialValues:O,render:o=>l().createElement(T,(0,Q.Z)({},o,{mode:z,rangeAuth:m,orgProps:u,onlyChooseDept:Y,onlyCreateUser:d,reserveUser:t,projectId:a,onCancel:s}))}),c&&l().createElement("p",{style:{padding:"0 24px",wordBreak:"break-all",whiteSpace:"normal"}},c))}}M.defaultProps={visible:!1,initialParams:{employeeRange:{rangeType:1,rangeList:{dept:[],post:[],group:[],user:[],cluster:[]}}},tipInfo:"",isLoading:!1,mode:["all","part"],onlyChooseDept:!1,onlyCreateUser:!1,orgProps:{},onCancel:()=>{},onCreate:()=>{},size:"middle"};var A=(0,E.Z)()(M)},64549:function(q,V,e){"use strict";var Q=e(12924),y=e.n(Q),G=e(28216),Z=e(84874),l=P=>({guideStatus:P.advancedSetting.guideStatus,isNewUser:P.advancedSetting.isNewUser});class E extends y().Component{constructor(){super(...arguments);this.state={guideIndex:0,showGuide:this.props.renderGuide},this.onNextStep=()=>{var I=this.state.guideIndex,_=this.props.guidePageProps;if(I>=_.length-1){this.onCloseGuide();return}this.setState({guideIndex:I+1})},this.onCloseGuide=()=>{this.setState({showGuide:!1},()=>{this.props.closeGuide&&this.props.closeGuide()}),this.props.isNewUser==="true"&&this.props.dispatch({type:"shouldRenderHeaderGuide",payload:{headerGuideStatus:!0}}),this.updateAllStatus()},this.updateAllStatus=()=>{localStorage.setItem("guideStatus","false"),this.props.dispatch({type:"updateGuideStatus",payload:{guideStatus:"false"}})},this.renderRightItem=I=>y().createElement(y().Fragment,null,y().createElement("div",{className:"clguide-popover__content"},y().createElement("span",{onClick:this.onCloseGuide},y().createElement(Z.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),y().createElement("div",{className:"clguide-popover__content__text"},I.contentText),y().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},I.buttonText)),y().createElement("div",{className:"clguide-popover__righttriangle"}),I.typeText&&y().createElement("div",{className:" clguide-popover__circle"},I.typeText)),this.renderLeftItem=I=>y().createElement(y().Fragment,null,y().createElement("div",{className:" clguide-popover__circle"},I.typeText),y().createElement("div",{className:"clguide-popover__lefttriangle"}),y().createElement("div",{className:"clguide-popover__content"},y().createElement("span",{onClick:this.onCloseGuide},y().createElement(Z.Z,{iconClass:"icon-f-close",size:"12px",color:"#fff"})),y().createElement("div",{className:"clguide-popover__content__text"},I.contentText),y().createElement("div",{className:"clguide-popover__content__button",onClick:this.onNextStep},I.buttonText)))}render(){var I=this.state,_=I.guideIndex,h=I.showGuide,K=this.props,T=K.className,R=K.guideStatus,W=K.guidePageProps,M=W===void 0?[]:W,A=K.direction,U=A===void 0?"right":A,r=K.showDownloadBtn;return!h&&!R?null:y().createElement("div",{className:"clguide-popover-container"},h&&R==="true"&&y().createElement("div",{className:"clguide-popover-mask"}),h&&R==="true"&&_===0&&M.length?y().createElement("div",{className:"".concat(T,"_next clguide-popover ").concat(r?"":"right")},U==="left"?this.renderLeftItem(M[0]):this.renderRightItem(M[0])):null,h&&R==="true"&&_===1&&M.length?y().createElement("div",{className:"".concat(T,"_know clguide-popover")},U==="left"?this.renderLeftItem(M[1]):this.renderRightItem(M[1])):null)}}V.Z=(0,G.$j)(l)(E)},19788:function(q,V,e){"use strict";e.d(V,{Z:function(){return u}});var Q=e(81211),y=e(34792),G=e(48086),Z=e(12924),l=e.n(Z),E=e(91768),P=e(18329),I=e(92592),_=e(28216),h=e(10237),K=e(5430),T=e(93485),R=e(57361),W=e(18106),M=e(88108),A=e(9754),U=e.n(A),r=e(48194),S=M.Z.TabPane;class O extends l().Component{constructor(a){var s;super(a);s=this,this.getWxPermission=(0,R.Z)(U().mark(function d(){var p,o,D,x,b,L;return U().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:p=(0,r.$)(),o=p.data.list,D=(0,T.Z)(o),f.prev=3,D.s();case 5:if((x=D.n()).done){f.next=14;break}if(b=x.value,b.type!=="wechat_applet_setting"){f.next=12;break}return L=b.switch_status==="OPEN",s.setState({isOpenWxQrCode:L}),L&&s.initWxCode(),f.abrupt("break",14);case 12:f.next=5;break;case 14:f.next=19;break;case 16:f.prev=16,f.t0=f.catch(3),D.e(f.t0);case 19:return f.prev=19,D.f(),f.finish(19);case 22:case"end":return f.stop()}},d,null,[[3,16,19,22]])})),this.initWxCode=(0,R.Z)(U().mark(function d(){var p,o,D,x;return U().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return p=s.props.WxOption,o=p.flag,D=p.scene,L.next=3,h.WY.post({url:K.ZP.createWxCode(),data:{flag:o,scene:"".concat(D,"&enterpriseId=").concat(K.ZP.enterpriseId),enterprise_id:K.ZP.enterpriseId}});case 3:x=L.sent,s.setState({codeUrl:x.data.wx_code});case 5:case"end":return L.stop()}},d)})),this.state={codeUrl:"",isOpenWxQrCode:!1}}componentDidMount(){this.getWxPermission()}render(){var a=this.state,s=a.codeUrl,d=a.isOpenWxQrCode,p=this.props,o=p.dingDingOption,D=p.WxOption,x=p.appType;return l().createElement("div",{className:"scan-code-box"},l().createElement(M.Z,{defaultActiveKey:"1",centered:!0},l().createElement(S,{tab:x==="fs_app"?this.props.t("common.fsScanCode"):this.props.t("common.dingDingSanCode"),key:"1"},l().createElement("div",{className:"scan-code-main"},l().createElement("img",{src:o.dingDingUrl,alt:""}),l().createElement("div",{className:"tip"},o.tip))),d&&l().createElement(S,{tab:this.props.t("common.wxScanCode"),key:"2"},l().createElement("div",{className:"scan-code-main"},l().createElement("img",{src:"data:image/png;base64,".concat(s),alt:""}),l().createElement("div",{className:"tip"},D.tip)))))}}var N=m=>({appType:m.user.appType}),c=(0,_.$j)(N)((0,E.Z)()(O)),z=e(11092),Y=e(37055),B=m=>{var a=m.user;return{userInfo:a}};class t extends l().Component{constructor(a){super(a);this.onDownload=()=>{var s=this.props.t;if(!(!this.qrcode||!this.qrcode._el.getElementsByTagName)){var d=this.props,p=d.downloadImgName,o=p===void 0?"coolCollege":p,D=d.tipInfo,x=D===void 0?"":D,b=d.downloadImgStyle,L=b===void 0?{width:750,height:981}:b,$=this.qrcode._el.getElementsByTagName("img")[0],f=this.canvasRef.current.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,L.width,L.height),f.drawImage($,138,216,478,478),f.font="36px bold serif",f.fillStyle="#333",f.fillText(s("other.dingCodeTips"),246,140),f.textAlign="center",f.fillText(x,375,783,L.width);var n=this.canvasRef.current.toDataURL("image/jpeg"),C=document.createElement("a");C.setAttribute("href",n),C.setAttribute("download","".concat(o,".jpg")),document.body.insertAdjacentElement("beforeend",C),C.click(),C.remove()}},this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initRef=s=>{this.wrapper=s},this.getShortLink=s=>h.WY.post({url:Y.ZP.Common.getQrUrl(),data:{link:s}}),this.canvasRef=l().createRef()}componentDidMount(){var a=(0,z.findDOMNode)(this.wrapper),s=a.querySelector("#qrcode");this.qrcode=new QRCode(s,{width:250,height:250});var d=this.props,p=d.isReferred,o=p===void 0?!0:p,D=d.pageUrl,x=d.type,b=x===void 0?"":x,L=encodeURIComponent(D),$="dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(L);if(b==="projectShare"){var f="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(L);this.getShortLink(f).then(n=>{this.qrcode.makeCode(n.data.short_link)})}else this.qrcode.makeCode(o?$:D);s.setAttribute("title","")}render(){var a=this.props,s=a.prefixCls,d=a.tipInfo,p=a.download,o=p===void 0?!1:p,D=a.downloadImgStyle,x=D===void 0?{width:750,height:981}:D,b=a.t,L=d||b("component.useMobileDingtalkScan"),$=localStorage.getItem("themeColor")||"#465dcd";return l().createElement("div",{className:s,ref:this.initRef},l().createElement("div",{className:"".concat(s,"__qrcode"),id:"qrcode"}),l().createElement("p",{className:"".concat(s,"__qrcodetip")},L),o?l().createElement("p",{className:"".concat(s,"__download"),onClick:this.onDownload,style:{color:$}},b("other.downloadPictures")):null,l().createElement("canvas",{width:x.width,height:x.height,ref:this.canvasRef}))}}t.defaultProps={prefixCls:"cl-qr-code"};var i=(0,_.$j)(B)((0,E.Z)()(t));class v extends l().Component{constructor(a){super(a);this.appId=sessionStorage.getItem("CL_E_APP_ID"),this.miniAppId=sessionStorage.getItem("CL_MINI_APP_ID"),this.initQRCode=()=>{var s=this.props,d=s.isReferred,p=d===void 0?!0:d,o=s.pageUrl,D=s.type,x=D===void 0?"":D,b=s.record,L=b===void 0?{}:b,$=this.props.userInfo.appType,f=encodeURIComponent(o),n;if($==="fs_app"?n="https://applink.feishu.cn/client/web_app/open?corpId=".concat(this.props.userInfo.corpId,"&packageType=1&pVersion=1&path=").concat(f,"&flag=student_evaluation_page&tutorUserId=").concat(L.userId,"&tutorialsId=").concat(L.courseId,"&planId=").concat(L.planId,"&appId=").concat("cli_a0aa5e0fe5f8500d","&appType=lark"):n="dingtalk://dingtalkclient/action/open_micro_app?corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&packageType=1&pVersion=1&page=").concat(f),x==="projectShare"){var C;$==="fs_app"?C="https://applink.feishu.cn/client/web_app/open?corpId=".concat(this.props.userInfo.corpId,"&packageType=1&pVersion=1&path=").concat(f,"&flag=student_result_page&tutor_user_id=").concat(L.userId,"&tutorials_id=").concat(L.courseId,"&planId=").concat(L.planId,"&appId=").concat("cli_a0aa5e0fe5f8500d","&appType=lark"):C="dingtalk://dingtalkclient/action/open_micro_app/=questionMark=/corpId=".concat(this.props.userInfo.corpId,"&appId=").concat(this.appId,"&miniAppId=").concat(this.miniAppId,"&page=").concat(f),this.getShortLink(C).then(g=>{n=g.data.short_link})}I.toDataURL(p?n:o,{width:500}).then(g=>{this.setState({dingDingUrl:g})}).catch(()=>{G.default.error(this.props.t("personal.failedGenerateCode"))})},this.getShortLink=s=>h.WY.post({url:K.ZP.Common.getQrUrl(),data:{link:s}}),this.state={dingDingUrl:""}}componentDidMount(){this.initQRCode()}componentDidUpdate(a){a.visible!==this.props.visible&&this.props.visible&&this.initQRCode()}render(){var a=this.props,s=a.t,d=a.visible,p=a.onCancel,o=a.title,D=a.borderStyle,x=a.WxOption,b=a.tipInfo,L=(0,Q.Z)(a,["t","visible","onCancel","title","borderStyle","WxOption","tipInfo"]),$=this.state.dingDingUrl,f=this.props.userInfo.appType,n=o||s("component.microCourseScan"),C={dingDingUrl:$,tip:f==="fs_app"?s("component.useMobileFsScan"):b||s("component.useMobileDingtalkScan")},g={};return x&&(g={flag:x.flag,scene:x.scene,tip:x.tip||s("component.useMobileWxScan")}),d?l().createElement(P.ZP,{visible:d,width:"400",footer:null,bodyStyle:D?{maxHeight:"initial",minHeight:366,width:332}:{width:332},title:n,onCancel:p,destroyOnClose:!0},x||f==="fs_app"?l().createElement(c,{WxOption:g,dingDingOption:C,appS:!0}):l().createElement(i,L)):null}}var u=(0,_.$j)(m=>{var a=m.user;return{userInfo:a}})((0,E.Z)()(v))},63848:function(q,V,e){"use strict";var Q=e(36877),y=e(32969),G=e(12924),Z=e.n(G),l=e(91768),E=e(56130);class P extends Z().PureComponent{constructor(){super(...arguments);this.onChange=(_,h)=>{this.props.onChange(_,h)}}render(){var _=this.props,h=_.value,K=_.classify,T=_.showLabel,R=_.className,W=_.t,M=_.style;return Z().createElement("div",{className:"classify-cascader ".concat(R)},T?Z().createElement("span",{className:"classify-cascader-label"},W("component.selectClassifyLabel")):null,Z().createElement(y.Z,{changeOnSelect:this.props.changeOnSelect,className:"classify-cascader-select ".concat(R),options:K,onChange:this.onChange,placeholder:W("component.selectClassifyLabel"),value:h,style:M,loadData:this.props.loadData}))}}P.defaultProps={showLabel:!0,changeOnSelect:!0,onChange:()=>{}},V.Z=(0,E.Z)((0,l.Z)()(P))},54792:function(q,V,e){"use strict";var Q=e(62029),y=e(63185),G=e(9676),Z=e(47673),l=e(4107),E=e(88986),P=e(12924),I=e.n(P),_=e(91768),h=e(59239),K=e(55446),T=e.n(K),R=e(18329),W=e(2396);class M extends I().Component{constructor(){super(...arguments);this.state={isChecked:!1},this.handleBeforeCreate=()=>{var r=this.props,S=r.form,O=r.id,N=r.onCreate,c=this.state.isChecked;S.validateFields((z,Y)=>{if(!z){var B=(0,E.Z)({},Y);c||(B.value=0);var t=(0,E.Z)((0,E.Z)({},B),{},{id:O});N(t),setTimeout(()=>{S.resetFields()},100)}})},this.handleBeforeCancel=()=>{var r=this.props,S=r.form,O=r.onCancel;O(),setTimeout(()=>{S.resetFields()},100)},this.checkScore=(r,S,O)=>{var N=this.props.t,c=this.state.isChecked;if(c&&(0,W.kh)(S)){O(N("component.setScoreRuleTip"));return}O()},this.handleCheckChange=r=>{this.setState({isChecked:r.target.checked})},this.renderItem=()=>{var r=this.props,S=r.form,O=r.initialValue,N=r.labelTxt,c=this.state.isChecked,z=S.getFieldDecorator,Y={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},B=c?z("value",{initialValue:O,rules:[{validator:this.checkScore}]})(I().createElement(l.Z,{maxLength:30,placeholder:""})):null,t=I().createElement(I().Fragment,null,I().createElement(G.Z,{checked:c,onChange:this.handleCheckChange},N));return I().createElement(h.Z.Item,(0,Q.Z)({label:t},Y),B)}}componentDidUpdate(r){this.props.visible&&this.props.visible!==r.visible&&this.setState({isChecked:!!this.props.initialValue})}render(){var r=this.props,S=r.visible,O=r.title,N=r.prefixCls;return I().createElement(R.ZP,{size:"small",visible:S,title:O,onCancel:this.handleBeforeCancel,onOk:this.handleBeforeCreate},I().createElement(h.Z,{className:"".concat(N),layout:"horizontal",colon:!1},this.renderItem(),I().createElement("div",{className:"".concat(N,"__children")},this.props.children)))}}M.defaultProps={prefixCls:"cl-setscore",id:"",visible:!1,title:"SetScore",labelTxt:"",initialValue:"",onCancel:()=>{},onCreate:()=>{}};var A=h.Z.create({name:"ClSetupBoxInModal"})(M);V.Z=(0,_.Z)()(A)},11449:function(q,V,e){"use strict";e.d(V,{Z:function(){return v}});var Q=e(88986),y=e(33565),G=e(12924),Z=e.n(G),l=e(3115),E=e(49111),P=e(19650),I=e(62029),_=e(57663),h=e(71577),K=e(91768),T=e(28216),R=e(37055),W=e(10237);function M(u){var m=R.ZP.getHelpContentByMenuKey(),a={key:u};return W.WY.get({url:m,params:a})}var A=e(74228),U=e.n(A),r=e(1164),S=e(76466),O=e(38642);class N extends Z().Component{constructor(m){var a;super(m);a=this,this.getHelpContentByMenuKey=()=>{var s=this.props.defaultMenuKey;M(s).then(d=>{var p=d.data,o=p.help_url,D=p.video_url;this.setState({videoUrl:D,helpUrl:o})})},this.handleOpenHelpUrl=s=>{if((0,O.ve)()){window.open(s,"_blank");return}r.Z.targetTo({path:s,isExternalLink:!0})},this.handleOpenVideo=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.props.t("helpCenter.video");a.setState(p=>({resourcePlayInfo:(0,Q.Z)((0,Q.Z)({},p.resourcePlayInfo),{},{resourceInfo:{originUrl:s,source:{FD:s,OD:s},contentType:"mp4"}}),previewInfo:(0,Q.Z)((0,Q.Z)({},p.previewInfo),{},{title:d,visible:!0,onCancel:a.handleCancelPreview})}))},this.handleCancelPreview=()=>{var s=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,Q.Z)((0,Q.Z)({},s),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:m.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var m=this.state,a=m.helpUrl,s=m.resourcePlayInfo,d=m.previewInfo,p=m.videoUrl,o=this.props.t;return Z().createElement("div",{className:U().helpCenter},p&&Z().createElement(h.Z,{type:"link",className:U()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(p)},o("helpCenter.video")),a&&Z().createElement(h.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(a)},o("helpCenter.tutorial")),Z().createElement(S.Z,(0,I.Z)({},s,{previewInfo:d})))}}var c=u=>({defaultMenuKey:u.currentRoute.menuKey});N.defaultProps={defaultMenuKey:""};var z=(0,T.$j)(c)((0,K.Z)()(N));function Y(u){var m=u.extra,a=localStorage.getItem("dingPersonnel"),s=sessionStorage.getItem("dingPersonnel");return Z().createElement(P.Z,null,m,a!=="dingPersonnel"&&s!=="dingPersonnel"&&(0,O.eY)("COMMONEXTRA_HELP_CENTER")&&Z().createElement(z,null))}var B=Y,t=e(4408);function i(u){var m=(0,G.useState)({helpCenter:(0,O.eY)("HEAD_HELP_CENTER_BUT")}),a=(0,y.Z)(m,1),s=a[0],d=u.pageContainerParams,p=d===void 0?{}:d,o=u.noPadding,D=o===void 0?!1:o,x=u.isPersonal,b=x===void 0?!1:x,L=u.pageTitle,$=u.className,f=$===void 0?"":$,n={extra:s.helpCenter?Z().createElement(B,{extra:p.extra}):p.extra},C=(0,Q.Z)((0,Q.Z)({},p),n);return Z().createElement("div",{className:"page-container-content ".concat(D?"page-container-noPadding":""," ").concat(b?"page-container-content_personal_background":""," ").concat(f)},L&&Z().createElement(t.Z,{title:L}),b?Z().createElement(l.Z,null,u.children):Z().createElement(l.Z,C,u.children))}var v=i},27550:function(q,V,e){"use strict";var Q=e(57663),y=e(71577),G=e(63185),Z=e(9676),l=e(43358),E=e(34041),P=e(88983),I=e(47933),_=e(12924),h=e.n(_),K=e(28216),T=e(91768),R=e(49101),W=e(84391),M=e(1164),A=e(48479),U=e(2971),r=e(45601),S=e(7249),O=e(64549),N=e(31945),c=Y=>{var B=Y.user,t=Y.currentRoute,i=Y.advancedSetting;return{currentPath:t.path,allAuthRoutes:t.allAuthRoutes,userLng:B.lng,themeColor:i.themeColor}};class z extends h().Component{constructor(B){super(B);this.setPlaceholder=()=>{var t=this.props,i=t.currentPath,v=t.allAuthRoutes,u=t.userLng,m=this.state.language,a=v[i];if(!!a){var s=m[u].searchInputPlaceholder,d="";a.menuKey==="studyTemplate"||a.menuKey==="examTemplate"?d=s.template:a.menuKey==="management"||a.menuKey==="employee"||a.menuKey==="obligatory"||a.menuKey==="elective"||a.menuKey==="plan"||a.menuKey==="evaluation"||a.menuKey==="myEvaluationPlan"?d=s.task:d=s[a.menuKey],this.setState({currentPlaceholder:d})}},this.handleRadiosChange=t=>{this.props.onRadiosChange(t.target.value)},this.handleSelectChange=t=>{this.props.onSelectChange(t)},this.handleSearch=t=>{this.props.onSearch(t)},this.handleChange=t=>{this.props.onCheckboxChange(t.target.checked)},this.handleDownload=()=>{this.props.onDownload()},this.renderRadios=()=>{var t=this.props,i=t.prefixCls,v=t.radioList,u=t.defaultRadioValue,m=t.radioValue;if(!v.length)return null;var a=u||v[0].value,s="".concat(i,"__radios");return h().createElement("div",{className:s},typeof m!="undefined"?h().createElement(I.ZP.Group,{defaultValue:a,value:m,onChange:this.handleRadiosChange},v.map(d=>h().createElement(I.ZP.Button,{key:d.value,value:d.value},d.name))):h().createElement(I.ZP.Group,{defaultValue:a,onChange:this.handleRadiosChange},v.map(d=>h().createElement(I.ZP.Button,{key:d.value,value:d.value},d.name))))},this.renderSelect=()=>{var t=this.props,i=t.prefixCls,v=t.selectList,u=t.defaultSelectValue;if(!v.length)return null;var m=u||v[0].value,a="".concat(i,"__select");return h().createElement("div",{className:a},h().createElement(E.Z,{defaultValue:m,onChange:this.handleSelectChange,getPopupContainer:()=>document.getElementsByClassName("cl-listQueryRow__select")[0],style:{minWidth:100}},v.map(s=>h().createElement(E.Z.Option,{key:s.value,value:s.value},s.name))))},this.renderOther=()=>{var t=this.props,i=t.prefixCls,v=t.renderOther,u=t.showOther,m="".concat(i,"__other");if(u&&v&&typeof v=="function")return h().createElement("div",{className:m},v())},this.renderCheckbox=()=>{var t=this.props,i=t.prefixCls,v=t.t,u=t.label,m=t.showCheckbox,a=t.renderActionSelect,s="".concat(i,"__checkbox");return!m&&a&&typeof a=="function"?h().createElement("div",{className:s},a()):m?h().createElement("div",{className:s},h().createElement(Z.Z,{onChange:this.handleChange},u||v("common.myCreated"))):null},this.renderSearch=()=>{var t=this.props,i=t.prefixCls,v=t.showSearch,u=t.inputPlaceholder,m=t.maxLength,a=m===void 0?400:m,s="".concat(i,"__search");if(!v)return null;var d=this.state.currentPlaceholder;return u?h().createElement("div",{className:s},h().createElement(A.Z,{onSearch:this.handleSearch,placeholder:u,width:272,maxLength:a})):h().createElement("div",{className:s},h().createElement(A.Z,{onSearch:this.handleSearch,placeholder:d,width:272,maxLength:a}))},this.renderActionBtn=()=>{var t=this.props,i=t.prefixCls,v=t.actionText,u=t.t,m=t.tabLink,a=t.showBtn,s=t.renderActionBtn,d=t.popOverProps,p=d===void 0?[]:d,o=t.renderGuide,D=o===void 0?!1:o,x=t.showDownloadBtn,b=x===void 0?!1:x,L=t.guideClassName,$=L===void 0?"guide-popover":L,f=t.themeColor,n="".concat(i,"__action");return!a&&s&&typeof s=="function"?h().createElement("div",{className:n},s()):!a||!v?null:h().createElement("div",{className:n},h().createElement(M.Z,{to:m},h().createElement(y.Z,{type:"primary",icon:h().createElement(R.Z,null)},v)),h().createElement(O.Z,{className:$,renderGuide:D,guidePageProps:p,direction:"left",showDownloadBtn:b}),b&&h().createElement(y.Z,{style:{marginLeft:"8px",color:f,border:"1px solid ".concat(f)},icon:h().createElement(W.Z,null),onClick:this.handleDownload},u("common.exportData")))},this.renderQueryRow=()=>{var t=this.props,i=t.queryRowParams,v=t.queryRowList,u=t.queryRowSelectedCourseIds,m=t.queryRowSelectedProjectIds,a=t.queryRowOnForceRender,s=t.queryRowOnClassifyChange,d=t.queryRowOnTypeChange,p=t.queryRowOnCourseTypeChange,o=t.queryRowAllowActions;return h().createElement(N.Z,{params:i,list:v,selectedCourseIds:u,selectedProjectIds:m,onForceRender:a,onClassifyChange:s,onTypeChange:d,onCourseTypeChange:p,allowActions:o,showRenderCondition:!1})},this.rendeExtraBtn=()=>{var t=this.props,i=t.t,v=t.extraBtnSelectedRowKeys,u=t.extraBtnHandleMultiVisibleRange;return h().createElement(y.Z,{disabled:v.length===0,onClick:u},i("courseManage.setTheVisibility"))},this.state={language:{zh_cn:r.Z,en_us:U.Z,zh_hk:S.Z},currentPlaceholder:""}}componentDidMount(){this.setPlaceholder()}componentDidUpdate(B){B.userLng!==this.props.userLng&&this.setPlaceholder()}render(){var B=this.props,t=B.prefixCls,i=B.wrapCls,v=B.showRenderRadios,u=v===void 0?!0:v,m=B.showRenderQueryRow,a=B.showRendeExtraBtn,s=B.showRenderSelect;return h().createElement(h().Fragment,null,h().createElement("div",{className:"render_other"},this.renderOther(),h().createElement("header",{className:"".concat(t," ").concat(i)},h().createElement("section",{className:"".concat(t,"__radiocol")},this.renderActionBtn(),m&&this.renderQueryRow(),a&&this.rendeExtraBtn()),h().createElement("section",{className:"".concat(t,"__searchcol")},this.renderCheckbox(),u&&this.renderRadios(),s&&this.renderSelect(),this.renderSearch()))))}}z.defaultProps={prefixCls:"cl-listQueryRow",wrapCls:"",label:"",actionText:"add",showRadioList:!0,showCheckbox:!0,showSearch:!0,showBtn:!0,inputPlaceholder:"",defaultRadioValue:"",radioList:[],searchStylesProps:{},showRenderSelect:!1,selectList:[],renderActionBtn:()=>null,onRadiosChange:()=>{},onSearch:()=>{},onCheckboxChange:()=>{}},V.Z=(0,K.$j)(c)((0,T.Z)()(z))},14328:function(q,V,e){"use strict";var Q=e(34669),y=e(82833),G=e(88986),Z=e(81211),l=e(12924),E=e.n(l),P=e(91768),I=e(56932),_=e.n(I);class h extends E().Component{constructor(){super(...arguments);this.handleClick=T=>{var R=this.props,W=R.onClick,M=(0,Z.Z)(R,["onClick"]);W({$event:T,props:(0,G.Z)({},M)})},this.renderHeader=()=>{var T=this.props,R=T.prefixCls,W=T.avatar,M=T.name,A=T.showScore,U=T.score,r=T.t,S="".concat(R,"__header"),O=W||_();return E().createElement("h1",{className:S},E().createElement("div",{className:"".concat(S,"__left")},E().createElement("img",{className:"".concat(S,"__avatar"),src:O,alt:""}),E().createElement("span",{className:"".concat(S,"__name")},M),E().createElement("span",{className:"".concat(S,"__infotxt")},r("myExamTask.assigned")),A&&E().createElement("span",{className:"".concat(S,"__score")},U,r("common.credit"))),this.renderTypeBadge())},this.renderTypeBadge=()=>{var T=this.props,R=T.prefixCls,W=T.badgeType,M=W===void 0?"none":W,A=T.t,U={1:A("study.onlineTask"),2:A("study.offlineTask"),3:A("study.hybridTask"),4:A("study.newEmployeeTask"),6:A("study.courseTask")};if(M==="none")return null;var r="".concat(R,"__header__badge ").concat(R,"__header__badge-").concat(M);return E().createElement("div",{className:"".concat(R,"__header__right")},E().createElement("span",{className:r},U[M]))},this.renderBody=()=>{var T=this.props,R=T.prefixCls,W=T.title,M=T.subTile,A="".concat(R,"__body");return E().createElement("div",{className:A},E().createElement("h2",{className:"".concat(A,"__title"),title:W},W),E().createElement("p",{className:"".concat(A,"__subTile")},M))},this.renderFooter=()=>{var T=this.props,R=T.prefixCls,W=T.progress,M=T.renderFooterTip,A=T.qualifiedStatus,U=T.t,r="".concat(R,"__footer"),S=M();return E().createElement("div",{className:r},E().createElement("div",{className:"".concat(r,"__progress")},E().createElement(y.Z,{percent:W,status:"normal",size:"small"})),S&&E().createElement("div",{className:"".concat(r,"__footertip")},S),A==="true"&&E().createElement("div",{className:"".concat(r,"__statusTip")},U("study.employeePass")))}}render(){var T=this.props.prefixCls;return E().createElement("div",{className:T,onClick:this.handleClick},E().createElement("div",{className:"".concat(T,"__main")},this.renderHeader(),this.renderBody(),this.renderFooter()))}}h.defaultProps={prefixCls:"cl-taskCard",avatar:_(),name:"",actionName:"\u6307\u6D3E",title:"",subTile:"",progress:0,item:{},showScore:!1,score:0,badgeType:"none",renderFooterTip:()=>null,onClick:()=>{}},V.Z=(0,P.Z)()(h)},69284:function(q,V,e){"use strict";e.r(V),e.d(V,{default:function(){return Y}});var Q=e(14781),y=e(53431),G=e(20228),Z=e(11382),l=e(88986),E=e(12924),P=e.n(E),I=e(91768),_=e(57068),h=e(14328),K=e(27550),T=e(19788);class R extends P().Component{constructor(t){super(t);this.handleCancel=()=>{this.props.handleCancel()},this.state={}}render(){var t=this.props,i=t.visible,v=t.planId,u=t.t,m="/pages/messageRedirect/messageRedirect?flag=study&planId=".concat(v);return P().createElement(T.Z,{visible:i,pageUrl:m,title:u("exam.taskFaceKnowQrCodeTitle"),tipInfo:u("exam.taskFaceKnowQrCodeTip"),onCancel:this.handleCancel})}}R.defaultProps={visible:!1,handleCancel:()=>{}};var W=(0,I.Z)()(R),M=e(87312),A=e(11449),U=e(10237),r=e(37055),S=e(6793),O=e(4408),N=e(38642),c={getRadiosNum:r.ZP.LearningMyObligatoryTask.getRadiosNum,getTableList:r.ZP.LearningMyObligatoryTask.getTableList,getEvaluationCount:r.ZP.evaluateManage.queryEvaluationCount,getEvaluationList:r.ZP.evaluateManage.queryMyEvaluationList};class z extends P().Component{constructor(){super(...arguments);this.state={params:{status:0,keyword:"",pageNumber:1,pageSize:20,sortName:"createTime",sortOrder:"desc",type:2,timestamp:Date.parse(new Date)},radioList:[],tableLoading:!0,tableList:[],tableTotal:0,showFaceQrCode:!1,clickTaskId:null},this.initData=()=>{this.initRadioList(),this.initTableList()},this.initRadioList=()=>{var t=this.props,i=t.t,v=t.type;if(v==="myTest"){var u=c.getEvaluationCount();U.WY.get({url:u}).then(a=>{var s=a.data[0],d=s.finished_count,p=s.total_count,o=s.unfinished_count;this.setState({radioList:[{name:"".concat(i("common.all"),"(").concat(p,")"),value:""},{name:"".concat(i("common.unFinish"),"(").concat(o,")"),value:"unfinished"},{name:"".concat(i("dashboard.completed"),"(").concat(d,")"),value:"finished"}]})})}else{var m=c.getRadiosNum();U.WY.get({url:m}).then(a=>{var s=a.data,d=s.finishCount,p=s.totalCount,o=s.unFinishCount;this.setState({radioList:[{name:"".concat(i("common.all"),"(").concat(p,")"),value:0},{name:"".concat(i("common.unFinish"),"(").concat(o,")"),value:1},{name:"".concat(i("dashboard.completed"),"(").concat(d,")"),value:2}]})})}},this.initTableList=()=>{this.setState({tableLoading:!0});var t=this.props.type;if(t==="myTest"){var i=this.state.params,v=i.status,u=i.keyword,m=i.pageNumber,a=i.pageSize,s={keyword:u,page_number:m,page_size:a};v!==0&&(s.status=v);var d=c.getEvaluationList();U.WY.get({url:d,params:s}).then(o=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:o.data.list,tableTotal:o.data.total})},300)})}else{var p=c.getTableList();U.WY.get({url:p,params:this.state.params}).then(o=>{setTimeout(()=>{this.setState({tableLoading:!1,tableList:o.data.list,tableTotal:o.data.total})},300)})}},this.handleQueryRowRadiosChange=t=>{this.resetPagination().then(()=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{status:t})}),()=>{this.initTableList()})})},this.handleQueryRowSearch=t=>{this.resetPagination().then(()=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{keyword:t})}),()=>{this.initTableList()})})},this.handleNumberChange=t=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{pageNumber:t})}),()=>{this.initTableList()})},this.handleSizeChange=(t,i)=>{this.setState(v=>({params:(0,l.Z)((0,l.Z)({},v.params),{},{pageSize:i})}),()=>{this.initTableList()})},this.resetPagination=()=>new Promise(t=>{this.setState(i=>({params:(0,l.Z)((0,l.Z)({},i.params),{},{pageNumber:1,pageSize:20})}),()=>{t()})}),this.handleCardClick=t=>{if(t.props.item.faceRecognition==="on"){this.setState({clickTaskId:t.props.item.id,showFaceQrCode:!0});return}var i=this.props.type;i==="myTest"?(0,N.eJ)({url:"/talentedDevelopment/evaluationMenu/myTestTask/trainingTaskDetail?".concat(_.stringify({id:t.props.item.id,fromPage:"myTestTask"}))}):(0,N.eJ)({url:"/training/learning/task/myObligatoryTaskView?".concat(_.stringify({id:t.props.item.id,fromPage:"myObligatoryTask"}))})},this.renderTaskList=()=>{var t=this.props,i=t.prefixCls,v=t.t,u=t.type,m=this.state,a=m.tableList,s=m.tableLoading,d="".concat(i,"__content__tasks cl-flearfix"),p;return s?p=P().createElement(Z.Z,{size:"large"}):a.length?p=a.map(o=>{var D=o.id,x=o.title,b=o.creatorName,L=o.creator_avatar,$=o.beginTime,f=o.endTime,n=o.process,C=o.show_score,g=o.award_score,k=o.taskType,j=o.qualified_status,w=o.appoint_user_name,F=o.begin_time,H=o.end_time,ee=o.term_type,J=o.complete_status,X=o.finish_promote;if(u==="myTest"){var te=X==="false"&&J===1||X==="true"&&j==="true";return P().createElement(h.Z,{key:D,avatar:L,name:w,title:x,subTile:ee==="permanent"?v("questionn.investigateDetailPermanent"):"".concat((0,S.p6)(F)," ~ ").concat((0,S.p6)(H)),progress:J===1?100:0,onClick:this.handleCardClick,item:(0,l.Z)({},o),showScore:!1,badgeType:"none",qualifiedStatus:te?"true":"false",renderFooterTip:()=>this.renderTestCardTip(o,te)})}return P().createElement(h.Z,{key:D,avatar:L,name:b,title:x,subTile:"".concat((0,S.p6)($)," ~ ").concat((0,S.p6)(f)),progress:n,onClick:this.handleCardClick,item:(0,l.Z)({},o),showScore:C==="true",score:g,badgeType:k,qualifiedStatus:j,renderFooterTip:()=>this.renderTaskCardTip(o)})}):p=P().createElement(M.Z,{className:"no-task-tip"}),P().createElement("div",{className:d},p)},this.renderTaskCardTip=t=>{var i=t.endTime,v=t.process,u=this.state.params.timestamp;return i<u&&+v<100?P().createElement("span",{className:"cl-primary",style:{color:"#D64F4F"}},this.props.t("common.overdue")):null},this.renderTestCardTip=(t,i)=>{var v=t.overdue;return!i&&v==="true"?P().createElement("span",{className:"cl-primary",style:{color:"#D64F4F"}},this.props.t("common.overdue")):null},this.renderPagination=()=>{var t=this.props.prefixCls,i=this.state,v=i.params,u=i.tableTotal,m="".concat(t,"__content__pagination"),a=(0,l.Z)((0,l.Z)({},r.XE.INITIAL_PAGINATION),{},{total:u,current:v.pageNumber,pageSize:v.pageSize,onChange:this.handleNumberChange,onShowSizeChange:this.handleSizeChange});return P().createElement("div",{className:m},P().createElement(y.Z,a))},this.hiddenFaceQrCode=()=>{this.setState({showFaceQrCode:!1})}}componentWillMount(){this.props.type==="myTest"?(0,N.eJ)({url:"/personal/profile?tab=myAssessment",actionType:"replace"}):(0,N.eJ)({url:"/personal/profile?tab=myObligatoryTask",actionType:"replace"})}componentDidMount(){this.initData()}render(){var t=this.props,i=t.prefixCls,v=t.t,u=t.type,m=this.state,a=m.radioList,s=m.clickTaskId,d=m.showFaceQrCode,p=v(u==="myTest"?"leftMenuLists.myTestTask":"leftMenuLists.myTrainingTask");return P().createElement(A.Z,{pageContainerParams:{header:{title:p}}},P().createElement(O.Z,{title:p}),P().createElement("div",{className:i},P().createElement(K.Z,{radioList:a,defaultRadioValue:"",showCheckbox:!1,showBtn:!1,onRadiosChange:this.handleQueryRowRadiosChange,onSearch:this.handleQueryRowSearch}),P().createElement("div",{className:"".concat(i,"__content")},this.renderTaskList(),this.renderPagination()),P().createElement(W,{planId:s,visible:d,handleCancel:this.hiddenFaceQrCode})))}}z.defaultProps={prefixCls:"my-obligatory-task"};var Y=(0,I.Z)()(z)},31945:function(q,V,e){"use strict";e.d(V,{Z:function(){return $}});var Q=e(88983),y=e(47933),G=e(20228),Z=e(11382),l=e(62029),E=e(30887),P=e(99210),I=e(59250),_=e(13013),h=e(57663),K=e(71577),T=e(63185),R=e(9676),W=e(71194),M=e(57016),A=e(88986),U=e(34792),r=e(48086),S=e(43358),O=e(34041),N=e(12924),c=e.n(N),z=e(28216),Y=e(91768),B=e(57254),t=e(18329);class i extends c().Component{constructor(){super(...arguments);this.onCancel=()=>{this.props.showReferenceCourseList()}}render(){var n=this.props,C=n.visible,g=n.courseList,k=n.t;return c().createElement(t.ZP,{visible:C,title:k("common.tip"),onCancel:this.onCancel,onOk:this.onCancel},c().createElement("div",{className:"referenceWithOtherCourses"},c().createElement("div",{className:"referenceWithOtherCourses__tip"},k("course.deleteCourseTip")),g.map((j,w)=>c().createElement("div",{className:"referenceWithOtherCourses__item",key:w},g.length>1?"".concat(w+1,"\u3001"):null," ",j))))}}var v=(0,Y.Z)()(i),u=e(10237),m=e(63848),a=e(58546),s=e(30389),d=e(54792),p=e(86726),o=e(37055),D=O.Z.Option,x={setClassify:o.ZP.CourseManageList.setClassify,setScore:o.ZP.CourseManageList.setScore,setBatchEmployee:o.ZP.CourseManageList.setBatchEmployee,deleteCourse:o.ZP.CourseManageList.deleteCourse,exportCourseView:o.ZP.CourseManageList.exportCourseView,syncCourse:o.ZP.CourseManageList.syncCourse},b=f=>({qyShield:f.user.qyShield});class L extends c().Component{constructor(){super(...arguments);this.state={classifyProps:{visible:!1},scoreProps:{title:this.props.t("course.setCredits"),labelTxt:this.props.t("course.credit"),initialValue:"",visible:!1},employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}},asyncProps:{value:0,visible:!1},showReferenceCourseListProps:{visible:!1,courseList:[],onOk:this.showReferenceCourseList,onCancel:this.showReferenceCourseList}},this.handleChangeClassify=n=>{this.props.onClassifyChange(n)},this.handleChangeType=n=>{this.props.onTypeChange(n)},this.handleChangeCourseType=n=>{this.props.onCourseTypeChange(n)},this.actionChangeClassify=()=>{this.setState({classifyProps:{visible:!0}})},this.handleCategoryCancel=()=>{this.setState({classifyProps:{visible:!1}})},this.handleCategoryOk=n=>{var C=n.node,g=this.props,k=g.selectedCourseIds,j=g.selectedProjectIds,w=g.onForceRender,F=g.t,H=C.id;H&&u.qg.post({url:x.setClassify(),data:{course_ids:k.join(","),project_ids:j.join(","),classify_id:H}}).then(()=>{r.default.success(F("course.setCourseClassifySuccess")),w()}),this.handleCategoryCancel()},this.actionSetScore=()=>{this.setState(n=>({scoreProps:(0,A.Z)((0,A.Z)({},n.scoreProps),{},{initialValue:"",visible:!0})}))},this.handleScoreCancel=()=>{this.setState(n=>({scoreProps:(0,A.Z)((0,A.Z)({},n.scoreProps),{},{visible:!1})}))},this.handleScoreOk=n=>{var C=n.value;if(C===0){this.handleScoreCancel();return}var g=this.props,k=g.selectedCourseIds,j=g.selectedProjectIds,w=g.onForceRender,F=g.t;u.qg.post({url:x.setScore(),data:{course_ids:k.join(","),project_ids:j.join(","),credit:C}}).then(()=>{r.default.success(F("course.setCourseScoreSuccess")),w()}),this.handleScoreCancel()},this.actionSetEmployeeRange=()=>{this.setState(n=>({employeeProps:(0,A.Z)((0,A.Z)({},n.employeeProps),{},{visible:!0})}))},this.handleEmployeeCancel=()=>{this.setState({employeeProps:{visible:!1,initialParams:{employeeRange:{rangeType:3,rangeList:{dept:[],post:[],group:[],user:[]}}}}})},this.handleEmployeeOk=n=>{var C=this.props,g=C.selectedCourseIds,k=C.selectedProjectIds,j=C.onForceRender,w=C.t,F=n.isAll,H=n.departmentIds,ee=n.groupIds,J=n.postIds,X=n.userIds,te=n.qy_we_chat_vo;u.WY.post({url:x.setBatchEmployee(),data:{course_ids:g.join(","),project_ids:k.join(","),department_ids:H,group_ids:ee,is_all:F,post_ids:J,user_ids:X,qy_we_chat_vo:te}}).then(()=>{r.default.success(w("personal.batchSetRangeSuccess")),j()}),this.handleEmployeeCancel()},this.showReferenceCourseList=n=>{this.setState(C=>({showReferenceCourseListProps:(0,A.Z)((0,A.Z)({},C.showReferenceCourseListProps),{},{visible:!C.showReferenceCourseListProps.visible,courseList:n||[]})}))},this.actionDelete=()=>{var n=this.props,C=n.selectedCourseIds,g=n.selectedProjectIds,k=n.list,j=n.onForceRender,w=n.t,F=0,H=0,ee=[];if(k.forEach(J=>{C.includes(J.course_id)&&(J.reference_plan_count>0&&(H+=1),J.reference_plan_count>0&&ee.push(J.title),J.can_delete==="true"&&(F+=1))}),H>0)this.showReferenceCourseList(ee);else if(F!==C.length)r.default.warning(w("personal.deletePlatformCourseTip"));else{if(g.length>0){r.default.warning(w("personal.deleteProjectCourseTip"));return}M.Z.confirm({title:w("common.tip"),content:w("common.confirmDeleteTitle"),onOk(){u.qg.post({url:x.deleteCourse(),data:{enterpriseId:o.ZP.enterpriseId,ids:C.join(","),project_ids:g.join(",")}}).then(J=>{var X=J.data,te=X.code,ae=X.msg;r.default["".concat(te===0?"success":"warning")](ae),te===0&&j()})}})}},this.actionSyncSetting=()=>{this.setState(n=>({asyncProps:(0,A.Z)((0,A.Z)({},n.asyncProps),{},{visible:!0})}))},this.onAsyncChange=n=>{this.setState(C=>({asyncProps:(0,A.Z)((0,A.Z)({},C.asyncProps),{},{value:n.target.value})}))},this.handleSyncCancel=()=>{this.setState({asyncProps:{visible:!1,value:0}})},this.handleSyncOk=()=>{var n=this.props,C=n.selectedCourseIds,g=n.selectedProjectIds,k=n.onForceRender,j=n.t,w=this.state.asyncProps;u.qg.post({url:x.syncCourse(),data:{course_ids:C.join(","),project_ids:g.join(","),syncProgress:w.value}}).then(F=>{var H=F.data,ee=H.code,J=H.msg;ee===0?(r.default.success(j("setting.setUpSucceed")),k()):r.default.warning(J)}),this.handleSyncCancel()},this.actionImportDetail=()=>{var n=this.props,C=n.selectedCourseIds,g=n.selectedProjectIds,k=n.onForceRender,j=n.t;if(C.concat(g).length>20){r.default.warning(j("courseManage.exportMoreTip"));return}var w=x.exportCourseView(),F={course_Ids:C.join(","),project_Ids:g.join(",")};u.WY.get({url:w,params:F}).then(H=>{H.data.code===200&&r.default.success("\u6587\u4EF6\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u5728\u6587\u4EF6\u4E0B\u8F7D\u4E2D\u4E0B\u8F7D"),k(),this.getDownloadingNumber()})},this.getDownloadingNumber=()=>{var n=o.ZP.downLoadCenter.getDownLoadingCount();u.WY.get({url:n,params:{}}).then(C=>{sessionStorage.setItem("downloadingCount",C.data.data),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:C.data.data})}).catch(()=>{sessionStorage.setItem("downloadingCount",0),this.props.dispatch({type:"download/updateDownloadingNumber",downloadingNumber:0})})},this.handleChangeCheckBox=n=>{this.props.onCheckboxChange(n.target.checked)},this.handleSharingQueryRowCheckboxChange=n=>{this.props.onSharingCheckboxChange(n.target.checked)},this.renderCondition=()=>{var n=this.props,C=n.prefixCls,g=n.params,k=n.qyShield,j=n.t,w=g.classify_id?g.classify_id.split(","):[];return c().createElement("div",{className:"".concat(C,"__condition")},this.props.extraDom&&this.props.extraDom(),c().createElement(m.Z,{onChange:this.handleChangeClassify,className:"cl-search-normal-width",value:w,showLabel:!1,placeholder:"Please select",queryType:"course_manage",unclassified:"true"}),c().createElement(O.Z,{value:g.type,className:"cl-search-normal-width",onChange:this.handleChangeType},c().createElement(D,{value:""},this.props.t("courseManage.allOrigin")),c().createElement(D,{value:"original"},this.props.t("courseManage.originalCourse")),c().createElement(D,{value:"notOriginal"},this.props.t("courseManage.nonOriginalCourse")),c().createElement(D,{value:"platform"},this.props.t("courseManage.platformProcurement"))),this.props.courseType&&this.props.courseType=="graphic"?null:c().createElement(O.Z,{value:g.course_type,className:"cl-search-normal-width",onChange:this.handleChangeCourseType},c().createElement(D,{value:"all"},this.props.t("courseManage.allType")),c().createElement(D,{value:"course"},this.props.t("common.courseLabel")),c().createElement(D,{value:"microCourse"},this.props.t("common.microCourse")),c().createElement(D,{value:"project"},this.props.t("leftMenuLists.studyProject"))),c().createElement(R.Z,{onChange:this.handleChangeCheckBox,style:{marginRight:16}},j("common.myCreated")),this.props.courseType&&this.props.courseType==="graphic"&&k==="false"?c().createElement(R.Z,{onChange:this.handleSharingQueryRowCheckboxChange},j("common.sharing")):null)},this.renderActions=()=>{var n=this.props,C=n.prefixCls,g=n.selectedCourseIds,k=n.selectedProjectIds,j=n.showNum,w=j===void 0?1:j,F=this.props.allowActions,H=(0,p.H3)("delete",F),ee=(0,p.H3)("adjustment_classification",F),J=(0,p.H3)("set_visible",F),X=(0,p.H3)("export",F),te=(0,p.H3)("set_score",F),ae=(0,p.H3)("progressSync",F),ie=[{name:this.props.t("courseManage.adjustClassification"),type:"actionChangeClassify",isShow:ee},{name:this.props.t("courseManage.exportViewDetail"),type:"actionImportDetail",isShow:X},{name:this.props.t("courseManage.setCredits"),type:"actionSetScore",isShow:te},{name:this.props.t("courseManage.setTheVisibilityed"),type:"actionSetEmployeeRange",isShow:J},{name:this.props.t("common.delete"),type:"actionDelete",isShow:H},{name:this.props.t("common.scheduleSyncSetting"),type:"actionSyncSetting",isShow:ae}],re=ie.filter(se=>se.isShow),oe=[],ne=[];if(re.length)w?(oe=[...re.slice(0,w)],ne=[...re.slice(w)]):ne=[...re];else return null;return c().createElement("div",{className:"".concat(C,"__action")},oe.map(se=>c().createElement(K.Z,{style:{marginRight:"8px"},key:se.type,disabled:!(g.length+k.length),onClick:this[se.type]},se.name)),ne.length?c().createElement(_.Z,{disabled:!(g.length+k.length),overlay:this.renderMoreButton({buttons:ne})},c().createElement(K.Z,{className:"cl-pointer"},"".concat(this.props.t("common.more"))," ",c().createElement(B.Z,null))):"")}}renderMoreButton(n){var C=n.buttons,g=this.props,k=g.selectedCourseIds,j=g.selectedProjectIds;return c().createElement(P.Z,{onClick:w=>{var F=w.key;this[F]()}},C.map(w=>w.isShow?c().createElement(P.Z.Item,{key:w.type,disabled:!(k.length+j.length)},c().createElement("span",{className:"cl-pointer"},w.name)):null))}render(){var n=this.props,C=n.prefixCls,g=n.t,k=n.showRenderCondition,j=k===void 0?!0:k,w=n.showRenderActions,F=w===void 0?!0:w,H=this.state,ee=H.classifyProps,J=H.scoreProps,X=H.employeeProps,te=H.showReferenceCourseListProps,ae=H.asyncProps;return c().createElement("div",{className:C},j&&this.renderCondition(),F&&this.renderActions(),c().createElement(a.Z,(0,l.Z)({},ee,{title:g("personal.chooseClassify"),onCancel:this.handleCategoryCancel,onOk:this.handleCategoryOk})),c().createElement(d.Z,(0,l.Z)({},J,{onCancel:this.handleScoreCancel,onCreate:this.handleScoreOk})),X.visible&&c().createElement(s.Z,(0,l.Z)({},X,{title:g("courseManage.setTheVisibility"),mode:["all","part","private"],orgProps:{title:g("component.chooseVisibleScope")},isLoading:!X.visible,onCancel:this.handleEmployeeCancel,onCreate:this.handleEmployeeOk})),ae.visible&&c().createElement(t.ZP,{wrapClassName:"cl-async-selector-modal",visible:ae.visible,title:g("common.scheduleSyncSetting"),okText:g("common.ok"),cancelText:g("common.cancel"),onCancel:this.handleSyncCancel,onOk:this.handleSyncOk},ae.visible?c().createElement("div",{className:"".concat(C,"__async")},c().createElement("p",null," ",g("common.scheduleSyncSettingTip")),c().createElement(y.ZP.Group,{onChange:this.onAsyncChange,value:ae.value},c().createElement(y.ZP,{value:0},g("common.outSync")),c().createElement(y.ZP,{value:1},g("common.synchronization")))):c().createElement(Z.Z,{size:"large"})),c().createElement(v,(0,l.Z)({},te,{showReferenceCourseList:this.showReferenceCourseList})))}}L.defaultProps={prefixCls:"resource-course-list-page__release__content__queryrow",rangeType:""};var $=(0,Y.Z)()((0,z.$j)(b)(L))},41045:function(q,V,e){"use strict";e.r(V);var Q=e(62029),y=e(12924),G=e.n(y),Z=e(91768),l=e(69284);function E(P){return G().createElement(G().Fragment,null,G().createElement(l.default,(0,Q.Z)({},P,{type:"myTest"})))}V.default=(0,Z.Z)()(E)},56932:function(q){q.exports="data:image/png;base64,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"}}]);
