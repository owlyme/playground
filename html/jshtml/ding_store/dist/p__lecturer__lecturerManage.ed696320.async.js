(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[1714],{4408:function(Z,v,t){"use strict";var g=t(12924),o=t.n(g),T=t(28216),e=t(17780),h=t(38642),f=y=>({userInfo:y.user}),E=y=>{var a=y.title;return(0,e.xX)()&&setTimeout(()=>{document.title=a},0),(0,g.useEffect)(()=>{if(a&&document.title!==a&&setTimeout(()=>{document.title=a},0),(0,h.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var d=document.querySelector(".zoom-report");d&&(d.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[a]),o().createElement(o().Fragment,null)};E.defautProps={title:""},v.Z=(0,T.$j)(f)(E)},60667:function(Z,v,t){"use strict";t.d(v,{Z:function(){return y}});var g=t(33565),o=t(12924),T=t.n(o),e=t(28216);function h(a){var d=a.type,M=a.openid,u=a.from,L=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{u==="vue"?window.parent.WWOpenData.bind(L.current):WWOpenData.bind(L.current)}),T().createElement("ww-open-data",{ref:L,type:d,openid:M})}var f=a=>{var d=a.wxWorkApiFlag,M=a.appType,u=a.from,L=(0,o.useState)(!1),P=(0,g.Z)(L,2),w=P[0],O=P[1];(0,o.useEffect)(()=>{var p=localStorage.getItem("qyWechatBook");(M!=="wx_app"||d||p==="false"||u==="vue"||u==="taro")&&O(!0)},[d,M,u]);var x=(0,o.useCallback)(()=>{var p=a.type,S=a.value,C=a.name,I=C===void 0?"":C;switch(console.warn(a,"props"),p){case"wx_sync":{var A=a.dataType;return S?T().createElement(h,{from:u,type:A,openid:S}):I}default:return I}},[a]),D=()=>{var p=a.name,S=a.dataType,C=localStorage.getItem("qyWechatBook");if(S===""||C==="false")return p;if(u==="vue"||u==="taro")return x();switch(a.appType){case"wx_app":return x();default:return p}};return w?D():a.name};f.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var E=a=>({appType:a.user.appType,wxWorkApiFlag:a.user.wxWorkApiFlag}),y=(0,e.$j)(E)(f)},6925:function(Z,v,t){"use strict";t.r(v),t.d(v,{default:function(){return F}});var g=t(20228),o=t(11382),T=t(12924),e=t.n(T),h=t(91768),f=t(10237),E=t(37055),y=t(4408),a=t(57068),d=t(38642),M=t(60667);class u extends e().Component{constructor(n){super(n);this.getLecturerDetails=s=>{(0,d.eJ)({url:"/lecturer/lecturerManage/details?".concat(a.stringify({lecturerId:s}))})},this.state={}}componentDidMount(){}render(){var n=this.props,s=n.lecturerList,c=s===void 0?[]:s,l=n.t;return e().createElement("div",{className:"lecturerManage__content"},this.props.total>0?e().createElement(e().Fragment,null,c.map(r=>{var m=r.adept_field&&r.adept_field.length>3?r.adept_field.slice(0,3):r.adept_field;return e().createElement("div",{key:r.id,className:"lecturerManage__content__card",onClick:()=>this.getLecturerDetails(r.id)},e().createElement("div",{className:"lecturerManage__content__card__top"},e().createElement("img",{src:r.avatar||"".concat("https://oss.coolcollege.cn","/1790708689137700864.png"),className:"avatar",alt:""})),e().createElement("div",{className:"lecturerManage__content__card__bottom"},e().createElement("div",{className:"name"},r.type==="inside"?e().createElement(M.Z,{dataType:"userName",value:r.sync_user_id,name:r.lecturer_name,type:r.source_type}):r.lecturer_name,r.sex===0?e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1790706775494889472.png"),className:"sex",alt:""}):e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1790706776073703424.png"),className:"sex",alt:""})),e().createElement("div",{className:"levelname"},r.level_name||l("lecturerPage.noGrade")),e().createElement("div",{className:"tags"},m.map((i,N)=>e().createElement("span",{key:N,className:"tag"},i))),e().createElement("div",{className:"desc-bottom"},e().createElement("span",null,r.course_count,l("practiceOperation.items"),l("lecturerPage.courses")))))})):e().createElement("div",{className:"nodata"},e().createElement("img",{src:"".concat("https://oss.coolcollege.cn","/1789886518823882752.png")}),e().createElement("div",null,l("lecturerPage.noLecturer"))))}}var L=(0,h.Z)()(u),P=t(57361),w=t(47673),O=t(4107),x=t(9754),D=t.n(x),p=t(28216),S=t(65202),C=t(84874),I=O.Z.Search;class A extends e().Component{constructor(n){var s;super(n);s=this,this.foldLevel=()=>{this.setState({fold:!this.state.fold})},this.getLevelList=()=>{f.WY.get({url:E.ZP.Lecturer.getLevelList(),params:{}}).then(c=>{this.setState({levelList:c.data.list})})},this.handleKeyword=function(){var c=(0,P.Z)(D().mark(function l(r){var m;return D().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:m={level:s.state.levelId,label:s.state.label,status:1,keyword:r},s.props.onSearch(m);case 2:case"end":return N.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),this.getList=(c,l)=>{this.setState({levelId:c});var r={level:c,label:l,status:1,keyword:this.state.keyword};this.props.onSearch(r)},this.state={levelList:[],keyword:"",levelId:"",fold:!0,label:""}}componentDidMount(){this.getLevelList()}render(){var n=this.props.t,s=this.state,c=s.levelList,l=s.levelId,r=s.fold,m=(0,S.p)();return e().createElement("div",{className:"lecturerManage__header"},e().createElement("div",{className:"container"},e().createElement("div",{className:"lecturerManage__header__search"},e().createElement(I,{className:"search-input",placeholder:n("searchInputPlaceholder.lecturer"),allowClear:!0,enterButton:n("course.search"),onSearch:this.handleKeyword})),e().createElement("div",{className:"lecturerManage__header__classify"},e().createElement("div",{className:"lecturerManage__header__classify__content"},e().createElement("div",null,e().createElement("span",{className:"sign"},n("lecturerPage.grade"))),e().createElement("div",null,e().createElement("div",{className:"classification ".concat(r?"fold":null)},e().createElement("span",{style:l===""?{color:m}:{},onClick:()=>this.getList("")},n("common.all")),c.map(i=>e().createElement("span",{style:i.id===l?{color:m}:{},key:i.id,onClick:()=>this.getList(i.id,i.name),title:i.name},i.name)))),e().createElement("div",null,e().createElement("span",{className:"arrow",onClick:this.foldLevel},r?e().createElement(C.Z,{iconClass:"iconicon_s"}):e().createElement(C.Z,{iconClass:"iconicon_s1"})))))))}}var B=(0,p.$j)(W=>({appType:W.user.appType}))((0,h.Z)()(A)),R={getLecturerList:E.ZP.Lecturer.getLecturerList};class $ extends e().Component{constructor(n){super(n);this.onSearch=s=>{this.getLecturerList(s)},this.getLecturerList=s=>{f.WY.get({url:R.getLecturerList(),params:s}).then(c=>{c.data.list=c.data.list.map(l=>(l.adept_field=l.adept_field?l.adept_field.split(","):[this.props.t("lecturerPage.noTag")],l)),this.setState({lecturerList:c.data.list,total:c.data.total,loading:!1})})},this.state={lecturerList:[],total:"",loading:!0}}componentDidMount(){var n={status:1};this.getLecturerList(n)}render(){var n=this.props,s=n.prefixCls,c=n.t,l=this.state,r=l.lecturerList,m=l.total,i=l.loading;return e().createElement("div",{className:s},e().createElement(y.Z,{title:c("home.lecturer")}),e().createElement("div",{className:"".concat(s,"__main-content")},e().createElement(B,{onSearch:this.onSearch}),i?e().createElement(o.Z,{size:"large"}):e().createElement(L,{lecturerList:r,total:m})))}}$.defaultProps={prefixCls:"lecturerManage"};var F=(0,h.Z)()($)},65202:function(Z,v,t){"use strict";t.d(v,{p:function(){return g}});function g(){return localStorage.getItem("themeColor")||"#516AE6"}}}]);
