(self.webpackChunkkuxueyuan_manage=self.webpackChunkkuxueyuan_manage||[]).push([[3717],{4408:function(Re,he,r){"use strict";var K=r(12924),e=r.n(K),G=r(28216),O=r(17780),ae=r(38642),h=I=>({userInfo:I.user}),R=I=>{var u=I.title;return(0,O.xX)()&&setTimeout(()=>{document.title=u},0),(0,K.useEffect)(()=>{if(u&&document.title!==u&&setTimeout(()=>{document.title=u},0),(0,ae.UI)("SCALE")){document.querySelector("body").style.zoom="0.8";var c=document.querySelector(".zoom-report");c&&(c.style.zoom="1.2")}return()=>{localStorage.getItem("name")||(document.querySelector("body").style="")}},[u]),e().createElement(e().Fragment,null)};R.defautProps={title:""},he.Z=(0,G.$j)(h)(R)},76343:function(Re,he,r){"use strict";var K=r(71194),e=r(57016),G=r(57361),O=r(88986),ae=r(57663),h=r(71577),R=r(34792),I=r(48086),u=r(9754),c=r.n(u),g=r(12924),P=r.n(g),_=r(91768),V=r(96120),D=r.n(V),$=r(24144);class ee extends g.PureComponent{constructor(){super(...arguments);this.state={src:null,crop:{unit:"%",width:80,height:80,x:10,y:10,aspect:16/9},imgBold:{},fileName:"",imgType:"image/jpg"},this.onSelectFile=E=>{if(E.target.files&&E.target.files.length>0){var C=new FileReader,T=E.target.files[0];C.addEventListener("load",()=>{this.setState({src:C.result,fileName:T.name,imgType:T.type})}),C.readAsDataURL(T)}},this.onImageLoaded=E=>{this.imageRef=E},this.onCropComplete=E=>{this.makeClientCrop(E)},this.onCropChange=E=>{this.setState({crop:E})},this.onOk=()=>{var E=this.state,C=E.imgBold,T=E.imgType,J=new File([C],C.name,{type:T}),Z=new FormData;Z.append("file",J),Z.append("access_token",localStorage.getItem("token")),(0,$.ws)(Z).then(z=>{z.data.code===0&&(this.props.isShowMsg&&I.default.success("".concat(this.props.t("course.courseDetailCoverSuccess"))),this.handleSuccessUpload(z.data))}).catch(z=>{var Y=this.props.onUploadFailed;Y&&Y({error:z,data:{fileList:[{fileName:J.name}]}})})},this.handleSuccessUpload=E=>{var C=this.props.onOk,T=E.data,J=T.fileNewName,Z=T.server,z=T.fileName,Y="".concat(Z,"/").concat(J);C({fileName:z,imgUrl:Y,fileNewName:J})},this.renderFooter=()=>{var E=this.props,C=E.prefixCls,T=E.t,J=E.accept,Z="".concat(C,"__upload");return P().createElement("div",{className:"".concat(C,"__footer")},P().createElement(h.Z,{type:"default",className:Z},T("component.reUpload"),P().createElement("input",{type:"file",multiple:!1,accept:J,onChange:this.onSelectFile})),P().createElement(h.Z,{type:"primary",onClick:this.onOk},T("common.ok")))}}componentDidMount(){var E=this.props,C=E.file,T=E.widthScale,J=E.heightScale,Z=this.state.crop,z=new FileReader;z.readAsDataURL(C),z.addEventListener("load",()=>{this.setState({src:z.result,crop:(0,O.Z)((0,O.Z)({},Z),{},{aspect:T/J}),fileName:C.name,imgType:C.type})})}getCroppedImg(E,C,T){var J=this.state.imgType,Z=this.props.quality,z=document.createElement("canvas"),Y=E.naturalWidth/E.width,B=E.naturalHeight/E.height;Z?(z.width=C.width*Y,z.height=C.height*Y):(z.width=C.width,z.height=C.height);var Q=z.getContext("2d");return Q.drawImage(E,C.x*Y,C.y*B,C.width*Y,C.height*B,0,0,z.width,z.height),new Promise((fe,Pe)=>{z.toBlob(Ee=>{if(!Ee){Pe(new Error("Canvas is empty"));return}Ee.name=T,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(Ee),this.setState({imgBold:Ee}),fe(this.fileUrl)},J,Z)})}makeClientCrop(E){var C=this;return(0,G.Z)(c().mark(function T(){return c().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(C.imageRef&&E.width&&E.height)){Z.next=3;break}return Z.next=3,C.getCroppedImg(C.imageRef,E,C.state.fileName);case 3:case"end":return Z.stop()}},T)}))()}render(){var E=this.state,C=E.crop,T=E.src,J=this.props,Z=J.visible,z=J.prefixCls,Y=J.onCancel;return P().createElement(e.Z,{className:z,title:"\u8C03\u6574\u5C3A\u5BF8",visible:Z,footer:this.renderFooter(),width:623,onCancel:Y},P().createElement("div",{className:"".concat(z,"__container")},P().createElement("div",{className:"".concat(z,"__container__crop")},T&&P().createElement(D(),{className:"".concat(z,"__crop"),src:T,crop:C,ruleOfThirds:!0,keepSelection:!0,imageStyle:{width:"100%"},onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}))))}}ee.defaultProps={prefixCls:"img-corp-modal",visible:!1,widthScale:16,heightScale:9,sizeLimit:1,sizeLimitUnit:"MB",accept:"image/jpg,image/jpeg,image/png",isShowMsg:!1,onCancel:()=>{},onOk:()=>{}},he.Z=(0,_.Z)()(ee)},1164:function(Re,he,r){"use strict";var K=r(12924),e=r.n(K),G=r(76651),O=r(38642),ae=r(91302),h=R=>{var I=navigator.userAgent.toLocaleLowerCase(),u=localStorage.getItem("enterpriseId"),c=(0,O.lz)(u,R.projectType),g=localStorage.getItem("dingPersonnel"),P=ae.bl.includes(g),_=R.target;function V(D){if(_==="self"&&(D.preventDefault(),G.m8.push(R.to)),P){if(R.projectType==="student"){window.location.href="".concat(c,"/").concat(R.to);return}G.m8.push(R.to);return}if(dd.version){D.preventDefault();var $="";R.to.includes("?")?$="".concat(c).concat(R.to,"&ddtab=true"):$="".concat(c).concat(R.to,"?ddtab=true"),dd.biz.util.openLink({url:$})}else I.indexOf("lark")!==-1&&(window.location.href="".concat(c).concat(R.to))}return e().createElement("a",{rel:"noreferrer",href:"".concat(R.projectType==="student"?"".concat(c).concat(R.to):"#".concat(R.to)),className:"".concat(R.wrapCls," cl-pointer"),target:I.indexOf("lark")!==-1||P?"_self":R.target||"_blank",onClick:V},R.children)};h.defaultProps={to:"/",wrapCls:"",target:"",projectType:"manage"},h.targetTo=R=>{var I=R.path,u=R.from,c=R.isExternalLink,g=c===void 0?!1:c,P=R.isAsync,_=P===void 0?!1:P,V=R.openName,D=V===void 0?"_blank":V,$=R.projectType,ee=$===void 0?"manage":$,k=R.ddTab,E=k===void 0?!0:k,C,T=localStorage.getItem("dingPersonnel"),J=ae.bl.includes(T),Z=navigator.userAgent.toLocaleLowerCase(),z=localStorage.getItem("enterpriseId"),Y=(0,O.lz)(z,ee),B=localStorage.getItem("appType"),Q=navigator.userAgent.toLowerCase().indexOf("wxwork")>-1;if(dd.version){var fe="";if(C=g?"":Y,J&&!g){if(ee==="student"){window.location.href="".concat(Y).concat(I);return}G.m8.push(I);return}I.includes("?")?fe="".concat(C).concat(I,"&ddtab=").concat(E):fe="".concat(C).concat(I,"?ddtab=").concat(E),dd.biz.util.openLink({url:fe})}else if(Z.indexOf("lark")!==-1)C=g?"":Y,window.location.href="".concat(C).concat(I);else if(B==="wx_app"&&Q&&g&&u==="imgText")C=g?"":ee==="student"?"".concat(Y):"#",window.wx.invoke("openDefaultBrowser",{url:"".concat(C).concat(I)});else if(C=g?"":ee==="student"?"".concat(Y):"#",_){var Pe=window.open("","_blank");setTimeout(()=>{Pe.location="".concat(C).concat(I)},100)}else window.open("".concat(C).concat(I),D)},he.Z=h},72387:function(Re,he,r){"use strict";var K=r(12924),e=r.n(K),G=r(84874);class O extends e().PureComponent{constructor(h){super(h);this.onPrev=()=>{var R=this.state.activeIndex;this.setState({activeIndex:R<=0?0:R-1})},this.onNext=()=>{var R=this.props.imgList,I=this.state.activeIndex;this.setState({activeIndex:R.length<=I+1?I:I+1})},this.state={activeIndex:h.defaultActive}}componentDidUpdate(h){h.visible!==this.props.visible&&this.props.visible&&this.setState({activeIndex:this.props.defaultActive})}render(){var h=this.props,R=h.visible,I=h.imgList,u=this.state.activeIndex;return e().createElement("div",{className:"preview-img-mask",style:{display:R?"block":"none"}},e().createElement("div",{className:"preview-img-bg"},e().createElement("div",{className:"preview-img"},e().createElement("img",{src:I[u]}),e().createElement("span",{className:"preview-img-close",onClick:this.props.onClose},e().createElement(G.Z,{iconClass:"iconf-close"})))),u>=1?e().createElement("span",{className:"preview-img-left",onClick:this.onPrev},e().createElement(G.Z,{iconClass:"iconf-arrow-left",size:"20px"})):null,u<=I.length-2?e().createElement("span",{className:"preview-img-right",onClick:this.onNext},e().createElement(G.Z,{iconClass:"iconf-arrow-right",size:"20px"})):null)}}O.defaultProps={visible:!1,imgList:[],defaultActive:0,onClose:()=>{}},he.Z=O},99891:function(Re,he,r){"use strict";var K=r(12924),e=r.n(K),G=r(28216),O=r(91768),ae=r(37055),h=r(10237),R=r(60667);class I extends e().PureComponent{constructor(g){super(g);this.getWaterMarkText=P=>{var _=this.props.userInfo,V=_.jobNumber,D=localStorage.getItem("waterMarkPostName"),$=[],ee=P.find(E=>E.type==="content_setting"),k=P.find(E=>E.type==="content_custom");return ee.param.comment.indexOf("name")!==-1&&this.setState({isUserName:!0}),k.param.checked==="true"&&k.param.comment[0]!==""&&this.setState({commentText:k.param.comment[0]}),ee.param.comment.indexOf("position")!==-1&&D&&D!==""&&$.push("".concat(D)),ee.param.comment.indexOf("jobnumber")!==-1&&V&&V!==""&&$.push("".concat(V)),$.join("-")},this.getWaterMarkApplication=P=>{var _=this.props.scenes,V=P.find(D=>D.type==="application_scenario");V.param.comment.indexOf(_)!==-1&&this.setState({showWaterMark:!0})},this.getWaterIsDispersive=P=>{var _=P.find(V=>V.type==="dispersive");this.setState({isDispersive:_.param.checked==="true"})},this.getDynamicSet=()=>{var P=ae.ZP.advancedSetting.dynamicWaterMarkNew(),_={access_token:window.localStorage.getItem("token")};h.WY.get({url:P,params:_}).then(V=>{var D=JSON.parse(V.data.actions);this.setState({waterMarkText:this.getWaterMarkText(D),actions:D}),this.getWaterMarkApplication(D),this.getWaterIsDispersive(D)})},this.state={showWaterMark:!1,waterMarkText:"",waterMarkCount:50,isUserName:!1,isDispersive:!1,actions:{},commentText:""}}componentDidMount(){var g=localStorage.getItem("waterMarkPostName");g===""||g===null?this.getPostName():this.getDynamicSet()}getPostName(){var g=ae.ZP.advancedSetting.getPostName();h.WY.get({url:g}).then(P=>{localStorage.setItem("waterMarkPostName",P.data.post_names[0]||""),this.getDynamicSet()})}render(){var g=this.state,P=g.showWaterMark,_=g.waterMarkCount,V=g.isUserName,D=g.isDispersive,$=g.waterMarkText,ee=g.actions,k=g.commentText,E=this.props.userInfo,C=E.name,T=E.unionid,J=E.sourceType;return e().createElement("div",{className:"common-watermark"},P&&new Array(_).fill(0).map((Z,z)=>e().createElement("div",{key:z,className:"common-watermark-item ".concat(D?"isDispersive":"")},e().createElement("span",{className:"common-watermark-item-content"},k!==""&&e().createElement("span",{className:"item-part"},k),V&&e().createElement("span",null,k!==""&&e().createElement("span",null,"-"),e().createElement(R.Z,{dataType:"userName",value:T,name:C,type:J})),e().createElement("span",{className:"item-part"},(V||k!=="")&&$!==""&&e().createElement("span",null,"-"),$)))))}}var u=c=>({userInfo:c.user});he.Z=(0,G.$j)(u)((0,O.Z)()(I))},60667:function(Re,he,r){"use strict";r.d(he,{Z:function(){return I}});var K=r(33565),e=r(12924),G=r.n(e),O=r(28216);function ae(u){var c=u.type,g=u.openid,P=u.from,_=(0,e.useRef)(null);return(0,e.useLayoutEffect)(()=>{P==="vue"?window.parent.WWOpenData.bind(_.current):WWOpenData.bind(_.current)}),G().createElement("ww-open-data",{ref:_,type:c,openid:g})}var h=u=>{var c=u.wxWorkApiFlag,g=u.appType,P=u.from,_=(0,e.useState)(!1),V=(0,K.Z)(_,2),D=V[0],$=V[1];(0,e.useEffect)(()=>{var E=localStorage.getItem("qyWechatBook");(g!=="wx_app"||c||E==="false"||P==="vue"||P==="taro")&&$(!0)},[c,g,P]);var ee=(0,e.useCallback)(()=>{var E=u.type,C=u.value,T=u.name,J=T===void 0?"":T;switch(console.warn(u,"props"),E){case"wx_sync":{var Z=u.dataType;return C?G().createElement(ae,{from:P,type:Z,openid:C}):J}default:return J}},[u]),k=()=>{var E=u.name,C=u.dataType,T=localStorage.getItem("qyWechatBook");if(C===""||T==="false")return E;if(P==="vue"||P==="taro")return ee();switch(u.appType){case"wx_app":return ee();default:return E}};return D?k():u.name};h.defaultProps={value:"",name:"",type:"",dataType:"",from:""};var R=u=>({appType:u.user.appType,wxWorkApiFlag:u.user.wxWorkApiFlag}),I=(0,O.$j)(R)(h)},76466:function(Re,he,r){"use strict";r.d(he,{Z:function(){return oe}});var K=r(20228),e=r(11382),G=r(57663),O=r(71577),ae=r(62029),h=r(57361),R=r(9754),I=r.n(R),u=r(12924),c=r.n(u),g=r(91512),P=r(68654),_=r(91768),V=r(4412),D=r.n(V);class $ extends c().Component{render(){var s=this.props.t;return c().createElement("div",{className:"net-preview"},c().createElement("div",{className:"net-preview-center"},c().createElement("img",{src:D(),alt:"picture"}),c().createElement("h2",null,s("localStorage.tip")),c().createElement("p",null,s("localStorage.banPreview"))))}}var ee=(0,_.Z)()($),k=r(88986),E=r(34792),C=r(48086),T=r(28216),J=r(21594),Z=r(41225),z=r(10237),Y=(x,s)=>(0,k.Z)({id:x||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),B=Y;class Q extends u.Component{constructor(){super(...arguments);this.setupPlayer=s=>{var i=this.props,a=i.onVideoReady,t=a===void 0?()=>{}:a,o=i.playerConfig,l=i.contentType;s&&s==="resetPlayer"&&this.dispose(),this.player=new window.CoolPlayer((0,k.Z)((0,k.Z)({},o),{},{contentType:l==="mp3"?"audio":"video",audioPoster:"".concat("https://oss.coolcollege.cn","/1814929291192963072.png"),source:o.source,autoplay:o.autoplay,width:o.width,id:o.id,height:"100%",platform:"pc",controlBarVisibility:"hover",enableCustomController:!1,core:"aliplayer",init:p=>{p.on("sourceloaded",v=>{var y=v.paramData,A=y.desc,b=y.definition;p.getComponent("VideoQuality")&&p.getComponent("VideoQuality").setCurrentQuality(A,b,o.id)}),p.on("ready",()=>{t()}),this.playerInstance=p,this.setPlayerConfig()}}))}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.setupPlayer())}dispose(){this.player&&this.player.dispose()}seek(s){this.player&&this.player.seek(s)}exitFull(){this.player&&this.player.exitFull()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(s){this.player.setSpeed(s)}getStatus(){return this.player.playStatus}replay(){this.player.replay()}setPlayerConfig(){var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,p=l===void 0?()=>{}:l,v=s.onPause,y=v===void 0?()=>{}:v,A=s.onError,b=A===void 0?()=>{}:A,M=this.playerInstance;M.on("play",()=>{a()}),M.on("pause",()=>{y()}),M.on("timeupdate",S=>{o(S)}),M.on("ended",()=>{p()}),M.on("error",(0,h.Z)(I().mark(function S(){return I().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:b();case 1:case"end":return re.stop()}},S)})))}render(){var s=this.props.playerConfig;return c().createElement("div",{className:"common-video-player-container"},c().createElement("div",{id:s.id}))}}Q.playerInstance=null,Q.defaultProps={playerConfig:B(),autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0}};var fe=Q,Pe=(x,s)=>(0,k.Z)({id:x||"J_prismPlayer",width:"100%",controlBarVisibility:"hover",showBuffer:!0,preload:!0,source:"",definition:"FD,OD",defaultDefinition:"OD",autoplay:!1,skinLayout:[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:13},{name:"timeDisplay",align:"tl",x:10,y:6},{name:"volume",align:"tr",x:20,y:11}]}]},s),Ee=Pe;class H extends u.Component{constructor(){super(...arguments);this.setupPlayer=s=>{s&&s==="resetPlayer"&&this.player.dispose();var i=this.props,a=i.playerConfig,t=i.onVideoReady,o=t===void 0?()=>{}:t;this.player=new Aliplayer(a,l=>{l.on("sourceloaded",p=>{var v=p.paramData,y=v.desc,A=v.definition;l.getComponent("VideoQuality")&&l.getComponent("VideoQuality").setCurrentQuality(y,A,a.id)})}),this.player.on("ready",()=>{o()})},this.setPlayerConfig=()=>{var s=this.props,i=s.onPlay,a=i===void 0?()=>{}:i,t=s.onTimeUpDate,o=t===void 0?()=>{}:t,l=s.onEnd,p=l===void 0?()=>{}:l,v=s.onPause,y=v===void 0?()=>{}:v,A=s.onError,b=A===void 0?()=>{}:A;this.player.on("play",()=>{a()}),this.player.on("pause",()=>{y()}),this.player.on("timeupdate",M=>{o(M)}),this.player.on("ended",()=>{p()}),this.player.on("error",(0,h.Z)(I().mark(function M(){return I().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:b();case 1:case"end":return L.stop()}},M)})))},this.getPlayerContent=s=>{this.playerContainer=s}}componentDidMount(){this.player&&this.dispose(),this.setupPlayer(),this.playingVideo={}}componentDidUpdate(s){s.playerConfig.source!==this.props.playerConfig.source&&this.props.playerConfig.source!==""&&(this.playingVideo={},this.player&&this.player._el.id===this.props.playerConfig.id&&this.dispose(),this.setupPlayer())}dispose(){this.player.dispose()}seek(s){this.player.seek(s)}exitFull(){var s=this.player.fullscreenService;s&&s.isFullScreen&&s.cancelFullScreen()}play(){this.player.play()}pause(){this.player.pause()}getCurrentTime(){return this.player.getCurrentTime()}getDuration(){return this.player.getDuration()}setSpeed(){this.player.setSpeed()}getStatus(){return this.player.getStatus()}render(){var s=this.props.playerConfig;return c().createElement("div",{className:"common-video-player-container"},c().createElement("div",{id:s.id,ref:this.getPlayerContent,style:{width:"100%",height:"100%"}}))}}H.defaultProps={source:{FD:"",OD:""},autoPlay:!1,contentType:"mp4",playingVideo:{recentStart:0,progress:0,duration:0,auditionType:0,auditionLength:0},speedSwitch:!1,playerId:"J_prismPlayer",playerConfig:Ee()};var F=H;class ue{constructor(s){this.hasCreated=!1,this.definition="",this.getQuality=s}createEl(s,i){var a=i._options&&i._options.language,t=i._el.id;this.isEn=a&&a==="en-us";var o=(0,J.O8)(`<div class="quality-components">
      <div class="current-quality" data-ref="">`.concat(this.isEn?"Resolution":"\u6E05\u6670\u5EA6",`</div>
      <ul class="quality-list" ></ul>
    </div>`)),l=(0,J.O8)('<div class="quality-modal"><span class="switchimg">'.concat(this.isEn?"Switching to you for":"\u6B63\u5728\u4E3A\u60A8\u5207\u6362\u5230",'</span><span class="current-quality-tag"></span> ,<span class="wait">').concat(this.isEn?"Please wait...":"\u8BF7\u7A0D\u540E...","</span></div>")),p=document.querySelector("#".concat(t," .prism-controlbar"));p.appendChild(o),s.appendChild(l)}setCurrentQuality(s,i,a){var t=document.querySelector("#".concat(a," .current-quality"));t.innerText=s,t.dataset.def=i,this.definition=i;var o=document.querySelector("#".concat(a," .quality-list")),l=o.querySelector(".current");l&&(l.className="");var p=o.querySelector('li[data-def="'.concat(i,'"]'));p&&(p.className="current")}created(s){this._urls=s._urls;var i=s._el.id,a=document.querySelector("#".concat(i," .current-quality")),t=document.querySelector("#".concat(i," .quality-list")),o=document.querySelector("#".concat(i," .quality-modal")),l=this._urls.map(y=>'<li data-def="'.concat(y.definition,'">').concat(y.desc,"</li>"));if(t.innerHTML=l.join(""),this.hasCreated==!1&&this.definition){var p=t.querySelector('li[data-def="'.concat(this.definition,'"]'));p.className="current"}this.hasCreated=!0;var v=null;a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{v=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(v)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=y=>{var A=y.target,b=A.dataset.def,M=A.innerText;if(b&&A.className!=="current"){var S=this._urls.find(L=>L.definition===b);s.loadByUrl(S.Url,s.getCurrentTime(),!0,!0),this.setCurrentQuality(S.desc,S.definition,i),o.style.display="block",o.querySelector("span.current-quality-tag").innerText=S.desc}this.getQuality(b,M)}}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .quality-modal"));a.style.display="none";var t=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-quality"));t&&t.classList.add("player-hidden")}}class w{createEl(s,i){var a=i._el.id,t=(0,J.O8)(`<div class="rate-components">
      <div class="current-rate">1.0x</div>
      <ul class="rate-list"><li data-rate="2.0">2.0x</li><li data-rate="1.5">1.5x</li><li data-rate="1.25">1.25x</li><li data-rate="1.0" class="current">1.0x</li><li data-rate="0.5">0.5x</li></ul>
    </div>`),o=document.querySelector("#".concat(a," .prism-controlbar"));o.appendChild(t)}ready(s){var i=s._el.id,a=document.querySelector("#".concat(i," .current-rate")),t=document.querySelector("#".concat(i," .rate-list")),o=null,l=document.querySelector("#".concat(i," .prism-setting-item.prism-setting-speed"));l&&l.classList.add("player-hidden"),a.onclick=()=>{t.style.display="block"},a.onmouseleave=()=>{o=setTimeout(()=>{t.style.display="none"},100)},t.onmouseenter=()=>{clearTimeout(o)},t.onmouseleave=()=>{t.style.display="none"},t.onclick=p=>{var v=p.target,y=v.dataset.rate;if(y){if(s.setSpeed(y),v.className!=="current"){var A=t.querySelector(".current");A&&(A.className=""),v.className="current"}t.style.display="none",a.innerText="".concat(y,"x")}}}}var q=r(69164),le=r(37055);function ne(x){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=le.ZP.local.getLocalUrl(x);return z.WY.get({url:i,params:s})}var be=r(91648),de=r(18329),Ne=r(38642),Le=r(9849),Ce=r(99891);class Ze extends u.Component{constructor(s){super();this.WaterMarkText=s,this.html=document.getElementsByClassName("common-watermark")}createEl(s){setTimeout(()=>{s.appendChild(this.html[0]?this.html[0]:null)},2e3)}}var We=Ze,Qe=x=>({userInfo:x.user});class Ye extends u.Component{constructor(s){var i;super(s);i=this,this.onVideoReady=a=>{var t=this.props,o=t.resourceInfo,l=t.mode,p=t.autoPlay,v=t.t,y=o.storageType;a==="resetPlayer"?(this.play.play(),this.play.seek(this.playingVideo.recentStart),this.playingVideo.readyCount===0?this.play.setPlayerConfig():this.updateSource(a),this.playingVideo.readyCount=1):(this.playingVideo.readyCount===0?(l==="learn"&&this.readyPlayerTips(),this.play.setPlayerConfig(),l==="preview"&&p&&this.play.play()):y==="ALIBABA_PRIVATE"||y==="LOCAL"?this.updateSource("resetPlayer"):(z.WY.logger({keyword:"video",moduleName:"video-play",msg:v("component.videoResourceErrorTips"),data:{playingVideo:this.playingVideo,props:this.props,state:this.state}}),this.play.pause()),this.playingVideo.readyCount=1)},this.onTimeUpDate=()=>{var a=this.props,t=a.draggable,o=a.mode,l=a.t,p=a.studyInfo,v=a.needCurrentTime,y=a.onCurrentTime,A=y===void 0?()=>{}:y,b=p.studyType,M=p.studyId,S=p.resourceId,L=this.state,re=L.showPreventHang,pe=L.dragSwitch,Te=L.showRandomAlert,xe=L.randomAlertDialogVisible,te=this.playingVideo,Fe=te.oneTime,Be=te.popupWindowCount,se=te.maxPlayTime,ve=te.progress,ge=te.auditionLength,Ae=te.auditionType,_e=te.duration,qe=te.recentStart,Me=this.play.getCurrentTime(),Ve=(re==="OPEN"||Te==="OPEN")&&Be>0;if(v&&A(Me),ge>0&&Ae===2&&Me>ge&&(this.play.seek(ge),C.default.warning(l("component.haveALookOverTip")),this.play.pause()),o==="learn"&&Ve){var lt=_e-Fe*Be;if(Be>0&&Me>lt)if(this.play.pause(),Te==="OPEN"){if(!xe){var it=(0,be.Z)();this.setState({randomAlertDialogVisible:!0,randomAlertUUID:it},()=>{(0,Z.qp)({popupId:it,planId:M,resourceId:S,type:"popup_start"})}),this.play.exitFull()}}else re==="OPEN"&&(this.setState({dialogVisible:!0}),this.play.exitFull())}if((t||ve===100)&&(Me>0&&(this.playingVideo.recentStart=Me),!((b==="enterprise"||b==="studyProject")&&pe==="OPEN")))return!1;Me>se?Me-qe>2?(this.playingVideo.recentStart=se,this.play.seek(se),C.default.warning(l("component.preventFastWatchTip"))):(this.playingVideo.recentStart=Me,this.playingVideo.maxPlayTime=Me):Me>0&&Me>this.playingVideo.recentStart&&(this.playingVideo.recentStart=Me)},this.onPlay=()=>{var a=this.props,t=a.mode,o=a.onPlay,l=o===void 0?()=>{}:o;l();var p=this;t==="learn"&&!p.timer&&(p.timer=setTimeout(function v(){p.saveProgress(),clearTimeout(p.timer),p.timer=setTimeout(v,2e4)},2e4))},this.onPause=()=>{var a=this.props,t=a.studyInfo,o=a.mode,l=t.studyType;clearTimeout(this.timer),this.timer=null,o==="learn"&&(l==="platform"||l==="enterprise"||l==="studyTask")&&this.saveProgress()},this.onEnd=()=>{var a=this.props.mode;a==="learn"&&this.saveProgress()},this.onError=a=>{var t=this.props.resourceInfo,o=t.storageType;(o==="ALIBABA_PRIVATE"||o==="LOCAL")&&this.updateSource("resetPlayer")},this.initInfo=()=>{var a=this.props.mode;this.initPlayVideo(),a==="learn"&&this.saveProgress(),this.dealAudioPoster(),this.getInfoFromSettings()},this.handleCancel=()=>{this.setState({dialogVisible:!1})},this.handleRandomCancel=()=>{this.setState({randomAlertDialogVisible:!1,randomAlertUUID:""})},this.playingVideo={},this.readyPlayerTips=()=>{var a=this.state,t=a.showPreventHang,o=a.showRandomAlert,l=this.props,p=l.t,v=l.playingVideo,y=l.studyInfo,A=l.autoPlay,b=v.recentStart,M=v.duration,S=v.progress,L=y.studyType,re=(t==="OPEN"||o==="OPEN")&&(L==="studyTask"||L==="enterprise"||L==="studyProject")&&S<100;re?(o==="OPEN"?this.setState({promptMessage:p("component.preventAlertTip"),dialogVisible:!0}):t==="OPEN"&&this.setState({promptMessage:p("component.preventHangUpTip"),dialogVisible:!0}),this.playerShowPreventHang()):A&&(this.play.play(),Math.ceil(b)<parseInt(M)&&this.play.seek(b))},this.playerShowPreventHang=()=>{var a=this.playingVideo,t=a.duration,o=a.recentStart,l=0;t>0&&t<180?(l=t/2,this.playingVideo.oneTime=l,o>=l?this.playingVideo.popupWindowCount=0:this.playingVideo.popupWindowCount=1):t>=180&&t<600?(l=t/3,this.playingVideo.oneTime=l,o>=2*l?this.playingVideo.popupWindowCount=0:o>=l?this.playingVideo.popupWindowCount=1:this.playingVideo.popupWindowCount=2):(l=t/4,this.playingVideo.oneTime=l,o>=3*l?this.playingVideo.popupWindowCount=0:o>=2*l?this.playingVideo.popupWindowCount=1:o>=l?this.playingVideo.popupWindowCount=2:this.playingVideo.popupWindowCount=3)},this.initPlayVideo=()=>{var a=this.props,t=a.playingVideo,o=a.mode;if(o==="learn"){this.playingVideo=(0,k.Z)({},t);var l=t.duration,p=t.progress;this.playingVideo.hasFinished=parseInt(p)===100,this.playingVideo.maxPlayTime=parseInt(l)*parseInt(p)/100}this.playingVideo.readyCount=0},this.dealVideoConfig=(0,h.Z)(I().mark(function a(){var t,o,l,p,v,y,A,b,M,S,L,re,pe,Te,xe,te,Fe,Be,se,ve,ge,Ae,_e,qe;return I().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(t=i.state,o=t.speedSwitch,l=t.dragSwitch,p=t.whiteList,v=i.props,y=v.resourceInfo,A=v.showQuality,b=y.contentType,M=y.storageType,S=y.source,L=y.playId,re=y.playerId,pe=y.showFullScreen,Te=pe===void 0?!0:pe,xe=Ee(re),xe.components=[],te=typeof S=="object"&&S.hasOwnProperty("FD")&&S.FD.indexOf("m3u8")===-1,A&&te&&b!=="mp3"&&(M&&M==="PUBLIC_CLOUD"||!M)&&xe.components.push({name:"VideoQuality",type:ue,args:[()=>{i.play.pause(),i.playingVideo.readyCount=0}]}),o==="OPEN"&&xe.components.push({name:"VideoRate",type:w}),Te&&(Fe=xe.skinLayout.find(lt=>lt.name==="controlBar"),Fe&&Fe.children.splice(Fe.children.length-2,0,{name:"fullScreenButton",align:"tr",x:20,y:13})),xe.components.push({name:"VideoWaterMark",type:We}),Be=S.FD,se=S.OD,Be.indexOf("http://")>-1&&(Be=Be.replace("http://","https://")),se.indexOf("http://")>-1&&(se=se.replace("http://","https://")),ve=p.baiYingVideoHostFlag?"video.baiying.com.cn":"video.coolcollege.cn",S.OD=se&&se.indexOf(ve)>-1&&se.indexOf(".mp4")>-1?se:Be,S.FD=Be,ge=typeof S!="string"?JSON.stringify(S):S,xe.source=ge,l==="OPEN"&&(xe.disableSeek=!0),M!=="ALIBABA_PRIVATE"){Ve.next=32;break}return Ve.next=22,(0,Z.BR)(L);case 22:if(Ae=Ve.sent,!Ae){Ve.next=28;break}xe.source=Ae,xe.vodRetry=1,Ve.next=30;break;case 28:return i.setState({showPrivateVodError:!0}),Ve.abrupt("return");case 30:Ve.next=38;break;case 32:if(M!=="LOCAL"){Ve.next=38;break}return Ve.next=35,ne(L);case 35:_e=Ve.sent,qe=_e.data,qe.code===0&&(xe.source="".concat(S.FD,"?auth_key=").concat(qe.data.auth_key),xe.vodRetry=1);case 38:i.setState({playerConfig:xe});case 39:case"end":return Ve.stop()}},a)})),this.updateSource=function(){var a=(0,h.Z)(I().mark(function t(o){var l,p,v,y,A,b,M,S;return I().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(l=i.state.playerConfig,p=i.props.resourceInfo,v=p.storageType,y=p.source,A=p.playId,i.playingVideo.readyCount=0,v!=="ALIBABA_PRIVATE"){re.next=16;break}return re.next=7,(0,Z.BR)(A);case 7:if(b=re.sent,!b){re.next=12;break}Object.assign(l,{source:b,vodRetry:1}),re.next=14;break;case 12:return i.setState({showPrivateVodError:!0}),re.abrupt("return");case 14:re.next=22;break;case 16:if(v!=="LOCAL"){re.next=22;break}return re.next=19,ne(A);case 19:M=re.sent,S=M.data,S.code===0&&Object.assign(l,{source:"".concat(y.FD,"?auth_key=").concat(S.data.auth_key),vodRetry:1});case 22:i.setState({playerConfig:l},()=>{i.play.setupPlayer(o)});case 23:case"end":return re.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.saveProgress=()=>{var a=this.props,t=a.studyInfo,o=a.userInfo,l=o.isLogin,p=o.enterpriseId,v=o.id,y=this.playingVideo,A=y.recentStart,b=y.duration,M=y.hasFinished,S=Math.ceil(+A);S>Number(b)&&(S=Number(b));var L=Math.ceil(S/+b*100);if((L>100||M)&&(L=100),l){var re=this.playingVideo,pe=re.auditionType,Te=re.auditionLength;if(Te>0&&pe===2){var xe=Math.ceil(Te/b*100);xe<=L&&(L=xe,S=Te)}(0,Z.sH)({studyInfo:t,progress:L,recent_start:S,enterpriseId:p,userId:v}).then(te=>{te&&te.data&&(0,q.Z)(te.data.integral_info||"")})}},this.getInfoFromSettings=(0,h.Z)(I().mark(function a(){var t,o,l,p,v,y,A,b,M;return I().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return t=i.props.studyInfo,o=t.studyType,l=t.projectId,L.next=4,(0,Z.Gw)();case 4:if(p=L.sent,v=[{type:"prevent_cut_screen",name:"showPreventHang"},{type:"document_duration_limit",name:"showRandomAlert"},{type:"dynamic_watermark",name:"videoWatermarkSettings",resourceType:"video"},{type:"audio_video_drag",name:"dragSwitch"},{type:"speed_play_switch",name:"speedSwitch"},{type:"vod_encrypted_switch",name:"encryptedSwitch"}],y=(0,J.RG)(p,v),o!=="studyProject"){L.next=14;break}return L.next=10,(0,Le.NU)({id:l});case 10:A=L.sent,b=A.status,M=A.data,b===200&&(y.showPreventHang=M.prevent_cut_screen?"OPEN":"CLOSED",y.speedSwitch=M.speed_play?"OPEN":"CLOSED",y.dragSwitch=M.prevent_drag?"OPEN":"CLOSED");case 14:i.setState(y,()=>{i.dealVideoConfig()});case 15:case"end":return L.stop()}},a)})),this.dealAudioPoster=()=>{var a=this.props.resourceInfo.contentType,t=a===void 0?"":a;this.setState({showAudioPoster:t==="mp3"},()=>{this.renderAudioPoster()})},this.renderAudioPoster=()=>{var a=this.state.showAudioPoster,t=this.play.playerContainer;a&&t&&(t.style.background="url('".concat("https://oss.coolcollege.cn","/1814929291192963072.png') center no-repeat"),t.style.backgroundSize="cover")},this.getPlayInstance=a=>{this.play=a},this.handleOk=()=>{this.setState({dialogVisible:!1});var a=this.state.btnType,t=this.playingVideo.recentStart,o=this.props.t;a==="know"?(this.play.play(),this.play.seek(t),setTimeout(()=>{this.setState({btnType:"continue",promptMessage:o("component.hangUpTriggerTip")})},500)):(this.playingVideo.popupWindowCount-=1,this.play.play())},this.handleRandomOk=(0,h.Z)(I().mark(function a(){var t,o,l,p;return I().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:t=i.props.studyInfo,o=t.studyId,l=t.resourceId,p=i.state.randomAlertUUID,(0,Z.qp)({popupId:p,planId:o,resourceId:l,type:"popup_end"}).then(()=>{i.setState({randomAlertUUID:"",randomAlertDialogVisible:!1})}),i.playingVideo.popupWindowCount-=1,i.play.play();case 6:case"end":return y.stop()}},a)})),this.renderFooter=()=>{var a=this.state.btnType,t=this.props.t;return c().createElement(O.Z,{key:"submit",type:"primary",onClick:()=>this.handleOk(a)},t(a==="know"?"component.iKnow":"component.continuePlaying"))},this.renderRandomFooter=()=>{var a=this.props.t;return c().createElement(O.Z,{key:"submit",type:"primary",onClick:this.handleRandomOk},a("common.ok"))},this.state={playerConfig:Ee(),showRandomAlert:"",showPreventHang:"",videoWatermarkSettings:[],dragSwitch:"",speedSwitch:"",encryptedSwitch:"",showAudioPoster:!1,showPrivateVodError:!1,dialogVisible:!1,dialogModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleCancel},promptMessage:s.t("component.preventHangUpTip"),btnType:"know",randomAlertDialogVisible:!1,randomAlertUUID:"",randomAlertTip:s.t("component.randomAlertTip"),randomAlertModal:{title:s.t("common.tip"),mask:!0,size:"small",closable:!1,onCancel:this.handleRandomCancel},whiteList:{baiYingVideoHostFlag:(0,Ne.UI)("CL_VIDEO_BAIYING_COM_CN")}},s.onGetVideoBusiness(this)}componentDidMount(){this.initInfo()}componentDidUpdate(s){var i=typeof s.resourceInfo.source!="string"?JSON.stringify(s.resourceInfo.source):s.resourceInfo.source,a=typeof this.props.resourceInfo.source!="string"?JSON.stringify(this.props.resourceInfo.source):this.props.resourceInfo.source;i!==a&&a!==""&&this.initInfo()}componentWillUnmount(){var s=this.props.mode;s==="learn"&&this.saveProgress(),this.play&&this.play.dispose(),clearTimeout(this.timer),this.playingVideo={}}render(){var s=this.state,i=s.playerConfig,a=s.showPrivateVodError,t=s.dialogVisible,o=s.dialogModal,l=s.promptMessage,p=s.randomAlertDialogVisible,v=s.randomAlertModal,y=s.randomAlertTip,A=s.encryptedSwitch,b=this.props,M=b.resourceInfo,S=b.t,L=A==="OPEN"?fe:F;return c().createElement(u.Fragment,null,c().createElement(L,(0,ae.Z)({ref:this.getPlayInstance},M,{playingVideo:this.playingVideo,onPlay:this.onPlay,onPause:this.onPause,playerConfig:i,onVideoReady:this.onVideoReady,onTimeUpDate:this.onTimeUpDate,onError:this.onError,onEnd:this.onEnd})),c().createElement(de.ZP,(0,ae.Z)({visible:t},o,{footer:this.renderFooter()}),c().createElement("div",{className:"video-business-prompt"},l)),c().createElement(de.ZP,(0,ae.Z)({visible:p},v,{footer:this.renderRandomFooter()}),c().createElement("div",{className:"video-player-container__prompt"},y)),a&&c().createElement("div",{className:"video-business-vod-error"},S("privateCloud.docReadError")),c().createElement(Ce.Z,{scenes:"video"}))}}var ot=(0,T.$j)(Qe,null,null,{forwardRef:!0})((0,_.Z)("translation",{withRef:!0})(Ye)),Ge=r(94184),Je=r.n(Ge),Xe=r(84874),st=x=>({userInfo:x.user}),tt={getPravateDocUrl:le.ZP.localStorage.getPravateDocUrl};function at(x){return JSON.stringify(x,(s,i)=>(typeof i=="function"&&(i=i.toString()),i))}function ze(x){var s=parseInt(parseInt(x,10)/60,10),i=parseInt(parseInt(x,10)%60,10);return s<10&&(s="0".concat(s)),i<10&&(i="0".concat(i)),"".concat(s,":").concat(i)}class et extends u.Component{constructor(s){var i;super(s);i=this,this.messageFun=a=>{var t=this.props,o=t.docType,l=t.progress,p=t.studyTimeLimit,v=t.studyTime,y=this.state,A=y.jumpPageTag,b=y.totalTime,M=y.timeRemaining,S=this.state.previewDocData,L={};try{L=JSON.parse(a.data)}catch(re){return}switch(L.action){case"preview.ready":this.initDocData();break;case"preview.meta":S.totalPage=L.data.pc||1,S.currentPage=1,this.setState({previewDocData:S},()=>{this.reportStatusInterval()}),p>0?(this.saveProgress(l,v||"1",L.data.pc||1),this.setState({showCountDownContainer:!0})):o==="xlsx"||o==="xls"||S.totalPage===1?this.saveProgress(100,1,1):this.saveProgress(l,v||"1",L.data.pc||1),p>0&&l<100?(this.setState({showCountDown:!0}),o==="xlsx"||o==="xls"?b=p:b=p*L.data.pc,M=parseInt(b*(1-l/100),10),this.setState({timeRemaining:M,totalTime:b},()=>{this.docCountDown()})):this.setState({showCountDown:!1});break;case"page.readPage":if(A){A=!1,this.setState({jumpPageTag:A});return}S.currentPage=L.data.pageIndex+1,this.setState({previewDocData:S}),p||this.saveProgress(Math.ceil(S.currentPage/S.totalPage*100),S.currentPage,S.totalPage);break;case"page.initViewDone":this.redirectPage();break;case"message.error":C.default.error(L.data.result);break;default:break}},this.initDocData=(0,h.Z)(I().mark(function a(){var t,o,l,p,v,y,A,b,M,S,L,re,pe,Te;return I().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(i.setState({isShowPrivateError:!1}),t=i.props,o=t.docType,l=t.userInfo,p=t.documentWatermarkSettings,v=t.storageType,y=t.privateDocId,A=l.name,b=l.jobNumber,M=l.position,S="",L={},v!=="ALIBABA_PRIVATE"){te.next=18;break}return te.prev=6,re=tt.getPravateDocUrl(y),te.next=10,z.WY.get({url:re});case 10:pe=te.sent,Te=pe.data,Te.code===0?L=Te.data||{}:i.setState({isShowPrivateError:!0}),te.next=18;break;case 15:te.prev=15,te.t0=te.catch(6),i.setState({isShowPrivateError:!0});case 18:if(p.indexOf("name")>-1&&(S="".concat(S+A," ")),p.indexOf("position")>-1&&(S="".concat(S+M," ")),p.indexOf("jobnumber")>-1&&(S+=b),S.length>0?window.sendMessage("preview.init",(0,k.Z)({wmType:1,wmValue:S,wmColor:"rgba(192, 192, 192, 0.4)"},L)):window.sendMessage("preview.init",(0,k.Z)({},L)),o!=="xlsx"&&o!=="ppt"&&o!=="pptx"&&o!=="xls"?i.setState({pageOperateContainerVisible:!0}):i.setState({pageOperateContainerVisible:!1}),!(o==="ppt"||o==="pptx")){te.next=29;break}te.t1=window,te.t2={powerpointCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0}}},te.t1.sendMessage.call(te.t1,"setConfig",te.t2),te.next=32;break;case 29:te.t3=window,te.t4={writerCustomStyle(){return{containerMarginTop:0,containerMarginBottom:0,paginationDisplay:!0,scale:{bottom:"60px",right:"20px"}}}},te.t3.sendMessage.call(te.t3,"setConfig",te.t4);case 32:case"end":return te.stop()}},a,null,[[6,15]])})),this.handleJumpPage=a=>{var t=this.state.previewDocData;t.currentPage=a,this.setState({jumpPageTag:!0,previewDocData:t});var o=a/t.totalPage*100;this.props.studyTimeLimit||this.saveProgress(Math.ceil(o),a,t.totalPage),window.sendMessage("logic.toPage",{pageIndex:a-1})},this.redirectPage=()=>{var a=this.props,t=a.studyTimeLimit,o=a.studyTime,l=0;t===0&&(l=o-1>0?o-1:0),window.sendMessage("logic.toPage",{pageIndex:l})},this.docCountDown=()=>{var a=this.state.timeRemaining,t=this.state,o=t.totalTime,l=t.previewDocData;this.docCountDownTimer&&window.clearInterval(this.docCountDownTimer),this.docCountDownTimer=setInterval(()=>{a-=1,this.setState({timeRemaining:a}),a<1&&(this.saveProgress(100,0,l.totalPage),this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer))},1e3),this.intervalSaveProgressTimer&&window.clearInterval(this.intervalSaveProgressTimer),this.intervalSaveProgressTimer=setInterval(()=>{var p=(o-a)/o*100;a<1?(this.setState({showCountDown:!1}),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer)):this.saveProgress(Math.ceil(p),a,l.totalPage)},2e4)},this.saveProgress=(a,t,o)=>{var l=this.props.onSaveProgress;l&&l(a,t,o)},this.reportStatusInterval=()=>{var a=this.props.onReportStatusInterval;this.reportStatusTimer=setInterval(()=>{var t=this.state.previewDocData.currentPage;a&&a({currentPage:t})},2e4)},this.hidePageOperateContainer=()=>{this.setState({showPageOperateContainer:!1})},this.handleShowPageOperateContainer=()=>{this.setState({showPageOperateContainer:!0})},this.dealPreviewRef=a=>{this.docReader=a},this.state={previewDocData:{totalPage:1,currentPage:1},pageOperateContainerVisible:!1,showPageOperateContainer:!0,showCountDown:!1,showCountDownContainer:!1,timeRemaining:0,totalTime:0,jumpPageTag:!1,isShowPrivateError:!1}}componentDidMount(){window.sendMessage=(s,i)=>{var a=this.docReader.contentWindow;a.postMessage(at({action:s,data:i}),"*")},window.addEventListener("message",this.messageFun,!1)}componentWillUnmount(){window.removeEventListener("message",this.messageFun,!1),window.clearInterval(this.docCountDownTimer),window.clearInterval(this.intervalSaveProgressTimer),window.clearInterval(this.reportStatusTimer)}render(){var s=this.props,i=s.t,a=s.storageType,t=s.privateDocId,o=this.props.aliUrl,l=this.state,p=l.previewDocData,v=l.pageOperateContainerVisible,y=l.timeRemaining,A=l.showCountDown,b=l.showCountDownContainer,M=l.showPageOperateContainer,S=l.isShowPrivateError;return a==="ALIBABA_PRIVATE"&&(o="https://preview.imm.aliyuncs.com/index.html?docId=".concat(t)),c().createElement("div",{className:"doc-reader-container"},c().createElement("div",{className:"ali-doc-container",style:{paddingBottom:v?"56px":"0"}},c().createElement("iframe",{allowFullScreen:!0,frameBorder:"0",style:{width:"100%",height:"100%"},src:o,id:"aliyunPreview",ref:this.dealPreviewRef}),b?c().createElement("div",{className:"ali-doc-container__countdown"},A?c().createElement("div",null,c().createElement(Xe.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docStillStudy"),c().createElement("span",{className:"ali-doc-container__countdown__fomate-remaining"}," ",ze(y)," "),i("component.canDone")):c().createElement("div",null,c().createElement(Xe.Z,{iconClass:"iconf-tipe",size:"16px"}),i("component.docHasFinish"))):null,v?c().createElement("div",{className:"ali-doc__operate"},c().createElement("div",{className:Je()(["ali-doc__operate__content",M?"":"ali-doc__operate__hide-content"])},c().createElement("div",{className:"ali-doc__operate__pagination"},c().createElement("div",{className:"ali-doc__operate__pagination__pages"},p.currentPage," / ",p.totalPage),c().createElement("div",{className:"ali-doc__operate__pagination__toggle"},c().createElement("div",{className:"ali-doc__operate__pagination__choose"},c().createElement("span",null,i("component.choosePage"),c().createElement(Xe.Z,{iconClass:"iconf-arrow-under",size:"14px"})),c().createElement("div",{className:"ali-doc__operate__page-list-container"},c().createElement("div",{className:"ali-doc__operate__choose-page"},i("component.fastChoosePage")),c().createElement("ul",{className:"ali-doc__operate__page-list"},Object.keys(Array.from({length:p.totalPage})).map((L,re)=>c().createElement("li",{key:L,onClick:()=>this.handleJumpPage(re+1)},re+1))))),c().createElement("div",{className:"ali-doc__operate__pagination__fold",onClick:this.hidePageOperateContainer},i("common.collapse"))))),c().createElement("div",{className:Je()("ali-doc__operate__unfold",M?"ali-doc__operate__unfold-hide":""),onClick:this.handleShowPageOperateContainer},i("common.expand"))):null,S&&c().createElement("div",{className:"ali-doc__error"},i("privateCloud.docReadError"))),c().createElement(Ce.Z,{scenes:"document"}))}}et.defaultProps={aliUrl:"",docType:"",progress:0,studyTime:0,studyTimeLimit:0,documentWatermarkSettings:[]};var ke=(0,T.$j)(st)((0,_.Z)()(et)),rt=x=>({userInfo:x.user}),$e="".concat("https://app123492.eapps.dingtalkcloud.com","/enterprise-api"),He="".concat("https://doc.coolcollege.cn");class nt extends c().Component{constructor(s){var i;super(s);i=this,this.onSaveProgress=(a,t,o)=>{var l=this.props,p=l.mode,v=l.studyInfo,y=l.userInfo,A=y.enterpriseId,b=y.id;p==="learn"&&(0,Z.sH)({studyInfo:v,progress:a,page_count:o,recent_start:t,enterpriseId:A,userId:b}).then(M=>{M&&M.data&&(0,q.Z)(M.data.integral_info||"")})},this.messageFun=function(){var a=(0,h.Z)(I().mark(function t(o){var l,p,v,y,A,b;return I().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(o.data!=="local-resource"){S.next=9;break}if(l=i.props.resourceInfo,p=l.storageType,v=l.playId,!(p&&p==="LOCAL")){S.next=9;break}return S.next=6,ne(v);case 6:y=S.sent,A=y.data,A.code===0&&(b=document.getElementById("local-resource-box"),b.contentWindow.postMessage({msg:"local-auth-key",authKey:A.data.auth_key},"*"));case 9:case"end":return S.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),this.getInfoFromSettings=(0,h.Z)(I().mark(function a(){var t,o,l;return I().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Z.Gw)();case 2:t=v.sent,o=[{type:"dynamic_watermark",name:"documentWatermarkSettings",resourceType:"document"},{type:"document_player",name:"documentPlayerMode"}],l=(0,J.RG)(t,o),i.setState(l,()=>{i.initDocPage(i.props)});case 6:case"end":return v.stop()}},a)})),this.initDocPage=(0,h.Z)(I().mark(function a(){var t,o,l,p,v,y,A,b,M,S,L,re,pe,Te,xe,te,Fe,Be,se,ve,ge,Ae,_e,qe,Me,Ve,lt,it,ht,ct,ut,dt,pt,vt,mt=arguments;return I().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(t=mt.length>0&&mt[0]!==void 0?mt[0]:{},o=t.resourceInfo,l=t.mode,p=t.studyInfo,v=t.userInfo,y=i.state.documentPlayerMode,A=o.docType,b=o.docTitle,M=o.url,S=o.studyTimeLimit,L=o.studyTime,re=o.aliUrl,pe=o.progress,Te=o.storageType,xe=o.playId,te=p.studyType,Fe=p.courseId,Be=p.studyId,se=p.resourceId,ve=v.enterpriseId,ge=v.id,Ae=v.isLogin,_e=v.token,qe=y==="compat"&&re.indexOf("preview.imm.aliyun")>-1||Te==="ALIBABA_PRIVATE",!qe){Ke.next=11;break}i.setState({showAliReader:!0}),Ke.next=31;break;case 11:if(Me=(0,Z.sH)({enterpriseId:ve,userId:ge,token:_e,studyInfo:p},!0),Ve=te==="studyTask"?2:1,lt=le.ZP.SaveProgress.reportStatusInterval(p),it={isSaveProgress:Ae&&l==="learn"&&Me,isSaveRecord:!1,access_token:_e,userId:ge,hostUrl:$e,courseId:Fe,resourceId:se,courseType:1,planId:Be,studyTimeLimit:S,studyTime:L,saveProgressUrl:Me,type:"eapp",progress:pe,saveRecordProgressUrl:lt,actionType:Ve},!(Te&&Te==="LOCAL")){Ke.next=26;break}return Ke.next=18,ne(xe);case 18:if(ht=Ke.sent,ct=ht.data,ct.code!==0){Ke.next=25;break}it.auth_key=ct.data.auth_key,it.url=M,Ke.next=26;break;case 25:return Ke.abrupt("return");case 26:ut=JSON.stringify(it),dt="".concat(b,".").concat(A).replace(/[\|\~\`\(\)\@\#\$\%\^\&\*\{\}\"\L\<\>\?]/g,""),pt="".concat(He,"/?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(M,"?attname=").concat(dt),Te&&Te==="LOCAL"&&(vt="".concat("https://dd.coolcollege.cn/ac/eapp/localDocReader/index.html").replace(/^\"|\"$/g,"").replace(/^\'|\'$/g,""),pt="".concat(vt,"?i=13399&ssl=1&iparms=").concat(encodeURIComponent(ut),"&furl=").concat(M,"?attname=").concat(dt)),i.setState({encodeUrl:pt});case 31:case"end":return Ke.stop()}},a)})),this.handleReportStatusInterval=a=>{var t=a.currentPage,o=this.props,l=o.resourceInfo,p=o.mode,v=o.studyInfo,y=o.userInfo,A=l.type,b=v.courseId,M=v.studyId,S=v.resourceId,L=y.enterpriseId,re=y.id,pe=y.isLogin,Te="",xe="",te=0,Fe=!1;switch(A){case"enterprise":te=1,Fe=!0;break;case"study":Te=M,te=2,Fe=!0;break;case"project":xe=M,te=1,Fe=!0;break;default:break}if(!(!Fe||!pe)){var Be={plan_id:Te,enterprise_id:L,user_id:re,course_id:b,project_course_id:xe,resource_id:S,current_page:t,action_type:te,send_time:Date.parse(new Date)};p==="learn"&&(0,Z.Xc)(v,Be)}},this.state={encodeUrl:"",showAliReader:!1,documentWatermarkSettings:[],documentPlayerMode:"projection"}}componentDidMount(){this.getInfoFromSettings(),window.addEventListener("message",this.messageFun,!1)}UNSAFE_componentWillReceiveProps(s){this.initDocPage(s)}render(){var s=this.props.resourceInfo,i=this.state,a=i.encodeUrl,t=i.documentWatermarkSettings,o=i.showAliReader,l=s.docType,p=s.type,v=s.studyTimeLimit,y=s.studyTime,A=s.aliUrl,b=s.progress,M=s.storageType,S=s.playId;return o?c().createElement(ke,{privateDocId:S,storageType:M,aliUrl:A,docType:l,progress:b,studyTime:y,studyTimeLimit:v,documentWatermarkSettings:t,onSaveProgress:this.onSaveProgress,onReportStatusInterval:this.handleReportStatusInterval,type:p}):c().createElement("div",{className:"doc-reader-container"},c().createElement("iframe",{id:"local-resource-box",style:{width:"100%",height:"100%"},src:a,frameBorder:"0",allowFullScreen:!0}),c().createElement(Ce.Z,{scenes:"document"}))}}var m=(0,T.$j)(rt)(nt),W=r(38979),me=r(90706),ce=r(12968),ye=r(44208),Se=r(60667),Ue=x=>({userInfo:x.user});class Oe extends c().Component{constructor(){var s;super(...arguments);s=this,this.state={imageWatermark:[],watermark:"",imageUrl:[]},this.onImageLoad=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,p=o.id;t==="learn"&&(0,J.Gp)({studyInfo:a,enterpriseId:l,userId:p})},this.getInfoFromSettings=(0,h.Z)(I().mark(function i(){var a,t,o;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,Z.Gw)();case 2:a=p.sent,t=[{type:"dynamic_watermark",name:"imageWatermark",resourceType:"image"}],o=(0,J.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.imageWatermark,t=i.name,o=i.unionid,l=i.sourceType,p=i.jobNumber,v=i.position,y=[];a.indexOf("name")>-1&&y.push(c().createElement(Se.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&y.push(c().createElement("span",null,v)),a.indexOf("jobnumber")>-1&&y.push(c().createElement("span",null,p)),a.length>0&&this.setState({watermark:y.map((A,b)=>c().createElement("span",{key:b},A))})},this.handleError=i=>{var a=this.props.onError;a&&a(i)},this.getImageUrl=(0,h.Z)(I().mark(function i(){var a,t,o,l,p,v,y,A,b,M;return I().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(a=s.props,t=a.resourceInfo,o=a.t,l=t.playId,p=t.url,v=t.storageType,y=p,!v){L.next=21;break}if(v!=="ALIBABA_PRIVATE"){L.next=15;break}return L.next=7,(0,Z.J7)(l);case 7:if(A=L.sent,!A){L.next=12;break}y=A,L.next=13;break;case 12:return L.abrupt("return",C.default.info(o("privateCloud.docReadError")));case 13:L.next=21;break;case 15:if(v!=="LOCAL"){L.next=21;break}return L.next=18,ne(l);case 18:b=L.sent,M=b.data,M.code===0&&(y="".concat(p,"?auth_key=").concat(M.data.auth_key));case 21:s.setState({imageUrl:[y]},()=>{var re=s.state.imageUrl,pe="image-business",Te=document.querySelectorAll(".".concat(pe,"-image img"));Te.forEach((xe,te)=>{xe.onerror=()=>{s.handleError(re[te])}})});case 22:case"end":return L.stop()}},i)}))}componentDidMount(){this.getImageUrl(),this.getInfoFromSettings(),new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",paginationClickable:!0,prevButton:".swiper-button-prev",nextButton:".swiper-button-next"})}render(){var s="image-business",i=this.props.resourceInfo,a=i.preview,t=a===void 0?!1:a,o=this.state,l=o.watermark,p=o.imageUrl;return c().createElement("div",{className:s},c().createElement(Ce.Z,{scenes:"image"}),c().createElement(me.Z,{className:"".concat(s,"-carousel")},p.map((v,y)=>c().createElement("div",{className:"".concat(s,"-image"),key:y.toString()},c().createElement(ye.Z,{src:v,onLoad:this.onImageLoad,ref:this.getImageInstance,preview:t})))))}}Oe.defaultProps={prefixCls:"watch-image-page"};var je=(0,T.$j)(Ue)((0,_.Z)()(Oe)),we=x=>({userInfo:x.user});class Ie extends c().Component{constructor(){var s;super(...arguments);s=this,this.state={htmlWatermark:[],watermark:""},this.getInfoFromSettings=(0,h.Z)(I().mark(function i(){var a,t,o;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,Z.Gw)();case 2:a=p.sent,t=[{type:"dynamic_watermark",name:"htmlWatermark",resourceType:"html"}],o=(0,J.RG)(a,t),s.setState(o,()=>{s.renderWatermark()});case 6:case"end":return p.stop()}},i)})),this.renderWatermark=()=>{var i=this.props.userInfo,a=this.state.htmlWatermark,t=i.name,o=i.unionid,l=i.sourceType,p=i.jobNumber,v=i.position,y=[];a.indexOf("name")>-1&&y.push(c().createElement(Se.Z,{dataType:"userName",value:o,name:t,type:l})),a.indexOf("position")>-1&&y.push(c().createElement("span",null,v)),a.indexOf("jobnumber")>-1&&y.push(c().createElement("span",null,p)),a.length>0&&this.setState({watermark:y.map((A,b)=>c().createElement("span",{key:b},A))})},this.saveProgress=()=>{var i=this.props,a=i.studyInfo,t=i.mode,o=i.userInfo,l=o.enterpriseId,p=o.id;t==="learn"&&(0,J.Gp)({studyInfo:a,enterpriseId:l,userId:p})}}componentDidMount(){this.getInfoFromSettings(),this.saveProgress()}render(){var s="html-business",i=this.props.resourceInfo,a=i.url,t=this.state.watermark;return c().createElement("div",{className:s},c().createElement("div",{className:"".concat(s,"__html-watermark")},t),c().createElement("iframe",{title:"html",className:"".concat(s,"_iframe"),src:a}))}}var De=(0,T.$j)(we)((0,_.Z)()(Ie)),ie=r(57068),d=r(1164),n=x=>({userInfo:x.user});class f extends c().PureComponent{constructor(){super(...arguments);this.getHost=s=>{var i=s.split("//"),a=i[1].split("/");return[i[0],a[0]].join("//")},this.getScormUrl=()=>{var s=this.props,i=s.studyInfo,a=s.mode,t=s.userInfo,o=s.resourceInfo,l=s.from,p=t.enterpriseId,v=t.id,y=o.url,A=this.getHost(y);if(a==="learn"){var b=(0,k.Z)({userId:v,enterpriseId:p,access_token:localStorage.token,from:l,scormUrl:encodeURIComponent(y),platform:"pc",enterpriseApi:"".concat("https://app123492.eapps.dingtalkcloud.com")},i);return"".concat(A).concat("/unzip_file/coolcollege-scorm/prod/scorm.html","?").concat(ie.stringify(b))}return"".concat(A,"/unzip_file/coolcollege-scorm/prod/preview.html?scormUrl=").concat(encodeURIComponent(y))},this.handleOpenScormLink=s=>{d.Z.targetTo({path:s,isExternalLink:!0})}}render(){var s=this.props.t,i="scorm-business",a=this.getScormUrl(),t=(0,Ne.UI)("SCORM_EXTERNAL_WATCH");return c().createElement("div",{className:i},t?c().createElement("div",{className:"".concat(i,"_scorm")},c().createElement("img",{className:"".concat(i,"_scorm_img"),src:"".concat("https://oss.coolcollege.cn","/1794254238973562880.png"),alt:""}),c().createElement("h5",null,s("resourcePlay.scormTip")),c().createElement(O.Z,{type:"primary",onClick:()=>this.handleOpenScormLink(a)},s("resourceLibrary.h5LinkPlayButton"))):c().createElement("iframe",{title:"scorm",className:"".concat(i,"_iframe"),src:a}))}}var U=(0,T.$j)(n)((0,_.Z)()(f));class N extends c().Component{render(){var s=this.props,i=s.visible,a=s.title,t=s.onCancel,o=s.t,l=c().createElement("span",null,a);return c().createElement(de.ZP,{visible:i,title:l,onCancel:t,footer:null},c().createElement("div",{className:"ban-preview"},c().createElement("div",{className:"ban-preview-center"},c().createElement("img",{src:D(),alt:"picture"}),c().createElement("h2",null,o("localStorage.tip")),c().createElement("p",null,o("localStorage.banPreview"))),c().createElement("hr",null),c().createElement(O.Z,{type:"primary",className:"know",onClick:t},o("localStorage.onKnow"))))}}var X=(0,_.Z)()(N);class j extends u.Component{constructor(){var s;super(...arguments);s=this,this.state={showBan:"",fullScreen:!1},this.onCancel=()=>{this.setState({showBan:"",fullScreen:!1})},this.onCancelModel=i=>{var a=this.props.previewInfo,t=a.onCancel;this.onCancel(),t(i)},this.onGetVideoBusiness=i=>{var a=this.props.onRef,t=a===void 0?()=>{}:a;this.videoBusiness=i,t(i)},this.onFullScreen=()=>{var i=this.state.fullScreen;this.setState({fullScreen:!i})},this.handleJudgeNetwork=(0,h.Z)(I().mark(function i(){var a,t,o,l,p,v,y,A,b,M,S,L=arguments;return I().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(a=L.length>0&&L[0]!==void 0?L[0]:null,t=s.props,o=t.resourceInfo,l=t.watchType,p=o.storageType,v=o.playId,y=o.originUrl,A=l==="image"||l==="video"||l==="doc",b=null,a?b=a:y?b=y:b=o.url,!(A&&b&&v&&p&&p==="LOCAL")){pe.next=22;break}return pe.prev=7,pe.next=10,(0,Z.NY)(v);case 10:return M=pe.sent,pe.next=13,(0,Z.Hy)(b,M);case 13:S=pe.sent,S?s.setState({showBan:"no"}):s.setState({showBan:"yes"}),pe.next=20;break;case 17:pe.prev=17,pe.t0=pe.catch(7),s.setState({showBan:"yes"});case 20:pe.next=23;break;case 22:s.setState({showBan:"no"});case 23:case"end":return pe.stop()}},i,null,[[7,17]])})),this.renderOuter=()=>{var i=this.props,a=i.prefixCls,t=i.watchType,o=i.onCurrentTime,l=o===void 0?()=>{}:o;return c().createElement("div",{className:"".concat(a,"-outer")},t==="video"&&c().createElement(ot,(0,ae.Z)({onCurrentTime:l,onGetVideoBusiness:this.onGetVideoBusiness},this.props)),t==="doc"&&c().createElement(m,this.props),t==="image"&&c().createElement(je,(0,ae.Z)({onError:this.handleJudgeNetwork},this.props)),t==="html"&&c().createElement(De,this.props),t==="scorm"&&c().createElement(U,this.props))},this.renderFooter=()=>{var i=this.props,a=i.resourceInfo.storageType,t=i.t,o=this.state.showBan,l=o!==""&&o==="yes";return a&&a!=="PUBLIC_CLOUD"&&l?c().createElement(O.Z,{type:"primary",className:"know",onClick:this.onCancelModel},t("localStorage.onKnow")):null}}componentDidMount(){var s=this.props.mode;s==="learn"?this.handleJudgeNetwork():this.setState({showBan:"no"})}componentDidUpdate(s){s.previewInfo.visible!==this.props.previewInfo.visible&&this.props.previewInfo.visible&&this.handleJudgeNetwork()}render(){var s=this.state,i=s.showBan,a=s.fullScreen,t=this.props,o=t.mode,l=t.previewWay,p=t.previewInfo,v=t.prefixCls,y=t.t,A=t.showEnlarge,b=t.footer,M=b===void 0?null:b,S=p.visible,L=p.destroyOnClose,re=p.title,pe=i!==""&&i==="yes",Te=i!==""&&i==="no";return c().createElement(u.Fragment,null,o==="preview"&&l==="popups"&&c().createElement(de.ZP,{destroyOnClose:L,visible:S,title:re,onCancel:this.onCancelModel,footer:M||this.renderFooter(),wrapClassName:"".concat(v,"-resource ").concat(a?"".concat(v,"-full"):"")},A&&c().createElement("div",{className:"".concat(v,"-resource-out-icon"),onClick:this.onFullScreen},a?c().createElement(g.Z,{className:"".concat(v,"-resource-icon")}):c().createElement(P.Z,{className:"".concat(v,"-resource-icon")})),c().createElement("div",{className:"".concat(v,"-inner")},!S&&c().createElement(e.Z,{size:"large"}),S&&Te&&this.renderOuter(),pe&&c().createElement(ee,null))),(o==="learn"||l==="page")&&Te&&this.renderOuter(),(o==="learn"||l==="page")&&c().createElement(X,{visible:pe,title:re||y("questionn.warmHint"),onCancel:this.onCancel}))}}j.defaultProps={prefixCls:"cl-resource-play",from:"",mode:"learn",previewWay:"popups",previewInfo:{visible:!1,destroyOnClose:!0,title:"",onCancel:()=>{}},watchType:"h5",studyInfo:{courseId:"",studyId:"",resourceId:"",studyType:""},resourceInfo:{},autoPlay:!0,draggable:!0,needCurrentTime:!1,showQuality:!0,showEnlarge:!0};var oe=(0,_.Z)("translation",{withRef:!0})(j)},41225:function(Re,he,r){"use strict";r.d(he,{Hy:function(){return h},NY:function(){return R},Gw:function(){return I},sH:function(){return g},BR:function(){return u},qp:function(){return P},Xc:function(){return _},J7:function(){return c}});var K=r(57361),e=r(9754),G=r.n(e),O=r(10237),ae=r(37055),h=function(){var V=(0,K.Z)(G().mark(function D(){var $,ee,k,E,C,T,J,Z=arguments;return G().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return $=Z.length>0&&Z[0]!==void 0?Z[0]:"",ee=Z.length>1&&Z[1]!==void 0?Z[1]:"",k="",$.startsWith("http")?(E=$.split("//")[1].trim(),C=E.split("/")[0],k="https://".concat(C,"/cms/ticket")):(T=$.split("/")[0],k="https://".concat(T,"/cms/ticket")),Y.prev=4,Y.next=7,O.ZQ.get({url:k,params:{ticket:ee}});case 7:if(J=Y.sent,!(J.status===200||J.status===403)){Y.next=10;break}return Y.abrupt("return",Promise.resolve(!0));case 10:return Y.abrupt("return",Promise.resolve(!1));case 13:return Y.prev=13,Y.t0=Y.catch(4),Y.abrupt("return",Promise.reject(new Error("false")));case 16:case"end":return Y.stop()}},D,null,[[4,13]])}));return function(){return V.apply(this,arguments)}}(),R=function(){var V=(0,K.Z)(G().mark(function D($){var ee,k;return G().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,O.ZQ.get({url:ae.ZP.local.getTicket($)});case 2:if(ee=C.sent,k=ee.data,k.code!==0){C.next=6;break}return C.abrupt("return",Promise.resolve(k.data.ticket));case 6:return C.abrupt("return",Promise.resolve(""));case 7:case"end":return C.stop()}},D)}));return function($){return V.apply(this,arguments)}}(),I=function(){var V=(0,K.Z)(G().mark(function D(){var $;return G().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,O.WY.get({url:ae.ZP.advancedSetting.getSetting(),params:{page_size:9999,page_number:1}});case 2:return $=k.sent,k.abrupt("return",$.data.list);case 4:case"end":return k.stop()}},D)}));return function(){return V.apply(this,arguments)}}(),u=function(){var V=(0,K.Z)(G().mark(function D($){var ee,k,E;return G().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,O.WY.get({url:ae.ZP.localStorage.getPravateVideoUrl($)});case 2:if(ee=T.sent,ee.data.code!==0){T.next=6;break}return k=ee.data.data.videoPlayInfo,E=k===void 0?"":k,T.abrupt("return",E);case 6:return T.abrupt("return","");case 7:case"end":return T.stop()}},D)}));return function($){return V.apply(this,arguments)}}(),c=function(){var V=(0,K.Z)(G().mark(function D($){var ee,k,E;return G().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return ee=ae.ZP.localStorage.getPravateDocUrl($),T.prev=1,T.next=4,O.WY.get({url:ee});case 4:if(k=T.sent,E=k.data,!(E.code===0&&E.data)){T.next=8;break}return T.abrupt("return",E.data.docResourceDownloadUrl||"");case 8:return T.abrupt("return","");case 11:return T.prev=11,T.t0=T.catch(1),T.abrupt("return","");case 14:case"end":return T.stop()}},D,null,[[1,11]])}));return function($){return V.apply(this,arguments)}}(),g=function(D){var $=D.studyInfo,ee=D.progress,k=D.recent_start,E=D.page_count,C=D.enterpriseId,T=D.userId,J=D.token,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z,Y=$.studyType;if(Y==="studyTask"&&(z=ae.ZP.SaveProgress.studySaveProgress($)),(Y==="course"||Y==="enterprise")&&(z=ae.ZP.SaveProgress.enterpriseCourseSaveProgress($)),Y==="studyProject"&&(z=ae.ZP.SaveProgress.projectSaveProgress($)),Y==="platform"&&(z="".concat(ae.ZP.SaveProgress.platformCourseSaveProgress($))),(Z||Y==="platform")&&(z+="?enterprise_id=".concat(C,"&user_id=").concat(T)),Z)return z+="&access_token=".concat(J||localStorage.getItem("token")),z;var B={progress:ee,recent_start:k,tempTime:Date.parse(new Date)};return E&&(B.page_count=E),$.evaluationId&&(B.evaluation_id=$.evaluationId),O.WY.post({url:z,data:B})},P=V=>{var D=V.popupId,$=V.planId,ee=V.resourceId,k=V.type;return O.WY.post({url:ae.ZP.TaskStudyRecord.setRandomPopupRecord($),data:{course_id:ee,terminal_type:"PC",popup_id:D,type:k}})},_=(V,D)=>{var $=ae.ZP.SaveProgress.reportStatusInterval(V);return O.WY.post({url:$,data:D})}},21594:function(Re,he,r){"use strict";r.d(he,{pu:function(){return ae},RG:function(){return h},Gp:function(){return R},O8:function(){return I}});var K=r(88986),e=r(69164),G=r(38642),O=r(41225),ae=u=>{var c="";switch(u){case"myObligatoryTask":case"myElectiveTask":case"myTestTask":c="studyTask";break;case"enterprise":c="enterprise";break;case"courseProject":c="studyProject";break;case"platform":case"purchased":c="platform";break;default:break}return c},h=(u,c)=>{var g={};return c.forEach(P=>{var _=u.find(k=>k.type===P.type);if(_)if(P.type==="document_duration_limit"){var V=_.action_list,D=V.find(k=>k.type==="random_popup_verification");!(0,G.UI)("RANDOM_POPUP_VERIFY")||!D?g[P.name]="CLOSE":g[P.name]=D.param.checked==="true"?"OPEN":"CLOSE"}else if(P.type==="document_player"){var $=JSON.parse(_.actions);$.forEach(k=>{k.param.checked==="true"&&(g[P.name]=k.type)})}else if(P.type==="dynamic_watermark"){var ee=_.action_list;ee.forEach(k=>{k.type===P.resourceType&&k.param.checked==="true"&&(g[P.name]=k.param.comment)})}else g[P.name]=_.switch_status}),g},R=u=>{(0,O.sH)((0,K.Z)({progress:100,recent_start:1},u)).then(c=>{c&&c.data&&(0,e.Z)(c.data.integral_info||"")})},I=u=>{var c=document.createElement("div");return c.innerHTML=u,c.childNodes[0]}},24144:function(Re,he,r){"use strict";r.d(he,{G2:function(){return Ee},Sc:function(){return Y},Ur:function(){return Je},VI:function(){return $e},Lh:function(){return nt},DZ:function(){return E},ZM:function(){return T},tX:function(){return B},VQ:function(){return $},_D:function(){return q},iM:function(){return le},vx:function(){return ne},$Y:function(){return D},ws:function(){return _},Pd:function(){return V}});var K=r(43185),e=r(53251),G=r(62029),O=r(34792),ae=r(48086),h=r(88986),R=r(33565),I=r(12924),u=r.n(I),c=r(91768),g=r(10237),P=r(37055);function _(m){var W=P.ZP.Common.upload();return g.WY.post({url:W,data:m})}function V(m){var W=P.ZP.CourseManageList.uploadAiImage();return g.WY.post({url:W,data:m})}function D(m){var W=P.ZP.CourseManageList.saveAiImage();return g.WY.post({url:W,data:m})}function $(m){var W=m.idList,me=P.ZP.CourseManageList.deleteAiImage();return g.WY.put({url:me,data:{id_list:W}})}var ee=r(72387),k=r(76343),E={IMAGE:"image"},C=m=>{var W=m.uploadConfig,me=m.uploadType,ce=m.clip,ye=m.size,Se=m.quality,Ue=m.t,Oe=Array.isArray(m.fileList)?m.fileList:[],je=(0,I.useState)(!1),we=(0,R.Z)(je,2),Ie=we[0],De=we[1],ie=(0,I.useState)(!1),d=(0,R.Z)(ie,2),n=d[0],f=d[1],U=(0,I.useState)(0),N=(0,R.Z)(U,2),X=N[0],j=N[1],oe=(0,I.useState)(!1),x=(0,R.Z)(oe,2),s=x[0],i=x[1],a=(0,I.useState)({}),t=(0,R.Z)(a,2),o=t[0],l=t[1],p=se=>{var ve=se.file;ce?v({file:ve},ce):y({file:ve})},v=(se,ve)=>{var ge=se.file;ve==="crop"&&(l(ge),S())},y=se=>{var ve=se.file;De(!0);var ge=new FormData;ge.append("file",ve),Fe(ge,me).then(Ae=>{var _e="".concat(Ae.data.data.server,"/").concat(Ae.data.data.fileNewName),qe=Ae.data.data.fileNewName,Me=[(0,h.Z)({url:_e,uid:qe,name:qe,thumbUrl:_e,status:"done",response:"Server Error 500"},Ae.data.data)];b({newImgList:Me})}).catch(Ae=>{M({error:Ae,data:{fileList:[{fileName:ve.name}]}})}).finally(()=>{De(!1)})},A=se=>{m.onUploadedListChange&&m.onUploadedListChange(se)},b=se=>{var ve=se.newImgList,ge=W.maxCount;m.onUploadSuccess&&m.onUploadSuccess({fileList:[...ve]});var Ae=[...Oe,...ve],_e=[];typeof ge=="number"&&ge===1?_e=ve:typeof ge=="number"&&Ae.length>ge?_e=Ae.slice(0,ge+1):_e=Ae,A({fileList:_e})},M=se=>{var ve=se.error,ge=se.data;m.onUploadFailed&&m.onUploadFailed({error:ve,data:ge})},S=()=>{i(!0)},L=()=>{i(!1)},re=se=>{if(m.onBeforeUpload)return m.onBeforeUpload(se);var ve=W.accept;if(ve&&ve.indexOf(se.name.split(".").pop().toLowerCase())<0)return ae.default.error(Ue("component.imgTypeError")),!1;if(ye&&ye.value&&ye.unit){var ge=ye.value,Ae=ye.unit,_e=Ae.toLowerCase()==="kb"?se.size/1024<ge:se.size/1024/1024<ge;if(!_e)return ae.default.error("".concat(Ue("component.imgUploadLimit")).concat(ge).concat(Ae,"!")),!1}return!0},pe=se=>{var ve=[...Oe],ge=ve.findIndex(Ae=>Ae.uid===se.uid);ve.splice(ge,1),A({fileList:ve})},Te=se=>{var ve=Oe.findIndex(ge=>ge.uid===se.uid);j(ve),f(!0)},xe=()=>{f(!1)},te=se=>{var ve=se.fileName,ge=se.imgUrl,Ae=se.fileNewName,_e={url:ge,uid:Ae,fileName:ve,name:Ae,thumbUrl:ge,status:"done"};b({newImgList:[_e]}),i(!1)},Fe=(se,ve)=>ve===E.IMAGE?_(se):null,Be={listType:"picture-card",accept:"*",fileList:[],beforeUpload:re,customRequest:p,onPreview:Te,onRemove:pe};return u().createElement(u().Fragment,null,u().createElement(e.Z,(0,G.Z)({},Be,W,m,{className:"upload_container_19fb1b0b-5573-42cb-b6a2-b39518df62cd ".concat(m.className)}),m.render((0,h.Z)((0,h.Z)({},m),{},{loading:Ie}))),u().createElement(ee.Z,{visible:n,imgList:Oe.map(se=>se.url),defaultActive:X,onClose:xe}),s&&u().createElement(k.Z,(0,G.Z)({visible:s,file:o,widthScale:16,heightScale:9,sizeLimit:ye.value,sizeLimitUnit:ye.unit,accept:W.accept,onCancel:L,onOk:te,onUploadFailed:M,quality:Se},m.imgCropConfig)))};C.defaultProps={fileList:[],uploadType:"image",size:{},clip:"",quality:void 0};var T=(0,c.Z)()(C);function J(m){return(0,h.Z)((0,h.Z)({},m),{},{lastModified:m.lastModified,lastModifiedDate:m.lastModifiedDate,name:m.name,size:m.size,type:m.type,uid:m.uid,percent:0,originFileObj:m})}var Z={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},z=m=>{var W=(0,I.useRef)({fileList:[],file:{}}),me=m.uploadConfig,ce=m.size,ye=m.t;(0,I.useEffect)(()=>{W.current.fileList=m.fileList?m.fileList:[]},[m.fileList]);function Se(we){var Ie=!0;if(ce&&ce.value&&ce.unit){var De=ce.value,ie=ce.unit,d=ie.toLowerCase()==="kb"?we.size/1024<De:we.size/1024/1024<De;d||(ae.default.error("".concat(ye("component.imgUploadLimit")).concat(De).concat(ie,"!")),Ie=!1)}return Ie&&(W.current.fileList=[...W.current.fileList,J(we)]),Ie}function Ue(we){var Ie=we.file,De=we.onError,ie=we.onProgress,d=we.onSuccess,n=new FormData;return n.append("file",Ie),_(n,{onUploadProgress:f=>{var U=f.total,N=f.loaded;ie({percent:Math.round(N/U*100).toFixed(2)},Ie)}}).then(f=>{var U=f.data;d(U,Ie)}).catch(De),{abort(){console.log("upload progress is aborted.")}}}var Oe={listType:"text",accept:"*",beforeUpload:Se,customRequest:Ue,onStart(we){W.current.file=we,W.current.fileList=W.current.fileList.map(Ie=>Ie.uid===we.uid?(0,h.Z)((0,h.Z)({},Ie),{},{status:"uploading"}):Ie),m.onChange&&m.onChange(B({file:W.current.file,fileList:W.current.fileList}))},onSuccess(we,Ie){W.current.file=Ie,W.current.fileList=W.current.fileList.map(De=>De.uid===Ie.uid?(0,h.Z)((0,h.Z)({},De),{},{response:we,status:"done"}):De),m.onChange&&m.onChange(B({file:W.current.file,fileList:W.current.fileList}))},onError(we,Ie){m.onChange(B({file:W.current.file,fileList:W.current.fileList.map(De=>De.url?De:(0,h.Z)((0,h.Z)({},De),{},{status:"error"}))}))},onProgress(we,Ie){var De=we.percent;W.current.file=Ie,W.current.fileList=W.current.fileList.map(ie=>ie.uid===Ie.uid?(0,h.Z)((0,h.Z)({},ie),{},{percent:De}):ie),m.onChange&&m.onChange(B({file:W.current.file,fileList:W.current.fileList}))}},je=(0,h.Z)((0,h.Z)({},Oe),me);return u().createElement(u().Fragment,null,u().createElement(e.Z,je,m.render((0,h.Z)({},m))))},Y=(0,c.Z)()(z);function B(m){var W=m.file,me=m.fileList;return{file:(0,h.Z)({},W),fileList:me.map(ce=>{var ye=ce.response,Se=ce.name,Ue=ce.type,Oe=ce.size,je=ce.status,we=ce.percent,Ie=ce.uid,De=ce.url;if(ye){var ie=ye.data,d=ye.error;return d?(0,h.Z)((0,h.Z)((0,h.Z)({},ce),ie),{},{status:"error"}):(0,h.Z)((0,h.Z)((0,h.Z)({},ce),ie),{},{url:"".concat(ie.server,"/").concat(ie.fileNewName)})}return{name:Se,size:Oe,type:Ue,percent:we,status:je,url:De,uid:Ie}})}}function Q(m){var W=m.name,me=W.match(/\.([0-9a-z]+)(?:[\?#]|$)/i),ce=(0,R.Z)(me,1),ye=ce[0];switch(ye.toLowerCase()){case".mp3":return E.AUDIO;case".mp4":return E.VIDEO;case".webp":case".svg":case".png":case".gif":case".jpg":case".jpeg":case".jfif":case".bmp":case".dpg":case".ico":return E.IMAGE;default:return""}}function fe(m){var W=m.split("/"),me=W[W.length-1],ce=me.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(ce)||[""])[0]}var Pe=m=>u().createElement(T,(0,G.Z)({},m,{uploadConfig:(0,h.Z)((0,h.Z)({},m.uploadConfig),{},{showUploadList:!1,maxCount:1,fileList:m.fileList}),className:"sample_upload_image_container",render:W=>q(W)}));Pe.defaultProps={uploadConfig:{listType:"picture-card",maxCount:1},addTitle:"",size:{value:2,unit:"MB"},fileList:[]};var Ee=(0,c.Z)()(Pe),H=r(20228),F=r(11382),ue=r(7085),w=r(49101),q=m=>{var W=m.uploadConfig,me=m.loading,ce=m.fileList,ye=m.addTitle,Se=m.changeTip,Ue=Se===void 0?"":Se,Oe=m.imageContainerClassName,je=W.maxCount;return me?u().createElement(ue.Z,null):ce.length>0&&ce.length<=je?u().createElement("div",{className:"avatar_list_container ".concat(Oe)},u().createElement("img",{className:"avatar",src:ce[0].url,alt:"img"}),Ue&&u().createElement("div",{className:"change_btn"},Ue)):u().createElement("div",{className:"avatar_select_container"},u().createElement(w.Z,null),u().createElement("div",{className:"avatar_select_tip"},ye))},le=m=>{var W=m.uploadConfig,me=m.loading,ce=m.fileList,ye=m.selectTip,Se=W.maxCount;return me?u().createElement(ue.Z,null):ce.length>=Se?null:u().createElement("div",{className:"picture_select"},u().createElement(w.Z,null),ye&&u().createElement("div",{className:"picture_select_tip"},ye))},ne=m=>{var W=m.loading,me=m.fileList,ce=m.changeTip,ye=m.addTitle,Se=m.renderClassName,Ue=(0,R.Z)(me,1),Oe=Ue[0];return W?u().createElement(F.Z,{spinning:W,indicator:u().createElement(ue.Z,{spin:!0})},u().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(Se)})):Oe?u().createElement("div",{className:"class_6f5ad7a8_6cee_4858_99d0_b3dd950f662b ".concat(Se)},u().createElement("img",{src:Oe,alt:"image"}),u().createElement("div",{className:"change_btn"},ce)):u().createElement("div",{className:"upload_btn_container ".concat(Se)},u().createElement("div",{className:"upload_btn"},u().createElement(w.Z,null),ye&&u().createElement("div",{className:"avatar_select_tip"},ye)))},be=m=>{var W=m.loading,me=m.fileList,ce=m.changeTip,ye=m.reset,Se=m.renderClassName,Ue=_slicedToArray(me,1),Oe=Ue[0],je=we=>{we.stopPropagation(),ye.resetEvent&&ye.resetEvent(we)};return W?React.createElement(_Spin,{spinning:W,indicator:React.createElement(LoadingOutlined,{spin:!0})},React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(Se)})):React.createElement("div",{className:"class_bf5f55ec_25c6_45b1_b5a4_f5b467257caa ".concat(Se)},React.createElement("img",{src:Oe,alt:"image"}),React.createElement("div",{className:"change_btns"},React.createElement("span",{className:"operate_item operate_change"},ce),React.createElement("span",{onClick:we=>{je(we)},className:"operate_item operate_reset"},ye.tip)))},de=r(84874),Ne=m=>{var W=me=>{m.onChange&&m.onChange(me)};return u().createElement(Y,(0,G.Z)({onChange:W,uploadType:E.VIDEO},m,{uploadConfig:(0,h.Z)({accept:"video/*",showUploadList:!1},m.uploadConfig),render:()=>u().createElement("span",{className:"icon"},u().createElement(de.Z,{iconClass:"icon-shipinfujian",color:m.iconColor,size:"16px"}))}))};Ne.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Le=(0,c.Z)()(Ne),Ce=m=>{var W=me=>{m.onChange&&m.onChange(me)};return u().createElement(Y,(0,G.Z)({onChange:W,uploadType:E.AUDIO},m,{uploadConfig:(0,h.Z)({accept:"audio/*",showUploadList:!1},m.uploadConfig),render:()=>u().createElement("span",{className:"icon"},u().createElement(de.Z,{iconClass:"icon-yinpinfujian",size:"16px",color:m.iconColor}))}))};Ce.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Ze=(0,c.Z)()(Ce),We=r(22385),Qe=r(31097),Ye=r(86506),ot=r.n(Ye),Ge=m=>{var W=me=>{m.onChange&&m.onChange(me)};return u().createElement(Y,(0,G.Z)({onChange:W,uploadType:E.IMAGE},m,{uploadConfig:(0,h.Z)({accept:"image/*",showUploadList:!1},m.uploadConfig),render:()=>u().createElement(u().Fragment,null,m.uploadImageIcon?m.uploadImageIcon((0,h.Z)({},m.uploadConfig)):u().createElement(Qe.Z,{title:m.t("examination.uploadImgTip"),overlayStyle:{fontSize:"12px"}},u().createElement("span",{className:ot()["icon-container"]},u().createElement(de.Z,{iconClass:"icon-tupianfujian",color:"#979797",size:"16px"}))))}))};Ge.defaultProps={uploadConfig:{listType:"text"},addTitle:""};var Je=(0,c.Z)()(Ge),Xe=r(34669),st=r(82833),tt=r(12968),at=r(44208),ze=r(54549),et=r(56653),ke=r.n(et),rt=r(76466),$e={OPEN:"open",CLOSE:"close",CUSTOM:"custom"},He=m=>{var W=m.t,me=m.preview,ce=m.previewSize,ye=m.remove,Se=m.status,Ue=m.name,Oe=m.extension,je=!Se||Se==="done",we=Se&&Se==="error",Ie=m.resourceType||Q({name:Ue,extension:Oe}),De=(0,I.useState)({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),ie=(0,R.Z)(De,2),d=ie[0],n=ie[1],f=(0,I.useState)({visible:!1,destroyOnClose:!0,title:W("common.resourcePreview"),onCancel:i}),U=(0,R.Z)(f,2),N=U[0],X=U[1];function j(a){var t=a||window.event;t.stopPropagation(),t.cancelBubble=!0,m.onDeleteItem&&m.onDeleteItem()}function oe(a){var t=a.percent,o=a.url;if(je)switch(Ie){case E.IMAGE:return u().createElement("div",{className:ke().cover},u().createElement(at.Z,{width:ce,height:ce,alt:"img",className:ke()["ant-image-container"],src:o}));case E.VIDEO:return u().createElement("div",{className:ke().cover},u().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117263953920.png",alt:"video"}));case E.AUDIO:return u().createElement("div",{className:ke().cover},u().createElement("img",{className:"",src:"https://oss.coolcollege.cn/1815010117280731136.png",alt:"audio"}));default:return null}if(we)return u().createElement("div",{className:"".concat(ke().cover," ").concat(ke()["error-cover"])},W("component.uploadFailed"));var l=Math.floor(t);return u().createElement("div",{className:ke().cover},u().createElement("div",{className:ke()["cover-content"]},u().createElement(st.Z,{showInfo:!1,strokeWidth:4,percent:Math.floor(l)}),u().createElement("span",{className:ke()["progress-tip"]},l>0?"\u4E0A\u4F20\u4E2D...":"\u7B49\u5F85\u4E2D")))}function x(){switch(Ie){case E.IMAGE:return u().createElement(de.Z,{iconClass:"icon-FView",size:"16px",color:"#fff"});case E.VIDEO:case E.AUDIO:return u().createElement(de.Z,{iconClass:"icon-bofang",size:"22px",color:"#fff"});default:return null}}function s(a,t){var o=t.type,l=t.url,p=t.resourceList,v=t.resourceType,y=t.index,A=a||window.event;if(A.stopPropagation(),A.cancelBubble=!0,me!==$e.CLOSE){if(me===$e.CUSTOM&&m.onPreview){m.onPreview({resourceList:p,resourceType:v,index:y,e:a});return}if(v.includes(E.VIDEO)||o.includes(E.AUDIO)){var b=m.extension==="mp3";n((0,h.Z)((0,h.Z)({},d),{},{watchType:"video",resourceInfo:{source:{FD:l,OD:l},originUrl:l,contentType:b?"audio/mp3":v},autoPlay:!0,draggable:!0})),X((0,h.Z)((0,h.Z)({},N),{},{visible:!0}))}}}function i(a){var t=a||window.event;t.stopPropagation(),t.cancelBubble=!0,n({mode:"preview",watchType:"",resourceInfo:{},autoPlay:!0,draggable:!0}),X((0,h.Z)((0,h.Z)({},N),{},{visible:!1}))}return u().createElement(u().Fragment,null,u().createElement("div",{className:ke()["resource-item-container"],style:{width:"".concat(ce,"px"),height:"".concat(ce,"px")}},oe(m),(!Se||Se==="done"||Se==="error")&&u().createElement("div",null,me!==$e.CLOSE&&Se!=="error"&&Ie!==E.IMAGE&&u().createElement("div",{className:ke().mask,onClick:a=>{s(a,m)}},x(m)),ye&&u().createElement("div",{className:ke().delete,onClick:j},u().createElement(ze.Z,{className:ke()["delete-icon"]})))),me===$e.OPEN&&Ie!==E.IMAGE&&u().createElement(rt.Z,(0,G.Z)({},d,{previewInfo:N})))};He.defaultProps={preview:$e.OPEN,previewSize:72,remove:!0,resourceType:""};var nt=(0,c.Z)()(He)},11449:function(Re,he,r){"use strict";r.d(he,{Z:function(){return fe}});var K=r(88986),e=r(33565),G=r(12924),O=r.n(G),ae=r(3115),h=r(49111),R=r(19650),I=r(62029),u=r(57663),c=r(71577),g=r(91768),P=r(28216),_=r(37055),V=r(10237);function D(Pe){var Ee=_.ZP.getHelpContentByMenuKey(),H={key:Pe};return V.WY.get({url:Ee,params:H})}var $=r(74228),ee=r.n($),k=r(1164),E=r(76466),C=r(38642);class T extends O().Component{constructor(Ee){var H;super(Ee);H=this,this.getHelpContentByMenuKey=()=>{var F=this.props.defaultMenuKey;D(F).then(ue=>{var w=ue.data,q=w.help_url,le=w.video_url;this.setState({videoUrl:le,helpUrl:q})})},this.handleOpenHelpUrl=F=>{if((0,C.ve)()){window.open(F,"_blank");return}k.Z.targetTo({path:F,isExternalLink:!0})},this.handleOpenVideo=function(F){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.props.t("helpCenter.video");H.setState(w=>({resourcePlayInfo:(0,K.Z)((0,K.Z)({},w.resourcePlayInfo),{},{resourceInfo:{originUrl:F,source:{FD:F,OD:F},contentType:"mp4"}}),previewInfo:(0,K.Z)((0,K.Z)({},w.previewInfo),{},{title:ue,visible:!0,onCancel:H.handleCancelPreview})}))},this.handleCancelPreview=()=>{var F=this.state.previewInfo;this.setState({resourcePlayInfo:{mode:"preview",watchType:"video",resourceInfo:{}},previewInfo:(0,K.Z)((0,K.Z)({},F),{},{visible:!1})})},this.state={helpUrl:"",videoUrl:"",resourcePlayInfo:{autoPlay:!0,draggable:!0,mode:"preview",resourceInfo:{},watchType:"video"},previewInfo:{visible:!1,destroyOnClose:!0,title:Ee.t("helpCenter.video")||"\u89C6\u9891\u6307\u5BFC",onCancel:()=>{}}}}componentDidMount(){this.getHelpContentByMenuKey()}render(){var Ee=this.state,H=Ee.helpUrl,F=Ee.resourcePlayInfo,ue=Ee.previewInfo,w=Ee.videoUrl,q=this.props.t;return O().createElement("div",{className:ee().helpCenter},w&&O().createElement(c.Z,{type:"link",className:ee()["video-btn"],style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenVideo(w)},q("helpCenter.video")),H&&O().createElement(c.Z,{type:"link",style:{borderWidth:"0px",padding:"0"},onClick:()=>this.handleOpenHelpUrl(H)},q("helpCenter.tutorial")),O().createElement(E.Z,(0,I.Z)({},F,{previewInfo:ue})))}}var J=Pe=>({defaultMenuKey:Pe.currentRoute.menuKey});T.defaultProps={defaultMenuKey:""};var Z=(0,P.$j)(J)((0,g.Z)()(T));function z(Pe){var Ee=Pe.extra,H=localStorage.getItem("dingPersonnel"),F=sessionStorage.getItem("dingPersonnel");return O().createElement(R.Z,null,Ee,H!=="dingPersonnel"&&F!=="dingPersonnel"&&(0,C.eY)("COMMONEXTRA_HELP_CENTER")&&O().createElement(Z,null))}var Y=z,B=r(4408);function Q(Pe){var Ee=(0,G.useState)({helpCenter:(0,C.eY)("HEAD_HELP_CENTER_BUT")}),H=(0,e.Z)(Ee,1),F=H[0],ue=Pe.pageContainerParams,w=ue===void 0?{}:ue,q=Pe.noPadding,le=q===void 0?!1:q,ne=Pe.isPersonal,be=ne===void 0?!1:ne,de=Pe.pageTitle,Ne=Pe.className,Le=Ne===void 0?"":Ne,Ce={extra:F.helpCenter?O().createElement(Y,{extra:w.extra}):w.extra},Ze=(0,K.Z)((0,K.Z)({},w),Ce);return O().createElement("div",{className:"page-container-content ".concat(le?"page-container-noPadding":""," ").concat(be?"page-container-content_personal_background":""," ").concat(Le)},de&&O().createElement(B.Z,{title:de}),be?O().createElement(ae.Z,null,Pe.children):O().createElement(ae.Z,Ze,Pe.children))}var fe=Q},28495:function(Re,he,r){"use strict";var K=r(88983),e=r(47933),G=r(54029),O=r(62529),ae=r(12924),h=r.n(ae),R=r(91768),I="";class u extends h().Component{constructor(g){super(g);this.scrollTo=P=>{var _=this.props.questionListEleId,V=document.getElementById("question".concat(P)).offsetTop-100;document.getElementById(_).scrollTop=V},this.startCountDown=P=>{var _=P;I=setInterval(()=>{if(this.setState({remainTimeLabel:this.getRemainLabel(_)}),_<=1&&(document.onkeydown=V=>{var D=V.target;D.blur()}),_<=0){this.props.timeover(),clearInterval(I);return}_-=1},1e3)},this.getRemainLabel=P=>{if(P<=0)return"00:00";var _=Math.floor(P/60),V=P%60;return _=_>9?_:"0".concat(_),V=V>9?V:"0".concat(V),"".concat(_,":").concat(V)},this.state={remainTimeLabel:""}}componentDidMount(){this.setState({remainTimeLabel:this.getRemainLabel(this.props.remainTime)}),this.startCountDown(this.props.remainTime)}componentWillUnmount(){I&&clearInterval(I)}render(){var g=this.props,P=g.t,_=g.parseList,V=g.currentParseType,D=g.repeatMarking,$=g.isExam,ee=g.style,k=ee===void 0?{}:ee,E=localStorage.getItem("themeColor")||"#465dcd";return h().createElement("div",{className:"question-index",style:k},h().createElement("div",{className:"question-index_title"},P("examing.questionCard"),$?h().createElement("span",{className:"operate-btn-time"},h().createElement("label",{className:"time-label"},P("examing.countDown")),this.state.remainTimeLabel):""),h().createElement("div",{className:"question-index_filter"},this.props.filterArr.map((C,T)=>h().createElement("div",{key:T,className:"question-index_filter-one"},h().createElement(O.Z,{color:C.bgColor,text:C.label})))),D&&h().createElement("div",{className:"question-index_parse"},h().createElement(e.ZP.Group,{onChange:C=>this.props.choosePareType(C.target.value),defaultValue:V},_.map(C=>h().createElement(e.ZP.Button,{key:C.key,value:C.key},C.label)))),h().createElement("div",{className:"question-index_type"},this.props.questionIndex.map((C,T)=>C.list.length===0?null:h().createElement("div",{key:T,className:"question-index_type-one"},h().createElement("h5",null,C.label),h().createElement("div",{className:"type-index-list"},C.list.map(J=>{var Z=J.bgColor||"",z={};return Z==="#516ae6"?z={background:"rgba(81, 106, 230,0.16)",color:"#516ae6",border:"1px solid #516ae6"}:Z==="#d64f4f"?z={background:"rgba(210, 67, 67, 0.16)",color:"#D24343",border:"1px solid #D24343"}:z={background:"rgba(214, 214, 214, 0.16)",color:"#000000",border:"1px solid #D6D6D6"},h().createElement("span",{onClick:()=>this.scrollTo(J.index),key:J.index,className:"type-index-list-one",style:z},J.index)}))))))}}he.Z=(0,R.Z)()(u)},25313:function(Re,he,r){"use strict";r.d(he,{Z:function(){return De}});var K=r(12924),e=r.n(K);function G(){return(ie,d)=>{class n extends e().PureComponent{render(){return e().createElement("div",null,e().createElement(ie,this.props),e().createElement(d,this.props))}}return n}}var O=G;function ae(){return(ie,d)=>{class n extends e().PureComponent{render(){return e().createElement("div",null,e().createElement(ie,this.props),e().createElement(d,this.props))}}return n}}var h=ae,R=r(88983),I=r(47933),u=r(91768),c=r(72387);class g extends e().PureComponent{constructor(d){super(d);this.onClosePreview=()=>{this.setState({showPreview:!1})},this.previewImg=n=>{this.setState({defaultActive:n,showPreview:!0})},this.state={defaultActive:0,showPreview:!1}}render(){return e().createElement("div",{className:"question-image"},this.props.imageList.map((d,n)=>e().createElement("img",{className:"question-image-display",src:d,key:d,onClick:()=>this.previewImg(n)})),e().createElement(c.Z,{visible:this.state.showPreview,imgList:this.props.imageList,defaultActive:this.state.defaultActive,onClose:this.onClosePreview}))}}var P=g,_=r(84874);class V extends e().PureComponent{constructor(){super(...arguments);this.state={collapsed:!0},this.handleClick=()=>{this.setState(d=>({collapsed:!d.collapsed}))},this.renderHeader=()=>{var d=this.props,n=d.mode,f=d.t,U=n==="plat"?null:e().createElement("span",{className:"icon-arrow",onClick:this.handleClick},e().createElement(_.Z,{iconClass:"iconf-arrow-under",size:"14px"}));return e().createElement("h5",null,f("exam.knowledgePoint"),"\uFF1A",U)},this.renderPoints=()=>{var d=this.props.points;return e().createElement("div",{className:"question-analysis_kpoint__list"},d.map((n,f)=>e().createElement("p",{key:f},f+1,". ",n)))}}render(){var d=this.props,n=d.shouldRender,f=d.mode,U=this.state.collapsed,N="";return f==="collapse"&&(U?N="question-analysis_kpoint-collapse collapsed":N="question-analysis_kpoint-collapse"),n?e().createElement("div",{className:"question-analysis_kpoint ".concat(N)},e().createElement("div",{className:"analysis-container"},this.renderHeader(),this.renderPoints())):null}}V.defaultProps={mode:"plat",shouldRender:!0,points:[]};var D=(0,u.Z)()(V),$=I.ZP.Group;class ee extends e().Component{constructor(d){super(d);this.onChange=n=>{this.setState({value:[n.target.value]},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.previewImg=n=>{this.setState({previewVisible:!0,previewImgList:[n]})},this.handleCancel=()=>{this.setState({previewVisible:!1})},this.state={value:this.props.question.answer,isCorrect:!1,previewImgList:[],previewVisible:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var d=this.props,n=d.question,f=d.displayResult,U=d.displayQuestionScore,N=d.disabled,X=N===void 0?!1:N,j=d.t,oe=this.state,x=oe.isCorrect,s=oe.previewImgList,i=oe.previewVisible;return e().createElement("div",{className:f?"single-question with-result question-one":"single-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",j("examing.single"),"\u3011"),n.title,U?e().createElement("span",{className:"question-one_score"},"(",n.score,j("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:x===!0?"correct-icon":"error-icon"},e().createElement(_.Z,{iconClass:x===!0?"iconf-ok":"iconf-close",color:x===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},j("myExamTask.score"),"\uFF1A",n.actual_score,j("examing.scoreLabel"))):null,n.title_images&&n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement($,{disabled:X,onChange:this.onChange,value:this.state.value[0]},n.options.map(a=>e().createElement("div",{key:a.id,className:"question-one_option-container_option-wrapper"},e().createElement(I.ZP,{value:a.id},a.option_order,".",a.title),a.answer_image?e().createElement("div",{className:"question-one_option-container_img-box",onClick:()=>this.previewImg(a.answer_image)},e().createElement("img",{src:a.answer_image})):null)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),e().createElement(c.Z,{visible:i,imgList:s,defaultActive:0,onClose:this.handleCancel}))}}var k=(0,u.Z)()(ee),E=I.ZP.Group;class C extends e().Component{constructor(d){super(d);this.onChange=n=>{this.setState({value:[n.target.value]},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.state={value:this.props.question.answer,isCorrect:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var d=this.props,n=d.question,f=d.displayResult,U=d.displayQuestionScore,N=d.disabled,X=N===void 0?!1:N,j=d.t,oe=this.state.isCorrect;return e().createElement("div",{className:f?"tof-question with-result question-one":"tof-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",j("examing.tof"),"\u3011"),n.title,U?e().createElement("span",{className:"question-one_score"},"(",n.score,j("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:oe===!0?"correct-icon":"error-icon"},e().createElement(_.Z,{iconClass:oe===!0?"iconf-ok":"iconf-close",color:oe===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},j("myExamTask.score"),"\uFF1A",n.actual_score,j("examing.scoreLabel"))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement(E,{disabled:X,onChange:this.onChange,value:this.state.value[0]},n.options.map(x=>e().createElement(I.ZP,{value:x.id,key:x.id},x.option_order,".",x.title)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}var T=(0,u.Z)()(C),J=r(63185),Z=r(9676),z=Z.Z.Group;class Y extends e().Component{constructor(d){super(d);this.onChange=n=>{this.setState({value:n},()=>{this.props.onUpdateValue(this.props.question.id,this.state.value)})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.previewImg=n=>{this.setState({previewVisible:!0,previewImgList:[n]})},this.handleCancel=()=>{this.setState({previewVisible:!1})},this.state={value:this.props.question.answer,isCorrect:!1,previewImgList:[],previewVisible:!1}}componentDidMount(){this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()})}render(){var d=this.props,n=d.question,f=d.displayResult,U=d.displayQuestionScore,N=d.disabled,X=N===void 0?!1:N,j=d.t,oe=this.state,x=oe.isCorrect,s=oe.previewVisible,i=oe.previewImgList,a=[];return n.options.forEach(t=>{a.push({label:"".concat(t.option_order,".").concat(t.title),value:t.id,answer_image:t.answer_image})}),e().createElement("div",{className:f?"multiple-question with-result question-one":"multiple-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",j("examing.multiple"),"\u3011"),n.title,U?e().createElement("span",{className:"question-one_score"},"(",n.score,j("examing.scoreLabel"),")"):null),f?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:x===!0?"correct-icon":"error-icon"},e().createElement(_.Z,{iconClass:x===!0?"iconf-ok":"iconf-close",color:x===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},j("myExamTask.score"),"\uFF1A",n.actual_score,j("examing.scoreLabel"))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},e().createElement(z,{disabled:X,defaultValue:this.state.value,onChange:this.onChange},a.map(t=>e().createElement("div",{key:t.value,className:"question-one_option-container_option-wrapper"},e().createElement(Z.Z,{value:t.value},t.label),t.answer_image?e().createElement("div",{className:"question-one_option-container_img-box",onClick:()=>this.previewImg(t.answer_image)},e().createElement("img",{src:t.answer_image})):null)))),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),e().createElement(c.Z,{visible:s,imgList:i,defaultActive:0,onClose:this.handleCancel}))}}var B=(0,u.Z)()(Y),Q=r(77883),fe=r(21888),Pe=r(59239),Ee=r(55446),H=r(62029),F=r(20228),ue=r(11382),w=r(88986),q=r(7085),le=r(49101),ne=r(24144),be=ie=>{var d=ie.addTitle,n=ie.fileList,f=n===void 0?[]:n,U=ie.uploadConfig,N=ie.size,X=9,j={listType:"picture-card",accept:".jpg,.jpeg,.png,.gif",openFileDialogOnClick:f.length<U.maxCount,maxCount:U.maxCount};return e().createElement("div",{className:"upload-image-container-exam"},e().createElement(ne.ZM,(0,H.Z)({},ie,{uploadConfig:(0,w.Z)((0,w.Z)({},j),U),size:N,render:oe=>{var x=oe.fileList,s=oe.loading;return e().createElement(ue.Z,{spinning:s,indicator:e().createElement(q.Z,{style:{fontSize:24},spin:!0})},e().createElement("span",{style:x.length>=X?{}:{color:"#516AE6"}},e().createElement(le.Z,null),d))}})))};be.defaultProps={addTitle:"",uploadConfig:{},size:{value:2,unit:"MB"}};var de=(0,u.Z)()(be),Ne=r(71194),Le=r(57016);class Ce extends e().PureComponent{constructor(){super(...arguments);this.state={visible:!1,showUrl:""},this.onImageClick=d=>{this.setState({visible:!0,showUrl:d})},this.handleCancel=()=>{this.setState({visible:!1,showUrl:""})}}render(){var d=this.props,n=d.question,f=d.t,U=n.answer_image_path,N=U===void 0?"":U,X=N.length&&N.split(",")||[];return e().createElement(K.Fragment,null,X.length>0?e().createElement(K.Fragment,null,e().createElement("div",{className:"show-answer-img-title"},f("learning.studentUploadTitle"),":"),e().createElement("div",{className:"question-analysis-show-img-container"},X.map(j=>e().createElement("img",{className:"question-analysis-show-img-out",key:j,onClick:()=>this.onImageClick(j),src:j})),e().createElement(Le.Z,{visible:this.state.visible,onCancel:this.handleCancel,footer:null,wrapClassName:"showModalImg"},e().createElement("div",{className:"showModalImg"},e().createElement("img",{src:this.state.showUrl,alt:""}))))):null)}}Ce.defaultProps={question:{}};var Ze=(0,u.Z)()(Ce),We=14;class Qe extends e().Component{constructor(d){super(d);this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.setTitle=()=>{var n=this.props.question,f=n.title,U=n.answer_image_path,N=U===void 0?"":U,X=N.length>0?N.split(","):[],j=[];X.forEach((t,o)=>{j=[...j,{uid:o,url:t}]});for(var oe=[],x=1,s=[],i=[];f.indexOf("[[]]")!==-1;)oe.push({type:"str",str:f.substring(0,f.indexOf("[[]]"))}),oe.push({type:"input",index:x}),i.push(70),x+=1,f=f.substring(f.indexOf("[[]]")+4);f.length>0&&oe.push({type:"str",str:f});for(var a=0;a<x-1;a++)s.push(this.props.question.answer[a]||""),i[a]=We*(this.props.question.answer[a]?this.props.question.answer[a].length:5);this.setState({titleArr:oe,value:s,inputArrWidth:i,imgList:j})},this.handleChange=(n,f)=>{var U=[...this.state.value];U[f]=n.target.value,this.setState({value:U},()=>{var N=this.state.imgList,X=N===void 0?[]:N,j=[];X.length&&X.forEach(oe=>{j=[...j,oe.url]}),this.props.onUpdateValue(this.props.question.id,U,j.join(","))})},this.handleInput=(n,f)=>{var U=n.target.value,N=U.length*We,X=[...this.state.inputArrWidth];N<70||(X[f]=N>600?600:N,this.setState({inputArrWidth:X}))},this.handleMarkQuestionScore=n=>{this.setState({markedScore:n}),this.props.setQuestionScore(n,this.props.question.id)},this.handleUpLoadChange=n=>{var f=n.fileList;this.setState({imgList:f},()=>{var U=this.state.imgList,N=U===void 0?[]:U,X=[];N.length&&N.forEach(j=>{X=[...X,j.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,X.join(","))})},this.state={value:[],titleArr:[],isCorrect:!1,inputArrWidth:[],markedScore:this.props.question.actualScore,imgList:[]}}componentDidMount(){this.setTitle(),this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()}),this.props.displayMarkInput&&this.handleMarkQuestionScore(this.props.question.actualScore)}render(){var d=this.props,n=d.question,f=d.displayResult,U=d.displayAnalysisInput,N=d.displayMarkInput,X=d.displayQuestionScore,j=d.t,oe=d.cut_screen_count,x=this.state,s=x.isCorrect,i=x.inputArrWidth,a=x.markedScore,t=x.titleArr,o=x.value;return e().createElement("div",{className:f?"blank-question with-result question-one":"blank-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,"."),e().createElement("span",{className:"question-one_type"},"\u3010",j("examing.blank"),"\u3011"),t.map((l,p)=>l.type==="str"?e().createElement("span",{key:p,className:"blank-title-str"},l.str):f?e().createElement("span",{className:"blank-title-result",key:p},"(",o[l.index-1],")"):e().createElement("input",{key:p,type:"text",onPaste:v=>(v.preventDefault(),!1),onContextMenu:v=>(v.preventDefault(),!1),style:{width:"".concat(i[l.index-1],"px")},className:"blank-title-input",onBlur:v=>this.handleChange(v,l.index-1),onInput:v=>this.handleInput(v,l.index-1),defaultValue:this.state.value[l.index-1]})),X?e().createElement("span",{className:"question-one_score"},"(",n.score,j("examing.scoreLabel"),")"):null),f&&!N?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:s===!0?"correct-icon":"error-icon"},e().createElement(_.Z,{iconClass:s===!0?"iconf-ok":"iconf-close",color:s===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},j("myExamTask.score"),"\uFF1A",n.actual_score,j("examing.scoreLabel"))):null,N?e().createElement("div",{className:"question-one_mark"},e().createElement(Pe.Z.Item,{label:j("examing.getScore"),labelCol:{span:8},wrapperCol:{span:14},validateStatus:a>n.score?"error":"",help:a>n.score?j("examing.markScoreTip"):""},e().createElement(fe.Z,{precision:1,value:a,min:0,max:n.score,className:"question-one_mark-input",onChange:this.handleMarkQuestionScore}))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,f&&!N?e().createElement("div",{className:"blank-my-answer-list"},n.correct_answer.map((l,p)=>e().createElement("div",{className:"blank-my-answer-list_item",key:p},e().createElement("span",{className:"blank-my-answer-list_item-index"},"(",p+1,")"),e().createElement("span",{className:s===!0?"blank-my-answer-list_item-content correct":"blank-my-answer-list_item-content error"},n.answer[p]?n.answer[p]:"")))):null,f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),oe>=0?null:e().createElement(e().Fragment,null,U||N?e().createElement(Ze,{question:n}):"",n.answer_image&&!U&&n.answer_image&&!N?e().createElement(de,{uploadConfig:{maxCount:9},fileList:this.state.imgList,onUploadedListChange:this.handleUpLoadChange,addTitle:j("learning.uploadPictureContent")}):null))}}var Ye=(0,u.Z)()(Qe),ot=r(47673),Ge=r(4107),Je=r(6793),Xe=Ge.Z.TextArea;class st extends e().Component{constructor(d){super(d);this.onUpLoadChange=n=>{var f=n.fileList;this.setState({imgList:f},()=>{var U=this.state.imgList,N=U===void 0?[]:U,X=[];N.length&&N.forEach(j=>{X=[...X,j.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,X.join(","))})},this.onChange=n=>{this.setState({value:[n.target.value]},()=>{(0,Je.Ds)(this.updateValue,500)()})},this.getQuestionStatus=()=>{var n=!1,f=this.props.question;return f.is_correct==="true"?n=!0:f.is_correct==="false"&&(n=f.answer.join("").length===0?"noAnswer":!1),n},this.updateValue=()=>{var n=this.state.imgList,f=n===void 0?[]:n,U=[];f.length&&f.forEach(N=>{U=[...U,N.url]}),this.props.onUpdateValue(this.props.question.id,this.state.value,U.join(","))},this.handleMarkQuestionScore=n=>{this.setState({markedScore:n}),this.props.setQuestionScore(n,this.props.question.id)},this.state={value:this.props.question.answer,isCorrect:!1,markedScore:this.props.question.actualScore,imgList:[]}}componentDidMount(){var d=this.props.question.answer_image_path,n=d===void 0?"":d,f=n.length>0?n.split(","):[],U=[];f.forEach((N,X)=>{U=[...U,{uid:X,url:N}]}),this.setState({imgList:U}),this.props.displayResult&&this.setState({isCorrect:this.getQuestionStatus()}),this.props.displayMarkInput&&this.handleMarkQuestionScore(this.props.question.actualScore)}render(){var d=this.props,n=d.question,f=d.displayResult,U=d.displayAnalysisInput,N=d.displayMarkInput,X=d.displayQuestionScore,j=d.disabled,oe=j===void 0?!1:j,x=d.t,s=d.cut_screen_count,i=this.state,a=i.isCorrect,t=i.markedScore;return e().createElement("div",{className:f?"describe-question with-result question-one":"describe-question question-one",id:"question".concat(n.order_id)},e().createElement("h5",{className:"question-one_title"},e().createElement("span",{className:"question-one_index"},n.order_id,". "),e().createElement("span",{className:"question-one_type"},"\u3010",x("examing.describe"),"\u3011"),n.title,X?e().createElement("span",{className:"question-one_score"},"(",n.score,x("examing.scoreLabel"),")"):null),f&&!N?e().createElement("div",{className:"question-one_result"},e().createElement("span",{className:a===!0?"correct-icon":"error-icon"},e().createElement(_.Z,{iconClass:a===!0?"iconf-ok":"iconf-close",color:a===!0?"#516AE6":"#d64f4f"})),e().createElement("span",{className:"got-score"},x("myExamTask.score"),"\uFF1A",n.actual_score,x("examing.scoreLabel"))):null,N?e().createElement("div",{className:"question-one_mark"},e().createElement(Pe.Z.Item,{label:x("examing.getScore"),labelCol:{span:8},wrapperCol:{span:14},validateStatus:t>n.score?"error":"",help:t>n.score?x("examing.markScoreTip"):""},e().createElement(fe.Z,{value:t,precision:1,min:0,max:n.score,className:"question-one_mark-input",onChange:this.handleMarkQuestionScore}))):null,n.title_images.length>0?e().createElement(P,{imageList:n.title_images}):null,e().createElement("div",{className:"question-one_option-container"},N?e().createElement("div",{className:"describe-question-answer"},this.state.value.join(",")):e().createElement(Xe,{disabled:oe,rows:4,placeholder:x("examing.textareaTip"),autoSize:!0,onChange:this.onChange,maxLength:1500,onPaste:o=>(o.preventDefault(),!1),onContextMenu:o=>(o.preventDefault(),!1),defaultValue:this.state.value.join(",")})),f?null:e().createElement(D,{mode:"collapse",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),s>=0?null:e().createElement(e().Fragment,null,U||N?e().createElement(Ze,{question:n}):"",n.answer_image&&!U&&n.answer_image&&!N?e().createElement(de,{uploadConfig:{maxCount:9},fileList:this.state.imgList,onUploadedListChange:this.onUpLoadChange,addTitle:x("learning.uploadPictureContent")}):null))}}var tt=(0,u.Z)()(st);class at extends e().PureComponent{render(){var d=this.props,n=d.question,f=d.t;return e().createElement("div",{className:"question-analysis_analysis"},n.analysis&&n.analysis.length>0?e().createElement("div",{className:"analysis-container"},e().createElement("h5",null,f("examing.parse"),"\uFF1A"),e().createElement("p",null,n.analysis)):null,n.analysis_images&&n.analysis_images.length>0?e().createElement(P,{imageList:n.analysis_images}):null)}}at.defaultProps={question:{}};var ze=(0,u.Z)()(at);class et extends e().PureComponent{constructor(d){super(d);this.state={isCorrect:""}}componentDidMount(){var d=this.props.question,n=d.is_correct,f=d.answer;n==="true"?this.setState({isCorrect:!0}):f.join("").length>0?this.setState({isCorrect:!1}):this.setState({isCorrect:"noAnswer"})}render(){var d=this.props,n=d.question,f=d.t,U=d.isShowAnalysis,N=[];return n.options.forEach(X=>{n.correct_answer.findIndex(j=>X.id===j)!==-1&&N.push(X.option_order)}),e().createElement("div",{className:"question-analysis select-analysis"},e().createElement("div",{className:"question-analysis_tip"},this.state.isCorrect===!0?e().createElement("span",{className:"correct-tip",style:{color:"#516ae6"}},f("examing.correctTip")):null,this.state.isCorrect===!1?e().createElement("span",{className:"error-tip"},f("examing.errorTip")):null,this.state.isCorrect==="noAnswer"?e().createElement("span",{className:"error-tip"},f("examing.noAnswer")):null,n.is_correct!=="true"&&U?e().createElement("span",{className:"correct-answer"},f("examing.correctIs"),"\uFF1A",N.join(",")):null),U?e().createElement(ze,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}et.defaultProps={question:{},isShowAnalysis:!0};var ke=(0,u.Z)()(et);class rt extends e().PureComponent{render(){var d=this.props,n=d.question,f=d.t,U=d.isShowAnalysis,N=[];return n.options.forEach(X=>{n.correct_answer.findIndex(j=>X.id===j)!==-1&&N.push(X.title.split("|"))}),e().createElement("div",{className:"question-analysis blank-analysis"},U?e().createElement("div",{className:"question-analysis_blank-answer"},e().createElement("p",{className:"blank-answer-label"},f("examing.referAnswer")),e().createElement("div",{className:"blank-answer-list"},N.map((X,j)=>e().createElement("div",{key:j,className:"blank-answer-list-item"},e().createElement("span",{className:"blank-answer-list-item_index"},"(",j+1,")"),X.map((oe,x)=>e().createElement("span",{className:"blank-answer-list-item_answer",key:x},"\u3010",oe,"\u3011")))))):null,U?e().createElement(ze,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}))}}rt.defaultProps={question:{},isShowAnalysis:!0};var $e=(0,u.Z)()(rt);class He extends e().PureComponent{render(){var d=this.props,n=d.question,f=d.showComment,U=d.t,N=d.isShowAnalysis,X=[];return n.options.forEach(j=>{n.correct_answer.findIndex(oe=>j.id===oe)!==-1&&X.push(j.title.split("|"))}),e().createElement("div",{className:"question-analysis describe-analysis"},N?e().createElement("div",{className:"question-analysis_describe-answer"},e().createElement("p",{className:"describe-answer-label"},U("examing.keywordReference")),e().createElement("div",{className:"describe-answer-list"},X.map((j,oe)=>e().createElement("div",{key:oe,className:"describe-answer-list-item"},e().createElement("span",{className:"describe-answer-list-item_index"},"(",oe+1,")"),j.map((x,s)=>e().createElement("span",{className:"describe-answer-list-item_answer",key:s},"\u3010",x,"\u3011")))))):null,N?e().createElement(ze,{question:n}):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),f&&N?e().createElement("div",{className:"describe-answer-comment"},e().createElement("div",{className:"describe-answer-comment-label"},U("examing.comments")),e().createElement("p",{className:"describe-answer-comment-content"},n.comment||U("examing.noComments"))):null)}}He.defaultProps={question:{},isShowAnalysis:!0};var nt=(0,u.Z)()(He),m=Ge.Z.TextArea;class W extends e().PureComponent{constructor(){super(...arguments);this.handleCommentChange=d=>{var n=d.target.value;this.props.changeComment(n,this.props.question.id)}}render(){var d=this.props,n=d.question,f=d.t;return e().createElement("div",{className:"question-mark_analysis"},e().createElement("div",{className:"question-mark_analysis-answer"},e().createElement("span",null,f("examing.referenceAnswer"),"\uFF1A"),n.correct_answer.map((U,N)=>e().createElement("div",{key:N},e().createElement("span",null,"".concat(n.type==="blank"?f("examing.blankLabel"):f("examing.shortAnswerLabel")).concat(N+1),"\uFF1A"),U))),n.analysis.length>0?e().createElement("div",{className:"analysis-container"},e().createElement("h5",null,f("examing.parse"),"\uFF1A"),e().createElement("p",null,n.analysis)):null,e().createElement(D,{mode:"plat",shouldRender:n.knowledge_points.length>0,points:n.knowledge_points}),n.analysis_images.length>0?e().createElement(P,{imageList:n.analysis_images}):null,n.type==="short_answer"?e().createElement(m,{className:"describe-comment-input",rows:4,maxLength:300,placeholder:f("examing.commentPlaceholder"),onChange:this.handleCommentChange}):null)}}W.defaultProps={question:{}};var me=(0,u.Z)()(W),ce=O()(k,ke),ye=O()(B,ke),Se=O()(T,ke),Ue=O()(Ye,$e),Oe=O()(tt,nt),je=h()(Ye,me),we=h()(tt,me);class Ie extends e().Component{constructor(){super(...arguments);this.renderQuestion=d=>{var n=this.props,f=n.withMarkInput,U=n.withAnalysis,N=n.showShortAnswerComment,X=N===void 0?!0:N,j=n.displayResult,oe=j===void 0?!0:j,x=n.displayQuestionScore,s=x===void 0?!0:x,i=n.examId,a=i===void 0?"":i,t=n.isShowAnalysis,o=n.cut_screen_count;if(U)switch(d.type){case"single":return e().createElement(ce,{displayResult:oe,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"tof":return e().createElement(Se,{displayResult:oe,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"multiple":return e().createElement(ye,{displayResult:oe,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"blank":return e().createElement(Ue,{displayResult:oe,displayAnalysisInput:!0,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});case"short_answer":return e().createElement(Oe,{displayResult:oe,displayAnalysisInput:!0,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,showComment:X,onUpdateValue:this.props.onUpdateValue,isShowAnalysis:t});default:return null}else if(f)switch(d.type){case"blank":return e().createElement(je,{displayResult:!0,displayMarkInput:!0,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,setQuestionScore:this.props.setQuestionScore,onUpdateValue:this.props.onUpdateValue});case"short_answer":return e().createElement(we,{displayResult:!0,displayMarkInput:!0,disabled:!0,displayQuestionScore:s,key:d.id+a,question:d,setQuestionScore:this.props.setQuestionScore,changeComment:this.props.changeComment,onUpdateValue:this.props.onUpdateValue});default:return null}else switch(d.type){case"single":return e().createElement(k,{key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"tof":return e().createElement(T,{key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"multiple":return e().createElement(B,{key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s});case"blank":return e().createElement(Ye,{key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s,cut_screen_count:o});case"short_answer":return e().createElement(tt,{key:d.id+a,question:d,onUpdateValue:this.props.onUpdateValue,displayQuestionScore:s,cut_screen_count:o});default:return null}}}render(){var d=this.props.questions;return e().createElement("div",{className:"question-list"},d.length>0?d.map(n=>this.renderQuestion(n)):null)}}Ie.defaultProps={withAnalysis:!1,withMarkInput:!1,questions:[]};var De=Ie},66711:function(Re,he,r){"use strict";r.r(he),r.d(he,{default:function(){return Pe}});var K=r(57663),e=r(71577),G=r(20228),O=r(11382),ae=r(71194),h=r(57016),R=r(34792),I=r(48086),u=r(88986),c=r(12924),g=r.n(c),P=r(28216),_=r(57068),V=r(91768),D=r(28495);class $ extends g().Component{render(){var H=this.props,F=H.t,ue=H.examInfo;return g().createElement("div",{className:"exam-top-info"},g().createElement("h2",{className:"exam-top-info_title"},ue.title),g().createElement("div",{className:"exam-top-info_subinfo"},g().createElement("span",{className:"subinfo-one"},g().createElement("label",null,F("examing.examTotalScore"),"\uFF1A"),ue.total_score),g().createElement("span",{className:"subinfo-one margin"},g().createElement("label",null,F("examing.passScore"),"\uFF1A"),ue.passing_score)),ue.summary?g().createElement("div",{className:"exam-top-info_summary"},F("examing.examDesc"),"\uFF1A",ue.summary):null)}}var ee=(0,V.Z)()($),k=r(25313),E=r(6793),C=r(99891);class T extends g().Component{constructor(H){super(H);this.onCancel=()=>{this.props.onCancel()},this.onSubmit=()=>{this.props.onSubmit()},this.handleResize=()=>{var F=document.body.clientWidth;F<1080?this.setState({width:"calc(100vw - 60px)"}):this.setState({width:"calc(100vw - 220px)"})},this.state={width:""}}componentDidMount(){this.handleResize(),window.addEventListener("resize",(0,E.Ds)(this.handleResize,100))}componentDidUpdate(H){this.props.collapsed!==H.collapsed&&(this.props.collapsed?this.setState({width:"calc(100vw - 60px)"}):this.setState({width:"calc(100vw - 220px)"}))}componentWillUnmount(){window.removeEventListener("resize",(0,E.Ds)(this.handleResize,100))}render(){var H=this.state.width,F=this.props,ue=F.isPersonal,w=F.cut_screen_count;return g().createElement("div",{className:"answer-exam"},g().createElement(ee,{examInfo:this.props.examInfo}),g().createElement(k.Z,{questions:this.props.questions,onUpdateValue:this.props.onUpdateValue,cut_screen_count:w}),g().createElement(C.Z,{scenes:"exam"}),g().createElement("div",{className:"answer-exam-operate-btn",style:{width:"".concat(ue?"100vw":H)}},g().createElement("div",{className:"".concat(ue?"answer-exam-operate-btn-personal":"answer-exam-operate-content")},g().createElement("div",{className:"answer-exam-operate-btn-cancel"},g().createElement(e.Z,{onClick:this.onCancel},this.props.cancelText)),g().createElement("div",{className:"answer-exam-operate-btn-submit"},g().createElement(e.Z,{type:"primary",onClick:this.onSubmit},this.props.submitText)))))}}var J=(0,P.$j)(Ee=>({collapsed:Ee.sideBar.collapsed}))(T),Z=r(38642),z=r(37055),Y=r(10237),B=r(11449),Q=[{label:"\u672A\u7B54",bgColor:"#d6d6d6",status:"noAnswer"},{label:"\u5DF2\u7B54",bgColor:"#516ae6",status:"answered"}];class fe extends g().Component{constructor(H){var F;super(H);F=this,this.onUpdateValue=function(w,q){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",ne=F.state.unAnswerCount,be=F.state,de=be.questionById,Ne=be.questionIndex;de[w].answer=q,le.length&&(de[w]=(0,u.Z)((0,u.Z)({},de[w]),{},{answer_image_path:le}));var Le;switch(de[w].type){case"single":Le=0;break;case"multiple":Le=1;break;case"tof":Le=2;break;case"blank":Le=3;break;case"short_answer":Le=4;break;default:break}var Ce=Ne[Le].list.find(Qe=>Qe.index===de[w].order_id);q.join("").length>0||le.length>0?(ne=Ce.status==="answered"?ne:ne-1,Ce.status="answered",Ce.bgColor=Q[1].bgColor):(ne=Ce.status==="answered"?ne+1:ne,Ce.status="noAnswer",Ce.bgColor=Q[0].bgColor),F.setState({questionById:de,questionIndex:Ne,unAnswerCount:ne});var Ze=z.ZP.MyExamTask.questionSave({examId:F.state.examId}),We={questions:[{id:w,answer:q,answer_image:le}]};Y.WY.post({url:Ze,data:We}).then(Qe=>{Qe.data.code===2&&F.showDeletedTip()})},this.onRequestFullScreen=()=>{var w=this.currentFullScreenInfos.entry;document.documentElement[w]()},this.onExitFullScreen=()=>{var w=this.currentFullScreenInfos.exit;document[w]()},this.onContinueExam=()=>{var w=this.state.screen_popup,q=this.currentFullScreenInfos.action;w&&document[q]?this.setState({screen_popup:!1}):this.onRequestFullScreen()},this.handleFullScreenChangeEvent=()=>{var w=this.currentFullScreenInfos.action,q=document[w];q===!0?this.setState({screen_popup:!1}):this.handleCutScreen()},this.handleKeyUpEvent=w=>{var q=w||window.event,le=this.currentFullScreenInfos.action,ne=document[le];!ne||(q&&(q.keyCode===27||q.keyCode===122)&&(q.preventDefault(),this.onExitFullScreen()),q&&(q.keyCode===27||q.ctrlKey&&q.metaKey&&q.keyCode===70)&&(q.preventDefault(),this.onExitFullScreen()))},this.handlePageVisibleEvent=()=>{var w=document[this.currentPageVisibleInfos.action],q=this.state.screen_popup;!w&&!q&&this.handleCutScreen()},this.handleCutScreen=()=>{var w=this.state,q=w.cut_screen_count,le=w.screen_num,ne=w.screenOverStatus,be=w.examId;if(!this.isSubmit&&!ne){if(le+1>=q){this.screenOver(),this.setState(de=>(0,u.Z)((0,u.Z)({},de),{},{screen_popup:!1,screen_num:de.screen_num+1}));return}this.setState(de=>(0,u.Z)((0,u.Z)({},de),{},{screen_popup:!0,screen_num:de.screen_num+1}),()=>{this.isSubmit||localStorage.setItem("exam_screen_".concat(be,"_").concat(localStorage.getItem("uid")),this.state.screen_num)})}},this.handleMouseOut=w=>{var q=this.props.t,le=this.state.screenTyping;if(w&&w.target.nodeName==="#document"&&!(le&&w.clientX<=window.screen.width)){var ne=this.state,be=ne.screen_popup,de=ne.cut_screen_count,Ne=ne.screenOverStatus;Ne||be||(this.bulrNum=setTimeout(()=>{this.setState(Le=>(0,u.Z)((0,u.Z)({},Le),{},{screen_popup:!0,screen_num:Le.screen_num+1}),()=>{localStorage.setItem("exam_screen_".concat(this.state.examId,"_").concat(localStorage.getItem("uid")),this.state.screen_num),this.state.screen_num>=de&&this.screenOver(),I.default.info(q("exam.screenMsgDesc"))})},2e3))}},this.handleMouseEnter=w=>{w&&w.target.nodeName==="#document"&&clearTimeout(this.bulrNum)},this.getQuestions=()=>{var w=this.props.t,q=z.ZP.MyExamTask.questions({examId:this.state.examId});Y.WY.get({url:q}).then(le=>{var ne=[{label:w("examing.single"),list:[]},{label:w("examing.multiple"),list:[]},{label:w("examing.tof"),list:[]},{label:w("examing.blank"),list:[]},{label:w("examing.describe"),list:[]}],be={},de=0;le.data.questions.forEach((Le,Ce)=>{be[Le.id]=Le;var Ze="",We="";switch(Le.answer.join("").length>0||Le.answer_image_path.length>0?(Ze="answered",We=Q[1].bgColor):(Ze="noAnswer",We=Q[0].bgColor,de+=1),Le.type){case"single":ne[0].list.push({index:Ce+1,status:Ze,bgColor:We});break;case"multiple":ne[1].list.push({index:Ce+1,status:Ze,bgColor:We});break;case"tof":ne[2].list.push({index:Ce+1,status:Ze,bgColor:We});break;case"blank":ne[3].list.push({index:Ce+1,status:Ze,bgColor:We});break;case"short_answer":ne[4].list.push({index:Ce+1,status:Ze,bgColor:We});break;default:break}});var Ne=this.state.examInfo;Ne.passing_score=le.data.passing_score,Ne.total_score=le.data.total_score,Ne.title=le.data.title,Ne.summary=le.data.summary,Ne.makeup_count=le.data.makeup_count,this.setState({questions:le.data.questions,remainTime:le.data.remaining_time,loadedQuestions:!0,questionIndex:ne,questionById:be,unAnswerCount:de,examInfo:Ne})})},this.showDeletedTip=()=>{var w=this.props.t;h.Z.warning({title:w("common.tip"),content:w("examing.examDeletedTip"),onOk:()=>{this.cancelExam()}})},this.handleCancel=()=>{var w=this.props.t;h.Z.confirm({title:w("common.tip"),content:w("examing.cancelExamTip"),cancelText:w("examing.continueAnswer"),okText:w("examing.cancel"),onOk:()=>{this.cancelExam()}})},this.handleSubmit=(0,E.E5)(()=>{this.submitExam()},500),this.submitExam=()=>{var w=this.props.t;this.state.unAnswerCount>0?h.Z.confirm({title:w("common.tip"),content:"".concat(w("examing.handOverTipBefore")).concat(this.state.unAnswerCount).concat(w("examing.handOverTipAfter")),cancelText:w("examing.continueAnswer"),okText:w("common.ok"),onOk:(0,E.E5)(()=>{this.handOver()},500)}):this.handOver()},this.cancelExam=()=>{var w=this.props,q=w.location,le=w.history,ne=_.parse(q.search),be=ne.pageFrom,de=be===void 0?"":be;if(this.isSubmit=!1,de==="myExamTask")(0,Z.eJ)({url:"/personal/profile?tab=myExamTask"});else if(de==="ding_myExamTask"){var Ne=this.props.user.enterpriseId,Le=(0,Z.lz)(Ne,"student"),Ce="".concat(Le,"/personal/profile?tab=myExamTask");window.location.replace(Ce)}else le.goBack()},this.handOver=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"manual",q=F.props.t,le=F.state,ne=le.examId,be=le.questionById,de=z.ZP.MyExamTask.examHandOver({examId:ne}),Ne={status:w},Le=[];for(var Ce in be)be.hasOwnProperty(Ce)&&Le.push({id:Ce,answer:F.state.questionById[Ce].answer,answer_image:F.state.questionById[Ce].answer_image_path});var Ze={questions:Le,makeup_count:F.state.examInfo.makeup_count};Y.WY.post({url:de,params:Ne,data:Ze}).then(We=>{if(We.data.code===2){F.showDeletedTip();return}if(F.isSubmit=!0,localStorage.removeItem("exam_screen_".concat(F.state.examId,"_").concat(localStorage.getItem("uid"))),w==="auto"||w==="screen")F.setState({autoOverVisible:!1},()=>{h.Z.warning({title:q("common.tip"),content:q(w==="screen"?"exam.screenOverMsg":"examing.timeOverHandTip"),onOk:()=>{w==="screen"&&F.setState({screenOverStatus:!1});var ze=F.props,et=ze.location,ke=ze.history,rt=_.parse(et.search),$e=rt.pageFrom,He=$e===void 0?"":$e;if(He==="myExamTask")(0,Z.eJ)({url:"/personal/profile?tab=myExamTask"});else if(He==="ding_myExamTask"){var nt=F.props.user.enterpriseId,m=(0,Z.lz)(nt,"student"),W="".concat(m,"/personal/profile?tab=myExamTask");window.location.replace(W)}else ke.goBack()}})});else{I.default.success(q("examing.handUpSuccess"));var Qe=F.props,Ye=Qe.location,ot=Qe.history,Ge=_.parse(Ye.search),Je=Ge.pageFrom,Xe=Je===void 0?"":Je;if(F.onExitFullScreen(),Xe==="myExamTask")(0,Z.eJ)({url:"/personal/profile?tab=myExamTask"});else if(Xe==="ding_myExamTask"){var st=F.props.user.enterpriseId,tt=(0,Z.lz)(st,"student"),at="".concat(tt,"/personal/profile?tab=myExamTask");window.location.replace(at)}else ot.goBack()}}).catch(()=>{F.isSubmit=!1,F.setState({autoOverVisible:!1})})},this.timeover=()=>{this.setState({autoOverVisible:!0},()=>{document.onkeydown=null,this.handOver("auto")})},this.screenOver=()=>{var w=this.state.screenOverStatus;w||this.setState({autoOverVisible:!0,screenOverStatus:!0},()=>{document.onkeydown=null,this.handOver("screen")})};var ue=H.t;this.state={autoOverVisible:"",examId:"",examInfo:{},questions:[],questionById:{},questionIndex:[{label:ue("examing.single"),list:[]},{label:ue("examing.multiple"),list:[]},{label:ue("examing.tof"),list:[]},{label:ue("examing.blank"),list:[]},{label:ue("examing.describe"),list:[]}],remainTime:0,unAnswerCount:0,loadedQuestions:!1,screen_num:0,screen_popup:!1,cut_screen_count:-1,bulrNum:null,screenOverStatus:!1,screenTyping:!1,blackList:{deleteCutScreenCount:(0,Z.eY)("DELETE_CUTSCREEN_COUNT")}},Q[0].label=ue("examing.noHaveAnswer"),Q[1].label=ue("examing.hasAnswered"),this.currentFullScreenInfos=null,this.currentPageVisibleInfos=null,this.isSubmit=!1}componentDidMount(){this.currentFullScreenInfos=(0,Z.vy)(),this.currentPageVisibleInfos=(0,Z.w8)();var H=_.parse(this.props.history.location.search),F=this.state.blackList;this.setState({examId:H.id,cut_screen_count:F.deleteCutScreenCount?Number(H.cut_screen_count):-1},()=>{this.getQuestions()}),F.deleteCutScreenCount&&Number(H.cut_screen_count)>=0&&this.setState({screen_popup:!0,screen_num:Number(localStorage.getItem("exam_screen_".concat(H.id,"_").concat(localStorage.getItem("uid"))))},()=>{document.addEventListener("keyup",this.handleKeyUpEvent,!1),document.addEventListener(this.currentFullScreenInfos.event,this.handleFullScreenChangeEvent,!1),document.addEventListener(this.currentPageVisibleInfos.event,this.handlePageVisibleEvent,!1),setTimeout(()=>{this.listenInput()},1e3)})}componentWillUnmount(){this.onExitFullScreen(),document.removeEventListener(this.currentFullScreenInfos.event,this.handleFullScreenChangeEvent,!1),document.removeEventListener(this.currentPageVisibleInfos.event,this.handlePageVisibleEvent,!1),document.removeEventListener("keyup",this.handleKeyUpEvent,!1)}listenInput(){for(var H=this,F=document.getElementsByTagName("input"),ue=0;ue<F.length;ue++)F[ue].onfocus=()=>{H.setState({screenTyping:!0})},F[ue].onblur=()=>{H.setState({screenTyping:!1})};for(var w=document.getElementsByTagName("textarea"),q=0;q<w.length;q++)w[q].onfocus=()=>{H.setState({screenTyping:!0})},w[q].onblur=()=>{H.setState({screenTyping:!1})}}render(){var H=this.props.t,F=this.state,ue=F.autoOverVisible,w=F.screen_popup,q=F.cut_screen_count,le=F.screen_num,ne=this.props.match.path;return g().createElement(g().Fragment,null,g().createElement(B.Z,{pageContainerParams:{header:{title:this.props.t("examing.examingLabel")}},isPersonal:ne.indexOf("personal")>-1,pageTitle:H("examing.examingLabel")},g().createElement("div",{className:"examing ".concat(ne.indexOf("personal")>-1?"examing_personal_css":""),onContextMenu:be=>(be.preventDefault(),!1)},g().createElement("div",{className:"examing-container"},g().createElement("div",{className:"examing-left ".concat(ne.indexOf("personal")>-1?"examing-left_personal_left_css":"")},this.state.loadedQuestions?g().createElement(D.Z,{questionIndex:this.state.questionIndex,filterArr:Q,questionListEleId:"examing-right",remainTime:this.state.remainTime,timeover:this.timeover,isExam:!0}):null),g().createElement("div",{className:"examing-right-wrapper"},g().createElement("div",{className:"examing-right-title"},H("exam.paperAddTitle")," ",q>=0?g().createElement("span",{className:"exam-screen-count"},H("exam.cutScreen"),le,g().createElement("span",{className:"exam-screen-count-all"},H("exam.totalCutScreen"),q)):""),g().createElement("div",{id:"examing-right",className:"examing-right"},g().createElement(J,{isPersonal:ne.indexOf("personal")>-1,examInfo:this.state.examInfo,questions:this.state.questions,onUpdateValue:this.onUpdateValue,onCancel:this.handleCancel,onSubmit:this.handleSubmit,submitText:H("examing.submit"),cancelText:H("examing.cancel"),cut_screen_count:q}))))),g().createElement(h.Z,{visible:ue,footer:null,wrapClassName:"examing-auto-over-modal",closable:!1,centered:!0},g().createElement(O.Z,{className:"examing-auto-over-spin"})),g().createElement(h.Z,{visible:w,footer:null,closable:!1,wrapClassName:"screen-desc-modal",centered:!0},q>=0&&le===0&&g().createElement(g().Fragment,null,g().createElement("p",null,H("exam.hasOpenedCutScreen"),"\uFF0C",g().createElement("span",{className:"modal-p-desc"},H("exam.cutScreenOperationTip")),",",H("exam.doNotCutScreen"),"\uFF01\uFF01\uFF01")),q>=0&&le>0&&g().createElement(g().Fragment,null,g().createElement("p",null,(0,E.ZT)("".concat(H("exam.cutScreenTimesTip")),le),"\uFF0C",g().createElement("span",{className:"modal-p-desc"},H("exam.cutScreenOperationTip")),",",H("exam.doNotCutScreen"),"\uFF01\uFF01\uFF01")),g().createElement("div",{className:"footer_container"},q>=0&&g().createElement(e.Z,{type:"primary",onClick:this.onContinueExam},le===0&&H("exam.fullScreenExam"),le>0&&H("lecturerPage.know"))))))}}var Pe=(0,P.$j)(Ee=>({user:Ee.user}))((0,V.Z)()(fe))},9849:function(Re,he,r){"use strict";r.d(he,{Ej:function(){return ae},kL:function(){return h},T:function(){return R},NU:function(){return I},FL:function(){return u},fn:function(){return c},bm:function(){return g},jY:function(){return P},Vs:function(){return _},li:function(){return V},Nl:function(){return D},YF:function(){return $},Q6:function(){return ee},zW:function(){return k},Zv:function(){return E},Qg:function(){return C},qc:function(){return T},Ve:function(){return Z},rS:function(){return z},Rh:function(){return Y}});var K=r(10237),e=r(37055),G=r(38642),O={zaraFlag:(0,G.UI)("ZARA_H5")};function ae(B,Q){var fe=e.ZP.StudyProjectList.startStudy(B);return K.WY.post({url:fe,data:Q})}function h(B){var Q=e.ZP.Common.enroll(B);return K.WY.post({url:Q})}function R(B,Q){var fe=B.courseId,Pe=e.ZP.StudyProjectList.studyProject(fe);return K.WY.get({url:Pe,params:Q})}function I(B){var Q=B.id,fe=O.zaraFlag?e.m1.getAssessmentProjectInfo(Q):e.m1.getProjectInfo(Q);return K.WY.get({url:fe})}function u(B){var Q=B.courseId,fe=e.ZP.EnterpriseCourse.addScanCount(Q);return K.WY.post({url:fe})}function c(){var B=e.ZP.StudyProjectList.getAccountInfo();return K.WY.get({url:B})}function g(B){var Q=e.ZP.StudyProjectList.projectCertiUrl(B);return K.WY.get({url:Q})}function P(B){var Q=B.courseId,fe=e.ZP.Courses.like(Q);return K.WY.post({url:fe})}function _(B){var Q=e.ZP.EnterpriseCourse.addCommentAndScore();return K.qg.post({url:Q,data:B})}function V(B){var Q=e.ZP.EnterpriseCourse.getCourseComments();return K.WY.get({url:Q,params:B})}function D(B){var Q=e.ZP.EnterpriseCourse.addCommentAndScore();return K.qg.post({url:Q,data:B})}function $(B){var Q=e.ZP.EnterpriseCourse.deleteComment();return K.qg.post({url:Q,data:B})}function ee(B,Q){var fe=e.ZP.StudyProjectList.projectStudyRecord(B);return K.WY.get({url:fe,params:Q})}function k(B){var Q=e.ZP.DingSpaceId.getSpaceId();return K.WY.get({url:Q,params:B})}function E(B,Q){var fe=e.ZP.PlatformCourse.learningUrl(B);return K.WY.get({url:fe,params:Q})}function C(B){var Q=e.ZP.MyExamTask.examIntro({examId:B});return K.WY.get({url:Q})}function T(B){var Q=e.ZP.MyExamTask.examCheckStatus({examId:B});return K.WY.get({url:Q})}function J(B,Q){var fe=CONFIG.Common.getOperateLog(B);return formDataRequest.get({url:fe,params:Q})}function Z(B,Q){var fe=O.zaraFlag?e.ZP.StudyProjectList.changeCustomStatus(B):e.ZP.StudyProjectList.changeStatus(B);return K.WY.post({url:fe,data:Q})}function z(B){var Q=e.ZP.StudyProjectList.getProjectReward(B);return K.WY.get({url:Q})}function Y(B){var Q=e.ZP.subsidyGz.subsidyCourseSetting(B);return K.WY.get({url:Q})}},91648:function(Re,he,r){"use strict";r.d(he,{Z:function(){return K}});function K(e,G){var O,ae,h,R,O;if(ae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),O=[],h=void 0,G=G||ae.length,e)for(h=0;h<e;)O[h]=ae[0|Math.random()*G],h++;else for(R=void 0,O[8]=O[13]=O[18]=O[23]="-",O[14]="4",h=0;h<36;)O[h]||(R=0|Math.random()*16,O[h]=ae[h===19?R&3|8:R]),h++;return O.join("")}},69164:function(Re,he,r){"use strict";var K=r(34792),e=r(48086);function G(O){O&&O.length>0&&e.default.success(O)}he.Z=G},4412:function(Re){Re.exports="data:image/png;base64,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"}}]);
